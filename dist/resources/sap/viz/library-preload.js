//@ui5-bundle sap/viz/library-preload.js
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/library", ["sap/base/i18n/Localization","sap/ui/Device","sap/ui/core/Core","sap/ui/core/Lib","sap/ui/core/Theming","sap/ui/core/theming/Parameters","sap/base/Log","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/viz/libs/CssPlugin","sap/ui/core/date/UI5Date","sap/viz/ui5/format/ChartFormatter","sap/viz/ui5/api/env/Format","sap/ui/core/library","sap/ui/thirdparty/d3","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable","sap/viz/libs/canvg","sap/viz/libs/rgbcolor","sap/viz/libs/sap-viz-info-framework","sap/viz/libs/sap-viz-info-charts","sap/viz/resources/chart/templates/standard_fiori/template","sap/viz/ui5/controls/libs/sap-viz-vizframe/sap-viz-vizframe","sap/viz/ui5/controls/libs/sap-viz-vizservices/sap-viz-vizservices","sap/ui/thirdparty/require"],function(i,a,e,t,s,r,p,o,jQuery,n,l){"use strict";const u=t.init({name:"sap.viz",dependencies:["sap.ui.core"],types:["sap.viz.ui5.types.Area_drawingEffect","sap.viz.ui5.types.Area_marker_shape","sap.viz.ui5.types.Area_mode","sap.viz.ui5.types.Area_orientation","sap.viz.ui5.types.Axis_gridline_type","sap.viz.ui5.types.Axis_label_unitFormatType","sap.viz.ui5.types.Axis_position","sap.viz.ui5.types.Axis_type","sap.viz.ui5.types.Background_direction","sap.viz.ui5.types.Background_drawingEffect","sap.viz.ui5.types.Bar_drawingEffect","sap.viz.ui5.types.Bar_orientation","sap.viz.ui5.types.Bubble_drawingEffect","sap.viz.ui5.types.Bullet_drawingEffect","sap.viz.ui5.types.Bullet_orientation","sap.viz.ui5.types.Combination_drawingEffect","sap.viz.ui5.types.Combination_orientation","sap.viz.ui5.types.Datalabel_orientation","sap.viz.ui5.types.Datalabel_outsidePosition","sap.viz.ui5.types.Datalabel_paintingMode","sap.viz.ui5.types.Datalabel_position","sap.viz.ui5.types.Legend_layout_position","sap.viz.ui5.types.Line_drawingEffect","sap.viz.ui5.types.Line_marker_shape","sap.viz.ui5.types.Line_orientation","sap.viz.ui5.types.Pie_drawingEffect","sap.viz.ui5.types.Pie_valign","sap.viz.ui5.types.Scatter_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_mode","sap.viz.ui5.types.StackedVerticalBar_orientation","sap.viz.ui5.types.Title_alignment","sap.viz.ui5.types.Tooltip_drawingEffect","sap.viz.ui5.types.VerticalBar_drawingEffect","sap.viz.ui5.types.VerticalBar_orientation","sap.viz.ui5.types.controller.Interaction_pan_orientation","sap.viz.ui5.types.controller.Interaction_selectability_mode","sap.viz.ui5.types.legend.Common_alignment","sap.viz.ui5.types.legend.Common_drawingEffect","sap.viz.ui5.types.legend.Common_position","sap.viz.ui5.types.legend.Common_type"],interfaces:[],controls:["sap.viz.ui5.controls.chartpopover.ChartPopover","sap.viz.ui5.controls.chartpopover.ContentPanel","sap.viz.ui5.controls.chartpopover.HeaderBar","sap.viz.ui5.controls.chartpopover.ShapeMarker","sap.viz.ui5.controls.chartpopover.SubActionItemsPage","sap.viz.ui5.controls.charttooltip.ContentPanel","sap.viz.ui5.controls.charttooltip.TooltipContainer","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.controls.Popover","sap.viz.ui5.controls.VizFrame","sap.viz.ui5.controls.VizRangeSlider","sap.viz.ui5.controls.VizSlider","sap.viz.ui5.controls.VizSliderBasic","sap.viz.ui5.controls.VizTooltip","sap.viz.ui5.core.BaseChart","sap.viz.ui5.VizContainer","sap.viz.ui5.Area","sap.viz.ui5.Area100","sap.viz.ui5.Bar","sap.viz.ui5.Bubble","sap.viz.ui5.Bullet","sap.viz.ui5.Column","sap.viz.ui5.Combination","sap.viz.ui5.Donut","sap.viz.ui5.DualBar","sap.viz.ui5.DualColumn","sap.viz.ui5.DualCombination","sap.viz.ui5.DualLine","sap.viz.ui5.DualStackedColumn","sap.viz.ui5.DualStackedColumn100","sap.viz.ui5.Heatmap","sap.viz.ui5.HorizontalArea","sap.viz.ui5.HorizontalArea100","sap.viz.ui5.Line","sap.viz.ui5.Pie","sap.viz.ui5.Scatter","sap.viz.ui5.StackedColumn","sap.viz.ui5.StackedColumn100","sap.viz.ui5.TimeBubble","sap.viz.ui5.Treemap"],elements:["sap.viz.ui5.controls.common.feeds.AnalysisObject","sap.viz.ui5.controls.common.feeds.FeedItem","sap.viz.ui5.core.BaseStructuredType","sap.viz.ui5.data.Dataset","sap.viz.ui5.data.CustomDataset","sap.viz.ui5.data.DimensionDefinition","sap.viz.ui5.data.FlattenedDataset","sap.viz.ui5.data.MeasureDefinition","sap.viz.ui5.types.Area","sap.viz.ui5.types.Area_animation","sap.viz.ui5.types.Area_hoverline","sap.viz.ui5.types.Area_marker","sap.viz.ui5.types.Area_tooltip","sap.viz.ui5.types.Axis","sap.viz.ui5.types.Axis_axisTick","sap.viz.ui5.types.Axis_axisline","sap.viz.ui5.types.Axis_gridline","sap.viz.ui5.types.Axis_indicator","sap.viz.ui5.types.Axis_label","sap.viz.ui5.types.Axis_layoutInfo","sap.viz.ui5.types.Axis_scale","sap.viz.ui5.types.Axis_title","sap.viz.ui5.types.Background","sap.viz.ui5.types.Background_border","sap.viz.ui5.types.Background_border_bottom","sap.viz.ui5.types.Background_border_left","sap.viz.ui5.types.Background_border_right","sap.viz.ui5.types.Background_border_top","sap.viz.ui5.types.Bar","sap.viz.ui5.types.Bar_animation","sap.viz.ui5.types.Bar_tooltip","sap.viz.ui5.types.Bubble","sap.viz.ui5.types.Bubble_animation","sap.viz.ui5.types.Bubble_axisTooltip","sap.viz.ui5.types.Bubble_hoverline","sap.viz.ui5.types.Bullet","sap.viz.ui5.types.Bullet_tooltip","sap.viz.ui5.types.Combination","sap.viz.ui5.types.Combination_animation","sap.viz.ui5.types.Combination_bar","sap.viz.ui5.types.Combination_dataShape","sap.viz.ui5.types.Combination_line","sap.viz.ui5.types.Combination_line_marker","sap.viz.ui5.types.Combination_tooltip","sap.viz.ui5.types.Datalabel","sap.viz.ui5.types.Datatransform","sap.viz.ui5.types.Datatransform_autoBinning","sap.viz.ui5.types.Datatransform_dataSampling","sap.viz.ui5.types.Datatransform_dataSampling_grid","sap.viz.ui5.types.Heatmap","sap.viz.ui5.types.Heatmap_animation","sap.viz.ui5.types.Heatmap_border","sap.viz.ui5.types.Heatmap_tooltip","sap.viz.ui5.types.Legend","sap.viz.ui5.types.Legend_layout","sap.viz.ui5.types.Line","sap.viz.ui5.types.Line_animation","sap.viz.ui5.types.Line_hoverline","sap.viz.ui5.types.Line_marker","sap.viz.ui5.types.Line_tooltip","sap.viz.ui5.types.Pie","sap.viz.ui5.types.Pie_animation","sap.viz.ui5.types.Pie_tooltip","sap.viz.ui5.types.RootContainer","sap.viz.ui5.types.RootContainer_layout","sap.viz.ui5.types.Scatter","sap.viz.ui5.types.Scatter_animation","sap.viz.ui5.types.Scatter_axisTooltip","sap.viz.ui5.types.Scatter_hoverline","sap.viz.ui5.types.StackedVerticalBar","sap.viz.ui5.types.StackedVerticalBar_animation","sap.viz.ui5.types.StackedVerticalBar_tooltip","sap.viz.ui5.types.Title","sap.viz.ui5.types.Title_layout","sap.viz.ui5.types.Tooltip","sap.viz.ui5.types.Tooltip_background","sap.viz.ui5.types.Tooltip_bodyDimensionLabel","sap.viz.ui5.types.Tooltip_bodyDimensionValue","sap.viz.ui5.types.Tooltip_bodyMeasureLabel","sap.viz.ui5.types.Tooltip_bodyMeasureValue","sap.viz.ui5.types.Tooltip_closeButton","sap.viz.ui5.types.Tooltip_footerLabel","sap.viz.ui5.types.Tooltip_separationLine","sap.viz.ui5.types.Treemap","sap.viz.ui5.types.Treemap_animation","sap.viz.ui5.types.Treemap_border","sap.viz.ui5.types.Treemap_tooltip","sap.viz.ui5.types.VerticalBar","sap.viz.ui5.types.VerticalBar_animation","sap.viz.ui5.types.VerticalBar_tooltip","sap.viz.ui5.types.XYContainer","sap.viz.ui5.types.controller.Interaction","sap.viz.ui5.types.controller.Interaction_pan","sap.viz.ui5.types.controller.Interaction_selectability","sap.viz.ui5.types.layout.Dock","sap.viz.ui5.types.layout.Stack","sap.viz.ui5.types.legend.Common","sap.viz.ui5.types.legend.Common_title"],version:"1.120.3"});u.ui5.types.Area_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Area_marker_shape={circle:"circle",diamond:"diamond",triangleUp:"triangleUp",triangleDown:"triangleDown",triangleLeft:"triangleLeft",triangleRight:"triangleRight",cross:"cross",intersection:"intersection"};u.ui5.types.Area_mode={comparison:"comparison",percentage:"percentage"};u.ui5.types.Area_orientation={vertical:"vertical",horizontal:"horizontal"};u.ui5.types.Axis_gridline_type={line:"line",dotted:"dotted",incised:"incised"};u.ui5.types.Axis_label_unitFormatType={MetricUnits:"MetricUnits",FinancialUnits:"FinancialUnits"};u.ui5.types.Axis_position={left:"left",right:"right",top:"top",bottom:"bottom"};u.ui5.types.Axis_type={value:"value",category:"category",timeValue:"timeValue"};u.ui5.types.Background_direction={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Background_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Bar_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Bar_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Bubble_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Bullet_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Bullet_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Combination_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Combination_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Datalabel_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Datalabel_outsidePosition={up:"up",down:"down",left:"left",right:"right"};u.ui5.types.Datalabel_paintingMode={rectCoordinate:"rectCoordinate",polarCoordinate:"polarCoordinate"};u.ui5.types.Datalabel_position={inside:"inside",outside:"outside"};u.ui5.types.Legend_layout_position={top:"top",bottom:"bottom",right:"right",left:"left"};u.ui5.types.Line_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Line_marker_shape={circle:"circle",diamond:"diamond",triangleUp:"triangleUp",triangleDown:"triangleDown",triangleLeft:"triangleLeft",triangleRight:"triangleRight",cross:"cross",intersection:"intersection"};u.ui5.types.Line_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Pie_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.Pie_valign={top:"top",center:"center"};u.ui5.types.Scatter_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.StackedVerticalBar_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.StackedVerticalBar_mode={comparison:"comparison",percentage:"percentage"};u.ui5.types.StackedVerticalBar_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.Title_alignment={left:"left",center:"center",right:"right"};u.ui5.types.Tooltip_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.VerticalBar_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.VerticalBar_orientation={horizontal:"horizontal",vertical:"vertical"};u.ui5.types.controller.Interaction_pan_orientation={horizontal:"horizontal",vertical:"vertical",both:"both"};u.ui5.types.controller.Interaction_selectability_mode={exclusive:"exclusive",inclusive:"inclusive",single:"single",multiple:"multiple",none:"none"};u.ui5.types.legend.Common_alignment={start:"start",middle:"middle",end:"end"};u.ui5.types.legend.Common_drawingEffect={normal:"normal",glossy:"glossy"};u.ui5.types.legend.Common_position={top:"top",bottom:"bottom",right:"right",left:"left"};u.ui5.types.legend.Common_type={ColorLegend:"ColorLegend",BubbleColorLegend:"BubbleColorLegend",SizeLegend:"SizeLegend",MeasureBasedColoringLegend:"MeasureBasedColoringLegend"};u.__svg_support=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;if(window.define){window.define("css",new n)}(function(){var i={"sap.viz.core.BaseChart":"sap.viz.ui5.core.BaseChart","sap.viz.core.BaseStructuredType":"sap.viz.ui5.core.BaseStructuredType","sap.viz.core.Dataset":"sap.viz.ui5.data.Dataset","sap.viz.core.DimensionDefinition":"sap.viz.ui5.data.DimensionDefinition","sap.viz.core.FlattenedDataset":"sap.viz.ui5.data.FlattenedDataset","sap.viz.core.MeasureDefinition":"sap.viz.ui5.data.MeasureDefinition","sap.viz.Bar":"sap.viz.ui5.Bar","sap.viz.Bubble":"sap.viz.ui5.Bubble","sap.viz.VerticalBar":"sap.viz.ui5.Column","sap.viz.Combination":"sap.viz.ui5.Combination","sap.viz.Donut":"sap.viz.ui5.Donut","sap.viz.Line":"sap.viz.ui5.Line","sap.viz.Pie":"sap.viz.ui5.Pie","sap.viz.Scatter":"sap.viz.ui5.Scatter","sap.viz.StackedVerticalBar":"sap.viz.ui5.StackedColumn","sap.viz.PercentageStackedVerticalBar":"sap.viz.ui5.StackedColumn100"};jQuery.each(i,function(i,a){o.set(i,function(){p.warning("[Deprecated] chart '"+i+"' has been deprecated for several releases and will be removed soon. Use '"+a+"' instead.");var e=o.get(a||"");var t=Object.create(e.prototype||null);return e.apply(t,arguments)||t});o.set(i+".extend",function(){p.warning("[Deprecated] chart '"+i+"' has been deprecated for several releases and will be removed soon. Use '"+a+"' instead.");return o.get(a||"").extend.apply(this,arguments)});o.set(i+".getMetadata",function(){p.warning("[Deprecated] chart '"+i+"' has been deprecated for several releases and will be removed soon. Use '"+a+"' instead.");return o.get(a||"").getMetadata.apply(this,arguments)})});var a=e.getLoadedLibraries()["sap.viz"];if(a&&a.types){a.types.forEach(function(i){if(i.indexOf("sap.viz.ui5.types.")===0){o.set("sap.viz.types."+i.slice("sap.viz.ui5.types.".length),o.get(i||""))}})}})();var v=false;var c={status:"unloaded"};u._initializeVIZ=function(){if(!u.__svg_support){return}if(v){return}u._initializeENV(true);v=true};u._initializeVIZControls=function(i,a){if(!u.__svg_support){a(false)}if(c.status==="unloaded"){c.callbacks=[a];c.status="loading";u._initializeENV(!v,i?"container":"controls",function(){c.status="loaded";if(c&&c.callbacks){for(var i=0;i<c.callbacks.length;i++){c.callbacks[i](true)}delete c.callbacks}});v=true}else if(c.status==="loading"){c.callbacks.push(a)}else if(c.status==="loaded"){a(true)}};u._initializeENV=function(i,e,t){var r=sap.viz.api.env.Resource.path("sap.viz.api.env.Language.loadPaths")||[];if(i){r=[];r.push(sap.ui.require.toUrl("sap/viz/resources/chart/langs")+"/");r.push(sap.ui.require.toUrl("sap/viz/resources/framework/langs")+"/")}if(e==="container"){r.push(sap.ui.require.toUrl("sap/viz/ui5/container/libs/locale")+"/")}else if(e==="controls"){r.push(sap.ui.require.toUrl("sap/viz/ui5/controls/libs/sap-viz-vizframe/resources/locale")+"/")}var o="auto";if(a.system.desktop===true){o="off"}else if(a.system.desktop===false){o="on"}sap.viz.api.env.globalSettings({treatAsMobile:o});sap.viz.api.env.globalSettings({UI5Date:l});if(r.length>0){if(e){sap.viz.api.env.Format.useDefaultFormatter(true);sap.viz.api.env.globalSettings({useLatestFormatPrefix:true})}sap.viz.api.env.Resource.path("sap.viz.api.env.Language.loadPaths",r);p.info("VIZ: load path for lang manager set to "+r);if(e){if(e==="container"){var n=sap.viz.controls.common.config.GlobalConfig;n.defaultAssetsRoot(sap.ui.require.toUrl("sap/viz/ui5/container/libs")+"/")}}if(e){sap.viz.api.env.Resource.path("sap.viz.api.env.Template.loadPaths",[sap.ui.require.toUrl("sap/viz/resources/chart/templates")+"/"]);s.attachApplied(function(i){u._applyTheme()});u._applyTheme()}u._applyLocale(t)}};u._applyTheme=function(){u._changeTemplate("standard_fiori");var i=["sapUiChartPaletteQualitativeHue1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11","sapUiChartPaletteQualitativeHue12","sapUiChartPaletteQualitativeHue13","sapUiChartPaletteQualitativeHue14","sapUiChartPaletteQualitativeHue15","sapUiChartPaletteQualitativeHue16","sapUiChartPaletteQualitativeHue17","sapUiChartPaletteQualitativeHue18","sapUiChartPaletteQualitativeHue19","sapUiChartPaletteQualitativeHue20","sapUiChartPaletteQualitativeHue21","sapUiChartPaletteQualitativeHue22","sapUiChartPaletteSemanticBadLight3","sapUiChartPaletteSemanticBadLight2","sapUiChartPaletteSemanticBadLight1","sapUiChartPaletteSemanticBad","sapUiChartPaletteSemanticBadDark1","sapUiChartPaletteSemanticBadDark2","sapUiChartPaletteSemanticCriticalLight3","sapUiChartPaletteSemanticCriticalLight2","sapUiChartPaletteSemanticCriticalLight1","sapUiChartPaletteSemanticCritical","sapUiChartPaletteSemanticCriticalDark1","sapUiChartPaletteSemanticCriticalDark2","sapUiChartPaletteSemanticGoodLight3","sapUiChartPaletteSemanticGoodLight2","sapUiChartPaletteSemanticGoodLight1","sapUiChartPaletteSemanticGood","sapUiChartPaletteSemanticGoodDark1","sapUiChartPaletteSemanticGoodDark2","sapUiChartPaletteSemanticNeutralLight3","sapUiChartPaletteSemanticNeutralLight2","sapUiChartPaletteSemanticNeutralLight1","sapUiChartPaletteSemanticNeutral","sapUiChartPaletteSemanticNeutralDark1","sapUiChartPaletteSemanticNeutralDark2","sapUiChartPaletteNoSemDiv1Dark2","sapUiChartPaletteNoSemDiv1Dark1","sapUiChartPaletteNoSemDiv1","sapUiChartPaletteNoSemDiv1Light1","sapUiChartPaletteNoSemDiv1Light2","sapUiChartPaletteNoSemDiv1Light3","sapUiChartPaletteSequentialHue1Light3","sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue1Dark1","sapUiChartPaletteSequentialHue1Dark2","sapUiChartPaletteSequentialHue2Light3","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue2Light1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue2Dark1","sapUiChartPaletteSequentialHue2Dark2","sapUiChartPaletteSequentialHue3Light3","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialHue3Light1","sapUiChartPaletteSequentialHue3","sapUiChartPaletteSequentialHue3Dark1","sapUiChartPaletteSequentialHue3Dark2","sapUiChartPaletteSequentialHue6Light3","sapUiChartPaletteSequentialHue6Light2","sapUiChartPaletteSequentialHue6Light1","sapUiChartPaletteSequentialHue6","sapUiChartPaletteSequentialHue6Dark1","sapUiChartPaletteSequentialHue6Dark2","sapUiChartPaletteSequentialNeutralLight3","sapUiChartPaletteSequentialNeutralLight2","sapUiChartPaletteSequentialNeutralLight1","sapUiChartPaletteSequentialNeutral","sapUiChartPaletteSequentialNeutralDark1","sapUiChartPaletteSequentialNeutralDark2","sapUiChoroplethRegionBG","sapUiChartZeroAxisColor","sapUiNegativeElement","sapUiCriticalElement","sapUiPositiveElement","sapUiNeutralElement"];var a=r.get({name:i,callback:function(){}});sap.viz.api.env.globalSettings({colorMapping:a})};u._changeTemplate=function(i){if(sap.viz.api.env.Template.get()!==i){sap.viz.api.env.Template.set(i)}};u._applyLocale=function(a){var e=i.getLanguageTag();var t=e.language;if(t==="zh"){t=i.getSAPLogonLanguage()==="ZH"?"zh_CN":"zh_TW"}sap.viz.api.env.Locale.set(t,function(){if(a){a()}});p.info("VIZ: env initialized (locale="+i.getLanguage()+")")};return u});
sap.ui.predefine("sap/viz/libs/CssPlugin", [],function(){function e(e,t){this._resourceLoaderFunction=e;this._log=t}var t=function(){return document.head||document.getElementsByTagName("head")[0]||document.documentElement};var r=function(e){if(/^http[s]?:\/\//.test(e)){return e}else{var t=document.createElement("a");t.href=e;return t.href}};var n=function(e,t,r){var n=t.lastIndexOf("/");var o=t.substring(0,n+1);var i=/url ?\((\"|\')?([a-zA-Z0-9\.\/\-\_]*)(\"|\')?\)/gm;var s=r.replace(i,function(t,r,n,i,s,u){if(n&&n.length>0){e("Converting "+n+" to "+(o+n));return"url("+o+n+")"}});return s};e.prototype.normalize=function(e,t){if(!/\.css$/.test(e)){e=e+".css"}return t(e)};e.prototype.load=function(e,o,i,s){var u=o.toUrl?o.toUrl(e):e;var l;if(this._resourceLoaderFunction){var a=this._resourceLoaderFunction(u);if(a){var c=r(u);a=n(this._log,c,a);a+="\n/*# sourceURL="+c+" */";this._log("CssPlugin.load() returning cached content for url: "+u);l=u;var d=window.URL||window.webkitURL;var h=new window.Blob([a],{type:"text/css"});u=d.createObjectURL(h)}else{this._log("CssPlugin.load() loading from network for url: "+u)}}var f=document.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=u;if(l){f.setAttribute("bundle_cache_src",l)}f.onload=function(e){i(this.sheet);this.onerror=this.onload=null};f.onerror=function(e){i.error(new Error("Failed to load "+this.href));this.onerror=this.onload=null};t().appendChild(f)};e.prototype.pluginBuilder="cssBuilder";return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/api/env/Format", function(){"use strict";var r={};r.numericFormatter=function(r){return sap.viz.api.env.Format.numericFormatter.apply(null,arguments)};return r},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/Popover", ["sap/ui/core/Element","sap/ui/layout/Grid","sap/ui/layout/form/SimpleForm","sap/viz/library","./common/BaseControl","./chartpopover/ChartPopover","sap/ui/thirdparty/jquery","./PopoverRenderer"],function(t,o,e,i,r,s,jQuery){"use strict";var n=r.extend("sap.viz.ui5.controls.Popover",{metadata:{library:"sap.viz",properties:{customDataControl:{type:"any",defaultValue:null},actionItems:{type:"object[]",defaultValue:null},formatString:{type:"any",defaultValue:null},showLine:{type:"boolean",defaultValue:true}}}});n.prototype.init=function(){r.prototype.init.apply(this,arguments);this._Popover=undefined;this._uid=undefined};n.prototype.exit=function(){r.prototype.exit.apply(this,arguments);var o=t.getElementById(this._uid);if(o){if(o._vizFrame){o._vizFrame.off("showTooltip");o._vizFrame.off("hideTooltip");var e=o._onConnectPopover()||{};if(e.ref===this){o._onConnectPopover(undefined)}}else{o._onConnectPopover(jQuery.proxy(function(t){if(!o._vizFrame){return}o._vizFrame.off("showTooltip");o._vizFrame.off("hideTooltip")},this))}}if(this._Popover){this._Popover.destroy()}this._Popover=undefined;this._uid=undefined};n.prototype.connect=function(o){this._uid=o;if(!this._Popover){this._createPopover()}var e=t.getElementById(this._uid);var i=e.getUiConfig();if(!i||i.applicationSet!=="fiori"){return}var r=this._Popover;function s(){if(!e._vizFrame){return}e._vizFrame.off("showInstantTooltip");e._vizFrame.off("hideInstantTooltip");e._vizFrame.on("showTooltip",function(t){if(t.data.target){r.setOptions(t.data).openBy(t.data.target)}});e._vizFrame.on("hideTooltip",function(){r.close()});r.setChartType(e._vizFrame.type());r._oPopover.setOffsetX(0);r._oPopover.setOffsetY(0)}s.ref=this;if(e._vizFrame){s()}e._onConnectPopover(s)};n.prototype.close=function(){if(this._Popover){this._Popover.close()}};n.prototype.setFormatString=function(t){this.setProperty("formatString",t);if(this._Popover){this._Popover.setFormatString(t)}else{this._createPopover()}return this};n.prototype.setCustomDataControl=function(t){this.setProperty("customDataControl",t);if(this._Popover){this._Popover.setCustomDataControl(t)}else{this._createPopover()}return this};n.prototype.setActionItems=function(t){this.setProperty("actionItems",t);if(this._Popover){this._Popover.setActionItems(t)}else{this._createPopover()}return this};n.prototype.setShowLine=function(t){this.setProperty("showLine",t);if(this._Popover){this._Popover.setShowLine(t)}else{this._createPopover()}return this};n.prototype._createPopover=function(){this._Popover=new s({actionItems:this.getActionItems(),customDataControl:this.getCustomDataControl(),formatString:this.getFormatString(),showLine:this.getShowLine()})};n.prototype.addStyleClass=function(){this._Popover.addStyleClass.apply(this._Popover,arguments)};n.prototype.removeStyleClass=function(){this._Popover.removeStyleClass.apply(this._Popover,arguments)};return n});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/PopoverRenderer", function(){"use strict";var e={apiVersion:2,render:function(e,n){e.openStart("div",n).openEnd().close("div")}};return e},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/ResponsiveLegend", [],function(){"use strict";var t=function(){throw new Error};t.createInstance=function(t){var e=Object.create(this.prototype||null);e._oLegendControl=t;return e};t.prototype._oLegendControl=undefined;t.prototype.show=function(){};t.prototype.hide=function(){};t.prototype.setOpenBy=function(t){};return t},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizFrame", ["sap/viz/library","sap/viz/ui5/data/Dataset","sap/ui/core/Theming","sap/ui/core/theming/Parameters","sap/viz/ui5/theming/Util","sap/viz/ui5/utils/CommonUtil","./ResponsiveLegend","./common/BaseControl","./common/feeds/AnalysisObject","./common/feeds/FeedItem","./common/feeds/FeedHelper","./common/helpers/RuntimeOptionsHelper","./common/helpers/DefaultPropertiesHelper","./common/utils/Constants","./common/utils/SelectionDetailUtil","sap/base/Log","sap/ui/Device","sap/ui/thirdparty/jquery","./WorkerCode","require","./VizFrameRenderer"],function(e,t,i,r,s,a,n,o,p,l,h,d,c,_,u,f,v,jQuery,g,m){"use strict";var z=sap.viz.vizservices.__internal__.BindingService;var y=sap.viz.vizservices.__internal__.PropertyService;for(var T=0;T<_.CORE_CHART_TYPES.length;T++){var F=_.CORE_CHART_TYPES[T];y.getPropertiesDef(F)}var C=o.extend("sap.viz.ui5.controls.VizFrame",{metadata:{library:"sap.viz",properties:{vizType:{type:"string",group:"Misc",defaultValue:"column"},vizProperties:{type:"object",group:"Misc",defaultValue:null},vizScales:{type:"object",group:"Misc",defaultValue:null},vizCustomizations:{type:"object",group:"Misc",defaultValue:null},legendVisible:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{dataset:{type:"sap.viz.ui5.data.Dataset",multiple:false},feeds:{type:"sap.viz.ui5.controls.common.feeds.FeedItem",multiple:true,singularName:"feed"}},events:{renderComplete:{},selectData:{},deselectData:{}}}});C.prototype.init=function(){o.prototype.init.apply(this,arguments);this._scopingChangedFun=C.prototype._scopingChangedFun.bind(this);this._wrapApi("setModel",function(){this._invalidateDataset=true}.bind(this));this._wrapApi("setDataset",function(){this._invalidateDataset=true}.bind(this));this._wrapApi("destroyDataset",function(){this._invalidateDataset=true}.bind(this));this._wrapApi("addFeed",function(){this._invalidateFeeds=true}.bind(this));this._wrapApi("removeFeed",function(){this._invalidateFeeds=true}.bind(this));this._wrapApi("destroyFeeds",function(){this._invalidateFeeds=true}.bind(this));this._vizFrame=null;this._currentTheme=null;this._connectPopover=null;this._currentTemplate=null;this._errorType=null;this._bulletProperties={plotArea:{}};this._waterfallProperties={plotArea:{}};this._bReadyToRender=true;this._scalesOption=null;this._bSupressInvisibleRender=false;this._bDisableIntervalSizeCheck=true;this._clearVariables();this._templateCache={};this._isInitThememChanged=false;this.data("sap-ui-fastnavgroup","true",true)};C.prototype.exit=function(){o.prototype.exit.apply(this,arguments);this._clearVariables();if(this._vizFrame){this._vizFrame.destroy()}this._vizFrame=null};C.prototype._getDataRange=function(e,t){return this._vizFrame&&this._vizFrame._getDataRange(e,t)||{displayValues:{start:e,end:t}}};C.prototype._setTitleAria=function(e){if(this._vizFrame$.length){this._vizFrame$.attr("aria-hidden",true);jQuery(this._app$).attr("aria-label",e)}};C.prototype._clearVariables=function(){this._clearRequestedProperties();this._bulletProperties={plotArea:{}};this._waterfallProperties={plotArea:{}};this._cachedDataset=null;this._connectPopover=null;this._templateCache=null;this._bSupressInvisibleRender=false;this._bDisableIntervalSizeCheck=true};C.prototype._clearRequestedProperties=function(){this.setProperty("vizProperties",null);this.setProperty("vizScales",null);this.setProperty("vizCustomizations",null);this._scalesOption=null};C.prototype.getVizUid=function(){return this.getId()};C.prototype.setUiConfig=function(e){o.prototype.setUiConfig.apply(this,arguments);return this};C.prototype.setVizType=function(e){var t=this._getCalculatedType();if(e!==this.getVizType()){this._invalidateVizType=true}this.setProperty("vizType",e,true);var i=this._getCalculatedType();if(t!==i&&!this._pendingRerendering&&(this._vizFrame||this._errorType)){var r=this._userFeeds||{feeds:this.getFeeds(),vizType:t};if(r.vizType===i){this.destroyFeeds();r.feeds.forEach(function(e){this.addFeed(e)},this);this._userFeeds=null}else{this._switchFeeds(t,this._getCalculatedType(),r)}}else{this.invalidate()}return this};C.prototype._switchFeeds=function(e,t,i){var r=l.toLightWeightFmt(this.getFeeds());var s=sap.viz.vizservices.BVRService.switchFeeds(e,r,t).feedItems;var a=h.getFeedDefsMap(t);s.forEach(function(e){if(e.id&&a[e.id]){e.type=a[e.id].type}});var n=l.fromLightWeightFmt(s);i.feeds.forEach(function(e){this.removeFeed(e,true)},this);this.vizUpdate({feeds:n});this._userFeeds=i};C.prototype.invalidate=function(e){if(e instanceof t){this._invalidateDataset=true}if(e instanceof l){this._userFeeds=null}o.prototype.invalidate.call(this,e)};C.prototype.getVizProperties=function(){if(this._vizFrame){return this._mergeProperties(this._mergeProperties({},this._vizFrame.properties()||{}),this.getProperty("vizProperties")||{})}else{return this.getProperty("vizProperties")}};C.prototype.getVizScales=function(){if(this._vizFrame){return a.extendScales(this._vizFrame.scales()||[],this.getProperty("vizScales")||[])}else{return this.getProperty("vizScales")}};C.prototype.zoom=function(e){if(this._vizFrame){this._vizFrame.zoom({target:"plotArea",direction:e.direction})}};C.prototype.setVizProperties=function(e){var t=this._getCalculatedType();if(e&&(t==="info/bullet"||t==="info/vertical_bullet")){d.processBulletProperty(this._bulletProperties,e)}if(e&&t==="info/timeseries_waterfall"){d.processWaterfallProperty(this._waterfallProperties,e)}var i=sap.viz.api.serialization.migrate({type:this._getCalculatedType(),properties:e});if(this._vizFrame&&!this._pendingRerendering){if(this._errorType!==_.ERROR_TYPE.NODATA){this._updateDescription()}try{this._vizFrame.update(i)}catch(e){this._handleErr(e)}}else{this.setProperty("vizProperties",this._mergeProperties(this.getProperty("vizProperties")||{},i.properties||{}));this.setVizScales(i.scales,this._scalesOption)}return this};C.prototype.setVizScales=function(e,t){if(this._vizFrame&&!this._pendingRerendering){try{if(t){this._vizFrame.scales(e,{level:"user",replace:t.replace})}else{this._vizFrame.scales(e)}}catch(e){this._handleErr(e)}}else{if(t){this._scalesOption={level:"user",replace:t.replace}}if(t&&t.replace){this.setProperty("vizScales",e)}else{this.setProperty("vizScales",a.extendScales(this.getProperty("vizScales")||[],e||[]))}}return this};C.prototype.getLegendVisible=function(){return this.getVizProperties().legendGroup.computedVisibility};C.prototype.setLegendVisible=function(e){this.setVizProperties({legend:{visible:e},sizeLegend:{visible:e}});return this};C.prototype.vizSelection=function(e,t){if(this._vizFrame){try{var i=this._vizFrame.selection.apply(this._vizFrame,arguments);if(i===this._vizFrame){i=this}}catch(e){return null}return i}else{return null}};C.prototype.vizUpdate=function(e){if(this._vizFrame||this._errorType){if(e.data||e.feeds){if(e.properties){this.setVizProperties(e.properties)}if(e.scales){this.setVizScales(e.scales)}if(e.customizations){this.setVizCustomizations(e.customizations)}if(e.data){this.setDataset(e.data)}if(e.feeds){this.destroyFeeds();e.feeds.forEach(function(e){this.addFeed(e)}.bind(this))}}else{try{this._vizFrame.update(e)}catch(e){this._handleErr(e)}}}};C.prototype.setVizCustomizations=function(e){if(C._isCustomizationAPISupportedVizType(this._getCalculatedType())){if(this._vizFrame&&!this._pendingRerendering){try{this._vizFrame.customizations(e)}catch(e){this._handleErr(e)}}else{this.setProperty("vizCustomizations",this._mergeProperties(this.getProperty("vizCustomizations")||{},e||{}))}}return this};C.prototype.getVizCustomizations=function(){if(this._vizFrame){return this._mergeProperties(this._mergeProperties({},this._vizFrame.customizations()||{}),this.getProperty("vizCustomizations")||{})}else{return this.getProperty("vizCustomizations")}};C._isCustomizationAPISupportedVizType=function(e){return Array.prototype.indexOf.call(["info/column","info/dual_column","info/bar","info/dual_bar","info/stacked_bar","info/stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/bubble","info/scatter","info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/timeseries_combination","info/timeseries_stacked_combination","info/timeseries_bullet","info/dual_timeseries_combination","info/dual_combination","info/dual_horizontal_combination"],e)>-1};C.prototype.getResponsiveLegend=function(){if(this._vizFrame){return n.createInstance(this._vizFrame.responsiveLegend())}};C.prototype.exportToSVGString=function(e){var t='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"/>';if(this._vizFrame){t=this._vizFrame.exportToSVGString(e)}return t};C.prototype._getScopeString=function(){var e=r.getActiveScopesFor(this);return JSON.stringify(e)};C.prototype._scopingChangedFun=function(e){var t=e.element;var i=false;if(this===t){i=true}else{var r=this;while(r){r=r.getParent();if(r===t){i=true;break}}}if(i){var s=this._getScopeString();if(this._sCurrentScopeChain!==undefined&&this._sCurrentScopeChain!==s){this._themeChangedHandler(false,function(){this._themeLoadCompleted=true;this._renderVizFrame({forceThemeChange:true})}.bind(this))}}};C.prototype._createContainerDiv=function(){if(!this._vizFrame$){this._vizFrame$=jQuery(document.createElement("div"));this._vizFrame$.addClass(_.CSS_PREFIX+"-viz-frame");this._vizFrame$.appendTo(this._app$)}if(!this._description$){this._description$=jQuery(document.createElement("div"));this._description$.addClass(_.CSS_PREFIX+"-viz-description");this._description$.appendTo(this._app$);this._description$.attr("tabindex",0);this._descriptionTitle$=jQuery(document.createElement("div"));this._descriptionTitle$.addClass(_.CSS_PREFIX+"-viz-description-title");this._descriptionTitle$.appendTo(this._description$);this._descriptionDetail$=jQuery(document.createElement("div"));this._descriptionDetail$.addClass(_.CSS_PREFIX+"-viz-description-detail");this._descriptionDetail$.appendTo(this._description$);this._descriptionMessage$=jQuery(document.createElement("div"));this._descriptionMessage$.addClass(_.CSS_PREFIX+"-viz-description-message");this._descriptionMessage$.appendTo(this._description$)}};C.prototype._createVizFrame=function(e){i.attachThemeScopingChanged(this._scopingChangedFun);e.container=this._vizFrame$.get(0);var t=this._vizFrame=new sap.viz.vizframe.VizFrame(e,{controls:{morpher:{enabled:false}},throwError:true});t.on("selectData",function(e){this.fireEvent("selectData",e)}.bind(this));t.on("deselectData",function(e){this.fireEvent("deselectData",e)}.bind(this));t.on("initialized",function(e){var t=this;function i(){var e=t._vizFrame$;e.on("focusin",function(t){t.preventDefault();e.addClass("sapMFocus")});e.on("focusout",function(t){t.preventDefault();e.removeClass("sapMFocus")})}function r(){if(!this._pendingRerendering){i();this.fireEvent("renderComplete",e);this.detachEvent("pendingRerenderingFalse",r)}}if(this._pendingRerendering){this.attachEvent("pendingRerenderingFalse",null,r)}else{i();this.fireEvent("renderComplete",e)}}.bind(this));t.on("scroll",function(e){this.fireEvent("_scroll",e)}.bind(this));t.on("_selectionDetails",function(e){u.appendShapeStrings(e.data);this.fireEvent("_selectionDetails",e)}.bind(this));t.on("_zoomDetected",function(e){this.fireEvent("_zoomDetected",e)}.bind(this));return t};C.prototype._migrate=function(e,t){t.forEach(function(t){var i=sap.viz.api.serialization.feedsIdToBindingId(e,t.getUid());if(i){t.setProperty("uid",i,true)}});if(e==="info/bullet"||e==="info/vertical_bullet"||e==="info/timeseries_bullet"){var i=false;t.forEach(function(e){i=i||e.getUid()==="actualValues"});if(!i){t.forEach(function(e){if(e.getUid()==="valueAxis"){e.setUid("actualValues");if(e.getValues().length>1){t.push(new l({uid:"additionalValues",type:"Measure",values:[e.getValues()[1]]}));e.setValues([e.getValues()[0]])}}})}}};function P(e){for(var t=e.length-1;t>=0;t--){var i=e[t];if(i.feed&&i.feed==="color"&&i.palette){return t}}return-1}C.prototype._checkProps=function(e,t,i){if(e==="fiori"){t.properties=d.decorateFiori(t,i,this.getVizProperties())}if(t.properties){t.properties=y.removeInvalid(t.type,t.properties)}if(t.type==="info/bullet"||t.type==="info/vertical_bullet"){t.properties=this._mergeProperties(t.properties||{},this._bulletProperties);d.decorateBullet(t,i)}if(t.type==="info/timeseries_bullet"){d.decorateTimeBullet(t)}if(t.type==="info/timeseries_waterfall"){d.decorateWaterfall(t,i);t.properties=this._mergeProperties(t.properties||{},this._waterfallProperties)}};function R(e,t,i,r,s,a){return new Promise(function(n){var o;try{o=new Worker(URL.createObjectURL(new Blob(["("+g.toString()+")()"],{type:"text/javascript"})))}catch(e){f.info("Failed to create worker via Blob (strict CSP?), falling back to separate script",null,"sap.viz.ui5.controls.VizFrame");o=new Worker(m.toUrl("./WorkerCode.js"))}function p(o){o.postMessage({applicationSet:e,allPropDefs:t,allChartNames:_.CORE_CHART_TYPES,generalProps:c._general,specificProps:c._specified,defaultFioriProps:c.DEFAULT_FIORI_PROPS,dualFioriProps:c.FIORI_DUAL_PROPS,allUi5Theme:i,cvomTemplate:r,extraProp:s,defaultFormatString:a});o.onmessage=function(e){n(e.data)}}p(o);o.onerror=function(e){f.info("Failed to create worker via Blob (strict CSP?), falling back to separate script",null,"sap.viz.ui5.controls.VizFrame");o=new Worker(m.toUrl("./WorkerCode.js"));p(o)}})}function S(e,t,i){var r=y.mergeProperties;var a=s.readCSSParameters;var n=c.get(y,e,t);var o=c.getExtraProp(t);return r(e,n,a(e,i),o)}C.prototype._getTemplateProps=function(e,t,i){if(this._templateCache[i]){return Promise.resolve()}var r,a;return new Promise(function(n,o){if(typeof window.Worker!=="undefined"){var p=s.readCSSParameters;var l=c.getExtraProp(e);var h={};var d={};var u={};for(a=0;a<_.CORE_CHART_TYPES.length;a++){r=_.CORE_CHART_TYPES[a];if(e!=="fiori"){u[r]=c.applyDefaultFormatString({},r)}h[r]=y.getPropertiesDef(r);d[r]=p(r,this)}this._themeLoadCompleted=false;return R(e,h,d,t.properties,l,u).then(function(e){if(!this._templateCache){o()}else{this._templateCache[i]=e;n()}}.bind(this))}else{var f=y.mergeProperties;var v={};for(a=0;a<_.CORE_CHART_TYPES.length;a++){r=_.CORE_CHART_TYPES[a];v[r]=S(r,e,this)}if(t.properties){for(a=0;a<_.CORE_CHART_TYPES.length;a++){r=_.CORE_CHART_TYPES[a];v[r]=f(r,t.properties[r],v[r]);v[r]=y.removeInvalid(r,v[r])}}this._templateCache[i]=v;n()}}.bind(this))};C.prototype._getOptions=function(e,t){var i={type:e,properties:{}};if(this._invalidateDataset){i.data=this._getVizDataset();this._invalidateDataset=false}if(this._invalidateFeeds){i.bindings=this._getVizBindings(e,t);this._invalidateFeeds=false}if(this.getProperty("vizProperties")){i.properties=this.getProperty("vizProperties")}if(this.getProperty("vizScales")){i.scales=this.getProperty("vizScales")}if(this._scalesOption){i.scalesOption=this._scalesOption}if(this.getProperty("vizCustomizations")){i.customizations=this.getProperty("vizCustomizations")}if(this._aRuntimeScales){i.sharedRuntimeScales=this._aRuntimeScales}i.template=this._currentTemplate;return i};C.prototype._setCustomMessages=function(e){this._errorInfo=e;this._handleDescription(this._errorType)};C.prototype._realRenderVizFrame=function(e){if(!this._readyToRender()){return}var t=(this.getUiConfig()||{}).applicationSet;var r=this._getCalculatedType();var s=this.getFeeds();var a=y.mergeProperties;var n={_invalidateDataset:this._invalidateDataset,_invalidateVizType:this._invalidateVizType,_invalidateFeeds:this._invalidateFeeds};this._migrate(r,s);var o=false,p=i.getTheme();if(e&&e.forceThemeChange||this._currentTheme!==p){o=true}n.theme=p;if(!(this._invalidateFeeds||this._invalidateDataset||o||this._invalidateVizType||this._localeChanged)||!this._isDataReady()){return}this._createContainerDiv();try{var l=this._getOptions(r,s);if(!l){return}this._currentTheme=p;if(this._isExtension()){var h=S(r,t);l.properties=a(r,h,l.properties)}this._checkProps(t,l,s,r);if(this._invalidateVizType){this._invalidateVizType=false}l.disableIntervalSizeCheck=this._bDisableIntervalSizeCheck;if(!this._vizFrame){if(l.data){this._createVizFrame(l);this._clearRequestedProperties()}}else{this._vizFrame.update(l);this._clearRequestedProperties()}if(this._connectPopover){this._connectPopover()}var d=this._getVizDataset();if(d&&d._FlatTableD&&!d._FlatTableD._data.length){throw _.ERROR_MESSAGE.NODATA}else{this._errorType=null;this._updateDescription()}this._localeChanged=false}catch(e){if(!this._vizFrame){this._invalidateDataset=n._invalidateDataset;this._invalidateVizType=n._invalidateVizType;this._invalidateFeeds=n._invalidateFeeds;this._currentTheme=n.theme}this._handleErr(e)}};C.prototype._renderVizFrame=function(e){if(!this._readyToRender()||this._isInitThememChanged&&!this._themeLoadCompleted){return}if(!this._isInitThememChanged){this._pendingRerendering=true;this._themeChangedHandler(false,function(){this._pendingRerendering=false;this._realRenderVizFrame(e);this._themeLoadCompleted=true}.bind(this))}else{this._realRenderVizFrame(e)}};C.prototype._themeChangedHandler=function(e,t){this._isInitThememChanged=true;var r=(this.getUiConfig()||{}).applicationSet;var s=r||"";var a="";this._sCurrentScopeChain=this._getScopeString();if(this._sCurrentScopeChain){a=this._sCurrentScopeChain}var n=i.getTheme();var o=n+"_"+s+"_"+_.TEMPLATE_POSTFIX+a;if(this._currentTemplate===o&&!e){return}this._currentTemplate=o;var p=sap.viz.api.env.Template.get();var l=sap.viz.extapi.env.Template;if(!l.isRegistered(o)||e){l.unregister(o);var h;if(p.indexOf(_.TEMPLATE_POSTFIX)>-1){h=l.getPackage("standard_fiori")||l.getPackage("default")}else{h=l.current()}this._getTemplateProps(r,h,o).then(function(){var e=this._templateCache[o];h.properties=h.properties||{};h.scales=h.scales||{};for(var i in e){if(e.hasOwnProperty(i)){h.properties[i]=e[i];var r=h.scales[i];if(r){var s=P(r);if(s>-1){r.splice(s,1)}}}}h.id=o;h.name=o;l.register(h);t()}.bind(this)).catch(function(e){return})}else{t()}};C.prototype.onThemeChanged=function(e){if(this._app$&&this.$()){this._themeChangedHandler(e.triggeredBy&&e.triggeredBy==="themedesigner",function(){this.invalidate();this._themeLoadCompleted=true}.bind(this))}};C.prototype.onlocalizationChanged=function(t){if(t&&t.changes&&Object.keys(t.changes).length===1&&t.changes.timezone){return}if(this._app$&&this.$()){e._applyLocale(function(){if(this._errorType){this._localeChanged=true;this.invalidate()}}.bind(this))}};C.prototype._isDataReady=function(){var e=this.getDataset();return!e||!e.isReady()?false:true};C.prototype._getVizDataset=function(){var e=this.getDataset();if(this._isExtension()){var t=this._getMetadata();if(t){if(t.dataType==="raw"){return e.getRawDataset()}else if(t.dataType==="sap.viz.api.data.CrosstableDataset"){h.updateAxis(e.getDimensions(),this._getCalculatedType(),this.getFeeds());return e.getVIZCrossDataset()}else{return e.getVIZFlatDataset()}}else{h.updateAxis(e.getDimensions(),this._getCalculatedType(),this.getFeeds());return e.getVIZCrossDataset()}}else{return e.getVIZFlatDataset()}};C.prototype._getVizBindings=function(e,t){if(t&&t.length){var i=l.toLightWeightFmt(t);i=sap.viz.vizservices.BVRService.suggestFeeds(e,i,[{id:"MND",type:"MND"}]).feedItems;if(this._isExtension()){var r=this._getMetadata();if(r){if(r.dataType==="sap.viz.api.data.CrosstableDataset"){return z.generateBindings(e,i,"CrossTableDataset")}else{return z.generateBindings(e,i,"FlatTableDataset")}}else{return z.generateBindings(e,i,"CrossTableDataset")}}else{return z.generateBindings(e,i,"FlatTableDataset")}}else{return null}};C.prototype._getMetadata=function(){var e;try{e=sap.viz.api.metadata.Viz.get(this._getCalculatedType())}catch(t){e=null}return e};C.prototype._onConnectPopover=function(e){if(arguments.length>0){this._connectPopover=e}return this._connectPopover};C.prototype._createChildren=function(){this._renderVizFrame()};C.prototype._updateChildren=function(){this._renderVizFrame()};C.prototype._suppressInvisibleRender=function(e){this._bSuppressInvisibleRender=!!e};C.prototype._disableIntervalSizeCheck=function(e){this._bDisableIntervalSizeCheck=!!e};C.prototype._validateSize=function(e){if(!this._app$||!this.$()||e&&e.size&&(e.size.height==0||e.size.width==0)||this._bSuppressInvisibleRender&&window.getComputedStyle(this.getDomRef(),null).visibility==="hidden"||this.$().prop("offsetHeight")===0){return}var t={width:this.$().width(),height:this.$().height()};if(this._vizFrame){var i=this._vizFrame.size();if(!i||i.width!==t.width||i.height!==t.height){this._vizFrame.size({width:t.width,height:t.height,auto:!this._bDisableIntervalSizeCheck,invisibleRender:true})}}};C.prototype._getCalculatedType=function(){if(this._isExtension()){return this.getVizType()}else{return this._getInfoType()}};C.prototype._isExtension=function(){return _.CORE_CHART_TYPES.indexOf(this._getInfoType())===-1};C.prototype._getInfoType=function(){var e=this.getVizType();if(e.indexOf("info/")===-1){return"info/"+e}else{return e}};C.prototype._mergeProperties=function(e,t){return y.mergeProperties(this._getCalculatedType(),e,t)};C.prototype._wrapApi=function(e,t){this[e]=function(){var i=C.prototype[e].apply(this,arguments);t();return i}.bind(this)};C.prototype._updateDescription=function(e){var t=this._description$;var i=this._descriptionTitle$;var r=this._descriptionDetail$;var s=this._descriptionMessage$;if(!this._description$.length){return}if(!e){t.hide()}else{t.show();i.empty();r.empty();s.empty();var a="";if(e.title){i.show().text(e.title);a+=e.title+". "}if(e.detail){r.show().text(e.detail);a+=e.detail+" "}if(e.message){s.show().text(e.message);a+=e.message}t.attr("aria-label",a)}};C.prototype._handleDescription=function(e,t){var i;if(!e){return}if(this._errorInfo&&this._errorInfo[e]){i={message:this._errorInfo[e]}}else if(e===_.ERROR_TYPE.INVALIDDATA){i={title:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA"),detail:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA_DESCRIPTION")}}else if(e===_.ERROR_TYPE.MULTIPLEUNITS){i={title:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA"),detail:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_INVALIDE_DATA_MULTIPLEUNITS")}}else if(e===_.ERROR_TYPE.NODATA){i={title:sap.viz.extapi.env.Language.getResourceString("IDS_ERROR_ISNODATA")}}else{i={message:t}}this._updateDescription(i)};C.prototype._handleErr=function(e){var t=(this.getUiConfig()||{}).showErrorMessage!==false;var i=true;if(t){if(e===_.ERROR_MESSAGE.NODATA){this._errorType=_.ERROR_TYPE.NODATA;i=false}else if(e===_.ERROR_MESSAGE.MULTIPLEUNITS){this._errorType=_.ERROR_TYPE.MULTIPLEUNITS;this._clearVizFrame()}else{this._errorType=e.toString().indexOf("[50060]")>=0?_.ERROR_TYPE.INVALIDDATA:_.ERROR_TYPE.OTHERS;if(this._vizFrame){this._vizFrame$.find(".v-info").remove()}else{this._clearVizFrame()}}this._handleDescription(this._errorType,e)}if(i){this.fireEvent("renderFail",{id:"renderFail",error:e})}};C.prototype._clearVizFrame=function(){if(this._vizFrame){this._vizFrame.destroy();this._vizFrame=null;this._invalidateFeeds=true}this._vizFrame$.empty();i.detachThemeScopingChanged(this._scopingChangedFun)};C.prototype._runtimeScales=function(e,t){if(arguments.length===0){return this._vizFrame?this._vizFrame.runtimeScales():this._aRuntimeScales}else if(e){this._aRuntimeScales=[].concat(e);if(!t){this.invalidate()}}};C.prototype._getZoomInfo=function(){var e,t,i,r,s=this._states();if(s){e=s.zoomInOut;if(e){t=e.enabled;i=e.currentZoomLevel}else{t=false;i=null}r={enabled:t,currentZoomLevel:i}}else{r={}}return r};C.prototype._states=function(){var e;if(this._vizFrame){e=this._vizFrame.states.apply(this._vizFrame,arguments)}return e===this._vizFrame?this:e};C.prototype._readyToRender=function(e){if(arguments.length===0){return this._bReadyToRender}else{this._bReadyToRender=e}};return C});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizFrameRenderer", function(){"use strict";var e={apiVersion:2};e.render=function(e,t){e.openStart("div",t).class("sapVizFrame").style("width",t.getWidth()).style("height",t.getHeight()).openEnd().close("div")};return e},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizRangeSlider", ["sap/ui/thirdparty/jquery","./VizSliderBasic","./VizRangeSliderRenderer","sap/m/ResponsiveScale","sap/ui/core/InvisibleText","sap/ui/core/Configuration","sap/ui/core/Lib","sap/viz/library","sap/base/Log"],function(jQuery,t,e,i,a,n,s,o,l){"use strict";var r=t.extend("sap.viz.ui5.controls.VizRangeSlider",{metadata:{library:"sap.viz",properties:{value2:{type:"float",group:"Data",defaultValue:100},range:{type:"float[]",group:"Data",defaultValue:[0,100]},left:{type:"string",group:"Data",defaultValue:"0px"},top:{type:"string",group:"Data",defaultValue:"0px"},height:{type:"string",group:"Data",defaultValue:"0px"},showPercentageLabel:{type:"boolean",group:"Appearance",defaultValue:true},showStartEndLabel:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:e});var h={RANGE_MOVEMENT_THRESHOLD:32,CHARACTER_WIDTH_PX:8,INPUT_STATE_NONE:"None",INPUT_STATE_ERROR:"Error"};r.prototype.init=function(){var e,i;t.prototype.init.call(this,arguments);this._bInitialRangeChecks=true;this._bRTL=n.getRTL();this._aInitialFocusRange=this.getRange();this._iLongestRangeTextWidth=0;this._fTooltipHalfWidthPercent=0;this._oResourceBundle=s.getResourceBundleFor("sap.m");this._ariaUpdateDelay=[];e=new a({text:this._oResourceBundle.getText("RANGE_SLIDER_LEFT_HANDLE")});i=new a({text:this._oResourceBundle.getText("RANGE_SLIDER_RIGHT_HANDLE")});this._mHandleTooltip={start:{handle:null,tooltip:null,label:e},end:{handle:null,tooltip:null,label:i}}};r.prototype.exit=function(){this._oResourceBundle=null;this._aInitialFocusRange=null;this._liveChangeLastValue=null;if(this._oRangeLabel){this._oRangeLabel.destroy()}this._oRangeLabel=null;if(this.getInputsAsTooltips()){if(this._mHandleTooltip.start.tooltip){this._mHandleTooltip.start.tooltip.destroy()}if(this._mHandleTooltip.end.tooltip){this._mHandleTooltip.end.tooltip.destroy()}}if(this._mHandleTooltip.start.label){this._mHandleTooltip.start.label.destroy()}if(this._mHandleTooltip.end.label){this._mHandleTooltip.end.label.destroy()}this._mHandleTooltip.start.handle=null;this._mHandleTooltip.start.tooltip=null;this._mHandleTooltip.start.label=null;this._mHandleTooltip.end.handle=null;this._mHandleTooltip.end.tooltip=null;this._mHandleTooltip.end.label=null;this._ariaUpdateDelay=null;this._iDecimalPrecision=null};r.prototype.onBeforeRendering=function(){var t=[Math.abs(this.getMin()),Math.abs(this.getMax())],e=t[0]>t[1]?0:1,n=!!this.getInputsAsTooltips(),s=this.getRange();this._bInitialRangeChecks=false;this.setRange(s);if(!this._oRangeLabel){this._oRangeLabel=new a({text:this._oResourceBundle.getText("RANGE_SLIDER_RANGE_HANDLE")})}this._validateProperties();this._iLongestRangeTextWidth=(t[e].toString().length+this.getDecimalPrecisionOfNumber(this.getStep())+1)*h.CHARACTER_WIDTH_PX;if(!this._mHandleTooltip.start.tooltip){this._mHandleTooltip.start.tooltip=n?this._createInputField("LeftTooltip",this._mHandleTooltip.start.label):null}if(!this._mHandleTooltip.end.tooltip){this._mHandleTooltip.end.tooltip=n?this._createInputField("RightTooltip",this._mHandleTooltip.end.label):null}this._mHandleTooltip.bTooltipsSwapped=false;this._iDecimalPrecision=this.getDecimalPrecisionOfNumber(this.getStep());if(this.getEnableTickmarks()&&!this.getAggregation("scale")){this.setAggregation("scale",new i)}};r.prototype.onAfterRendering=function(){t.prototype.onAfterRendering.apply(this,arguments);var e=this.getRange(),i=this.getMin(),a=this.getMax(),n=e.reduce(function(t,e){return t||e<i||e>a},false);this._mHandleTooltip.start.handle=this.getDomRef("handle1");this._mHandleTooltip.end.handle=this.getDomRef("handle2");if(!this.getInputsAsTooltips()){this._mHandleTooltip.start.tooltip=this.$("LeftTooltip");this._mHandleTooltip.end.tooltip=this.$("RightTooltip")}this._recalculateStyles();if(n){l.warning("Warning: "+"Property wrong range: ["+e+"] not in the range: ["+i+","+a+"]",this)}this.$("TooltipsContainer").css("min-width",this._fTooltipHalfWidthPercent*4+"%");this._updateHandle(this._mHandleTooltip.start.handle,e[0]);this._updateHandle(this._mHandleTooltip.end.handle,e[1]);if(e[0]>e[1]){this._swapTooltips(e)}};r.prototype._recalculateRange=function(){var t,e,i,a,n=this._bRTL?"right":"left";t=[parseFloat(this._mHandleTooltip.start.handle.style[n]),parseFloat(this._mHandleTooltip.end.handle.style[n])];e=Math.min.apply(Math,t)+"%";i=100-Math.max.apply(Math,t)+"%";a=this.getDomRef("progress");if(this._bRTL){a.style.left=i;a.style.right=e}else{a.style.left=e;a.style.right=i}var s=this.getDomRef("leftMock");var o=this.getDomRef("rightMock");var l=this.getDomRef("label");var r=this.getRange();var h=Math.min(r[0],r[1]);var p=Math.max(r[0],r[1]);s.style.right=(this.getMax()-h)/(this.getMax()-this.getMin())*100+"%";o.style.left=(p-this.getMin())/(this.getMax()-this.getMin())*100+"%";l.style.left=(p+h)/(this.getMax()-this.getMin())*50+"%";l.innerHTML=((p-h)/(this.getMax()-this.getMin())*100).toFixed(0)+"%";return this};r.prototype.getClosestHandleDomRef=function(t){var e=this._mHandleTooltip.start.handle,i=this._mHandleTooltip.end.handle,a=Math.abs(t.pageX-e.offsetLeft-this._fSliderPaddingLeft-this._fSliderOffsetLeft),n=Math.abs(t.clientX-i.offsetLeft-this._fSliderPaddingLeft-this._fSliderOffsetLeft);return a>n?i:e};r.prototype._getIndexOfHandle=function(t){if(t&&t.getAttribute&&t.getAttribute("data-range-val")==="start"){return 0}else if(t&&t.getAttribute&&t.getAttribute("data-range-val")==="end"){return 1}else{return-1}};r.prototype._updateHandle=function(t,e){var i=this._mHandleTooltip.start.handle===t?this._mHandleTooltip.start.tooltip:this._mHandleTooltip.end.tooltip,a=this.getRange(),n=this._getIndexOfHandle(t),s=this._getPercentOfValue(e);a[n]=e;this._updateRangePropertyDependencies(a);this._updateHandleDom(t,a,n,e,s);this._updateTooltipContent(i,e);this._adjustTooltipsContainer(s);this._recalculateRange()};r.prototype._updateHandleDom=function(t,e,i,a,n){var s,o=this.getRenderer().CSS_CLASS,l=this.getDomRef("input");if(this.getName()){l.setAttribute(t.getAttribute("data-range-val"),e[i]);l.setAttribute("value",this.getValue())}if(this._bRTL){t.style.right=n+"%"}else{t.style.left=n+"%"}if(this.getShowHandleTooltip()){t.title=a}s=e[0]===e[1];this.$("handle1").toggleClass(o+"HandleOverlap",s);this.$("handle2").toggleClass(o+"HandleOverlap",s);clearTimeout(this._ariaUpdateDelay[i]);this._ariaUpdateDelay[i]=setTimeout(this["_updateHandleAria"].bind(this,t,a),100)};r.prototype._updateHandleAria=function(t,e){var i=this.getRange(),a=this.getDomRef("progress"),n=this._mHandleTooltip.start,s=this._mHandleTooltip.end,o=this.getShowStartEndLabel(),l=this.getShowPercentageLabel(),r=i[1]-i[0];this._updateHandlesAriaLabels();if(n.tooltip&&s.tooltip){var h=[n.tooltip.getEncodedText(),s.tooltip.getEncodedText()];var p=l?". Range Width is "+r+"%":" ";var d=o?h:["",""];var g=o?this._oResourceBundle.getText("RANGE_SLIDER_RANGE_ANNOUNCEMENT",h):"";t.setAttribute("aria-valuenow",e);n.handle.setAttribute("aria-valuetext",d[0]+p);s.handle.setAttribute("aria-valuetext",d[1]+p);if(a){a.setAttribute("aria-valuenow",i.join("-"));a.setAttribute("aria-valuetext",g+p)}}};r.prototype._updateHandlesAriaLabels=function(){var t=this.getRange(),e=this._mHandleTooltip.start.label;if(t[0]>t[1]&&!this._mHandleTooltip.bAriaHandlesSwapped||t[0]<t[1]&&this._mHandleTooltip.bAriaHandlesSwapped){this._mHandleTooltip.start.label=this._mHandleTooltip.end.label;this._mHandleTooltip.end.label=e;if(this._mHandleTooltip.start.handle){this._mHandleTooltip.start.handle.setAttribute("aria-labelledby",this._mHandleTooltip.start.label.getId())}if(this._mHandleTooltip.end.handle){this._mHandleTooltip.end.handle.setAttribute("aria-labelledby",this._mHandleTooltip.end.label.getId())}this._mHandleTooltip.bAriaHandlesSwapped=!this._mHandleTooltip.bAriaHandlesSwapped}};r.CHARACTER_WIDTH_PX=12;r.prototype._updateTooltipContent=function(t,e){var i=this.getRange();var a=Math.max(i[0],i[1]);var n=Math.min(i[0],i[1]);a=a>this.getMax()?this.getMax():a;n=n<this.getMin()?this.getMin():n;var s=this._mHandleTooltip.start.tooltip;var o=t===s?"start":"end";if(n===a){if(n===0){a++}if(n===100){n--}}var l=t===s?n:a;if(this._parentFrame){l=this._parentFrame._getTooltipContent(n,a,o)}t.text(l);var h=this.getDomRef("LeftTooltip");var p=this.getDomRef("RightTooltip");var d=Math.max(h.innerHTML.length,p.innerHTML.length);d=d*r.CHARACTER_WIDTH_PX;this._iLongestRangeTextWidth=d;h.style.width=this._iLongestRangeTextWidth+"px";p.style.width=this._iLongestRangeTextWidth+"px";this._recalculateStyles();this.$("TooltipsContainer").css("min-width",this._fTooltipHalfWidthPercent*4+"%")};r.prototype._swapTooltips=function(t){var e=this._mHandleTooltip.start.tooltip;if(t[0]>=t[1]&&!this._mHandleTooltip.bTooltipsSwapped||t[0]<=t[1]&&this._mHandleTooltip.bTooltipsSwapped){this._mHandleTooltip.start.tooltip=this._mHandleTooltip.end.tooltip;this._mHandleTooltip.end.tooltip=e;this._updateTooltipContent(this._mHandleTooltip.start.tooltip,t[0]);this._updateTooltipContent(this._mHandleTooltip.end.tooltip,t[1]);if(this.getInputsAsTooltips()){this._mHandleTooltip.start.handle.setAttribute("aria-controls",this._mHandleTooltip.start.tooltip.getId());this._mHandleTooltip.end.handle.setAttribute("aria-controls",this._mHandleTooltip.end.tooltip.getId())}this._mHandleTooltip.bTooltipsSwapped=!this._mHandleTooltip.bTooltipsSwapped}};r.prototype._adjustTooltipsContainer=function(){var t,e=this.getDomRef("TooltipsContainer"),i=this._bRTL?"right":"left",a=this._bRTL?"left":"right",n=this.getRange(),s=this._getPercentOfValue(n[0]>n[1]?n[1]:n[0]),o=this._getPercentOfValue(n[0]>n[1]?n[0]:n[1]),l=this._fHandleWidthPercent/2,r=(o-s)/2>this._fTooltipHalfWidthPercent?this._fTooltipHalfWidthPercent:(o-s)/2,h=Math.floor(100-2*this._fTooltipHalfWidthPercent-r+this._fHandleWidthPercent),p=parseFloat(e.style[i]),d=parseFloat(e.style[a]);if(s-this._fTooltipHalfWidthPercent<=l){p=-1*this._fHandleWidthPercent}else if(s>=h){p=100-4*this._fTooltipHalfWidthPercent+this._fHandleWidthPercent}else if(o-s>this._fTooltipHalfWidthPercent*2&&s>-1*this._fTooltipHalfWidthPercent){p=s-this._fTooltipHalfWidthPercent}else{t=s-this._fTooltipHalfWidthPercent-(this._fTooltipHalfWidthPercent*2-(o-s))/2;if(t<=-1*this._fHandleWidthPercent){p=-1*this._fHandleWidthPercent}else{p=t}}if(o>=100-l||100-o-this._fTooltipHalfWidthPercent<-this._fHandleWidthPercent){d=-1*this._fHandleWidthPercent}else{d=100-o-this._fTooltipHalfWidthPercent}e.style[i]=p+"%";e.style[a]=d+"%";this._swapTooltips(n)};r.prototype._handleInputChange=function(t,e){var i,a,n=this._mHandleTooltip.bTooltipsSwapped,s=Number(e.getParameter("value"));if(e.getParameter("value")===""||isNaN(s)||s<this.getMin()||s>this.getMax()){t.setValueState(h.INPUT_STATE_ERROR);return}s=this._adjustRangeValue(s);t.setValueState(h.INPUT_STATE_NONE);i=this._mHandleTooltip.start.tooltip===t?this._mHandleTooltip.start.handle:this._mHandleTooltip.end.handle;this._updateHandle(i,s);if(n!==this._mHandleTooltip.bTooltipsSwapped){a=this._mHandleTooltip.start.tooltip!==t?this._mHandleTooltip.start.tooltip:this._mHandleTooltip.end.tooltip;a.focus()}this._fireChangeAndLiveChange({range:this.getRange()})};r.prototype._updateDOMAfterSetters=function(t,e,i){var a,n;if(this.getDomRef()){a=this._getPercentOfValue(t);n=i===1?this._mHandleTooltip.end:this._mHandleTooltip.start;this._updateHandleDom(n.handle,e,i,t,a);this._updateTooltipContent(n.tooltip,t);return true}return false};r.prototype.setRange=function(t){t=t.map(this._adjustRangeValue,this);this._updateRangePropertyDependencies(t);if(this._updateDOMAfterSetters(t[0],t,0)&&this._updateDOMAfterSetters(t[1],t,1)){this._recalculateRange()}return this};r.prototype.setValue=function(t){var e=this.getRange();if(typeof t!=="number"||!isFinite(t)){return this}t=this._adjustRangeValue(t);e[0]=t;this._updateRangePropertyDependencies(e);if(this._updateDOMAfterSetters(e[0],e,0)){this._recalculateRange()}return this};r.prototype.setValue2=function(t){var e=this.getRange();t=this._adjustRangeValue(t);e[1]=t;this._updateRangePropertyDependencies(e);if(this._updateDOMAfterSetters(e[1],e,1)){this._recalculateRange()}return this};r.prototype._updateRangePropertyDependencies=function(t){var e=Array.isArray(t)?t.slice():[];if(this.getProperty("value")!==e[0]){this.setProperty("value",e[0],true)}if(this.getProperty("value2")!==e[1]){this.setProperty("value2",e[1],true)}this.setProperty("range",e,true)};r.prototype._calculateHandlePosition=function(t,e){var i=this.getMax(),a=this.getMin(),n=e||0,s;s=(t-this._fSliderPaddingLeft-this._fSliderOffsetLeft)/this._fSliderWidth*(i-a)+a;if(this._bRTL){s=this._convertValueToRtlMode(s)}return this._adjustRangeValue(s,n)};r.prototype._adjustRangeValue=function(t,e){var i=this.getMax(),a=this.getMin(),n=this.getStep(),s=e||0,o;if(this._bInitialRangeChecks){return t}o=Math.abs((t-a)%n);if(o!==0){t=o*2>=n?t+n-o:t-o}var l=s<0?s:0;var r=s>0?s:0;if(t<a+l){t=a+l}else if(t>i+r){t=i+r}return t};r.prototype.ontouchstart=function(t){var e=t.targetTouches[0],i=this.getRenderer().CSS_CLASS,a="."+i,n,s,o,l,r;if(!this.getEnabled()){return}t.setMarked();if(t.target.className.indexOf("sapMInput")===-1){t.preventDefault()}this._recalculateStyles();if(["number","text"].indexOf(t.target.type)>-1){return}n=this._calculateHandlePosition(e.pageX);o=this.getRange();s=[this._mHandleTooltip.start.handle,this._mHandleTooltip.end.handle];l=this._getIndexOfHandle(t.target);var h=0;if(l!==-1){s=[this.getDomRef(l===0?"handle1":"handle2")];h=n-o[l]}else if(n<Math.min.apply(Math,o)||n>Math.max.apply(Math,o)){s=[n<Math.min.apply(Math,o)?this._mHandleTooltip.start.handle:this._mHandleTooltip.end.handle];this._updateHandle(s[0],n);this._fireChangeAndLiveChange({range:this.getRange()})}jQuery(document).on("touchend"+a+" touchcancel"+a+" mouseup"+a,this._ontouchend.bind(this,s)).on("touchmove"+a+(t.originalEvent.type!=="touchstart"?" mousemove"+a:""),this._ontouchmove.bind(this,n,this.getRange(),s,h));s.map(function(t){if(t.className.indexOf(i+"HandlePressed")===-1){t.className+=" "+i+"HandlePressed"}});var p=this.getDomRef("progress");if(s.length===1){r=s[0];if(p.className.indexOf(i+"ProgressResized")===-1){p.className+=" "+i+"ProgressResized"}}else{r=p}setTimeout(r["focus"].bind(r),0)};r.prototype._ontouchmove=function(t,e,i,a,n){var s,o,l,r,h=n.targetTouches?n.targetTouches[0].pageX:n.pageX,p=this.getMax(),d=this.getMin(),g=[],u=[];n.preventDefault();n.setMarked();if(n.isMarked("delayedMouseEvent")||!this.getEnabled()||n.button){return}s=this._calculateHandlePosition(h,a)-t;for(var f=0;f<e.length;f++){g[f]=e[f]+s}u=this._getNormalizedRange(this.getRange(),e,i);o=g.every(function(t,e){return t===u[e]});l=g.every(function(t){return t>=d&&t<=p});r=u.indexOf(d)>-1||u.indexOf(p)>-1;if(!o){if(i.length===1||l||!r){if(i.length===1){this._positionCheck(i,s,e)}else{i.map(function(t){this._updateHandle(t,e[this._getIndexOfHandle(t)]+s)},this)}}this._adjustTooltipsContainer();u=this._getNormalizedRange(this.getRange(),e,i)}this.setRange(u)};r.prototype._positionCheck=function(t,e,i){var a=this._getIndexOfHandle(t[0]);var n=this.getRange();var s=i[a]+e;var o=[];for(var l=0;l<n.length;l++){o[l]=n[l]}o[a]=s;if(o[0]>=o[1]-1){s=n[1-a]+(a===1?1:-1)}this._updateHandle(t[0],s)};r.prototype._triggerLiveChange=function(){var t,e=this.getRange();this._liveChangeLastValue=this._liveChangeLastValue||[];t=e.some(function(t,e){return t!==this._liveChangeLastValue[e]},this);if(t){this._liveChangeLastValue=e.slice();this.fireLiveChange({range:e})}};r.prototype._getNormalizedRange=function(t,e,i){var a=this.getMax(),n=this.getMin(),s=Math.abs(e[0]-e[1]),o=[],l,r;for(l=0;l<t.length;l++){o[l]=t[l]<n?n:t[l];o[l]=t[l]>a?a:o[l];if(i.length===2){if(o[0]==n){o[1]=o[0]+s}else{r=Math.abs(l-1);o[r]=o[l]<=n?o[l]+s:o[r];o[r]=o[l]>=a?o[l]-s:o[r]}}}return o};r.prototype._ontouchend=function(t,e){var i=this.getRange(),a=this.getRenderer().CSS_CLASS,n=this.getDomRef("progress");e.setMarked();n.className=n.className.replace(new RegExp(" ?"+a+"ProgressResized","gi"),"");t&&t.map(function(t){t.className=t.className.replace(new RegExp(" ?"+a+"HandlePressed","gi"),"")});jQuery(document).off("."+a);this._recalculateRange();if(this._aInitialFocusRange[0]!==i[0]||this._aInitialFocusRange[1]!==i[1]){this._aInitialFocusRange=Array.prototype.slice.call(i);this.fireChange({range:i})}this._updateTooltipContent(this._mHandleTooltip.start.tooltip,i[0]);this._updateTooltipContent(this._mHandleTooltip.end.tooltip,i[1])};r.prototype.onfocusin=function(t){var e=this.getRenderer().CSS_CLASS;this.$("progress").addClass("focus");this.$("TooltipsContainer").addClass(e+"HandleTooltipsShow");if(!this._hasFocus()){this._aInitialFocusRange=this.getRange()}};r.prototype._updateSliderValues=function(t,e){var i=this.getRange(),a=this.getMax(),n=this.getMin(),s=Math.max.apply(null,i),o=Math.min.apply(null,i),l=this._getIndexOfHandle(e),r=t<0?-1:1,h=l>-1?[e]:[this._mHandleTooltip.start.handle,this._mHandleTooltip.end.handle];if(h.length===1){var p=Math.abs(s-o);if(p<=Math.abs(t)&&(l===1&&r===-1||l===0&&r===1)){t=r*(p-1)}o=s=i[l]}if(s+t>a){t=r*(Math.abs(a)-Math.abs(s))}else if(o+t<n){t=r*(Math.abs(o)-Math.abs(n))}h.map(function(e){this._updateHandle(e,i[this._getIndexOfHandle(e)]+t)},this)};r.prototype.onsapincrease=function(t){if(["number","text"].indexOf(t.target.type)>-1){return}t.preventDefault();t.setMarked();if(this.getEnabled()){this._updateSliderValues(this.getStep(),t.target);this._fireChangeAndLiveChange({range:this.getRange()})}};r.prototype.onsapplus=r.prototype.onsapincrease;r.prototype.onsapincreasemodifiers=function(t){if(["number","text"].indexOf(t.target.type)>-1||t.altKey){return}t.preventDefault();t.stopPropagation();t.setMarked();if(this.getEnabled()){this._updateSliderValues(this._getLongStep(),t.target);this._fireChangeAndLiveChange({range:this.getRange()})}};r.prototype.onsappageup=r.prototype.onsapincreasemodifiers;r.prototype.onsapdecrease=function(t){if(["number","text"].indexOf(t.target.type)>-1){return}t.preventDefault();t.setMarked();if(this.getEnabled()){this._updateSliderValues(-1*this.getStep(),t.target);this._fireChangeAndLiveChange({range:this.getRange()})}};r.prototype.onsapminus=r.prototype.onsapdecrease;r.prototype.onsapdecreasemodifiers=function(t){if(["number","text"].indexOf(t.target.type)>-1||t.altKey){return}t.preventDefault();t.stopPropagation();t.setMarked();if(this.getEnabled()){this._updateSliderValues(-1*this._getLongStep(),t.target);this._fireChangeAndLiveChange({range:this.getRange()})}};r.prototype.onsappagedown=r.prototype.onsapdecreasemodifiers;r.prototype.onsaphome=function(t){if(["number","text"].indexOf(t.target.type)>-1){return}t.setMarked();t.preventDefault();if(this.getEnabled()){this._updateSliderValues(-1*this.getMax(),t.target);this._fireChangeAndLiveChange({range:this.getRange()})}};r.prototype.onsapend=function(t){if(["number","text"].indexOf(t.target.type)>-1){return}t.setMarked();t.preventDefault();if(this.getEnabled()){this._updateSliderValues(this.getMax(),t.target);this._fireChangeAndLiveChange({range:this.getRange()})}};r.prototype.onsapescape=function(){this.setRange(this._aInitialFocusRange);this._fireChangeAndLiveChange({range:this.getRange()})};r.prototype.setParentFrame=function(t){this._parentFrame=t};return r});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizRangeSliderRenderer", ["sap/base/i18n/Localization","sap/ui/core/Renderer","./VizSliderBasicRenderer","sap/ui/Device"],function(e,t,i,n){"use strict";var a=t.extend(i);a.apiVersion=2;a.renderHandles=function(e,t){this.renderHandle(e,t,{id:t.getId()+"-handle1",position:"start"});this.renderHandle(e,t,{id:t.getId()+"-handle2",position:"end"});this.renderTooltips(e,t);e.renderControl(t._mHandleTooltip.start.label);e.renderControl(t._mHandleTooltip.end.label);e.renderControl(t._oRangeLabel)};a.renderTooltips=function(e,t){e.openStart("div",t.getId()+"-TooltipsContainer").class(i.CSS_CLASS+"TooltipContainer").style("left","0%").style("right","0%").style("min-width","0%").openEnd();this.renderTooltip(e,t,t.getInputsAsTooltips(),"Left");this.renderTooltip(e,t,t.getInputsAsTooltips(),"Right");e.close("div")};a.renderTooltip=function(e,t,n,a){e.openStart("span",t.getId()+"-"+a+"Tooltip");e.class(i.CSS_CLASS+"HandleTooltip");if(!t.getShowStartEndLabel()){e.style("visibility","hidden")}e.style("width",t._iLongestRangeTextWidth+"px");e.openEnd();e.close("span")};a.renderHandle=function(t,a,s){var l,o=a.getRange(),d=a.getEnabled(),r=e.getRTL();if(s&&s.id!==undefined){t.openStart("span",s.id)}else{t.openStart("span")}if(s&&s.position!==undefined){l=o[s.position==="start"?0:1];t.attr("data-range-val",s.position);t.attr("aria-labelledby",a._mHandleTooltip[s.position].label.getId());if(a.getInputsAsTooltips()){t.attr("aria-controls",a._mHandleTooltip[s.position].tooltip.getId())}}if(a.getShowHandleTooltip()){this.writeHandleTooltip(t,a)}t.class(i.CSS_CLASS+"Handle");if(!n.system.desktop&&(n.system.phone||n.system.tablet)){t.class("viz-Mobile")}t.class("sapUiIcon");t.class("ui5-sap-viz-vizSliderHandle");t.attr("data-sap-ui-icon-content","");if(s&&s.id!==undefined&&s.id===a.getId()+"-handle1"){t.class("ui5-sap-viz-vizSliderHandle-left");t.style(r?"right":"left",o[0])}if(s&&s.id!==undefined&&s.id===a.getId()+"-handle2"){t.class("ui5-sap-viz-vizSliderHandle-right");t.style(r?"right":"left",o[1])}this.writeAccessibilityState(t,a,l);if(d){t.attr("tabindex","0")}t.openEnd().close("span")};a.writeAccessibilityState=function(e,t,i){e.accessibilityState(t,{role:"slider",orientation:"horizontal",valuemin:t.toFixed(t.getMin()),valuemax:t.toFixed(t.getMax()),valuenow:i})};a.renderStartLabel=function(e,t){e.openStart("div").class(i.CSS_CLASS+"RangeLabel").openEnd().text(t.getMin()).close("div")};a.renderEndLabel=function(e,t){e.openStart("div").class(i.CSS_CLASS+"RangeLabel").style("width",t._iLongestRangeTextWidth+"px").openEnd().text(t.getMax()).close("div")};a.renderLabels=function(e,t){e.openStart("div").class(i.CSS_CLASS+"Labels").openEnd();this.renderStartLabel(e,t);this.renderEndLabel(e,t);e.close("div")};a.renderProgressIndicator=function(e,t){var i=t.getRange();e.openStart("div",t.getId()+"-progress");if(t.getEnabled()){e.attr("tabindex","0")}this.addProgressIndicatorClass(e,t);e.style("width",t._sProgressValue);e.accessibilityState(t,{role:"slider",orientation:"horizontal",valuemin:t.toFixed(t.getMin()),valuemax:t.toFixed(t.getMax()),valuenow:i.join("-"),valuetext:t._oResourceBundle.getText("RANGE_SLIDER_RANGE_ANNOUNCEMENT",i),labelledby:t._oRangeLabel.getId()});e.openEnd().close("div")};a.render=function(e,t){var n=t.getEnabled(),a=t.getTooltip_AsString(),s=i.CSS_CLASS;e.openStart("div",t);this.addClass(e,t);e.class("ui5-sap-viz-vizRangeSlider");if(!n){e.class(s+"Disabled")}e.style("position","absolute").style("width",t.getWidth()).style("height",t.getHeight()).style("top",t.getTop()).style("left",t.getLeft());if(a&&t.getShowHandleTooltip()){e.attr("title",a)}e.openEnd();this.renderMock(e,t);e.openStart("div",t.getId()+"-inner");this.addInnerClass(e,t);if(!n){e.class(s+"InnerDisabled")}e.openEnd();if(t.getProgress()){this.renderProgressIndicator(e,t)}this.renderHandles(e,t);e.close("div");if(t.getEnableTickmarks()){this.renderTickmarks(e,t)}else{this.renderLabels(e,t)}if(t.getName()){this.renderInput(e,t)}e.close("div")};a.renderMock=function(e,t){var i=t.getRange();var n=t.getMax();var a=t.getMin();var s=Math.min(i[0],i[1]);var l=Math.max(i[0],i[1]);e.openStart("div",t.getId()+"-leftMock").class("ui5-sap-viz-vizSliderMock").class("ui5-sap-viz-vizSliderMock-left").style("right",(n-s)*100/(n-a)+"%").openEnd().close("div");e.openStart("div",t.getId()+"-rightMock").class("ui5-sap-viz-vizSliderMock").class("ui5-sap-viz-vizSliderMock-right").style("left",(l-a)*100/(n-a)+"%").openEnd().close("div");e.openStart("div",t.getId()+"-label").class("ui5-sap-viz-vizSliderLabel").style("left",(l+s)*50/(l-s)+"%");if(!t.getShowPercentageLabel()){e.style("visibility","hidden")}e.openEnd().text((l-s)*100/(n-a)+"%").close("div")};return a},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizSlider", ["sap/ui/core/Control","./VizFrame","./VizRangeSlider","./common/utils/Constants","sap/ui/Device","sap/ui/thirdparty/jquery","sap/base/util/deepEqual","./VizSliderRenderer"],function(e,t,i,a,r,jQuery,n){"use strict";var s={plotArea:{dataLabel:{visible:false}},legend:{visible:false},categoryAxis:{visible:false},valueAxis:{title:{visible:false}},title:{visible:false},interaction:{noninteractiveMode:true},timeAxis:{visible:false}};var g=e.extend("sap.viz.ui5.controls.VizSlider",{metadata:{library:"sap.viz",properties:{vizType:{type:"string",group:"Misc",defaultValue:"column"},uiConfig:{type:"object",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"800px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},valueAxisVisible:{type:"boolean",group:"Misc",defaultValue:true},showPercentageLabel:{type:"boolean",group:"Appearance",defaultValue:true},showStartEndLabel:{type:"boolean",group:"Appearance",defaultValue:true},range:{type:"object",group:"Appearance",defaultValue:null},_categoryRange:{type:"object",group:"Appearance",defaultValue:null,visibility:"hidden"}},aggregations:{_vizFrame:{type:"sap.viz.ui5.controls.VizFrame",multiple:false,visibility:"hidden"},_rangeSlider:{type:"sap.viz.ui5.controls.VizRangeSlider",multiple:false,visibility:"hidden"},dataset:{type:"sap.viz.ui5.data.Dataset",multiple:false},feeds:{type:"sap.viz.ui5.controls.common.feeds.FeedItem",multiple:true,singularName:"feed"}},events:{rangeChanged:{}}}});g.prototype.applySettings=function(){e.prototype.applySettings.apply(this,arguments);var a=new t({width:this.getWidth(),height:this.getHeight(),vizType:this.getVizType(),uiConfig:this.getUiConfig()});a.attachRenderComplete(c.bind(this));var r=new i({visible:false,showAdvancedTooltip:false,showHandleTooltip:false});r.setParentFrame(this);this.setAggregation("_vizFrame",a);this.setAggregation("_rangeSlider",r);r.attachChange(y.bind(this))};var o=["info/column","info/line","info/timeseries_line","info/timeseries_column"];g.prototype.setVizType=function(e){if(e.indexOf("info/")!==0){e="info/"+e}if(o.indexOf(e)===-1){e="info/null"}this.setProperty("vizType",e);return this};g.prototype.getDataset=function(e){var t=this._getVizFrame();return t&&t.getDataset()||this.getAggregation("dataset")};g.prototype.addFeed=function(e){var t=this._getVizFrame();if(t){t.addFeed(e)}else{this.addAggregation("feeds",e)}return this};g.prototype.removeFeed=function(e){var t=this._getVizFrame();if(t){t.removeFeed(e)}else{this.removeAggregation("feeds",e)}return this};g.prototype.removeAllFeeds=function(){var e=this._getVizFrame();if(e){e.removeAllFeeds()}else{this.removeAllAggregation("feeds")}return this};g.prototype.getFeeds=function(){var e=this._getVizFrame();return e&&e.getFeeds()||this.getAggregation("feeds")};g.prototype.exit=function(){var e=this._getVizFrame();e&&e.detachRenderComplete(c.bind(this),this);var t=this.getAggregation("_rangeSlider");t&&t.detachChange(y.bind(this))};g.prototype._getVizFrame=function(){return this.getAggregation("_vizFrame")};g.prototype._getRangeSlider=function(){return this.getAggregation("_rangeSlider")};g.prototype.onAfterRendering=function(){var e=this._getVizFrame();var t={valueAxis:{visible:this.getProperty("valueAxisVisible")}};t=jQuery.extend(true,{},t,s);e.setVizProperties(t);e.setUiConfig(this.getProperty("uiConfig"));e.setVizType(this.getProperty("vizType"));e.setHeight(this.getProperty("height"));e.setWidth(this.getProperty("width"));var i=this.getAggregation("dataset");if(i){this.removeAggregation("dataset");e.setDataset(i)}var a=this.getAggregation("feeds");if(a){this.removeAllAggregation("feeds");e.removeAllFeeds();for(var r=0;r<a.length;++r){e.addFeed(a[r])}}var n=this._getRangeSlider();n.setShowStartEndLabel(this.getProperty("showStartEndLabel"));n.setShowPercentageLabel(this.getProperty("showPercentageLabel"))};g.prototype.setRange=function(e){this.setProperty("range",e);this.invalidate();if(this._getVizFrame()){if(this._getVizFrame()._vizFrame){u.call(this,e)}}return this};g.prototype._setCategoryRange=function(e){this.setProperty("_categoryRange",e);this.invalidate();if(this._getVizFrame()){if(this._getVizFrame()._vizFrame){d.call(this,e)}}return this};function l(){var e=this.getVizType();return e==="info/timeseries_column"||e==="info/timeseries_line"}function h(){var e=this.getVizType();return e==="info/column"||e==="info/line"}function p(e){return e[Object.keys(e)[0]]}g.prototype.getRange=function(){if(!l.apply(this)){return null}return this.rangeState};g.prototype._getCategoryRange=function(){if(!h.apply(this)){return null}return this.categoryRangeState};g.prototype._getTooltipContent=function(e,t,i){var a=e,r=t;if(h.apply(this)){if(i==="end"&&r-a>1){r--}}var n=this._getVizFrame();return n._getDataRange(a,r).displayValues[i]};function u(e){var t=this._getRangeSlider();var i=this._getVizFrame();t.setRange(f.call(this,e));var a=t.getRange();var r=i._getDataRange(a[0],a[1]);this.rangeState={start:p(r.start),end:p(r.end)}}function d(e){var t=this._getRangeSlider();var i=this._getVizFrame();t.setRange(v.call(this,e));var a=t.getRange();var r=i._getDataRange(a[0]+1,a[1]-1);this.categoryRangeState={start:r.data[0],end:r.data[r.data.length-1]}}function f(e){if(!l.apply(this)){return null}if(!e||!("start"in e)&&!("end"in e)){return[0,100]}var t=new Date(e.start).getTime();var i=new Date(e.end).getTime();var a=this._getVizFrame()._getDataRange(0,100);var r=this.getRange();var n=p(a.start);var s=p(a.end);if(!r){r={};r.start=n;r.end=s}t=isNaN(t)?r.start:t;i=isNaN(i)?r.end:i;if(t<i&&t<s&&i>n){t=Math.max(t,n);i=Math.min(i,s);var g=s-n;return[(t-n)/g*100,(i-n)/g*100]}return[0,100]}function v(e){if(!h.apply(this)){return null}if(!e||!("start"in e)&&!("end"in e)){return[0,100]}var t=this._getVizFrame()._getDataRange(0,100);var i=t.data.length;var a=t.data[0];var r=t.data[i-1];var s=this._getCategoryRange()||{start:a,end:r};var g=e.start||s.start;var o=e.end||s.end;var l=-1,p=-1;t.data.forEach(function(e,t){if(n(g,e)){l=t}if(n(o,e)){p=t+1}});if(l<p&&l<i&&p>0){l=Math.max(l,0);p=Math.min(p,i);return[l/i*100,p/i*100]}return[0,100]}function c(){var e=this._getVizFrame()._states().plot.sizeInfo;var t=this._getVizFrame();this._curRange=[];var i=this._getRangeSlider();if(e){i.setWidth(e.width+"px");i.setHeight(e.height+"px");i.setLeft(e.x+"px");i.setTop(e.y+"px");i.setVisible(true);i.invalidate();if(l.apply(this)){var a=this.rangeState?this.rangeState:this.getProperty("range");u.call(this,a)}if(h.apply(this)){var r=this.categoryRangeState?this.categoryRangeState:this.getProperty("_categoryRange");d.call(this,r)}}else{i.setVisible(false)}t._setTitleAria("A noninteractive "+t._getMetadata().name+" with Range Slider ")}function y(e,t){var i=e.getParameters().range;if(this._curRange[0]===i[0]&&this._curRange[1]===i[1]){return}else{var a=this._getVizFrame();var r=a._getDataRange(i[0],i[1]);if(l.apply(this)){this.rangeState={start:p(r.start),end:p(r.end)}}if(h.apply(this)){if(i[1]-i[0]>1){r=a._getDataRange(i[0],i[1]-1)}this.categoryRangeState={start:r.data[0],end:r.data[r.data.length-1]}}this._curRange[0]=i[0];this._curRange[1]=i[1];delete r.displayValues;this.fireEvent("rangeChanged",{data:r})}}return g});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizSliderBasic", ["sap/ui/thirdparty/jquery","sap/m/library","sap/ui/core/Configuration","sap/ui/core/Control","sap/ui/core/EnabledPropagator","sap/m/Input","sap/m/ResponsiveScale","sap/ui/core/InvisibleText","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/ResizeHandler","sap/base/Log","./VizSliderBasicRenderer"],function(jQuery,t,e,i,s,a,n,o,r,l,h,u){"use strict";var p=t.touch;var f=l.TextAlign;var g=i.extend("sap.viz.ui5.controls.VizSliderBasic",{metadata:{interfaces:["sap.ui.core.IFormContent"],library:"sap.viz",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:""},min:{type:"float",group:"Data",defaultValue:0},max:{type:"float",group:"Data",defaultValue:100},step:{type:"float",group:"Data",defaultValue:1},progress:{type:"boolean",group:"Misc",defaultValue:true},value:{type:"float",group:"Data",defaultValue:0},showHandleTooltip:{type:"boolean",group:"Appearance",defaultValue:true},showAdvancedTooltip:{type:"boolean",group:"Appearance",defaultValue:false},inputsAsTooltips:{type:"boolean",group:"Appearance",defaultValue:false},enableTickmarks:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"scale",aggregations:{scale:{type:"sap.m.IScale",multiple:false,singularName:"scale"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"float"}}},liveChange:{parameters:{value:{type:"float"}}}},designTime:true}});g.prototype._CONSTANTS={CHARACTER_WIDTH_PX:8,INPUT_STATE_NONE:"None",INPUT_STATE_ERROR:"Error",TICKMARKS:{MAX_POSSIBLE:100,MIN_SIZE:{SMALL:8,WITH_LABEL:80}}};s.apply(g.prototype,[true]);g.prototype._convertValueToRtlMode=function(t){return this.getMax()-t+this.getMin()};g.prototype._recalculateStyles=function(){var t=this.$(),e=this.$().find("."+this.getRenderer().CSS_CLASS+"Handle").eq(0),i=parseFloat(e.css("width"))+2*parseFloat(e.css("border-width")),s=parseFloat(this.$("progress").parent().css("width"));this._fSliderWidth=t.width();this._fSliderPaddingLeft=parseFloat(t.css("padding-left"));this._fSliderOffsetLeft=t.offset().left;this._fHandleWidth=this.$("handle").width();this._fTooltipHalfWidthPercent=(this._fSliderWidth-(this._fSliderWidth-(this._iLongestRangeTextWidth/2+this._CONSTANTS.CHARACTER_WIDTH_PX)))/this._fSliderWidth*100;this._fHandleWidthPercent=i/s*100/2};g.prototype._validateProperties=function(){var t=this.getMin(),e=this.getMax(),i=this.getStep(),s=false,a=false;if(t>=e){s=true;a=true;u.warning("Warning: "+"Property wrong min: "+t+" >= max: "+e+" on ",this)}if(i<=0){u.warning("Warning: "+"The step could not be negative on ",this)}if(i>e-t&&!s){a=true;u.warning("Warning: "+"Property wrong step: "+i+" > max: "+e+" - "+"min: "+t+" on ",this)}return a};g.prototype._getPercentOfValue=function(t){var e=this.getMin(),i=(t-e)/(this.getMax()-e)*100;return i};g.prototype._getValueOfPercent=function(t){var e=this.getMin(),i=t*(this.getMax()-e)/100+e,s=this.toFixed(i,this.getDecimalPrecisionOfNumber(this.getStep()));return Number(s)};g.prototype._validateStep=function(t){if(typeof t==="undefined"){return 1}if(typeof t!=="number"){u.warning('Warning: "iStep" needs to be a number',this);return 0}if(Math.floor(t)===t&&isFinite(t)){return t}u.warning('Warning: "iStep" needs to be a finite interger',this);return 0};g.prototype._handleTickmarksResponsiveness=function(){var t,e,i,s,a=this.getAggregation("scale"),n=this.$().find("."+this.getRenderer().CSS_CLASS+"Tick"),o=this.$().find("."+this.getRenderer().CSS_CLASS+"Tickmarks").width(),r=o/n.length>=this._CONSTANTS.TICKMARKS.MIN_SIZE.SMALL;if(this._bTickmarksLastVisibilityState!==r){n.toggle(r);this._bTickmarksLastVisibilityState=r}t=this.$().find("."+this.getRenderer().CSS_CLASS+"TickLabel").toArray();e=parseFloat(t[1].style.left);i=o*e/100;s=a.getHiddenTickmarksLabels(o,t.length,i,this._CONSTANTS.TICKMARKS.MIN_SIZE.WITH_LABEL);t.forEach(function(t,e){t.style.display=s[e]?"none":"inline-block"})};g.prototype.getDecimalPrecisionOfNumber=function(t){if(Math.floor(t)===t){return 0}var e=t.toString(),i=e.indexOf("."),s=e.indexOf("e-"),a=s!==-1,n=i!==-1;if(a){var o=+e.slice(s+2);if(n){return o+e.slice(i+1,s).length}return o}if(n){return e.length-i-1}return 0};g.prototype.toFixed=function(t,e){if(e===undefined){e=this.getDecimalPrecisionOfNumber(t)}if(e>20){e=20}else if(e<0){e=0}return t.toFixed(e)+""};g.prototype.setDomValue=function(t){var i=this.getDomRef();if(!i){return}var s=Math.max(this._getPercentOfValue(+t),0)+"%",a=this.getDomRef("handle");if(this.getName()){this.getDomRef("input").setAttribute("value",t)}if(this.getProgress()){this.getDomRef("progress").style.width=s}a.style[e.getRTL()?"right":"left"]=s;if(this.getShowAdvancedTooltip()){this._updateAdvancedTooltipDom(t)}if(this.getShowHandleTooltip()&&!this.getShowAdvancedTooltip()){a.title=t}a.setAttribute("aria-valuenow",t)};g.prototype._updateAdvancedTooltipDom=function(t){var i=this.getInputsAsTooltips(),s=this.getDomRef("TooltipsContainer"),a=i&&this._oInputTooltip?this._oInputTooltip.tooltip:this.getDomRef("Tooltip"),n=e.getRTL()?"right":"left";if(!i){a.innerHTML=t}else if(i&&a.getValue()!==t){a.setValueState(this._CONSTANTS.INPUT_STATE_NONE);a.setValue(t);a.$("inner").attr("value",t)}s.style[n]=this._getTooltipPosition(t)};g.prototype._getTooltipPosition=function(t){var e=this._getPercentOfValue(+t);if(e<this._fHandleWidthPercent/2){return-this._fHandleWidthPercent+"%"}else if(e>100-this._fTooltipHalfWidthPercent+this._fHandleWidthPercent){return 100-this._fTooltipHalfWidthPercent*2+this._fHandleWidthPercent+"%"}else{return e-this._fTooltipHalfWidthPercent+"%"}};g.prototype.getClosestHandleDomRef=function(){return this.getDomRef("handle")};g.prototype._increaseValueBy=function(t){var e,i;if(this.getEnabled()){e=this.getValue();this.setValue(e+(t||1));i=this.getValue();if(e<i){this._fireChangeAndLiveChange({value:i})}}};g.prototype._decreaseValueBy=function(t){var e,i;if(this.getEnabled()){e=this.getValue();this.setValue(e-(t||1));i=this.getValue();if(e>i){this._fireChangeAndLiveChange({value:i})}}};g.prototype._getLongStep=function(){var t=this.getMin(),e=this.getMax(),i=this.getStep(),s=(e-t)/10,a=(e-t)/i;return a>10?s:i};g.prototype._fireChangeAndLiveChange=function(t){this.fireChange(t);this.fireLiveChange(t)};g.prototype._hasFocus=function(){return document.activeElement===this.getFocusDomRef()};g.prototype._createInputField=function(t,e){var i=new a(this.getId()+"-"+t,{value:this.getMin(),width:this._iLongestRangeTextWidth+2*this._CONSTANTS.CHARACTER_WIDTH_PX+"px",type:"Number",textAlign:f.Center,ariaLabelledBy:e});i.attachChange(this._handleInputChange.bind(this,i));i.addEventDelegate({onsapdown:this._inputArrowDown},this);i.addEventDelegate({onsapup:this._inputArrowUp},this);i.addEventDelegate({onfocusout:function(t){if(t.target.value!==undefined){t.srcControl.fireChange({value:t.target.value})}}});return i};g.prototype._inputArrowDown=function(t){var e=t;e.srcControl=this;t.preventDefault();t.stopPropagation();this.onsapdecrease(e)};g.prototype._inputArrowUp=function(t){var e=t;e.srcControl=this;t.preventDefault();t.stopPropagation();this.onsapincrease(e)};g.prototype._handleInputChange=function(t,e){var i=parseFloat(e.getParameter("value"));if(e.getParameter("value")==""||isNaN(i)||i<this.getMin()||i>this.getMax()){t.setValueState(this._CONSTANTS.INPUT_STATE_ERROR);return}t.setValueState(this._CONSTANTS.INPUT_STATE_NONE);this.setValue(i);this._fireChangeAndLiveChange({value:this.getValue()})};g.prototype.init=function(){this._iActiveTouchId=-1;this._bSetValueFirstCall=true;this._iLongestRangeTextWidth=0;this._fTooltipHalfWidthPercent=0;this._fHandleWidthPercent=0;this._oResourceBundle=r.getResourceBundleFor("sap.m")};g.prototype.exit=function(){if(this._oInputTooltip){this._oInputTooltip.label.destroy();this._oInputTooltip.label=null;this._oInputTooltip.tooltip.destroy();this._oInputTooltip.tooltip=null;this._oInputTooltip=null}if(this._oResourceBundle){this._oResourceBundle=null}if(this._parentResizeHandler){h.deregister(this._parentResizeHandler);this._parentResizeHandler=null}};g.prototype.onBeforeRendering=function(){var t=this._validateProperties(),e=[Math.abs(this.getMin()),Math.abs(this.getMax())],i=e[0]>e[1]?0:1;if(!t){this.setValue(this.getValue());this._sProgressValue=Math.max(this._getPercentOfValue(this.getValue()),0)+"%"}if(!this._hasFocus()){this._fInitialFocusValue=this.getValue()}if(this.getShowAdvancedTooltip()){this._iLongestRangeTextWidth=(e[i].toString().length+this.getDecimalPrecisionOfNumber(this.getStep())+1)*this._CONSTANTS.CHARACTER_WIDTH_PX}if(this.getInputsAsTooltips()&&!this._oInputTooltip){var s=new o({text:this._oResourceBundle.getText("SLIDER_HANDLE")});this._oInputTooltip={tooltip:this._createInputField("Tooltip",s),label:s}}if(this.getEnableTickmarks()&&!this.getAggregation("scale")){this.setAggregation("scale",new n)}};g.prototype.onAfterRendering=function(){if(this.getShowAdvancedTooltip()){this._recalculateStyles();this._updateAdvancedTooltipDom(this.getValue())}if(this.getEnableTickmarks()){setTimeout(function(){this._parentResizeHandler=h.register(this,this._handleTickmarksResponsiveness.bind(this))}.bind(this),0)}};g.prototype.ontouchstart=function(t){var i=this.getMin(),s=t.targetTouches[0],a,n=this.getRenderer().CSS_CLASS,o="."+n;t.setMarked();if(t.target.className.indexOf("sapMInput")===-1){t.preventDefault()}if(p.countContained(t.touches,this.getId())>1||!this.getEnabled()||t.button||t.srcControl!==this){return}this._iActiveTouchId=s.identifier;jQuery(document).on("touchend"+o+" touchcancel"+o+" mouseup"+o,this._ontouchend.bind(this)).on(t.originalEvent.type==="touchstart"?"touchmove"+o:"touchmove"+o+" mousemove"+o,this._ontouchmove.bind(this));var r=this.getClosestHandleDomRef();if(s.target!==r){setTimeout(r["focus"].bind(r),0)}if(!this._hasFocus()){this._fInitialFocusValue=this.getValue()}this._recalculateStyles();this._fDiffX=this._fSliderPaddingLeft;this._fInitialValue=this.getValue();this.$("inner").addClass(n+"Pressed");if(s.target===this.getDomRef("handle")){this._fDiffX=s.pageX-jQuery(r).offset().left+this._fSliderPaddingLeft-this._fHandleWidth/2}else{a=(s.pageX-this._fSliderPaddingLeft-this._fSliderOffsetLeft)/this._fSliderWidth*(this.getMax()-i)+i;if(e.getRTL()){a=this._convertValueToRtlMode(a)}this.setValue(a);a=this.getValue();if(this._fInitialValue!==a){this.fireLiveChange({value:a})}}};g.prototype._ontouchmove=function(t){t.setMarked();t.preventDefault();if(t.isMarked("delayedMouseEvent")||!this.getEnabled()||t.button){return}var i=this.getMin(),s=this.getValue(),a=p.find(t.changedTouches,this._iActiveTouchId),n=a?a.pageX:t.pageX,o=(n-this._fDiffX-this._fSliderOffsetLeft)/this._fSliderWidth*(this.getMax()-i)+i;if(e.getRTL()){o=this._convertValueToRtlMode(o)}this.setValue(o);o=this.getValue();if(s!==o){this.fireLiveChange({value:o})}};g.prototype._ontouchend=function(t){var e=this.getRenderer().CSS_CLASS,i="."+e;t.setMarked();if(t.isMarked("delayedMouseEvent")||!this.getEnabled()||t.button){return}jQuery(document).off(i);var s=this.getValue();this.$("inner").removeClass(e+"Pressed");if(this._fInitialValue!==s){this.fireChange({value:s})}};g.prototype.onfocusin=function(t){this.$("TooltipsContainer").addClass(this.getRenderer().CSS_CLASS+"HandleTooltipsShow");if(!this._hasFocus()){this._fInitialFocusValue=this.getValue()}};g.prototype.onfocusout=function(t){if(this.getInputsAsTooltips()&&jQuery.contains(this.getDomRef(),t.relatedTarget)){return}this.$("TooltipsContainer").removeClass(this.getRenderer().CSS_CLASS+"HandleTooltipsShow");this.$("progress").removeClass("focus")};g.prototype.onsapincrease=function(t){var e,i;if(t.srcControl!==this){return}t.preventDefault();t.setMarked();if(this.getEnabled()){e=this.getValue();this.stepUp(1);i=this.getValue();if(e<i){this._fireChangeAndLiveChange({value:i})}}};g.prototype.onsapincreasemodifiers=function(t){if(t.srcControl!==this||t.altKey){return}t.preventDefault();t.stopPropagation();t.setMarked();this._increaseValueBy(this._getLongStep())};g.prototype.onsapdecrease=function(t){var e,i;if(t.srcControl!==this){return}t.preventDefault();t.setMarked();if(this.getEnabled()){e=this.getValue();this.stepDown(1);i=this.getValue();if(e>i){this._fireChangeAndLiveChange({value:i})}}};g.prototype.onsapdecreasemodifiers=function(t){if(t.srcControl!==this||t.altKey){return}t.preventDefault();t.stopPropagation();t.setMarked();this._decreaseValueBy(this._getLongStep())};g.prototype.onsapplus=function(t){var e,i;if(t.srcControl!==this){return}t.setMarked();if(this.getEnabled()){e=this.getValue();this.stepUp(1);i=this.getValue();if(e<i){this._fireChangeAndLiveChange({value:i})}}};g.prototype.onsapminus=function(t){var e,i;if(t.srcControl!==this){return}t.setMarked();if(this.getEnabled()){e=this.getValue();this.stepDown(1);i=this.getValue();if(e>i){this._fireChangeAndLiveChange({value:i})}}};g.prototype.onsappageup=g.prototype.onsapincreasemodifiers;g.prototype.onsappagedown=g.prototype.onsapdecreasemodifiers;g.prototype.onsaphome=function(t){if(t.srcControl!==this){return}t.setMarked();var e=this.getMin();t.preventDefault();if(this.getEnabled()&&this.getValue()>e){this.setValue(e);this._fireChangeAndLiveChange({value:e})}};g.prototype.onsapend=function(t){if(t.srcControl!==this){return}t.setMarked();var e=this.getMax();t.preventDefault();if(this.getEnabled()&&this.getValue()<e){this.setValue(e);this._fireChangeAndLiveChange({value:e})}};g.prototype.onsaptabnext=function(){this._fInitialFocusValue=this.getValue()};g.prototype.onsaptabprevious=function(){this._fInitialFocusValue=this.getValue()};g.prototype.onsapescape=function(){this.setValue(this._fInitialFocusValue)};g.prototype.getFocusDomRef=function(){return this.getDomRef("handle")};g.prototype.stepUp=function(t){return this.setValue(this.getValue()+this._validateStep(t)*this.getStep(),{snapValue:false})};g.prototype.stepDown=function(t){return this.setValue(this.getValue()-this._validateStep(t)*this.getStep(),{snapValue:false})};g.prototype.setValue=function(t,e){if(this._bSetValueFirstCall){this._bSetValueFirstCall=false;return this.setProperty("value",t,true)}var i=this.getMin(),s=this.getMax(),a=this.getStep(),n=this.getValue(),o,r=true,l;if(e){r=!!e.snapValue}if(typeof t!=="number"||!isFinite(t)){return this}l=Math.abs((t-i)%a);if(r&&l!==0){t=l*2>=a?t+a-l:t-l}if(t<i){t=i}else if(t>s){t=s}o=this.toFixed(t,this.getDecimalPrecisionOfNumber(a));t=Number(o);this.setProperty("value",t,true);if(n!==this.getValue()){this.setDomValue(o)}return this};return g});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizSliderBasicRenderer", ["sap/base/i18n/Localization"],function(e){"use strict";var t={apiVersion:2};t.CSS_CLASS="sapVizSlider";t.render=function(e,i){var n=i.getEnabled(),a=i.getTooltip_AsString(),s=t.CSS_CLASS;e.openStart("div",i);this.addClass(e,i);if(!n){e.class(s+"Disabled")}e.style("width",i.getWidth());if(a&&i.getShowHandleTooltip()){e.attr("title",a)}e.openEnd();e.openStart("div",i.getId()+"-inner");this.addInnerClass(e,i);if(!n){e.class(s+"InnerDisabled")}e.openEnd();if(i.getProgress()){this.renderProgressIndicator(e,i)}this.renderHandles(e,i);e.close("div");if(i.getEnableTickmarks()){this.renderTickmarks(e,i)}else{this.renderLabels(e,i)}if(i.getName()){this.renderInput(e,i)}e.close("div")};t.renderProgressIndicator=function(e,t){e.openStart("div",t.getId()+"-progress");this.addProgressIndicatorClass(e,t);e.style("width",t._sProgressValue);e.attr("aria-hidden","true");e.openEnd();e.close("div")};t.renderHandles=function(e,t){this.renderHandle(e,t,{id:t.getId()+"-handle"});if(t.getShowAdvancedTooltip()){this.renderTooltips(e,t)}};t.renderHandle=function(t,i,n){var a=i.getEnabled();if(n&&n.id!==undefined){t.openStart("span",n.id)}else{t.openStart("span")}if(i.getShowHandleTooltip()&&!i.getShowAdvancedTooltip()){this.writeHandleTooltip(t,i)}this.addHandleClass(t,i);t.style(e.getRTL()?"right":"left",i._sProgressValue);this.writeAccessibilityState(t,i);if(a){t.attr("tabindex","0")}t.openEnd();t.close("span")};t.renderTooltips=function(e,i){e.openStart("div",i.getId()+"-TooltipsContainer").class(t.CSS_CLASS+"TooltipContainer").style("left","0%").style("right","0%").style("min-width","0%").openEnd();this.renderTooltip(e,i,i.getInputsAsTooltips());e.close("div")};t.renderTooltip=function(e,i,n){if(n&&i._oInputTooltip){e.renderControl(i._oInputTooltip.tooltip)}else{e.openStart("span",i.getId()+"-Tooltip").class(t.CSS_CLASS+"HandleTooltip").style("width",i._iLongestRangeTextWidth+"px").openEnd().close("span")}};t.writeHandleTooltip=function(e,t){e.attr("title",t.toFixed(t.getValue()))};t.renderInput=function(e,i){e.voidStart("input",i.getId()+"-input");e.attr("type","text");e.class(t.CSS_CLASS+"Input");if(!i.getEnabled()){e.attr("disabled","disabled")}e.attr("name",i.getName());e.attr("value",i.toFixed(i.getValue()));e.voidEnd()};t.writeAccessibilityState=function(e,t){e.accessibilityState(t,{role:"slider",orientation:"horizontal",valuemin:t.toFixed(t.getMin()),valuemax:t.toFixed(t.getMax()),valuenow:t.toFixed(t.getValue())})};t.renderTickmarks=function(e,i){var n,a,s,r,l,o,d,S=i.getAggregation("scale");if(!i.getEnableTickmarks()||!S){return}o=Math.abs(i.getMin()-i.getMax());d=i.getStep();r=S.getTickmarksBetweenLabels();a=S.calcNumTickmarks(o,d,i._CONSTANTS.TICKMARKS.MAX_POSSIBLE);s=i._getPercentOfValue(S.calcTickmarksDistance(a,i.getMin(),i.getMax(),d));e.openStart("ul").class(t.CSS_CLASS+"Tickmarks").openEnd();this.renderTickmarksLabel(e,i,i.getMin());for(n=0;n<a;n++){if(r&&n>0&&n%r===0){l=n*s;this.renderTickmarksLabel(e,i,i._getValueOfPercent(l))}e.openStart("li").class(t.CSS_CLASS+"Tick").style("width",s+"%").openEnd().close("li")}e.openStart("li").class(t.CSS_CLASS+"Tick").style("width","0%").openEnd().close("li");this.renderTickmarksLabel(e,i,i.getMax());e.close("ul")};t.renderTickmarksLabel=function(i,n,a){var s=n._getPercentOfValue(a);var r=e.getRTL()?"right":"left";a=n.toFixed(a,n.getDecimalPrecisionOfNumber(n.getStep()));i.openStart("li").class(t.CSS_CLASS+"TickLabel");i.style(r,s+"%");i.openEnd();i.openStart("div").class(t.CSS_CLASS+"Label").openEnd();i.text(""+a);i.close("div");i.close("li")};t.addClass=function(e,i){e.class(t.CSS_CLASS)};t.addInnerClass=function(e,i){e.class(t.CSS_CLASS+"Inner")};t.addProgressIndicatorClass=function(e,i){e.class(t.CSS_CLASS+"Progress")};t.addHandleClass=function(e,i){e.class(t.CSS_CLASS+"Handle")};t.renderLabels=function(e,t){};return t},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizSliderRenderer", function(){"use strict";var e={apiVersion:2};e.render=function(e,t){e.openStart("div",t).class("sapRangeSliderVizFrame").style("width",t.getWidth()).style("height",t.getHeight()).style("position","relative").openEnd();e.renderControl(t.getAggregation("_vizFrame"));e.renderControl(t.getAggregation("_rangeSlider"));e.close("div")};return e},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/VizTooltip", ["./common/BaseControl","./charttooltip/TooltipContainer","sap/ui/core/Element","sap/ui/core/Popup","./common/utils/FormatDataUtil","sap/ui/thirdparty/jquery"],function(o,t,i,e,n,jQuery){"use strict";var p=o.extend("sap.viz.ui5.controls.VizTooltip",{metadata:{library:"sap.viz",properties:{formatString:{type:"any",defaultValue:null}}},renderer:{apiVersion:2,render:function(o,t){o.openStart("div",t).openEnd().close("div")}}});p.prototype.init=function(){o.prototype.init.apply(this,arguments);this._uid=null;this._oTooltipContainer=null;this._oPopup=null};p.prototype.exit=function(){o.prototype.exit.apply(this,arguments);var t=i.getElementById(this._uid);if(t){if(t._vizFrame){t._vizFrame.off("showInstantTooltip");t._vizFrame.off("hideInstantTooltip");var e=t._onConnectPopover()||{};if(e.ref===this){t._onConnectPopover(null)}}else{t._onConnectPopover(jQuery.proxy(function(o){if(!t._vizFrame){return}t._vizFrame.off("showInstantTooltip");t._vizFrame.off("hideInstantTooltip")},this))}}if(this._oPopup){this._oPopup.destroy();this._oPopup=null}if(this._oTooltipContainer){this._oTooltipContainer.destroy();this._oTooltipContainer=null}this._uid=null};p.prototype.connect=function(o){this._uid=o;if(!this._oPopup){this._createTooltip()}var t=i.getElementById(this._uid);var e=t.getUiConfig();if(!e||e.applicationSet!=="fiori"){return}var n=this;function p(){if(!t._vizFrame){return}n._chartType=t._vizFrame.type();t._vizFrame.off("showTooltip");t._vizFrame.off("hideTooltip");t._vizFrame.on("showInstantTooltip",function(o){n._prepareTooltip(o.data);n._oPopup.close(0);n._oPopup.open(0)});t._vizFrame.on("hideInstantTooltip",function(){n._oPopup.close(0)})}p.ref=this;if(t._vizFrame){p()}t._onConnectPopover(p)};p.prototype._createTooltip=function(o){this._oTooltipContainer=new t;this._oPopup=new e;this._oPopup.setContent(this._oTooltipContainer);this._oPopup.setShadow(false)};p.prototype._prepareTooltip=function(o){var t={formatString:this.getFormatString(),chartType:this._chartType,mode:"tooltip"};var i=n.formatData(o,t);this._oTooltipContainer.setContent(i);var p=e.Dock.CenterBottom;var r=e.Dock.LeftTop;var a=o.point.x;var s=10;var l=o.point.y;var u=0+" "+-s;var f=document.createEvent("MouseEvents");f.initMouseEvent("mousemove",true,true,window,0,0,0,a,l,false,false,false,false,0,null);f=jQuery.event.fix(f);this._oPopup.setPosition(p,r,f,u,"flipfit")};p.prototype.addStyleClass=function(){this._oTooltipContainer.addStyleClass.apply(this._oTooltipContainer,arguments)};p.prototype.removeStyleClass=function(){this._oTooltipContainer.removeStyleClass.apply(this._oTooltipContainer,arguments)};return p});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/chartpopover/ChartPopover", ["sap/ui/thirdparty/jquery","./ContentPanel","./HeaderBar","./SubActionItemsPage","sap/ui/core/Control","sap/viz/ui5/format/ChartFormatter","../common/utils/FormatDataUtil","sap/m/library","sap/m/ActionListItem","sap/m/Bar","sap/m/Label","sap/m/List","sap/m/ResponsivePopover","sap/m/StandardListItem"],function(jQuery,e,t,o,i,s,a,n,r,l,c,h,_,p){"use strict";var d=n.PlacementType;var u=i.extend("sap.viz.ui5.controls.chartpopover.ChartPopover",{metadata:{library:"sap.viz",properties:{customDataControl:{type:"any"},actionItems:{type:"object[]"},formatString:{type:"any"},chartType:{type:"string"},showLine:{type:"boolean",defaultValue:true}}},renderer:null});u.prototype.init=function(){this._listItemHeight=3;this._isClosedByHeaderButton=false;this._isActionItemsChanged=true;this._options=null;this._oContentPanel=new e(this._createId("vizContentPanel"),{});this._oSelectedLabel=new c(this._createId("vizSelectedLabel"),{});this._oSelectedBar=new l(this._createId("vizSelectedBar"),{contentMiddle:[this._oSelectedLabel]}).addStyleClass("viz-controls-chartPopover-vizSelectedBar").addStyleClass("viz-controls-chartPopover-vizSelectedBarBorder");this._oCustomHeader=new t(this._createId("vizHeaderBar"),{title:sap.viz.extapi.env.Language.getResourceString("IDS_CURRENT_SELECTION"),showNavButton:false,closeButtonPress:jQuery.proxy(this.close,this),navButtonPress:jQuery.proxy(this._navigateBack,this)});this._oPopover=new _(this._createId("vizChartPopover"),{horizontalScrolling:false,placement:d.HorizontalPreferedRight,contentWidth:"18rem",customHeader:this._oCustomHeader,content:[this._oContentPanel]});this._oPopover.addStyleClass("viz-controls-chartPopover");this._oPopover.attachAfterClose(this._afterClose,this);this._oPopover.attachAfterOpen(this._afterOpen,this);this._setAriaLabelledBys();this._infoDiv=null;this._chartType=null};u.prototype._setAriaLabelledBys=function(){this._oPopover.removeAllAriaLabelledBy();this._oPopover.addAriaLabelledBy(this._oContentPanel);this._oPopover.addAriaLabelledBy(this._oSelectedLabel)};u.prototype._afterOpen=function(){this._oCustomHeader._oCloseButton.focus()};u.prototype._afterClose=function(){this._navigateBack();if(this._options&&this._options.selectedValues<1){this._oPopover.removeContent(this._oSelectedBar)}if(this._infoDiv&&this._isClosedByHeaderButton){this._isClosedByHeaderButton=false;this._infoDiv.focus()}};u.prototype.isOpen=function(){return this._oPopover.isOpen()};function f(e,t){if(!e||!e.getAttribute){return false}var o=e.getAttribute("class")||"";return(" "+o+" ").indexOf(" "+t+" ")>=0}u.prototype.openBy=function(e,t){if(e){this._oCustomHeader.setTitle(sap.viz.extapi.env.Language.getResourceString("IDS_CURRENT_SELECTION"));this._updateContent();this._updateActionItems();var o=this._updatePopoverSettings(e);var i=this._oPopover.getContent();if(i.length>0){this._oPopover.setInitialFocus(i[0].getId())}setTimeout(function(){this._oPopover.openBy(o,t)}.bind(this),0)}return this};u.prototype.close=function(e){if(e&&e.getSource&&this._oCustomHeader.getId()===e.getSource().getId()){this._isClosedByHeaderButton=true}this._oPopover.close();return this};u.prototype.exit=function(){if(this._oContentPanel){this._oContentPanel.destroy();this._oContentPanel=null}if(this._oSelectedBar){this._oSelectedBar.destroy();this._oSelectedBar=null}if(this._oSelectedLabel){this._oSelectedLabel.destroy();this._oSelectedLabel=null}if(this._oCustomHeader){this._oCustomHeader.destroy();this._oCustomHeader=null}if(this._oCustomPanel){this._oCustomPanel.destroy();this._oCustomPanel=null}if(this._oPopover){this._oPopover.destroy();this._oPopover=null}if(this._targetElement){this._targetElement.remove();this._targetElement=null}this._options=null;this._infoDiv=null;this._chartType=null};u.prototype.setOptions=function(e){var t={formatString:this.getFormatString(),chartType:this.getChartType(),mode:"popover"};var o=a.formatData(e,t);if(!this._infoDiv||this.getChartType()!=this._chartType){var i=e.target.parentNode;while(i&&!f(i,"v-info")){i=i.parentNode}this._infoDiv=i;this._chartType=this.getChartType()}if(this._infoDiv){var s=this._infoDiv.querySelector(".v-m-screenreader-container");if(s){var n=s.querySelector("li");if(n&&e.selectedValues){var r=e.selectedValues===1?" "+sap.viz.extapi.env.Language.getResourceString("IDS_ITEM_SELECTED"):" "+sap.viz.extapi.env.Language.getResourceString("IDS_ITEMS_SELECTED");n.innerText=e.selectedValues+r}}}this._options=e;this._oContentPanel.setShowLine(this.getShowLine()).setContentData(o);if(!o.val||e.selectedValues>1){this._oSelectedLabel.setText(e.selectedValues+" "+(e.selectedValues===1?sap.viz.extapi.env.Language.getResourceString("IDS_ITEM_SELECTED"):sap.viz.extapi.env.Language.getResourceString("IDS_ITEMS_SELECTED")));this._oPopover.insertContent(this._oSelectedBar,1);if(o.val===undefined){this._oSelectedBar.removeStyleClass("viz-controls-chartPopover-vizSelectedBarBorder")}}else{this._oPopover.removeContent(this._oSelectedBar)}return this};u.prototype.setActionItems=function(e){this._actionItems=[];this._actionItems=jQuery.extend(true,this._actionItems,e);this._isActionItemsChanged=true;return this};u.prototype.getActionItems=function(e){return this._actionItems};u.prototype._updateContent=function(){var e=this.getCustomDataControl();if(e){if(this._oCustomPanel){this._oPopover.removeContent(this._oCustomPanel)}this._oCustomPanel=e(this._options);this._oPopover.removeContent(this._oContentPanel);this._oPopover.insertContent(this._oCustomPanel,0);this._oSelectedBar.addStyleClass("viz-controls-chartPopover-vizSelectedBarBorder")}else{this._oPopover.removeContent(this._oCustomPanel);this._oCustomPanel=null;if(this._oContentPanel.isMultiSelected()){this._oPopover.removeContent(this._oContentPanel)}else if(this._oPopover.indexOfContent(this._oContentPanel)===-1){this._oPopover.insertContent(this._oContentPanel,0);this._oSelectedBar.addStyleClass("viz-controls-chartPopover-vizSelectedBarBorder")}}return this};u.prototype._updateActionItems=function(){if(this._isActionItemsChanged){var e=this._actionItems;if(!this._oActionList){e=this.getActionItems();if(e&&e.length>0){this._actionItems=jQuery.extend(true,this._actionItems,e);this._oActionList=new h({}).addStyleClass("viz-controls-chartPopover-actionList");this._oPopover.addContent(this._oActionList)}}if(e&&e.length>0){this._oActionList.removeAllItems();var t;var i=function(e){var t=this._oActionList.indexOfItem(e.getSource());var i=this._actionItems[t].children;if(i&&i.length>0){this._oSubActionItemsPage=new o;this._oPopover.insertContent(this._oSubActionItemsPage);this._oSubActionItemsPage.setItems(i);this._oCustomHeader.setTitle(this._actionItems[t].text);this._navigateTo()}};for(var s=0,a=e.length;s<a;s++){t=e[s];if(t.type==="action"){this._oActionList.addItem(new r({text:t.text,press:t.press?t.press:function(){},tooltip:t.text}))}else if(t.type==="navigation"){this._oActionList.addItem(new p({title:t.text,type:"Navigation",press:i.bind(this),tooltip:t.text}))}}}else if(this._oActionList){this._oActionList.destroy();this._oActionList=null}this._isActionItemsChanged=false}};u.prototype._navigateBack=function(){this._resetHeaderBar();if(this._oActionList){this._oActionList.removeStyleClass("hideActionList");this._oActionList.focus()}this._setAriaLabelledBys()};u.prototype._resetHeaderBar=function(){this._oPopover.removeContent(this._oSubActionItemsPage);this._oCustomHeader.setShowNavButton(false).setTitle(sap.viz.extapi.env.Language.getResourceString("IDS_CURRENT_SELECTION"))};u.prototype._navigateTo=function(e){this._oCustomHeader.setShowNavButton(true);if(this._oActionList){this._oActionList.addStyleClass("hideActionList")}this._oPopover.removeAriaLabelledBy(this._oContentPanel)};u.prototype._createId=function(e){return this.getId()+"-"+e};u.prototype._updatePopoverSettings=function(e){var t=this._options.data.val;var o=e.getBoundingClientRect(),i;var s=function(e){return parseInt(e)};var a=e.__data__;if(t!==undefined){for(var n=0,r=t.length;n<r;n++){if(t[n].type&&t[n].type.toLowerCase()==="measure"){i=t[n].value;break}}}else if(a&&a.measureNames){i=a[a.measureNames]}var l=this._options.data.type;var c=l&&l==="line";var h,_;switch(this.getChartType()){case"info/bar":case"info/dual_bar":if(i<0){this._oPopover.setPlacement(d.PreferredLeftOrFlip)}else{this._oPopover.setPlacement(d.PreferredRightOrFlip)}h=e.firstChild;break;case"info/column":case"info/dual_column":case"info/timeseries_column":if(i<0){this._oPopover.setPlacement(d.PreferredBottomOrFlip)}else{this._oPopover.setPlacement(d.PreferredTopOrFlip)}h=e.firstChild;break;case"info/pie":case"info/donut":_=s(o.width/2);this._oPopover.setOffsetX(-_);this._oPopover.setPlacement(d.PreferredRightOrFlip);h=e.firstChild;break;case"info/bullet":this._oPopover.setPlacement(d.PreferredRightOrFlip);h=e;break;case"info/vertical_bullet":case"info/timeseries_bullet":this._oPopover.setPlacement(d.PreferredTopOrFlip);h=e;break;case"info/line":case"info/timeseries_line":case"info/timeseries_scatter":case"info/timeseries_bubble":case"info/dual_line":case"info/bubble":case"info/time_bubble":case"info/scatter":case"info/stacked_bar":case"info/dual_stacked_bar":case"info/100_stacked_bar":case"info/100_dual_stacked_bar":case"info/waterfall":case"info/timeseries_waterfall":case"info/area":case"info/radar":this._oPopover.setPlacement(d.VerticalPreferredTop);h=e.firstChild;break;case"info/stacked_column":case"info/dual_stacked_column":case"info/100_stacked_column":case"info/100_dual_stacked_column":case"info/horizontal_waterfall":case"info/heatmap":case"info/treemap":case"info/timeseries_stacked_column":case"info/timeseries_100_stacked_column":this._oPopover.setPlacement(d.HorizontalPreferredRight);h=e.firstChild;break;case"info/combination":case"info/timeseries_combination":case"info/dual_timeseries_combination":if(c){this._oPopover.setPlacement(d.PreferredTopOrFlip)}else if(i<0){this._oPopover.setPlacement(d.PreferredBottomOrFlip)}else{this._oPopover.setPlacement(d.PreferredTopOrFlip)}h=e.firstChild;break;case"info/dual_combination":case"info/stacked_combination":case"info/dual_stacked_combination":case"info/timeseries_stacked_combination":if(c){this._oPopover.setPlacement(d.VerticalPreferedTop)}else{this._oPopover.setPlacement(d.HorizontalPreferedRight)}h=e.firstChild;break;case"info/dual_horizontal_combination":case"info/horizontal_stacked_combination":case"info/dual_horizontal_stacked_combination":if(c){this._oPopover.setPlacement(d.HorizontalPreferedRight)}else{this._oPopover.setPlacement(d.VerticalPreferedTop)}h=e.firstChild;break}return h};u.prototype.addStyleClass=function(){this._oPopover.addStyleClass.apply(this._oPopover,arguments)};u.prototype.removeStyleClass=function(){this._oPopover.removeStyleClass.apply(this._oPopover,arguments)};return u});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/chartpopover/ContentPanel", ["./ShapeMarker","sap/ui/core/Control","sap/ui/layout/form/SimpleForm","sap/ui/layout/Grid","sap/m/Text","sap/m/ObjectNumber","sap/m/Label","sap/ui/core/library","../common/utils/ContentUtil","../common/utils/SelectionDetailUtil","sap/ui/layout/form/ResponsiveGridLayout"],function(e,t,o,a,s,i,r,l,n,h){"use strict";var p=l.TextAlign;var m=t.extend("sap.viz.ui5.controls.chartpopover.ContentPanel",{metadata:{library:"sap.viz",properties:{showLine:"boolean"},publicMethods:["setContentData"]},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t).class("viz-controls-chartPopover-contentPanel").attr("aria-labelledby",t._oDimLabel.getId()+" "+t._oForm.getId()).attr("tabindex",-1).openEnd();e.renderControl(t._oShapeLabel);e.renderControl(t._oPanel);e.close("div")}}});m.prototype.init=function(){this._measureItemsLen=0;this._maxMeasureLableLen=15;this._maxMeasureValueLen=12;this._oShapeLabel=new e(this._createId("vizShapeMarker"),{}).addStyleClass("viz-controls-chartPopover-dimension-marker");this._oDimLabel=new s(this._createId("vizDimensionLabel"),{}).addStyleClass("viz-controls-chartPopover-dimension-label");this._oForm=new o({editable:false,maxContainerCols:2,layout:"ResponsiveGridLayout",labelSpanL:6,labelSpanM:6,labelSpanS:6,emptySpanL:0,emptySpanM:0,emptySpanS:0,columnsL:2,columnsM:2,content:[]});this._oPanel=new a({width:"100%",defaultSpan:"L12 M12 S12",content:[this._oDimLabel,this._oForm]}).addStyleClass("viz-controls-chartPopover-Vlt")};m.prototype.setContentData=function(e){this._measureItemsLen=0;var t=e.val,o="";if(t){this._oForm.removeAllContent();var a=false;var s=n.setContent("popover",e);var i=s.items;o=s.dims;a=s.isLongMode;for(var r=0;r<i.length;r++){this._renderLabels(a,i[r],e.isTimeSeries)}var l=function(e){var t=false;if(e.selectByTimeAxisGroup&&e.val){var o=0;for(var a=0;a<e.val.length;a++){if(e.val[a].type==="Measure"){o++}}if(o>1){t=true}}return t};if(!l(e)&&typeof e.color==="string"){var h=this._oDimLabel.$().css("margin-left");if(h){h=parseInt(h.substr(0,h.length-2));this._oShapeLabel.setMarkerSize(h)}this._oShapeLabel.setColor(e.color).setType(e.shape?e.shape:"square");if(this.getShowLine()){this._oShapeLabel.setShowWithLine(e.type).setLineInfo(e.lineInfo)}else{this._oShapeLabel.setShowWithLine(undefined)}if(e.stroke&&e.stroke.visible){this._oShapeLabel.setStroke(e.stroke)}}else{this._oShapeLabel.setType(null);this._oShapeLabel.setShowWithLine(undefined)}if(e.pattern){this._oShapeLabel.setPattern(e.pattern)}else{this._oShapeLabel.setPattern(null)}if(o&&o.length>0){this._oDimLabel.setVisible(true);this._oDimLabel.setText(o)}else{this._oDimLabel.setVisible(false)}this._measureItemsLen=e.val.length;if(this._oShapeLabel._isShowWithLine()){this._oForm.addStyleClass("viz-controls-chartPopover-measure-simpleForm")}else{this._oForm.removeStyleClass("viz-controls-chartPopover-measure-simpleForm")}if(!this._oDimLabel.getVisible()){this._oForm.addStyleClass("viz-controls-chartPopover-measure-simpleForm-withoutDimensionLabel")}else{this._oForm.removeStyleClass("viz-controls-chartPopover-measure-simpleForm-withoutDimensionLabel")}}};m.prototype._renderLabels=function(e,t,o){var a;if(e){this._oForm.setLabelSpanS(12);if(t.name!==""){this._oForm.addContent(new s({text:t.name}).addStyleClass("viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-labels-wrapper-name"))}a=new i({number:t.value,unit:t.unit,textAlign:p.Begin}).addStyleClass("viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-labels-wrapper-value");this._oForm.addContent(a);if(o&&t.name===""){a.addStyleClass("viz-controls-chartPopover-timeDayDimValue")}}else{this._oForm.setLabelSpanS(6);this._oForm.addContent(new r({text:t.name}).addStyleClass("viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-name"));if(t.value!==null){a=new i({number:t.value,unit:t.unit,textAlign:p.End}).addStyleClass("viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-value")}else{a=new i({number:this._getNoValueLabel(),textAlign:p.End}).addStyleClass("viz-controls-chartPopover-measure-labels viz-controls-chartPopover-measure-value")}if(o&&t.name===""){a.addStyleClass("viz-controls-chartPopover-timeDayValue")}this._oForm.addContent(a)}};m.prototype.isMultiSelected=function(){return this._measureItemsLen===0};m.prototype._createId=function(e){return this.getId()+"-"+e};m.prototype._getNoValueLabel=function(){return sap.viz.extapi.env.Language.getResourceString("IDS_ISNOVALUE")};m.prototype.exit=function(e){if(this._oForm){this._oForm.destroy();this._oForm=null}if(this._oShapeLabel){this._oShapeLabel.destroy();this._oShapeLabel=null}if(this._oDimLabel){this._oDimLabel.destroy();this._oDimLabel=null}if(this._oPanel){this._oPanel.destroy();this._oPanel=null}};return m});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/chartpopover/HeaderBar", ["sap/ui/thirdparty/jquery","sap/m/library","sap/m/Bar","sap/m/Button","sap/m/Label","sap/ui/core/IconPool","sap/ui/core/Lib"],function(jQuery,t,e,o,i,s,n){"use strict";var r=t.ButtonType;var a=e.extend("sap.viz.ui5.controls.chartpopover.HeaderBar",{metadata:{library:"sap.viz",properties:{showNavButton:"boolean",title:"string"},publicMethods:[],events:{navButtonPress:{},closeButtonPress:{}}},renderer:{apiVersion:2}});a.prototype.getContentLeft=function(){if(!this._oNavButton){this._oNavButton=new o(this._createId("popoverNavButton"),{type:r.Back,tooltip:n.getResourceBundleFor("sap.m").getText("PAGE_NAVBUTTON_TEXT"),press:jQuery.proxy(function(){this.fireNavButtonPress()},this)}).addStyleClass("viz-controls-chartPopover-backButton")}this._oNavButton.setVisible(this.getShowNavButton());this._oNavButton.onAfterRendering=function(){this.focus()};return[this._oNavButton]};a.prototype.getContentMiddle=function(){if(!this._oTitleLabel){this._oTitleLabel=new i(this._createId("popoverHeaderTitle")).addStyleClass("viz-controls-chartPopover-titleLabel");this.addAriaLabelledBy(this._oTitleLabel)}this._oTitleLabel.setText(this.getTitle());return[this._oTitleLabel]};a.prototype.getContentRight=function(){if(!this._oCloseButton){this._oCloseButton=new o(this._createId("popoverCloseButton"),{icon:s.getIconURI("decline"),tooltip:n.getResourceBundleFor("sap.m").getText("MESSAGEPOPOVER_CLOSE"),press:jQuery.proxy(function(){this.fireCloseButtonPress()},this)}).addStyleClass("viz-controls-chartPopover-closeButton")}return[this._oCloseButton]};a.prototype.exit=function(){if(this._oCloseButton){this._oCloseButton.destroy();this._oCloseButton=null}if(this._oTitleLabel){this._oTitleLabel.destroy();this._oTitleLabel=null}if(this._oNavButton){this._oNavButton.destroy();this._oNavButton=null}e.prototype.exit.apply(this,arguments)};a.prototype._createId=function(t){return this.getId()+"-"+t};return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/chartpopover/ShapeMarker", ["sap/ui/core/Control","sap/ui/core/theming/Parameters","../common/utils/SelectionDetailUtil"],function(t,e,r){"use strict";var a=t.extend("sap.viz.ui5.controls.chartpopover.ShapeMarker",{metadata:{library:"sap.viz",properties:{type:"string",color:"string",markerSize:"int",showWithLine:"string",lineInfo:"object",stroke:"object",pattern:"string"}},renderer:{apiVersion:2,render:function(t,a){var i=a.getMarkerSize()?a.getMarkerSize():10;var o=i/2,n=o,s=i,l=i;if(a._isShowWithLine()){o=i;s=i*2;i=6}var p={rx:i/2,ry:i/2,type:a.getType(),borderWidth:0};t.openStart("div").openEnd();t.openStart("svg").attr("width",s+"px").attr("height",l+"px").attr("focusable","false").openEnd();if(a._isShowWithLine()){var h=a.getLineInfo(),d=e.get(h.lineColor);if(!d){d=h.lineColor?h.lineColor:a.getColor()}if(h.lineType==="dotted"||h.lineType==="dash"){t.openStart("line").attr("x1",0).attr("y1",n).attr("x2",s).attr("y2",n).attr("stroke-width",2).attr("stroke-dasharray","5, 3")}else if(h.lineType==="dot"){var f=Math.floor(s/2);f=f&1?f:f-1;if(f<3){f=3}var g=s/f;t.openStart("line").attr("x1",g/2).attr("y1",n).attr("x2",s).attr("y2",n).attr("stroke-dasharray","0,"+g*2).attr("stroke-width",g).attr("stroke-linecap","round")}else{t.openStart("line").attr("x1",0).attr("y1",n).attr("x2",s).attr("y2",n).attr("stroke-width",2)}t.attr("stroke",d);t.openEnd().close("line")}if(p.type){t.openStart("path").attr("d",r.generateShapePath(p));var c=a.getPattern();if(!c){t.attr("fill",a.getColor())}else if(c==="noFill"){var y=e.get("sapUiChartBackgroundColor");if(y==="transparent"){y="white"}t.attr("fill",y);t.attr("stroke",a.getColor());t.attr("stroke-width","1px")}else{t.attr("fill",c)}t.attr("transform","translate("+o+","+n+")");t.openEnd().close("path")}t.close("svg");t.close("div")}}});a.prototype._isShowWithLine=function(){return this.getShowWithLine()==="line"&&this.getLineInfo()};return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/chartpopover/SubActionItemsPage", ["sap/ui/core/Control","sap/m/List","sap/m/ActionListItem"],function(t,e,i){"use strict";var o=t.extend("sap.viz.ui5.controls.chartpopover.SubActionItemsPage",{metadata:{library:"sap.viz",properties:{items:{type:"object[]"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div").class("viz-controls-chartPopover-subActionItemsPage").openEnd().renderControl(e._oList).close("div")}}});o.prototype.init=function(){this._oList=new e({})};o.prototype.onAfterRendering=function(){setTimeout(function(){this._oList&&this._oList.focus()}.bind(this),10)};o.prototype.exit=function(){if(this._oList){this._oList.destroy();this._oList=null}};o.prototype.setItems=function(t){this._oList.destroyItems();if(Array.isArray(t)){var e;for(var o=0;o<t.length;o++){e=new i({text:t[o].text,press:t[o].press?t[o].press:function(){},tooltip:t[o].text});this._oList.addItem(e)}}this.setProperty("items",t);return this};o.prototype._createId=function(t){return this.getId()+"-"+t};return o});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/charttooltip/ContentPanel", ["sap/ui/core/Control","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/m/Label","sap/m/Text","../common/utils/ContentUtil","sap/ui/core/library","sap/m/ObjectNumber"],function(t,e,o,n,a,r,i,l){"use strict";var s=t.extend("sap.viz.ui5.controls.charttooltip.ContentPanel",{metadata:{library:"sap.viz",properties:{}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e).class("viz-controls-chartTooltip-contentPanel").openEnd().renderControl(e._oPanel).close("div")}}});s.prototype.init=function(){this._oPanel=new e({})};s.prototype.setContent=function(t){this._oPanel.destroyContent();var e=r.setContent("toolTip",t);var o=e.items;var n=o.length>1?true:false;for(var a=0;a<o.length;a++){this._renderLabels(o[a],n,!!a)}};s.prototype._renderLabels=function(t,e,r){var i;var s=new n({text:t.name});s.addStyleClass("viz-controls-chartTooltip-label");var p=new n({text:":"});p.addStyleClass("viz-controls-chartTooltip-separator");var u=t.value;if(u===null){u=this._getNoValueLabel()}if(t.type&&t.type==="dimension"){i=new a({text:u});i.addStyleClass("viz-controls-chartTooltip-dimension-value")}else if(t.type&&t.type==="measure"){i=new l({number:u,unit:t.unit});i.addStyleClass("viz-controls-chartTooltip-measure-value")}var c=new o({content:[s,p,i]});if(e&&r){c.addStyleClass("sapUI5TooltipRowSpacing")}this._oPanel.addContent(c)};s.prototype.exit=function(){if(this._oPanel){this._oPanel.destroy();this._oPanel=null}};s.prototype._getNoValueLabel=function(){return sap.viz.extapi.env.Language.getResourceString("IDS_ISNOVALUE")};return s});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/charttooltip/TooltipContainer", ["sap/ui/core/Control","./ContentPanel"],function(t,n){"use strict";var o=t.extend("sap.viz.ui5.controls.charttooltip.TooltipContainer",{metadata:{library:"sap.viz",properties:{}},renderer:{apiVersion:2,render:function(t,n){t.openStart("div",n).class("viz-controls-chartTooltip").openEnd().renderControl(n._oPanel).close("div")}}});o.prototype.init=function(){this._oPanel=new n};o.prototype.setContent=function(t){this._oPanel.setContent(t)};o.prototype.exit=function(){if(this._oPanel){this._oPanel.destroy();this._oPanel=null}};return o});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/BaseControl", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/RenderManager","sap/ui/core/ResizeHandler","sap/viz/library","sap/ui/thirdparty/jquery","./BaseControlRenderer"],function(e,i,t,r,n,jQuery,s){"use strict";var o=i.extend("sap.viz.ui5.controls.common.BaseControl",{metadata:{library:"sap.viz",properties:{uiConfig:{type:"object",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"640px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"480px"}},renderer:s}});o.prototype.init=function(){this._app$=null;this._controls={};this._handlers={resize:null};this._locale=null;this._pendingRerendering=false;this._resourceLoaded=false;n._initializeVIZControls(this.isA("sap.viz.ui5.VizContainer"),function(e){this._resourceLoaded=e;this.invalidate();setTimeout(function(){if(!this.getUIArea()){this._render()}}.bind(this),0)}.bind(this))};o.prototype.exit=function(){this._app$=null;this._deregister();for(var e in this._controls){this._controls[e].destroy()}};o.prototype.onBeforeRendering=function(){var e=this._app$&&this._app$[0];if(e&&!t.isPreservedContent(e)){t.preserveContent(e,true,false)}this._deregister()};o.prototype.onAfterRendering=function(){this._render()};o.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate();if(!this._pendingRerendering){this._render()}}};o.prototype.onLocalizationChanged=function(){if(this._locale!==e.getLanguage()){this._render()}};o.prototype._render=function(){if(this._resourceLoaded&&this.getDomRef()){this._pendingRerendering=false;this._locale=e.getLanguage();if(!this._app$){this._app$=jQuery(document.createElement("div")).appendTo(this.getDomRef()).addClass("ui5-viz-controls-app");jQuery(this._app$).attr("data-sap-ui-preserve",this.getId());this._validateSize();this._createChildren()}else{this._app$.appendTo(this.getDomRef());this._validateSize();this._updateChildren()}this._register();this.fireEvent("pendingRerenderingFalse")}};o.prototype._createChildren=function(){};o.prototype._updateChildren=function(){};o.prototype._deregister=function(){if(this._handlers.resize){r.deregister(this._handlers.resize)}this._handlers.resize=null};o.prototype._register=function(){this._deregister();this._handlers.resize=r.register(this.getDomRef(),jQuery.proxy(this._validateSize,this))};o.prototype._validateSize=function(){};o.prototype.invalidate=function(){i.prototype.invalidate.apply(this,arguments);if(this.getUIArea()){this._pendingRerendering=true}};return o});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/BaseControlRenderer", function(){"use strict";var e={apiVersion:2};e.render=function(e,n){};return e},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/feeds/AnalysisObject", ["sap/ui/core/Element","sap/viz/library"],function(t,e){"use strict";var r=t.extend("sap.viz.ui5.controls.common.feeds.AnalysisObject",{metadata:{library:"sap.viz",properties:{uid:{type:"string",group:"Misc",defaultValue:null},name:{type:"string",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},dataType:{type:"string",group:"Misc",defaultValue:null}}}});r.prototype._toInnerFmt=function(t){var e=this.getProperty("uid");var r=this.getProperty("type");if(e&&r){return new t(e,this.getProperty("name"),r,this.getProperty("dataType"),this._inResult())}};r.prototype._inResult=function(t){if(!arguments.length){return!!this._bInResult}else{this._bInResult=t;return this}};r.toVizControlsFmt=function(t){return Array.prototype.map.call(t,function(t){return t._toInnerFmt(function(t,e,r,n){r=r?r.toLowerCase():r;n=n?n.toLowerCase():n;return new sap.viz.controls.common.feeds.AnalysisObject(t,e,r,n)})})};r.fromVizControlsFmt=function(t){return Array.prototype.map.call(t,function(t){return new r({uid:t.id(),name:t.name(),type:t.type(),dataType:t.dataType()})})};r.toLightWeightFmt=function(t){return Array.prototype.map.call(t,function(t){return t._toInnerFmt(function(t,e,r,n,u){n=i[n]||n;r=a[r]||r;if(n||n.length){return{id:t,type:r,inResult:u,dataType:n}}else{return{id:t,type:r,inResult:u}}})})};r.fromLightWeightFmt=function(t){return Array.prototype.map.call(t,function(t){return new r({uid:t.id,name:t.id,type:t.type,dataType:u[t.dataType]||t.dataType})._inResult(t.inResult)})};var n=function(t){var e={};for(var r in t){var n=t[r];e[n]=r}return e};var i={string:"String",number:"Number",date:"Date"};var a={measure:"Measure",dimension:"Dimension"};var u=n(i);return r});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/feeds/FeedHelper", function(){"use strict";var e={};e.getFeedDefsMap=function(e){var t;try{t=sap.viz.api.manifest.Viz.get(e)[0].allFeeds()}catch(a){try{t=sap.viz.api.metadata.Viz.get(e).bindings}catch(e){return null}}var a={};for(var r=0;r<t.length;r++){a[t[r].id]=t[r]}return a};e.updateAxis=function(t,a,r){if(!r||r.length===0||!t||t.length===0){return}var n={};t.forEach(function(e){n[e.getName()]=e});var i=e.getFeedDefsMap(a);r.forEach(function(e){var t=i[e.getUid()];if(t.type!=="Dimension"){return}var a=t.aaIndex;e.getValues().forEach(function(e){var t=n[e];if(t){t.setProperty("axis",a,true)}})})};return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/feeds/FeedItem", ["sap/ui/core/Element","sap/viz/library","./AnalysisObject"],function(t,e,r){"use strict";var n=t.extend("sap.viz.ui5.controls.common.feeds.FeedItem",{metadata:{library:"sap.viz",properties:{uid:{type:"string",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},values:{type:"any[]",group:"Misc",defaultValue:null}}}});n.prototype._toInnerFmt=function(t){var e=this.getProperty("uid");var n=this.getProperty("type");var i=this.getProperty("values");if(e&&n){this._analysisObjects=[];if(i){var o=e==="timeAxis";i.forEach(function(t,e,i){if(typeof t==="string"){this._analysisObjects[e]=new r({uid:t,name:t,type:t==="MND"?"MND":n})}else if(t instanceof r){this._analysisObjects[e]=t}else{return}if(o){this._analysisObjects[e].setDataType("date")}}.bind(this))}return t(e,n,this._analysisObjects)}};n.toVizControlsFmt=function(t){return Array.prototype.map.call(t,function(t){return t._toInnerFmt(function(t,e,n){return new sap.viz.controls.common.feeds.FeedItem(t,e,r.toVizControlsFmt(n))})})};n.fromVizControlsFmt=function(t){return Array.prototype.map.call(t,function(t){return new n({uid:t.id(),type:t.type(),values:r.fromVizControlsFmt(t.values())})})};n.toLightWeightFmt=function(t){return Array.prototype.map.call(t,function(t){return t._toInnerFmt(function(t,e,n){return{id:t,type:e,values:r.toLightWeightFmt(n)}})})};n.fromLightWeightFmt=function(t){return Array.prototype.map.call(t,function(t){return new n({uid:t.id,type:t.type,values:r.fromLightWeightFmt(t.values)})})};return n});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/helpers/DefaultPropertiesHelper", ["sap/viz/ui5/format/ChartFormatter","sap/ui/Device","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var a={};var i={plotArea:{scrollbar:{spacing:2}},legend:{scrollbar:{spacing:2}}};var r=t.system.tablet||t.system.phone;var l={tooltip:{visible:false},general:{groupData:true},plotArea:{window:{start:"firstDataPoint"},dataLabel:{hideWhenOverlap:true,respectShapeWidth:true,style:{color:null}},dataPointSize:{min:r?40:24,max:96}},interaction:{behaviorType:"noHoverBehavior",selectability:{mode:"multiple"},zoom:{enablement:"enabled",direction:"categoryAxis"},enableKeyboard:true,enableInternalEvents:true},timeAxis:{label:{forceToShowFirstLastData:true}},categoryAxis:{label:{angle:45,rotation:"auto"}},legendGroup:{layout:{position:"auto",respectPlotPosition:false},forceToShow:true},legend:{isScrollable:true,selectionFeedback:true}};var u={plotArea:{primaryValuesColorPalette:["sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue1Dark1"],secondaryValuesColorPalette:["sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue2Dark1"]},valueAxis:{title:{style:{color:"sapUiChartPaletteSequentialHue1Dark1"}},axisLine:{visible:false},color:"sapUiChartPaletteSequentialHue1Dark1"},valueAxis2:{title:{style:{color:"sapUiChartPaletteSequentialHue2Dark1"}},axisLine:{visible:false},color:"sapUiChartPaletteSequentialHue2Dark1"}};a.getExtraProp=function(e){if(e==="fiori"&&r){return jQuery.extend(true,{},i)}else{return{}}};a._getFiori=function(e,t){var i=e.mergeProperties(t,{},a._general,a._specified[t.replace("info/","")]||{});var r=jQuery.extend(true,{},l);i=e.mergeProperties(t,r,i);if(/dual/.test(t)){i=e.mergeProperties(t,i,u)}return i};a.DEFAULT_FIORI_PROPS=l;a.FIORI_DUAL_PROPS=u;a.get=function(e,t,i){if(i==="fiori"){return a._getFiori(e,t)}else{return e.mergeProperties(t,{},a._general,a._specified[t.replace("info/","")]||{},h({},t))}};function s(e,t){if(e==null||t.legnth===0){return e}var a=e[t[0]];if(a&&a.children){return s(a.children,t.slice(1))}return a}function n(e,t,a){if(t.length===0){return a}e=e||{};var i=e[t[0]];e[t[0]]=n(i,t.slice(1),a);return e}var o="u";var p=[["valueAxis","label","formatString"],["valueAxis2","label","formatString"]];function h(e,t){var a=sap.viz.api.metadata.Viz.get(t);if(a){var i=a.properties;p.forEach(function(t){var a=s(i,t);if(a&&a.hasOwnProperty("defaultValue")){n(e,t,o)}})}return e}a.applyDefaultFormatString=h;a._general={title:{visible:true},legend:{visible:true},plotArea:{animation:{dataLoading:false,dataUpdating:false,resizing:false},colorPalette:["sapUiChartPaletteQualitativeHue1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11","sapUiChartPaletteQualitativeHue12","sapUiChartPaletteQualitativeHue13","sapUiChartPaletteQualitativeHue14","sapUiChartPaletteQualitativeHue15","sapUiChartPaletteQualitativeHue16","sapUiChartPaletteQualitativeHue17","sapUiChartPaletteQualitativeHue18","sapUiChartPaletteQualitativeHue19","sapUiChartPaletteQualitativeHue20","sapUiChartPaletteQualitativeHue21","sapUiChartPaletteQualitativeHue22"],primaryValuesColorPalette:["sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue1Dark1"],secondaryValuesColorPalette:["sapUiChartPaletteSequentialHue2Light1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue2Dark1"]}};var P={plotArea:{nullColor:"sapUiChoroplethRegionBG",colorPalette:["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue1Dark1","sapUiChartPaletteSequentialHue1Dark2"]}};a._specified={heatmap:P,treemap:P};return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 * set specific properties to align the Fiori UX standard at runtime according to chart type and feeding
 */
sap.ui.predefine("sap/viz/ui5/controls/common/helpers/RuntimeOptionsHelper", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e={};e.decorateFiori=function(a,t,i){return e._processCategoryTicker(a,t,i)};e.processBulletProperty=function(e,a){var t=a.plotArea;if(t){var i=["colorPalette","actualColor","additionalColor","forecastColor"];for(var l=0;l<i.length;++l){if(t.hasOwnProperty(i[l])){if(t[i[l]]){e.plotArea[i[l]]=t[i[l]]}else{delete e.plotArea[i[l]]}}}}};e.processWaterfallProperty=function(e,a){var t=a.plotArea;if(t){if(t.dataLabel&&t.dataLabel.hasOwnProperty("showRecap")){jQuery.extend(true,e.plotArea,{dataLabel:{showRecap:t.dataLabel.showRecap}})}else{if(e.plotArea.dataLabel&&e.plotArea.dataLabel.hasOwnProperty("showRecap")){delete e.plotArea.dataLabel.showRecap}}if(t.dataPoint&&t.dataPoint.color&&t.dataPoint.color.hasOwnProperty("isSemanticColoring")){jQuery.extend(true,e.plotArea,{dataPoint:{color:{isSemanticColoring:t.dataPoint.color.isSemanticColoring}}})}else{if(e.plotArea.dataPoint&&e.plotArea.dataPoint.color&&e.plotArea.dataPoint.color.hasOwnProperty("isSemanticColoring")){delete e.plotArea.dataPoint.color.isSemanticColoring}}}};e.decorateBullet=function(e,a){if(!a||a.length===0){return}jQuery.extend(true,e.properties,{plotArea:{}});var t=e.properties.plotArea;if(t.colorPalette){if(!t.actualColor||t.actualColor.length===0){t.actualColor=[t.colorPalette[0]]}if(!t.additionalColor||t.additionalColor.length===0){t.additionalColor=[t.colorPalette[1]]}}var i=a.length;var l=false;var r=0;var o=0;var s=0;for(var n=0;!l&&n<i;++n){var u=a[n].getUid();var f=a[n].getValues();if(f&&f.length){switch(u){case"color":s=true;break;case"primaryValues":l=true;break;case"actualValues":r+=f.length;break;case"additionalValues":case"forecastValues":o+=f.length;break;default:break}}}if(l||!s&&r<2||o===0){if(!t.additionalColor){t.additionalColor=["sapUiChartPaletteSequentialHue2Light1"]}if(!t.forecastColor){t.forecastColor=["sapUiChartPaletteSequentialNeutralLight3"]}if(!t.actualColor){t.actualColor=["sapUiChartPaletteSequentialHue1Light1","sapUiChartPaletteQualitativeHue2","sapUiChartPaletteQualitativeHue3","sapUiChartPaletteQualitativeHue4","sapUiChartPaletteQualitativeHue5","sapUiChartPaletteQualitativeHue6","sapUiChartPaletteQualitativeHue7","sapUiChartPaletteQualitativeHue8","sapUiChartPaletteQualitativeHue9","sapUiChartPaletteQualitativeHue10","sapUiChartPaletteQualitativeHue11","sapUiChartPaletteQualitativeHue12","sapUiChartPaletteQualitativeHue13","sapUiChartPaletteQualitativeHue14","sapUiChartPaletteQualitativeHue15","sapUiChartPaletteQualitativeHue16","sapUiChartPaletteQualitativeHue17","sapUiChartPaletteQualitativeHue18","sapUiChartPaletteQualitativeHue19","sapUiChartPaletteQualitativeHue20","sapUiChartPaletteQualitativeHue21","sapUiChartPaletteQualitativeHue22"]}}else{if(!t.additionalColor){t.additionalColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"]}if(!t.forecastColor){t.forecastColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"]}if(!t.actualColor){t.actualColor=["sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue3","sapUiChartPaletteSequentialNeutral"]}}return e};e.decorateTimeBullet=function(e){jQuery.extend(true,e.properties,{plotArea:{}});var a=e.properties.plotArea;if(!a.actualColor){a.actualColor=["sapUiChartPaletteSequentialHue1","sapUiChartPaletteSequentialHue2","sapUiChartPaletteSequentialHue3","sapUiChartPaletteSequentialNeutral"]}if(!a.additionalColor){a.additionalColor=["sapUiChartPaletteSequentialHue1Light2","sapUiChartPaletteSequentialHue2Light2","sapUiChartPaletteSequentialHue3Light2","sapUiChartPaletteSequentialNeutralLight2"]}};e.decorateWaterfall=function(e,a){if(!a||a.length===0){return}var t=false;for(var i=0;i<a.length;i++){var l=a[i].getUid();var r=a[i].getValues();if(l==="valueAxis"&&r.length>1){t=true}else if(l==="color"&&r.length>0){t=true}}jQuery.extend(true,e.properties,{plotArea:{dataLabel:{showRecap:t},dataPoint:{color:{isSemanticColoring:!t}}}})};e._processCategoryTicker=function(e,a,t){if(!a||a.length===0){return}var i={};jQuery.extend(true,i,e.properties,{categoryAxis:{axisTick:{}}});var l;var r=e.type;if(r==="info/heatmap"){jQuery.extend(true,i,{categoryAxis2:{axisTick:{}}});l=i.categoryAxis2.axisTick}var o=i.categoryAxis.axisTick;var s=a.length;var n=true;var u=null;var f,h,c;var p=0,d=0,C=0,v=0,P=0,g=false,U=false,b=0;for(f=0;f<s;++f){h=a[f].getUid();c=a[f].getValues();if(!c){continue}if(h==="primaryValues"||h==="valueAxis"){p=c.length}else if(h==="color"){d=c.length;g=c.indexOf("MeasureNamesDimension")>=0}else if(h==="axisLabels"||h==="categoryAxis"){C=c.length;U=c.indexOf("MeasureNamesDimension")>=0}else if(h==="actualValues"){v=c.length}else if(h==="valueAxis2"){b=c.length}else if(h==="categoryAxis2"){P=c.length}}var H,S;if(["info/dual_horizontal_stacked_combination","info/dual_stacked_combination"].indexOf(r)>=0){H=1;S=1}else{H=1;S=0}var A,x;var m={};jQuery.extend(true,m,t&&t.plotArea||{},e.properties.plotArea);if(m&&m.dataShape&&m.dataShape.primaryAxis){A=m.dataShape.primaryAxis;x=Math.min(A.length,p);H=0;for(f=0;f<x;++f){if(A[f]==="bar"){H++}}}if(m&&m.dataShape&&m.dataShape.secondaryAxis){A=m.dataShape.secondaryAxis;x=Math.min(A.length,b);S=0;for(f=0;f<x;++f){if(A[f]==="bar"){S++}}}var k=H+S===1;if(r==="info/column"||r==="info/bar"){if(!(d>1||d===1&&!g||d===1&&g&&p>1||!U&&!g&&p>1)){if(C>1){u=false}else{n=false}}}else if(["info/stacked_bar","info/stacked_column","info/100_stacked_bar","info/100_stacked_column","info/waterfall","info/horizontal_waterfall"].indexOf(r)>=0){if(C>1){u=false}else{n=false}}else if(["info/stacked_combination","info/horizontal_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_stacked_combination"].indexOf(r)>=0){if(k){if(C>1){u=false}else{n=false}}}else if(["info/combination","info/dual_horizontal_combination","info/dual_combination"].indexOf(r)>=0){if(k&&(d===0||d===1&&g)){if(C>1){u=false}else{n=false}}}else if(r==="info/bullet"||r==="info/vertical_bullet"){if(d===0&&v<=1){if(C>1){u=false}else{n=false}}}if(r==="info/heatmap"){if(!(o.visible===true||o.visible===false)){o.visible=C>1}if(!(l.visible===true||l.visible===false)){l.visible=P>1}if(o.shortTickVisible==null&&C>1){o.shortTickVisible=false}if(l.shortTickVisible==null&&P>1){l.shortTickVisible=false}}else{if(!(o.visible===true||o.visible===false)){o.visible=n}if(o.shortTickVisible==null){o.shortTickVisible=u}}return i};return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/utils/Constants", function(){"use strict";var i={ERROR_TYPE:{NODATA:"NO_DATA",MULTIPLEUNITS:"MULTIPLE_UNITS",INVALIDDATA:"INVALID_DATA",OTHERS:"OTHERS"},ERROR_MESSAGE:{MULTIPLEUNITS:"Multiple Units",NODATA:"No Data"},CSS_PREFIX:"ui5-viz-controls",TEMPLATE_POSTFIX:"_merged_with_cvom_by_vizframe",CORE_CHART_TYPES:["info/column","info/bar","info/stacked_bar","info/stacked_column","info/line","info/combination","info/dual_combination","info/dual_horizontal_combination","info/bullet","info/timeseries_bullet","info/bubble","info/time_bubble","info/pie","info/donut","info/scatter","info/vertical_bullet","info/dual_stacked_bar","info/100_stacked_bar","info/100_dual_stacked_bar","info/dual_stacked_column","info/100_stacked_column","info/100_dual_stacked_column","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_bar","info/dual_column","info/dual_line","info/timeseries_column","info/timeseries_line","info/timeseries_scatter","info/timeseries_bubble","info/heatmap","info/treemap","info/waterfall","info/horizontal_waterfall","info/timeseries_combination","info/timeseries_stacked_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall","info/area","info/radar"],DATASET_TYPES:{FLATTABLEDATASET:"FLATTABLEDATASET",CROSSTABLEDATASET:"CROSSTABLEDATASET",LEGACYCROSSTABLEDATASET:"LEGACYCROSSTABLEDATASET"}};return i});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/utils/ContentUtil", function(){"use strict";var e={};var i=15;var t=12;e.setContent=function(e,n){var a=n.val;var s=false;var l,r,f=[],m={},u="",o="";var p="";var v=function(){return sap.viz.extapi.env.Language.getResourceString("IDS_ISNOVALUE")};for(var y=0;y<a.length;y++){l=a[y].dataName||a[y].name;if(a[y].type&&a[y].type.toLowerCase()==="dimension"){r=a[y].value;if(n.isTimeSeries&&a.hasOwnProperty("timeDimensions")&&a.timeDimensions.indexOf(y)>-1){var d=a[y].timeAxis&&a[y].timeAxis.getFiscalUnitLabels&&a[y].timeAxis.getFiscalUnitLabels();if(d&&d.length>0){f.push({name:d[0],value:r.fiscalyear,type:"dimension"});if(d.length>1){f.push({name:d[1],value:r.fiscalperiod,type:"dimension"})}if(e==="popover"){o=r.fiscalperiod;if(r.fiscalyear){if(!o||o.length<r.fiscalyear.length){o=r.fiscalyear}}}}else{if(e==="toolTip"){if(r.time){var g="";if(r.day){g=r.time+" "+r.day}else{g=r.time}f.push({name:l,value:g,type:"dimension"})}if(r.day&&!r.time){f.push({name:l,value:r.day,type:"dimension"})}}else if(e==="popover"){if(r.time){f.push({name:l,value:r.time,type:"dimension"})}if(r.day){f.push({name:r.time?"":l,value:r.day,type:"dimension"})}o=r.time;if(r.day){if(!o||o.length<r.day.length){o=r.day}}}}if(e==="popover"&&!s){if(a[y].name.length>i||o.length>t){s=true}else{if(d&&d.length>0&&d[0].length>i){s=true}if(d&&d.length>1&&d[1].length>i){s=true}}}}else{if(u==null){u=v()}else if(u.length>0){if(r===null){u=u+" - "+v()}else{u=u+" - "+r}}else{if(r===null){u=v()}else{u=r.toString()}}if(e==="toolTip"){f.push({name:l,value:r,type:"dimension"})}}}else if(a[y].type&&a[y].type.toLowerCase()==="measure"){f.push({name:l,value:a[y].value,unit:a[y].unit,type:"measure"});if(e==="popover"&&!s){p=a[y].value;if(p==null){p=v()}if((a[y].dataName||a[y].name).length>i||p.toString().length>t){s=true}}}}m.items=f;m.isLongMode=s;m.dims=u;return m};return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/utils/FormatDataUtil", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var a={};a.formatData=function(a,e){if(!(a.data&&a.data.val&&a.data.val.length>0)){return a.data}var t=a.data,i=sap.viz.api.env.Format.format,r=jQuery.extend(true,{},t),n=r.val.hasOwnProperty("timeMeasure")?r.val.timeMeasure:-1,f=r.val.hasOwnProperty("timeDimensions")?r.val.timeDimensions:[],l=e.formatString,u=null,o={},v;if(typeof l==="string"){u=l}else if(l instanceof Object){if(l.formatPattern||l.dataUnit){u=l}else{o=l}}if(n!==-1){var s=r.val.filter(function(a){return a.type&&a.type.toLowerCase()==="measure"})[n];s.value=new Date(s.value)}if(a.timeTooltipData&&e.chartType.indexOf("time")>-1){var m=false;if(l){f.forEach(function(a){if(r.val[a]&&r.val[a].id){var e=o[r.val[a].id];if(e&&(typeof e==="string"||e.formatPattern)){m=true}}})}if(m){r.val.forEach(function(a,e){if(f.indexOf(e)>-1){a.type="measure";a.value=new Date(a.value)}})}else{var d=jQuery.extend(true,[],a.timeTooltipData);d.forEach(function(a,e){if(r.val[e].dataName){d[e].dataName=r.val[e].dataName}});r.val=d;r.isTimeSeries=true}}r.val.forEach(function(a,e){if(a.type&&a.type.toLowerCase()==="measure"){v=o[a.id]||u||a.formatString;if(a.bothValue&&a.bothValue.primaryKey==="percentage"){a.value=a.bothValue.percentage;if(!v){v={formatPattern:"0.00%"}}}else if(a.strValue){a.value=a.strValue}if(v){if(v.formatPattern||v.dataUnit){a.value=i(a.value,v.formatPattern);var t=r.val.timeDimensions&&r.val.timeDimensions.indexOf(e)>-1;if(!t){a.unit=v.dataUnit||a.unit}}else{a.value=i(a.value,v)}}else{a.value=i(a.value)}}});return r};return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/controls/common/utils/SelectionDetailUtil", ["sap/ui/core/theming/Parameters"],function(r){"use strict";var e={};e.appendShapeStrings=function(r){r.forEach(function(r){if(r.graphicInfo){r.shapeString=a(r.graphicInfo);delete r.graphicInfo}})};var a=function(t){var i=t.color;if(!i){return""}if(typeof i==="object"){var n={};var s=["v-primary","v-additional","v-forecast"];for(var y=0;y<s.length;y++){var o=s[y];if(i[o]&&i[o]["id"]){n[i[o]["id"]]=a(i[o])}}return n}else if(typeof i==="string"){var x="";var l=10,c=l/2,f=c,p=l,h=l,d=t.type==="line";if(t.type&&d){c=l;p=l*2;l=6}var g={rx:l/2,ry:l/2,type:t.shape,borderWidth:0};x=x+"<svg width="+p+"px height="+h+"px "+"focusable = false>";if(d){var L=t.lineInfo;var v=r.get(L.lineColor)||L.lineColor||i;if(L.lineType==="dotted"||L.lineType==="dash"){x=x+"<line x1 = '0' y1='"+f+"' x2 = '"+p+"' y2 = '"+f+"' stroke-width = '2' stroke-dasharray = '5, 3' "}else if(L.lineType==="dot"){var u=Math.floor(p/2);u=u&1?u:u-1;if(u<3){u=3}var k=p/u;x=x+"<line x1 ='"+k/2+"'y1='"+f+"' x2 = '"+p+"' y2 = '"+f+"' stroke-dasharray = ' 0,"+k*2+"' ";x=x+"stroke-width = '"+k+"' stroke-linecap = 'round'"}else{x=x+"<line x1 = '0' y1='"+f+"' x2 = '"+p+"' y2 = '"+f+"' stroke-width = '2' "}x=x+" stroke = '"+v+"'> </line>"}x=x+"<path d = '"+e.generateShapePath(g)+"'";if(!t.pattern){x=x+" fill = '"+i+"'"}else if(t.pattern==="noFill"){var b=r.get("sapUiChartBackgroundColor");if(b==="transparent"){b="white"}x=x+" fill = '"+b+"'";x=x+" stroke = '"+i+"' stroke-width= '1px'"}else{x=x+" fill = '"+(t.patternURL||t.pattern)+"'"}x=x+" transform = 'translate("+c+","+f+")'></path>";x=x+"</svg>";return x}};e.generateShapePath=function(r){var e;var a=r.borderWidth/2;switch(r.type){case"circle":e="M"+(-r.rx-a)+",0 A"+(r.rx+a)+","+(r.ry+a)+" 0 1,0 "+(r.rx+a)+",0 A";e+=r.rx+a+","+(r.ry+a)+" 0 1,0 "+(-r.rx-a)+",0z";break;case"cross":e="M"+(-r.rx-a)+","+(-r.ry/3-a)+"H"+(-r.rx/3-a)+"V"+(-r.ry-a)+"H"+(r.rx/3+a);e+="V"+(-r.ry/3-a)+"H"+(r.rx+a)+"V"+(r.ry/3+a)+"H"+(r.rx/3+a);e+="V"+(r.ry+a)+"H"+(-r.rx/3-a)+"V"+(r.ry/3+a)+"H"+(-r.rx-a)+"Z";break;case"diamond":e="M0,"+(-r.ry-a)+"L"+(r.rx+a)+",0"+" 0,"+(r.ry+a)+" "+(-r.rx-a)+",0"+"Z";break;case"triangle-down":case"triangleDown":e="M0,"+(r.ry+a)+"L"+(r.rx+a)+","+-(r.ry+a)+" "+-(r.rx+a)+","+-(r.ry+a)+"Z";break;case"triangle-up":case"triangleUp":e="M0,"+-(r.ry+a)+"L"+(r.rx+a)+","+(r.ry+a)+" "+-(r.rx+a)+","+(r.ry+a)+"Z";break;case"triangle-left":case"triangleLeft":e="M"+-(r.rx+a)+",0L"+(r.rx+a)+","+(r.ry+a)+" "+(r.rx+a)+","+-(r.ry+a)+"Z";break;case"triangle-right":case"triangleRight":e="M"+(r.rx+a)+",0L"+-(r.rx+a)+","+(r.ry+a)+" "+-(r.rx+a)+","+-(r.ry+a)+"Z";break;case"intersection":e="M"+(r.rx+a)+","+(r.ry+a)+"L"+(r.rx/3+a)+",0L"+(r.rx+a)+","+-(r.ry+a)+"L";e+=r.rx/2-a+","+-(r.ry+a)+"L0,"+(-r.ry/3-a)+"L"+(-r.rx/2+a)+","+-(r.ry+a)+"L";e+=-(r.rx+a)+","+-(r.ry+a)+"L"+-(r.rx/3+a)+",0L"+-(r.rx+a)+","+(r.ry+a)+"L";e+=-r.rx/2+a+","+(r.ry+a)+"L0,"+(r.ry/3+a)+"L"+(r.rx/2-a)+","+(r.ry+a)+"Z";break;case"squareWithRadius":var t=r.rx;var i=t-3;e="M0,"+-t+"L"+-i+","+-t+"Q"+-t+","+-t+" "+-t+","+-i+"L"+-t+","+i+"Q"+-t+","+t+" "+-i+","+t;e+="L"+i+","+t+"Q"+t+","+t+" "+t+","+i+"L"+t+","+-i+"Q"+t+","+-t+" "+i+","+-t+"Z";break;case"square":case"sector":default:e="M"+(-r.rx-a)+","+(-r.ry-a)+"L"+(r.rx+a)+",";e+=-r.ry-a+"L"+(r.rx+a)+","+(r.ry+a)+"L"+(-r.rx-a)+","+(r.ry+a)+"Z";break}return e};return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/data/CVOMDatasetAdaptor", ["sap/viz/ui5/controls/common/utils/Constants","sap/ui/model/Sorter","sap/ui/thirdparty/jquery","sap/base/util/deepEqual"],function(t,e,jQuery,a){"use strict";function n(t){return Object.prototype.toString.call(t)==="[object Array]"}function i(t,e,n,i,r){var s={dataset:null,context:null};if(!n||n.length===0){return s}var o=[],u=[],d=[],f=[],l=[];jQuery.each(t,function(t,e){if(e.getAxis()===1){o.push({def:e,adapter:e._getAdapter()})}else if(e.getAxis()===2){u.push({def:e,adapter:e._getAdapter()})}else{throw new Error("currently, only axis 1 and 2 are supported")}});jQuery.each(e,function(t,e){d.push({def:e,adapter:e._getAdapter()});f.push([])});function p(t,e,n){var i=t.length,r,s;if(i===0){return 0}r=[];for(s=0;s<i;s++){r.push(t[s].adapter(n))}for(s=0,i=e.length;s<i;s++){if(a(e[s],r)){return s}}e.push(r);return e.length-1}var h=[];var g=[];jQuery.each(n,function(t,e){var a=p(o,h,e);var n=p(u,g,e);for(var i=0;i<d.length;i++){var r=d[i].adapter(e);if(o.length===0&&u.length===0){if(f[i][0]===undefined){f[i][0]=[]}f[i][0].push(r)}else{(f[i][n]=f[i][n]||[])[a]=r}}if(o.length===0&&u.length===0){a=t}(l[n]||(l[n]=[]))[a]=e});var v=h.length;var m=Math.max(g.length,1);for(var c=0;c<m;c++){for(var _=0;_<d.length;_++){var y=f[_][c];if(!y){y=f[_][c]=[]}if(y.length<v){y[v-1]=undefined}}if(!l[c]){l[c]=[]}if(!l[c].length<v){l[c][v]=undefined}}var T={};if(o.length>0){if(T.analysisAxis===undefined){T.analysisAxis=[]}var A={index:1,data:[]};for(var _=0;_<o.length;_++){var x=[];for(var c=0;c<h.length;c++){x[c]=h[c][_]}A.data.push({name:o[_].def.getName(),values:x})}T.analysisAxis.push(A)}if(u.length>0){if(T.analysisAxis===undefined){T.analysisAxis=[]}var A={index:2,data:[]};for(var _=0;_<u.length;_++){var x=[];for(var c=0;c<g.length;c++){x[c]=g[c][_]}A.data.push({name:u[_].def.getName(),values:x})}T.analysisAxis.push(A)}if(d.length>0){T.measureValuesGroup=[];for(var _=0;_<d.length;_++){if(!T.measureValuesGroup[d[_].def.getGroup()-1]){T.measureValuesGroup[d[_].def.getGroup()-1]={index:d[_].def.getGroup(),data:[]}}T.measureValuesGroup[d[_].def.getGroup()-1].data.push({name:d[_].def.getName(),values:f[_]})}for(var _=0,D=T.measureValuesGroup.length;_<D;_++){if(T.measureValuesGroup[_]===undefined){throw new Error("Measure Group "+(_+1)+" is missing.")}}}s.dataset=r?new sap.viz.data.CrosstableDataset:new sap.viz.api.data.CrosstableDataset;s.dataset.data(T);if(i){s.dataset.info(i)}s.context=l;return s}function r(t,a){var n=t&&t.value||t,i=a&&a.value||a;return e.defaultComparator(n,i)}function s(e,a,i,s,o,u){var d={dataset:null,context:null};var f=["_context_row_number"];if(i){if(!n(i)){i=[i]}for(var l=0;l<i.length;++l){var p=i[l];var h=!(p.showInTooltip===false);if(p.id){p=p.id}f.push({id:p,showInTooltip:h})}}var g=[],v=[],m=[],c={metadata:{fields:[]},context:f,data:[]},_=[];jQuery.each(e,function(t,e){g.push({def:e,vAdapter:e._getAdapter(),dAdapter:e._getDisplayValueAdapter()});var a=e.getDataType();var n=e.getSorter();var i={id:e.getIdentity()||e.getName(),name:e.getName()||e.getIdentity(),semanticType:"Dimension",dataType:a,inResult:e._getInResult(),timeUnitType:e._getTimeUnit()};if(n&&typeof n==="object"){var s={bDescending:n.bDescending};s.fnComparator=function(t,e){var a={value:t&&t.v||t,displayValue:t&&t.d},i={value:e&&e.v||e,displayValue:e&&e.d};var s=n.fnComparator&&typeof n.fnComparator==="function"?n.fnComparator:r;return s(a,i)};i["sorter"]=s}c.metadata.fields.push(i)});jQuery.each(a,function(t,e){v.push({def:e,adapter:e._getAdapter()});var a={id:e.getIdentity()||e.getName(),name:e.getName()||e.getIdentity(),semanticType:"Measure"};a.formatString=e.getFormat();if(e.getUnit()){a.unit=e.getUnit()}a.unitBinding=e._getUnitBinding();var n=e.getRange();if(n&&n.length){a.min=n[0];a.max=n[1]}c.metadata.fields.push(a)});if(o){if(o.bEnabled){c.metadata.options={pagination:{mode:o.sMode,ratio:o.thumbRatio}}}}if(!s||s.length===0){d.dataset=new sap.viz.api.data.FlatTableDataset(c);return d}if(o&&(!u||o.sMode==="reset")){u=[]}jQuery.each(s,function(e,a){if(!c.data[e]){c.data[e]=[]}for(var n=0;n<g.length;n++){var i=g[n].vAdapter(a);if(i instanceof Date){i=i.getTime()}var r=g[n].dAdapter(a);c.data[e].push(r.enableDisplayValue?{v:i,d:r.value}:i)}for(var s=0;s<v.length;s++){var i=v[s].adapter(a);c.data[e].push(i);var d=v[s].def._getUnitBinding();if(d){var f=a.getProperty(d);f=f&&f.trim&&f.trim();if(f){if(m[s]){if(m[s]==="*"||m[s]!==f||o&&u[s]!==f){throw t.ERROR_MESSAGE.MULTIPLEUNITS}}else{m[s]=f;if(o&&!u[s]){u[s]=f}}}}}_[e]=a});d.context=_;c.metadata.fields.filter(function(t){return t.semanticType==="Measure"}).forEach(function(t,e){if(t.unitBinding&&m[e]){t.unit=m[e];delete t.unitBinding}});d.dataset=new sap.viz.api.data.FlatTableDataset(c);return d}var o=function(){this._oCVOMDataset=null;this._aContext=null;this._sDatasetType=null;this._pagingUnit=null};o.prototype.getDataset=function(e){if(this._sDatasetType===e.type&&this._oCVOMDataset){return this._oCVOMDataset}this.invalidate();this._sDatasetType=e.type;var a=null;if(this._sDatasetType===t.DATASET_TYPES.FLATTABLEDATASET){a=s(e.dimensions,e.measures,e.contexts,e.dataContexts,e.pagingOption,this._pagingUnit)}else{a=i(e.dimensions,e.measures,e.dataContexts,e.additionalInfo,this._sDatasetType==t.DATASET_TYPES.CROSSTABLEDATASET?false:true)}this._oCVOMDataset=a.dataset;this._aContext=a.context;return this._oCVOMDataset};o.prototype.findContext=function(e){if(this._sDatasetType===t.DATASET_TYPES.FLATTABLEDATASET){if(this._aContext&&typeof e==="object"&&e._context_row_number!==undefined){return this._aContext[e._context_row_number]}}else{if(this._aContext&&typeof e==="object"){return this._aContext[e.dii_a2]&&this._aContext[e.dii_a2][e.dii_a1]}}return null};o.prototype.invalidate=function(){this._oCVOMDataset=null;this._aContext=null};return o},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/data/CustomDataset", ["sap/viz/library","./Dataset"],function(t,a){"use strict";var e=a.extend("sap.viz.ui5.data.CustomDataset",{metadata:{library:"sap.viz",properties:{data:{type:"object",group:"Misc"}}}});e.prototype.getRawDataset=function(){return this.getProperty("data")};e.prototype.isReady=function(){return true};return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/data/Dataset", ["sap/ui/core/Element","sap/viz/library"],function(a,t){"use strict";var e=a.extend("sap.viz.ui5.data.Dataset",{metadata:{abstract:true,library:"sap.viz"}});return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/data/DimensionDefinition", ["sap/ui/core/Element","sap/viz/library"],function(t,e){"use strict";var n=t.extend("sap.viz.ui5.data.DimensionDefinition",{metadata:{library:"sap.viz",properties:{axis:{type:"int",group:"Misc",defaultValue:null},value:{type:"any",group:"Data",defaultValue:null},name:{type:"string",group:"Misc",defaultValue:null},identity:{type:"string",group:"Misc",defaultValue:null},displayValue:{type:"any",group:"Data",defaultValue:null},dataType:{type:"string",group:"Misc",defaultValue:null},sorter:{type:"object",defaultValue:null}}}});n.prototype._getAdapter=function(){var t=this,e=this.getBindingInfo("value"),n,r,i,a;if(!e){n=this.getValue();return function(){return n}}if(e.parts.length>1){throw new Error("DimensionDefinition doesn't support calculated bindings yet")}r=e.parts[0].path;i=e.parts[0].type;a=e.formatter;if(!(i||a)){return function(t){return t.getProperty(r)}}return function(e){var n=e.getProperty(r);if(i){n=i.formatValue(n,"string")}if(a){n=a.call(t,n,e)}return n}};n.prototype._getDisplayValueAdapter=function(){var t=this,e=this.getBindingInfo("displayValue"),n,r,i,a,u;if(!e){n=this.getValue();return function(){return{enableDisplayValue:false,value:n}}}r=e.parts[0].path;i=e.parts[0].type;u=e.parts;a=e.formatter;if(u.length==1&&!(i||a)){return function(t){return{enableDisplayValue:true,value:t.getProperty(r)}}}return function(e){if(u.length>0){var r=[];for(var i=0;i<u.length;i++){r.push(e.getProperty(u[i].path))}if(a){n=a.apply(t,r)}}return{enableDisplayValue:true,value:n}}};n.prototype._setInResult=function(t){this._bInResult=!!t};n.prototype._getInResult=function(){return this._bInResult};n.prototype._setTimeUnit=function(t){this._sTimeUnit=t};n.prototype._getTimeUnit=function(){return this._sTimeUnit};return n});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/data/FlattenedDataset", ["sap/viz/library","sap/ui/model/ChangeReason","./Dataset","./DimensionDefinition","./MeasureDefinition","./CVOMDatasetAdaptor","sap/viz/ui5/controls/common/utils/Constants","sap/base/Log","sap/ui/thirdparty/jquery"],function(t,e,i,a,n,s,o,r,jQuery){"use strict";var d=i.extend("sap.viz.ui5.data.FlattenedDataset",{metadata:{library:"sap.viz",designtime:"sap/viz/designtime/FlattenedDataset.designtime",properties:{context:{type:"any",multiple:false,singularName:"context"}},aggregations:{dimensions:{type:"sap.viz.ui5.data.DimensionDefinition",defaultClass:a,multiple:true,singularName:"dimension"},measures:{type:"sap.viz.ui5.data.MeasureDefinition",defaultClass:n,multiple:true,singularName:"measure"},data:{type:"sap.ui.core.Element",multiple:true,singularName:"data",bindable:"bindable"}},events:{dataChange:{},dataRefresh:{},dataError:{}}}});d.getMetadata().getAllAggregations()["data"]._doesNotRequireFactory=true;d.prototype.init=function(){this._oCVOMDatasetAdaptor=new s;this._iStartIndex=-1;this._iLength=-1;this._bReady=true;this._bInitializeBinding=true};d.prototype._bindAggregation=function(){this._bInitializeBinding=true;this._bUpdateAnalyticalInfo=false;i.prototype._bindAggregation.apply(this,arguments);this._bInitializeBinding=false;var t=this.getBinding("data");if(t){t.attachDataReceived(this._dataReceivedListener,this)}};d.prototype._dataReceivedListener=function(t){if(t&&t.getParameter&&t.getParameter("__simulateAsyncAnalyticalBinding")){return}if(t.getParameter("data")===undefined){this._bDataReceiveError=true;this.fireEvent("dataError")}};d.prototype.refreshData=function(t){this._bDataReceiveError=false;this._bReady=false;if(this._bInitializeBinding){var e=this.getBinding("data");if(e&&e.getTotalSize&&e.isRelative()){this._bUpdateAnalyticalInfo=true}}var i={reason:t};if(!this._bInitializeBinding&&this._bUpdateAnalyticalInfo&&t==="refresh"){i.updateAnalyticalInfo=true}this.fireEvent("dataRefresh",i);this._getDataContexts()};d.prototype.updateData=function(t){var e=sap.ui.require("sap/ui/model/odata/v4/ODataModel");var i=e&&this.getBinding("data").getModel()instanceof e;if(!this._bInitializeBinding||!i){this._bDataReceiveError=false;this._bReady=true;this.fireEvent("dataChange",{reason:t});this.invalidate()}};jQuery.each("add get indexOf insert remove removeAll".split(" "),function(t,e){var i="FlattenedDataset manages the 'data' aggregation only via data binding. The method '"+e+"Data' therefore cannot be used programmatically!";d.prototype[e+"Data"]=function(){r.error(i)}});d.prototype.getVIZFlatDataset=function(){return this._getCVOMDataset(o.DATASET_TYPES.FLATTABLEDATASET)};d.prototype.getVIZCrossDataset=function(){return this._getCVOMDataset(o.DATASET_TYPES.CROSSTABLEDATASET)};d.prototype.getVIZDataset=function(){return this._getCVOMDataset(o.DATASET_TYPES.LEGACYCROSSTABLEDATASET)};d.prototype._getCVOMDataset=function(t){var e=this._getDataContexts()&&this._getDataContexts().filter(function(t){return!!t});return this._oCVOMDatasetAdaptor.getDataset({type:t,dataContexts:e,dimensions:this.getDimensions(),measures:this.getMeasures(),additionalInfo:this._info||this._defaultSelectionInfo,contexts:this.getContext(),pagingOption:this._oPagingOption})};d.prototype.invalidate=function(t){if(this._oCVOMDatasetAdaptor){this._oCVOMDatasetAdaptor.invalidate()}i.prototype.invalidate.apply(this,arguments)};d.prototype.setDefaultSelection=function(t){this._defaultSelectionInfo={type:"defaultSelection",value:t}};d.prototype.info=function(t){if(t instanceof Array){this._info=t}};d.prototype.findContext=function(t){if(this._oCVOMDatasetAdaptor){return this._oCVOMDatasetAdaptor.findContext(t)}};d.prototype.setPagingOption=function(t){this._oPagingOption=t};d.prototype.getRenderedPageNo=function(){if(this._oCVOMDatasetAdaptor){return this._oCVOMDatasetAdaptor.getRenderedPageNo()}};d.prototype.setRange=function(t,e){this._iStartIndex=t;this._iLength=e};d.prototype.getRange=function(t,e){return{iStartIndex:this._iStartIndex,iLength:this._iLength}};d.prototype.isReady=function(){if(this._bDataReceiveError){return true}return this._bReady};d.prototype._getDataContexts=function(){var t=this._iStartIndex,e=this._iLength,i=this.getBinding("data"),a=sap.ui.require("sap/ui/model/odata/v4/ODataModel");if(!i){return null}var n;if(t==-1){n=this.getBindingInfo("data");t=n&&n.startIndex!==undefined?n.startIndex:0}var s=!this._oPagingOption;if(e==-1){n=n||this.getBindingInfo("data");if(n&&n.length!==undefined){e=n.length;s=false}else{e=i.getTotalSize?i.getTotalSize():i.getLength();var o=sap.ui.require("sap/ui/model/odata/v2/ODataModel");if(s&&e===-1&&o&&i.getModel()instanceof o){e=undefined}}}if(this._bDataReceiveError){return[]}else if(a&&i.getModel()instanceof a){return s?i.getContexts(t,e,Infinity):i.getContexts(t,e)}else{return i.getContexts(t,e)}};return d});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/data/MeasureDefinition", ["sap/ui/core/Element","sap/viz/library"],function(t,e){"use strict";var r=t.extend("sap.viz.ui5.data.MeasureDefinition",{metadata:{library:"sap.viz",properties:{group:{type:"int",group:"Misc",defaultValue:1},value:{type:"any",group:"Data",defaultValue:null},name:{type:"string",group:"Misc",defaultValue:null},identity:{type:"string",group:"Misc",defaultValue:null},format:{type:"any",group:"Misc",defaultValue:null},range:{type:"any[]",group:"Misc",defaultValue:[]},unit:{type:"string",group:"Misc",defaultValue:null}}}});r.prototype._getAdapter=function(){var t=this,e=this.getBindingInfo("value"),r,n,i,a;if(!e){r=this.getValue();return function(){return r}}a=e.formatter;if(e.parts.length>1){if(a){return function(r){var n=[];e.parts.forEach(function(t,e){var a=r.getProperty(t.path);if(i){a=i.formatValue(a,"string")}n.push(a)});return a.call(t,n,r)}}else{throw new Error("MeasureDefinition doesn't support calculated bindings yet")}}else{n=e.parts[0].path;i=e.parts[0].type;if(!(i||a)){return function(t){return t.getProperty(n)}}return function(e){var r=e.getProperty(n);if(i){r=i.formatValue(r,"string")}if(a){r=a.call(t,r,e)}return r}}};r.prototype._setUnitBinding=function(t){this._sUnitBinding=t};r.prototype._getUnitBinding=function(){return this._sUnitBinding};return r});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/format/ChartFormatter", ["sap/base/i18n/Localization","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","sap/ui/core/format/FileSizeFormat"],function(t,e,r,n){"use strict";var a=":";var o=["MediumYear","MediumMonth","MediumDay","MediumHour","MediumMinute","MediumSecond","YearMonthDay","Quarter","Week","hh:mm","hh:mm:ss","MMM d","d","YearQuarter","YearMonth"];var i=function(){if(this.caller!=this.getInstance){throw new Error("This object cannot be instantiated")}this.formatFunctions=[];this._updatePatternTable();this._locale=t.getLanguage();this.formatFunctions["hh:00"]=this._getCVOMHourZeroFormatter.bind(this);this.formatFunctions["ss''"]=this._getCVOMSecondFormatter.bind(this);this.formatFunctions["MMM"]=this._getCVOMMonthFormatter.bind(this);this.formatFunctions["d"]=this._getCVOMDayFormater.bind(this)};i.DefaultPattern={SHORTINTEGER:"ShortInteger",STANDARDINTEGER:"StandardInteger",SHORTFLOAT:"ShortFloat",SHORTFLOAT_MFD2:"ShortFloat_MFD2",STANDARDFLOAT:"StandardFloat",LONGFLOAT:"LongFloat",STANDARDPERCENT:"StandardPercent",STANDARDPERCENT_MFD2:"StandardPercent_MFD2",PERCENT:"Percent",STANDARDCURRENCY:"StandardCurrency",CURRENCY:"Currency",MEDIUMYEAR:"MediumYear",MEDIUMQUARTER:"MediumQuarter",QUARTER:"Quarter",MEDIUMMONTH:"MediumMonth",MEDIUMWEEK:"MediumWeek",WEEK:"Week",MEDIUMDAY:"MediumDay",MEDIUMHOUR:"MediumHour",MEDIUMMINUTE:"MediumMinute",MEDIUMSECOND:"MediumSecond",MEDIUMYEARMONTHDAY:"MediumYearMonthDay",YEARMONTHDAY:"YearMonthDay",BINARYFILESIZE:"BinaryFileSize",DECIMALFILESIZE:"DecimalFileSize"};i.prototype._updatePatternTable=function(){this.formatFunctions["ShortInteger"]=this._getShortIntegerFormatter();this.formatFunctions["StandardInteger"]=this._getStandardIntegerFormatter();this.formatFunctions["ShortFloat"]=this._getShortFloatFormatter();this.formatFunctions["ShortFloat_MFD2"]=this._getShortFloatMFD2Formatter();this.formatFunctions["StandardFloat"]=this._getStandardFloatFormatter();this.formatFunctions["LongFloat"]=this._getLongFloatFormatter();this.formatFunctions["StandardPercent"]=this._getStandardPercentFormatter();this.formatFunctions["StandardPercent_MFD2"]=this._getStandardPercentMFD2Formatter();this.formatFunctions["Percent"]=this._getPercentFormatter();this.formatFunctions["StandardCurrency"]=this._getStandardCurrencyFormatter();this.formatFunctions["Currency"]=this._getCurrencyFormatter();this.formatFunctions["MediumYear"]=this._getMediumYearFormatter();this.formatFunctions["MediumMonth"]=this._getMediumMonthFormatter();this.formatFunctions["MediumDay"]=this._getMediumDayFormatter();this.formatFunctions["MediumHour"]=this._getMediumHourFormatter();this.formatFunctions["MediumMinute"]=this._getMediumMinuteFormatter();this.formatFunctions["MediumSecond"]=this._getMediumSecondFormatter();this.formatFunctions["YearMonthDay"]=this._getYearMonthDayFormatter();this.formatFunctions["BinaryFileSize"]=this._getBinaryFileSizeFormatter();this.formatFunctions["DecimalFileSize"]=this._getDecimalFileSizeFormatter();this.formatFunctions["Quarter"]=this._getQuarterFormatter();this.formatFunctions["Week"]=this._getWeekFormatter();this.formatFunctions["hh:mm"]=this._getHourMinuteFormatter();this.formatFunctions["hh:mm:ss"]=this._getHourMinuteSecondFormatter();this.formatFunctions["MMM d"]=this._getMonthDayFormatter();this.formatFunctions["YearQuarter"]=this._getYearQuarterFormatter();this.formatFunctions["YearMonth"]=this._getYearMonthFormatter()};i.getInstance=function(){if(!this.instance){this.instance=new i}return this.instance};i.prototype.format=function(e,r,n){if(r){var a=t.getLanguage();if(this._locale!==a){this._locale=a;this._updatePatternTable()}if(!Array.isArray(e)&&isNaN(e)){return e}if(this.formatFunctions[r]){if(o.indexOf(r)>-1){return this.formatFunctions[r](e,n)}return this.formatFunctions[r](e)}else{return"use_default_formatter"}}return e};i.prototype._getShortIntegerFormatter=function(){var t=e.getIntegerInstance({style:"short"});return t.format.bind(t)};i.prototype._getStandardIntegerFormatter=function(){var t=e.getIntegerInstance({style:"standard"});return t.format.bind(t)};i.prototype._getShortFloatFormatter=function(){var t=e.getFloatInstance({style:"short"});return t.format.bind(t)};i.prototype._getShortFloatMFD2Formatter=function(){var t=e.getFloatInstance({style:"short",maxFractionDigits:2});return t.format.bind(t)};i.prototype._getStandardFloatFormatter=function(){var t=e.getFloatInstance({style:"standard"});return t.format.bind(t)};i.prototype._getLongFloatFormatter=function(){var t=e.getFloatInstance({style:"long"});return t.format.bind(t)};i.prototype._getPercentFormatter=function(){var t=e.getPercentInstance({style:"standard"});return t.format.bind(t)};i.prototype._getStandardPercentFormatter=function(){var t=e.getPercentInstance({style:"standard"});return t.format.bind(t)};i.prototype._getStandardPercentMFD2Formatter=function(){var t=e.getPercentInstance({style:"standard",maxFractionDigits:2});return t.format.bind(t)};i.prototype._getCurrencyFormatter=function(){var t=e.getCurrencyInstance({style:"standard"});return t.format.bind(t)};i.prototype._getStandardCurrencyFormatter=function(){var t=e.getCurrencyInstance({style:"standard"});return t.format.bind(t)};i.prototype._getMediumYearFormatter=function(){var t=r.getDateTimeInstance({pattern:"yyyy"});return t.format.bind(t)};i.prototype._getMediumMonthFormatter=function(){var t=r.getDateTimeInstance({pattern:"MMM"});return t.format.bind(t)};i.prototype._getMediumDayFormatter=function(){var t=r.getDateTimeInstance({pattern:"dd"});return t.format.bind(t)};i.prototype._getMediumHourFormatter=function(){var t=r.getDateTimeInstance({pattern:"HH"});return t.format.bind(t)};i.prototype._getMediumMinuteFormatter=function(){var t=r.getDateTimeInstance({pattern:"mm"});return t.format.bind(t)};i.prototype._getQuarterFormatter=function(){var t=r.getDateInstance({pattern:"qqq"});return t.format.bind(t)};i.prototype._getWeekFormatter=function(){var t=r.getDateInstance({pattern:"www"});return t.format.bind(t)};i.prototype._getHourMinuteFormatter=function(){var t=r.getDateTimeInstance({format:"HHmm"});return t.format.bind(t)};i.prototype._getCVOMHourZeroFormatter=function(t,e){return this.formatFunctions["MediumHour"](t,e)+a+"00"};i.prototype._getHourMinuteSecondFormatter=function(){var t=r.getDateTimeInstance({format:"HHmmss"});return t.format.bind(t)};i.prototype._getYearQuarterFormatter=function(){var t=r.getDateTimeInstance({format:"yQ"});return t.format.bind(t)};i.prototype._getYearMonthFormatter=function(){var t=r.getDateTimeInstance({format:"yMMM"});return t.format.bind(t)};i.prototype._getCVOMSecondFormatter=function(t,e){return this.formatFunctions["MediumSecond"](t,e)+"''"};i.prototype._getCVOMMonthFormatter=function(t,e){return this.formatFunctions["MediumMonth"](t,e)};i.prototype._getCVOMDayFormater=function(t,e){return this.formatFunctions["MediumDay"](t,e)};i.prototype._getMonthDayFormatter=function(){var t=r.getDateTimeInstance({format:"MMMdd"});return t.format.bind(t)};i.prototype._getMediumSecondFormatter=function(){var t=r.getDateTimeInstance({pattern:"ss"});return t.format.bind(t)};i.prototype._getYearMonthDayFormatter=function(){var t=r.getDateTimeInstance({format:"yMMMdd"});return t.format.bind(t)};i.prototype._getBinaryFileSizeFormatter=function(){var t=n.getInstance({binaryFilesize:true});return t.format.bind(t)};i.prototype._getDecimalFileSizeFormatter=function(){var t=n.getInstance({binaryFilesize:false});return t.format.bind(t)};i.prototype.registerCustomFormatter=function(t,e){this.formatFunctions[t]=e};return i},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/theming/Util", ["sap/ui/Device","sap/ui/core/theming/Parameters"],function(e,l){"use strict";var t={};t._mapping={sapUiChartLabelHoverColor:["categoryAxis.hoverShadow.color","categoryAxis2.hoverShadow.color","rowAxis.hoverShadow.color","columnAxis.hoverShadow.color","timeAxis.hoverShadow.color"],sapUiChartLabelPressedColor:["categoryAxis.mouseDownShadow.color","categoryAxis2.mouseDownShadow.color","rowAxis.mouseDownShadow.color","columnAxis.mouseDownShadow.color","timeAxis.mouseDownShadow.color"],sapUiChartCategoryAxisLabelFontColor:["categoryAxis.label.style.color","categoryAxis2.label.style.color","categoryAxis.label.parentStyle.color","categoryAxis2.label.parentStyle.color","columnAxis.label.style.color","rowAxis.label.style.color","timeAxis.label.style.color","plotArea.callout.label.style.color","plotArea.polarAxis.label.style.color"],sapUiChartValueAxisLabelFontColor:["valueAxis.label.style.color","valueAxis2.label.style.color","plotArea.valueAxis.label.style.color"],sapUiChartCategoryAxisLabelFontSize:["categoryAxis.label.style.fontSize","categoryAxis2.label.style.fontSize","categoryAxis.label.parentStyle.fontSize","categoryAxis2.label.parentStyle.fontSize","rowAxis.label.style.fontSize","columnAxis.label.style.fontSize","timeAxis.label.style.fontSize","plotArea.polarAxis.label.style.fontSize"],sapUiChartValueAxisLabelFontSize:["valueAxis.label.style.fontSize","valueAxis2.label.style.fontSize","plotArea.valueAxis.label.style.fontSize"],sapUiChartCategoryAxisLineColor:["categoryAxis.color","categoryAxis2.color","timeAxis.color"],sapUiChartValueAxisLineColor:["valueAxis.color","valueAxis2.color"],sapUiChartBackgroundColor:["general.background.color","plotArea.background.color","plotArea.referenceLine.defaultStyle.label.background"],sapUiFontFamily:["plotArea.dataLabel.style.fontFamily","plotArea.dimensionLabel.style.fontFamily","plotArea.referenceLine.defaultStyle.label.fontFamily","plotArea.highlight.centerName.style.fontFamily","plotArea.highlight.centerValue.style.fontFamily","categoryAxis.title.style.fontFamily","categoryAxis2.title.style.fontFamily","categoryAxis.label.style.fontFamily","categoryAxis2.label.style.fontFamily","timeAxis.title.style.fontFamily","timeAxis.label.style.fontFamily","valueAxis.title.style.fontFamily","valueAxis.label.style.fontFamily","valueAxis2.label.style.fontFamily","valueAxis2.title.style.fontFamily","columnAxis.title.style.fontFamily","columnAxis.label.style.fontFamily","rowAxis.title.style.fontFamily","rowAxis.label.style.fontFamily","legend.title.style.fontFamily","legend.label.style.fontFamily","sizeLegend.title.style.fontFamily","sizeLegend.label.style.fontFamily","title.style.fontFamily","plotArea.callout.label.style.fontFamily","plotArea.polarAxis.title.style.fontFamily","plotArea.polarAxis.label.style.fontFamily","plotArea.valueAxis.label.style.fontFamily"],sapUiChartLabelFontWeight:["plotArea.dataLabel.style.fontWeight","plotArea.dimensionLabel.style.fontWeight","plotArea.referenceLine.defaultStyle.label.fontWeight","plotArea.highlight.centerName.style.fontWeight","plotArea.highlight.centerValue.style.fontWeight","categoryAxis.label.style.fontWeight","categoryAxis2.label.style.fontWeight","timeAxis.label.style.fontWeight","valueAxis.label.style.fontWeight","valueAxis2.label.style.fontWeight","columnAxis.label.style.fontWeight","rowAxis.label.style.fontWeight","legend.label.style.fontWeight","sizeLegend.label.style.fontWeight","plotArea.polarAxis.label.style.fontWeight","plotArea.valueAxis.label.style.fontWeight"],sapUiChartLegendLabelFontColor:["legend.label.style.color","sizeLegend.label.style.color"],sapUiChartLegendTitleFontColor:["legend.title.style.color","sizeLegend.title.style.color"],sapUiChartLegendTitleFontSize:["legend.title.style.fontSize","sizeLegend.title.style.fontSize"],sapUiChartLegendLabelFontSize:["legend.label.style.fontSize","sizeLegend.label.style.fontSize"],sapUiChartPaletteUndefinedColor:"plotArea.defaultOthersStyle.color",sapUiChartPaletteSemanticBadLight1:"general.defaultTimePeriodColor",sapUiChartGridlineColor:["plotArea.gridline.color","plotArea.grid.line.color","plotArea.dataLabel.line.color"],sapUiChartReferenceLineColor:["plotArea.referenceLine.defaultStyle.color","plotArea.referenceLine.defaultStyle.label.background","plotArea.callout.line.color"],sapUiChartReferenceLineLabelColor:"plotArea.referenceLine.defaultStyle.label.color",sapUiChartDataLabelFontSize:["plotArea.dataLabel.style.fontSize","plotArea.dimensionLabel.style.fontSize","plotArea.referenceLine.defaultStyle.label.fontSize","plotArea.callout.label.style.fontSize"],sapUiChartScrollBarThumbColor:["plotArea.scrollbar.thumb.fill","legend.scrollbar.thumb.fill"],sapUiChartScrollBarTrackColor:["plotArea.scrollbar.track.fill","legend.scrollbar.track.fill"],sapUiChartScrollBarThumbHoverColor:["plotArea.scrollbar.thumb.hoverFill","legend.scrollbar.thumb.hoverFill"],sapUiChartScrollbarThumbPadding:["plotArea.scrollbar.spacing","legend.scrollbar.spacing"],sapUiChartScrollbarBorderColor:["plotArea.scrollbar.border.color","legend.scrollbar.border.color"],sapUiChartScrollbarBorderSize:["plotArea.scrollbar.border.width","legend.scrollbar.border.width"],sapUiChartMainTitleFontColor:"title.style.color",sapUiChartAxisTitleFontColor:["categoryAxis.title.style.color","categoryAxis2.title.style.color","valueAxis.title.style.color","valueAxis2.title.style.color","columnAxis.title.style.color","rowAxis.title.style.color","timeAxis.title.style.color","plotArea.polarAxis.title.style.color","plotArea.valueAxis.title.style.color"],sapUiChartMainTitleFontSize:"title.style.fontSize",sapUiChartAxisTitleFontSize:["categoryAxis.title.style.fontSize","categoryAxis2.title.style.fontSize","valueAxis.title.style.fontSize","valueAxis2.title.style.fontSize","columnAxis.title.style.fontSize","rowAxis.title.style.fontSize","timeAxis.title.style.fontSize","plotArea.polarAxis.title.style.fontSize","plotArea.valueAxis.title.style.fontSize"],sapUiChartAxisTitleFontWeight:["categoryAxis.title.style.fontWeight","categoryAxis2.title.style.fontWeight","valueAxis.title.style.fontWeight","valueAxis2.title.style.fontWeight","columnAxis.title.style.fontWeight","rowAxis.title.style.fontWeight","timeAxis.title.style.fontWeight","plotArea.polarAxis.title.style.fontWeight","plotArea.valueAxis.title.style.fontWeight"],sapUiChartTitleFontWeight:["title.style.fontWeight","legend.title.style.fontWeight","categoryAxis.label.parentStyle.fontWeight","categoryAxis2.label.parentStyle.fontWeight","plotArea.callout.label.style.fontWeight"],sapUiChartDataPointBorderColor:["plotArea.dataPoint.stroke.color","plotArea.area.stroke.color","interaction.deselected.stroke.color"],sapUiChartDataPointBorderHoverSelectedColor:["interaction.hover.stroke.color","interaction.selected.stroke.color"],sapUiChartDataPointNotSelectedBackgroundOpacity:"interaction.deselected.opacity",sapUiChartTargetColor:["plotArea.target.valueColor","plotArea.linkline.color"],sapUiChartTargetShadowColor:"plotArea.target.shadowColor",sapUiChartBubbleBGOpacity:"plotArea.dataPoint.opacity",sapUiGroupContentBackground:"tooltip.background.color",sapVizChartTooltipBorderStroke:["tooltip.background.borderColor","tooltip.separationLine.color"],sapUiChartPopoverDataItemFontColor:["tooltip.bodyDimensionLabel.color","tooltip.bodyDimensionValue.color","tooltip.bodyMeasureLabel.color","tooltip.bodyMeasureValue.color","tooltip.footerLabel.color"],sapUiChartLegendHoverBackground:["legend.hoverShadow.color"],sapUiChartLegendSelectionBackground:["legend.mouseDownShadow.color"],sapUiChartLegendSelectionHoverBackground:["legend.hoverSelectedShadow.color"],sapUiChartPaletteSemanticNeutral:["plotArea.dataPoint.color.total"],sapUiChartPaletteQualitativeHue1:["plotArea.dataPoint.color.positive"],sapUiChartPaletteQualitativeHue2:["plotArea.dataPoint.color.negative"],sapUiChartLightText:["timeAxis.label.style.parentColor"],sapUiChartZeroAxisColor:["plotArea.gridline.zeroLine.color"],sapUiChartDataLabelFontColor:["plotArea.dataLabel.style.color"],sapUiChartFocusWidth:["interaction.keyboard.width"],sapUiContentFocusColor:["interaction.keyboard.color"]};(function(){var l=e.system.tablet||e.system.phone;if(l){t._mapping["sapUiChartBackgroundColor"]=["general.background.color","plotArea.background.color","plotArea.referenceLine.defaultStyle.label.background","plotArea.scrollbar.track.fill","legend.scrollbar.track.fill"];t._mapping["sapUiChartScrollBarThumbColor"]=[];t._mapping["sapUiChartScrollBarTrackColor"]=[];t._mapping["sapUiChartScrollBarThumbHoverColor"]=["plotArea.scrollbar.thumb.hoverFill","legend.scrollbar.thumb.hoverFill","plotArea.scrollbar.thumb.fill","legend.scrollbar.thumb.fill"]}else{t._mapping["sapUiChartBackgroundColor"]=["general.background.color","plotArea.background.color","plotArea.referenceLine.defaultStyle.label.background"];t._mapping["sapUiChartScrollBarThumbColor"]=["plotArea.scrollbar.thumb.fill","legend.scrollbar.thumb.fill"];t._mapping["sapUiChartScrollBarTrackColor"]=["plotArea.scrollbar.track.fill","legend.scrollbar.track.fill"];t._mapping["sapUiChartScrollBarThumbHoverColor"]=["plotArea.scrollbar.thumb.hoverFill","legend.scrollbar.thumb.hoverFill"]}})();t._exclude={"valueAxis.color":["*dual*"],"valueAxis.title.style.color":["*dual*"],"valueAxis2.color":["*dual*"],"valueAxis2.title.style.color":["*dual*"],"interaction.hover.stroke.color":["*pie*","*donut*"]};t.readCSSParameters=function(e,o){var a={};var r=t._mapping;var i=t._exclude;for(var s in r){if(r.hasOwnProperty(s)){var n=l.get({name:[s],callback:function(){}});if(n){var c=n.indexOf("rem");if(c>-1){var p=n.substring(0,c);n=p*parseFloat(window.getComputedStyle(document.documentElement).fontSize)+"px"}var y=r[s];if(Object.prototype.toString.call(y)==="[object Array]"){for(var A=0;A<y.length;A++){if(!h(i,y[A],e)){g(a,y[A],n)}}}else{if(!h(i,y,e)){g(a,y,n)}}}}}return a;function g(e,l,t){var o=l.split(".");var a=e;for(var r=0;r<o.length-1;r++){var i=o[r];if(a[i]==undefined||a[i]==null){a[i]={}}a=a[i]}i=o[r];a[i]=t}function h(e,l,t){var o=false;if(e.hasOwnProperty(l)){var a=e[l];for(var r=0;r<a.length;r++){var i=a[r].replace(/\*/g,".*").replace(/\?/g,".").replace(/\|/g,"$|^");var s=RegExp("^"+i+"$");if(s.test(t)){o=true;break}}}return o}};return t},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/viz/ui5/utils/CommonUtil", function(){"use strict";var e={};e.extendScales=function(){var e={},r=arguments[0]||[],n=0,t=r.length,f=[];for(;n<t;n++){e[r[n].feed]=r[n]}for(n=1,t=arguments.length;n<t;n++){var u=arguments[n];for(var a=0,i=u.length;a<i;a++){e[u[a].feed]=u[a]}}for(n in e){f.push(e[n])}return f};return e});
sap.ui.require.preload({
	"sap/viz/libs/canvg.js":function(){
/*
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed 
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
(function(){this.canvg=function(e,i,n){if(e==null&&i==null&&n==null){var a=document.getElementsByTagName("svg");for(var r=0;r<a.length;r++){var s=a[r];var l=document.createElement("canvas");l.width=s.clientWidth;l.height=s.clientHeight;s.parentNode.insertBefore(l,s);s.parentNode.removeChild(s);var h=document.createElement("div");h.appendChild(s);canvg(l,h.innerHTML)}return}n=n||{};if(typeof e=="string"){e=document.getElementById(e)}if(e.svg!=null)e.svg.stop();e.svg=svg=t();svg.opts=n;var o=e.getContext("2d");if(typeof i.documentElement!="undefined"){svg.loadXmlDoc(o,i)}else if(i.substr(0,1)=="<"){svg.loadXml(o,i)}else{svg.load(o,i)}};function t(){var t={};t.FRAMERATE=30;t.MAX_VIRTUAL_PIXELS=3e4;t.init=function(e){t.Definitions={};t.Styles={};t.Animations=[];t.Images=[];t.ctx=e;t.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(t){if(t!=null&&typeof t=="number")return t;if(t=="x")return this.width();if(t=="y")return this.height();return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}};t.init();t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++){if(!t.Images[e].loaded)return false}return true};t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")};t.ajax=function(t){var e;if(window.XMLHttpRequest){e=new XMLHttpRequest}else{e=new ActiveXObject("Microsoft.XMLHTTP")}if(e){e.open("GET",t,false);e.send(null);return e.responseText}return null};t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}else{t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var i=new ActiveXObject("Microsoft.XMLDOM");i.async="false";i.loadXML(t);return i}};t.Property=function(t,e){this.name=t;this.value=e};t.Property.prototype.getValue=function(){return this.value};t.Property.prototype.hasValue=function(){return this.value!=null&&this.value!==""};t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);if((this.value+"").match(/%$/)){t=t/100}return t};t.Property.prototype.valueOrDefault=function(t){if(this.hasValue())return this.value;return t};t.Property.prototype.numValueOrDefault=function(t){if(this.hasValue())return this.numValue();return t};t.Property.prototype.addOpacity=function(e){var i=this.value;if(e!=null&&e!=""&&typeof this.value=="string"){var n=new RGBColor(this.value);if(n.ok){i="rgba("+n.r+", "+n.g+", "+n.b+", "+e+")"}}return new t.Property(this.name,i)};t.Property.prototype.getDefinition=function(){var e=this.value.replace(/^(url\()?#([^\)]+)\)?$/,"$2");return t.Definitions[e]};t.Property.prototype.isUrlDefinition=function(){return this.value.indexOf("url(")==0};t.Property.prototype.getFillStyleDefinition=function(e){var i=this.getDefinition();if(i!=null&&i.createGradient){return i.createGradient(t.ctx,e)}if(i!=null&&i.createPattern){return i.createPattern(t.ctx,e)}return null};t.Property.prototype.getDPI=function(t){return 96};t.Property.prototype.getEM=function(e){var i=12;var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);if(n.hasValue())i=n.toPixels(e);return i};t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")};t.Property.prototype.toPixels=function(e){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/em$/))return this.numValue()*this.getEM(e);if(i.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(i.match(/pc$/))return this.numValue()*15;if(i.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(e);if(i.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);return this.numValue()};t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";if(t.match(/s$/))return this.numValue()*1e3;if(t.match(/ms$/))return this.numValue();return this.numValue()};t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";if(t.match(/deg$/))return this.numValue()*(Math.PI/180);if(t.match(/grad$/))return this.numValue()*(Math.PI/200);if(t.match(/rad$/))return this.numValue();return this.numValue()*(Math.PI/180)};t.Font=new function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(e,i,n,a,r,s){var l=s!=null?this.Parse(s):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:r||l.fontFamily,fontSize:a||l.fontSize,fontStyle:e||l.fontStyle,fontWeight:n||l.fontWeight,fontVariant:i||l.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(i){var n={};var a=t.trim(t.compressSpaces(i||"")).split(" ");var r={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};var s="";for(var l=0;l<a.length;l++){if(!r.fontStyle&&e.Styles.indexOf(a[l])!=-1){if(a[l]!="inherit")n.fontStyle=a[l];r.fontStyle=true}else if(!r.fontVariant&&e.Variants.indexOf(a[l])!=-1){if(a[l]!="inherit")n.fontVariant=a[l];r.fontStyle=r.fontVariant=true}else if(!r.fontWeight&&e.Weights.indexOf(a[l])!=-1){if(a[l]!="inherit")n.fontWeight=a[l];r.fontStyle=r.fontVariant=r.fontWeight=true}else if(!r.fontSize){if(a[l]!="inherit")n.fontSize=a[l].split("/")[0];r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=true}else{if(a[l]!="inherit")s+=a[l]}}if(s!="")n.fontFamily=s;return n}};t.ToNumberArray=function(e){var i=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" ");for(var n=0;n<i.length;n++){i[n]=parseFloat(i[n])}return i};t.Point=function(t,e){this.x=t;this.y=e};t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)};t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4];var i=this.x*t[1]+this.y*t[3]+t[5];this.x=e;this.y=i};t.CreatePoint=function(e){var i=t.ToNumberArray(e);return new t.Point(i[0],i[1])};t.CreatePath=function(e){var i=t.ToNumberArray(e);var n=[];for(var a=0;a<i.length;a+=2){n.push(new t.Point(i[a],i[a+1]))}return n};t.BoundingBox=function(t,e,n,a){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(t,e){if(t!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=t;this.x2=t}if(t<this.x1)this.x1=t;if(t>this.x2)this.x2=t}if(e!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=e;this.y2=e}if(e<this.y1)this.y1=e;if(e>this.y2)this.y2=e}};this.addX=function(t){this.addPoint(t,null)};this.addY=function(t){this.addPoint(null,t)};this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1);this.addPoint(t.x2,t.y2)};this.addQuadraticCurve=function(t,e,i,n,a,r){var s=t+2/3*(i-t);var l=e+2/3*(n-e);var h=s+1/3*(a-t);var o=l+1/3*(r-e);this.addBezierCurve(t,e,s,h,l,o,a,r)};this.addBezierCurve=function(t,e,n,a,r,s,l,h){var o=[t,e],u=[n,a],f=[r,s],c=[l,h];this.addPoint(o[0],o[1]);this.addPoint(c[0],c[1]);for(i=0;i<=1;i++){var m=function(t){return Math.pow(1-t,3)*o[i]+3*Math.pow(1-t,2)*t*u[i]+3*(1-t)*Math.pow(t,2)*f[i]+Math.pow(t,3)*c[i]};var v=6*o[i]-12*u[i]+6*f[i];var d=-3*o[i]+9*u[i]-9*f[i]+3*c[i];var p=3*u[i]-3*o[i];if(d==0){if(v==0)continue;var y=-p/v;if(0<y&&y<1){if(i==0)this.addX(m(y));if(i==1)this.addY(m(y))}continue}var g=Math.pow(v,2)-4*p*d;if(g<0)continue;var x=(-v+Math.sqrt(g))/(2*d);if(0<x&&x<1){if(i==0)this.addX(m(x));if(i==1)this.addY(m(x))}var b=(-v-Math.sqrt(g))/(2*d);if(0<b&&b<1){if(i==0)this.addX(m(b));if(i==1)this.addY(m(b))}}};this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2};this.addPoint(t,e);this.addPoint(n,a)};t.Transform=function(e){var i=this;this.Type={};this.Type.translate=function(e){this.p=t.CreatePoint(e);this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)};this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(e){var i=t.ToNumberArray(e);this.angle=new t.Property("angle",i[0]);this.cx=i[1]||0;this.cy=i[2]||0;this.apply=function(t){t.translate(this.cx,this.cy);t.rotate(this.angle.toRadians());t.translate(-this.cx,-this.cy)};this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]);t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(e){this.p=t.CreatePoint(e);this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)};this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(e){this.m=t.ToNumberArray(e);this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.applyToPoint=function(t){t.applyTransform(this.m)}};this.Type.SkewBase=function(e){this.base=i.Type.matrix;this.base(e);this.angle=new t.Property("angle",e)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(t){this.base=i.Type.SkewBase;this.base(t);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(t){this.base=i.Type.SkewBase;this.base(t);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(t){for(var e=0;e<this.transforms.length;e++){this.transforms[e].apply(t)}};this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++){this.transforms[e].applyToPoint(t)}};var n=t.trim(t.compressSpaces(e)).split(/\s(?=[a-z])/);for(var a=0;a<n.length;a++){var r=n[a].split("(")[0];var s=n[a].split("(")[1].replace(")","");var l=new this.Type[r](s);this.transforms.push(l)}};t.AspectRatio=function(e,i,n,a,r,s,l,h,o,u){i=t.compressSpaces(i);i=i.replace(/^defer\s/,"");var f=i.split(" ")[0]||"xMidYMid";var c=i.split(" ")[1]||"meet";var m=n/a;var v=r/s;var d=Math.min(m,v);var p=Math.max(m,v);if(c=="meet"){a*=d;s*=d}if(c=="slice"){a*=p;s*=p}o=new t.Property("refX",o);u=new t.Property("refY",u);if(o.hasValue()&&u.hasValue()){e.translate(-d*o.toPixels("x"),-d*u.toPixels("y"))}else{if(f.match(/^xMid/)&&(c=="meet"&&d==v||c=="slice"&&p==v))e.translate(n/2-a/2,0);if(f.match(/YMid$/)&&(c=="meet"&&d==m||c=="slice"&&p==m))e.translate(0,r/2-s/2);if(f.match(/^xMax/)&&(c=="meet"&&d==v||c=="slice"&&p==v))e.translate(n-a,0);if(f.match(/YMax$/)&&(c=="meet"&&d==m||c=="slice"&&p==m))e.translate(0,r-s)}if(f=="none")e.scale(m,v);else if(c=="meet")e.scale(d,d);else if(c=="slice")e.scale(p,p);e.translate(l==null?0:-l,h==null?0:-h)};t.Element={};t.EmptyProperty=new t.Property("EMPTY","");t.Element.ElementBase=function(e){this.attributes={};this.styles={};this.children=[];this.attribute=function(e,i){var n=this.attributes[e];if(n!=null)return n;if(i==true){n=new t.Property(e,"");this.attributes[e]=n}return n||t.EmptyProperty};this.style=function(e,i){var n=this.styles[e];if(n!=null)return n;var a=this.attribute(e);if(a!=null&&a.hasValue()){this.styles[e]=a;return a}var r=this.parent;if(r!=null){var s=r.style(e);if(s!=null&&s.hasValue()){return s}}if(i==true){n=new t.Property(e,"");this.styles[e]=n}return n||t.EmptyProperty};this.render=function(t){if(this.style("display").value=="none")return;if(this.attribute("visibility").value=="hidden")return;t.save();this.setContext(t);if(this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();if(e!=null)e.apply(t,this)}else if(this.style("filter").hasValue()){var i=this.style("filter").getDefinition();if(i!=null)i.apply(t,this)}else this.renderChildren(t);this.clearContext(t);t.restore()};this.setContext=function(t){};this.clearContext=function(t){};this.renderChildren=function(t){for(var e=0;e<this.children.length;e++){this.children[e].render(t)}};this.addChild=function(e,i){var n=e;if(i)n=t.CreateElement(e);n.parent=this;this.children.push(n)};if(e!=null&&e.nodeType==1){for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(n.nodeType==1)this.addChild(n,true)}for(var i=0;i<e.attributes.length;i++){var a=e.attributes[i];this.attributes[a.nodeName]=new t.Property(a.nodeName,a.nodeValue)}var r=t.Styles[e.nodeName];if(r!=null){for(var s in r){this.styles[s]=r[s]}}if(this.attribute("class").hasValue()){var l=t.compressSpaces(this.attribute("class").value).split(" ");for(var h=0;h<l.length;h++){r=t.Styles["."+l[h]];if(r!=null){for(var s in r){this.styles[s]=r[s]}}r=t.Styles[e.nodeName+"."+l[h]];if(r!=null){for(var s in r){this.styles[s]=r[s]}}}}if(this.attribute("id").hasValue()){var r=t.Styles["#"+this.attribute("id").value];if(r!=null){for(var s in r){this.styles[s]=r[s]}}}if(this.attribute("style").hasValue()){var r=this.attribute("style").value.split(";");for(var i=0;i<r.length;i++){if(t.trim(r[i])!=""){var o=r[i].split(":");var s=t.trim(o[0]);var u=t.trim(o[1]);this.styles[s]=new t.Property(s,u)}}}if(this.attribute("id").hasValue()){if(t.Definitions[this.attribute("id").value]==null){t.Definitions[this.attribute("id").value]=this}}}};t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase;this.base(e);this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var i=this.style("fill").getFillStyleDefinition(this);if(i!=null)e.fillStyle=i}else if(this.style("fill").hasValue()){var n=this.style("fill");if(n.value=="currentColor")n.value=this.style("color").value;e.fillStyle=n.value=="none"?"rgba(0,0,0,0)":n.value}if(this.style("fill-opacity").hasValue()){var n=new t.Property("fill",e.fillStyle);n=n.addOpacity(this.style("fill-opacity").value);e.fillStyle=n.value}if(this.style("stroke").isUrlDefinition()){var i=this.style("stroke").getFillStyleDefinition(this);if(i!=null)e.strokeStyle=i}else if(this.style("stroke").hasValue()){var a=this.style("stroke");if(a.value=="currentColor")a.value=this.style("color").value;e.strokeStyle=a.value=="none"?"rgba(0,0,0,0)":a.value}if(this.style("stroke-opacity").hasValue()){var a=new t.Property("stroke",e.strokeStyle);a=a.addOpacity(this.style("stroke-opacity").value);e.strokeStyle=a.value}if(this.style("stroke-width").hasValue())e.lineWidth=this.style("stroke-width").toPixels();if(this.style("stroke-linecap").hasValue())e.lineCap=this.style("stroke-linecap").value;if(this.style("stroke-linejoin").hasValue())e.lineJoin=this.style("stroke-linejoin").value;if(this.style("stroke-miterlimit").hasValue())e.miterLimit=this.style("stroke-miterlimit").value;if(typeof e.font!="undefined"){e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()}if(this.attribute("transform").hasValue()){var r=new t.Transform(this.attribute("transform").value);r.apply(e)}if(this.attribute("clip-path").hasValue()){var s=this.attribute("clip-path").getDefinition();if(s!=null)s.apply(e)}if(this.style("opacity").hasValue()){e.globalAlpha=this.style("opacity").numValue()}}};t.Element.RenderedElementBase.prototype=new t.Element.ElementBase;t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase;this.base(e);this.path=function(e){if(e!=null)e.beginPath();return new t.BoundingBox};this.renderChildren=function(e){this.path(e);t.Mouse.checkPath(this,e);if(e.fillStyle!="")e.fill();if(e.strokeStyle!="")e.stroke();var i=this.getMarkers();if(i!=null){if(this.style("marker-start").isUrlDefinition()){var n=this.style("marker-start").getDefinition();n.render(e,i[0][0],i[0][1])}if(this.style("marker-mid").isUrlDefinition()){var n=this.style("marker-mid").getDefinition();for(var a=1;a<i.length-1;a++){n.render(e,i[a][0],i[a][1])}}if(this.style("marker-end").isUrlDefinition()){var n=this.style("marker-end").getDefinition();n.render(e,i[i.length-1][0],i[i.length-1][1])}}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase;t.Element.svg=function(e){this.base=t.Element.RenderedElementBase;this.base(e);this.baseClearContext=this.clearContext;this.clearContext=function(e){this.baseClearContext(e);t.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)";e.lineCap="butt";e.lineJoin="miter";e.miterLimit=4;this.baseSetContext(e);if(!this.attribute("x").hasValue())this.attribute("x",true).value=0;if(!this.attribute("y").hasValue())this.attribute("y",true).value=0;e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i=t.ViewPort.width();var n=t.ViewPort.height();if(!this.attribute("width").hasValue())this.attribute("width",true).value="100%";if(!this.attribute("height").hasValue())this.attribute("height",true).value="100%";if(typeof this.root=="undefined"){i=this.attribute("width").toPixels("x");n=this.attribute("height").toPixels("y");var a=0;var r=0;if(this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()){a=-this.attribute("refX").toPixels("x");r=-this.attribute("refY").toPixels("y")}e.beginPath();e.moveTo(a,r);e.lineTo(i,r);e.lineTo(i,n);e.lineTo(a,n);e.closePath();e.clip()}t.ViewPort.SetCurrent(i,n);if(this.attribute("viewBox").hasValue()){var s=t.ToNumberArray(this.attribute("viewBox").value);var l=s[0];var h=s[1];i=s[2];n=s[3];t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),i,t.ViewPort.height(),n,l,h,this.attribute("refX").value,this.attribute("refY").value);t.ViewPort.RemoveCurrent();t.ViewPort.SetCurrent(s[2],s[3])}}};t.Element.svg.prototype=new t.Element.RenderedElementBase;t.Element.rect=function(e){this.base=t.Element.PathElementBase;this.base(e);this.path=function(e){var i=this.attribute("x").toPixels("x");var n=this.attribute("y").toPixels("y");var a=this.attribute("width").toPixels("x");var r=this.attribute("height").toPixels("y");var s=this.attribute("rx").toPixels("x");var l=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue())l=s;if(this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue())s=l;if(e!=null){e.beginPath();e.moveTo(i+s,n);e.lineTo(i+a-s,n);e.quadraticCurveTo(i+a,n,i+a,n+l);e.lineTo(i+a,n+r-l);e.quadraticCurveTo(i+a,n+r,i+a-s,n+r);e.lineTo(i+s,n+r);e.quadraticCurveTo(i,n+r,i,n+r-l);e.lineTo(i,n+l);e.quadraticCurveTo(i,n,i+s,n);e.closePath()}return new t.BoundingBox(i,n,i+a,n+r)}};t.Element.rect.prototype=new t.Element.PathElementBase;t.Element.circle=function(e){this.base=t.Element.PathElementBase;this.base(e);this.path=function(e){var i=this.attribute("cx").toPixels("x");var n=this.attribute("cy").toPixels("y");var a=this.attribute("r").toPixels();if(e!=null){e.beginPath();e.arc(i,n,a,0,Math.PI*2,true);e.closePath()}return new t.BoundingBox(i-a,n-a,i+a,n+a)}};t.Element.circle.prototype=new t.Element.PathElementBase;t.Element.ellipse=function(e){this.base=t.Element.PathElementBase;this.base(e);this.path=function(e){var i=4*((Math.sqrt(2)-1)/3);var n=this.attribute("rx").toPixels("x");var a=this.attribute("ry").toPixels("y");var r=this.attribute("cx").toPixels("x");var s=this.attribute("cy").toPixels("y");if(e!=null){e.beginPath();e.moveTo(r,s-a);e.bezierCurveTo(r+i*n,s-a,r+n,s-i*a,r+n,s);e.bezierCurveTo(r+n,s+i*a,r+i*n,s+a,r,s+a);e.bezierCurveTo(r-i*n,s+a,r-n,s+i*a,r-n,s);e.bezierCurveTo(r-n,s-i*a,r-i*n,s-a,r,s-a);e.closePath()}return new t.BoundingBox(r-n,s-a,r+n,s+a)}};t.Element.ellipse.prototype=new t.Element.PathElementBase;t.Element.line=function(e){this.base=t.Element.PathElementBase;this.base(e);this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(e){var i=this.getPoints();if(e!=null){e.beginPath();e.moveTo(i[0].x,i[0].y);e.lineTo(i[1].x,i[1].y)}return new t.BoundingBox(i[0].x,i[0].y,i[1].x,i[1].y)};this.getMarkers=function(){var t=this.getPoints();var e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}};t.Element.line.prototype=new t.Element.PathElementBase;t.Element.polyline=function(e){this.base=t.Element.PathElementBase;this.base(e);this.points=t.CreatePath(this.attribute("points").value);this.path=function(e){var i=new t.BoundingBox(this.points[0].x,this.points[0].y);if(e!=null){e.beginPath();e.moveTo(this.points[0].x,this.points[0].y)}for(var n=1;n<this.points.length;n++){i.addPoint(this.points[n].x,this.points[n].y);if(e!=null)e.lineTo(this.points[n].x,this.points[n].y)}return i};this.getMarkers=function(){var t=[];for(var e=0;e<this.points.length-1;e++){t.push([this.points[e],this.points[e].angleTo(this.points[e+1])])}t.push([this.points[this.points.length-1],t[t.length-1][1]]);return t}};t.Element.polyline.prototype=new t.Element.PathElementBase;t.Element.polygon=function(e){this.base=t.Element.polyline;this.base(e);this.basePath=this.path;this.path=function(t){var e=this.basePath(t);if(t!=null){t.lineTo(this.points[0].x,this.points[0].y);t.closePath()}return e}};t.Element.polygon.prototype=new t.Element.polyline;t.Element.path=function(e){this.base=t.Element.PathElementBase;this.base(e);var i=this.attribute("d").value;i=i.replace(/,/gm," ");i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");i=i.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");i=i.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");i=i.replace(/([0-9])([+\-])/gm,"$1 $2");i=i.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");i=i.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");i=t.compressSpaces(i);i=t.trim(i);this.PathParser=new function(e){this.tokens=e.split(" ");this.reset=function(){this.i=-1;this.command="";this.previousCommand="";this.start=new t.Point(0,0);this.control=new t.Point(0,0);this.current=new t.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){if(this.isEnd())return true;return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null};this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return true;break}return false};this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)};this.getAsControlPoint=function(){var t=this.getPoint();this.control=t;return t};this.getAsCurrentPoint=function(){var t=this.getPoint();this.current=t;return t};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s"){return this.current}var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e};this.makeAbsolute=function(t){if(this.isRelativeCommand()){t.x+=this.current.x;t.y+=this.current.y}return t};this.addMarker=function(t,e,i){if(i!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null){this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)}this.addMarkerAngle(t,e==null?null:e.angleTo(t))};this.addMarkerAngle=function(t,e){this.points.push(t);this.angles.push(e)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++){if(this.angles[t]==null){for(var e=t+1;e<this.angles.length;e++){if(this.angles[e]!=null){this.angles[t]=this.angles[e];break}}}}return this.angles}}(i);this.path=function(e){var i=this.PathParser;i.reset();var n=new t.BoundingBox;if(e!=null)e.beginPath();while(!i.isEnd()){i.nextCommand();switch(i.command){case"M":case"m":var a=i.getAsCurrentPoint();i.addMarker(a);n.addPoint(a.x,a.y);if(e!=null)e.moveTo(a.x,a.y);i.start=i.current;while(!i.isCommandOrEnd()){var a=i.getAsCurrentPoint();i.addMarker(a,i.start);n.addPoint(a.x,a.y);if(e!=null)e.lineTo(a.x,a.y)}break;case"L":case"l":while(!i.isCommandOrEnd()){var r=i.current;var a=i.getAsCurrentPoint();i.addMarker(a,r);n.addPoint(a.x,a.y);if(e!=null)e.lineTo(a.x,a.y)}break;case"H":case"h":while(!i.isCommandOrEnd()){var s=new t.Point((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y);i.addMarker(s,i.current);i.current=s;n.addPoint(i.current.x,i.current.y);if(e!=null)e.lineTo(i.current.x,i.current.y)}break;case"V":case"v":while(!i.isCommandOrEnd()){var s=new t.Point(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar());i.addMarker(s,i.current);i.current=s;n.addPoint(i.current.x,i.current.y);if(e!=null)e.lineTo(i.current.x,i.current.y)}break;case"C":case"c":while(!i.isCommandOrEnd()){var l=i.current;var h=i.getPoint();var o=i.getAsControlPoint();var u=i.getAsCurrentPoint();i.addMarker(u,o,h);n.addBezierCurve(l.x,l.y,h.x,h.y,o.x,o.y,u.x,u.y);if(e!=null)e.bezierCurveTo(h.x,h.y,o.x,o.y,u.x,u.y)}break;case"S":case"s":while(!i.isCommandOrEnd()){var l=i.current;var h=i.getReflectedControlPoint();var o=i.getAsControlPoint();var u=i.getAsCurrentPoint();i.addMarker(u,o,h);n.addBezierCurve(l.x,l.y,h.x,h.y,o.x,o.y,u.x,u.y);if(e!=null)e.bezierCurveTo(h.x,h.y,o.x,o.y,u.x,u.y)}break;case"Q":case"q":while(!i.isCommandOrEnd()){var l=i.current;var o=i.getAsControlPoint();var u=i.getAsCurrentPoint();i.addMarker(u,o,o);n.addQuadraticCurve(l.x,l.y,o.x,o.y,u.x,u.y);if(e!=null)e.quadraticCurveTo(o.x,o.y,u.x,u.y)}break;case"T":case"t":while(!i.isCommandOrEnd()){var l=i.current;var o=i.getReflectedControlPoint();i.control=o;var u=i.getAsCurrentPoint();i.addMarker(u,o,o);n.addQuadraticCurve(l.x,l.y,o.x,o.y,u.x,u.y);if(e!=null)e.quadraticCurveTo(o.x,o.y,u.x,u.y)}break;case"A":case"a":while(!i.isCommandOrEnd()){var l=i.current;var f=i.getScalar();var c=i.getScalar();var m=i.getScalar()*(Math.PI/180);var v=i.getScalar();var d=i.getScalar();var u=i.getAsCurrentPoint();var p=new t.Point(Math.cos(m)*(l.x-u.x)/2+Math.sin(m)*(l.y-u.y)/2,-Math.sin(m)*(l.x-u.x)/2+Math.cos(m)*(l.y-u.y)/2);var y=Math.pow(p.x,2)/Math.pow(f,2)+Math.pow(p.y,2)/Math.pow(c,2);if(y>1){f*=Math.sqrt(y);c*=Math.sqrt(y)}var g=(v==d?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(c,2)-Math.pow(f,2)*Math.pow(p.y,2)-Math.pow(c,2)*Math.pow(p.x,2))/(Math.pow(f,2)*Math.pow(p.y,2)+Math.pow(c,2)*Math.pow(p.x,2)));if(isNaN(g))g=0;var x=new t.Point(g*f*p.y/c,g*-c*p.x/f);var b=new t.Point((l.x+u.x)/2+Math.cos(m)*x.x-Math.sin(m)*x.y,(l.y+u.y)/2+Math.sin(m)*x.x+Math.cos(m)*x.y);var P=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))};var E=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(P(t)*P(e))};var w=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(E(t,e))};var B=w([1,0],[(p.x-x.x)/f,(p.y-x.y)/c]);var C=[(p.x-x.x)/f,(p.y-x.y)/c];var V=[(-p.x-x.x)/f,(-p.y-x.y)/c];var T=w(C,V);if(E(C,V)<=-1)T=Math.PI;if(E(C,V)>=1)T=0;if(d==0&&T>0)T=T-2*Math.PI;if(d==1&&T<0)T=T+2*Math.PI;var M=new t.Point(b.x+f*Math.cos((B+(B+T))/2),b.y+c*Math.sin((B+(B+T))/2));i.addMarkerAngle(M,(B+(B+T))/2+(d==0?-1:1)*Math.PI/2);i.addMarkerAngle(u,B+T+(d==0?-1:1)*Math.PI/2);n.addPoint(u.x,u.y);if(e!=null){var E=f>c?f:c;var k=f>c?1:f/c;var S=f>c?c/f:1;e.translate(b.x,b.y);e.rotate(m);e.scale(k,S);e.arc(0,0,E,B,B+T,1-d);e.scale(1/k,1/S);e.rotate(-m);e.translate(-b.x,-b.y)}}break;case"Z":case"z":if(e!=null)e.closePath();i.current=i.start}}return n};this.getMarkers=function(){var t=this.PathParser.getMarkerPoints();var e=this.PathParser.getMarkerAngles();var i=[];for(var n=0;n<t.length;n++){i.push([t[n],e[n]])}return i}};t.Element.path.prototype=new t.Element.PathElementBase;t.Element.pattern=function(e){this.base=t.Element.ElementBase;this.base(e);this.createPattern=function(e,i){var n=new t.Element.svg;n.attributes["viewBox"]=new t.Property("viewBox",this.attribute("viewBox").value);n.attributes["x"]=new t.Property("x",this.attribute("x").value);n.attributes["y"]=new t.Property("y",this.attribute("y").value);n.attributes["width"]=new t.Property("width",this.attribute("width").value);n.attributes["height"]=new t.Property("height",this.attribute("height").value);n.children=this.children;var a=document.createElement("canvas");document.body.appendChild(a);a.width=this.attribute("width").toPixels("x")+this.attribute("x").toPixels("x");a.height=this.attribute("height").toPixels("y")+this.attribute("y").toPixels("y");n.render(a.getContext("2d"));return e.createPattern(a,"repeat")}};t.Element.pattern.prototype=new t.Element.ElementBase;t.Element.marker=function(e){this.base=t.Element.ElementBase;this.base(e);this.baseRender=this.render;this.render=function(e,i,n){e.translate(i.x,i.y);if(this.attribute("orient").valueOrDefault("auto")=="auto")e.rotate(n);if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth")e.scale(e.lineWidth,e.lineWidth);e.save();var a=new t.Element.svg;a.attributes["viewBox"]=new t.Property("viewBox",this.attribute("viewBox").value);a.attributes["refX"]=new t.Property("refX",this.attribute("refX").value);a.attributes["refY"]=new t.Property("refY",this.attribute("refY").value);a.attributes["width"]=new t.Property("width",this.attribute("markerWidth").value);a.attributes["height"]=new t.Property("height",this.attribute("markerHeight").value);a.attributes["fill"]=new t.Property("fill",this.attribute("fill").valueOrDefault("black"));a.attributes["stroke"]=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none"));a.children=this.children;a.render(e);e.restore();if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth")e.scale(1/e.lineWidth,1/e.lineWidth);if(this.attribute("orient").valueOrDefault("auto")=="auto")e.rotate(-n);e.translate(-i.x,-i.y)}};t.Element.marker.prototype=new t.Element.ElementBase;t.Element.defs=function(e){this.base=t.Element.ElementBase;this.base(e);this.render=function(t){}};t.Element.defs.prototype=new t.Element.ElementBase;t.Element.GradientBase=function(e){this.base=t.Element.ElementBase;this.base(e);this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");this.stops=[];for(var i=0;i<this.children.length;i++){var n=this.children[i];this.stops.push(n)}this.getGradient=function(){};this.createGradient=function(e,i){var n=this;if(this.attribute("xlink:href").hasValue()){n=this.attribute("xlink:href").getDefinition()}var a=this.getGradient(e,i);if(a==null)return n.stops[n.stops.length-1].color;for(var r=0;r<n.stops.length;r++){a.addColorStop(n.stops[r].offset,n.stops[r].color)}if(this.attribute("gradientTransform").hasValue()){var s=t.ViewPort.viewPorts[0];var l=new t.Element.rect;l.attributes["x"]=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3);l.attributes["y"]=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3);l.attributes["width"]=new t.Property("width",t.MAX_VIRTUAL_PIXELS);l.attributes["height"]=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var h=new t.Element.g;h.attributes["transform"]=new t.Property("transform",this.attribute("gradientTransform").value);h.children=[l];var o=new t.Element.svg;o.attributes["x"]=new t.Property("x",0);o.attributes["y"]=new t.Property("y",0);o.attributes["width"]=new t.Property("width",s.width);o.attributes["height"]=new t.Property("height",s.height);o.children=[h];var u=document.createElement("canvas");u.width=s.width;u.height=s.height;var f=u.getContext("2d");f.fillStyle=a;o.render(f);return f.createPattern(u,"no-repeat")}return a}};t.Element.GradientBase.prototype=new t.Element.ElementBase;t.Element.linearGradient=function(e){this.base=t.Element.GradientBase;this.base(e);this.getGradient=function(t,e){var i=e.getBoundingBox();var n=this.gradientUnits=="objectBoundingBox"?i.x()+i.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x");var a=this.gradientUnits=="objectBoundingBox"?i.y()+i.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y");var r=this.gradientUnits=="objectBoundingBox"?i.x()+i.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x");var s=this.gradientUnits=="objectBoundingBox"?i.y()+i.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");if(n==r&&a==s)return null;return t.createLinearGradient(n,a,r,s)}};t.Element.linearGradient.prototype=new t.Element.GradientBase;t.Element.radialGradient=function(e){this.base=t.Element.GradientBase;this.base(e);this.getGradient=function(t,e){var i=e.getBoundingBox();if(!this.attribute("cx").hasValue())this.attribute("cx",true).value="50%";if(!this.attribute("cy").hasValue())this.attribute("cy",true).value="50%";if(!this.attribute("r").hasValue())this.attribute("r",true).value="50%";var n=this.gradientUnits=="objectBoundingBox"?i.x()+i.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x");var a=this.gradientUnits=="objectBoundingBox"?i.y()+i.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y");var r=n;var s=a;if(this.attribute("fx").hasValue()){r=this.gradientUnits=="objectBoundingBox"?i.x()+i.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")}if(this.attribute("fy").hasValue()){s=this.gradientUnits=="objectBoundingBox"?i.y()+i.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y")}var l=this.gradientUnits=="objectBoundingBox"?(i.width()+i.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(r,s,0,n,a,l)}};t.Element.radialGradient.prototype=new t.Element.GradientBase;t.Element.stop=function(e){this.base=t.Element.ElementBase;this.base(e);this.offset=this.attribute("offset").numValue();var i=this.style("stop-color");if(this.style("stop-opacity").hasValue())i=i.addOpacity(this.style("stop-opacity").value);this.color=i.value};t.Element.stop.prototype=new t.Element.ElementBase;t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase;this.base(e);t.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var t=this.attribute("attributeType").value;var e=this.attribute("attributeName").value;if(t=="CSS"){return this.parent.style(e,true)}return this.parent.attribute(e,true)};this.initialValue=null;this.initialUnits="";this.removed=false;this.calcValue=function(){return""};this.update=function(t){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits()}if(this.duration>this.maxDuration){if(this.attribute("repeatCount").value=="indefinite"){this.duration=0}else if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed){this.removed=true;this.getProperty().value=this.initialValue;return true}else{return false}}this.duration=this.duration+t;var e=false;if(this.begin<this.duration){var i=this.calcValue();if(this.attribute("type").hasValue()){var n=this.attribute("type").value;i=n+"("+i+")"}this.getProperty().value=i;e=true}return e};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");if(this.values.hasValue())this.values.value=this.values.value.split(";");this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var i=e.progress*(this.values.value.length-1);var n=Math.floor(i),a=Math.ceil(i);e.from=new t.Property("from",parseFloat(this.values.value[n]));e.to=new t.Property("to",parseFloat(this.values.value[a]));e.progress=(i-n)/(a-n)}else{e.from=this.from;e.to=this.to}return e}};t.Element.AnimateBase.prototype=new t.Element.ElementBase;t.Element.animate=function(e){this.base=t.Element.AnimateBase;this.base(e);this.calcValue=function(){var t=this.progress();var e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}};t.Element.animate.prototype=new t.Element.AnimateBase;t.Element.animateColor=function(e){this.base=t.Element.AnimateBase;this.base(e);this.calcValue=function(){var t=this.progress();var e=new RGBColor(t.from.value);var i=new RGBColor(t.to.value);if(e.ok&&i.ok){var n=e.r+(i.r-e.r)*t.progress;var a=e.g+(i.g-e.g)*t.progress;var r=e.b+(i.b-e.b)*t.progress;return"rgb("+parseInt(n,10)+","+parseInt(a,10)+","+parseInt(r,10)+")"}return this.attribute("from").value}};t.Element.animateColor.prototype=new t.Element.AnimateBase;t.Element.animateTransform=function(e){this.base=t.Element.animate;this.base(e)};t.Element.animateTransform.prototype=new t.Element.animate;t.Element.font=function(e){this.base=t.Element.ElementBase;this.base(e);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var i=0;i<this.children.length;i++){var n=this.children[i];if(n.type=="font-face"){this.fontFace=n;if(n.style("font-family").hasValue()){t.Definitions[n.style("font-family").value]=this}}else if(n.type=="missing-glyph")this.missingGlyph=n;else if(n.type=="glyph"){if(n.arabicForm!=""){this.isRTL=true;this.isArabic=true;if(typeof this.glyphs[n.unicode]=="undefined")this.glyphs[n.unicode]=[];this.glyphs[n.unicode][n.arabicForm]=n}else{this.glyphs[n.unicode]=n}}}};t.Element.font.prototype=new t.Element.ElementBase;t.Element.fontface=function(e){this.base=t.Element.ElementBase;this.base(e);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};t.Element.fontface.prototype=new t.Element.ElementBase;t.Element.missingglyph=function(e){this.base=t.Element.path;this.base(e);this.horizAdvX=0};t.Element.missingglyph.prototype=new t.Element.path;t.Element.glyph=function(e){this.base=t.Element.path;this.base(e);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};t.Element.glyph.prototype=new t.Element.path;t.Element.text=function(e){this.base=t.Element.RenderedElementBase;this.base(e);if(e!=null){this.children=[];for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(n.nodeType==1){this.addChild(n,true)}else if(n.nodeType==3){this.addChild(new t.Element.tspan(n),false)}}}this.baseSetContext=this.setContext;this.setContext=function(t){this.baseSetContext(t);if(this.style("dominant-baseline").hasValue())t.textBaseline=this.style("dominant-baseline").value;if(this.style("alignment-baseline").hasValue())t.textBaseline=this.style("alignment-baseline").value};this.renderChildren=function(t){var e=this.style("text-anchor").valueOrDefault("start");var i=this.attribute("x").toPixels("x");var n=this.attribute("y").toPixels("y");for(var a=0;a<this.children.length;a++){var r=this.children[a];if(r.attribute("x").hasValue()){r.x=r.attribute("x").toPixels("x")}else{if(this.attribute("dx").hasValue())n+=this.attribute("dx").toPixels("x");if(r.attribute("dx").hasValue())i+=r.attribute("dx").toPixels("x");r.x=i}var s=r.measureText(t);if(e!="start"&&(a==0||r.attribute("x").hasValue())){var l=s;for(var h=a+1;h<this.children.length;h++){var o=this.children[h];if(o.attribute("x").hasValue())break;l+=o.measureText(t)}r.x-=e=="end"?l:l/2}i=r.x+s;if(r.attribute("y").hasValue()){r.y=r.attribute("y").toPixels("y")}else{if(this.attribute("dy").hasValue())n+=this.attribute("dy").toPixels("y");if(r.attribute("dy").hasValue())n+=r.attribute("dy").toPixels("y");r.y=n}n=r.y;r.render(t)}}};t.Element.text.prototype=new t.Element.RenderedElementBase;t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase;this.base(e);this.getGlyph=function(t,e,i){var n=e[i];var a=null;if(t.isArabic){var r="isolated";if((i==0||e[i-1]==" ")&&i<e.length-2&&e[i+1]!=" ")r="terminal";if(i>0&&e[i-1]!=" "&&i<e.length-2&&e[i+1]!=" ")r="medial";if(i>0&&e[i-1]!=" "&&(i==e.length-1||e[i+1]==" "))r="initial";if(typeof t.glyphs[n]!="undefined"){a=t.glyphs[n][r];if(a==null&&t.glyphs[n].type=="glyph")a=t.glyphs[n]}}else{a=t.glyphs[n]}if(a==null)a=t.missingGlyph;return a};this.renderChildren=function(e){var i=this.parent.style("font-family").getDefinition();if(i!=null){var n=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize);var a=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle);var r=this.getText();if(i.isRTL)r=r.split("").reverse().join("");var s=t.ToNumberArray(this.parent.attribute("dx").value);for(var l=0;l<r.length;l++){var h=this.getGlyph(i,r,l);var o=n/i.fontFace.unitsPerEm;e.translate(this.x,this.y);e.scale(o,-o);var u=e.lineWidth;e.lineWidth=e.lineWidth*i.fontFace.unitsPerEm/n;if(a=="italic")e.transform(1,0,.4,1,0,0);h.render(e);if(a=="italic")e.transform(1,0,-.4,1,0,0);e.lineWidth=u;e.scale(1/o,-1/o);e.translate(-this.x,-this.y);this.x+=n*(h.horizAdvX||i.horizAdvX)/i.fontFace.unitsPerEm;if(typeof s[l]!="undefined"&&!isNaN(s[l])){this.x+=s[l]}}return}if(e.strokeStyle!="")e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);if(e.fillStyle!="")e.fillText(t.compressSpaces(this.getText()),this.x,this.y)};this.getText=function(){};this.measureText=function(e){var i=this.parent.style("font-family").getDefinition();if(i!=null){var n=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize);var a=0;var r=this.getText();if(i.isRTL)r=r.split("").reverse().join("");var s=t.ToNumberArray(this.parent.attribute("dx").value);for(var l=0;l<r.length;l++){var h=this.getGlyph(i,r,l);a+=(h.horizAdvX||i.horizAdvX)*n/i.fontFace.unitsPerEm;if(typeof s[l]!="undefined"&&!isNaN(s[l])){a+=s[l]}}return a}var o=t.compressSpaces(this.getText());if(!e.measureText)return o.length*10;e.save();this.setContext(e);var u=e.measureText(o).width;e.restore();return u}};t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase;t.Element.tspan=function(e){this.base=t.Element.TextElementBase;this.base(e);this.text=e.nodeType==3?e.nodeValue:e.childNodes.length>0?e.childNodes[0].nodeValue:e.text;this.getText=function(){return this.text}};t.Element.tspan.prototype=new t.Element.TextElementBase;t.Element.tref=function(e){this.base=t.Element.TextElementBase;this.base(e);this.getText=function(){var t=this.attribute("xlink:href").getDefinition();if(t!=null)return t.children[0].getText()}};t.Element.tref.prototype=new t.Element.TextElementBase;t.Element.a=function(e){this.base=t.Element.TextElementBase;this.base(e);this.hasText=true;for(var i=0;i<e.childNodes.length;i++){if(e.childNodes[i].nodeType!=3)this.hasText=false}this.text=this.hasText?e.childNodes[0].nodeValue:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var i=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-i.toPixels("y"),this.x+this.measureText(e),this.y))}else{var n=new t.Element.g;n.children=this.children;n.parent=this;n.render(e)}};this.onclick=function(){var t="noopener,noreferrer";var e=window.navigator.userAgent;if(/MSIE|Trident|Edge/.test(e)){var i=window.open("about:blank",undefined,t);if(i){i.opener=null;i.location.href=this.attribute("xlink:href").value}}else{window.open(this.attribute("xlink:href").value,undefined,t)}};this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}};t.Element.a.prototype=new t.Element.TextElementBase;t.Element.image=function(e){this.base=t.Element.RenderedElementBase;this.base(e);var i=this.attribute("xlink:href").value;var n=i.match(/\.svg$/);t.Images.push(this);this.loaded=false;if(!n){this.img=document.createElement("img");var a=this;this.img.onload=function(){a.loaded=true};this.img.onerror=function(){if(console)console.log('ERROR: image "'+i+'" not found');a.loaded=true};this.img.src=i}else{this.img=t.ajax(i);this.loaded=true}this.renderChildren=function(e){var i=this.attribute("x").toPixels("x");var a=this.attribute("y").toPixels("y");var r=this.attribute("width").toPixels("x");var s=this.attribute("height").toPixels("y");if(r==0||s==0)return;e.save();if(n){e.drawSvg(this.img,i,a,r,s)}else{e.translate(i,a);t.AspectRatio(e,this.attribute("preserveAspectRatio").value,r,this.img.width,s,this.img.height,0,0);e.drawImage(this.img,0,0)}e.restore()}};t.Element.image.prototype=new t.Element.RenderedElementBase;t.Element.g=function(e){this.base=t.Element.RenderedElementBase;this.base(e);this.getBoundingBox=function(){var e=new t.BoundingBox;for(var i=0;i<this.children.length;i++){e.addBoundingBox(this.children[i].getBoundingBox())}return e}};t.Element.g.prototype=new t.Element.RenderedElementBase;t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase;this.base(e);this.baseSetContext=this.setContext;this.setContext=function(e){this.baseSetContext(e);if(this.attribute("viewBox").hasValue()){var i=t.ToNumberArray(this.attribute("viewBox").value);var n=i[0];var a=i[1];width=i[2];height=i[3];t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,n,a);t.ViewPort.SetCurrent(i[2],i[3])}}};t.Element.symbol.prototype=new t.Element.RenderedElementBase;t.Element.style=function(e){this.base=t.Element.ElementBase;this.base(e);var i=e.childNodes[0].nodeValue+(e.childNodes.length>1?e.childNodes[1].nodeValue:"");i=i.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");i=t.compressSpaces(i);var n=i.split("}");for(var a=0;a<n.length;a++){if(t.trim(n[a])!=""){var r=n[a].split("{");var s=r[0].split(",");var l=r[1].split(";");for(var h=0;h<s.length;h++){var o=t.trim(s[h]);if(o!=""){var u={};for(var f=0;f<l.length;f++){var c=l[f].indexOf(":");var m=l[f].substr(0,c);var v=l[f].substr(c+1,l[f].length-c);if(m!=null&&v!=null){u[t.trim(m)]=new t.Property(t.trim(m),t.trim(v))}}t.Styles[o]=u;if(o=="@font-face"){var d=u["font-family"].value.replace(/"/g,"");var p=u["src"].value.split(",");for(var y=0;y<p.length;y++){if(p[y].indexOf('format("svg")')>0){var g=p[y].indexOf("url");var x=p[y].indexOf(")",g);var b=p[y].substr(g+5,x-g-6);var P=t.parseXml(t.ajax(b));var E=P.getElementsByTagName("font");for(var w=0;w<E.length;w++){var B=t.CreateElement(E[w]);t.Definitions[d]=B}}}}}}}}};t.Element.style.prototype=new t.Element.ElementBase;t.Element.use=function(e){this.base=t.Element.RenderedElementBase;this.base(e);this.baseSetContext=this.setContext;this.setContext=function(t){this.baseSetContext(t);if(this.attribute("x").hasValue())t.translate(this.attribute("x").toPixels("x"),0);if(this.attribute("y").hasValue())t.translate(0,this.attribute("y").toPixels("y"))};this.getDefinition=function(){var t=this.attribute("xlink:href").getDefinition();if(this.attribute("width").hasValue())t.attribute("width",true).value=this.attribute("width").value;if(this.attribute("height").hasValue())t.attribute("height",true).value=this.attribute("height").value;return t};this.path=function(t){var e=this.getDefinition();if(e!=null)e.path(t)};this.renderChildren=function(t){var e=this.getDefinition();if(e!=null){var i=e.parent;e.parent=null;e.render(t);e.parent=i}}};t.Element.use.prototype=new t.Element.RenderedElementBase;t.Element.mask=function(e){this.base=t.Element.ElementBase;this.base(e);this.apply=function(t,e){var i=this.attribute("x").toPixels("x");var n=this.attribute("y").toPixels("y");var a=this.attribute("width").toPixels("x");var r=this.attribute("height").toPixels("y");var s=e.attribute("mask").value;e.attribute("mask").value="";var l=document.createElement("canvas");l.width=i+a;l.height=n+r;var h=l.getContext("2d");this.renderChildren(h);var o=document.createElement("canvas");o.width=i+a;o.height=n+r;var u=o.getContext("2d");e.render(u);u.globalCompositeOperation="destination-in";u.fillStyle=h.createPattern(l,"no-repeat");u.fillRect(0,0,i+a,n+r);t.fillStyle=u.createPattern(o,"no-repeat");t.fillRect(0,0,i+a,n+r);e.attribute("mask").value=s};this.render=function(t){}};t.Element.mask.prototype=new t.Element.ElementBase;t.Element.clipPath=function(e){this.base=t.Element.ElementBase;this.base(e);this.apply=function(t){for(var e=0;e<this.children.length;e++){if(this.children[e].path){this.children[e].path(t);t.clip()}}};this.render=function(t){}};t.Element.clipPath.prototype=new t.Element.ElementBase;t.Element.filter=function(e){this.base=t.Element.ElementBase;this.base(e);this.apply=function(t,e){var i=e.getBoundingBox();var n=this.attribute("x").toPixels("x");var a=this.attribute("y").toPixels("y");if(n==0||a==0){n=i.x1;a=i.y1}var r=this.attribute("width").toPixels("x");var s=this.attribute("height").toPixels("y");if(r==0||s==0){r=i.width();s=i.height()}var l=e.style("filter").value;e.style("filter").value="";var h=.2;var o=h*r;var u=h*s;var f=document.createElement("canvas");f.width=r+2*o;f.height=s+2*u;var c=f.getContext("2d");c.translate(-n+o,-a+u);e.render(c);for(var m=0;m<this.children.length;m++){this.children[m].apply(c,0,0,r+2*o,s+2*u)}t.drawImage(f,0,0,r+2*o,s+2*u,n-o,a-u,r+2*o,s+2*u);e.style("filter",true).value=l};this.render=function(t){}};t.Element.filter.prototype=new t.Element.ElementBase;t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase;this.base(e);function i(t){t=Math.max(t,.01);var e=Math.ceil(t*4)+1;mask=[];for(var i=0;i<e;i++){mask[i]=Math.exp(-.5*(i/t)*(i/t))}return mask}function n(t){var e=0;for(var i=1;i<t.length;i++){e+=Math.abs(t[i])}e=2*e+Math.abs(t[0]);for(var i=0;i<t.length;i++){t[i]/=e}return t}function a(t,e,i,n,a){for(var l=0;l<a;l++){for(var h=0;h<n;h++){var o=r(t,h,l,n,a,3)/255;for(var u=0;u<4;u++){var f=i[0]*(o==0?255:r(t,h,l,n,a,u))*(o==0||u==3?1:o);for(var c=1;c<i.length;c++){var m=r(t,Math.max(h-c,0),l,n,a,3)/255;var v=r(t,Math.min(h+c,n-1),l,n,a,3)/255;f+=i[c]*((m==0?255:r(t,Math.max(h-c,0),l,n,a,u))*(m==0||u==3?1:m)+(v==0?255:r(t,Math.min(h+c,n-1),l,n,a,u))*(v==0||u==3?1:v))}s(e,l,h,a,n,u,f)}}}}function r(t,e,i,n,a,r){return t[i*n*4+e*4+r]}function s(t,e,i,n,a,r,s){t[i*n*4+e*4+r]=s}function l(t,e,r,s){var l=t.getImageData(0,0,e,r);var h=i(s);h=n(h);tmp=[];a(l.data,tmp,h,e,r);a(tmp,l.data,h,r,e);t.clearRect(0,0,e,r);t.putImageData(l,0,0)}this.apply=function(t,e,i,n,a){l(t,n,a,this.attribute("stdDeviation").numValue())}};t.Element.filter.prototype=new t.Element.feGaussianBlur;t.Element.title=function(t){};t.Element.title.prototype=new t.Element.ElementBase;t.Element.desc=function(t){};t.Element.desc.prototype=new t.Element.ElementBase;t.Element.MISSING=function(t){if(console)console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")};t.Element.MISSING.prototype=new t.Element.ElementBase;t.CreateElement=function(e){var i=e.nodeName.replace(/^[^:]+:/,"");i=i.replace(/\-/g,"");var n=null;if(typeof t.Element[i]!="undefined"){n=new t.Element[i](e)}else{n=new t.Element.MISSING(e)}n.type=e.nodeName;return n};t.load=function(e,i){t.loadXml(e,t.ajax(i))};t.loadXml=function(e,i){t.loadXmlDoc(e,t.parseXml(i))};t.loadXmlDoc=function(e,i){t.init(e);var n=function(t){var i=e.canvas;while(i){t.x-=i.offsetLeft;t.y-=i.offsetTop;i=i.offsetParent}if(window.scrollX)t.x+=window.scrollX;if(window.scrollY)t.y+=window.scrollY;return t};if(t.opts["ignoreMouse"]!=true){e.canvas.onclick=function(e){var i=n(new t.Point(e!=null?e.clientX:event.clientX,e!=null?e.clientY:event.clientY));t.Mouse.onclick(i.x,i.y)};e.canvas.onmousemove=function(e){var i=n(new t.Point(e!=null?e.clientX:event.clientX,e!=null?e.clientY:event.clientY));t.Mouse.onmousemove(i.x,i.y)}}var a=t.CreateElement(i.documentElement);a.root=true;var r=true;var s=function(){t.ViewPort.Clear();if(e.canvas.parentNode)t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight);if(t.opts["ignoreDimensions"]!=true){if(a.style("width").hasValue()){e.canvas.width=a.style("width").toPixels("x");e.canvas.style.width=e.canvas.width+"px"}if(a.style("height").hasValue()){e.canvas.height=a.style("height").toPixels("y");e.canvas.style.height=e.canvas.height+"px"}}var i=e.canvas.clientWidth||e.canvas.width;var n=e.canvas.clientHeight||e.canvas.height;if(t.opts["ignoreDimensions"]==true&&a.style("width").hasValue()&&a.style("height").hasValue()){i=a.style("width").toPixels("x");n=a.style("height").toPixels("y")}t.ViewPort.SetCurrent(i,n);if(t.opts["offsetX"]!=null)a.attribute("x",true).value=t.opts["offsetX"];if(t.opts["offsetY"]!=null)a.attribute("y",true).value=t.opts["offsetY"];if(t.opts["scaleWidth"]!=null&&t.opts["scaleHeight"]!=null){var s=1,l=1,h=t.ToNumberArray(a.attribute("viewBox").value);if(a.attribute("width").hasValue())s=a.attribute("width").toPixels("x")/t.opts["scaleWidth"];else if(!isNaN(h[2]))s=h[2]/t.opts["scaleWidth"];if(a.attribute("height").hasValue())l=a.attribute("height").toPixels("y")/t.opts["scaleHeight"];else if(!isNaN(h[3]))l=h[3]/t.opts["scaleHeight"];a.attribute("width",true).value=t.opts["scaleWidth"];a.attribute("height",true).value=t.opts["scaleHeight"];a.attribute("viewBox",true).value="0 0 "+i*s+" "+n*l;a.attribute("preserveAspectRatio",true).value="none"}if(t.opts["ignoreClear"]!=true){e.clearRect(0,0,i,n)}a.render(e);if(r){r=false;if(typeof t.opts["renderCallback"]=="function")t.opts["renderCallback"]()}};var l=true;if(t.ImagesLoaded()){l=false;s()}t.intervalID=setInterval(function(){var e=false;if(l&&t.ImagesLoaded()){l=false;e=true}if(t.opts["ignoreMouse"]!=true){e=e|t.Mouse.hasEvents()}if(t.opts["ignoreAnimation"]!=true){for(var i=0;i<t.Animations.length;i++){e=e|t.Animations[i].update(1e3/t.FRAMERATE)}}if(typeof t.opts["forceRedraw"]=="function"){if(t.opts["forceRedraw"]()==true)e=true}if(e){s();t.Mouse.runEvents()}},1e3/t.FRAMERATE)};t.stop=function(){if(t.intervalID){clearInterval(t.intervalID)}};t.Mouse=new function(){this.events=[];this.hasEvents=function(){return this.events.length!=0};this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){if(t.onclick)t.onclick()}})};this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){if(t.onmousemove)t.onmousemove()}})};this.eventElements=[];this.checkPath=function(t,e){for(var i=0;i<this.events.length;i++){var n=this.events[i];if(e.isPointInPath&&e.isPointInPath(n.x,n.y))this.eventElements[i]=t}};this.checkBoundingBox=function(t,e){for(var i=0;i<this.events.length;i++){var n=this.events[i];if(e.isPointInBox(n.x,n.y))this.eventElements[i]=t}};this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++){var i=this.events[e];var n=this.eventElements[e];while(n){i.run(n);n=n.parent}}this.events=[];this.eventElements=[]}};return t}})();if(CanvasRenderingContext2D){CanvasRenderingContext2D.prototype.drawSvg=function(t,e,i,n,a){canvg(this.canvas,t,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:e,offsetY:i,scaleWidth:n,scaleHeight:a})}}
},
	"sap/viz/libs/rgbcolor.js":function(){
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license MIT license
 */
function RGBColor(e){this.ok=false;if(e.charAt(0)=="#"){e=e.substr(1,6)}e=e.replace(/ /g,"");e=e.toLowerCase();var f={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var a in f){if(e==a){e=f[a]}}var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}];for(var t=0;t<r.length;t++){var d=r[t].re;var l=r[t].process;var i=d.exec(e);if(i){channels=l(i);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r;this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g;this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var e=this.r.toString(16);var f=this.g.toString(16);var a=this.b.toString(16);if(e.length==1)e="0"+e;if(f.length==1)f="0"+f;if(a.length==1)a="0"+a;return"#"+e+f+a};this.getHelpXML=function(){var e=new Array;for(var a=0;a<r.length;a++){var t=r[a].example;for(var d=0;d<t.length;d++){e[e.length]=t[d]}}for(var l in f){e[e.length]=l}var i=document.createElement("ul");i.setAttribute("id","rgbcolor-examples");for(var a=0;a<e.length;a++){try{var n=document.createElement("li");var o=new RGBColor(e[a]);var s=document.createElement("div");s.style.cssText="margin: 3px; "+"border: 1px solid black; "+"background:"+o.toHex()+"; "+"color:"+o.toHex();s.appendChild(document.createTextNode("test"));var c=document.createTextNode(" "+e[a]+" -> "+o.toRGB()+" -> "+o.toHex());n.appendChild(s);n.appendChild(c);i.appendChild(n)}catch(e){}}return i}}
this.RGBColor=RGBColor;
},
	"sap/viz/libs/sap-viz-info-charts.js":function(){
/* SAP CVOM 4.0  <2012-2014> SAP SE. All rights reserved. Build Version 7.37.0-SNAPSHOT, Build Context cvom_html_bycheckin-master.64 */
sap.viz.extapi.env.Language.register({id:"language",value:{IDS_BASESINGLECHART:"Base Single Chart",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_TRELLISCOMBINATIONEXCHART:"Trellis Combination Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_BULLETFORECASTVALUES:"Forecast Values",IDS_TRELLISPERCENTAGEHORIZONTALAREACHART:"Trellis 100% Horizontal Area Chart",IDS_ANIMATION:"animation",IDS_COLORING_TYPE_POSITIVE:"Good",IDS_INVALID_DATE:"Invalid date",IDS_ITEM_SELECTED:"item selected",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_GRIDVISIBLE:"gridVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_TREECHART:"Tree",IDS_TRELLISHORIZONTALLINECHART:"Trellis Horizontal Line Chart",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_MULTIPIEWITHDEPTHCHART:"Multiple Pie with Depth Chart",IDS_TRELLISBARCHART:"Trellis Bar Chart",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart with 2 X-Axes",IDS_TIMEVALUEBUBBLECHART:"Time Bubble Chart",IDS_FORMAT:"Format",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_LABEL:"Label",IDS_TRELLISPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart",IDS_SECONDARYVALUES:"Secondary Values",IDS_DATA_FRAME:"Data Frame",IDS_SEMANTIC_DEFAULT_TITLE:"Semantic Rules",IDS_TIMEBUBBLECHART:"Time Bubble Chart",IDS_COLORING_TYPE_NEUTRAL:"Neutral",IDS_NETLINK:"Network Link",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_TRELLISAREACHART:"Trellis Area Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_INCREASING:"Increasing",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_VALUE_AXIS:"Value Axis",IDS_ABOVE_IS_GOOD:"Above is Good",IDS_TIMESERIESCOLUMNCHART:"Column Chart for Date/Time Series",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_TRELLISHORIZONTALCOMBINATIONCHART:"Trellis Combined Bar Line Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_ENDCOLUMN:"endColumn",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DEFAULTMND:"All Measures",IDS_VALUE_SELECTED:"value selected",IDS_MARKERS:"Markers",IDS_TAGFAMILY:"Tags Family",IDS_POSITIVE_INFINITY:"+Infinity",IDS_PRIMARYVALUES:"Primary Values",IDS_DONUTWITHDEPTHCHART:"Doughnut with Depth Chart",IDS_LEGEND_TITLE:"Title of Legend",IDS_TREENODE:"Tree Node",IDS_VERTICALBULLETCHART:"Vertical Bullet Chart",IDS_FISCALPERIOD:"Fiscal Period",IDS_CATEGORY_AXIS2:"Category Axis 2",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_TRELLISBULLETCHART:"Trellis Bullet Chart",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDONUTWITHDEPTHCHART:"Multiple Doughnut with Depth Chart",IDS_AUTOBINNINGOTHERS:"Others",IDS_PIESECTORSIZE:"Sector Size",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_COLORING_TYPE_OTHER:"Other",IDS_COLUMNCONFIG:"columnConfig",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_TAGNAME:"Tags Name",IDS_STARTCOLOR:"startcolor",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_STARTCOLUMN:"startColumn",IDS_TYPE:"Type",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_NUMBERCHART_VALUE:"Value",IDS_TRELLISSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart",IDS_SHAPE:"Shape",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_SCATTERCHART:"Scatter Plot",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_WATERFALLTYPE:"Waterfall Type",IDS_SEMANTICCOLOROTHERS:"Others",IDS_REGIONCOLOR:"Region Color",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_BORDER:"Border",IDS_ITEMS_SELECTED:"items selected",IDS_TRENDLINE_LINEAR:"Linear Regression",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_REFERENCEVALUES:"Reference Values",IDS_WATERFALLCHART:"Waterfall Chart",IDS_TRELLISHORIZONTALAREACHART:"Trellis Horizontal Area Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_DUALTIMESERIESCOMBINATIONCHART:"Combined Column Line Chart for Date/Time Series with 2 Y-Axes",IDS_VISIBLE:"visible",IDS_GRIDLINE:"Gridline",IDS_BULLETADDITIONALVALUES:"Additional Values",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_SIZE:"size",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_TRELLISSCATTERCHART:"Trellis Scatter Chart",IDS_TARGET:"Target",ID_FORECAST_VALUES:"Forecast Values",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_TARGETVALUES:"Target Values",IDS_LOWCOLUMN:"lowColumn",IDS_TIMESERIESBUBBLECHART:"Bubble Chart for Date/Time Series",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_FILLVISIBLE:"fillVisible",IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart with 2 Y-Axes",IDS_END_OF_PERIOD:"End of Period",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_PIECHART:"Pie Chart",IDS_VERTICALBARCHART:"Column Chart",IDS_TIME_FROM:"From",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart",IDS_ISNOVALUE:"No value",IDS_BUBBLEWIDTH:"Bubble Width",IDS_TIMESERIESSCATTERCHART:"Scatter Plot for Date/Time Series",IDS_BUBBLESIZE:"Bubble Size",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_TIMESERIESSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart for Date/Time Series",IDS_VALUEFORMAT:"valueFormat",IDS_PIEWITHDEPTHCHART:"Pie with Depth Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_REFINEVISIBLE:"reflineVisible",IDS_TRELLISSTACKEDBARCHART:"Trellis Stacked Bar Chart",IDS_HEATMAPCHART:"Heat Map",IDS_BULLETACTUALVALUES:"Actual Values",IDS_DUALLINECHART:"Line Chart with 2 Y-Axes",IDS_BELOW_IS_BAD:"Below is Bad",IDS_WIDTH:"Width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MEKKOCHART:"Marimekko chart",IDS_COMBINATIONEXCHART:"Combination Chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Marimekko Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_TRELLISRADARCHART:"Trellis Radar Chart",IDS_TRELLISVERTICALBULLETCHART:"Trellis Vertical Bullet Chart",IDS_HEADERVISIBLE:"headerVisible",IDS_FISCALYEAR:"Fiscal Year",IDS_LINECHART:"Line Chart",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Marimekko Chart",IDS_NUMBERCHART:"Numeric Point",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_MARKER:"Marker",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_SEMANTICTOTAL:"Total",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_TRELLIS_COLUMN:"Trellis Column",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_PERCENTAGEMEKKOCHART:"100% Marimekko Chart",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_RADARCHART:"Radar Chart",IDS_TRELLISCOMBINATIONCHART:"Trellis Combined Column Line Chart",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_TRELLISPERCENTAGEAREACHART:"Trellis 100% Area Chart",IDS_TRELLISDUALSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart with 2 Y-Axes",IDS_SELECTABILITY:"Selectability",IDS_AXISVISIBLE:"axisVisible",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_ERROR_INVALIDE_DATA_MULTIPLEUNITS:"Some measures have different units.",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_AXISLABELS:"Axis Labels",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_COLORING_TYPE_CRITICAL:"Warning",IDS_TRELLIS_ROW:"Trellis Row",IDS_TIMESERIESBULLETCHART:"Bullet Chart for Date/Time Series",IDS_MULTILINECHART:"Multiple Line Chart",IDS_BARCHART:"Bar Chart",IDS_3D_BAR:"3D Bar Chart",IDS_TRELLISCOLUMNCHART:"Trellis Column Chart",IDS_DATAUPDATING:"dataUpdating",IDS_3D_COLUMN:"3D Column Chart",IDS_TRELLISPIECHART:"Trellis Pie Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_NETWORKCHART:"Network Chart",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_DECREASING:"Decreasing",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart with 2 X-Axes",IDS_COLOR:"color",IDS_TEXT:"Text",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_TRELLISLINECHART:"Trellis Line Chart",IDS_DATALOADING:"dataLoading",IDS_BASECHART:"Base Chart",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_TRELLISDUALCOLUMNCHART:"Trellis Column Chart with 2 Y-Axes",IDS_LINECONFIG:"lineConfig",IDS_VALUES_SELECTED:"values selected",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_TRELLISDONUTCHART:"Trellis Doughnut Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_HIGHCOLUMN:"highColumn",IDS_TREEMAPCHART:"Tree Map",IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART:"100% Stacked Column Chart for Date/Time Series",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_TIMELINECHART:"Line Chart for Date/Time Series",IDS_SEMANTICCOLORRANGE:"Semantic Range",IDS_MODE:"Mode",IDS_TRELLISDUALLINECHART:"Trellis Line Chart with 2 Y-Axes",IDS_TIME_TO:"To",IDS_COLORING_TYPE_NEGATIVE:"Bad",IDS_BULLETCHART:"Bullet Chart",IDS_AREACHART:"Area Chart",IDS_TIMESERIESCOMBINATIONCHART:"Combined Column Line Chart for Date/Time Series",IDS_FORECAST_VALUES:"Forecast Values",IDS_LINE:"Line",IDS_ENDCOLOR:"endcolor",IDS_CATEGORY_AXIS:"Category Axis",IDS_TIMESERIESSTACKEDCOLUMNCHART:"Stacked Column Chart for Date/Time Series",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_VALUE_AXIS2:"Value Axis 2",IDS_WEIGHT:"weight",IDS_REGIONSHAPE:"Region Shape",IDS_DONUTCHART:"Donut Chart",IDS_TITLE:"Title",IDS_TIMESERIESWATERFALLCHART:"Waterfall Chart for Date/Time Series",IDS_CURRENT_SELECTION:"Current Selection",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_COLUMNSEQUENCE:"columnSequence",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_RADARAXES:"Radar Axes",IDS_HORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart",IDS_DAY:"Day",IDS_PERCENTAGEDONUTCHART:"100% Donut Chart",IDS_DRAWINGEFFECT:"drawingEffect",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_TRELLISBUBBLECHART:"Trellis Bubble Chart",IDS_TRELLISDUALBARCHART:"Trellis Bar Chart with 2 X-Axes",IDS_TRELLISDUALHORIZONTALLINECHART:"Trellis Horizontal Line Chart with 2 X-Axes",IDS_TAGWEIGHT:"Tags Weight",IDS_BAR:"Bar",IDS_STACKEDCOMBINATIONCHART:"Combined Stacked Line Chart",IDS_POSITION:"Position",IDS_TRELLISDUALSTACKEDBARCHART:"Trellis Stacked Bar Chart with 2 X-Axes",IDS_NEGATIVE_INFINITY:"-Infinity",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_DUALSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart with 2 Y-Axes",IDS_MULTIDONUTCHART:"Multiple Doughnut Chart",IDS_RECTANGLETITLE:"Rectangle Title"}});(function(e){sap.viz.moduleloader.originalDefine=e.define;sap.viz.moduleloader.originalRequire=e.require;sap.viz.moduleloader.originalRequirejs=e.requirejs;e.define=sap.viz.moduleloader.define;e.require=sap.viz.moduleloader.require.config({context:"info"});e.requirejs=require})(this);define("sap/viz/chart/layout/BaseLayout",["sap/viz/framework/property/PropertyManager"],function(e){function t(t){this.config=new e;this.config.add({container:t,totalWidth:0,totalHeight:0})}var i=t.prototype;i.layout=function(e){};i._dictToArray=function(e){var t=[];for(var i in e){if(e.hasOwnProperty(i)){t.push(e[i])}}return t};i.destroy=function(){this.config.destroy();this.config=null};return t});define("sap/viz/chart/layout/DockLayout",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/BaseLayout"],function(e,t,i,a,r,o){var n=function(){n.superclass.constructor.apply(this,arguments);this.config.add({padding:null,paddingLeft:null,paddingRight:null,paddingTop:null,paddingBottom:null,isTrellis:false})};e.extend(n,o);n.Position={top:"top",bottom:"bottom",left:"left",right:"right"};var l=108;var s=5;var u=0;var c=t.AXIS.FIX_SPACING_MAX_IN_PX;var h=t.TITLE.FIX_SPACING_MAX_IN_PX;function p(e,t,i,a){var r=t.minWidth||0;var o=t.minHeight||0;if(e.width<r||e.height<o){return false}if(t.width&&t.height){if(t.width<t.minWidth||t.height<t.minHeight){return false}}if(a===false&&i.maxWidth&&i.maxWidth<t.minWidth){return false}if(a===true&&i.maxHeight&&i.maxHeight<t.minHeight){return false}return true}function d(e,t,i){var r={};if(i==null){return r}[{d:"width",md:"maxWidth",pd:e},{d:"height",md:"maxHeight",pd:t}].forEach(function(e){var t,o;t=parseFloat(i[e.d])>=0&&a.getSizeValue(i[e.d],e.pd);o=a.getSizeValue(i[e.md],e.pd);if(t>o){r[e.md]=t}else if(i[e.md]){r[e.md]=o}});return r}function f(e,i,r){var o=a.getPositiveInt;var n=t.PADDING.DEFAULT;if(n<1&&n>0){n=n*Math.min(i,r)}var u=o(e.get("padding"),n);var c=o(e.get("paddingTop"),u);var h=o(e.get("paddingRight"),u);var p=o(e.get("paddingBottom"),u);var d=o(e.get("paddingLeft"),u);var f=e.get("isFixedPadding");if(!f&&(i<=l||r<=l)){c=Math.min(s,c);h=Math.min(s,h);p=Math.min(s,p);d=Math.min(s,d);e.set("paddingTop",c);e.set("paddingRight",h);e.set("paddingBottom",p);e.set("paddingLeft",d)}return{paddingTop:c,paddingRight:h,paddingBottom:p,paddingLeft:d}}function v(e){return e.option.spacing}n.prototype.layout=function(e,t){var i=this.config;var o=i.get("totalWidth");var l=i.get("totalHeight");var s=i.get("isFixedPadding");var g=v;var m=f(i,o,l);var y={x:m.paddingLeft,y:m.paddingTop,width:o-(m.paddingLeft+m.paddingRight)>0?o-(m.paddingLeft+m.paddingRight):u,height:l-(m.paddingTop+m.paddingBottom)>0?l-(m.paddingTop+m.paddingBottom):u};var _=y.width;var A=y.height;var b=this._dictToArray(e);b.sort(function(e,t){return e.option.priority-t.option.priority});var x={};var S=i.get("isTrellis");var D=function(e){if(e.width<1){e.width=0}if(e.height<1){e.height=0}};for(var w=0;w<b.length;w++){var C=b[w];var T=C.option;var z=C.module;var L=d(_,A,T);var P=r.isHorizontal(T.position);var k=(P?parseFloat(T.height)>=0:parseFloat(T.width)>=0)&&C.module.properties().visible===true;if(T&&T.position){var E,I;var O=g(C);if(O){E=O.spacingWithMainToRough||0;I=O.spacingMaxInPX||0}else{E=0;I=0}if(k){y.maxWidth=a.getSizeValue(T.width,y.width-Math.min(E*y.width,I));y.maxHeight=a.getSizeValue(T.height,y.height-(z.alias==="title"?0:Math.min(E*y.height,I)))}var R=z.getPreferredSize(y,S,k,t);if(!k&&!p(y,R,L,P)){x[z.alias]={x:0,y:0,width:0,height:0};continue}var N={width:k?a.getSizeValue(T.width,y.width-Math.min(E*y.width,I)):R.width,height:k?a.getSizeValue(T.height,y.height-(z.alias==="title"?0:Math.min(E*y.height,I))):R.height};if(P){if(R.maxSize&&R.maxSize.width<y.width){N.actualWidth=R.maxSize.width}N.width=y.width;if(L.maxHeight&&L.maxHeight<N.height){N.height=L.maxHeight}}else{if(R.maxSize&&R.maxSize.height<y.height){N.actualHeight=R.maxSize.height}N.height=y.height;if(L.maxWidth&&L.maxWidth<N.width){N.width=L.maxWidth}}if(!k&&(N.width===0||N.height===0)){E=0;I=0}var M=T.position;if(n.Position[M]===undefined){if(T.defaultPosition){M=T.defaultPosition}}var B=0;var V=s&&N.width!==0&&N.height!==0;if(M===n.Position.top){B=V?h:k&&z.alias==="title"?0:Math.min(E*y.height,I);N.x=y.x;N.y=y.y;y.y+=N.height+B;y.height-=N.height+B}else if(M===n.Position.bottom){B=V?h:k&&z.alias==="title"?0:Math.min(E*y.height,I);y.height-=N.height;N.x=y.x;N.y=y.y+y.height;if(s&&z.alias==="legendGroup"){B=c}y.height-=B;if(y.height<0){y.height=0}}else if(M===n.Position.left){B=V?h:Math.min(E*y.width,I);N.x=y.x;N.y=y.y;y.x+=N.width+B;y.width-=N.width+B}else if(M===n.Position.right){B=V?h:Math.min(E*y.width,I);y.width-=N.width;N.x=y.x+y.width;N.y=y.y;y.width-=B;if(y.width<0){y.width=0}}x[z.alias]=N;if(k){D(y);if(!p(N,R,L,P)){x[z.alias]={x:x[z.alias].x?x[z.alias].x:0,y:x[z.alias].y?x[z.alias].y:0,width:0,height:0}}}}else{x[z.alias]={x:y.x,y:y.y,width:y.width,height:y.height}}}return x};return n});define("sap/viz/chart/layout/GridLayout",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/DockLayout"],function(e,t,i,a,r,o){var n=function(){n.superclass.constructor.apply(this,arguments);this.config.add({legendGroup:{layout:{respectPlotPosition:true,alignment:"topLeft"}},title:{layout:{respectPlotPosition:true}}})};e.extend(n,o);n.prototype.layout=function(e,i){var a=o.Position;var r=n.superclass.layout.call(this,e,i);var l=this._getCenterModuleKey(e,a);if(l==null){for(var s in e){if(e.hasOwnProperty(s)){var u=e[s].module;u.setSize(r[s]);if(u.layout){u.layout()}}}return r}var c=r[l];var h=e[l].module;h.setSize(c);if(h.layout){h.layout(i,c)}var p=c.x;var d=c.y;var f=c.width;var v=c.height;if(h.getPlotPosition){var g=h.getPlotPosition();p+=g.x;f=g.width;d+=g.y;v=g.height}for(var m in e){if(e.hasOwnProperty(m)){if(m===l){continue}var y=e[m].option;var _=y.position||y.defaultPosition;if((m!==t.LEGEND_GROUP.KEY||this.config.get("legendGroup.layout.respectPlotPosition"))&&(m!==t.TITLE.KEY||this.config.get("title.layout.respectPlotPosition"))){if(_==="top"||_==="bottom"){r[m].x=p;r[m].width=f}else if(_==="left"||_==="right"){r[m].y=d;r[m].height=v}}if(m===t.LEGEND_GROUP.KEY&&this.config.get("legendGroup.layout.alignment")==="center"){if((_==="left"||_==="right")&&r[m].actualHeight&&r[m].actualHeight<r[m].height){r[m].y+=(r[m].height-r[m].actualHeight)/2}else if((_==="top"||_==="bottom")&&r[m].actualWidth&&r[m].actualWidth<r[m].width){r[m].x+=(r[m].width-r[m].actualWidth)/2}}if(m===t.LEGEND_GROUP.KEY&&i.isRTL&&this.config.get("legendGroup.layout.alignment")==="topLeft"&&(_==="top"||_==="bottom")){var A=r[m].width-r[m].actualWidth;if(A>0){r[m].x+=A}}var b=e[m].module;b.setSize(r[m]);if(b.layout){b.layout()}}}return r};n.prototype._getCenterModuleKey=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){var a=e[i].option;var r=a.position||a.defaultPosition;if(t[r]==null){return i}}}return null};return n});define("sap/viz/chart/components/UIComponent",["sap/viz/framework/common/util/EventDispatch","sap/viz/framework/core/Runtime","sap/viz/framework/property/PropertyManager"],function e(t,i,a){var r=function(e,a){a=a||{};this._options=a;this._name=a.name?a.name:null;this._eventDispatch=new t;this._data=null;this.alias=a.alias||null;this._renderTo="SVG";this._size={width:0,height:0};this._realSize={width:0,height:0};this._runtime=e?e:i._create(a);var r=a.properties||this._runtime._propertyMgr;this._properties=this._name?r.proxy(this._name):r;if(e==null){this._addDefaultProperties()}};r.prototype._isRTL=function(){var e=false;var t=this._runtime.envManager();if(t){e=t.isRTL()}return e};r.prototype.properties=function(e){if(arguments.length===0||typeof e==="string"){return this._properties.get(e)}this._properties.set(e)};r.prototype.runtime=function(){return this._runtime};r.prototype.isVisible=function(){return true};r.prototype.getName=function(){return this._name};r.prototype.setData=function(e){this._data=e;return this};r.prototype.getData=function(){return this._data};r.prototype.renderTo=function(e){if(arguments.length){this._renderTo=e;return this}return this._renderTo};r.prototype.setSize=function(e){if(e.width!=null){this._size.width=e.width;this._realSize.width=e.width}if(e.height!=null){this._size.height=e.height;this._realSize.height=e.height}return this};r.prototype.getSize=function(){return{height:this._size.height,width:this._size.width}};r.prototype.clearSize=function(){this._size.height=0;this._size.width=0;return this};r.prototype.setRealSize=function(e){if(e.width!=null){this._realSize.width=e.width}if(e.height!=null){this._realSize.height=e.height}return this};r.prototype.getPreferredSize=function(e){};r.prototype.render=function(e){};r.prototype.getDispatch=function(){return this._eventDispatch};r.prototype.destroy=function(){if(this._eventDispatch){this._eventDispatch.destroy()}this._runtime=null;this._eventDispatch=null;this._data=null;if(this._properties&&this._properties.origin!=this._properties){this._properties.destroy()}this._properties=null;this._size=null;this._name=null;this._options=null;this._renderTo=null;this._realSize=null;this.alias=null};r.prototype._exposeMoreEvents=function(){this._eventDispatch.addEventTypes.apply(this._eventDispatch,arguments);return this};r.prototype._addDefaultProperties=function(){};r.prototype.statusChanged=function(e){};return r});define("sap/viz/chart/components/util/BoundUtil",[],function e(){var t="v-bound";var i={drawBound:function(e,i,a,r,o){var n;if(i<0||a<0){return null}if(e.select("."+t).node()==null){n=e.insert("rect",":first-child").attr("class",t).attr("width",i).attr("height",a);if(o){n.attr("fill","transparent")}else{n.attr("visibility","hidden")}}else{n=e.select("."+t).attr("width",i).attr("height",a)}if(r){for(var l in r){if(r.hasOwnProperty(l)){n.attr(l,r[l])}}}return n}};return i});define("sap/viz/chart/components/util/StyleUtils",[],function(){var e={color:"fill",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",letterSpacing:"letter-spacing",fontStyle:"font-style"};var t={};t.convertToCss=function(t){var i=[];for(var a in e){if(t[a]!=null){i.push(e[a]+":"+t[a])}}return i.join(";")};t.buildParentStyle=function(e,t){var i={};var a;for(a in e){if(e.hasOwnProperty(a)){i[a]=t&&t[a]||e[a]}}return i};return t});define("sap/viz/chart/components/util/TextUtils",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/GeometryUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/TimeUtil"],function e(t,i,a,r,o,n){var l="http://www.w3.org/2000/svg";var s;var u;var c;var h;var p;var d;var f=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var v={};var g=[];var m={};var y={};var _=[];var A={};function b(){var e=document.body.appendChild(document.createElementNS(l,"svg"));e.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:1px;height:1px";return e}function x(){if(!s){if(!u){u=b()}s=u.appendChild(document.createElementNS(l,"text"))}return s}function S(e,i){var r=x();if(!i){r.removeAttribute("style")}else{if(!t.isString(i)){var o=a.isIE()?i.ownerSVGElement.getComputedStyle(i):window.getComputedStyle(i);var n="";f.forEach(function(e){var t=o.getPropertyValue(e);if(t!==null){n+=e+":"+t+";"}});i=n}r.style.cssText=i}if(e===undefined||e===null){e=""}r.textContent=e;return r}function D(e){var t=e.textContent;if(t.substr(t.length-1,1)===" "){var i="M";e.textContent=i;var a=e.getComputedTextLength();e.textContent=t+i;var r=e.getComputedTextLength();var o=r-a;e.textContent=t;return o}else{return e.getComputedTextLength()}}function w(e,t){return a.isIE()&&(t<=0||e.getSubStringLength(0,t-1)<e.getSubStringLength(0,t))}function C(e,t,i,a,r,o,n,l){l=l||"";var s={};var u=0;s.realLength=0;var c="";var h;if(e){h=e.toString();c=h+l}function p(){if(t){t.textContent=""}s.text=""}if(i<=0){p();return s}var d,f;d=r?x():S(c,a||t);f=n?d.getBoundingClientRect().width:D(d);if(f<=i){if(t){t.textContent=c}s.text=c;s.realLength=f;return s}var v="..."+a;if(!_[v]){d.textContent="...";_[v]=n?d.getBoundingClientRect().width:D(d)}else{if(c.length>3){if(i<_[v]/3*4){p();return s}}else if(i<_[v]/3*c.length){p();return s}}u=_[v];i-=u;d.textContent=c;var g;var m=false;if(i>0){var y=c.length;var A=l&&l.length||0;g=Math.ceil(i/f*y)-A;var b;if(!w(d,g)||l){d.textContent=e.toString().substring(0,g)+l;b=n?d.getBoundingClientRect().width:D(d)}else{b=d.getSubStringLength(0,g)}var C=b;var T=b<=i;var L=T?+1:-1;while(0<g&&g<=y){C=z(T,h,l,g,d,t,s,a,i,o,n,u,C);if(C===-1){m=true;break}g+=L}}if(!m){p()}return s}function T(e){if(t.isExist(e)){var i=e[e.length-1]===" ";while(i){e=e.substring(0,e.length-1);i=e[e.length-1]===" "}}return e}function z(e,t,i,a,r,o,n,l,s,u,c,h,p){var d=t.substring(0,a)+i;var f,v;if(!w(r,a)||i){r.textContent=d;f=c?r.getBoundingClientRect().width:D(r)}else{f=r.getSubStringLength(0,a)}if(e&&f>s||!e&&f<=s){d=e?t.substring(0,a-1):t.substring(0,a);var g=false;if(c){var m=T(d);d=m.substring(0,m.length-1);g=d.length===0}if(u){v=g?"":i+"..."+d}else{v=g?"":d+"..."+i}if(o){o.textContent=v;o.appendChild(document.createElementNS(o.namespaceURI,"title")).textContent=t+i}n.text=v;n.realLength=(e?p:f)+h;return-1}return f}function L(e){var t={};var i=[];e.forEach(function(e){if(!t[e]){t[e]=true;i.push(e)}});return i}function P(e){if("[]\\^$.|?*+(){}".split("").indexOf(e)>-1){return"\\"+e}else{return e}}function k(e,t){if(e==null||e===""){return e}var i=L(e.split(""));var a="["+i.map(P).join("")+"]+";var r=true;if(t==="start"){a="^"+a;r=false}else if(t==="end"){a=a+"$";r=false}return r?new RegExp(a,"g"):new RegExp(a)}function E(e){return k(e.join(""))}return{measure:function(e,t){if(e===""){return{width:0,height:0,x:0,y:0}}var i=r.getBBox(S(e,t));return{width:i.width,height:i.height,x:i.x,y:i.y}},measureInCanvas:function(e,t,a,r){if(!r||!t||!a){return}var o=0;if(!c){c=document.createElement("canvas");c.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:0px;height:0px;visibility:hidden";document.body.appendChild(c)}if(c.getContext){if(!h){h=c.getContext("2d")}var n=a+" "+t+" "+r;if(p!=n){p=n;h.font=n}o=h.measureText(e).width}if(!m[t]){m[t]=i.preciseSimple(parseFloat(t)*1.2)}var l=m[t];return{width:o,height:l}},fastMeasure:function(e,t,i,a,r,o){var n=e+t+i+a+r;if(o){n+=o}var l=v[n];if(!l){var s="font-size:"+t+"; font-weight:"+i+"; font-family:"+a+"; letter-spacing:"+r;if(o){s=s+"; font-style: "+o}v[n]=this.measure(e,s);l=v[n]}return{width:l.width,height:l.height,x:l.x,y:l.y}},bestMeasureFun:function(e,t,i,a){if(!d){var r;var o=100;var l="Test";var s=n.createDateInstance().getTime();for(r=0;r<o;r++){this.measureInCanvas(l,e,t,i)}var u=n.createDateInstance().getTime();var c=u-s;var h=n.createDateInstance().getTime();for(r=0;r<o;r++){this.measure(l,"font-size:"+e+"; font-weight:"+t+"; font-family:"+i+"; letter-spacing:"+a)}var p=n.createDateInstance().getTime();var f=p-h;if(c<f){d="C"}else{d="M"}}return d},superFastMeasure:function(e,t,i,a){var r,o,n,l,s;if(arguments.length===2){s=this.parseStyle(t);o=s.FontSize;n=s.FontWeight;l=s.FontFamily}else if(arguments.length===4){o=t;n=i;l=a}r=e+o+n+l;var u=g[r];if(!u){if(this.bestMeasureFun(o,n,l)==="C"){g[r]=this.measureInCanvas(e,o,n,l)}else{g[r]=this.measure(e,"font-size:"+o+"; font-weight:"+n+"; font-family:"+l)}u=g[r]}return u},canvasMeasure:function(e,t,i,a,r){var o,n,l,s,u,c;if(arguments.length===2){c=this.parseStyle(t);n=c.FontSize;l=c.FontWeight;s=c.FontFamily;u=c.LetterSpacing}else{n=t;l=i;s=a;if(r!==undefined&&r!==null){u=r}}n=n.toString();var h=n[n.length-1];if(!isNaN(parseFloat(h))){n+="px"}if(u!==undefined&&u!==null){u=u.toString();h=u[u.length-1];if(!isNaN(parseFloat(h))){u+="px"}}o=e+n+l+s;if(u!==undefined&&u!==null){o+=u}var p=y[o];if(!p){p=y[o]=this.measureInCanvas(e,n,l,s)}return p},ellipsis:function(e,t,i,a,r,o){var n=C(e,t,i,a,false,r&&r.reverseDots,r&&r.hasLetterSpacing,o);if(r&&r.needRealLength){return n}else{return n.text}},ellipsisInCircle:function(e,t,i,a,o){var n=S(e,t);var l=Math.sqrt(Math.pow(i,2)-Math.pow(a+r.getBBox(n).height/2,2))*2;C(e,t,l,o,true)},verticalCentralOffset:function(e,t){var i=S(e,t);var a=r.getBBox(i);var o=-a.y;var n=parseInt(i.ownerSVGElement.getComputedStyle(i)["fontSize"],0);return(o-(a.height-n))/2},parseStyle:function(e){var t={};var i=e.toLowerCase();t.FontSize=this.getStyleValue(i,"font-size");t.FontWeight=this.getStyleValue(i,"font-weight");t.FontFamily=this.getStyleValue(i,"font-family");t.LetterSpacing=this.getStyleValue(i,"letter-spacing");return t},getStyleValue:function(e,t){var i,a,r;a=e.indexOf(t);if(a>=0){a=e.indexOf(":",a)+1;r=e.indexOf(";",a);if(r<0){r=e.length}i=e.substring(a,r)}return i},getTextBaselineOffset:function(e){var t=this.fastMeasure("Tag",e["fontSize"],e["fontWeight"],e["fontFamily"],e["letterSpacing"]);return t.height+t.y},getAbsoluteTextBaselineOffset:function(e){var t=this.fastMeasure("Tag",e["fontSize"],e["fontWeight"],e["fontFamily"],e["letterSpacing"]);return t.y},getTextBBox:function(e){var t;if(e.parentNode){t=r.getBBox(e)}else{if(!u){u=b()}u.appendChild(e);t=r.getBBox(e)}return t},validateFontStyle:function(e){if(t.isNumber(e)){return e+"px"}return e},destroy:function(){if(u&&u.parentNode){u.parentNode.removeChild(u)}u=null;s=null;v=[];g=[];m={};y={};_=[];if(c){c.parentNode.removeChild(c)}c=null;h=null;p=null},wrapText:function(e,i,a,r,n){var l,s=false,u=0;var c=t.isString(n)?n:o.convertToCss(n);var h=[];var p=this.getTextLength("M...",c);if(r===1){l=this.getTextLength(e,c);if(a===undefined||a===null){s=true;u=l}else{s=l>a;u=Math.min(l,a)}return{lines:[e],maxWidth:u,beyond:s,lineWidthArray:[u]}}var d=E(i);var f=String(e).trim();if(f===""){return{lines:[e],maxWidth:u,beyond:s,lineWidthArray:[u]}}var v=[];var g=f.split(d);var m=g.length;if(m<=1){v=[e];u=this.getTextLength(e,c);if(a===undefined||a===null){s=true}else{s=u>a;u=Math.min(u,a)}h=[u]}else{var y;if(d===""){y=Array.apply(null,new Array(m-1)).map(String.prototype.valueOf,"")}else{y=f.match(d)}var _=y.length;var A=0;var b="";var x;for(var S=0;S<m;++S){if(s){b=b+(S<_?g[S]+y[S]:g[S])}else{var D=b+(S<_?g[S]+y[S]:g[S]);x=l;l=this.getTextLength(D,c);++A;if(l>a){if(A===1||v.length===r-1){s=true;u=a>p?a:p;b=D;continue}else{v.push(b);h.push(x);--S;A=0;b=""}}else{u=Math.max(u,l);b=D;if(S===m-1){v.push(b);h.push(l)}}}}if(s){v.push(b);h.push(u)}}return{lines:v,maxWidth:u,beyond:s,lineWidthArray:h}},drawWrappedText:function(e,i,a,r,n,l,s,u){var c;var h;var p=true;if(u){c=u.isRTL;h=u.ellipsisOptions;p=u.middleText}if(t.isString(i)){i=this.wrapText(i,a,n,r,s)}e.selectAll("tspan").remove();e.selectAll("title").remove();var d=i.lines;var f=d.length;var v=0;for(var g=0;g<f;++g){var m=e.append("tspan").attr("aria-hidden",true);if(i.beyond){this.ellipsis(d[g],m.node(),n,o.convertToCss(s),h);m.selectAll("title").remove()}else{m.node().textContent=d[g]}m.attr("y",v).attr("x",0).attr("font-weight",s["fontWeight"]).attr("font-family",s["fontFamily"]).attr("font-size",s["fontSize"]).attr("letter-spacing",s["letterSpacing"]).attr("font-style",s["fontStyle"]);v+=l;var y;if(p){y=i.lineWidthArray[g];m.attr("x",(n-y)/2)}else if(c){y=i.beyond?m.node().getComputedTextLength():i.maxWidth;m.attr("x",n-y)}}e.attr("height",l*f);if(i.beyond){e.append("title").node().textContent=i.lines.join("")}var _=0;if(i&&i.maxWidth){_=i.maxWidth}return _},getTextLength:function(e,t){var i=e+t;var a=A[i];if(!a){var r=S(e,t);A[i]=D(r);a=A[i]}return a}}});define("sap/viz/chart/components/title/Title",["sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/TitleUtil"],function(e,t,i,a,r,o,n,l,s){var u=function(e,t){u.superclass.constructor.apply(this,arguments);this._wrapper=null;this._height=0;this._width=0;this._pfSize={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0};var i=this;e.zoneManager().add({tempPropertyZone:{title:{value:[],readonly:true,serializable:false,get:function(){var e=[],t,a;if(i.isVisible()){t=i._wrapper.node().getBoundingClientRect();a=[[]];a[0].push([t.left,t.top]);a[0].push([t.right,t.top]);a[0].push([t.right,t.bottom]);a[0].push([t.left,t.bottom]);e.push({name:"title",bound:a});if(i._wrapper&&i._wrapper.node()){var r=i._wrapper.node().ownerSVGElement;l.calcOffsetFromChart(r,e)}}return e}}}});var a=this._properties;["height"].forEach(function(e){var t={set:function(e,t){if(e===null||parseFloat(e)>=0){return e}else{return t.value}}},i={layout:{}};i.layout[e]=t;a.add(i)});var r=this.runtime().graphicModel();if(r){r.registerExposedModule(t.name)}};e.extend(u,t);u.prototype.setPosition=function(e){this._position=e};u.prototype.setSize=function(e){this._width=e.width;this._height=e.height};u.prototype.getSize=function(){return{width:this._width,height:this._height}};u.prototype.getPosition=function(){var e="layout.position",t=this._position||this._properties.get(e);if(["top","bottom"].indexOf(t)==-1){t=this._properties.getDefault(e)}return t||"top"};u.prototype._getPostfix=function(){var e=this._runtime.statusManager().get("dynamicScale");return e&&e.onlyChartTitle&&e.postfix||""};u.prototype.getPreferredSize=function(e,t,i,a){this._pfSize={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0};if(this._properties.get("visible")===true){var o=this._properties.get("style.fontSize");var n=this._properties.get("style.fontWeight");var l=this._properties.get("style.fontFamily");var u=this._properties.get("style.letterSpacing");var c=this._properties.get("text");if(a&&a._semanticDisplayStyleRules&&a._semanticDisplayStyleRules.title){var h=a._semanticDisplayStyleRules.title;if(h.fontWeight){n=h.fontWeight}if(h.fontFamily){l=h.fontFamily}}var p=s.getTextShow(c);p+=this._getPostfix();var d=r.fastMeasure(p,o,n,l,u);this._pfSize.width=this._pfSize.maxWidth=d.width;this._pfSize.height=this._pfSize.maxHeight=d.height;var f=r.fastMeasure("...",o,n,l,u);this._pfSize.minWidth=f.width;this._pfSize.minHeight=f.height;this._pfSize.width=Math.max(this._pfSize.minWidth,this._pfSize.width);this._pfSize.height=Math.max(this._pfSize.minHeight,this._pfSize.height);this._pfSize.hideOversize=true;this._pfSize.maxSizeConstant=1/3}return this._pfSize};u.prototype.isVisible=function(){var e=this._properties.get("visible");return e===true&&this._width>0&&this._height>0};u.prototype.render=function(e,t){var i=this._properties.get("text");var l=s.getTextShow(i);var u=e.selectAll("text.v-title").data([l]);this._wrapper=u;var c=this.isVisible();if(c){var h=this._width;var p=this._height;var d=this._properties.get("alignment");var f,v,g,m,y;if(t&&t.title){var _=t.title;if(_.fontWeight){f=_.fontWeight}if(_.fontFamily){v=_.fontFamily}if(_.color){g=_.color}if(_.letterSpacing){m=_.letterSpacing}if(_.fontStyle){y=_.fontStyle}}var A={color:g||this._properties.get("style.color"),fontFamily:v||this._properties.get("style.fontFamily"),fontSize:this._properties.get("style.fontSize"),fontWeight:f||this._properties.get("style.fontWeight"),letterSpacing:m||this._properties.get("style.letterSpacing"),fontStyle:y||this._properties.get("style.fontStyle")};a.drawBound(e,h,p,undefined,true);var b=d||"center";var x=null;var S=this.runtime().envManager();if(S){x=S.textAnchor()}var D={};D.reverseDots=S&&S.reverseDots();var w=this._pfSize.width;var C=this._pfSize.width/2;if(this._pfSize.width>h){w=h;C=h/2}var T={right:h-w,center:h/2-C,left:0}[b];if(T==null){T=h/2-C}var z;var L;u.exit().remove();u.enter().append("text").attr("class","v-title viz-title-label");var P=this.runtime().effectManager().register({fillColor:A.color});u.attr("fill",P).attr("font-family",A.fontFamily).attr("font-size",A.fontSize).attr("font-weight",A.fontWeight).attr("font-style",A.fontStyle).attr("text-anchor",x).attr("x",T).attr("y","top"==this.getPosition()?this._pfSize.height/2:p-this._pfSize.height/2).attr("dominant-baseline","central");if(n.isIE()){u.attr("y","top"==this.getPosition()?this._pfSize.height:p).attr("dominant-baseline","auto")}r.ellipsis(l,u.node(),h,o.convertToCss(A),D,this._getPostfix())}else{e.selectAll("text.v-title").remove()}};u.prototype.destroy=function(){u.superclass.destroy.call(this);this.clear();this._wrapper=null;this._height=null;this._width=null};u.prototype.clear=function(){if(this._wrapper){this._wrapper.remove()}};u.prototype.supportFixedLayout=true;return u});define("sap/viz/chart/components/Background",["sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/DataGraphics"],function(e,t,i){var a=d3.dispatch;var r="v-background-border",o="viz-plot-background-border";var n="v-background-body",l="viz-plot-background";var s="v-morphable-background";function u(e,t){u.superclass.constructor.apply(this,arguments);this._eDispatch=new a("initialized")}e.extend(u,t);var c=u.prototype;c.render=function(e){var t=this._properties;if(t.get("visible")&&this._size.width>0&&this._size.height>0){var a=e.select("."+n);if(a.empty()){a=e.append("svg:rect").attr("class",n+" "+l+" "+s)}var u=this._data&&this._data.color||t.get("color")||"transparent";i.setData(a.node(),{color:u});var c=this._size;var h=c.height;var p=c.width;var d=this.runtime().effectManager().register({graphType:"background",fillColor:u,drawingEffect:t.get("drawingEffect"),direction:t.get("gradientDirection")});a.attr("x",0).attr("y",0).attr("width",p).attr("height",h).style("fill",d);var f=!(this._data&&this._data.hasBorder===false);if(f){var v=[];if(t.get("border.left.visible")){v.push({x1:0,y1:0,x2:0,y2:h})}if(t.get("border.right.visible")){v.push({x1:p,y1:0,x2:p,y2:h})}if(t.get("border.top.visible")){v.push({x1:0,y1:0,x2:p,y2:0})}if(t.get("border.bottom.visible")){v.push({x1:0,y1:h,x2:p,y2:h})}var g=e.selectAll("."+r).data(v);g.enter().append("svg:line").attr("class",r+" "+o);g.exit().remove();g.attr("x1",function(e){return e.x1}).attr("y1",function(e){return e.y1}).attr("x2",function(e){return e.x2}).attr("y2",function(e){return e.y2});g.style("stroke",t.get("border.stroke")).style("stroke-width",t.get("border.strokeWidth"))}}else{var m=e.node();while(m.hasChildNodes()){m.removeChild(m.firstChild)}}this._eDispatch.initialized();return this};c.adjustPosition=function(e,t){if(!e||!t){return}var i=this._properties;if(i.get("visible")&&this._size.width>0&&this._size.height>0){var a=e.select("."+n);a.attr("x",t.x);a.attr("y",t.y);a.attr("width",t.width);a.attr("height",t.height);var o=e.selectAll("."+r)[0];var l,s,u,c;for(var h=0;h<o.length;h++){l=o[h];s=Number(l.getAttribute("x1"));u=Number(l.getAttribute("y1"));c=Number(l.getAttribute("x2"));if(s===0&&u===0&&c===0){l.setAttribute("x1",t.x);l.setAttribute("y1",t.y);l.setAttribute("x2",t.x);l.setAttribute("y2",t.y+t.height)}else if(s>0&&u===0&&c>0){l.setAttribute("x1",t.x+t.width);l.setAttribute("y1",t.y);l.setAttribute("x2",t.x+t.width);l.setAttribute("y2",t.y+t.height)}else if(s===0&&u===0&&c>0){l.setAttribute("x1",t.x);l.setAttribute("y1",t.y);l.setAttribute("x2",t.x+t.width);l.setAttribute("y2",t.y)}else if(s===0&&u>0&&c>0){l.setAttribute("x1",t.x);l.setAttribute("y1",t.y+t.height);l.setAttribute("x2",t.x+t.width);l.setAttribute("y2",t.y+t.height)}}}};c.destroy=function(){u.superclass.destroy.call(this);this._eDispatch.on("initialized",null);this._eDispatch=null};return u});define("sap/viz/chart/components/scrollbar/Scrollbar",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/PositionUtil"],function e(t,i,a,r,o,n,l){var s="v-m-scrollbarThumb";var u="v-m-scrollbarTrack";var c=function(e,t){c.superclass.constructor.apply(this,arguments);this._exposeMoreEvents("scroll");this._thumbSpace=c.getThumbSpace(t.location);this._thumbSize=0;this._trackSize=0;this._contentSize=0;this._borderWidth=0;this._spacingPadding=0;this._thumbPosition=0;this._minThumbPosition=0;this._maxThumbPosition=0;this._isExist=true;this._isVisible=true;this._position="bottom";this._selection=null;this._wrapper=null;this._thumbNode=null;this._trackNode=null;this._thumbHover=false};i.extend(c,a);c.getThumbSpace=function(e){if(n.isMobile()){return 7}else{if(e==="legend"){return 8}return 12}};c.prototype._notNeedDesktopInteraction=function(){return n.isMobile()||this.runtime().effectManager().ghostEffect()};c.prototype._initSetting=function(){var e=this._properties;if(!n.isMobile()){this._borderWidth=h(e,"border.width");this._borderWidth=Math.min(this._borderWidth,4);this._borderWidth=Math.max(this._borderWidth,0)}this._spacingPadding=h(e,"spacing");this._spacingPadding=Math.min(this._spacingPadding,4);this._spacingPadding=Math.max(this._spacingPadding,0)};function h(e,t){var i=parseFloat(e.get(t));if(o.isNaN(i)){i=parseFloat(e.getDefault(t))}return i}c.prototype.render=function(e){c.superclass.render.apply(this,arguments);if(e){this._selection=e;this._wrapper=this._selection.selectAll("g");if(this._wrapper.empty()){this._wrapper=this._selection.append("g")}}if(!this._selection){return}if(this._isExist){var t=this._isVertical();var i=t?"height":"width";var a=this._trackSize||this._size[i];a=parseFloat(a);this._trackSize=a;var r=this._contentSize||this._realSize[i];r=parseFloat(r);if(r<a){r=a}this._contentSize=r;this._thumbSpace=parseFloat(this._thumbSpace);var o=this._thumbSpace;var l=this._properties;this.getThumbRatio();var h=parseFloat(this._borderWidth);var d=n.isMobile()?l.getDefault("border.color"):l.get("border.color");var f=this._spacingPadding;var v=this._wrapper;var g=this._isVisible?"visible":"hidden";var m=v.select("rect."+u);if(m.empty()){m=v.append("rect").attr("class",u)}m.attr("visibility",g).attr("fill",l.get("track.fill"));m.attr("stroke-width",h).attr("stroke",d);if(t){m.attr("width",o).attr("height",a)}else{m.attr("width",a).attr("height",o)}this._trackNode=m;var y=v.select("rect."+s);if(y.empty()){y=v.append("rect").attr("class",s)}var _=this._thumbHover?"thumb.hoverFill":"thumb.fill";y.attr("visibility",g).attr("fill",l.get(_));var A=this._thumbSize;var b=f+h;if(t){y.attr("width",o-b*2).attr("height",A).attr("transform","translate("+b+", "+(this._thumbPosition+b)+")")}else{y.attr("width",A).attr("height",o-b*2).attr("transform","translate("+(this._thumbPosition+b)+", "+b+")")}this._thumbNode=y;this.show(1600);if(this._notNeedDesktopInteraction()){return}(function e(t,i,a){function r(e){return e.bind(a)}var o=r(function(e){this._startPos=undefined;var t=this._thumbSize;var i=this._trackNode.node().getBoundingClientRect();if(this._isVertical()){if(e.clientY<i.top+this._thumbPosition){t=-t}}else{if(e.clientX<i.left+this._thumbPosition){t=-t}}this._scroll(t);var a=this.runtime();if(a){a.fireInteractionEvent("scrollbarReleased")}return false});var n=r(function(e){if(this._isVertical()){this._startPos=e.clientY}else{this._startPos=e.clientX}this._thumbHover=true;this._thumbNode.attr("fill",this._properties.get("thumb.hoverFill"));this._isPressed=true;p(e)});var l=r(function(e){this._startPos=undefined;this._isPressed=false;if(this._thumbNode&&e.target!==this._thumbNode.node()){this._thumbNode.attr("fill",this._properties.get("thumb.fill"));this._thumbHover=false}var t=this.runtime();if(t){t.fireInteractionEvent("scrollbarReleased")}});var s=r(function(e){if(this._startPos!==undefined){if(this._isVertical()){this._scroll(e.clientY-this._startPos);this._startPos=e.clientY}else{this._scroll(e.clientX-this._startPos);this._startPos=e.clientX}}});var u=r(function(){this._thumbNode.attr("fill",this._properties.get("thumb.hoverFill"));this._thumbHover=true});var c=r(function(){if(!this._isPressed){if(this._thumbNode){this._thumbHover=false;this._thumbNode.attr("fill",this._properties.get("thumb.fill"))}}});function h(){var e=window;if(e.addEventListener===undefined){e=document.body}return e}function d(e){s(e);e.preventDefault();p(e);return false}function f(e){l(e);var t=h();t.removeEventListener("mousemove",d,true);t.removeEventListener("mouseup",f,true);return false}t.on("mouseover",u).on("mouseleave",c).on("mousedown",function(){var e=d3.event;n(e);var t=h();t.addEventListener("mousemove",d,true);t.addEventListener("mouseup",f,true);p(e);return false});i.on("click",function(){return o(d3.event)})})(y,m,this)}else{if(this._wrapper){this._wrapper.remove();this._wrapper=null;this._thumbNode=null;this._trackNode=null}}};var p=function(e){if(e&&e.stopPropagation){e.stopPropagation()}};c.prototype._isFull=function(){return this._trackSize>=this._contentSize};c.prototype.destroy=function(){this._eventDispatch.on("scroll",null);c.superclass.destroy.call(this);this._thumbSpace=0;this._thumbSize=0;this._trackSize=0;this._contentSize=0;this._borderWidth=0;this._spacingPadding=0;this._thumbPosition=0;this._maxThumbPosition=0;this._minThumbPosition=0;this._isExist=true;this._isVisible=true;this._position="bottom";this._selection=null;this._wrapper=null;this._thumbNode=null;this._trackNode=null};c.prototype.getPreferredSize=function(){var e={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0,spacings:[{interval:0,type:t.SPACING_TYPE.STEP}]};if(this._isExist){var i=this._thumbSpace;if(this._isVertical()){e.maxWidth=e.width=i}else{e.maxHeight=e.height=i}e.spacings[0].interval=i}return e};c.prototype.setPosition=function(e){this._position=e;return this};c.prototype._isVertical=function(){return l.isVertical(this._position)};c.prototype._isHorizontal=function(){return l.isHorizontal(this._position)};c.prototype.isExist=function(e){if(!arguments.length){return this._isExist}this._isExist=!!e;return this};c.prototype.isVisible=function(e){if(!arguments.length){return this._isVisible}this._isVisible=!!e;return this};c.prototype.setTrackSize=function(e){this._trackSize=+e;return this};c.prototype.getTrackSize=function(){return this._trackSize};c.prototype.getContentSize=function(){return this._contentSize};c.prototype.setContentSize=function(e){this._contentSize=+e;return this};c.prototype.getThumbSize=function(){return this._thumbSize};c.prototype.isThumbOverTrack=function(e){var t=false;var i=this._thumbPosition;var a=this._minThumbPosition;var r=this._maxThumbPosition;if(i===a&&i+e<a){t=true}if(Math.floor(i)===Math.floor(r)&&i+e>r){t=true}return t};c.prototype.getThumbRatio=function(){this._initSetting();var e=this._trackSize;var t=this._contentSize;var i=this._borderWidth;var a=this._spacingPadding;var r=this._thumbSpace;var o=2*(a+i);if(e<=0||t<=0){return null}if(t<e){t=e}var n=0;if(t!==0){n=(e-i)*e/t}var l=r*2;if(l>e){l=e}if(n<l){n=l}this._thumbSize=n;this._maxThumbPosition=e-n-o;this._minThumbPosition=0;this._offsetRatio=(t-e)/(e-o-n);return this._offsetRatio};c.prototype._scroll=function(e,t,i){var a=Math.min(this._maxThumbPosition,Math.max(this._minThumbPosition,this._thumbPosition+e));if(!i&&t||this._thumbPosition!==a){this.setThumbPosition(a);var r=-Math.ceil(a*this._offsetRatio);this._eventDispatch.scroll({offset:r,reachMax:a===this._maxThumbPosition})}};c.prototype.getThumbPosition=function(){return this._thumbPosition};c.prototype.setThumbPosition=function(e){if(!this._isExist){return}var t=+e;var i=this._thumbSpace;var a=this._spacingPadding;var r=this._borderWidth;var o=a+r;this._thumbPosition=Math.min(this._maxThumbPosition,t);if(this._thumbNode){if(this._isVertical()){this._thumbNode.attr("transform","translate("+o+", "+(this._thumbPosition+o)+")")}else{this._thumbNode.attr("transform","translate("+(this._thumbPosition+o)+", "+o+")")}}return this};function d(){if(this._thumbNode){this._thumbNode.attr("visibility","visible")}if(this._trackNode){this._trackNode.attr("visibility","visible")}}function f(){if(this._thumbNode){this._thumbNode.attr("visibility","hidden")}if(this._trackNode){this._trackNode.attr("visibility","hidden")}}c.prototype.show=function(e,t){var i=d.bind(this),a=f.bind(this);if(!t&&(this._isFull()||!this.isVisible())){a();return}i();if(n.isMobile()){if(!e){e=800}if(this._timeoutId){window.clearTimeout(this._timeoutId)}this._timeoutId=window.setTimeout(a,e)}};return c});define("sap/viz/chart/components/scrollbar/PaginationScrollbar",["sap/viz/framework/common/util/oo","sap/viz/chart/components/scrollbar/Scrollbar"],function e(t,i){var a="scroll";var r=function(e,t){r.superclass.constructor.apply(this,arguments);var i=t.properties||this._runtime._propertyMgr;this._properties=i.proxy("plotArea.scrollbar");this._thumbRatio=0};t.extend(r,i);r.prototype._scroll=function(e,t){r.superclass._scroll.apply(this,arguments);var i={};this._thumbRatio=this._thumbPosition/this._maxThumbPosition;i.position=this._thumbRatio;if(this.runtime()){this.runtime().eventDispatcher().fire(a,i)}};return r});define("sap/viz/chart/components/legend/BaseLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/chart/components/util/BoundUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/interaction/Constants"],function(e,t,i,a,r,o,n,l,s,u,c,h){var p="measureNames";var d=3;var f=function(e,t){f.superclass.constructor.apply(this,arguments);this._type="BaseLegend";this._title=undefined;this._bindingFields=null;this._parent=null;this._pos={x:0,y:0};this._titleMarginBottom=.5;this._width=0;this._height=0;this._position=null;var i=this;var a={},r={};a[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],t,a,r,n,l,s,u;t=i.getZonePrefix();if(i.isVisible()&&i._properties.get("title.visible")&&i._parent){var c=i._parent.select(".viz-legend-title.v-title").node();a=c?c.getBoundingClientRect():null;if(a&&a.width>1.5&&a.height>1.5){n=[[]];n[0].push([a.left,a.top]);n[0].push([a.right,a.top]);n[0].push([a.right,a.bottom]);n[0].push([a.left,a.bottom]);e.push({name:t+" title",bound:n})}}if(i._parent&&i._parent.select(".v-bound").node()){s=i._parent.select(".v-bound").node().getBoundingClientRect();if(s.width>1.5&&s.height>1.5){r={left:s.left,right:s.right,top:s.top,bottom:s.bottom};if(e.length>0){r.top=e[0].bound[0][3][1]+1}l=[[]];l[0].push([r.left,r.top]);l[0].push([r.right,r.top]);l[0].push([r.right,r.bottom]);l[0].push([r.left,r.bottom]);e.push({name:t,bound:l})}u=i._parent.node().ownerSVGElement}o.calcOffsetFromChart(u,e);return e}};var l=t&&t.options&&t.options.noFeeding;if(!l){r[this._name]={value:[],readonly:true,serializable:false,get:function(){var e,t,a;if(i._parent&&!i._isDedicated){var r=d3.select(i._parent.node().ownerSVGElement);t=i.getZonePrefix();e=n.buildRes(t,a,r,true)}return e}};this.runtime().zoneManager().add({tempPropertyZone:a,tempFeedingZone:r})}else{this.runtime().zoneManager().add({tempPropertyZone:a})}var s=this._properties;this._orientation=null;this._titleFont={fontFamily:s.get("title.style.fontFamily"),fontSize:s.get("title.style.fontSize"),fontWeight:s.get("title.style.fontWeight"),color:s.get("title.style.color"),fontStyle:s.get("title.style.fontStyle")};var u=this.runtime().graphicModel();if(u){u.registerExposedModule(t.name)}};e.extend(f,t);f.prototype.getType=function(){return this._type};f.prototype._addDefaultProperties=function(){this._properties.add({visible:true,title:{visible:false,text:null,style:{color:"#000000",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif",fontSize:"14px",fontWeight:"bold",fontStyle:"normal"}},label:{style:{color:"#000000",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}}})};f.prototype.visible=function(){return this._properties.get("visible")};f.prototype.setPosition=function(e){this._position=e};f.prototype.getPosition=function(){return this._position};f.prototype.setOrientation=function(e){this._orientation=e};f.prototype.setDedicated=function(e){this._isDedicated=e};f.prototype.isHorizontal=function(){return this._orientation==="top"||this._orientation==="bottom"};f.prototype.render=function(e,t){this._pos={x:0,y:0};var a;var o=e.selectAll("text.v-title");if(this.isVisible()||this._isDedicated){var n=this._properties;a=i.drawBound(e,this._width,this._height,undefined,true);a.attr("x",null);a.attr("y",null);if(!t){a.attr("stroke",null).attr("stroke-width",null)}if(this._properties.get("title.visible")===true){if(o.empty()){o=e.append("text").attr("class","v-title viz-legend-title")}else{o.html("")}var l=null;var s=this.runtime().envManager();if(s){l=s.textAnchor()}o.attr("text-anchor",l);var u;u={fill:n.get("title.style.color"),"font-family":n.get("title.style.fontFamily"),"font-size":n.get("title.style.fontSize"),"font-weight":n.get("title.style.fontWeight"),"font-style":n.get("title.style.fontStyle")};var c=this._getWrapText();c=c&&c>1?c:1;var h=parseInt(this._titleFont.fontSize,10);var p={};p.isRTL=this._isRTL();p.ellipsisOptions={};p.middleText=false;p.ellipsisOptions.reverseDots=s&&s.reverseDots();r.drawWrappedText(o,this._titleText,[" "],c,this._width,h,this._titleFont,p);var d=parseInt(o.attr("height"));this._pos.y=this._pos.y+d;o.attr("font-weight",u["font-weight"]).attr("fill",u.fill).attr("font-family",u["font-family"]).attr("font-size",u["font-size"]).attr("font-style",u["font-style"]).attr("x",this._pos.x).attr("y",this._pos.y).attr("visibility","inherit");o.selectAll("tspan").attr("dy","1em");this._pos.y=this._pos.y+h*this._titleMarginBottom}else{o.remove()}}else{var f;if(this._properties._props["legendGroup.layout.width"]&&this._properties._props["legendGroup.layout.height"]){f={width:this._properties._props["legendGroup.layout.width"].value,height:this._properties._props["legendGroup.layout.height"].value}}if(this.visible()&&f&&(f.width||f.height)){a=i.drawBound(e,f.width||this._originWidth,f.height||this._originHeight)}else{a=i.drawBound(e,0,0)}o.remove()}if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._properties.origin.get("legendGroup.layout.position")==="top"||this._properties.origin.get("legendGroup.layout.position")==="bottom")){this._renderedWidth=0;var v=o.node();if(v){this._renderedWidth=v.getBoundingClientRect().width}}if(a){this._bound=a.node()}return this};f.prototype.width=function(e){if(!arguments.length){return this._width}this._width=e;if(e>0){this._originWidth=e}return this};f.prototype.height=function(e){if(!arguments.length){return this._height}this._height=e;if(e>0){this._originHeight=e}return this};f.prototype.setSize=function(e){this._width=e.width;this._height=e.height;if(e.width>0){this._originWidth=e.width}if(e.height>0){this._originHeight=e.height}};f.prototype.setBindingFields=function(e){this._bindingFields=e;return this};f.prototype.parent=function(e){if(!arguments.length){return this._parent}this._parent=e;return this};f.prototype.getParent=function(){return this._parent};f.prototype._getTitleText=function(){var e="";var t=this._properties.get("title.text");if(a.isString(t)){e=t}else if(this._bindingFields&&this._bindingFields.length){e=this._constructTitle(this._bindingFields)}else{e=l.get("IDS_LEGEND_TITLE")}return e};f.prototype.getLegendTitleText=function(){return this._getTitleText()};f.prototype._constructTitle=function(e){var t=e.filter(function(e){return!e.hidden}).map(function(e){if(e.id===p){return e.name||l.get("IDS_DEFAULTMND")||e.id}return e.name||e.id});var i=[];for(var a=0;a<t.length;a++){if(e&&e.length>1&&e[a].id===p&&e[a].values.length===1){continue}i.push(t[a])}return i.join(" / ")};f.prototype._getTitlePreferredSize=function(e){this._setupThemeStyleDef();var t={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(this._properties.get("title.visible")){var i=parseInt(this._titleFont.fontSize,10);var a=c.convertToCss(this._titleFont);var o=this._getTitleText();var n=this._getWrapText();o=r.wrapText(o,[" "],e.maxWidth,n,this._properties.get("title.style"));var l=o.lines.length;t={maxHeight:i*(l+this._titleMarginBottom),minWidth:r.getTextLength("M...",a),minHeight:i*(l+this._titleMarginBottom),maxWidth:o.maxWidth};this._titleText=o}return t};f.prototype.getData=function(){return this._data};f.prototype.setData=function(e){this._data=e;return this};f.prototype.data=function(e){if(!arguments.length){return this.getData()}return this.setData(e)};f.prototype.destroy=function(){this._properties=null;this._title=null;this._parent=null;this._bindingFields=null;this._pos=null;this._titleMarginBottom=null;this._width=null;this._height=null;this._titleFont=null;this._orientation=null;this._isDedicated=null;this._wrap=null;f.superclass.destroy.call(this)};f.prototype.hasData=function(){return true};f.prototype.getPreferredSize=function(e){var t={width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(!this.hasData()){return t}this._pos={x:0,y:0};var i=u.extend(false,e);i.maxWidth=i.maxWidth||i.width;i.maxHeight=i.maxHeight||i.height;if(this.visible()||this._isDedicated){var a=this._getTitlePreferredSize(i);i.height-=a.maxHeight;var r=this._getBodyPreferredSize(i);t={width:a.maxWidth>r.maxWidth?a.maxWidth:r.maxWidth,height:a.maxHeight+r.maxHeight,maxWidth:a.maxWidth>r.maxWidth?a.maxWidth:r.maxWidth,maxHeight:a.maxHeight+r.maxHeight,minWidth:a.minWidth>r.minWidth?a.minWidth:r.minWidth,minHeight:a.minHeight+r.minHeight};if(this._isDedicated){this._width=t.maxWidth;this._height=t.maxHeight}}return t};f.prototype.isVisible=function(){return this.visible()&&this._width>0&&this._height>0};f.prototype.isSelectable=function(){var e=this._properties.origin,t=(e.get("interaction.selectability.mode")||"").toUpperCase(),i=(e.get("interaction.selectability.behavior")||"").toUpperCase();return!(t===h.SELECTION_MODE.NONE||e.get("interaction.selectability.legendSelection")===false||t===h.SELECTION_MODE.SINGLE&&i!==h.SELECTION_BEHAVIOR.SERIES)};f.prototype._setupThemeStyleDef=function(){var e=this._properties.proxy("title.style");var t;t={fill:e.get("color"),"font-family":e.get("fontFamily"),"font-size":e.get("fontSize"),"font-weight":e.get("fontWeight"),"font-style":e.get("fontStyle")};if(t){if(t.fill){this._titleFont.color=t.fill}if(t["font-family"]){this._titleFont.fontFamily=t["font-family"]}if(t["font-size"]){this._titleFont.fontSize=t["font-size"]}if(t["font-weight"]){this._titleFont.fontWeight=t["font-weight"]}if(t["font-style"]){this._titleFont.fontStyle=t["font-style"]}}};f.prototype._adjustRendererOption=function(e){};f.prototype._getWrapText=function(){var e=1;if(!this._isRTL()){var t=this._properties.origin.get("legendGroup.layout.position");if(t==="left"||t==="right"){e=this._properties.origin.get("legendGroup.linesOfWrap");if(isNaN(e)||e<1){e=1}else if(e>d){e=d}}}return e};f.prototype.getZonePrefix=function(){return"legend"};var v=function(e){var t=false;if(e==="SizeLegend"){t=true}return t};return f});define("sap/viz/chart/components/util/DrawUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG"],function e(t,i){var a={};var r={};var o=2;function n(e){var t="_";return e.type+t+e.rx+t+e.ry}var l={};l.createMarkerData=function(e){return i.generateMarkerPath(e)};l.createElements=function(e,t){return e.append("path").attr("class",t.className)};l.createElement=function(e,t,i){var a=e.append("path").attr("class",t.className);t.node=a;l.drawGraph(t,i);return a};l.drawGraph=function(e,t){return l.updateGraph(e,t,l.createGraph(e))};l.createGraph=function(e){var t={type:typeof e.graphType==="string"?e.graphType:e.graphType.type,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:Math.round(e.borderWidth),innerBorder:e.dpPattern==="noFill"};var i=l.createMarkerData(t);if(!i&&e.defaultShape){t.type=e.defaultShape;i=l.createMarkerData(t)}return i};l.updateGraph=function(e,t,i){var a=e.graphType.style;var r=e.opacity;if(!r){r=1}var o=t?t.register(e):e.fillColor;var n=e.borderColor;if(e.dpPattern==="noFill"){n=o;o=e.bgColor}if(t&&n){n=t.register({fillColor:n})}var l=e.node;l.setAttribute("class",e.className);l.setAttribute("fill",o);if(o!=="transparent"||n!=="transparent"){l.setAttribute("stroke-width",e.borderWidth);l.setAttribute("stroke",n);l.setAttribute("opacity",r);var s=e.fillOpacity;if(s!=null){l.setAttribute("fill-opacity",s)}}if(a){Object.keys(a).forEach(function(e){this.setAttribute(e,a[e])},l)}l.setAttribute("stroke-opacity",e.strokeOpacity);if(i){l.setAttribute("d",i)}return l};l.rgb2Hex=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)};l.colorLinerTransform=function(e,t,i){var a=e.color2rgba(i);var r=1,o=0;r=t.factor;o=t.constant;return{r:Math.min(255,Math.round(a.r*r+o)),g:Math.min(255,Math.round(a.g*r+o)),b:Math.min(255,Math.round(a.b*r+o))}};l.barUpdate=function(e,t,i){var a=t.graphic;var r=i.width;var n=i.height;var l=i.minSize;var s=e.querySelector("rect");if(s){s.setAttribute("width",r);s.setAttribute("height",n);if(a.stroke){var u=l>a.strokeWidth+o?a.strokeWidth:l-o;if(u>=1){s.setAttribute("stroke",a.stroke);s.setAttribute("stroke-width",a.strokeWidth)}else{s.removeAttribute("stroke");s.removeAttribute("stroke-width")}}}if(a.pattern==="noFill"&&t.path){var c=e.querySelector("path");if(c){c.setAttribute("d",t.path)}}};return l});define("sap/viz/chart/components/util/DataPointUtils",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,a,r){var o=i.CSS.CLASS.DATAPOINT,n="g",l="."+o,s=i.CSS.CLASS.DATAPOINTDEFAULT;var u="data-highlighted";var c="data-id";var h="data-datapoint-id";var p="data-datastack-id";var d="data-recap-id";var f="data-area-id";function v(e,t){var i=t.getNodes(t.NodeType.DATA_POINT,false);var a=g(i,e);return[].slice.apply(a)}function g(e,t){return m.findIdsWithClassId(e,t,h)}var m={findArea:function(e,t){return e.querySelector("["+f+"='"+t+"']")},setAreaId:function(e,t){e.setAttribute(f,t)},findAll:function(e){return e.querySelectorAll(l)},find:function(e,t){return e.querySelector("."+o+"["+c+"='"+t+"']")},findByDataPointId:function(e,t){return e.querySelector("["+h+"='"+t+"']")},findIdsWithClassId:function(e,t,i){if(!r.isArray(t)){t=[t]}var a={};var o;for(o=t.length;o--;){a[t[o]]=1}var n={};var l=[];for(o=e.length;o--;){var s=e[o];var u=s.getAttribute(i);if(a[u]){n[u]=s;l.push(u)}}var c=[];for(o=l.length;o--;){c.push(n[l[o]])}return c},findByDataStackIds:function(e,t){return m.findIdsWithClassId(e,t,p)},findByDataRecapIds:function(e,t){return m.findIdsWithClassId(e,t,d)},findByDataPointIds:g,isDataPoint:function(e){return t.matches(e,l)},setDataId:function(e,t){e.setAttribute(c,t)},getDataId:function(e){return e.getAttribute(c)},setDataPointId:function(e,t){e.setAttribute(h,t)},getDataStackId:function(e,t){return e.getAttribute(p)},getDataRecapId:function(e,t){return e.getAttribute(d)},setDataStackId:function(e,t){e.setAttribute(p,t)},setDataRecapId:function(e,t){e.setAttribute(d,t)},getDataPointId:function(e){return e.getAttribute(h)},highlight:function(e){e.setAttribute(u,"true")},unhighlight:function(e){e.removeAttribute(u)},isHighlighted:function(e){return e.getAttribute(u)==="true"},create:function(t,a){var r=e.create(n,t);r.setAttribute("class",o+" "+s+" "+i.CSS.CLASS.MORPHABLEDATAPOINT);r.setAttribute(c,a);return r},setContext:function(e,t){return a.setContext(e,t)},getContext:function(e){return a.getContext(e)},getAdditionCtx:function(e){return a.getAdditionCtx(e)},getAdditionCtxByDataModel:function(e,t){var i=a.getAdditionCtx(e);if(i!=null){return i}var r=this.getDataPointId(e);var o=t.getDataPoint(r);if(o==null){return null}return o.additionCtx()},getContextByDataModel:function(e,t){var i=a.getContext(e);if(i!=null){return i}var r=this.getDataPointId(e);var o=t.getDataPoint(r);if(o==null){return null}return o.context()},getDataPointByDataLabel:function(e,t){var i=this.getDataPointId(e);var a=t.getNodes(t.NodeType.DATA_POINT,false);return g(a,i)[0]},getNodes:function(e,t){if(t.isBigDataMode()){return e}return v(e,t)},getNodeDom:v};return m});define("sap/viz/chart/behavior/config/SelectionUtil",["sap/viz/framework/chartmodel/DataSelector","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/RuleUtil","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o,n,l,s){var u="date";var c=r.RANGE_SELECTION.OFFSET;function h(e,t){var a=y(e,t);var r=t.getNodes(t.NodeType.DATA_POINT,false);var o=i.findByDataPointIds(r,a);return[].slice.apply(o)}function p(e,a){var r=a.getSemanticManager().isHideSemanticLegend();var o=i.getDataPointId(e);var n=a.getDataModel().getDataPoint(o);if(r&&n._isSemantic){return null}var l;var s=a.getNodes(a.NodeType.LEGEND_ITEM,false);for(var u=0;!l&&u<s.length;u++){var c=t.getContext(s[u]).ctx;var p=h(c,a);for(var d=0;!l&&d<p.length;d++){var f=i.getDataPointId(p[d]);if(f===o){l=s[u]}}}return l}function d(e,i){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){var r=e.getStatus("selectedDataPoints")||[];var o;var n;if(i){o=e.NodeType.MBC_LEGEND_ITEM;n=a.CSS.CLASS.MBCLEGENDITEM}else{o=e.NodeType.LEGEND_ITEM;n=a.CSS.CLASS.LEGENDITEM}var l=e.getNodes(o,false);for(var u=0;u<l.length;u++){var c=d3.select(l[u]);var h=t.getContext(l[u]).ctx;if(i){h=s.extend({},h);delete h.measureName}var p=y(h,e);var d=p&&p.length;for(var f=0;d&&f<p.length;f++){d=r.indexOf(p[f])>=0}c.classed(n+a.CSS.CLASS.SELECTED,d)}if(i){T(e)}else{w(e)}}}function f(e,t,i){var a=t._bindingFeeds,r;if(a){for(var o=0;o<a.length;o++){if(t["_"+a[o]]&&t["_"+a[o]].metaData){var n=t["_"+a[o]].metaData;for(var l=0;l<n.length;l++){if(n[l].dataType&&n[l].dataType.toLowerCase()===i){r=n[l].id}}}}}return r}function v(e,t,i,a){var r=f(e,t,i);if(o.isExist(r)){g(e,r,i,a)}}function g(e,t,i,a){if(o.isArray(e)||o.isPlainObject(e)){for(var r in e){if(e.hasOwnProperty(r)){if(r===t){l.parseRules[i](e,r,a);e[r+n.DIMENSION_PARSED_VALUE_SUFFIX]=e[r];delete e[r]}else{g(e[r],t,i,a)}}}}}function m(t,i,a,r){var o=i.getDataModel();if(a){t=s.clone(t,true);v(t,o,u,r)}var n=new e(t,o);return n.getDataPoints()}function y(e,t,i,a){var r=m(e,t,i,a);return r.map(function(e){return e.id.toString()})}function _(e,t){var i=e.getProperties().get("interaction.selectability");if(!i){return false}var a=e.getProperties().get("interaction.selectability.behavior");var o=a?a.toUpperCase():a;var n=i.mode?i.mode.toUpperCase():i.mode;var l=e.getNodes(t);if(!i.legendSelection||n===r.SELECTION_MODE.NONE||n===r.SELECTION_MODE.SINGLE&&o!==r.SELECTION_BEHAVIOR.SERIES||!l.node()){return false}else{return true}}function A(e,t){var i=t.getStatus("lassoStartPoint");var a=t.getStatus("rangeSelection");var r=t._rootNode.node().style;if(!i&&a){var o=e.data.point;var n=t.getBBox(t.BoxType.RANGE_SELECTION);var l=t.getBBox(t.BoxType.PLOT_BOUND_NODE);if(l.x>o.x||l.x+l.width<o.x||l.y>o.y||l.y+l.height<o.y){r.cursor="default"}else if(Math.abs(o.x-n.x)<=c||Math.abs(o.x-n.x-n.width)<=c){r.cursor="col-resize"}else if(n.x<o.x&&n.x+n.width>o.x){r.cursor="move"}else{r.cursor="default"}}else{r.cursor="default"}}function b(e,t){var i=e.map(function(e){return e.data});var a=t.getStatusManager();var r=t._getRenderType();var o={dataTimeLevel:null,showAsUTC:false};var n=/timeseries.*column|timeseries.*combination|timeseries_bullet|timeseries_waterfall/;if(n.test(r)){o={dataTimeLevel:a.get("timeLevels")[0],showAsUTC:t.getProperties().get("general.showAsUTC")}}o.originProps=t.getProperties();return y(i,t,true,o)}function x(e){var t=e.getStatus("selectedDataPoints");if(e.getStatus("rangeSelection")){e.setStatus("selectedDataPoints",[]);e.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:i.getNodes(t,e),isAnyOtherSelected:false});e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null)}}function S(e,t){var i=[];for(var a=0,r=t.length;a<r;a++){var o=e.mappingDataPointInfo(t[a]);if(o){i.push(o)}}i=i.sort(function(e,t){return e.seqId-t.seqId});return i}function D(e,t){var i=[];var a=e.getDataModel();if(a&&a._timeAxis){var r=a.timeAxis().metaData.map(function(e){return e.id});t.forEach(function(e){var t=a.getDataPoint(e);if(t&&t._data&&i.indexOf(t._data[r+n.DIMENSION_PARSED_VALUE_SUFFIX])<0){i.push(t._data[r+n.DIMENSION_PARSED_VALUE_SUFFIX])}})}return i}var w=function(e){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){e.getNodes(e.NodeType.LEGEND_ITEM).each(function(){var t=d3.select(this);if(t.classed(a.CSS.CLASS.LEGENDITEM)){var i="transparent";var r=t.select("rect").classed(a.CSS.CLASS.HOVER_SHADOW);if(t.classed(a.CSS.CLASS.LEGENDITEM+a.CSS.CLASS.SELECTED)){var o=r?"legend.hoverSelectedShadow.color":"legend.mouseDownShadow.color";i=e.getProperties().get(o)}else if(r){i=e.getProperties().get("legend.hoverShadow.color")}t.select("rect").attr("fill",i)}})}};function C(e,t,i){var a=e.getProperties().get(t);var r;if(a&&a.color){r=a.color}else{r=i}return r}var T=function(e){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){e.getNodes(e.NodeType.MBC_LEGEND_ITEM).each(function(){var t=d3.select(this);if(t.classed(a.CSS.CLASS.MBCLEGENDITEM)){var i=null;var r=null;var o=t.classed(a.CSS.CLASS.HOVER_SHADOW);if(t.classed(a.CSS.CLASS.MBCLEGENDITEM+a.CSS.CLASS.SELECTED)){r=a.MBCLEGEND.VISIBLE_STROKE_WIDTH;if(o){i=C(e,"legend.hoverSelectedShadow")}else{i=C(e,"legend.mouseDownShadow",a.MBCLEGEND.HOVER_SHADOW_MOUSE_DOWN_COLOR)}}else if(o){r=a.MBCLEGEND.VISIBLE_STROKE_WIDTH;i=C(e,"legend.hoverShadow",a.MBCLEGEND.HOVER_SHADOW_COLOR)}t.attr("stroke",i);t.attr("stroke-width",r)}})}};return{getDataPointIds:y,getDataPointNodes:h,isLegendTriggerable:_,getTargets:b,getDataPoint:function(e){return i.getContext(e)},getDataPointContext:function(e){return e},hasDataPoint:function(e,t){return e&&e.some(function(e){return+e===+t})},processTimeCursor:A,getDpInfos:S,cleanRangeSelection:x,getSelectedPeriods:D,getCorrespondingLegendItem:p,updateCorrespondingSelectedLegendItems:d,resetLegendSelectionEffect:w,resetMBCLegendSelectionEffect:T,getColorProperty:C}});define("sap/viz/chart/components/util/ColorUtil",["sap/viz/framework/common/util/DataGraphics"],function(e){var t="#000000";var i="#ffffff";var a="#333333";var r=116;var o="#ffffff";var n=1.2;var l=.7;var s={};var u=function(e){var t=e;t=t.toLowerCase();t=d3.rgb(t);return t};s.getMixedColor=function(e,t,i){var a=e;if(i!==1){if(t.toLowerCase()==="transparent"){t="#ffffff"}var r=u(e);var o=u(t);var n=d3.rgb(r.r*i+o.r*(1-i),r.g*i+o.g*(1-i),r.b*i+o.b*(1-i));a=n.toString()}return a};s.getReferenceColorValue=function(e){e=e.toLowerCase();var t=/([a-z]+)\((.*)\)/i.exec(e);var i;if(t&&t[1]==="rgba"&&t[2]){var a=t[2].split(",");var r=a[3];e=d3.rgb(a[0],a[1],a[2]);i=d3.rgb(s.getMixedColor(e.toString(),o,r))}else{i=u(e)}var n=(i.r*299+i.g*587+i.b*114)/1e3;return n};s.getDataLabelColor=function(e,o){var n=t;if(o){n=a}else{if(e){if(e.toLowerCase()==="transparent"){e="#ffffff"}var l=s.getReferenceColorValue(e);if(l<=r){n=i}}}return n};s.getStrokeColorAdjustValue=function(e){var t=s.getBackgroundColor(e);if(t.toLowerCase()==="transparent"){t="#ffffff"}var i=s.getReferenceColorValue(t);var a=l;if(i<=r){a=n}return a};s.getBackgroundColor=function(t){var i="transparent";var a="v-background-body";var r;var o;for(o=t;o;o=o.parentNode){if(!d3.select(o).select("."+a).empty()){r=o;break}}if(r){var n=d3.select(r).select("."+a).node();var l;if(n){l=e.getData(n);if(l){i=l.color}}if(!i||i.toLowerCase()==="transparent"){var s;if(r.parentNode&&r.parentNode.parentNode){s=d3.select(r.parentNode.parentNode).select("."+a).node()}if(s){l=e.getData(s);if(l){i=l.color}}}if(!i){i="transparent"}}return i};s.getBgColor=function(e,t){var i="#ffffff";for(var a=0;a<t.length;++a){var r=e.get(t[a]);if(r&&r!=="transparent"){i=r;break}}return i};return s});define("sap/viz/chart/components/plots/PlotHelper",["jquery"],function(e){var t={pie:{options:{isDonut:false}},donut:{options:{isDonut:true}},column:{options:{isHorizontal:false}},stacked_column:{options:{isSupportFlexibleStack:true,isHorizontal:false}},"100_stacked_column":{options:{isHorizontal:false}},bar:{options:{isHorizontal:true}},bullet:{options:{isHorizontal:true}},vertical_bullet:{options:{isHorizontal:false}},stacked_bar:{options:{isHorizontal:true}},"100_stacked_bar":{options:{isHorizontal:true}},line:{options:{isHorizontal:false}},area:{options:{isHorizontal:false}},horizontal_area:{options:{isHorizontal:true}},horizontal_line:{options:{isHorizontal:true}},"100_area":{options:{isHorizontal:false}},"100_horizontal_area":{options:{isHorizontal:true}},combination:{options:{isHorizontal:false}},horizontal_combination:{options:{isHorizontal:true}},bubble:{options:{}},time_bubble:{options:{}},scatter:{options:{}},timeseries_scatter:{options:{}},timeseries_bubble:{options:{}},stacked_combination:{options:{isHorizontal:false}},horizontal_stacked_combination:{options:{isHorizontal:true}},mekko:{options:{isHorizontal:false}},"100_mekko":{},timeseries_line:{options:{isHorizontal:false}},timeseries_column:{options:{isHorizontal:false}},timeseries_stacked_column:{options:{isHorizontal:false}},timeseries_100_stacked_column:{options:{isHorizontal:false}},timeseries_combination:{options:{isHorizontal:false}},dual_timeseries_combination:{options:{isHorizontal:false}},timeseries_stacked_combination:{options:{isHorizontal:false}},horizontal_mekko:{options:{isHorizontal:true}},"100_horizontal_mekko":{options:{isHorizontal:true}},timeseries_waterfall:{options:{isHorizontal:false}},waterfall:{options:{isHorizontal:false}},stacked_waterfall:{options:{isHorizontal:false}},horizontal_waterfall:{options:{isHorizontal:true}},horizontal_stacked_waterfall:{options:{isHorizontal:true}},radar:{options:{isHorizontal:false}},heatmap:{options:{}},treemap:{options:{}},timeseries_bullet:{options:{isHorizontal:false}},combinationEx:{options:{}}};return{register:function(e,i){t[e]=i},create:function(i,a,r,o){var n=t[i];var l=o?e.extend(true,{},n?n.options:{},o):n.options;l.name="plotArea";l.renderType=i;return new a(r,l)},getOptions:function(e){var i=t[e];return i&&i.options}}});define("sap/viz/chart/components/util/ChartConstants",[],function e(){var t="_";var i="horizontal";var a="combination";var r="stacked";var o="column";var n="bar";var l="bullet";var s="line";var u="scatter";var c="bubble";var h="pie";var p="timeseries_scatter";var d="categoryAxisNavigator";var f="categoryAxis2Navigator";var v="timeAxisNavigator";var g="datapointNavigator";var m="legendNavigator";var y="colorLegendNavigator";var _="mbcLegendNavigator";var A="heatmap";var b="treemap";var x="waterfall";var S="timeseries_waterfall";var D="area";var w="radar";var C="100";var T={STACKED:r,COMBINATION:a,COLUMN:o,BAR:n,BULLET:l,LINE:s,SCATTER:u,BUBBLE:c,PIE:h,TIMESCATTER:p,COLUMN_COMBINATION:o+t+a,STACKED_COLUMN:r+t+o,STACKED_BAR:r+t+n,STACKED_COMBINATION:r+t+a,HORIZONTAL_COMBINATION:i+t+a,HORIZONTAL_STACKED_COMBINATION:i+t+r+t+a,CATEGORYAXIS_NAVIGATOR:d,CATEGORYAXIS2_NAVIGATOR:f,TIMEAXIS_NAVIGATOR:v,DATAPOINT_NAVIGATOR:g,LEGEND_NAVIGATOR:m,COLORLEGEND_NAVIGATOR:y,MBCLEGEND_NAVIGATOR:_,HEATMAP:A,TREEMAP:b,WATERFALL:x,TIMEWATERFALL:S,AREA:D,RADAR:w,PERCENT_STACKED_COLUMN:C+t+r+t+o,PERCENT_STACKED_BAR:C+t+r+t+n};return T});define("sap/viz/chart/components/util/ChartTypeUtils",["sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/util/ChartConstants"],function e(t,i){var a={addTrellisType:function(e){var t=[];for(var i=0;i<e.length;++i){if(e[i].indexOf("info/")>=0&&e[i].indexOf("info/trellis_")===-1){var a=e[i].replace("info/","info/trellis_");t.push(a)}}return[].concat(e,t)},getChartTypeProperty:function(e){var a={};if(e.indexOf(i.STACKED)>-1){if(e.search(/bar|column/)!==-1){a.type=i.STACKED_COLUMN}else if(e.indexOf(i.STACKED_COMBINATION)>-1){a.type=i.STACKED_COMBINATION}}else{if(e.search(/bar|column/)!==-1){a.type=i.COLUMN}else if(e.indexOf(i.BULLET)>-1){a.type=i.BULLET}else if(e.indexOf(i.LINE)>-1){a.type=i.LINE}else if(e.indexOf(i.COMBINATION)>-1){a.type=i.COLUMN_COMBINATION}else if(e.search(/pie|donut/)!==-1){a.type=i.PIE}else if(e.search(/^timeseries.*(scatter|bubble)/)!==-1){a.type=i.TIMESCATTER}else if(e.search(/(scatter|bubble)/)!==-1){a.type=i.SCATTER}else if(e.indexOf(i.HEATMAP)>-1){a.type=i.HEATMAP}else if(e.indexOf(i.TREEMAP)>-1){a.type=i.TREEMAP}else if(e.indexOf(i.WATERFALL)>-1){a.type=i.WATERFALL}else if(e.indexOf(i.AREA)>-1){a.type=i.AREA}else if(e.indexOf(i.RADAR)>-1){a.type=i.RADAR}}var r=t.getOptions(e);if(!r){return null}if(r.isHorizontal!==undefined){a.isVerticalRender=!r.isHorizontal}return a}};return a});define("sap/viz/chart/components/accessibility/ChartComponentNavigator",["sap/viz/framework/common/util/ObjectUtils"],function(e){function t(t){this._isVerticalRender=t.isVerticalRender;this._renderType=t.renderType;this._navigatorType=t.navigatorType;this._constants={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"};e.extendByRepalceArray(true,this._constants,t.chartConstants)}var i=t.prototype;i.init=function(){};i.destroy=function(){this._renderType=null;this._isVerticalRender=null;this._constants=null;this._navigatorType=null};i.left=function(e){return null};i.right=function(e){return null};i.up=function(e){return null};i.down=function(e){return null};i.getFirstStartPoint=function(){return null};return t});define("sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory",["sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(e,t,i){var a={};a.createNavigator=function(a,r){var o=a.renderType;var n=e.getChartTypeProperty(o);if(!n){return null}a.renderType=n.type;if(n.isVerticalRender!==undefined){a.isVerticalRender=n.isVerticalRender}a.chartConstants=t;a.isDual=o.indexOf("dual")>-1;a.isPercentage=o.indexOf("100")>-1;a.isTimeColumn=/timeseries_column/.test(o);a.isTimeWaterfall=/timeseries_waterfall/.test(o);a.isTimeBullet=/timeseries_bullet/.test(o);a.navigatorType=r;var l=this.get(r,n.type)||i;return new l(a)};var r={};a.get=function(e,i){if(e===t.DATAPOINT_NAVIGATOR){return r[i]}else{return r[e]}};a.register=function(e,i,a){if(e===t.DATAPOINT_NAVIGATOR){r[i]=a}else{r[e]=a}};return a});define("sap/viz/chart/components/accessibility/ColorLegendNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(e,t){function i(e){i.superclass.constructor.apply(this,arguments);this._legendLabels=this.buildLegendLabels(e.cells);this._cells=e.cells;this._horizontalSingle=this._cells.length==1?true:false}e.extend(i,t);var a=i.prototype;a.buildLegendLabels=function(e){var t=[];this._verticalSingle=true;for(var i=0;i<e.length;++i){if(e[i].length>1){this._verticalSingle=false}for(var a=0;a<e[i].length;++a){var r=e[i][a].id;var o={row:i,col:a};t[r]=o}}return t};a.destroy=function(){i.superclass.destroy.apply(this,arguments);this._cells=null;this._legendLabels=null};a.up=function(e){if(this._horizontalSingle){return this.getSiblingCell(e,-1)}else{return this.getNextRowCell(e,-1)}};a.down=function(e){if(this._horizontalSingle){return this.getSiblingCell(e,1)}else{return this.getNextRowCell(e,1)}};a.left=function(e){if(this._verticalSingle){return this.getNextRowCell(e,-1)}else{return this.getSiblingCell(e,-1)}};a.right=function(e){if(this._verticalSingle){return this.getNextRowCell(e,1)}else{return this.getSiblingCell(e,1)}};a.getCell=function(e){var t=this._legendLabels[e];return this._cells[t.row][t.col]||null};a.getSiblingCell=function(e,t){var i=this._legendLabels[e];var a=this._cells[i.row][i.col+t];return a?a:null};a.getNextRowCell=function(e,t){var i=this._legendLabels[e];var a=this._cells[i.row+t];if(!a){return null}return a[i.col]!=null?a[i.col]:a[a.length-1]};a.getFirstStartPoint=function(){return this._cells[0][0]};a.isLastCellID=function(e){if(this._cells){var t=this._cells.length;var i=this._cells[t-1].length;return e===this._cells[t-1][i-1].id}else{return false}};return i});define("sap/viz/chart/scales/BaseScale",[],function(){var e=function(e,t){this.__className="sap.viz.scale.BaseScale";this._scale=undefined;this._type=null;this._domain=e;this._range=t;this._metaData=null;this._isReset=false;this._option=null};e.prototype.scale=function(e){};e.prototype.getDomain=function(){return this._domain};e.prototype.setDomain=function(e){this._domain=e;this._isReset=true;return this};e.prototype.getRange=function(){return this._range};e.prototype.setRange=function(e){this._range=e;this._isReset=true;return this};e.prototype.getOption=function(){return this._option};e.prototype.setOption=function(e){this._option=e;return this};e.prototype.getMetaData=function(){return this._metaData};e.prototype.normalizeValue=function(e){return e};e.prototype.destroy=function(){this._domain=null;this._range=null;var e=this._scale;if(e){if(e.domain){e.domain([])}if(e.range){e.range([])}}this._scale=null;this._type=null;this._metaData=null;this.__className=null};return e});define("sap/viz/chart/scales/ValueScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/NumberUtils"],function(e,t,i){var a=function(e,t,i,r){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.ValueScale";this._tickHint=undefined;this._domainFixed=i?i:[false,false];this._type="linear";this._min="auto";this._max="auto";this._dataBound=r&&r.dataBound;this._autoDomain=[];this._domainChanged=false;this._zeroAdjusted=true;this.maximizedDomain=r&&r.maximizedDomain;this._allowDecimals=r&&r.hasOwnProperty("allowDecimals")?r.allowDecimals:true;this._initScale()};e.extend(a,t);a.prototype.scale=function(e){this._ensureScaled();return this._scale(e)};a.prototype.nice=function(){this._ensureScaled();this._scale=this._scale.nice();this._domain=this._scale.domain();this._range=this._scale.range();return this};a.prototype.ticks=function(e){this._ensureScaled();var t=this._scale.ticks(e);if(!this.getAllowDecimals()){t=t.filter(function(e){return!i.isFloat(e)})}return t};a.prototype.getTickHint=function(){return this._tickHint};a.prototype.setTickHint=function(e){this._tickHint=e};a.prototype.isFixed=function(){return this._domainFixed&&(this._domainFixed[0]||this._domainFixed[1])};a.prototype.getDataBound=function(){return this._dataBound};a.prototype.getDomainFixed=function(){return this._domainFixed};a.prototype.setDomainFixed=function(e){this._domainFixed=e};a.prototype.getDomainChanged=function(){return this._domainChanged};a.prototype.setDomainChanged=function(e){this._domainChanged=e};a.prototype.getAllowDecimals=function(){return this._allowDecimals};a.prototype.setAllowDecimals=function(e){this._allowDecimals=e};a.prototype.getZeroAdjusted=function(){return this._zeroAdjusted};a.prototype.setZeroAdjusted=function(e){this._zeroAdjusted=e};a.prototype.total=function(e){if(this._domain){this._scale.domain([0,e])}};a.prototype._ensureScaled=function(){if(this._scale===undefined||this._isReset===true){this._initScale()}};a.prototype._initScale=function(){this._scale=d3.scale.linear();if(this._domain){this._scale.domain(this._domain)}if(this._range){this._scale.range(this._range)}this._isReset=false};a.prototype.getAutoDomain=function(){return this._autoDomain};a.prototype.setAutoDomain=function(e){this._autoDomain=e;return this};a.prototype.destroy=function(){a.superclass.destroy.call(this);this._domainFixed=null;this._autoDomain=null;this._min=null;this._max=null;this._isReset=null;this._tickHint=null;this._domainChanged=null;this._zeroAdjusted=null};return a});define("sap/viz/chart/scales/ScalesFactory",[],function(){var e=[];var t={};t.register=function(t,i,a){e.push({chartType:t,scaleType:i,scaleClass:a})};t.getScale=function(t,i){var a=null;for(var r=e.length-1;r>=0;--r){var o=e[r];if(o.chartType===t&&o.scaleType===i){a=o.scaleClass;break}if(!a&&!o.chartType&&o.scaleType===i){a=o.scaleClass}}return a};return t});define("sap/viz/chart/scales/ScaleUtil",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/chart/scales/ScalesFactory","sap/viz/framework/common/util/DataUtils","sap/viz/framework/scale/ScaleUtil"],function e(t,i,a,r,o,n,l){var s=["measureNamesDimension","measureNames"];var u=l.hasNoNullValue;function c(e,t){var i=false;if(!/timeseries/.test(e._chartType)){var a=e.valueAxis().values[t];var r=e.valueAxis2().values[t];i=u(a,r)}else{var o=e.color();var n=e.getInitSeries();var l=o.rowArray.length;var s=n.length/l;for(var c=t*s;!i&&c<(t+1)*s;c++){i=n[c].some(function(e){return e.valueAxis!=null})}}return i}function h(e,t){var i=false;var a;if(!/timeseries/.test(e._chartType)){var r=e.valueAxis().values;var o=e.valueAxis2().values;if(e.color().rowArray){for(a=0;!i&&a<r.length;++a){i=u(r[a][t],o[a][t])}}else{i=u(r[t],o[t])}}else{var n=e.shape();var l=n.rowArray.length;var s=e.getInitSeries();for(a=t;!i&&a<s.length;a+=l){i=s[a].some(function(e){return e.valueAxis!=null})}}return i}var p={generateUniqueDomain:function(e,t,i,a,r,o,l){e=e.filter(function(e,t){return!i[t].hidden});t=Math.min(t,i.filter(function(e){return!e.hidden}).length);if(e.length===0){return[]}var s=[];var u=e[0].length;var p,d;var f={};for(p=0;p<u;++p){if(o&&(l==="color"?!c(r,p):!h(r,p))){continue}var v=[];for(d=0;d<t;++d){v.push(e[d][p])}var g=n.valuesToString(v);if(f.hasOwnProperty(g)){f[g].oriIndex.push(p);continue}v.oriIndex=[p];f[g]=v;s.push(v)}return s},getRoughTickNum:function(e){var i=1;var a=-1;var r=e.getRange();var o=Math.abs(r[0]-r[r.length-1]);if(o>10){a=i+Math.round(o/100)}else{a=i}if(!e.getAllowDecimals()){var n=e.ticks(a);var l=2;var s=n[1]-n[0];if(t.isFloat(s)){a=Math.floor(n.length*s);if(a<l){a=Math.ceil(e._domain[1]-e._domain[0]);a=Math.max(a,l)}}}e.setTickHint(a);return a},nice:function(e,t){if(!e.isFixed()){return this.perfect(e,t)}else{var i=e.getDomainFixed();if(!(i[0]&&i[1])){var a=e.getDomain();var r=e.getRange();var n=o.getScale(null,"value");var l=new n(a,r,i);this.perfect(l);var s=l.getDomain();if(i[0]){e.setDomain([a[0],s[1]])}else{e.setDomain([s[0],a[1]])}}return this.getRoughTickNum(e)}},perfect:function(e,i){var a=e.nice();var r=1;var o=100;var n=e.getDomain(),l=n.length;n=t.preciseObject(n);var s=n[0];var u=n[1];var c=i||this.getRoughTickNum(e);var h=a.ticks(c);h=t.preciseObject(h);var p=true;var d;if(h.length===0){p=false}else if(h.length>1){d=h[1]-h[0]}else{var f=Math.abs(n[0]-h[0]);var v=Math.abs(n[l-1]-h[0]);if(f>v){d=f}else{d=v}}var g=r;var m=h.length;if(p){g=m;var y,_;if(n[0]<n[1]){y=0;_=l-1}else{y=l-1;_=0}if(h[0]!==n[y]){n[y]=h[0]-d;g++}if(h[m-1]!==n[_]){n[_]=h[m-1]+d;g++}}a.tickNum=g;a.distance=d;a.setTickHint(g-1);var A=t.preciseObject(n);a.setDomain(A);a.setAutoDomain(A);return g-1},sync:function(e,i){var a=e.getDomain();var r=i.getDomain();if(a[0]>a[1]&&r[0]<r[1]||a[0]<a[1]&&r[0]>r[1]||a[0]<0&&a[1]<0||r[0]<0&&r[1]<0||a[0]>0&&a[1]>0||r[0]>0&&r[1]>0){return}var o=0;var n=0;var l=0;var s=0;var u=e.tickNum;var c=i.tickNum;var h=(a[1]-a[0])/(u-1);h=t.preciseSimple(h);var p,d,f;for(p=0;p<u;p++){d=t.preciseSimple(a[0]+p*h);if(d>0){o++}else if(d<0){n++}}var v=(r[1]-r[0])/(c-1);v=t.preciseSimple(v);for(p=0;p<c;p++){d=t.preciseSimple(r[0]+p*v);if(d>0){l++}else if(d<0){s++}}if(o>l){f=o-l;if(r[0]<r[1]){r[1]+=f*Math.abs(v);i.tickNum+=f}else if(r[0]>r[1]){r[0]+=f*Math.abs(v);i.tickNum+=f}}else if(o<l){f=l-o;if(a[0]<a[1]){a[1]+=f*Math.abs(h);e.tickNum+=f}else if(a[0]>a[1]){a[0]+=f*Math.abs(h);e.tickNum+=f}}if(n>s){f=n-s;if(r[0]<r[1]){r[0]-=f*Math.abs(v);i.tickNum+=f}else if(r[0]>r[1]){r[1]-=f*Math.abs(v);i.tickNum+=f}}else if(n<s){f=s-n;if(a[0]<a[1]){a[0]-=f*Math.abs(h);e.tickNum+=f}else if(a[0]>a[1]){a[1]-=f*Math.abs(h);e.tickNum+=f}}a[0]=t.preciseSimple(a[0]);a[1]=t.preciseSimple(a[1]);r[0]=t.preciseSimple(r[0]);r[1]=t.preciseSimple(r[1]);e.setDomain(a);i.setDomain(r);e.setTickHint(e.tickNum-1);i.setTickHint(i.tickNum-1)},domainArrayCompare:function(e,t){function i(e){var t=null;if(typeof e==="string"||!e){t=e}else if(typeof e==="object"&&(e.d||e.v)){t=e.v||e.d}return t}function a(e,t){var a=i(t);for(var r=0;r<e.length;r++){var o=i(e[r]);if(a===o){return r}}return-1}if(e===t){return true}if(!e||!t){return false}if(e.length!==t.length){return false}var r=t.slice(0);for(var o=0;o<e.length;o++){var n=a(r,e[o]);if(n===-1){return false}else{r.splice(n,1)}}return true},findScaleResult:function(e,t,i){if(!e){return null}i=i||p.domainArrayCompare;var a=e.results;var r,o;for(o=0;o<a.length;o++){r=a[o];if(i(r.dataContext,t)){return r}}return null},shrinkedDomainFromColumns:function(e,t){var i=[];e=e||[];t=t||[];for(var a=0;a<e.length;a++){var r=[];for(var o=0;o<t.length;o++){var n=t[o];if(n>=e[a].length){break}r.push(e[a][n])}if(r.length>0){i.push(r)}}return i},shrinkedDomain:function(e,t){function a(e){var t=e.values;if(t.length>1){var i=t[0];for(var a=1;a<t.length;a++){if(i!==t[a]){return false}}}return true}var r=[];if(!i.isExist(t)||t.length<=1){return e}for(var o=0;o<t.length;o++){var n=t[o];if(s.indexOf(n.id)===-1||!a(n)){r.push(o)}}return p.shrinkedDomainFromColumns(e,r)}};return p});define("sap/viz/chart/scales/ScaleConstant",[],function(){var e={};e.TYPE_VALUE_SCALE_MEKKO="mekko";e.PATTERN_DEFAULT_VALUE={AC:{color:"#323232"},FC:{color:"#3F3F3F",pattern:"hatching",stroke:"#ffffff",strokeWidth:"1px"},PY:{color:"#969696"},PL:{color:"#ffffff",pattern:"nonFill",stroke:"#323232",strokeWidth:"1px"}};e.DEFAULTPATTERN="pattern";e.DEFAULTPATTERN2="pattern2";e.PATTERN_DEFAULT_VALUE[e.DEFAULTPATTERN]={color:"black",pattern:"solid",stroke:"rgb(187, 189, 191)",strokeWidth:"1px"};e.PATTERN_DEFAULT_VALUE[e.DEFAULTPATTERN2]={color:"rgb(50, 50, 50)",pattern:"nonFill",stroke:"rgb(128, 128, 128)",strokeWidth:"1px"};return e});define("sap/viz/chart/scales/ValueScaleUtil",["sap/viz/framework/common/util/NumberUtils","sap/viz/chart/scales/ScaleUtil","sap/viz/chart/scales/ScaleConstant","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ScalesFactory","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o){var n="layout";var l=7;var s=3;var u=6;var c={};c.getStackedArrayValues=function(e,t){if(a.isArray(e)){var i=[0,0];for(var r in e){if(e.hasOwnProperty(r)){c.getStackedArrayValues(e[r],i)}}if(i[0]<t[0]){t[0]=i[0]}if(i[1]>t[1]){t[1]=i[1]}}else{if(+e<0){t[0]+=+e}else{t[1]+=+e}}};c.prepareValueScaleData=function(e,t,i){if(t===n){var a=[];var r=function(e,t,i){if(e.values.hasOwnProperty(t)){i[t]=[];i[t][0]=0;i[t][1]=0;c.getStackedArrayValues(e.values[t],i[t])}};if(i&&i.length>0){for(var o=0;o<i.length;o++){r(e,i[o],a)}}else{for(var l in e.values){if(e.values.hasOwnProperty(l)){r(e,l,a)}}}e.range=a}};c.getTicksPosition=function(e,t){var i=[];for(var a=0,r=e.length;a<r;++a){i.push(t.scale(e[a]))}return i};c.getTicks=function(t){function i(t,i){i=i.map(function(t){return e.precise(t)});var a;var r;var o=t.length;if(t[0]<=t[o-1]){a=t[0];r=t[o-1]}else{a=t[o-1];r=t[0]}if(i.length>0){if(i[0]!==a){i.unshift(a)}if(i[i.length-1]!==r){i.push(r)}}return i}var a=t.getTickHint()||l;var r=t.ticks(a);var o=i(t.getDomain(),r);return e.preciseObject(o)};c.perfectTicks=function(e,i){return t.nice(e,i)};c.perfectTimeTicks=function(i){var a=i.getDomain();var r=1e3*60*60;var n=r*24;var l=n*30;var s=l*12;if(e.isNoValue(a[0])){a[0]=0}if(e.isNoValue(a[1])){a[1]=a[0]+1}var u=a[1]-a[0];var c=o.createDateInstance(a[0]);var h=o.createDateInstance(a[1]);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0);var p;if(u<3*n){h.setHours(h.getHours()+1);p={get:Date.prototype.getHours,set:Date.prototype.setHours,format:"dd/mm/yyyy hh:mm"};u=(h.getTime()-c.getTime())/r}else if(u<3*l){c.setHours(0);h.setHours(0);h.setDate(h.getDate()+1);p={get:Date.prototype.getDate,set:Date.prototype.setDate,format:"dd/mm/yyyy"};u=(h.getTime()-c.getTime())/n}else if(u<3*s){c.setHours(0);c.setDate(1);h.setHours(0);h.setDate(1);h.setMonth(h.getMonth()+1);p={get:Date.prototype.getMonth,set:Date.prototype.setMonth,format:"mm/yyyy"};u=(h.getFullYear()-c.getFullYear())*12+h.getMonth()-c.getMonth()}else{c.setHours(0);c.setDate(1);c.setMonth(0);h.setHours(0);h.setDate(1);h.setMonth(0);h.setFullYear(h.getFullYear()+1);p={get:Date.prototype.getFullYear,set:Date.prototype.setFullYear,format:"yyyy"};u=h.getFullYear()-c.getFullYear()}var d=t.getRoughTickNum(i);var f;var v=1;if(d>2){d=e.preciseSimple(d);u=e.preciseSimple(u);for(f=0;f<d-1;f++){var g=false;for(v=d-1;v>1;v--){if((u+f)%v===0){g=true;break}}if(g){break}}}if(d>2){i.tickNum=v+1;i.timeUnitGap=(u+f)/v}else{i.tickNum=d;i.timeUnitGap=u}p.set.apply(h,[p.get.apply(h,[])+f]);var m=i.getDomainFixed();if(!m[0]&&!m[1]){i.setDomain([c.getTime(),h.getTime()])}else if(!m[0]){i.setDomain([c.getTime(),a[1]])}else if(!m[1]){i.setDomain([a[0],h.getTime()])}i.timeUnit=p};c.syncTicks=function(e,i){if(!e.isFixed()&&!i.isFixed()){t.sync(e,i)}};c.correctNoValueDomain=function(t){var i=t.slice();i[0]=e.isNoValue(i[0])?0:t[0];i[1]=e.isNoValue(i[1])?t[0]+1:t[1];return i};c.extendDomainForDataLabel=function(e,t,i,a){var r=e.slice(),o,n,l,s;if(r[0]>0){r[0]=0}else if(r[1]<0){r[1]=0}s=a?[i[0]?i[0].width:0,i[1]?i[1].width:0]:[i[0]?i[0].height:0,i[1]?i[1].height:0];if(r[1]>0&&r[0]<0){if(s[0]+s[1]>=t[1]/2){r[1]=e[1]+(e[1]-e[0])/(1+s[0]/s[1]);r[0]=r[1]-2*(e[1]-e[0])}else{var u=[r[0],r[1]];r[0]=(s[0]*u[1]-t[1]*u[0]+s[1]*u[0])/(s[0]+s[1]-t[1]);r[1]=(t[1]*u[1]-s[1]*r[0])/(t[1]-s[1])}}else if(r[1]>0){if(s[1]>=t[1]/2){r[1]=r[1]*2}else{r[1]=s[1]*r[1]/(t[1]-s[1])+r[1]}}else if(r[0]<0){if(s[0]>t[1]/2){r[0]=r[0]*2}else{r[0]=s[0]*r[0]/(t[1]-s[0])+r[0]}}return r};c.generateValueScale=function(e,t){var i=null;var o=null;if(t){i=+t.min;if(isNaN(i)){i=null}o=+t.max;if(isNaN(o)){o=null}}var n=i!=null;var l=o!=null;var s=t.minMax||{};if(s.min===undefined){s.min=0}if(s.max===undefined){s.max=0}var u=n?parseFloat(i):s.min;var c=l?parseFloat(o):s.max;if(u>=c){if(n===true){n=false;l=false;u=s.min;c=s.max}else if(l===true){n=false;l=true;u=s.min}}if(!n&&!l){if(c===0&&u===0&&!(t&&t.allowZeroMinMax===true)){c=1}}if(a.isExist(t)&&a.isExist(t.allowZeroMinMax)){delete t.allowZeroMinMax}var h=null;t=t||{};t.maximizedDomain=e.maximizedDomain;var p=r.getScale(t.type,"value");h=new p([u,c],[0,1],[n,l],t);h.setAutoDomain([s.min,s.max]);return h};return c});define("sap/viz/chart/components/util/ValueAxisUtils",["sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/scales/ScaleConstant","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ScalesFactory"],function(e,t,i,a,r,o,n){var l=[0,1];var s=function(e,t,i,a,r){var o=n.getScale(r,"value");var l=new o(e,t,i,{maximizedDomain:a&&a.maximizedDomain,mekkoValue:a&&a.getMekkoValue&&a.getMekkoValue()});if(a&&a.getDomainChanged){l.setDomainChanged(a.getDomainChanged())}if(a&&a.getZeroAdjusted){l.setZeroAdjusted(a.getZeroAdjusted())}if(a&&a.getAllowDecimals){l.setAllowDecimals(a.getAllowDecimals())}return l};function u(e,t){if(e._minmax){return e._minmax}t=t||[Infinity,-Infinity];for(var i=e.length;i--;){var a=e[i];if(a instanceof Array){t=u(a,t)}else if(a!=null){if(a<t[0]){t[0]=a}if(a>t[1]){t[1]=a}}}return t}function c(e,t){if(e&&t){var i=e.getDomain().slice();if(!i.length){i=l.slice()}var a=e.getDomainFixed().slice();var r,o;if(!a[0]||!a[1]){var n=[];var s=u(t);if(e.getDomainChanged()){n=i}else{n=s}t._minmax=s;r=n[0];o=n[1]}var c=a[0]?parseFloat(i[0]):r;var h=a[1]?parseFloat(i[1]):o;if(r>o){a=[false,false];c=r;h=o}return{domain:[c,h],domainFixed:a}}else{return null}}function h(e,t,i){var r=e.domain.slice(),o=e.domainFixed.slice();if(!o[0]){if(r[0]<0){r[0]=r[0]*(1+t)}else if(i){r[0]=0}else{r[0]=r[0]*(1-t)}}if(!o[1]){if(r[1]<0){if(i){r[1]=0}else{r[1]*=1-t}}else{r[1]*=1+t}}return{domain:a.correctNoValueDomain(r),domainFixed:o}}function p(e,t){var i=e.domain.slice(),r=e.domainFixed.slice(),o=i[0]===i[1]?1:Math.floor((i[1]-i[0])*t);i[0]-=r[0]?0:o;i[1]+=r[1]?0:o;return{domain:a.correctNoValueDomain(i),domainFixed:r}}function d(e,t){return e.start>=t.start&&e.start<=t.end||e.end>=t.start&&e.end<=t.end||t.start>=e.start&&t.start<=e.end||t.end>=e.start&&t.end<=e.end}function f(e,t){var i=e.length;var a=[];for(var r=0;r<=i-1;r++){var o=true;for(var n=0;n<i-1;n+=r+1){var l=e[n];if(n!==0){var s=a[a.length-1];if(d(l,s)){if(t&&l.value===0){a.push(l);continue}if(a.length>1){o=false;break}}else{a.push(l)}}else{a.push(l)}}if(e.length&&a.length){var u=e[i-1];var c=a[a.length-1];if(d(u,c)){if(!(t&&c.value===0)){a.pop()}}a.push(u)}if(o){break}else{a=[]}}return a}function v(e,t){if(0===e[0]&&0===e[1]){e[1]=1}if(!t.getAllowDecimals()){e[0]=Math.floor(e[0]);e[1]=Math.ceil(e[1])}}var g={isOverLapped:d,calculateLabelsToDrawHelper:f,calcScale:function(e,t,i){var r=e.getDomain().slice();var o=e.getDomainFixed();var n=e.getAutoDomain().slice();var l=e.isFixed();if(r[0]>0&&!(l&&o[0])){if(e.getZeroAdjusted()||r[0]===r[1]){r[0]=0}}if(r[1]<0&&!(l&&o[1])){if(e.getZeroAdjusted()||r[0]===r[1]){r[1]=0}}if(n[0]>0){n[0]=0}if(n[1]<0){n[1]=0}if(i.domain){if(!(l&&o[0])&&i.domain[0]!=null){r[0]=i.domain[0]}if(!(l&&o[1])&&i.domain[1]!=null){r[1]=i.domain[1]}}if(i.isLineChart){var u=Math.abs((r[1]-r[0])*5/(t[1]-t[0]));if(r[0]!==0&&!(l&&o[0])){r[0]-=u}if(r[1]!==0&&!(l&&o[1])){r[1]+=u}if(!i.keepAutoScale){var c=Math.abs((n[1]-n[0])*5/(t[1]-t[0]));if(n[0]!==0){n[0]-=c}if(n[1]!==0){n[1]+=c}}}v(r,e);v(n,e);var h=e&&e.getType&&e.getType();var p=s([r[0],r[1]],t,o,e,h);var d=s([n[0],n[1]],t,[false,false],e,h);var f=a.perfectTicks(p);a.perfectTicks(d);if(p.isFixed()){p.setAutoDomain(d.getDomain())}return{scale:p,tickHint:f,autoScale:d}},calcPercentageScale:function(e){var t=s([0,1],e);var i=a.perfectTicks(t);return{scale:t,tickHint:i}},updateScatterValueAxis:function(e,t,i,r){var o=r?p:h;var n=r?a.perfectTimeTicks:a.perfectTicks;var l=e.scale;var u=o(c(l,e.values),i,l.getZeroAdjusted());var d=u.domain;v(d,l);var f=s(d,t,u.domainFixed,l),g=n(f);var m=l.getAutoDomain();var y=s([m[0],m[1]],t,[false,false],l);m=o(c(y,e.values),i,l.getZeroAdjusted()).domain;v(m,l);y=s(m,t,[false,false],l);n(y);f.setAutoDomain(y.getDomain());return{scale:f,tickHint:g}},getTrellisBaseValueIndex:function(e,t){if(e===0){return 0}else if(t===0){return 1}else if(e<0&&t<0){return e>t?0:1}else if(e>0&&t>0){return e<t?0:1}else{return-1}},visibleRangeTransform:function(e,t,i){if(!o.isNumeric(t)||t<e[0]){t=e[0]}if(!o.isNumeric(i)||i>e[1]){i=e[1]}if(t>=i){return null}if(t>e[1]||i<e[0]){return null}return{ratio:(e[1]-e[0])/(i-t),delta:(e[0]-t)/(e[1]-e[0])}},getTimeAxisDomain:function(e,t,i,a,r,o){var n,l,s;if(r){n=e.height;l=i.height;s=t.y}else{n=e.width;l=i.width;s=t.x}s=Math.abs(s);var u=[],c=a[1]-a[0];if(o){u[0]=a[0]+c*s/l;u[1]=a[0]+c*(s+n)/l}else{u[0]=a[0]+parseInt(c*s/l);u[1]=a[0]+parseInt(c*(s+n)/l)}return u}};return g});define("sap/viz/chart/components/util/SeriesUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/ChartConstants","sap/viz/framework/chartmodel/ContextBuilder"],function(e,t,i,a,r){var o=i.convertColor;var n=t.LINE_TYPE;function l(e,t,i,a,r){var o=t.position;var n=r?r.x:0;var l=r?r.y:0;var s=o.x+n;var u=o.y+l;var c=s+o.width;var h=u+o.height;if(a){if(i){s=c;c-=o.width}e.push([s,u]);e.push([c,u]);e.push([c,h]);e.push([s,h])}else{if(i){h=u;u+=o.height}e.push([s,h]);e.push([s,u]);e.push([c,u]);e.push([c,h])}}function s(e,t){e.graphic={color:e.color,width:1,opacity:1};delete e.color;e.isHorizontal=t}function u(e,t){var i=e.graphic.fill;var a=e.rawData.dp.context();var r=e.rawData.dp.additionCtx();var n=t.analyzeDataPoint("color",a,false,r);if(n&&n.color){i=o(n.color)}return i}function c(e,t,i,a){var r=i;var n=t.analyzeDataPoint("lineColor",e,false,a);if(n&&n.lineColor){r=o(n.lineColor)}return r}function h(e,t,i,a){var r=i||"solid";var o=t.analyzeDataPoint("lineType",e,false,a);if(o&&(o.lineType===n.DOT||o.lineType===n.DASHED||o.lineType===n.DOTTED)){r=o.lineType}return r}function p(e){var t=0;if(e){e.forEach(function(e){var i=0;for(var a=0;a<e.length;a++){if(e[a].valueAxis){i++}}t=Math.max(t,i)})}return t}function d(e,t){return e/t<10}function f(e,t,i){var a=r.buildSeriesLineContext(e,t);var o=i.analyzeSeriesStyle(a,"line");return o&&o.line&&o.line.type}var v={getMaxSeriesLength:p,isBigDensityMode:d,addRectSeriesPathPoints:l,parseSemanticColor:u,parseSemanticLineColor:c,parseSemanticLineType:h,parseSeriesLineType:f,getSeriesType:function(e,t,i){var r;if(e){switch(i){case a.COLUMN_COMBINATION:r=e.color?e.color.mndIndex:-1;break;case a.STACKED_COMBINATION:if(e.color){r=e.color.mndIndex}else if(e.color2){r=e.color2.mndIndex}else{r=-1}break}return t[r]||a.LINE}return a.LINE}};return v});define("sap/viz/chart/components/trendline/algorithm/Linear",[],function(){function e(e){var t,i,a,r,o,n,l,s,u=e.length;t=i=a=r=o=0;var c=+e[0].x;e.forEach(function(e){c=c<+e.x?c:+e.x});c=c<0?-1*c:c;for(var h=0;h<u;h++){var p=+e[h].x-c;t+=p;i+=+e[h].y;a+=p*e[h].y;r+=p*p;o+=e[h].y*e[h].y}var d=u*r-t*t;if(d===0){return false}n=(u*a-t*i)/d;l=(i-n*t)/u-n*c;return function(e){return n*e+l}}function t(e){return e instanceof Array&&e.length>1}return{type:"Linear",compute:e,validate:t}});define("sap/viz/chart/components/trendline/Trendline",["sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/SeriesUtil","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/ColorUtils","sap/viz/framework/common/util/TypeUtils","./algorithm/Linear"],function(e,t,i,a,r,o,n,l,s){var u=r.getDimensionParsedValue;var c=.1;function h(e){for(var t=0;t<e.length;t++){if(e[t]){return e[t]}}return null}var p={seriesAxisId:function(e){var t=h(e);if(t){return t.hasOwnProperty("valueAxis")?"valueAxis":"valueAxis2"}return null},indexOfObj:function(e,t){for(var a=0;a<t.length;a++){if(i.deepEqual(e,t[a])){return a}}return-1},seriesAxisHasTime:function(e){var t=h(e);if(t){return t.hasOwnProperty("timeAxis")}return false},findMapObj:function(e,t){var a=[];for(var r=0;r<t.length;r++){if(i.deepEqual(e,t[r])){a.push(r)}}return a}};function d(e,t){return e.map(function(e){return{x:u(e.timeAxis[0]),y:e.valueAxis instanceof Array?e.valueAxis[0]:e.valueAxis}}).filter(function(e){if(e){if(!l.isExist(e.y)&&t.invalidity){if(t.invalidity==="connect"){e.y=0;return true}else{return false}}}return!!e})}var f={yy:function(e,t){var i;if(p.seriesAxisHasTime(e)){i=d(e,t)}else{i=e.map(function(e){return{x:e.valueAxis instanceof Array?e.valueAxis[0]:e.valueAxis,y:e.valueAxis2 instanceof Array?e.valueAxis2[0]:e.valueAxis2}})}i=i.sort(function(e,t){return e.x<t.x?-1:e.x>t.x?1:0}).reduce(function(e,t){var i=e[e.length-1];if(i.x!==t.x||i.y!==t.y){e.push(t)}return e},[i[0]]);return i},spread:function(e,t){var i;if(p.seriesAxisHasTime(e)){return d(e,t)}else{var a=p.seriesAxisId(e);return e.map(function(e,t){return{x:t+1,y:e[a]}}).filter(function(e){return!!e})}}};function v(e,t,i,a,r){if(p.seriesAxisHasTime(i)){var n=Math.max.apply(null,i.map(function(e){return u(e.timeAxis[0])}));var l=r[0];var s;for(var c=1;c<=t;c++){s=o.getNperiodByTimeLevel(l,n,c,true);a.push({x:s,y:e(s)})}}else{var h=Math.max.apply(null,a.map(function(e){return e.x}));for(var d=0;d<t;d++,h++){a.push({x:h+1,y:e(h+1)})}}}var g=function(){var t={color:{name:"stroke"},type:{name:"stroke-dasharray",fn:function(t,i){switch(t){case e.LINE_TYPE.DASHED:return e.LINE_DASH_TYPE_ARRAY;case e.LINE_TYPE.SOLID:return t;default:return"1, "+ +i.size*2}}},size:{name:"stroke-width"}};function a(i){return Object.keys(i).reduce(function(a,r){var o=i[r],n=t[r];if(n){a[n.name]=n.fn?n.fn(o,i):o;if(n.name==="stroke-dasharray"&&o!==e.LINE_TYPE.DASHED&&o!==e.LINE_TYPE.SOLID){a["stroke-linecap"]="round"}}return a},{})}function r(e){var t=[];if(e._seriesType==="yy"){var i={};e.seriesContext.forEach(function(e){var a=JSON.stringify(e);if(!i[a]){t.push(e);i[a]=true}})}else{t=e.seriesContext}return t.map(function(e){return{seriesContext:e}})}function o(e,t){var i,a;if(e._seriesType==="yy"){var r=p.findMapObj(t.seriesContext,e.seriesContext);if(r.length>0){a=[];r.forEach(function(t){e.series[t].forEach(function(e){a.push(e)})});i=r[0]}}else{i=p.indexOfObj(t.seriesContext,e.seriesContext);if(i!==-1||i<e.series.length){a=e.series[i]}}return{series:a,seriesId:i}}function s(e,t,i,a){if(!e||!e.lines||e.lines!=="all"&&!l.isArray(e.lines)){return[]}var n=e.lines;if(t.seriesContext===null||t.seriesContext.length===0){if(n==="all"&&t.series&&t.series.length>0){var s=t.series[0];if(!s||s.length<2){return null}var u=f[t._seriesType](s,i),c=y(u);if(!c){return null}var h=+e.defaultStyle.forecast||0;if(h>0){v(c,h,s,u,a)}return[{seriesId:0,seriesContext:null,series:s,raw:u,fx:c,forecast:h}]}}else{var p=n==="all"?r(t):n;return p.map(function(r){if(r&&l.isPlainObject(r)){var n,s,u=o(t,r);var c=u.series,h=u.seriesId;if(!c||c.length<2){return null}n=f[t._seriesType](c,i);s=y(n);if(n.length<2||!s){return null}var p=+r.forecast||+e.defaultStyle.forecast||0;if(p>0){v(s,p,c,n,a)}return{seriesId:h,seriesContext:r.seriesContext,series:c,raw:n,fx:s,forecast:p}}})}}function u(e,t,i,a){var r,o=e[i];if(o&&o.scale){r=o.scale.scale(t[i]);r=n.fromCSSColor(r).lighter(c).toString();if(a){r=a.register({fillColor:r})}}return r}function d(e,t,s,c){if(!e||!e.lines||e.lines!=="all"&&!l.isArray(e.lines)){return[]}var d=e.lines,f=e.defaultStyle;var v=s&&s.rules&&s.rules.map(function(e){return e.dataContext&&e.dataContext[0]});if(t&&t.seriesContext===null||t.seriesContext.length===0){if(d==="all"&&t.series&&t.series.length>0){var g=t.series[0];if(!g||g.length<1){return null}var m=h(g);if(!m){return null}var y=m.color2?"color2":"color",_=n.isCSSColorString(f.color)?f.color:u(t,m,y,c);return[{style:a(i.extend(true,{},f,{color:_})),colorBind:m[y]}]}}else{var A=d==="all"?r(t):d;return A.map(function(e){if(e&&l.isPlainObject(e)){var r=o(t,e),d=r.series,g=r.seriesId;if(!d||d.length<1){return null}var m={};if(v){var y=p.indexOfObj(e.seriesContext,v);var _=y===-1?null:s.rules[y];if(_&&_.properties&&_.properties.line){m.color=_.properties.line.color;m.color=n.isCSSColorString(m.color)&&m.color;m.size=_.properties.line.width}}if(e.type){m.type=e.type}if(e.size){m.size=e.size}var A=h(d);if(!A){return null}var b=A.color2?"color2":"color";if(n.isCSSColorString(e.color)){m.color=e.color}else{m.color=n.isCSSColorString(f.color)?f.color:u(t,A,b,c)}return{text:e.displayName,style:a(i.extend(true,{},f,m)),colorBind:A[b],seriesContext:e.seriesContext}}})}}return{basic:s,color:d}}();function m(e,t){var i=t.map(function(t){return e(t.x)});return[Math.min.apply(null,i),Math.max.apply(null,i)]}function y(e){var t=s;if(!t.validate(e)){return null}return t.compute(e)}function _(e,i,a){if(typeof e._trendlineValueDomain!=="function"){return null}var r=e._trendlineValueDomain(a),o=Object.keys(r).length;if(o===0){return null}var n=/line/.test(e._options.renderType);var l=Object.keys(r).reduce(function(e,o){var l=a[o].scale.getDomain(),s=r[o];if(l[0]>s[0]||l[1]<s[1]){var u=Math.min(l[0],s[0]),c=Math.max(l[1],s[1]);var h=t.calcScale(a[o].scale,i[o],{isLineChart:n,domain:[u,c]});h.scale.setRange([0,1]);h.metaData=a[o].metaData;e[o]=h}return e},{});return l}function A(e,t,i,a){if(typeof e._trendlineValueDomain==="function"){var r=e._trendlineValueDomain(i,a),o=Object.keys(r).length;if(o!==0){var n=r.valueAxis[0];var l=r.valueAxis[1];n=t[0]>n?n:t[0];l=t[1]>l?t[1]:l;return[n,l]}}return t}function b(e,t){if(!e||e.length<2||!t){return}var i=0;t.forEach(function(e){if(e&&e.fx&&e.forecast){var t=e.raw.length;i=e.raw[t-1].x>i?e.raw[t-1].x:i}});if(i>0){e[1]=i}}function x(e,t,i){if(!e||!t){return}var a=0;t.forEach(function(e){if(e&&e.raw&&e.fx&&e.forecast){a=e.forecast<a?a:e.forecast}});for(var r=0;r<a;r++){var o=[];for(var n=0;n<e[0].length;n++){o.push("")}e.push(o)}}return{calculate:y,Parser:g,updateValueScale:_,Utils:p,domainPerTrendline:m,getValueScaleDomain:A,expandTimeAxisDomain:b,expandCategoryDomain:x}});define("sap/viz/chart/components/trendline/mixin/legendItems",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/trendline/Trendline"],function(e,t,i,a,r){var o={};o[t.CSS.CLASS.LEGENDITEM]=false;o["v-trendline-legend-item"]=true;function n(t,a){var r=a&&Object.keys(a);var o=[];if(r){for(var n=0;n<t.length;n++){var l=true;r.forEach(function(e){var r=t[n].context[e+i.DIMENSION_VALUE_SUFFIX]||t[n].context[e];if(a[e]!==r){l=false;return}});if(l){o=e.extend(true,[],t[n].data);break}}}return o}return function(t,i){var l=t._data,s=t._properties.parentLevel.get("plotArea.trendLine"),u=t._properties.parentLevel.get("plotArea.dataPointStyleMode"),c=t._properties.parentLevel.get("plotArea.seriesStyle"),h=this._properties.get("dataPointStyle"),p=r.Parser.color(s,l,c,t._runtime._effectMgr),d=[];if((!h||!u||u!=="override")&&p&&p.length>0){p.map(function(t){if(!t){return null}var r=e.extend(true,{},t.style,{fill:"none"});var l=t.text;if(!l){l=n(i,t.seriesContext);l.callback=function(e){if(e&&e!==""){return a.get("IDS_TRENDLINE_LINEAR")+": "+e}else{return a.get("IDS_TRENDLINE_LINEAR")}}}d.push({data:l,color:t.style.stroke,context:t.seriesContext,cls:o,shape:{type:"line",style:r}})})}return d}});define("sap/viz/chart/components/legend/ColorLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/BaseLegend","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataUtils","sap/viz/framework/chartmodel/DataSelector","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/scale/ColorShapeScaleMerger","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/StatusConstants","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/ColorLegendNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/trendline/mixin/legendItems"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b){"use strict";var x=u.LEGEND.HORIZONTAL_OFFSET;var S=u.CSS.CLASS.LEGENDITEM,D="v-legend-element";function w(e,t){w.superclass.constructor.apply(this,arguments);this._labelFont={fontFamily:null,fontSize:null,fontWeight:null,color:null,fontStyle:null};var i=this.runtime().semanticManager();i.addDataPointChangeCallback(this._onDataPointChange.bind(this));this._defaultItemMargin=this._properties.getDefault("itemMargin");this._colorLabelSize=1;this._markerMargin={right:.5,bottom:.5,left:1,top:0};this._maxItemsNum=12;this._maxItemTextWidth=80;this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._scrollBar=undefined;this._type="ColorLegend";this._noFillSupport=t&&t.options&&t.options.noFillSupport;this._scrollThumbSpace=o.getThumbSpace("legend");this._contentSize=0;this._pageCount=2;this._domID=s.guid();this._isOverflow=false;this._overflowOffset=0;this._lastRowOffset=0;this._markerSize=0;this._cDomain=null;this._offset={x:0,y:0};this.BGCOLORPROPS=["general.background.color"]}e.extend(w,t);function C(e,t){var i=[];var a=Object.keys(t).sort();for(var r=0;r<a.length;r++){var o=t[a[r]];var n=o&&o.scale&&o.scale._type;if(n==="color"){i.push(o)}else if(n==="shape"){e.setShapeScale(o)}}e.setColorScale(i)}w.prototype._addDefaultProperties=function(){w.superclass._addDefaultProperties.call(this);this._properties.add({drawingEffect:"normal",formatString:null,hoverShadow:{color:"#cccccc"},isScrollable:false,itemMargin:.5,marker:{size:null,shape:"squareWithRadius"},mouseDownShadow:{color:"#808080"},scrollbar:{thumb:{fill:"#e5e5e5",hoverFill:"#dedede"},track:{fill:"f7f7f7"}}})};w.prototype._onDataPointChange=function(){this._colorShapeScale=null};w.prototype.setData=function(e){this._data=e;C(this,e);return this};w.prototype.setColorScale=function(e){this._colorScale=n.isArray(e)?e:[e];this._colorShapeScale=null;return this};w.prototype.setShapeScale=function(e){this._shapeScale=e;return this};w.prototype.isVisible=function(){return w.superclass.isVisible.apply(this,arguments)&&this.hasData()};w.prototype.getScrollbar=function(){return this._scrollBar};w.prototype.scroll=function(e,t){if(this._scrollBar){this._scrollBar._scroll(e,true,t);this._scrollBar.show()}};w.prototype._scroll=function(e){if(e.reachMax){this.loadMore()}var t=e.offset;if(this.isHorizontal()){this._offset.x=t;this._offset.y=0}else{this._offset.x=0;this._offset.y=t}this._setTranslate()};w.prototype.loadMore=function(e){e=+e;if(isNaN(e)){e=2}this._pageCount+=e;this.render(this._parent,true);var t=this.runtime();if(t&&t._interaction&&t._interaction._service){l.updateCorrespondingSelectedLegendItems(t._interaction._service)}};w.prototype._setTranslate=function(){if(!this._isRTL()){this._parent.select(".v-groups").attr("transform","translate("+this._offset.x+", "+this._offset.y+")")}else{var e=this._parent.select(".v-groups");var t=v.getBBox(e.node());if(this._cDomain.width>t.width){if(this._scrollBar&&this._scrollBar._isVisible){e.attr("transform","translate("+(this._offset.x+this._cDomain.width-t.width+x-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+", "+this._offset.y+")")}else{e.attr("transform","translate("+(this._offset.x+this._cDomain.width-t.width+x+this._cDomain.markerMarginRight-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+", "+this._offset.y+")")}}else{e.attr("transform","translate("+(this._offset.x+this._cDomain.markerMarginRight)+", "+this._offset.y+")")}}};var T=function(e,t,i,a,r){var o=e.select(".v-split-lines");if(o.empty()){o=e.append("g").classed("v-split-lines",true)}var n=o.select("line");if(n.empty()){n=o.append("line")}n=n.node();n.setAttribute("stroke","#d8d8d8");n.setAttribute("stroke-width",1);n.setAttribute("shape-rendering","crispEdges");n.setAttribute("x1",t);n.setAttribute("y1",i);if(r){n.setAttribute("x2",t);n.setAttribute("y2",i+a)}else{n.setAttribute("x2",t+a);n.setAttribute("y2",i)}};w.prototype._drawSplitLine=function(e,t){var i=false;if(t._intervalIndex>=0&&t._intervalLen>0&&t.length-1>t._intervalIndex){i=true}if(i){if(!this.isHorizontal()){var a=t[t._intervalIndex+1].pos.y;a-=t._intervalLen/2;var r=this._isScrollable()?t.width-this._scrollThumbSpace:t.width;T(e,0,a,r,false)}else{var o=t[t._intervalIndex+1].pos.x;o-=t._intervalLen;T(e,o,0,t.eachRowHeight,true)}}else{e.selectAll(".v-split-lines").remove()}};w.prototype._createLegendContent=function(e,t,i){var a=this._labelFont;var r=e.selectAll("g.v-content").data(["content"]);r.enter().append("g").classed("v-content",true);r.exit().remove();r.attr("transform","translate(0, "+this._pos.y+")").attr("font-size",a.fontSize).attr("font-family",a.fontFamily).attr("font-weight",a.fontWeight).attr("fill",a.color).attr("font-style",a.fontStyle);var o=r.selectAll("rect.v-legend-body-bound").data(["bound"]);o.enter().append("rect").classed("v-legend-body-bound",true).attr("fill","transparent");o.exit().remove();o.attr("x",this._isRTL()?0:-x);o.attr("width",this._width+x).attr("height",this._height-this._pos.y);var n=r.selectAll("g.v-groups").data(["groups"]);n.enter().append("g").classed("v-groups",true).classed("v-label",true).classed("viz-legend-valueLabel",true);n.attr("role","group");n.exit().remove();n.attr("transform","translate(0, 0)");this._createGroupItems(n,t);this._handleOverflow(r,t,i);this._drawSplitLine(n,t);if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._position==="top"||this._position==="bottom")){var l=n.node();if(l){var s=l.getBoundingClientRect().width;if(this._width+x>s){o.attr("width",parseFloat(s))}}}else{if(this._isRTL()){var u=v.getBBox(n.node());if(t.width>u.width){if(this._scrollBar&&this._scrollBar._isVisible){n.attr("transform","translate("+(t.width-u.width+x-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+", 0)")}else{n.attr("transform","translate("+(t.width-u.width+x+t.markerMarginRight+(this._lastRowOffset?0:this._overflowOffset))+", 0)")}}else{n.attr("transform","translate("+t.markerMarginRight+", 0)")}}}return r};var z=["noFill","solid"];w.prototype._getGroupItemInfo=function(e){var t=this;var i=e.width;var a=e.textHeight;var o=e.markerSize;var n=this._getMarkerWidth(o);var l=this._isScrollable();var s=this.isHorizontal();var u=this._markerMargin;var c=this.runtime().propertyManager();var h=this._properties.get("drawingEffect");var p=this._properties.get("showFullLabel");var d=this._options&&this._options.options?this._options.options.defaultMarkerShape:null;var f=e.eachItemWidth;if(!this.isHorizontal()||!l&&f>i){f=i;if(l){f-=this._scrollThumbSpace}}var v=f-e.miscWidth;if(s){v=Math.min(v,i)}var g=s&&e.length===1&&e.columnCount===2;var m=this.runtime().semanticManager();return e.map(function(y){if(s){if(l&&t._isOverflow){v=y.labelWidth}else if(p){v=Math.min(y.labelWidth,i-o-u.right*a)}if(g){v=Math.min(v,i-e.miscWidth-e.ellipsisWidth)}}var _=0;if(s){if(!l&&p){_=v+n+u.right*a+x}else{var A=f+x-u.right*a;if(t._isOverflow||l){var b=x+y.labelWidth+n+(u.right+u.left/2)*a;if(!l&&A<b){b=A}_=b;if(g){_=Math.min(_,v+e.miscWidth)}}else{_=A}}}else{_=f+x}var S={drawingEffect:h,borderWidth:0,rx:o/2,ry:o/2,direction:"vertical",fillColor:y.color,graphType:y.shape,defaultShape:d,borderColor:"transparent"};S.dpPattern=y.pattern;if(!y.isSemantic){var D=t._getSereisStyle(y.ctx,t._data,m,"dataPoint");if(D&&D.dataPoint){if(D.dataPoint.pattern){var w=D.dataPoint.pattern;var C=m._chartType;if(y.seriesShape==="line"&&z.indexOf(w)===-1||C==="info/area"){w=null}S.patternEffect=S.dpPattern=w}if(D.dataPoint.color){S.fillColor=r.convertColor(D.dataPoint.color)}}}if(S.dpPattern==="noFill"&&!t._noFillSupport){S.patternEffect=S.dpPattern=null}if(S.dpPattern==="noFill"){S.borderColor=c.get("plotArea.background.color");if(!S.borderColor||S.borderColor==="transparent"){S.borderColor=c.get("general.background.color")}S.borderWidth=1;if(c.get("plotArea.dataPoint.stroke.visible")){S.borderColor=c.get("plotArea.dataPoint.stroke.color")}}var T=t.runtime().semanticManager().isUseSemanticPattern();if(T&&y.pattern){S.patternEffect=y.pattern}return{eventLayerWidth:_,shapeOptions:S,expectedWidth:v}})};w.prototype._getSereisStyle=function(e,t,i,a){var r=false;var o=t&&t.valueAxis;if(e&&!e["measureNames"]&&o&&o.metaData&&o.metaData.length===1){e["measureNames"]=o.metaData[0].id;r=true}var n=i.analyzeSeriesStyle(e,a);if(r){delete e["measureNames"]}return n};function L(e){var t=0;e.forEach(function(e){if(e.cls){t++}});return t}w.prototype._createGroupItems=function(e,t){var a=this._labelFont;var r=this._getGroupItemInfo(t);var o=e.selectAll("g."+D).data(t);o.enter().append("g").classed(D+" "+S,true);o.each(function(e){if(!e.cls){d3.select(this).classed(S,true)}else{d3.select(this).classed(e.cls)}});o.exit().remove();o.attr("role","option");o.attr("transform",function(e){return"translate ("+(e.pos.x-x)+","+e.pos.y+")"});o.attr("legendlabel-id",function(e){return e.id});if(this.isSelectable()){var l=this._colorShapeScale.getLength()-L(t);o.attr("aria-posinset",function(e){return e.id+1}).attr("aria-setsize",l)}var s=o.selectAll("rect").data(["rect"]);s.enter().append("rect");s.exit().remove();s.attr("height",function(e,i,a){return n.isArray(t[a].text)?(t[a].line||t[a].text.length)*t.eachRowHeight:t.eachRowHeight}).attr("fill","transparent").attr("width",function(e,t,i){return r[i].eventLayerWidth});this._createShapeItems(o,t,r);var u,c;var h=o.selectAll("text").data(["text"]);h.enter().append("text");h.exit().remove();var p=null;var d=this.runtime().envManager();if(d){p=d.textAnchor()}h.attr("text-anchor",p);var f=this;h.each(function(e,o,l){var s=d3.select(this);if(f._isRTL()){s.attr("transform","translate("+0+", "+t.textY+")")}else{s.attr("transform","translate("+t.textX+", "+t.textY+")")}if(n.isArray(t[l].text)){u=t[l].text.join("");c=t[l].line||t[l].text.length}else if(n.isString(t[l].text)){u=t[l].text;c=1}else{u=String(t[l].text);c=1}var h={};h.isRTL=f._isRTL();h.ellipsisOptions=t.ellipsisOptions;i.drawWrappedText(s,u,[" "],c,f._isRTL()?r[l].eventLayerWidth-x-f._markerSize-t.markerMarginRight:r[l].expectedWidth,t.eachRowHeight,a,h);s.selectAll("tspan").attr("dy","0.85em")});s.each(function(){var e=this.parentNode.getElementsByTagName("text")[0];if(e){while(this.childNodes.length!==0){this.removeChild(this.childNodes[0])}var t=e.getElementsByTagName("title")[0];if(t!==undefined&&t.textContent!==""){e.appendChild(t)}}})};w.prototype._cleanLegendItemsWithLine=function(e){e.selectAll("line").remove();e.selectAll("g").remove()};w.prototype._getBGColor=function(){var e=this.runtime().propertyManager();var t="plotArea.dataPoint.stroke.color";var i="plotArea.dataPoint.stroke.visible";return g.getBgColor(e,e.get(i)?this.BGCOLORPROPS.concat(t):this.BGCOLORPROPS)};w.prototype._createShapeItems=function(e,t,i){var r=this.runtime().effectManager();var o=this.runtime().propertyManager();this._cleanLegendItemsWithLine(e);var n=e.selectAll("path").data(["shape"]);n.enter().append("path");n.exit().remove();var l=this._isRTL();if(!l){n.attr("transform","translate("+t.shapeX+","+t.shapeY+")")}var s=this._getBGColor();n.each(function(e,o,n){var u=i[n].shapeOptions;u.node=this;u.bgColor=s;a.drawGraph(u,r);if(l){this.setAttribute("transform","translate("+(i[n].eventLayerWidth-x-t.markerSize/2)+","+t.shapeY+")")}});n.attr("class","v-legend-marker")};function P(e,t,i){var a=i.querySelector('[legendlabel-id="'+t[e].id+'"]');return a.getBoundingClientRect()}w.prototype._handleOverflow=function(e,t,i){var a=e.selectAll(".v-groups").node();var r=e.selectAll(".v-overflow");if(this._isOverflow===true){var l=t.width;var s=t.height;var u=this._isScrollable();var c=this.isHorizontal();var h=t.textHeight;var p=t.colorMarkerSize;if(r.empty()){r=e.append("g").attr("class","v-overflow")}if(!u){if(!r.selectAll("g").empty()){e.selectAll("defs").remove();e.attr("clip-path",null);r.selectAll("g").remove();r.attr("transform","translate(0, 0)")}if(t.length!==0){var d=e.selectAll(".v-overflow text");if(d.empty()){d=r.append("text").text("...");d.attr("dy","")}a.appendChild(r.node());var f=a.getBoundingClientRect();var v=t[t.length-1];var g=P(t.length-1,t,a);var m=g.left-f.left;var y=v.pos.y;var _,A;var b;if(t.columnCount>1){b=0;var S=this._getMaxNumOfItems();if(S<this._colorShapeScale.getLength()&&t.rowCount>Math.floor(S/t.columnCount)){if(S%t.columnCount===0){_=t.columnCount*v.rowIndex;A=P(_,t,a);m=A.left-f.left;y+=t.eachRowHeight}else{m=g.right-f.left+x}}else{if(t.length>t.columnCount){_=v.rowIndex*t.columnCount-1;A=P(_,t,a);m=A.left-f.left}else{m=g.right-f.left+x}}}else{b=t.textX-x;if(n.isArray(v.text)){y+=t.eachRowHeight*(v.line||v.text.length)}else{y+=t.eachRowHeight}}if(!this._isRTL()){r.attr("transform","translate("+(m-x+b)+","+y+")")}else{if(this._position==="top"||this._position==="bottom"){if(t.columnCount>1){this._overflowOffset=2*d.node().getComputedTextLength()+x+b;r.attr("transform","translate("+(-this._overflowOffset+this._lastRowOffset)+","+y+")")}else{r.attr("transform","translate("+(t.eachItemWidth-2*d.node().getComputedTextLength()-2*x-this._markerSize)+","+y+")")}}else{r.attr("transform","translate("+(t.width-2*d.node().getComputedTextLength()-x-this._markerSize)+","+y+")")}}d.attr("x",this._isRTL()?0:x).attr("y",t.textY).attr("dy","0.85em");var D=null;var w=this.runtime().envManager();if(w){D=w.textAnchor()}d.attr("text-anchor",D)}}else{e.node().appendChild(r.node());if(!r.selectAll("text").empty()){r.selectAll("text").remove()}if(!i){this._scrollBar=undefined}if(this._scrollBar===undefined){this._scrollBar=new o(this.runtime(),{name:"legend.scrollbar",location:"legend"})}if(e.selectAll(".legend-clip-rect").empty()){e.insert("svg:defs",":first-child").append("svg:clipPath").attr("id","legend_"+this._domID).append("rect").attr("class","legend-clip-rect").attr("x",c?0:-5).style("stroke","blue").style("fill","none")}var C=c?l+"px":l+5+"px";var T=c?s-this._pos.y+5+"px":s-this._pos.y+"px";e.selectAll(".legend-clip-rect").attr("width",C).attr("height",T).attr("y",c?-5:0);e.attr("clip-path","url(#"+"legend_"+this._domID+")");var z,L;var k=this._scrollBar._properties;var E=parseFloat(k.get("border.width"))||k.getDefault("border.width");E=E>4?4:E;E=E<0?0:E;if(i){z=this._scrollBar.getThumbPosition();L=this._scrollBar.getThumbRatio()}if(c){this._scrollBar.setTrackSize(l-this._pos.x-2*E);r.attr("transform","translate("+E+", "+t.eachRowHeight+")")}else{this._scrollBar.setTrackSize(s-this._pos.y-2*E);r.attr("transform","translate("+(l-this._scrollThumbSpace-E/2)+", "+""+E+")")}this._scrollBar.getDispatch().on("scroll.legend",this._scroll.bind(this));this._scrollBar.setPosition(this._orientation).setContentSize(this._contentSize).render(r);var I=this._scrollBar.getThumbRatio();if(i&&I!==L){this._scrollBar.setThumbPosition(z/I*L);this._setTranslate()}}}else{if(!r.empty()){e.selectAll("defs").remove();r.remove();this._scrollBar=undefined}e.attr("clip-path",null)}};w.prototype.render=function(e,t){this._parent=e;this._overflowOffset=0;this._lastRowOffset=0;w.superclass.render.apply(this,arguments);if(!this.isVisible()&&!this._isDedicated||!this._colorShapeScale){e.selectAll("g.v-content").remove();return this}var i=this._getAvailableDomain();var a=this._createLegendContent(this._parent,i,t).node();if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._position==="top"||this._position==="bottom")){if(a){var r=a.getBoundingClientRect().width;if(!this._renderedWidth||this._renderedWidth<r){this._renderedWidth=r}if(this._bound){var o=this._bound.getAttribute("width");this._bound.setAttribute("x",0);if(parseFloat(o)>0){this._bound.setAttribute("width",Math.min(o,this._renderedWidth));this._bound.setAttribute("x",-x);if(this._isRTL()){var n=e.select("rect.v-legend-body-bound");n.attr("x",parseFloat(n.attr("x"))+(this._lastRowOffset?0:this._overflowOffset));var l=e.selectAll("g.v-groups");var s=v.getBBox(l.node());l.attr("transform","translate("+(Math.min(o,this._renderedWidth)-s.width+(this._lastRowOffset?0:this._overflowOffset))+", 0)");if(this._properties.get("title.visible")===true){var u=e.select(".viz-legend-title");var c=u.node();u.select("tspan").attr("x",Math.min(o,this._renderedWidth)-c.getBoundingClientRect().width-this._markerSize)}}}}if(!this._isScrollable()||this._isScrollable()&&this._width>this._renderedWidth){this._width=this._renderedWidth}}}this._postRenderer=this._properties.get("postRenderer");if(this._postRenderer){var p={dataModel:this._data,DataSelector:h,domain:i.slice(),effectManager:this.runtime().effectManager(),itemInfo:this._getGroupItemInfo(i)};var d={target:e,x:i.postRenderX,y:i.postRenderY,markerSize:i.markerSize};this._adjustRendererOption(d);this._postRenderer(p,d)}return this};w.prototype._getContentDomain=function(e){var t=this._getWrapText();var i=this._colorShapeScale;var a=this._properties.origin.get("general.hideNoValueLabel");var r;if(this._isScrollable()){r=i.getLength()}else{r=Math.min(i.getLength(),this._getMaxNumOfItems())}var o=[];for(var n=0;n<r;n++){o.push(i.getItem(n))}o=this._sort(o);var l=this._calcDomain(o,a);l.width=e.width;l.height=e.height;l.maxWidth=e.maxWidth||e.width;l.maxHeight=e.maxHeight||e.height;l.wrap=t;l.len=r;this._calcMetaInfo(l);this._calcItemLayout(l);this._calcItemPosition(l);return l};w.prototype._calcDomain=function(e,t){return e.map(function(e,i){e.id=i;var a=this._toValueString(e.data,t);var o=e.color;if(n.isString(o)&&o&&o.indexOf("url")===-1){o=r.convertColor(o)}return{id:i,val:e.data,text:a,ctx:e.context,color:o,cls:e.cls,shape:e.shape,pattern:e.pattern,isSemantic:e.isSemanticItem}},this)};w.prototype._getMarkerWidth=function(e){return e};w.prototype._calcMetaInfo=function(e){var t=this._labelFont;var a=t.fontSize;var r=parseInt(t.fontSize,10);var o=this._markerMargin;var l=this._properties.get("marker.size");l=l&&parseFloat(l);var s=this.isHorizontal();var u=this._isScrollable();var c=o.bottom*r;var h=this._colorLabelSize*r;var p=this._getMarkerWidth(h);var d=(1+o.bottom)*r;var v=(s?o.left+o.right:o.right)*r;if(l&&l>r){c=o.bottom*l;h=l;p=this._getMarkerWidth(h);d=(1+o.bottom)*l}this._markerSize=h;var g=e.maxWidth-v-p;if(u){g-=this._scrollThumbSpace}var m;if(s||u){m=e.length}else{if(!n.isNumeric(e.height)){e.height=d*e.len}m=Math.min(Math.floor(e.height*2/d),e.length)}var y=0;for(var _=0;_<m;_++){var A=e[_].text;var b={width:i.getTextLength(A,f.convertToCss(t))};if(b.width>g&&e.wrap>1){var S=i.wrapText(e[_].text,[" "],g,e.wrap,t);e[_].text=S.lines;b={height:r*S.lines.length,width:S.maxWidth}}e[_].textSize=b;y=Math.max(y,b.width)}if(s){y=Math.min(y,this._maxItemTextWidth)}var D=y+h+v;if(!s&&u){D+=this._scrollThumbSpace}if(!n.isNumeric(e.width)){e.width=D}var w=Math.max(h,r);var C=o.bottom*r/2;var T=h/2+x;var z=w/2+C;var L=h+o.right*r+x;var P=(w-r)/2+C;var k=h/2+x;var E=w/2+C;e.shapeX=T;e.shapeY=z;e.textX=L;e.textY=P;e.postRenderX=k;e.postRenderY=E;e.overallHeight=w;e.maxHeight=e.height-this._pos.y;e.maxTextWidth=y;e.minTextWidth=i.getTextLength("M...",f.convertToCss(t));e.ellipsisWidth=i.getTextLength("...",f.convertToCss(t));e.ellipsisItemWidth=e.ellipsisWidth+x;e.eachRowHeight=d;e.markerSize=h;e.textHeight=r;e.colorMarkerSize=l;e.paddingWidth=v;e.paddingBottom=c;e.miscWidth=h+v;e.eachItemWidth=D;e.availableLabelCount=m;e.maxRowCount=Math.floor(e.maxHeight/e.eachRowHeight);e._intervalLen=0;var I={};var O=this.runtime().envManager();I.reverseDots=O&&O.reverseDots();e.ellipsisOptions=I;e.markerMarginRight=o.right*r;this._cDomain=e;this._getIntervalInfo(e);if(this._maxWidth!==0){e.width=Math.min(this._maxWidth,e.width)}};w.prototype._calcHorizontalFullLegendLayout=function(e){var t=e.length;if(this._getMaxNumOfItems()<this._colorShapeScale.getLength()){t++}var i=t;var a=1;var r,o,n,l,s;var u=[];var c=e.maxRowCount;for(i=1;i<=t;++i){var h=Math.ceil(t/i);a=Math.min(h,c);var p=Math.max(a*i,2);var d=[];for(r=0;r<i;++r){var f=0;for(o=0;o<a;++o){s=o*i+r;if(s!==p-1||p>=e.length){l=e[s];if(l){f=Math.max(f,l.textSize.width)}}}d[r]=f}var v=0;for(o=0;o<i;++o){v+=d[o]+e.miscWidth}if(v<=e.width||i===1){u.push({totalRowCount:h,columnCount:i,rowCount:a,actualCount:p<t?p-1:t,holeCount:t%i&&i-t%i,columnWidths:d})}}u.sort(function(e,t){if(e.actualCount===t.actualCount){if(e.totalRowCount===t.totalRowCount){return e.holeCount-t.holeCount}return e.totalRowCount-t.totalRowCount}return t.actualCount-e.actualCount});var g=u[0];for(r=e.length;r--;){if(r<g.columnCount*g.rowCount){e[r].labelWidth=g.columnWidths[r%g.columnCount]}}return{columnCount:g.columnCount,rowCount:g.rowCount}};w.prototype._calcItemLayout=function(e){var t=e.availableLabelCount;var i=1;var a=t;var r;var o,n;var l=e.eachRowHeight*u.LEGEND.SEMANTIC_ITEMS_INTERVAL;if(this.isHorizontal()){if(this._isScrollable()){i=t;a=1}else{if(this._properties.get("showFullLabel")){var s=this._calcHorizontalFullLegendLayout(e);i=s.columnCount;a=s.rowCount}else{var c;if(this._getMaxNumOfItems()<this._colorShapeScale.getLength()){c=1}else{c=0}i=Math.max(Math.floor(e.width/e.eachItemWidth),1);a=Math.ceil((t+c)/i);if(this._maxRowCount&&a>this._maxRowCount){a=this._maxRowCount}a=Math.min(e.maxRowCount,a);r=Math.min(e.maxTextWidth,this._maxItemTextWidth)}if(i===1&&t>1&&e.eachRowHeight*2>e.height-this._pos.y){i=2}if(this._getMaxNumOfItems()===i&&i!=this._colorShapeScale.getLength()){a=Math.min(e.maxRowCount,2)}}if(a===1&&e._intervalIndex>=0){e._intervalLen=l}}else{if(e._intervalIndex>=0){e._intervalLen=l}}for(o=e.length;o--;){n=e[o];n.labelWidth=n.labelWidth||r||n.textSize&&n.textSize.width;n.itemWidth=n.labelWidth+e.miscWidth}if(this.isHorizontal()&&e.maxRowCount===1&&t>i){var h=e.ellipsisItemWidth;for(o=0;o<i;++o){h+=e[o].itemWidth}if(h<=e.width-this._pos.x){i++}}for(o=e.length;o--;){n=e[o];n.colIndex=o%i;n.rowIndex=Math.floor(o/i)}e.columnCount=i;e.rowCount=a;if(!this._maxRowCount){this._maxRowCount=a}};w.prototype._calcItemPosition=function(e){var t=this._isScrollable();var i=this.isHorizontal();var a=this._colorShapeScale.getLength();var r=e.eachRowHeight;var o=e.columnCount,l=e.rowCount;e.lastRowIdxOffset=o*l-e.length;if(e.lastRowIdxOffset<0){e.lastRowIdxOffset=1}var s=0;var u=0;var c=e.length;var h,p,d;this._isOverflow=Math.min(this._getMaxNumOfItems(),e.length)<this._colorShapeScale.getLength();for(var f=0;f<e.length;f++){var v=e[f];if(i){if(!t){if(v.colIndex===0&&f>0){s=0;u+=r}if(v.colIndex===e.columnCount-1&&(a-f>1&&u+r*2>e.height-this._pos.y||v.colIndex>0&&s+v.itemWidth>e.width-this._pos.x)){this._isOverflow=true;c=f;if(f===0){c=1;v.pos={x:s,y:u}}break}v.pos={x:s,y:u};if(this._isRTL()){if(l>1&&e.lastRowIdxOffset>0&&v.rowIndex===l-1){var g=v.rowIndex-1,m=v.colIndex+e.lastRowIdxOffset;var y=g*o+m;v.pos.x=e[y].pos.x;v.itemWidth=e[y].itemWidth;v.labelWidth=e[y].labelWidth;if(v.colIndex===0){this._lastRowOffset=v.pos.x}}}s+=v.itemWidth;if(e._intervalIndex>=0&&f===e._intervalIndex){s+=e._intervalLen}}else{var _=e.width-this._pos.x;if(s+v.itemWidth>_){this._isOverflow=true}_=e._intervalLen+e.width*this._pageCount-this._pos.x;v.pos={x:s,y:u};s+=v.itemWidth;if(e._intervalIndex>=0&&f===e._intervalIndex){s+=e._intervalLen}if(s>_){c=f+1;break}}}else{var A=e.height-this._pos.y;e.lines=e.lines!==undefined?e.lines:0;p=0;d=n.isArray(v.text)?v.text.length:1;if(e._intervalIndex>=0&&f>e._intervalIndex){p=e._intervalLen}h=Math.floor((A+e.paddingBottom-p)/r);if(n.isArray(v.text)){e.lines+=d}else{e.lines+=1}var b=r*e.lines+p-e.paddingBottom;if(b>A){this._isOverflow=true}if(this._isOverflow){A=t?e.height*this._pageCount-this._pos.y:A-e.textHeight}if(h<=0){c=0;break}if(b>A){if(!t){if(n.isArray(v.text)&&d>1){if(e.lines===h+d){break}var x=h+d-e.lines;if(f!==e.length-1){x=x-1}else{this._isOverflow=false}if(x===0){c=f}else{c=f+1}v.line=x;v.pos={x:0,y:r*(e.lines-d)+p}}else{c=f-1}}else{e.lines=e.lines-1;c=f}break}else{v.pos={x:0,y:r*(e.lines-(n.isArray(v.text)?d:1))+p};if(!t&&e.lines===h&&f!==e.length-1){if(n.isArray(v.text)&&d>1){v.line=d-1;c=f+1}else{c=f}}}}}e.splice(c,e.length-c)};w.prototype._getItemCells=function(e){var t=[];var i,a,r,o=L(e);if(this._isScrollable()){var n=this.isHorizontal();var l=this._colorShapeScale.getLength()-o;var s=n?1:l;var u=n?l:1;for(a=0;a<s;++a){i=[];for(r=0;r<u;++r){i.push({id:n?r:a})}t.push(i)}}else{for(a=0;a<e.length-o;a++){var c=e[a];var h=c.rowIndex;var p=c.colIndex;i=t[h]=t[h]||[];i[p]={id:c.id}}}return t};w.prototype._getContentSize=function(e){var t=0;if(this._isScrollable()){if(this.isHorizontal()){var i=e[e.length-1];t=i.pos.x+i.itemWidth}else{t=e.eachRowHeight*e.lines+e._intervalLen}}return t};w.prototype._getAvailableDomain=function(){var e=this._getContentDomain({height:this._height,width:this._width});this._cells=this._getItemCells(e);this._contentSize=this._getContentSize(e);return e};w.prototype._getIntervalInfo=function(e){e._intervalLen=0;e._intervalIndex=-1;var t=[];if(this._colorShapeScale.items){t=this._colorShapeScale.items()}if(!this.getOrderByFunc()&&t.length>1){for(var i=0;i<t.length;++i){if(!t[i].isSemanticItem){e._intervalIndex=i-1;break}}}};w.prototype.getOffset=function(){return{x:this._offset.x,y:this._offset.y}};w.prototype.getActiveLevels=function(){return this._cells};w.prototype._getMaxNumOfItems=function(){var e=this._properties.get("maxNumOfItems");var t=parseInt(e);if(e==null){t=Number.POSITIVE_INFINITY}else{if(t.toString()!==e.toString()){t=Number.POSITIVE_INFINITY}else if(isNaN(t)){t=Number.POSITIVE_INFINITY}else if(t<1){t=Number.POSITIVE_INFINITY}else{t=Math.floor(t)}}return t};w.prototype._getBodyPreferredSize=function(e){var t=0;var i=0;var a=0;var r=0;var o;var n=this._isScrollable();var l=this.isHorizontal();this._maxWidth=0;this._setupThemeStyleDef();var s=this._colorShapeScale.getLength();this._maxRowCount=0;if(s>0){var c=this._markerMargin;o=this._getContentDomain(e);var h=o.lines;h=Math.min(h,this._getMaxNumOfItems());var p=o.eachRowHeight;a=Math.min(o.minTextWidth,o.maxTextWidth)+o.miscWidth;if(l){i=e.width;if(n){t=p+this._scrollThumbSpace;r=t}else{t=o.rowCount*p;r=p}}else{i=o.eachItemWidth;if(n){a+=this._scrollThumbSpace}if(!n&&h<s){h++}t=p*h+o._intervalLen;r=p+(s>1?o.textHeight:0)}}if(n&&this._getMaxNumOfItems()<this._colorShapeScale.getLength()){var d=0;if(this._getMaxNumOfItems()-1>o._intervalIndex&&o._intervalIndex>-1){d=o.eachRowHeight*u.LEGEND.SEMANTIC_ITEMS_INTERVAL}if(l){var f=0;var v=Math.min(this._getMaxNumOfItems(),o.length);for(var g=0;g<v;++g){var m=o[g].textSize.width+o.markerSize+o.paddingWidth;f+=m}i=f+d;this._maxWidth=i;if(i<a){a=i}}else{t=this._getMaxNumOfItems()*o.eachRowHeight+d;if(t<r){r=t}}}return{maxWidth:i,maxHeight:t,minWidth:a,minHeight:r}};w.prototype._sort=function(e){var t=this.getOrderByFunc();return t?e.sort(t):e};w.prototype.getOrderByFunc=function(){var e=this._properties.get("order");if(typeof e==="function"){var t=this._toValueString.bind(this);return function(i,a){return e(t(i.data),t(a.data))}}return undefined};w.prototype._shouldInitColorShapeScale=function(){return!this._colorShapeScale&&this._colorScale};w.prototype._initColorShapeScale=function(){if(this._shouldInitColorShapeScale()){var e=this._buildColorShapeScale(this._colorScale);this._colorShapeScale=e;this.setBindingFields(e.getBindingFields());if(this._properties&&this._properties.parentLevel&&this._properties.parentLevel.get("plotArea.trendLine")){e._items=e._items.concat(this._ColorShapeItemHooks(this,e._items))}}};w.prototype._buildColorShapeScale=function(e){var t=this.runtime().semanticManager();var i=this.runtime().markManager();var a=this._getLegendMarkerShape();if(!a&&i.getMode()==="single"){a=i.getShape()}var r=this._properties.get("ignoreNoValue");if(a&&!i.locked()){i.setShape(a)}var o=new d(i);this._hasOnlyOneMeasure=false;if(t.hasDataPointColorStyle()||t.hasDataPointLineStyle()){o.setSemanticColorScale(t.getDataPointColorScale())}if(!t.isOverrideMode()||!t.hasDataPointColorStyle()&&!t.hasDataPointLineStyle()){for(var n=0;n<e.length;n++){o.addColorScale(e[n])}}if(this._shapeScale!==null){o.setShapeScale(this._shapeScale)}o.merge(a,r,this._data);return o};w.prototype._getLegendMarkerShape=function(){var e=this._properties.get("marker.shape")||this._properties.origin.get("plotArea.marker.shape");if(u.LEGEND_MARKER_SHAPE.indexOf(e)===-1){e=this._properties.getDefault("marker.shape")||this._properties.origin.getDefault("plotArea.marker.shape")}return e};w.prototype._setupThemeStyleDef=function(){w.superclass._setupThemeStyleDef.apply(this,arguments);var e=this._properties;this._markerMargin.bottom=p.getPositiveNumber(e.get("itemMargin"),this._defaultItemMargin);var t=this._labelFont;e=e.proxy("label.style");t.color=e.get("color");t.fontFamily=e.get("fontFamily");t.fontSize=parseFloat(e.get("fontSize"))+"px";t.fontWeight=e.get("fontWeight");t.fontStyle=e.get("fontStyle")};w.prototype._isScrollable=function(){return this._properties.get("isScrollable")&&!this._properties.origin.get("interaction.noninteractiveMode")};w.prototype.setBindingFields=function(e){w.superclass.setBindingFields.apply(this,arguments);this._displayTextsConverter=c.getDisplayTextsConverter(this._bindingFields,this._mndIndex);return this};w.prototype.destroy=function(){w.superclass.destroy.apply(this,arguments);this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._displayTextsConverter=null;this._properties=null;this._colorLabelSize=null;this._markerMargin=null;this._maxItemsNum=null;this._maxItemTextWidth=null;if(this._scrollBar){this._scrollBar.destroy()}this._scrollBar=null;this._hasOnlyOneMeasure=null;this._labelFont=null;this._type=null;this._scrollThumbSpace=null;this._contentSize=null;this._pageCount=null;this._domID=null;this._isOverflow=null;this._cDomain=null;this.BGCOLORPROPS=null};w.prototype._toValueString=function(e,t){var i=e;if(n.isArray(e)){if(t===true){i=this._displayTextsConverter(e,true).filter(function(e){return e!==undefined})}else{i=this._displayTextsConverter(e)}i=i.join(" / ")}if(e&&e.callback&&typeof e.callback==="function"){return e.callback(i)}return i};w.prototype.hasData=function(){this._initColorShapeScale();return this._colorShapeScale&&this._colorShapeScale.getLength()>0};w.prototype.statusChanged=function(e){if(e===m.LOCALE_CHANGED){this._colorShapeScale=null}};y.register(A.COLORLEGEND_NAVIGATOR,null,_);w.prototype._ColorShapeItemHooks=b;return w});define("sap/viz/chart/components/container/UIContainer",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils"],function(e,t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments);this._renderType=t&&t.renderType!=null?t.renderType:null;this._children={};this._layoutAlgorithm=null;this._layoutResult=null;this._selections=null};t.extend(o,i);o.prototype.setLayoutAlgorithm=function(e){this._layoutAlgorithm=e;return this};o.prototype.addAutoLayoutProperties=function(e){var t=this._properties;var i=this;[{name:"autoWidth",key:"width"},{name:"autoHeight",key:"height"}].forEach(function(a){var r=e+".layout."+a.name;t.origin.add(r,{defaultValue:0,readonly:true,serializable:false,get:function(){var t=i._layoutResult;if(t){var r=t[e];if(r&&r[a.key]){return r[a.key]}}return 0}})})};o.prototype.setChild=function(e,t,a){if(e&&t instanceof i){t.alias=e;var r=this._children[e]=this._children[e]||{};r.module=t;r.option=a||{};if(t.supportFixedLayout===true){this.addAutoLayoutProperties(e)}}return this};o.prototype.getChild=function(e){if(e&&this._children&&this._children[e]){return this._children[e]}return null};o.prototype._configLayout=function(){};o.prototype._postLayout=function(e){};o.prototype.layout=function(e){var t=this._configLayout(e);e=e||{};e.isRTL=this._isRTL();if(this._layoutAlgorithm&&this._layoutAlgorithm.layout){this._layoutAlgorithm.config.add({isFixedPadding:this._properties.origin.get("general.layout.isFixedPadding")});this._layoutResult=this._layoutAlgorithm.layout(t||this._children,e);this._postLayout(this._layoutResult);return this._layoutResult}return{}};o.prototype._initRenderBase=function(e){if(this._selections==null){this._selections={}}var t=e.node();for(var i in this._children){if(this._children.hasOwnProperty(i)){if(this._selections[i]!=null){continue}var o=this._children[i].module.renderTo();if(o.toLowerCase()==="div"||o==="BorderDIVFlow"){if(t.tagName.toLowerCase()!=="div"){r.error(a.getLogMessage("IDS_ERROR_NODE_DIV_IN_SVG"))}this._selections[i]=e.append("div").attr("class","v-m-"+i).style("height","100%").style("width","100%")}else{if(t.tagName.toLowerCase()==="div"){this._selections[i]=e.append("svg").style({position:"absolute",width:"100%",height:"100%"}).append("g").attr("class","v-m-"+i)}else{this._selections[i]=e.append("g").attr("class","v-m-"+i)}}}}};o.prototype.supportExportToContentType=function(e){var t=this._children.length;for(var i=0;i<t;i++){if(this._children.supportExportToContentType){return this._children.supportExportToContentType(e)}}};o.prototype.exportContent=function(e){var t=this._children.length;for(var i=0;i<t;i++){if(this._children.exportContent){return this._children.exportContent(e)}}};o.prototype.clearSize=function(e){if(!e){this._size.height=0;this._size.width=0}for(var t in this._children){if(this._children.hasOwnProperty(t)){var i=this._children[t].module;if(i&&i.clearSize){i.clearSize()}}}return this};o.prototype.destroy=function(){o.superclass.destroy.call(this);var e;for(e in this._selections){if(this._selections.hasOwnProperty(e)&&this._selections[e]){this._selections[e].remove()}}for(e in this._children){if(this._children.hasOwnProperty(e)){if(this._children[e]==null){continue}var t=this._children[e].module;if(t&&t.destroy){t.destroy()}this._children[e]=null}}this._selections=null;this._renderType=null;this._children=null;if(this._layoutAlgorithm&&this._layoutAlgorithm.destroy){this._layoutAlgorithm.destroy()}this._layoutAlgorithm=null};o.prototype.calculatePaddingInPX=function(t,i,a){var r,o;var n,l;var s,u;var c=Math.min(i,a);r=e.PADDING.DEFAULT;if(r<1&&r>0){r=r*c}o=t.get("general.layout.padding");if(o<1&&o>0){o=o*c}n=t.get("general.layout.paddingTop");if(n<1&&n>0){n=n*c}l=t.get("general.layout.paddingRight");if(l<1&&l>0){l=l*c}s=t.get("general.layout.paddingBottom");if(s<1&&s>0){s=s*c}u=t.get("general.layout.paddingLeft");if(u<1&&u>0){u=u*c}return{constantPaddingInPX:r,propertyPaddingInPX:o,propertyPaddingTopInPX:n,propertyPaddingRightInPX:l,propertyPaddingBottomInPX:s,propertyPaddingLeftInPX:u}};o.prototype.statusChanged=function(e){for(var t in this._children){if(this._children.hasOwnProperty(t)){if(this._children[t].module.statusChanged){this._children[t].module.statusChanged(e)}}}};return o});define("sap/viz/chart/layout/LegendLayout",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/BaseLayout"],function(e,t,i){function a(){a.superclass.constructor.apply(this,arguments);this.config.add({position:"",spacing:12,legendPreferSizes:null})}e.extend(a,i);a.prototype.layout=function(e){var i={},a=false,o=this.config,n=o.get("totalWidth"),l=o.get("totalHeight"),s=o.get("legendPreferSizes"),u=o.get("position"),c=o.get("spacing"),h=t.isHorizontal(u),p=this._dictToArray(e),d=r(p,n,l,s,h);var f=0,v,g=d.availableSize,m=d.referenceSize,y=d.referenceMinSizes,_=d.maxSizes,A=d.minSizes;if(d3.sum(_)<=g){a=true}for(var b=0,x=p.length;b<x;b++){var S=p[b].module;var D={x:0,y:0};var w=_[b];var C=A[b];if(h){D.x=f}else{D.y=f}if(a&&y[b]<m){f=f+w;v=w}else{if(g<C||y[b]>m){D.width=D.height=0;i[S.alias]=D;continue}else if(g>w){f=f+w;v=w;g=g-w-c}else{f=f+g;v=g;g=0}}if(h){D.width=v;D.height=l}else{D.width=n;D.height=v}f+=c;i[S.alias]=D}return i};function r(e,t,i,a,r){var o,n,l=[],s=[],u=[];if(r){o=t;n=i;e.forEach(function(e){var t=a[e.module.alias];l.push(t.maxWidth);s.push(t.minWidth);u.push(t.minHeight)})}else{o=i;n=t;e.forEach(function(e){var t=a[e.module.alias];l.push(t.maxHeight);s.push(t.minHeight);u.push(t.minWidth)})}return{availableSize:o,referenceSize:n,maxSizes:l,minSizes:s,referenceMinSizes:u}}return a});define("sap/viz/chart/components/legend/LegendGroup",["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/LegendLayout","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o,n,l,s){var u=function(e,t){u.superclass.constructor.apply(this,arguments);var i=this;this._subSelection={};this._position=null;this._defaultPosition=null;this._legendPreferSizes=null;this.setLayoutAlgorithm(new o);this._isDedicated=false;this._maxSize={width:0,height:0};this._height=0;this._width=0;this._spacing=12;var a=this._properties;["height","width"].forEach(function(e){var t={set:function(e,t){if(e===null||parseFloat(e)>=0){return e}else{return t.value}}};a.add("layout."+e,t)});a.add("visible",{get:function(e,t){var a=i._children;for(var r in a){if(a.hasOwnProperty(r)){var o=a[r].module;if(o.visible()){return true}}}return false}});this.runtime().statusManager().add("legendGroup.isHorizontal")};e.extend(u,t);var c=["right","left","top","bottom","auto"];u.prototype.getPosition=function(){var e="layout.position",t=this._defaultPosition||this._position||this._properties.get(e);return c.indexOf(t)!==-1?t:this._properties.getDefault(e)};u.prototype.setPosition=function(e){this._position=e};u.prototype.setDefaultPosition=function(e){this._defaultPosition=e};u.prototype.visible=function(){var e=this._children;for(var t in e){if(e.hasOwnProperty(t)){var i=e[t].module;if(i.visible()){return true}}}return false};u.prototype._isPropVisible=function(){var e=this._children;for(var t in e){if(e.hasOwnProperty(t)){var i=e[t].module;if(i.properties("visible")){return true}}}return false};u.prototype.isVisible=function(){var e=this._children;for(var t in e){if(e.hasOwnProperty(t)){var i=e[t].module;if(i.isVisible()){return true}}}return false};u.prototype._configLayout=function(){var e={};if(this._isPropVisible()){var t=this._children;var i;if(this._isDedicated){i={width:this._maxSize.width,height:this._maxSize.height+this._spacing}}else{i={height:this._height,width:this._width}}for(var a in t){if(t.hasOwnProperty(a)){var r=t[a];var o=r.module;if(o.visible()||this._isDedicated){e[a]=r}}}this._layoutAlgorithm.config.set({totalWidth:i.width,totalHeight:i.height,position:this.getPosition()||this._properties.get("layout.position"),spacing:this._spacing,legendPreferSizes:this._legendPreferSizes})}return e};u.prototype._postLayout=function(){var e=this._layoutResult;for(var t in e){if(e.hasOwnProperty(t)){var i=this._children[t].module;var a=e[t];if(a){i.width(a.width).height(a.height)}}}};function h(e,t){if(e===undefined||e===null||i.isFunction(e)&&!e()){return t}var a=d3.select(e());if(a.empty()){return t}return a}u.prototype.render=function(e){var t=this._properties.get("renderTo");e=h(t,e);e.select(".v-m-highlight").remove();e.attr("role","listbox");var i=this._isDedicated?d3.select(t()):undefined;var a=this._children;var r=null;if(this._isPropVisible()){r=this.layout()}var o=[];var n=0;for(var l in a){if(a.hasOwnProperty(l)){var s=a[l].module;var u=null;if(i&&!i.empty()){u=i.selectAll(".v-m-"+l);if(u.empty()){u=i.append("g").attr("class","v-m-"+l)}e.selectAll(".v-m-"+l).selectAll("*").remove()}else{if(this._subSelection[l]){u=e.selectAll(".v-m-"+l)}else{this._subSelection[l]=e.append("g").attr("class","v-m-"+l);u=this._subSelection[l]}}if(this._isDedicated&&i){var c=s.height();i.attr("height",c).attr("width",this._maxSize.width)}s.render(u);if(!s.visible()){continue}if(r&&r[l]&&r[l].x!==undefined&&r[l].y!==undefined){u.attr("transform","translate("+r[l].x+","+r[l].y+")")}if(this._properties.get("layout.alignment")==="center"&&(this._properties.get("layout.position")==="top"||this._properties.get("layout.position")==="bottom")){if(s._width<r[l].width){n+=(r[l].width-s._width)/2}var p={};p.wrapper=u;p.layoutInfo=r[l];o.push(p)}}}for(var d=0;d<o.length;d++){var f=o[d];var v=f.layoutInfo;f.wrapper.attr("transform","translate("+(v.x+n)+","+v.y+")")}this._properties.setDefault("computedVisibility",this.isVisible(),true)};u.prototype.setSize=function(e){var t=this._children;this._height=e.height;this._width=e.width;for(var i in t){if(t.hasOwnProperty(i)){var a=t[i].module;if(a.visible()){a.setSize({height:e.height,width:e.width})}}}return this};u.prototype.resetPreviousLimit=function(e){if(this._width&&(this._position==="left"||this._position==="right")){e.width=this._width;e.minWidth=this._width;e.maxWidth=this._width}else if(this._height&&(this._position==="top"||this._position==="bottom")){e.height=this._height;e.minHeight=this._height;e.maxHeight=this._height}};u.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var t;if(e&&e.getPaginationOptions){t=e.getPaginationOptions()}return t};u.prototype.getPreferredSize=function(e,t,a,r){var o={width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0};if(!this._isPropVisible()){return o}var u=this._properties;var c=!t&&this._properties.origin.get("legendGroup.forceToShow");var h=e.maxHeight=l.getSizeValue(u.get("layout.maxHeight"),e.height);var p=e.maxWidth=e.maxWidth||l.getSizeValue(u.get("layout.maxWidth"),e.width);var d=u.get("layout.position");var f=[],v=[],g=[],m=[];var y=this._children;var _=0;var A=0;this._legendPreferSizes={};var b=u.get("renderTo");if(b!==undefined&&b!==null&&i.isFunction(b)&&b()){this._isDedicated=true}else{this._isDedicated=false}for(var x in y){if(y.hasOwnProperty(x)){var S=y[x].module;S.setDedicated(this._isDedicated);S.setPosition(this.getPosition());if(S.visible()||this._isDedicated){if(this._isDedicated){S.setOrientation("right")}else{S.setOrientation(this.getPosition()||d)}var D=S.getPreferredSize(e);this._legendPreferSizes[x]=D;if(!this._isDedicated&&!c){if(S.isHorizontal()){if(D.minHeight>h||D.minWidth>e.width){continue}}else{if(D.minWidth>p||D.minHeight>e.height){continue}}}f.push(D.minWidth);g.push(D.minHeight);v.push(D.maxWidth);m.push(D.maxHeight)}}}var w;if(c){w={width:d3.max(f),height:d3.max(g)}}else{w={width:d3.min(f),height:d3.min(g)}}var C={width:d3.max(v),height:d3.max(m)};if(w.width>0||w.height>0||C.width>0||C.height>0){if(this.isHorizontal()){A=e.maxHeight>C.height?C.height:e.maxHeight;_=C.width;this._maxSize.width=d3.sum(v);this._maxSize.height=C.height}else{_=e.maxWidth>C.width?C.width:e.maxWidth;A=C.height;this._maxSize.height=d3.sum(m);this._maxSize.width=C.width}}if(!this._isDedicated){if(c){if(_<w.width){_=w.width}if(A<w.height){A=w.height}}o={width:_,height:A,minWidth:w.width,maxWidth:C.width,minHeight:w.height,maxHeight:C.height};if(this._isRTL()||this._properties.get("layout.alignment")==="center"){o.maxSize=s.clone(this._maxSize)}}var T=r.pagination;if(r.dataChanged&&T&&T.mode===n.PAGINATION_MODE.UPDATE||!r.isSizeChanged&&r.propertiesChanged===false&&T&&T.mode===n.PAGINATION_MODE.UPDATE&&!a){this.resetPreviousLimit(o)}return o};u.prototype.isHorizontal=function(){var e=this.getPosition();if(!e){e=this._properties.get("layout.position")}var t=r.isHorizontal(e);this.runtime().statusManager().set("legendGroup.isHorizontal",t);return t};u.prototype.setData=function(){var e=this._children;for(var t in e){if(e.hasOwnProperty(t)){var i=e[t].module;i.setData.apply(i,arguments)}}};u.prototype.destroy=function(){u.superclass.destroy.call(this);this.clear();this._position=null;this._subSelection=null;this._legendPreferSizes=null;this._isDedicated=null;this._maxSize=null;this._height=null;this._width=null};u.prototype.clear=function(){for(var e in this._subSelection){if(this._subSelection.hasOwnProperty(e)&&this._subSelection[e]){this._subSelection[e].remove();this._subSelection[e]=null}}};u.prototype.supportFixedLayout=true;return u});define("propertyDefs",[],function(){return{"":{"general.accDescription":null,"general.background.border.bottom.visible":false,"general.background.border.left.visible":false,"general.background.border.right.visible":false,"general.background.border.stroke":"#d8d8d8","general.background.border.strokeWidth":1,"general.background.border.top.visible":false,"general.background.color":"transparent","general.background.drawingEffect":"normal","general.background.gradientDirection":"vertical","general.background.visible":true,"general.layout.isFixedPadding":false,"general.layout.padding":24,"general.layout.paddingBottom":null,"general.layout.paddingLeft":null,"general.layout.paddingRight":null,"general.layout.paddingTop":null,"general.tabIndex":0,"legend.drawingEffect":"normal","legend.isScrollable":false,"legend.itemMargin":.5,"legend.label.style.color":"#000000","legend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","legend.label.style.fontSize":"12px","legend.label.style.fontStyle":"normal","legend.label.style.fontWeight":"normal","legend.marker.size":null,"legend.postRenderer":null,"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legend.title.style.color":"#000000","legend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","legend.title.style.fontSize":"14px","legend.title.style.fontStyle":"normal","legend.title.style.fontWeight":"bold","legend.title.text":null,"legend.title.visible":false,"legend.visible":true,"legendGroup.computedVisibility":{defaultValue:true,readonly:true,serializable:false},"legendGroup.forceToShow":false,"legendGroup.layout.alignment":"topLeft","legendGroup.layout.height":null,"legendGroup.layout.maxHeight":.25,"legendGroup.layout.maxWidth":.25,"legendGroup.layout.position":"right","legendGroup.layout.width":null,"legendGroup.linesOfWrap":1,"legendGroup.renderTo":{defaultValue:null,serializable:false},"plotArea.dataPoint.stroke.color":"#000000","plotArea.dataPoint.stroke.visible":false,"title.alignment":"center","title.layout.height":null,"title.layout.maxHeight":.2,"title.layout.respectPlotPosition":true,"title.style.color":"#333333","title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","title.style.fontSize":"16px","title.style.fontStyle":"normal","title.style.fontWeight":"bold","title.text":null,"title.visible":false,"tooltip.background.borderColor":"#cccccc","tooltip.background.color":"#ffffff","tooltip.bodyDimensionLabel.color":"#666666","tooltip.bodyDimensionValue.color":"#666666","tooltip.bodyMeasureLabel.color":"#666666","tooltip.bodyMeasureValue.color":"#000000","tooltip.closeButton.backgroundColor":"#ffffff","tooltip.closeButton.borderColor":"#cccccc","tooltip.footerLabel.color":"#000000","tooltip.formatString":null,"tooltip.layinChart":true,"tooltip.postRender":null,"tooltip.preRender":{defaultValue:null,serializable:false},"tooltip.separationLine.color":"#a7a9ac","tooltip.showFullText":{access:"internal",defaultValue:false},"tooltip.unitFormatType":"FinancialUnits","tooltip.visible":true},_bullet:{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.ignoreNoValue":false,"legend.label.text.target":null,"legend.maxNumOfItems":null,"legend.order":{defaultValue:null,serializable:false},"legendGroup.layout.respectPlotPosition":true,"plotArea.actualColor":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E"],"plotArea.additionalColor":["#A7BFE5","#CFF9AA","#FFFF91","#FFE0AC","#FF9DAF","#BBA6D5","#6DC8E6","#E9FF7C","#FFFF9F","#FFAC8B","#D983B7","#3396E4","#40DB74","#FFEA50","#FF8953","#E560A1","#6F69C1"],"plotArea.background.border.bottom.visible":false,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":false,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":false,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.dataPoint.stroke.color":"#ffffff","plotArea.dataPoint.stroke.visible":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":false,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":{access:"internal",defaultValue:null},"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.target.shadowColor":"","plotArea.target.valueColor":"#333333","plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},_dual:{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryValuesColorPalette":{defaultValue:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.secondaryValuesColorPalette":{defaultValue:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"],serializable:false},"plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#8FBADD","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":true,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true,"valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#F6A09B","valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis2.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":.25,"valueAxis2.layout.maxWidth":.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":true,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},_pie:{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(0%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":false,"interaction.selected.stroke.width":"1px","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"plotArea.alignment.vertical":{access:"internal",defaultValue:"top"},"plotArea.background.border.bottom.visible":false,"plotArea.background.border.left.visible":false,"plotArea.background.border.right.visible":false,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":false,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.distance":.1,"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.line.color":"#a8a8a8","plotArea.dataLabel.line.visible":true,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"colorAndPercentage","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.highlight.contextInfos":[],"plotArea.markerRenderer":null,"plotArea.radius":.38,propertyZone:{defaultValue:null,readonly:true,serializable:false},"tooltip.bodyMeasureValue.type":"value"},_scatter:{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.adjustScale":false,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorDepth":1,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.opacity":.8,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.shapeDepth":1,"plotArea.shapePalette":{defaultValue:["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],serializable:false},"plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},_trellis:{},_xy:{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},_xySimple:{},"info/100_area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.areaRenderer":null,"plotArea.areaStyle":{access:"internal",defaultValue:null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"value","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"tooltip.bodyMeasureValue.type":"percentage","valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/100_dual_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_dual_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_horizontal_area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.areaRenderer":null,"plotArea.areaStyle":{access:"internal",defaultValue:null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"value","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"tooltip.bodyMeasureValue.type":"percentage","valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/100_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"tooltip.bodyMeasureValue.type":"percentage"},"info/DEFAULT":{"legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false}},"info/area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.area.stroke.color":"#000000","plotArea.area.stroke.visible":false,"plotArea.areaRenderer":null,"plotArea.areaStyle":{access:"internal",defaultValue:null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.position":"outsideFirst","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true},"info/bubble":{"plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.showNegativeValues":true,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits","valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.allowDecimals":true,"valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis2.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":.25,"valueAxis2.layout.maxWidth":.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/bullet":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.label.text.negativeGap":null,"legend.label.text.positiveGap":null,"plotArea.forecastColor":["#D5DADC"],"plotArea.gap.negativeColor":"#e34352","plotArea.gap.positiveColor":"#87c27e","plotArea.gap.type":"both","plotArea.gap.visible":false,"valueAxis.layout.position":"top"},"info/column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true},"info/combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"valueAxis.label.allowDecimals":true},"info/donut":{"plotArea.highlight.centerName.style.color":null,"plotArea.highlight.centerName.style.fontFamily":"Arial, Helvetica, sans-serif","plotArea.highlight.centerName.style.fontSize":"14px","plotArea.highlight.centerName.style.fontStyle":"normal","plotArea.highlight.centerName.style.fontWeight":"normal","plotArea.highlight.centerName.visible":true,"plotArea.highlight.centerValue.style.color":null,"plotArea.highlight.centerValue.style.fontFamily":"Arial, Helvetica, sans-serif","plotArea.highlight.centerValue.style.fontSize":"22px","plotArea.highlight.centerValue.style.fontStyle":"normal","plotArea.highlight.centerValue.style.fontWeight":"normal","plotArea.highlight.centerValue.visible":true,"plotArea.highlight.highlightContext":[],"plotArea.highlight.unhighlightSliceColor":"#dddddd","plotArea.innerRadiusRatio":.5},"info/dual_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.position":"outsideFirst","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["line","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_horizontal_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["line","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_horizontal_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_line":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.showLine":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":{access:"internal",defaultValue:null},"plotArea.lineVisible":true,"plotArea.marker.displayMode":"manual","plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"plotArea.width":2,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_timeseries_combination":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/heatmap":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"categoryAxis2.axisLine.size":1,"categoryAxis2.axisLine.visible":true,"categoryAxis2.axisTick.shortTickVisible":null,"categoryAxis2.axisTick.visible":true,"categoryAxis2.color":"#6c6c6c","categoryAxis2.hoverShadow.color":"#cccccc","categoryAxis2.label.alignment":"top","categoryAxis2.label.hideSubLevels":false,"categoryAxis2.label.parentStyle.color":null,"categoryAxis2.label.parentStyle.fontFamily":null,"categoryAxis2.label.parentStyle.fontSize":null,"categoryAxis2.label.parentStyle.fontStyle":null,"categoryAxis2.label.parentStyle.fontWeight":null,"categoryAxis2.label.style.color":"#333333","categoryAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis2.label.style.fontSize":"12px","categoryAxis2.label.style.fontStyle":"normal","categoryAxis2.label.style.fontWeight":"normal","categoryAxis2.label.visible":true,"categoryAxis2.labelRenderer":null,"categoryAxis2.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis2.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis2.layout.height":null,"categoryAxis2.layout.maxHeight":.3,"categoryAxis2.layout.maxWidth":.3,"categoryAxis2.layout.width":null,"categoryAxis2.mouseDownShadow.color":"#808080","categoryAxis2.title.applyAxislineColor":false,"categoryAxis2.title.style.color":"#000000","categoryAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis2.title.style.fontSize":"14px","categoryAxis2.title.style.fontStyle":"normal","categoryAxis2.title.style.fontWeight":"bold","categoryAxis2.title.style.letterSpacing":null,"categoryAxis2.title.text":null,"categoryAxis2.title.visible":false,"categoryAxis2.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.formatString":null,"legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.marker.shape":"squareWithRadius","legend.mouseDownShadow.color":"#e8eff6","legend.onlyShowStartEndLabel":{access:"internal",defaultValue:false},"legend.selectionFeedback":false,"legend.unitFormatType":"FinancialUnits","legendGroup.layout.respectPlotPosition":true,"plotArea.autoLegendValues":{access:"internal",defaultValue:[],readonly:true,serializable:false},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.border.visible":true,"plotArea.colorPalette":{defaultValue:[],serializable:false},"plotArea.dataLabel.formatString":"0.0","plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"white","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.defaultOthersStyle.color":"#000000","plotArea.dimensionLabel.renderer":null,"plotArea.dimensionLabel.style.color":null,"plotArea.dimensionLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dimensionLabel.style.fontSize":"12px","plotArea.dimensionLabel.style.fontStyle":"normal","plotArea.dimensionLabel.style.fontWeight":"normal","plotArea.dimensionLabel.visible":true,"plotArea.endColor":{defaultValue:"#73C03C",serializable:false},"plotArea.legendValues":{defaultValue:[],serializable:false},"plotArea.nullColor":{access:"internal",defaultValue:"#e0e0e0"},"plotArea.startColor":"#C2E3A9",propertyZone:{defaultValue:null,readonly:true,serializable:false}},"info/horizontal_area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.areaRenderer":null,"plotArea.areaStyle":{access:"internal",defaultValue:null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/horizontal_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"valueAxis.label.allowDecimals":true},"info/horizontal_waterfall":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":null,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"horizontal","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPoint.color.total":"#848f94","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"solid","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/line":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.showLine":false,"plotArea.adjustScale":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.isFixedDataPointSize":false,"plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":{access:"internal",defaultValue:null},"plotArea.lineVisible":true,"plotArea.marker.displayMode":"manual","plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"plotArea.width":2,"valueAxis.label.allowDecimals":true,"valueAxis.layout.direction":"bottomUp"},"info/pie":{},"info/radar":{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.area.color":null,"interaction.deselected.area.opacity":.12,"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.area.color":null,"interaction.selected.area.opacity":.4,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.area.opacity":.3,"plotArea.area.visible":false,"plotArea.areaStyle":{access:"internal",defaultValue:null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"darken(20%)","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.visible":true,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.lineStyle":{access:"internal",defaultValue:null},"plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.polarAxis.axisLine.size":1,"plotArea.polarAxis.axisLine.visible":true,"plotArea.polarAxis.color":"#999999","plotArea.polarAxis.hoverShadow.color":"#cccccc","plotArea.polarAxis.label.style.color":"#666666","plotArea.polarAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.polarAxis.label.style.fontSize":"12px","plotArea.polarAxis.label.style.fontStyle":"normal","plotArea.polarAxis.label.style.fontWeight":"normal","plotArea.polarAxis.label.visible":true,"plotArea.polarAxis.labelRenderer":null,"plotArea.polarAxis.mouseDownShadow.color":"#808080","plotArea.polarAxis.title.style.color":"#000000","plotArea.polarAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.polarAxis.title.style.fontSize":"14px","plotArea.polarAxis.title.style.fontStyle":"normal","plotArea.polarAxis.title.style.fontWeight":"bold","plotArea.polarAxis.title.style.letterSpacing":null,"plotArea.polarAxis.title.text":null,"plotArea.polarAxis.title.visible":false,"plotArea.polarAxis.visible":true,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.seriesStyle":null,"plotArea.valueAxis.label.allowDecimals":true,"plotArea.valueAxis.label.formatString":null,"plotArea.valueAxis.label.style.color":"#333333","plotArea.valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.valueAxis.label.style.fontSize":"12px","plotArea.valueAxis.label.style.fontStyle":"normal","plotArea.valueAxis.label.style.fontWeight":"normal","plotArea.valueAxis.label.unitFormatType":"FinancialUnits","plotArea.valueAxis.label.visible":true,"plotArea.valueAxis.title.style.color":"#000000","plotArea.valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.valueAxis.title.style.fontSize":"14px","plotArea.valueAxis.title.style.fontStyle":"normal","plotArea.valueAxis.title.style.fontWeight":"bold","plotArea.valueAxis.title.style.letterSpacing":null,"plotArea.valueAxis.title.text":null,"plotArea.valueAxis.title.visible":false,"plotArea.valueAxis.visible":true,propertyZone:{defaultValue:null,readonly:true,serializable:false}},"info/scatter":{"plotArea.markerSize":10,"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits","valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.allowDecimals":true,"valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis2.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":.25,"valueAxis2.layout.maxWidth":.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"valueAxis.label.allowDecimals":true},"info/stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.series":null,"valueAxis.label.allowDecimals":true},"info/stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"valueAxis.label.allowDecimals":true},"info/time_bubble":{"general.defaultTimePeriodColor":"#ff0000","general.timePeriodStyle":null,"interaction.selectability.axisLabelSelection":true,"plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.secondaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.showNegativeValues":true,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"valueAxis.axisTick.fixedTicks":null,"valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.allowDecimals":true,"valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis2.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":.25,"valueAxis2.layout.maxWidth":.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/timeseries_100_stacked_column":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_bubble":{"general.defaultTimePeriodColor":"#ff0000","general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.plotLassoMode":"standard","plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits"},"info/timeseries_bullet":{"general.defaultTimePeriodColor":"#ff0000","general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","plotArea.background.border.left.visible":false,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_column":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.allowDecimals":true},"info/timeseries_combination":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.allowDecimals":true},"info/timeseries_line":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.showLine":false,"plotArea.adjustScale":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.dataPoint.invalidity":"break","plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":{access:"internal",defaultValue:null},"plotArea.lineVisible":true,"plotArea.marker.hoverOnlyMode":{access:"internal",defaultValue:true,serializable:false},"plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.scrollbar.visible":{access:"internal",defaultValue:true},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"plotArea.width":2,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.interval.keyLabel":{access:"internal",defaultValue:null},"timeAxis.interval.number":{access:"internal",defaultValue:1},"timeAxis.interval.unit":{access:"internal",defaultValue:""},"timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.allowDecimals":true},"info/timeseries_scatter":{"general.defaultTimePeriodColor":"#ff0000","general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.plotLassoMode":"standard","plotArea.markerSize":10,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits"},"info/timeseries_stacked_column":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null,"valueAxis.label.allowDecimals":true},"info/timeseries_stacked_combination":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.hideNoValueLabel":{access:"internal",defaultValue:false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{access:"internal",defaultValue:null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null,"valueAxis.label.allowDecimals":true},"info/timeseries_waterfall":{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{access:"internal",defaultValue:false},"general.groupData":false,"general.respectOrderInGroup":false,"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectByTimeAxisGroup":{access:"internal",defaultValue:true},"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoMode":"standard","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.syncValueAxis":false,"interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.recapTitle":"","plotArea.dataLabel.renderer":null,"plotArea.dataLabel.showRecap":false,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"solid","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.startValue":0,"plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{access:"internal",defaultValue:null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":null,"valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/treemap":{feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.formatString":null,"legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.marker.shape":"squareWithRadius","legend.mouseDownShadow.color":"#e8eff6","legend.onlyShowStartEndLabel":{access:"internal",defaultValue:false},"legend.selectionFeedback":false,"legend.unitFormatType":"FinancialUnits","plotArea.autoLegendValues":{access:"internal",defaultValue:[],readonly:true,serializable:false},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.border.visible":true,"plotArea.colorPalette":{defaultValue:[],serializable:false},"plotArea.dataLabel.formatString":"0.0","plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"white","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.text":{defaultValue:null,serializable:false},"plotArea.dataLabel.truncationBehavior":"truncate","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.defaultOthersStyle.color":"#000000","plotArea.dimensionLabel.renderer":null,"plotArea.dimensionLabel.style.color":null,"plotArea.dimensionLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dimensionLabel.style.fontSize":"12px","plotArea.dimensionLabel.style.fontStyle":"normal","plotArea.dimensionLabel.style.fontWeight":"normal","plotArea.dimensionLabel.visible":true,"plotArea.endColor":{defaultValue:"#73C03C",serializable:false},"plotArea.labelPosition":"center","plotArea.legendValues":{defaultValue:[],serializable:false},"plotArea.nullColor":{access:"internal",defaultValue:"#e0e0e0"},"plotArea.startColor":"#C2E3A9",propertyZone:{defaultValue:null,readonly:true,serializable:false}},"info/vertical_bullet":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.label.text.negativeGap":null,"legend.label.text.positiveGap":null,"plotArea.background.border.bottom.visible":true,"plotArea.forecastColor":["#D5DADC"],"plotArea.gap.negativeColor":"#e34352","plotArea.gap.positiveColor":"#87c27e","plotArea.gap.type":"both","plotArea.gap.visible":false},"info/waterfall":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{defaultValue:null,readonly:true},"categoryAxis.layout.autoWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.categoryWidth":{defaultValue:null,readonly:true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":.3,"categoryAxis.layout.maxWidth":.3,"categoryAxis.layout.offsetToChart":{defaultValue:null,readonly:true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,feedingZone:{defaultValue:[{bindDef:[{id:null}],bound:[[[0,0],[0,0],[0,0],[0,0]]],name:null}],readonly:true,serializable:false},"general.enableScalingFactor":{access:"internal",defaultValue:false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{defaultValue:null,serializable:false},"interaction.deselected.color":null,"interaction.deselected.opacity":.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{access:"internal",defaultValue:false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{access:"internal",defaultValue:false,readonly:false,serializable:true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{access:"internal",defaultValue:"DATAPOINT",serializable:false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":null,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{defaultValue:null,serializable:false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{defaultValue:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],serializable:false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPoint.color.total":"#848f94","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"solid","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.autoMinValue":{defaultValue:null,readonly:true,serializable:false},"plotArea.primaryScale.fixedRange":{defaultValue:false,serializable:false},"plotArea.primaryScale.maxValue":{defaultValue:null,serializable:false},"plotArea.primaryScale.minValue":{defaultValue:null,serializable:false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":'"Open Sans", Arial, Helvetica, sans-serif',"plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,propertyZone:{defaultValue:null,readonly:true,serializable:false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{defaultValue:null,readonly:true},"valueAxis.layout.autoWidth":{defaultValue:null,readonly:true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":.25,"valueAxis.layout.maxWidth":.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true}}});define("sap/viz/chart/metadata/properties/PropertyLoader",["propertyDefs","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/core/ChartPropertyRegistry","sap/viz/framework/property/PropertyManager","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r,o,n){var l=[];var s={};var u=["Title","Legend","Tooltip","Interaction","plotArea"];var c=["Title","Legend","Tooltip","Interaction"];function h(e,i,a,r,o){if((!o||o(i))&&e[r]){t.extend(true,a,p(e[r]))}return a}function p(e){for(var t in e){if(r.isValidValue(e[t])){e[t]={defaultValue:e[t]}}}return e}function d(e,i,a){if(i.isEmpty){return e}var r=c;if(a){r=u}if(r.length){e=t.extend(true,{},e)}r.forEach(function(t){var a=i.metadata["extend"+t];if(a){return}var r=new RegExp("^"+t,"i");for(var o in e){if(r.test(o)){delete e[o]}}});if(i.metadata["extendInteraction"]){e["interaction.behaviorType"]={defaultValue:null}}return t.extend(false,e,i.properties)}function f(e,t){var i=m(e);if(!i[e]){e="info/DEFAULT"}var a=s[e];if(!a||t){a=s[e]={};h(i,e,a,"");h(i,e,a,"_xy",function(e){return/bar|column|line|combination/.test(e)&&!/dual/.test(e)});h(i,e,a,"_xySimple",function(e){return/bar|column|line|combination/.test(e)&&!/trellis/.test(e)});h(i,e,a,"_dual",function(e){return/dual/.test(e)});h(i,e,a,"_trellis",function(e){return/trellis/.test(e)});h(i,e,a,"_scatter",function(e){return/scatter|bubble/.test(e)});h(i,e,a,"_pie",function(e){return/pie|donut/.test(e)});h(i,e,a,"_bullet",function(e){return/bullet/.test(e)});h(i,e,a,"_mekko",function(e){return/mekko/.test(e)});h(i,e,a,e)}return a}function v(e){var t=o.getMetadataWithFamily(e);var i=t&&t.family===n.EXTENSION.FAMILYNAME;var r=a.get(e);var s=f(e,l.length>1);return d(s,r,i)}function g(e){var t;for(t=0;t<l.length;t++){if(l[t].propDefs===e){return}}var i={propDefs:e,chartTypes:[]};for(t in e){if(e.hasOwnProperty(t)){if(t.indexOf("info/")>=0&&t!=="info/DEFAULT"){i.chartTypes.push(t)}}}l.push(i)}function m(e){var t=l[0].propDefs;if(l.length>1){for(var i=0;i<l.length;i++){if(l[i].chartTypes.indexOf(e)>=0){t=l[i].propDefs;break}}}return t}if(i.isArray(e)){e.forEach(function(e){g(e)})}else{g(e)}return{getProperties:v,addPropertyDefs:g}});define("sap/viz/chart/components/util/ScrollbarUtil",["sap/viz/framework/common/util/TypeUtils"],function e(t){function i(e){var t=0;switch(e.name){case"wheelmove":t=.1;if(e.data.wheelDelta>0){t=-t}break;case"leftarrow":case"uparrow":t=-.06;break;case"rightarrow":case"downarrow":t=.06;break}return t}function a(e,a,r,o,n,l){if(a){var s=i(e)*a.getThumbSize();if(!a.isThumbOverTrack(s)){e.data.originalEvent.preventDefault();var u=a.getThumbRatio();s*=t.isNumber(u)?u:1;if(o){r.scroll(s)}else{var c=r.getOffset();if(n){c.y-=s}else{c.x-=s}r.scroll(c);l.fireEvent("hideDetail",{mode:"actionMode"})}}}}var r={showScrollbar:function(e,t){var i=e.getModule("main");if(!i){i=e.getModule("plot")}if(i){var a,r;if(i.getVScrollbar&&i.getVScrollbar()){a=i.getVScrollbar();a.show(null,t)}if(i.getHScrollbar&&i.getHScrollbar()){r=i.getHScrollbar();r.show(null,t)}}},onScrollKeyboardHandler:function(e,i){var r=i.getModule("main")||i.getModule("plot");if(!r||!t.isFunction(r.scroll)){return}var o;var n;var l=e.name;if(["leftarrow","rightarrow"].indexOf(l)>-1){n=r.getHScrollbar();o=false}else if(["wheelmove","uparrow","downarrow"].indexOf(l)>-1){n=r.getVScrollbar();o=true}else{return}a(e,n,r,false,o,i)},onLegendScrollWheelHandler:function(e,i){var r=i.getModule("legendGroup.legend");if(!r||!t.isFunction(r.scroll)){return}var o=r.getPosition();if(o==="left"||o==="right"){a(e,r.getScrollbar(),r,true)}}};return r});define("sap/viz/chart/components/plots/PlotGeometryKeeper",["sap/viz/framework/common/util/ObjectUtils"],function(e){function t(t){var i=t.getStatus("plotArea.window")||{},a=t.getStatusManager().get("plotArea.window")||{};return!e.deepEqual(i,a)}var i={key:"plot.realsize",save:function(e){if(e.getStatusManager().get("hasCustomization")){return}var t=e.getModule("main.plot").getRealSize(),i=e.getStatusManager().get("plot.transform.scale");if(i.x===1){delete t.width}if(i.y===1){delete t.height}e.setStatus(this.key,t)},load:function(e){if(e.getStatusManager().get("hasCustomization")){return}var t=e.getStatus(this.key),i=e.getModule("main"),a=e.getModule("main.plot");if(t&&i&&a){var r=a.getSize();if(r.width>0&&r.height>0){var o=i.getZoomer().limits();var n=e.getStatusManager().get("sizeChanged");var l=n?Number.MAX_VALUE:o.x.max||Number.MAX_VALUE;var s=n?Number.MAX_VALUE:o.y.max||Number.MAX_VALUE;e.getStatusManager().set("plot.transform.scale",{x:Math.max(1,Math.min((t.width||0)/r.width,l)),y:Math.max(1,Math.min((t.height||0)/r.height,s))})}}},clear:function(e){e.removeStatus(this.key)}};var a={key:"plot.scroll",save:function(e){if(e.getStatusManager().get("hasCustomization")){return}var t=e.getModule("main.plot").getOffset(),i=e.getStatusManager().get("plot.offsetInValue");e.setStatus(this.key+".pixel",t);e.setStatus(this.key+".value",i)},load:function(e){if(e.getStatusManager().get("hasCustomization")){return}var t=e.getModule("main"),i=e.getStatus(this.key+".pixel"),a=e.getStatus(this.key+".value");if(i&&t){t.scroll(i)}if(a){e.getStatusManager().set("plot.offsetInValue",a)}},clear:function(e){e.removeStatus(this.key+".pixel");e.removeStatus(this.key+".value")}};function r(e,t,i){var a=e.h,r=e.v;return{x:a?a._scale.invert(-t.x/i.width):null,y:r?r._scale.invert((i.height+t.y)/i.height):null}}return{hasRangeChange:t,size:i,scroll:a,offsetInValue:r}});define("sap/viz/chart/behavior/config/PlotScrollBehaviorConfig",["sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/chart/components/plots/PlotGeometryKeeper"],function(e,t,i){var a=["info/bar","info/column","info/dual_bar","info/dual_column","info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/combinationEx","info/horizontal_combination","info/bullet","info/vertical_bullet","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/dual_combination","info/dual_horizontal_combination","info/timeseries_scatter","info/timeseries_bubble"];var r=["info/bubble","info/scatter","info/waterfall","info/horizontal_waterfall"];function o(e){return e.getModule("main").getVScrollbar().isExist()}var n=function(i,a){if(e.isMobile()||!a.getProperties().get("plotArea.isFixedDataPointSize")){return}t.onScrollKeyboardHandler(i,a)};return[{id:"wheel_move_on_eventLayer_single",triggerEvent:{name:"wheelmove",targets:["v-m-plot","v-m-action-layerrange","v-m-datapoints"],supportedChartTypes:a.concat(r)},handler:function(e,a){if(!e.data.originalEvent.ctrlKey&&o(a)){if(!a.getDataModel().getPaginationOptions()){t.onScrollKeyboardHandler(e,a);i.scroll.save(a)}}}},{id:"on_plot_scroll",triggerEvent:{name:"plotScroll"},handler:function(e,t){t.fireEvent("hideDetail",{mode:"actionMode"})}},{id:"save_scroll_position_on_scrollbar_release",triggerEvent:{name:"scrollbarReleased"},handler:function(e,t){t.fireEvent("saveZoom",{scroll:true})}}]});define("sap/viz/chart/behavior/config/handler/AxisBehaviorHandler",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a,r,o,n,l,s){var u=t.BEHAVIOR;var c=e.CSS.CLASS;var h="#333333";var p="parsedValue";function d(){}var f=d.prototype;function v(e){var i=e.getProperties().get("interaction.selectability");if(!i){return false}var a=e.getProperties().get("interaction.selectability.behavior");var r=a?a.toUpperCase():a;var o=i.mode?i.mode.toUpperCase():i.mode;var n=e.getNodes(e.NodeType.AXIS_ITEM);if(!i.axisLabelSelection||o===t.SELECTION_MODE.NONE||o===t.SELECTION_MODE.SINGLE&&r!==t.SELECTION_BEHAVIOR.CATEGORY||!n.node()){return false}else{return true}}function g(e){var i=e.getProperties().get("interaction.selectability");if(!i){return false}var a=i.mode?i.mode.toUpperCase():i.mode;var r=e.getNodes(e.NodeType.TIMEAXIS_ITEM)||e.getNodes(e.NodeType.TIMEAXIS_ITEM_UPPERLEVEL);if(!i.axisLabelSelection||a===t.SELECTION_MODE.NONE||a===t.SELECTION_MODE.SINGLE||!r.node()){return false}else{return true}}function m(e){var t=e;while(t&&t.getAttribute){if(r.hasClass(t,c.AXIS.CONTAINER)){break}t=t.parentNode}return t}function y(e){var t=e.data.currentTarget;var i=m(t);var a=o.getContext(i);if(a&&a.name){return a.name}else{return"categoryAxis"}}function _(e,t){var i=y(e);if(i&&i.toLowerCase()==="categoryaxis"){var a=t.getModule("main.categoryAxis.axisBody");return a&&a.isOnlyShowingFirstAndLastLabel&&a.isOnlyShowingFirstAndLastLabel()}return false}var A=function(e,t){var i=e.data.currentTarget,a=o.getContext(i);if(!a.hasOwnProperty("rectX")){return}n.cleanRangeSelection(t);var r={},l=t.getDataModel()._timeAxis.metaData[0].id;r[l+"."+p]=a.range;return n.getDataPointIds(r,t)};f.getTargetsAndCtxs=function(e,t,i){var r={};var s;var u=a.extendByRepalceArray({},o.getContext(e).ctx);if(t){s=o.getContext(t);if(s){if(u&&u.or&&l.isArray(u.or)){u.or.forEach(function(e){a.extendByRepalceArray(e,s.ctx)})}else{a.extendByRepalceArray(u,s.ctx)}}}r.targets=n.getDataPointIds(u,i);r.ctxs=this.filterCtx(u,s);return r};f.hoverOnAxisLabel=function(e,t){if(t.getStatus("rangeSelection")){return}if(!v(t)||_(e,t)){return}var i=t._getRenderType().indexOf("radar")>-1;var a="plotArea.polarAxis";var r=i?a:y(e);t.fireEvent("processUnhighlight");var o=t.getProperties().get(r+".hoverShadow.color");if(o){d3.select(e.data.currentTarget).select("rect").attr("fill",e.data.byKeyboard?"transparent":o).classed(c.HOVER_SHADOW,true)}var n=this.getTargetsAndCtxs(e.data.currentTarget,null,t).targets;t.fireEvent("processHighlight",{targets:n})};f.hoverOnTimeAxisLabel=function(e,t){if(t.getStatus("rangeSelection")){return}if(!g(t)){return}t.fireEvent("processUnhighlight");var i=t.getProperties().get("timeAxis.hoverShadow.color");if(i){d3.select(e.data.currentTarget).select("rect").attr("fill",e.data.byKeyboard?"transparent":i).classed(c.HOVER_SHADOW,true)}var a=e.data.currentTarget;var r=o.getContext(a);var n=m(a);if(n){var l=n.querySelector(".v-label-upperLevel[timelabel-id='"+r.id+"']");if(l){var s=t.getProperties().get("timeAxis.label.style.color")||h;var u=t.getEffectManager();s=u.register({fillColor:s});l.setAttribute("fill",s)}}var p=A(e,t);t.fireEvent("processHighlight",{targets:p})};f.hoverOnNonAxisLabel=function(e,t){if(!(v(t)||g(t))){return}t.fireEvent("processUnhighlight")};var b=function(e,t){var i=e.selectAll(".v-m-highlight")[0];if(i.length>0){var a=t.getStatus("selectedDataPoints").length;switch(a){case 0:d3.select(i[i.length-1]).remove();break;case 1:if(i.length===1){var r=s.getData(i[0].parentNode)||{};if(!r.isZeroValue){d3.select(i[0]).remove()}}break}}};var x=function(e){if(e.node()){return e}return null};f.cleanAxisHoverEffect=function(e,t){t.getNodes(t.NodeType.AXIS_ITEM_BACKGROUND).attr("fill","transparent").classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,false);var i=t.getNodes(t.NodeType.TIMEAXIS_ITEM_UPPERLEVEL,false);if(i&&i.length>0){var a=m(i[0]);var r=a.querySelectorAll(".v-label-upperLevel");var o=t.getProperties().get("timeAxis.label.style.parentColor");for(var n=0;n<r.length;n++){r[n].setAttribute("fill",o)}}var l=x(t.getNodes(t.NodeType.MAIN_NODE))||x(t.getNodes(t.NodeType.PLOT_NODE));b(l,t)};f.clickOnAxisLabel=function(e,t){if(!v(t)||_(e,t)){return}var i=e.data.currentTarget;var a=m(i);var r=this.getTargetsAndCtxs(i,a,t);var o=r.targets;var n=r.ctxs;t.fireEvent("processSelection",{ctx:n,targets:o,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});t.fireEvent("processMultipleSelectionTooltip",{targets:o,point:e.data.point})};f.clickOnTimeAxisLabel=function(e,t){if(!g(t)){return}var i=A(e,t);t.fireEvent("processSelection",{targets:i,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});t.fireEvent("processMultipleSelectionTooltip",{targets:i,point:e.data.point})};f.filterCtx=function(e){return e};f.downOnAxisLabel=function(e,t){if(_(e,t)){return}var i;if(v(t)){var a=y(e);i=t.getProperties().get(a+".mouseDownShadow.color")}else if(g(t)){i=t.getProperties().get("timeAxis"+".mouseDownShadow.color")}else{return}t.getNodes(t.NodeType.AXIS_ITEM_BACKGROUND).attr("fill","transparent").classed(c.HOVER_SHADOW,false);if(i){d3.select(e.data.currentTarget).select("rect").attr("fill",i).classed(c.FOCUS_SHADOW,true)}};f.upOnAxisLabel=function(e,t){if(_(e,t)){return}var a;if(v(t)){var r=y(e);a=t.getProperties().get(r+".hoverShadow.color")}else if(g(t)){a=t.getProperties().get("timeAxis"+".hoverShadow.color")}else{return}var o=t.getNodes(t.NodeType.AXIS_ITEM_BACKGROUND);o.attr("fill","transparent").classed(c.FOCUS_SHADOW,false);if(i.isMobile()){o.classed(c.HOVER_SHADOW,false)}else{if(a){d3.select(e.data.currentTarget).select("rect").attr("fill",a).classed(c.HOVER_SHADOW,true)}}};return d});define("sap/viz/chart/behavior/config/AxisBehaviorConfig",["sap/viz/chart/behavior/config/handler/AxisBehaviorHandler","sap/viz/framework/common/util/Constants"],function(e,t){var i="v-axis-item";var a="v-mbc-axis-item";var r="v-timeaxis-item";var o="v-timeaxis-item-upperLevel";var n="v-axis-mekko-item";return[{id:"axisBehaviorDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"hover",targets:i,excludeTargets:n,method:"hoverOnAxisLabel"},{name:"hover",excludeTargets:[i,r,o,t.CSS.CLASS.LEGENDITEM],method:"hoverOnNonAxisLabel"},{name:"hover",targets:[r,o],method:"hoverOnTimeAxisLabel"},{name:"cleanAxisHoverEffect",method:"cleanAxisHoverEffect"},{name:"click",targets:i,excludeTargets:[n,a],method:"clickOnAxisLabel"},{name:"click",targets:[r,o],method:"clickOnTimeAxisLabel"},{name:"down",targets:[i,r,o],excludeTargets:n,method:"downOnAxisLabel"},{name:"up",targets:[i,r,o],excludeTargets:n,method:"upOnAxisLabel"}]}]});define("sap/viz/chart/behavior/config/HighlightHelper",["sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/RuleUtil","sap/viz/framework/common/util/DOM","sap/viz/framework/common/effect/EffectManager","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/ChartConstants"],function(e,t,i,a,r,o,n,l,s,u){var c=function(e,a,r,o,n,l,s){var u=s?s:t.getData(a);var c,h=o?o:u.color,p=e.getEffectManager();if(r){if(i.isFunction(r)){c=r(h)}else if(i.isString(r)){c=p.parseColorProperty(r,h)}}var d=e.isHorizontal();var f=null;if(l&&l.isReverse){f=f===d?null:d?"horizontal":"vertical"}else{f=f===d?null:d?"vertical":"horizontal"}var v=u.shape;var g=u.r;if(n&&h){h=p.register({drawingEffect:n,fillColor:h,patternEffect:u.pattern,isNegative:u.isNegative,direction:f,graphType:v,radius:g})}if(n&&c){c=p.register({drawingEffect:n,fillColor:c,patternEffect:u.pattern,isNegative:u.isNegative,direction:f,graphType:v,radius:g})}return{defaultColor:h,customizedColor:c}};var h=function(e,t,a){var r;if(t==null){t=0}if(!i.isNumber(t)){t=+t.match(/[0-9]+/)}if(!e){r=t}else if(i.isNumber(e)){r=e}else{if(!i.isNumber(r)){r=+e.match(/[0-9]+/)}}if(r>4){r=t}return(a===undefined?r:r*a)+"px"};function p(t,i){return e.rgb2Hex(e.colorLinerTransform(new n,{constant:0,factor:i?i:1},t))}function d(e){return i.isArray(e)?e:[e]}function f(e,t,a,r,o,n,l){var u=d3.select("."+s.CSS.CLASS.ZEROVALUEHOVER).node();var p=d3.select(t).selectAll(a);if(i.isExist(u)&&i.isExist(l)){if(l.isZeroOnFirstTab){p=d3.select(u).selectAll(a)}}if(!n&&p&&p[0]&&p[0].length>1){var d=p[0];p=d3.select(d[d.length-1])}var f=i.isExist(l)?l.isZeroValue:false;if(!f){p.attr("stroke-dasharray",undefined)}if(r.visible===true){var v=c(e,t,r.color);var g=v.customizedColor||v.defaultColor;p.attr("stroke",g);p.attr("stroke-width",h(r.width,o))}else{p.attr("stroke",undefined);p.attr("stroke-width",undefined)}}function v(e,a,r,o,n,l){var s=t.getData(a);var u=i.isExist(o.opacity)?o.opacity:1;a.setAttribute("fill-opacity",u);var h=d3.select(a).selectAll(r);if(l){h.attr("fill-opacity",u)}h.attr("stroke-opacity",u);if(!n){var p=s.pattern==="noFill"?null:e.getProperties().get("plotArea.drawingEffect");var d=c(e,a,o.color,null,p);var f=d.customizedColor||d.defaultColor;if(s.pattern==="noFill"){h[0][0].setAttribute("stroke",f)}else{h.attr("fill",f)}}}function g(){var e=["v-datapoint","v-legend-item","v-axis-item","v-timeaxis-item","v-timeaxis-item-upperLevel","v-datalabel","v-mbc-legend-item","v-m-scrollbarTrack","v-area","v-area-point","v-area-ref-line","v-area-ref-line-selected","v-selected-area","v-nonLeafDimensionLabel"];if(!l.isMobile()){e.push("v-m-action-layerrange")}return e}function m(e){var t=e||window.event;return{x:t.layerX||t.offsetX,y:t.layerY||t.offsetY}}function y(e,t){return{left:e.x-t.x,top:e.y-t.y}}function _(e,t,i){if(!t||!t.getAttribute){return null}if(o.hasClass(t,e)){return t}if(t!==i.node()){return _(e,t.parentNode,i)}return null}var A={transformColor:p,turnToArray:d,getColors:c,drawStroke:f,drawFill:v,getWidth:h,getDeselAllExTargets:g,getLayerCoord:y,tryToFindNode:_};return A});define("sap/viz/chart/behavior/config/ContextualDataUtil",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/DataContextUtils"],function(e,t,i,a,r,o,n){function l(e){var t;if(e&&e.timeAxis&&e.timeAxis()){t=e.timeAxis().metaData.map(function(e){return e.id})}return t}function s(e,t){var i=e&&e._rawData&&e._rawData.measures&&e._rawData.measures();return n.convertBigNumString(i,t)}function u(e,i){var a=e;if(i&&i.length){a=t.extend(true,{},e);i.forEach(function(e){delete a[e+r.DIMENSION_PARSED_VALUE_SUFFIX]})}return a}function c(t,r,o,n,c){var h=n.getDataModel();var p=l(h);var d=r==="datapoint";var f=t.map(function(e){var t=a.getDataPointId(e);if(!t){return}var r=d?h.getDataPoint(t).context():i.getContext(e);r=s(h,r);r=u(r,p);return{target:e,data:r}});if(c){f.dateTimeRange=c}n.fireExternalEvent("contextualData",{name:e.Event.ContextualData.name,type:r,data:f,point:o})}function h(t,i,a,r,o){var n=r.getDataModel();var c=l(n);var h=t.map(function(e){if(!e){return}var t=n.getDataPoint(e).context();t=s(n,t);t=u(t,c);return{target:null,data:t}});if(o){h.dateTimeRange=o}r.fireExternalEvent("contextualData",{name:e.Event.ContextualData.name,type:i,data:h,point:a})}function p(t,a,r){var o=[];var n=f(t,t.data.currentTarget,r);var l=s(r.getDataModel(),i.getContext(n));o.push({target:n,data:l});r.fireExternalEvent("contextualData",{name:e.Event.ContextualData.name,type:a,data:o,point:t.data.point})}function d(t,a,r,o){var n={context:i.getContext(t.data.currentTarget).ctx,target:t.data.currentTarget};o.fireExternalEvent("contextualData",{name:e.Event.ContextualData.name,type:a,data:[],context:n,point:t.data.point})}function f(e,t,i){var a=m(e.data.originalEvent);var r=g(t);return v(a,r,i)}function v(e,t,i){var a=i.isHorizontal();var r=a?"y":"x";var o,n,l;t.forEach(function(t){l=y(t);var i=Math.abs(l[r]-e[r]);if(!n||!o){n=t;o=i;return}if(i<o){o=i;n=t}});return n}function g(e){if(e){var t=i.getData(e).dataPoints;return t}}function m(e){var t=e||window.event;return{x:t.pageX,y:t.pageY}}function y(e){var t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}}function _(e,t){var a=i.getContext(e);var r=i.getData(e);if(!r){return null}var n=r.timeField,l={};if(!n||n.length===0){return null}n=n[0];l[n]=a[n];return o.getDataPointNodes(l,t).sort(function(e,t){var a=i.getData(e).seriesIndex;var r=i.getData(t).seriesIndex;return a-r})}return{getTimeField:l,removeTimeSuffix:u,fireContextualDataEvent:c,fireContextualDataEventByIDs:h,fireContextualDataEventForArea:p,fireContextualDataEventForLegendItem:d,getDataPointsByTimeField:_}});define("sap/viz/chart/behavior/config/ContextualDataConfig",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a,r,o,n,l){var s="v-axis-item",u="v-nonLeafDimensionLabel",c="v-m-valueAxis",h="v-m-valueAxis2",p="v-m-categoryAxis",d="v-m-categoryAxis2",f="v-m-timeAxis";var v="v-m-legend",g="v-m-sizeLegend",m="v-legend-item";var y="v-m-title";var _="v-datapoint",A="v-datalabel",b="v-selected-area",x="v-area";var S="v-m-plot",D="v-m-plot-bound";var w="v-m-background",C="v-subtitle";var T="v-m-action-layerrange-content";var z="v-trellistitle-left",L="v-trellistitle-right",P="v-trellistitle-bottom",k="v-trellistitle-top";var E=e.CSS.CLASS;var I=n.getTimeField,O=n.removeTimeSuffix,R=n.fireContextualDataEvent,N=n.fireContextualDataEventByIDs,M=n.fireContextualDataEventForArea;return[{id:"right_click_anywhere",triggerEvent:{name:"contextmenu"},handler:function(e,t){t.fireEvent("hideDetail",{mode:"actionMode"}).fireEvent("hideDetail",{mode:"infoMode"})}},{id:"right_click_on_axis",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[c,h,p,d,f],excludeTargets:[s,u]},handler:function(e,t){var a;var r=e.data.currentTarget;if(i.hasClass(r,c)){a="valueAxis"}else if(i.hasClass(r,h)){a="valueAxis2"}else if(i.hasClass(r,p)){a="categoryAxis"}else if(i.hasClass(r,d)){a="categoryAxis2"}else if(i.hasClass(r,f)){a="timeAxis"}R([],a,e.data.point,t)}},{id:"right_click_on_axis_label",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[s,u]},handler:function(e,r){var n=e.data.currentTarget;var l=n;while(l&&l.getAttribute){if(i.hasClass(l,E.AXIS.CONTAINER)){break}l=l.parentNode}var s=t.extendByRepalceArray({},a.getContext(n).ctx);if(l){var u=a.getContext(l);if(u){t.extendByRepalceArray(s,u.ctx)}}if(r.isBigDataMode()){var c=o.getDataPointIds(s,r);N(c,"axisLabel",e.data.point,r)}else{var h=o.getDataPointNodes(s,r);R(h,"axisLabel",e.data.point,r)}}},{id:"right_click_on_axis_label_treemap",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[s,u],supportedChartTypes:"info/treemap"},handler:function(e,t){var i=e.data.currentTarget;var r=a.getContext(i);var n=o.getDataPointNodes(r,t);R(n,"axisLabel",e.data.point,t)}},{id:"right_click_on_legend",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[m,v,g]},handler:function(e,t){var a=e.data.currentTarget;if(i.hasClass(a,m)){n.fireContextualDataEventForLegendItem(e,"legend",e.data.point,t)}else{R([],"legend",e.data.point,t)}}},{id:"right_click_on_title",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:y},handler:function(e,t){R([],"title",e.data.point,t)}},{id:"right_click_on_trellis_title",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[z,L,P,k]},handler:function(e,t){R([],"trellis_title",e.data.point,t)}},{id:"right_click_on_chartarea",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[w,C]},handler:function(e,t){R([],"chartArea",e.data.point,t)}},{id:"right_click_on_datapoint",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[_,A]},handler:function(e,t){if(!t.getStatus("rangeSelection")){var i;if(t.getProperties().get("interaction.selectByTimeAxisGroup")){i=n.getDataPointsByTimeField(e.data.currentTarget,t)}else{i=r.turnToArray(e.data.currentTarget)}if(i){R(i,"datapoint",e.data.point,t)}}else{R([],"plot",e.data.point,t)}}},{id:"right_click_on_area",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[x,b]},handler:function(e,t){M(e,"datapoint",t)}},{id:"right_click_on_lasso_box",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[T]},handler:function(e,t){var i=t.getStatus("selectedDataPoints");var r=a.getNodes(i,t);var o=t.getStatus("rangeDomain");var n=t.getDataModel()._timeAxis.metaData[0].id;var l=o&&o.length===2?{start:{},end:{}}:null;if(l){l.start[n]=o[0];l.end[n]=o[1]}R(r,"plot",e.data.point,t,l)}},{id:"right_click_on_plot",declaredEvents:"contextualData",triggerEvent:{name:"contextmenu",targets:[S,D],excludeTargets:[_,A,s,u,x,b]},handler:function(t,i){if(!i.isBigDataMode()){R([],"plot",t.data.point,i);return}var a=t.data.originalEvent;var r=i.getOffsetMatrix(i.OffsetType.PLOT_NODE,true);var o={left:t.data.pointToChart.x-r.e,top:t.data.pointToChart.y-r.f};var n=i.getModule("main.plot");var l=n.getOffset();o.left-=l.x;o.top-=l.y;var s=n.hitTest(o);if(s.length===0){R([],"plot",t.data.point,i);return}var u=i.getDataModel();var c,h,p;for(var d=0;d<s.length;d++){c=s[d];p=u.getDataPoint(c.dataId);if(p){var f=I(u);h=O(p.context(),f);break}}if(p==null){R([],"plot",t.data.point,i)}else{i.fireExternalEvent("contextualData",{name:e.Event.ContextualData.name,type:"datapoint",data:[{target:null,data:h}],point:t.data.point})}}}]});define("sap/viz/chart/behavior/config/AlignToUtil",["sap/viz/framework/common/util/TypeUtils"],function(e){var t={l:function(e){return{x:e.left,y:e.top+e.height/2}},r:function(e){return{x:e.right,y:e.top+e.height/2}}};function i(i){if(!e.isArray(i)){i=[i]}var r={};i.forEach(function(e){var i=t[e.source.pos](e.source.dom.getBoundingClientRect()),o=t[e.target.pos](e.target.dom.getBoundingClientRect());a(r,{x:o.x-i.x,y:o.y-i.y},e.aspects||"xy")});return r}function a(e,t,i){i.split("").forEach(function(i){if(t.hasOwnProperty(i)){e[i]=t[i]}})}function r(e,t,i,a){var r={isAnchored:true,point:e.data.point,targets:i,forceStyle:{padding:"0px"}};var o=t.getModule("legendGroup");var n=o?o.getPosition().charAt(0):null;if(n==="l"||n==="r"){r.point.offset={x:n==="l"?10:-10};r.point.alignTo={source:{pos:n},target:{dom:a,pos:n==="l"?"r":"l"}}}return r}function o(e,t,i,a,r){var o={isAnchored:true,point:e.data.point,targets:i,forceStyle:{padding:"0px"}};var n=t.getModule("legendGroup");var l=n?n.getPosition().charAt(0):null;if(l==="l"||l==="r"){o.point.offset={x:l==="l"?10:-10};o.point.alignTo=[{aspects:"y",source:{pos:l},target:{dom:a,pos:l==="l"?"r":"l"}},{aspects:"x",source:{pos:l},target:{dom:r,pos:l==="l"?"r":"l"}}]}return o}var n={calculate:i,getTooltipData:r,getMBCTooltipData:o};return n});define("sap/viz/chart/behavior/config/handler/LegendBehaviorHandler",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/AlignToUtil","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/ScrollbarUtil"],function(e,t,i,a,r,o,n,l,s){var u=t.BEHAVIOR;var c=e.CSS.CLASS;var h="legendPanLastPos";var p=function(){};p.prototype={standAloneInitialized:function(e,t){t.getProperties().origin.add({legend:{mouseDownShadow:{color:"#808080"},hoverShadow:{color:"#cccccc"}},interaction:{selectability:{legendSelection:true}}})},getTargetsFromCtx:function(e,t,i){if(i.isBigDataMode()){var a=i.getModule("main.plot");if(a.setLastSeries){a.setLastSeries(e,true)}}return this._getTargets(e,t,i)},dragStart:function(e,t){if(!t.getProperties().get("legend.isScrollable")||t.getProperties().get("interaction.noninteractiveMode")||!i.isMobile()){return}e.data.originalEvent.preventDefault();var a=e.data.point;var r=t.getModule("legendGroup.legend");var o=r.isHorizontal()?a.x:a.y;t.setStatus(h,o);t.fireEvent("hideDetail",{mode:"infoMode"}).fireEvent("hideDetail",{mode:"actionMode"})},dragMove:function(e,t){if(!t.getProperties().get("legend.isScrollable")||t.getProperties().get("interaction.noninteractiveMode")||!i.isMobile()){return}if(!t.getStatus(h)){return}var a=t.getModule("legendGroup.legend");if(!a){return}e.data.originalEvent.preventDefault();var r=e.data.point;var o=t.getStatus(h);var n;if(a.isHorizontal()){n=o-r.x;t.setStatus(h,r.x)}else{n=o-r.y;t.setStatus(h,r.y)}if(a.scroll){a.scroll(n)}},dragEnd:function(e,t){t.removeStatus(h)},hover:function(e,t){if(t.getStatus("rangeSelection")){return}t.fireEvent("processUnhighlight");if(!r.isLegendTriggerable(t,t.NodeType.LEGEND_ITEM)){return}this.highlightLegendItem(e,t);var i=a.getContext(e.data.currentTarget).ctx;var o=this.getTargetsFromCtx(i,e,t);t.setStatus("hoveringLegend",true);t.fireEvent("processHighlight",{targets:o})},highlightLegendItem:function(e,t){var i=d3.select(e.data.currentTarget);i.select("rect").attr("fill",e.data.byKeyboard?"transparent":t.getProperties().get("legend.hoverShadow.color")).classed(c.HOVER_SHADOW,true);if(!e.data.byKeyboard){r.resetLegendSelectionEffect(t)}},syncSelectedLegendItems:function(e,t){r.updateCorrespondingSelectedLegendItems(t)},nonHover:function(e,t){t.fireEvent("processUnhighlight");t.setStatus("hoveringLegend",false)},cleanLegendHoverEffect:function(e,t){var i=t.getNodes(t.NodeType.LEGEND_ITEM);i.selectAll("rect").attr("fill","transparent").classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,false);r.resetLegendSelectionEffect(t);t.getNodes(t.NodeType.LEGEND_GROUP).select(".v-m-highlight").remove()},click:function(e,t){if(!r.isLegendTriggerable(t,t.NodeType.LEGEND_ITEM)){return}r.cleanRangeSelection(t);var i=a.getContext(e.data.currentTarget).ctx;var o=this.getTargetsFromCtx(i,e,t);t.fireEvent("processSelection",{ctx:{series:i},targets:o,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});var s=l.parent(e.data.target,".v-legend-item")||e.data.target;var u=n.getTooltipData(e,t,o,s);t.fireEvent("processMultipleSelectionTooltip",u)},_getTargets:function(e,t,i){return r.getDataPointIds(e,i)},mouseDown:function(e,t){if(!r.isLegendTriggerable(t,t.NodeType.LEGEND_ITEM)){return}t.getNodes(t.NodeType.LEGEND_ITEM).selectAll("rect").attr("fill","transparent").classed(c.HOVER_SHADOW,false);r.resetLegendSelectionEffect(t);d3.select(e.data.currentTarget).select("rect").attr("fill",t.getProperties().get("legend.mouseDownShadow.color")).classed(c.FOCUS_SHADOW,true)},mouseUp:function(e,t){if(!r.isLegendTriggerable(t,t.NodeType.LEGEND_ITEM)){return}var a=t.getNodes(t.NodeType.LEGEND_ITEM);a.selectAll("rect").classed(c.FOCUS_SHADOW,false);if(i.isMobile()){a.selectAll("rect").attr("fill","transparent").classed(c.HOVER_SHADOW,false)}else{this.highlightLegendItem(e,t)}r.resetLegendSelectionEffect(t)},mouseWheel:function(e,t){if(t.getProperties().get("legend.isScrollable")){s.onLegendScrollWheelHandler(e,t)}}};return p});define("sap/viz/chart/behavior/config/LegendBehaviorConfig",["sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/framework/common/util/Constants"],function(e,t){var i="v-legend-item";var a="v-legend-bullet";return[{id:"legendBehaviorDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"standAloneInitialized",method:"standAloneInitialized"},{name:"dragstart",targets:[i,a],method:"dragStart"},{name:"dragmove",targets:[i,a],method:"dragMove"},{name:"dragend",targets:[i,a],method:"dragEnd"},{name:"hover",targets:i,method:"hover"},{name:"highlightLegendItem",excludeTargets:i,method:"highlightLegendItem"},{name:"syncSelectedLegendItems",excludeTargets:i,method:"syncSelectedLegendItems"},{name:"hover",excludeTargets:[i,t.CSS.CLASS.DATAPOINT,t.CSS.CLASS.DATALABEL,t.CSS.CLASS.AXIS.LABEL_SELECTION,t.CSS.CLASS.AXIS.LABEL_SELECTION_TIMEAXIS,t.CSS.CLASS.AXIS.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL],method:"nonHover"},{name:"cleanLegendHoverEffect",method:"cleanLegendHoverEffect"},{name:"click",targets:i,method:"click"},{name:"down",targets:i,method:"mouseDown"},{name:"up",targets:i,method:"mouseUp"},{name:"wheelmove",targets:["v-content"],method:"mouseWheel"}]}]});define("sap/viz/chart/behavior/config/LassoDecoration",["sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/interaction/Constants"],function(e,t,i){var a="lasso";var r="range";var o="rgba(102,151,231, 0.25)";var n="rgba(102,151,231, 0.5)";var l="rgb(102,151,231)";var s=1;var u="3px";var c="0px";var h=i.RANGE_SELECTION.OFFSET;var p=function(e,t){this._actionLayer=e;this._startPoint=null;this._shapeModel=null;this._service=t;this._shapeLine={points:[],width:c,color:l,pointerEvent:"none"}};p.prototype.start=function(e,t,i,n){var c;this._startPoint=d(e,t);var p;var f;if(n==="range"){this._mode=r}else{this._mode=a}var v=this._service;var g=this._shapeModel;p=this._actionLayer.createLayer(this._mode);var m=this._shapeLine;if(this._mode===r){var y=false;v.fireEvent("hideDetail",{mode:"actionMode"});if(g&&v.getStatus("rangeSelection")){if(g.x-h<=this._startPoint.x&&this._startPoint.x<=g.x+g.width+h){y=true;var _=Math.abs(this._startPoint.x-g.x);var A=Math.abs(g.x+g.width-this._startPoint.x);if(_<=A&&_<=h){this._direction="right";f=g.x}else if(A<=h){this._direction="left";f=g.x+g.width}else{this._direction="drag"}}if(f){m.points=[[f,g.y],[f,g.y+g.height]];m.width=u;p.addPolyLine(m)}}if(!y){v.setStatus("rangeSelection",true);this._direction=null;this._actionLayer.clear(this._mode);g=this._shapeModel={x:this._startPoint.x,y:i.y-e.y-s,width:0,height:i.height+s*2,fill:o,strokeWidth:s+"px",stroke:l};f=g.x;m.points=[[f,g.y],[f,g.y+g.height]];m.width=u;p.addPolyLine(m);c={};c.x=i.x-e.x;c.y=i.y-e.y;c.width=i.width;c.height=i.height;p.addRect(this._shapeModel);this._actionLayer.drawLayer(p,c)}}else{this._actionLayer.clear(this._mode);p=this._actionLayer.createLayer(this._mode);this._shapeModel={x:this._startPoint.x,y:this._startPoint.y,width:0,height:0,pointerEvent:"none",fill:"rgba(64,176,240, 0.4)",strokeWidth:"2px",stroke:"rgb(64, 176, 240)"};p.addRect(this._shapeModel);this._direction=null;this._actionLayer.drawLayer(p)}};function d(e,t){var i=t.x-(e.x||e.left);var a=t.y-(e.y||e.top);return{x:i,y:a}}p.prototype.moveTo=function(e,t,i,o){var l=this._service;if(this._startPoint&&this._shapeModel){var s=this._startPoint;var c=this._shapeModel;var h;if(this._mode===r){h=d(e,i)}var p=d(e,t);var f={x:t.x,y:t.y};var v;if(this._direction){if(this._direction==="right"){if(p.x<=h.x){c.width=c.width-h.x+c.x;c.x=h.x;f.x=i.x}else if(p.x<c.x+c.width){c.width=c.width-p.x+c.x;c.x=p.x}else{c.x=c.x+c.width-2;c.width=2}v=c.x}else if(this._direction==="left"){if(p.x>=h.x+i.width){c.width=h.x+i.width-c.x;f.x=i.x+i.width}else if(p.x>c.x){c.width=p.x-c.x}else{c.width=2}v=c.x+c.width}else if(this._direction==="drag"){this._startPoint=p;var g=p.x-s.x;if(c.x<=h.x&&c.x+c.width>=h.x+i.width||c.x<=h.x&&g<0||c.x+c.width>=h.x+i.width&&g>0){return}if(c.x<h.x){if(c.x+c.width+g<=h.x+i.width){c.x=c.x+g}else{c.x=h.x+i.width-c.width}}else if(c.x+c.width>=h.x+i.width){if(c.x+g>=h.x){c.x=c.x+g}else{c.x=h.x}}else{if(c.x+g<h.x){c.x=h.x}else if(c.x+c.width+g>h.x+i.width){c.x=h.x+i.width-c.width}else{c.x=c.x+g}}c.fill=n}}else{v=p.x;var m=Math.min(p.x,s.x);var y=Math.min(p.y,s.y);var _=Math.abs(p.x-s.x);var A=Math.abs(p.y-s.y);c.x=m;c.width=_;if(this._mode===a){c.y=y;c.height=A}else{if(m<h.x){c.x=h.x;c.width-=h.x-m}if(c.x+c.width>h.x+i.width){c.width=h.x+i.width-c.x}if(f.x<i.x){f.x=i.x}if(f.x>i.x+i.width){f.x=i.x+i.width}if(v<c.x){v=c.x}if(v>c.x+c.width){v=c.x+c.width}}}var b=this._actionLayer.createLayer(this._mode);b.addRect(c);if(v&&this._mode===r){this._shapeLine.points=[[v,c.y],[v,c.y+c.height]];this._shapeLine.width=u;b.addPolyLine(this._shapeLine)}this._actionLayer.drawLayer(b);if(this._mode===r){l.fireEvent("timeRangeChanged",{mode:"actionMode",point:f,target:o.data.target,bTimeRange:true})}}};p.prototype.end=function(){if(this._mode===a){this._actionLayer.clear(a)}else{var e=this._actionLayer.createLayer(this._mode);this._shapeModel.fill=o;e.addRect(this._shapeModel);this._shapeLine.points=[];this._shapeLine.width=c;e.addPolyLine(this._shapeLine);this._actionLayer.drawLayer(e)}};p.prototype.rangeRecover=function(e){var i=this._service;this._actionLayer.clear();var a=i.getStatus("rangeDomain");if(!a){return}var n=a[0];var u=a[1];var c=i.getDataModel();if(c&&c._rawData&&t.isFiscal(c._rawData)){n=t.fiscalToQuantity(n,i.getProperties());u=t.fiscalToQuantity(u,i.getProperties())}var h=i.getModule("main.plot");var p=i.getModule("main.timeAxis.axisBody");var f=p.getScale();var v=f.getRange();var g=v[1]-v[0];var m=i.getBBox(i.BoxType.PLOT_BOUND_NODE);var y=i.getBBox(i.BoxType.ROOT_NODE);if(!m||!y){return}var _=d(y,m);var A=h.getRealSize();var b=h.getOffset();var x=i.getTransformScaleRatio();var S=f.scale(n)/g*A.width+b.x;S*=x.x;var D=(f.scale(u)-f.scale(n))/g;var w=D*A.width*x.x;this._shapeModel={x:S+_.x,y:_.y-s,width:w,height:m.height+s*2,fill:o,strokeWidth:s+"px",stroke:l};this._mode=r;var C=this._actionLayer.createLayer(this._mode);C.addRect(this._shapeModel);i.setStatus("rangeSelection",true);this._actionLayer.drawLayer(C,{x:_.x,y:_.y,width:m.width,height:m.height})};p.prototype.changeRangeEffect=function(e){var t=e.data.direction;if(t==="up"){this._shapeModel.fill=o}else{this._shapeModel.fill=n}var i=this._actionLayer.createLayer(this._mode);i.addRect(this._shapeModel);this._actionLayer.drawLayer(i)};p.prototype.getBoundingClientRect=function(){return this._actionLayer.getBoundingClientRect(this._shapeModel)};p.prototype.getShapeModel=function(){return this._shapeModel};p.prototype.destroy=function(){this._actionLayer=null;this._shapeModel=null;this._startPoint=null;this._mode=null;this._shapeLine=null};return p});define("sap/viz/chart/components/util/BoundingBoxUtils",[],function e(){var t={};t.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height};t.intersection=function(e,i){if(t.intersects(e,i)){var a=Math.max(e.left,i.left),r=Math.min(e.left+e.width,i.left+i.width),o=Math.max(e.top,i.top),n=Math.min(e.top+e.height,i.top+i.height);return{x:a,y:o,left:a,top:o,width:r-a,height:n-o}}return null};t.contains=function(e,t){return t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height};return t});define("sap/viz/chart/behavior/config/handler/LassoBehaviorHandler",["sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/behavior/config/LassoDecoration","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/behavior/config/SelectionUtil"],function(e,t,i,a,r,o,n,l,s,u){var c=t.isMobile;function h(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width,height:e.height}}function p(e){if(c()){return e.data.point}var t=e.data.originalEvent||window.event;return{x:t.pageX,y:t.pageY}}function d(){}d.prototype={standAloneInitialized:function(e,t){t.getProperties().origin.add({interaction:{selectability:{plotLassoSelection:true}}})},initialized:function(e,t){this._lassoDecoration=new i(t._getActionLayer(),t);t.setStatus("lassoStartPoint",null);t.setStatus("lassoEndPoint",null);t.setStatus("lassoCoveredDataPoints",[])},unloadClear:function(e,t){if(this._lassoDecoration){this._lassoDecoration.destroy();this._lassoDecoration=null;delete this._lassoDecoration}t.removeStatus("lassoStartPoint");t.removeStatus("lassoEndPoint");t.removeStatus("lassoCoveredDataPoints");t.removeStatus("rangeDomain");t.removeStatus("rangeSelection")},lassoStart:function(t,i){var a=this._lassoDecoration;if(!a){return}var o=i.getProperties().get("interaction.selectability");if(!o){return}var n=i.getProperties().get("interaction.selectability.plotLassoMode");var l=o.mode?o.mode.toUpperCase():o.mode;if(!o.plotLassoSelection||l===e.SELECTION_MODE.NONE||l===e.SELECTION_MODE.SINGLE){return}var s=t.data.point;var u=i.getBBox(n==="range"?i.BoxType.PLOT_BOUND_NODE:i.BoxType.ROOT_NODE);var c=i.getBBox(i.BoxType.ROOT_NODE);if(!r.contains(u,s)){return}i.setStatus("lassoStartPoint",p(t));a.start(c,s,u,n);i.fireEvent("hideDetail",{mode:"infoMode",action:"interrupt"}).fireEvent("hideDetail",{mode:"actionMode",action:"interrupt"}).fireEvent("cleanLegendHoverEffect").fireEvent("cleanAxisHoverEffect").fireExternalEvent("lassoStart")},lassoMove:function(e,t){this._drawLassoRect(e,t)},_getStartEnd:function(e,t){return t},_postProcessTargets:function(e,t){if(e._getChartType()&&e._getChartType().indexOf("bullet")>-1){t=s.unique(t)}return t},lassoEnd:function(e,t){if(this._validLasso(t)){var i=t.getProperties().get("interaction.selectByTimeAxisGroup");var r=this._lassoDecoration;var o=e.data.point;t.setStatus("lassoEndPoint",o);var n=null;var l=t.getNodes(t.NodeType.DATA_POINT);var s=this._lassoDecoration.getBoundingClientRect();var c=t.getModule("main.plot");if(t.getStatus("rangeSelection")&&c&&c.hitTestForRangeSelection){var p=t.getStatus("rangeDomain");var d=this._getStartEnd(t,{start:p[0],end:p[1]});n=c.hitTestForRangeSelection(d)}else if(t.isBigDataMode()&&c&&c.hitTest){var f=h(s,t.getBBox(t.BoxType.PLOT_BOUND_NODE));n=c.hitTest(f).map(function(e){return e.dataId.toString()})}else{n=A.call(this,t)}n=this._postProcessTargets(t,n);if(t.getStatus("rangeSelection")){var v=t.getStatus("selectedDataPoints");t.setStatus("selectedDataPoints",[]);var g=v.filter(function(e){return n.indexOf(e)<0});if(g&&g.length>0){t.fireEvent("deselectDataPoint",{targets:a.getNodes(g,t),isAnyOtherSelected:n.length>0});t.fireEvent("dispatchDataEvent",{targets:g,isSelected:false});if(n.length===0){t.fireEvent("clearPlot",{isGray:false,rangeSelection:"clear"})}}if(n.length===0){t.fireEvent("dispatchDataEvent",{targets:[],isSelected:true})}}r.end();if(!t.getStatus("rangeSelection")||n.length>0){this._fireEvent(e,t,n,o,true)}else if(t.getStatus("rangeSelection")&&n.length===0){t.fireEvent("showDetail",{mode:"actionMode",point:o,bLassoEnd:true})}t.fireExternalEvent("lassoEnd")}t.setStatus("lassoStartPoint",null);u.processTimeCursor(e,t)},lassoEndForArea:function(e,t){if(this._validLasso(t)){var i=this._lassoDecoration;var a=t.getStatus("lassoStartPoint");var r=p(e);t.setStatus("lassoEndPoint",r);var o=null;o=y.call(this,t,a,r);i.end();this._fireEvent(e,t,o,e.data.point,true);t.setStatus("lassoStartPoint",null);t.fireExternalEvent("lassoEnd")}},lassoEndForComboEx:function(e,t){if(this._validLasso(t)){var i=t.getStatus("lassoStartPoint"),a=p(e);t.setStatus("lassoEndPoint",a);var r=A.call(this,t);var o=Array.prototype.slice.call(t.getNodes(t.NodeType.DATA_POINT,false)),n=t.getStatusManager().get("plotArea.series").map(function(e,t){return e.type==="area"}),s=[].filter.call(o,function(e){return n[l.getData(e).seriesIndex]});var u=y.call(this,t,i,a,s);r=r.concat(u.filter(function(e){return r.indexOf(e)===-1}));this._lassoDecoration.end();this._fireEvent(e,t,r,e.data.point,true);t.setStatus("lassoStartPoint",null);t.fireExternalEvent("lassoEnd")}},_validLasso:function(t){var i=this._lassoDecoration;if(!i){return false}var a=t.getProperties().get("interaction.selectability");if(!a){return false}var r=a.mode?a.mode.toUpperCase():a.mode;if(!a.plotLassoSelection||r===e.SELECTION_MODE.NONE||r===e.SELECTION_MODE.SINGLE||!t.getStatus("lassoStartPoint")){return false}return true},_fireEvent:function(e,t,i,r,n){t.fireEvent("processSelection",{targets:i,deselectable:false,ctrlKeyPressed:e.data.ctrlKey});var l=t.getStatus("selectedDataPoints");if(l.length&&i.length){var s=e.data.target;while(s){if(s.getAttribute){if(o.hasClass(s,"v-datalabel")){s=a.getDataPointByDataLabel(s,t);if(!c()){t.setStatus("hoveringDataPoint",s)}break}if(o.hasClass(s,"v-datapoint")){if(!c()){t.setStatus("hoveringDataPoint",s)}break}s=s.parentNode}else{s=undefined}}if(!s){s=this._getShowDetailTarget(l,t)}if(n){this._fireShowDetail(t,s,r)}}else{this._fireHideDetail(t)}},_fireShowDetail:function(e,t,i){e.fireEvent("showDetail",{target:t,mode:"actionMode",point:i,bLassoEnd:true,action:"select"})},_fireHideDetail:function(e){e.fireEvent("hideDetail",{mode:"actionMode"})},_drawLassoRect:function(t,i){var a=this._lassoDecoration;if(!a){return}var r=i.getProperties().get("interaction.selectability");if(!r){return}var o=r.mode?r.mode.toUpperCase():r.mode;if(!r.plotLassoSelection||o===e.SELECTION_MODE.NONE||o===e.SELECTION_MODE.SINGLE||!i.getStatus("lassoStartPoint")){return}t.data.originalEvent.preventDefault();a.moveTo(i.getBBox(i.BoxType.ROOT_NODE),t.data.point,i.getBBox(i.BoxType.PLOT_BOUND_NODE),t)},_getBoundSelection:function(e){return e.getNodes(e.NodeType.PLOT_BOUND_SELECTION,false)},_isCovered:function(e,t){var i=e.getBoundingClientRect();for(var a=-1;++a<t.length;){if(r.intersects(i,t[a])){return true}}return false},_getShowDetailTarget:function(e,t){var i=t.getProperties().get("interaction.selectByTimeAxisGroup");var r=[];if(i){r=u.getSelectedPeriods(t,e)}if(e.length===1||i&&r.length===1){var o=t.getNodes(t.NodeType.DATA_POINT_GROUP,false)[0];return a.findByDataPointId(o,e[0])}},_getTargets:function(e,t){var i=t.getNodes(t.NodeType.DATA_POINT,false);return[].slice.call(i).filter(function(t){return this._isCovered(t,e)},this).map(function(e){var t=l.getData(e);return a.getDataPointId(e)})}};function f(e,t){return e.x*t.y-e.y*t.x}function v(e,t){var i=e.point1.x;var a=e.point1.y;var r=e.point2.x;var o=e.point2.y;var n=t.point1.x;var l=t.point1.y;var s=t.point2.x;var u=t.point2.y;var c={x:i-n,y:a-l};var h={x:r-n,y:o-l};var p={x:s-n,y:u-l};var d=f(c,p)*f(h,p);c={x:n-i,y:l-a};h={x:s-i,y:u-a};p={x:r-i,y:o-a};return d<=0&&f(c,p)*f(h,p)<=0?true:false}d._isContains=function(e,t){var i,a;var r=false;for(i=0,a=t.length-1;i<t.length;a=i++){if(t[i].y>e.y!=t[a].y>e.y&&e.x<(t[a].x-t[i].x)*(e.y-t[i].y)/(t[a].y-t[i].y)+t[i].x){r=!r}}return r};function g(e,t){var i=[];e.forEach(function(e){i.push({x:e.x+t.x,y:e.y+t.y})});return i}d._isIntersect=function(e,t){var i,a,r,o;for(i=1;i<e.length;i++){for(a=1;a<t.length;a++){r={point1:e[i-1],point2:e[i]};o={point1:t[a-1],point2:t[a]};if(v(r,o)){return true}}}return false};function m(e,t){var i=[];i.push({x:e.x,y:e.y});i.push({x:t.x,y:e.y});i.push({x:t.x,y:t.y});i.push({x:e.x,y:t.y});i.push({x:e.x,y:e.y});return i}function y(e,t,i,r){var o=_.call(this,e);var n=r||e.getNodes(e.NodeType.DATA_POINT,false);var s=m(t,i);var u=e.getNodes(e.NodeType.PLOT_BOUND_SELECTION,false)[0].getBoundingClientRect(),c={x:u.left+window.pageXOffset,y:u.top+window.pageYOffset};return[].slice.call(n).filter(function(e){var i=this._isCovered(e,o);if(i){return true}else{var a=l.getGraphicInfo(e);var r=g(a.areaPath,c);if(d._isIntersect(r,s)||d._isContains(t,r)){return true}}return false},this).map(function(e){return a.getDataPointId(e)})}function _(e){var t=this._lassoDecoration.getBoundingClientRect();var i=[];var a=this._getBoundSelection(e);if(!(a instanceof window.NodeList)&&!n.isArray(a)){a=[a]}a.forEach(function(e){var a=r.intersection(t,e.getBoundingClientRect());if(a){i.push(a)}});return i}function A(e){var t=_.call(this,e);return this._getTargets(t,e)}return d});define("sap/viz/chart/behavior/config/LassoBehaviorConfig",["sap/viz/chart/behavior/config/handler/LassoBehaviorHandler"],function(e){var t="v-m-root";var i=["info/timeseries_line","info/timeseries_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_stacked_combination","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];return[{id:"lassoBehaviorDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"standAloneInitialized",method:"standAloneInitialized"},{name:"afterBehaviorLoaded",method:"initialized"},{name:"beforeBehaviorUnloaded",method:"unloadClear"},{name:"lassostart",targets:t,excludeTargets:"v-m-scrollbarThumb",method:"lassoStart"},{name:"lassomove",targets:t,method:"lassoMove"},{name:"lassoend",targets:t,method:"lassoEnd"},{name:"lassoend",targets:t,supportedChartTypes:["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/trellis_area","info/trellis_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],method:"lassoEndForArea"},{name:"lassoend",targets:t,supportedChartTypes:["info/combinationEx"],method:"lassoEndForComboEx"}]}]});define("sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/components/util/SeriesUtil","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/ContextualDataUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h){var p=t.BEHAVIOR;var d=e.CSS.CLASS;var f=e.LINE_TYPE;var v="datapoint";var g="dataline";var m=2;var y=d.LIGHT_LINE;var _="data-from";var A="data-to";var b=r.getColors;function x(e,t){return e&&e.getDataPointShape&&e.getDataPointShape(t)}function S(t,i,r,o,c){var h=u.getData(i);var p=h[r?"next":"prev"];if(!p){return}var v=i.parentNode;var g=a.findByDataPointId(v,p);var m=a.getDataPointId(i);var b=r?[m,p]:[p,m];var x=v.querySelector("."+y+"["+_+"='"+b[0]+"']"+"["+A+"='"+b[1]+"']");if(o&&g&&a.isHighlighted(g)){var S=v.querySelector("."+d.LINES_GROUP);var D=u.getData(S);var w=t.isHorizontal();var C=[u.getData(g).translate.slice(),h.translate.slice()];if(r){C.reverse()}C[0].id=b[0];C[1].id=b[1];var T=t.getSemanticManager();var L=D.color;var P=null;var k;var E=t.getDataModel();var I=z.getPlot(t,i);var O=null;if(I.getDefaultLineRenderer){O=I.getDefaultLineRenderer()?I.getDefaultLineRenderer().expose:null}var R=n.parseSeriesLineType(I.getData(),h.seriesIndex,T);if(T.hasDataPointLineStyle()){var N=t.getEffectManager();var M=[a.getContextByDataModel(i,E),a.getContextByDataModel(g,E)];var B=[a.getAdditionCtxByDataModel(i,E),a.getAdditionCtxByDataModel(g,E)];L=N.register({fillColor:n.parseSemanticLineColor(M,T,L,B)});var V=n.parseSemanticLineType(M,T,null,B);if(V===f.DASHED||V===f.DOTTED||V===f.DOT){R=V}}var F={graphic:{color:L,width:D.width},points:C,isHorizontal:w,ctx:u.getContext(i)};if(R===e.LINE_TYPE.DASHED||R===e.LINE_TYPE.DOTTED){P=e.LINE_DASH_TYPE_ARRAY}else if(R===e.LINE_TYPE.DOT){P="0,"+D.width*2;F.graphic.linecap="round"}if(P){F.graphic.dash=P}var H;if(c){H=c(F,O)||O.renderer(F)}if(H){if(x){s.empty(x)}else{x=l.create("g");x.setAttribute("class",y);x.setAttribute("fill-opacity","1");x.setAttribute("stroke-opacity","1")}x.setAttribute(_,b[0]);x.setAttribute(A,b[1]);x.appendChild(H);v.insertBefore(x,S.nextElementSibling)}}else{if(x){v.removeChild(x)}}}function D(e,i,r){var o=i.getProperties().get("interaction.selectByTimeAxisGroup");var n=w(i);if(!n){return false}var l=n.mode?n.mode.toUpperCase():n.mode;if(!n.plotStdSelection||l===t.SELECTION_MODE.NONE||!r){return}var s=i.getStatus("selectedDataPoints");if(i.getStatus("rangeSelection")){i.setStatus("selectedDataPoints",[]);i.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:a.getNodes(s,i),isAnyOtherSelected:false});i.setStatus("rangeSelection",false)}var u=e.data;var c;if(o){var p=h.getDataPointsByTimeField(r,i);var d=p.length,f=this;c=[];p.forEach(function(e){c.push(f._getDataPoint(e,i))})}else{c=this._getDataPoint(r,i)}var v=this._hasDataPoint(i.getStatus("selectedDataPoints"),this._getDataPoint(r,i));i.fireEvent("processSelection",{targets:c,deselectable:true,ctrlKeyPressed:u.ctrlKey});if(this._hasDataPoint(i.getStatus("selectedDataPoints"),this._getDataPoint(r,i))){i.fireEvent("showDetail",{target:r,mode:"actionMode",point:u.point,action:"select"})}else{i.fireEvent("hideDetail",{target:r,mode:"actionMode",action:"deselect"}).setStatus("isHoveringDeselectedDataPoint",v)}}function w(e){return e.getProperties().get("interaction.selectability")}function C(e,t,i){var a=e.getSize();var r=i.getMaskManager();var o={x:t.e,y:t.f,width:a.width,height:a.height};r.addRect(o)}function T(e,t,i){if(!i){return}var r=e.data.point;if(t.getStatus("rangeSelection")){return}var o=t.getStatus("hoveringDataPoint");var n=this._getDataPoint(i,t);var l=this._hasDataPoint(t.getStatus("selectedDataPoints"),n);if(o){if(o===i){if(!t.getStatus("isHoveringDeselectedDataPoint")){t.fireEvent("showDetail",{target:i,mode:l?"actionMode":"infoMode",point:r,action:"hover"})}return}t.fireEvent("unhoverOnDataPoint",{targets:o,byKeyboard:e.data.byKeyboard})}if(o!==i){t.setStatus("isHoveringDeselectedDataPoint",false)}o=i;t.setStatus("hoveringLegend",false);t.fireEvent("hoverOnDataPoint",{targets:o,byKeyboard:e.data.byKeyboard}).fireEvent("showDetail",{target:i,mode:l?"actionMode":"infoMode",point:r,action:"hover"}).setStatus("hoveringDataPoint",o).setStatus("hoveredDataPointId",a.getDataPointId(o))}function z(){}var L=z.prototype;L.standAloneInitialized=function(e,t){t.getProperties().origin.add({interaction:{selectability:{plotStdSelection:true}}})};L.initialize=function(e,t){t.setStatus("hoveringDataPoint",null);t.setStatus("isHoveringDeselectedDataPoint",false)};L.clickOnDataPoint=function(e,t){D.call(this,e,t,e.data.currentTarget)};L.hoverOnDataPoint=function(e,t){T.call(this,e,t,e.data.currentTarget)};L.clickOnDataLabel=function(e,t){D.call(this,e,t,a.getDataPointByDataLabel(e.data.currentTarget,t))};L.hoverOnDataLabel=function(e,t){T.call(this,e,t,a.getDataPointByDataLabel(e.data.currentTarget,t))};L.isHoveringDataPointHighlighted=function(e){var t=e.getStatus("highlightedDataPoints");var i=e.getStatus("hoveringDataPoint");var r=false;var o;if(i){o=a.getDataPointId(i);if(t&&t.length>0&&t.indexOf(o)>=0){r=true}}return r};L.hoverOnNonDataPoint=function(e,t){t.setStatus("isHoveringDeselectedDataPoint",false);var i=t.getStatus("hoveringDataPoint");if(i&&!this.isHoveringDataPointHighlighted(t)){t.fireEvent("unhoverOnDataPoint",{targets:i})}t.setStatus("hoveringDataPoint",null);t.fireEvent("hideDetail",{mode:"infoMode",target:"nonDataPoint",action:"interrupt"})};L.hoverOnTimeArea=function(e,t){o.processTimeCursor(e,t)};L.selectDataPoint=function(e,t){var i=r.turnToArray(e.data.targets);i.forEach(function(e){var t=d3.select(e);t.classed(d.DATAPOINTDEFAULT,false);t.classed(d.DATAPOINTSELECTED,true)})};L.deselectDataPoint=function(e,t){var i=r.turnToArray(e.data.targets);i.forEach(function(e){var t=d3.select(e);t.classed(d.DATAPOINTSELECTED,false);if(!t.classed(d.DATAPOINTHOVER)){t.classed(d.DATAPOINTDEFAULT,true)}})};L.hoverEffectOnDataPoint=function(e,t){var i=r.turnToArray(e.data.targets);i.forEach(function(e){var t=d3.select(e);t.classed(d.DATAPOINTDEFAULT,false);t.classed(d.DATAPOINTHOVER,true)})};L.unhoverOnDataPoint=function(e,t){t.setStatus("hoveringDataPoint",null);var i=r.turnToArray(e.data.targets);i.forEach(function(e){var t=d3.select(e);t.classed(d.DATAPOINTHOVER,false);if(!t.classed(d.DATAPOINTSELECTED)){t.classed(d.DATAPOINTDEFAULT,true)}})};function P(t,i,a,r,o){var l,s,u,c,h,p,d,v,g,m,y;var _=null;var A=null;var b=r.getSemanticManager();var x=[];var S={points:[]};var D=0,w=t.length;if(b.hasDataPointLineStyle()){var C=r.getEffectManager();b.beginSession();for(;D<w;D++){s=t[D];if(A!==s.seqId-1||_!==s.seriesIndex){if(S.points.length>=2){l=o.getSeriesStyle(_);S.width=l.lineWidth;S.color=c;S.type=p;x.push(S)}m=null;S={points:[]}}v=[s.rawData.dp.context()];y=[s.rawData.dp.additionCtx()];d=t[D+1];g=s.data.translate.slice();g.id=s.dataId;if(m==null){S.points.push(g)}m=null;if(d&&s.seqId===d.seqId-1&&s.seriesIndex===d.seriesIndex){v.push(d.rawData.dp.context());y.push(d.rawData.dp.additionCtx());m=d.data.translate.slice();m.id=d.dataId}l=o.getSeriesStyle(s.seriesIndex);u=C.register({fillColor:n.parseSemanticLineColor(v,b,l.color,y)});h=n.parseSemanticLineType(v,b,null,y);if(S.points.length>=2&&(c!==u||p!==h)){l=o.getSeriesStyle(_);S.width=l.lineWidth;S.color=c;S.type=p;x.push(S);m=null;S={points:[g]}}else if(m){S.points.push(m)}c=u;p=h;_=s.seriesIndex;A=s.seqId}if(S.points.length>=2){l=o.getSeriesStyle(_);S.width=l.lineWidth;S.color=c;S.type=p;x.push(S)}b.endSession()}else{for(;D<w;D++){s=t[D];if(S.points.length>0&&(A!==s.seqId-1||_!==s.seriesIndex)){l=o.getSeriesStyle(_);S.width=l.lineWidth;S.color=l.color;S.type=l.lineType;x.push(S);S={points:[]}}g=s.data.translate.slice();g.id=s.dataId;S.points.push(g);_=s.seriesIndex;A=s.seqId}if(S.points.length>0){l=o.getSeriesStyle(_);S.width=l.lineWidth;S.color=l.color;S.type=l.lineType;x.push(S)}}var T=r.isHorizontal();var L=z.getLineRenderer(r);var P=null;if(o.getDefaultLineRenderer){P=o.getDefaultLineRenderer().expose}x.forEach(function(t){if(t.type===f.DASHED||t.type===f.DOTTED){t.strokeDashArray=e.LINE_DASH_TYPE_ARRAY}else if(t.type===f.DOT){t.strokeDashArray="0,"+t.width*2;t.linecap="round"}delete t.type;t.isHorizontal=T;t.offset=a;t.renderer=L;t.defaultLineRenderer=P;i.addPolyLine(t)})}function k(e,t,i,a,o){var l=a.getProperties();var s,u,c,h;var p=null;var d=l.get("interaction.selected.color");var f=a.isHorizontal();var v=a.getSemanticManager();var g=[];var m={points:[]};var y=0,_=e.length;if(v.hasDataPointColorStyle()){var A=a.getEffectManager();v.beginSession();for(;y<_;y++){s=e[y];u=r.getColors(a,null,d,null,null,null,{color:n.parseSemanticColor(s,v)});h=u.customizedColor||u.defaultColor;if(m.points.length!==0&&(p!==s.seriesIndex||c!==h)){m.color=c;g.push(m);m={points:[]}}n.addRectSeriesPathPoints(m.points,s,!!s.negative,f);p=s.seriesIndex;c=h}v.endSession()}else{for(;y<_;y++){s=e[y];if(m.points.length!==0&&p!==s.seriesIndex){m.color=c;g.push(m);m={points:[]};c=null}n.addRectSeriesPathPoints(m.points,s,!!s.negative,f);if(!c){u=r.getColors(a,null,d,null,null,null,{color:s.graphic.fill});c=u.customizedColor||u.defaultColor}p=s.seriesIndex}}if(m.points.length>0){m.color=c;g.push(m)}g.forEach(function(e){e.isHorizontal=f;e.offset=i;e.width=1;e.pointerEvent="none";t.addPolyLine(e)})}function E(e,t){if(!t.getStatus("rangeSelection")){return}var i=t.getBBox(t.BoxType.RANGE_SELECTION);var a=e.data.point;if(!(a.x>=i.left&&a.x<=i.right&&a.y>=i.top&&a.y<=i.bottom)){return}t.fireEvent("showDetail",{mode:"actionMode",point:e.data.point,bLassoEnd:true})}function I(e,t){if(t.getStatus("rangeSelection")){var i=t.getBBox(t.BoxType.RANGE_SELECTION);var a=e.data.point;if(!!i&&!!a&&a.x>=i.x&&a.x<=i.x+i.width&&a.y>=i.y&&a.y<=i.y+i.height){t.fireEvent("showDetail",{mode:"actionMode",point:a,bLassoEnd:true});return true}}return false}z.showDetailForRangeSelectionWhenHover=E;z.showDetailForRangeSelection=I;z.updateRangeEffect=function(e,t){if(!U(e,t)){return}t.fireEvent({name:"changeRangeEffect",data:{direction:"down",target:e.data.target}})};z.recoverRangeEffect=function(e,t){if(!U(e,t)){return}t.fireEvent({name:"changeRangeEffect",data:{direction:"up",target:e.data.target}})};z.renderLightLine=function(e,t,i,a){S(e,t,true,i,a);S(e,t,false,i,a)};z.getLineRenderer=function(e,t){var i=z.getPlot(e,t);return i?i.getLineRenderer():null};z.getPlot=function(e,t){var i;var a;if(t&&u.getData(t)){a=u.getData(t).trellisInfo}if(a){i=e.getModule("main").getChildPlot(a)}else{i=e.getModule("main.plot")}return i};z.selectOnLineOnNormalMode=function(e,t){var i=r.turnToArray(e.data.targets);var o=t.getProperties();t._getDecorationLayer().clear();t.fireEvent(e,true);var n=o.get("interaction.selected");var l=c.isExist(o.get("plotArea.markerRenderer"));var s;i.forEach(function(e){var i=u.getData(e);var o=!i.isZeroValue;a.highlight(e);s=z.getLineRenderer(t,e);z.renderLightLine(t,e,true,s);r.drawStroke(t,e,"path, rect",n.stroke,1,undefined,i);r.drawFill(t,e,"path, rect",n,l,o)})};function O(e,t){var i=R(e,t);if(!i){return}var a=i.elements;var r=i.dlLayer;var n=i.offset;var l=i.plotModule;var s=i.actionLayer;var u=o.getDpInfos(l,a);P(u,r,n,t,l);s.drawLayer(r)}z.selectOnLineDuringBigData=function(e,t){return O(e.data.targets,t)};z.highlightOnLineDuringBigData=function(e,t){var i=t.getStatus("selectedDataPoints");var a=i.concat(e.data.targets);return O(a,t)};z.unhighlightOnLineDuringBigData=function(e,t){var i=t.getStatus("selectedDataPoints");return O(i,t)};z.selectOnBarOnNormalMode=function(e,t){var i=r.turnToArray(e.data.targets);var a=t.getProperties();t._getDecorationLayer().clear();t.fireEvent(e,true);var o=a.get("interaction.selected");var n=c.isExist(a.get("plotArea.markerRenderer"));i.forEach(function(e){var i=u.getData(e);var a="rect";if(i.pattern==="noFill"){a="rect, path"}r.drawStroke(t,e,"rect",o.stroke,1,undefined,i);r.drawFill(t,e,a,o,n)})};z.highlightOnCombDuringBigData=function(e,t){var i=t.getStatus("selectedDataPoints");var a=i.concat(e.data.targets);return N(a,t)};z.unhighlightOnCombDuringBigData=function(e,t){var i=t.getStatus("selectedDataPoints");return N(i,t)};function R(e,t){var i=r.turnToArray(e);var a=t._getDecorationLayer();a.clear(g);var o=t.getModule("main.plot");if(!o){return null}var n=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var l=o.getOffset();l.x+=n.e;l.y+=n.f;var s=a.createLayer(g);C(o,n,s);return{elements:i,dlLayer:s,offset:l,plotModule:o,actionLayer:a}}function N(e,t){var i=R(e,t);if(!i){return}var a=i.elements;var r=i.dlLayer;var n=i.offset;var l=i.plotModule;var s=i.actionLayer;var u=o.getDpInfos(l,a);var c=[];var h=[];var p=t.getDataModel();for(var d=0;d<u.length;d++){var f=u[d];var v=p.getDataPoint(f.dataId);if(v){var g=x(l,v);if(g==="line"){h.push(f)}else if(g==="bar"){c.push(f)}}}k(c,r,n,t,l);P(h,r,n,t,l);s.drawLayer(r)}function M(e,t){var i=R(e,t);if(!i){return}var a=i.elements;var r=i.dlLayer;var n=i.offset;var l=i.plotModule;var s=i.actionLayer;var u=o.getDpInfos(l,a);k(u,r,n,t,l);s.drawLayer(r)}z.selectOnBarDuringBigData=function(e,t){return M(e.data.targets,t)};z.highlightOnBarDuringBigData=function(e,t){var i=t.getStatus("selectedDataPoints");var a=i.concat(e.data.targets);return M(a,t)};z.unhighlightOnBarDuringBigData=function(e,t){var i=t.getStatus("selectedDataPoints");return M(i,t)};z.hoverOnLineDuringBigData=function(e,t,i){if(!t.isBigDataMode()||t.getStatus("rangeSelection")){return}var a=e.data.originalEvent;var n=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var s={left:e.data.pointToChart.x-n.e,top:e.data.pointToChart.y-n.f};var u=t.getModule("main.plot");var c=u.getOffset();s.left-=c.x;s.top-=c.y;var h=t._getDecorationLayer();h.clear(v);var p,d;var f=t.getDataModel();if(!i){var g=u.hitTest(s);if(g.length===0){t.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return}for(var m=0;m<g.length;m++){i=g[m];d=f.getDataPoint(i.dataId);if(d){p=i.data.translate;break}}}else{d=f.getDataPoint(i.dataId);p=i.data.translate}if(d==null){return}c=u.getOffset();c.x+=n.e+p[0];c.y+=n.f+p[1];var y=t.getProperties().get("interaction.hover");var _=t.getSemanticManager();var A=_.analyzeDataPoint("color",d.context(),false,d.additionCtx());if(A&&A.color){i.graphic.fill=A.color}var b={color:i.graphic.fill,shape:i.graphic.shape,r:i.graphic.size};var x=r.getColors(t,null,y.stroke.color,null,i.graphic.drawingEffect,null,b),S=r.getColors(t,null,y.color,null,i.graphic.drawingEffect,null,b);var D=h.createLayer(v,c);var w=y.stroke&&y.stroke.visible===false;D.addPath({d:l.generateMarkerPath({type:i.graphic.shape,rx:i.graphic.size/2,ry:i.graphic.size/2,borderWidth:2}),stroke:w?"none":x.customizedColor?x.customizedColor:x.defaultColor,pointerEvent:"none",fill:S.customizedColor?S.customizedColor:S.defaultColor,opacity:y.opacity?y.opacity:1,strokeWidth:w?"none":y.stroke&&y.stroke.width?y.stroke.width:"2px"});h.drawLayer(D);var C="infoMode";if(o.hasDataPoint(t.getStatus("selectedDataPoints"),d.id)){C="actionMode"}t.fireEvent("showTooltipHoverOnPlot",{target:d.id,mode:C,point:{x:e.data.point.x,y:e.data.point.y-s.top+p[1]},action:"hover"})};var B=z.getGroupTargets=function(e,t){var i=r.turnToArray(e.data.targets),a=[];i.forEach(function(e){if(a.indexOf(e)===-1){var i=h.getDataPointsByTimeField(e,t);a=a.concat(i)}});return a};z.hoverEffectDuringNormalMode=function(e,t){var i=t.getProperties().get("interaction.selectByTimeAxisGroup");if(i){var o=B(e,t);if(o.length>0){e.data.targets=o}}t.fireEvent(e,true);var n=t.getProperties();var l=r.turnToArray(e.data.targets);var s=n.get("interaction.hover");var h=c.isExist(n.get("plotArea.markerRenderer"));var p=t.getModule("main.plot");var d=t.getDataModel();l.forEach(function(i){if(t.isTrellis()){r.drawStroke(t,i,"rect",s.stroke,2);r.drawFill(t,i,"rect, path",s,h)}else{var o=a.getDataPointId(i);var n=d.getDataPoint(o);if(n){var l=x(p,n);if(l==="line"){r.drawStroke(t,i,"path, rect",s.stroke,2);r.drawFill(t,i,"path, rect",s,h,true)}else{if(!e.data.byKeyboard){var c=u.getData(i);r.drawStroke(t,i,"rect",s.stroke,2,undefined,c)}r.drawFill(t,i,"rect, path",s,h)}}}})};z.unhoverEffectDuringNormalMode=function(e,t){var i=t.getProperties().get("interaction.selectByTimeAxisGroup");if(i){var o=B(e,t);if(o.length>0){e.data.targets=o}}t.fireEvent(e,true);var n=c.isArray(e.data.targets)?e.data.targets[0]:e.data.targets;if(c.isExist(n)){var l=n.parentNode;var s=d3.select(l).selectAll("."+d.ZEROVALUEHOVER);s.remove()}var h=r.turnToArray(e.data.targets);var p=t.getProperties();var f;var v=c.isExist(p.get("plotArea.markerRenderer"));var g=t.getModule("main.plot");var m=t.getDataModel();h.forEach(function(e){var i=a.getDataPointId(e);var o=m.getDataPoint(i);var n=x(g,o);var l;var s=1;var c;if(d3.select(e).classed(d.DATAPOINTSELECTED)){f=p.get("interaction.selected");l=true}else{if(t.shouldUseDeselectedColor()){f=p.get("interaction.deselected")}else{f=p.get("plotArea.dataPoint");c=u.getData(e);if(c){s=c.strokeWidth}}l=false}if(n==="line"){r.drawStroke(t,e,"path, rect",f.stroke,s);r.drawFill(t,e,"path, rect",f,v,true);if(!l){W(t,e)}}else{c=u.getData(e);r.drawStroke(t,e,"rect",f.stroke,s,undefined,c);r.drawFill(t,e,"rect, path",f,v)}})};z.hoverOnBarDuringBigData=function(e,t,i){t.setStatus("hoveringOnPlotEvent",null);if(!t.isBigDataMode()||t.getStatus("rangeSelection")){return}var a=e.data.originalEvent;var n=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var l={left:e.data.pointToChart.x-n.e,top:e.data.pointToChart.y-n.f};var s=t.getModule("main.plot");var u=s.getOffset();l.left-=u.x;l.top-=u.y;var c=t._getDecorationLayer();c.clear(v);var h=c.createLayer(v);C(s,n,h);var p,d;var f=t.getDataModel();if(!i){var g=s.hitTest(l);if(g.length===0){t.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return}for(var m=0;m<g.length;m++){i=g[m];d=f.getDataPoint(i.dataId);if(d){p=i.position;break}}}else{d=f.getDataPoint(i.dataId);p=i.position}if(d==null){return}t.setStatus("hoveringOnPlotEvent",e);u=s.getOffset();u.x+=n.e;u.y+=n.f;var y=t.getProperties().get("interaction.hover");var _=t.getSemanticManager();var A=_.analyzeDataPoint("color",d.context(),false,d.additionCtx());if(A&&A.color){i.graphic.fill=A.color}var b={color:i.graphic.fill};var x=r.getColors(t,null,"darken(20%)",null,i.graphic.drawingEffect,null,b);var S=r.getColors(t,null,y.color,null,i.graphic.drawingEffect,null,b);var D=S.defaultColor;var w=x.customizedColor;if(S.customizedColor){D=w=S.customizedColor}h.addRect({x:p.x+u.x,y:p.y+u.y,width:p.width,height:p.height,stroke:w,pointerEvent:"none",fill:D,opacity:!isNaN(+y.opacity)?+y.opacity:1,strokeWidth:"2px"});c.drawLayer(h);var T="infoMode";if(o.hasDataPoint(t.getStatus("selectedDataPoints"),d.id)){T="actionMode"}t.fireEvent("showTooltipHoverOnPlot",{target:d.id,mode:T,point:{x:e.data.point.x,y:e.data.point.y},action:"hover"})};function V(e,t,i,r,n,l){if(e.getStatus("rangeSelection")){var s=e.getStatus("selectedDataPoints");e.setStatus("selectedDataPoints",[]);e.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:a.getNodes(s,e),isAnyOtherSelected:false});e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null)}e.fireEvent("processSelection",{targets:[i.id.toString()],deselectable:true,ctrlKeyPressed:t.data.ctrlKey});if(o.hasDataPoint(e.getStatus("selectedDataPoints"),i.id)){var u;if(n){u=t.data.point.y-r.top+l.data.translate[1]}else{u=t.data.point.y}e.fireEvent("showTooltipClickBigData",{target:i.id,mode:"actionMode",point:{x:t.data.point.x,y:u}})}else{e.fireEvent("hideTooltipClickBigData",{target:i.id,mode:"actionMode"});e._getDecorationLayer().clear(v)}}function F(e,t){e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null);e.fireEvent(t,true)}z.clickOnCombDuringBigData=function(e,t){if(I(e,t)){return}if(t.isBigDataMode()){var i=e.data.originalEvent;var a=i.target;var o=r.tryToFindNode("v-m-plot",a,t._rootNode);if(o){var n=t.getBBox(t.BoxType.PLOT_NODE);var l=r.getLayerCoord(e.data.point,n);var s=t.getModule("main.plot");var u=s.hitTest(l,true);var c=t.getDataModel();for(var h=0;h<u.length;h++){var p=u[h];var d=c.getDataPoint(p.dataId);if(d){var f=x(s,d);if(f==="line"){V(t,e,d,l,true,p);return}else if(f==="bar"){V(t,e,d,l);return}}}}}if(!t.getProperties().get("interaction.enableDeselectAll")){return}F(t,e)};z.clickOnLineDuringBigData=function(e,t){if(I(e,t)){return}if(t.isBigDataMode()&&t.getProperties().get("interaction.selectability.plotStdSelection")){var i=e.data.originalEvent;var a=i.target;var o=r.tryToFindNode("v-m-plot",a,t._rootNode);if(o){var n=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var l={left:e.data.pointToChart.x-n.e,top:e.data.pointToChart.y-n.f};var s=t.getModule("main.plot");var u=s.getOffset();l.left-=u.x;l.top-=u.y;var c=s.hitTest(l,t.isCombChart());var h=t.getDataModel();for(var p=0;p<c.length;p++){var d=h.getDataPoint(c[p].dataId);if(!d){continue}V(t,e,d,l,true,c[p]);return}}}F(t,e)};z.clickOnBarDuringBigData=function(e,t){if(I(e,t)){return}if(!t.isBigDataMode()||!t.getProperties().get("interaction.selectability.plotStdSelection")){t.setStatus("rangeSelection",false);t.setStatus("rangeDomain",null);t.fireEvent(e,true);return}var i=e.data.originalEvent;var a=i.target;var o=r.tryToFindNode("v-m-plot",a,t._rootNode);if(o){var n=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var l={left:e.data.pointToChart.x-n.e,top:e.data.pointToChart.y-n.f};var s=t.getModule("main.plot");var u=s.getOffset();l.left-=u.x;l.top-=u.y;var c=s.hitTest(l,t.isCombChart());var h=t.getDataModel();for(var p=0;p<c.length;p++){var d=h.getDataPoint(c[p].dataId);if(!d){continue}V(t,e,d,l,false);return}}F(t,e)};z.hoverOnCombDuringBigData=function(e,t){t.setStatus("hoveringOnPlotEvent",null);if(!t.isBigDataMode()||t.getStatus("rangeSelection")){return}var i=e.data.originalEvent;var a=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var r={left:e.data.pointToChart.x-a.e,top:e.data.pointToChart.y-a.f};var o=t.getModule("main.plot");var n=o.getOffset();r.left-=n.x;r.top-=n.y;var l=o.hitTest(r,true);var s=t._getDecorationLayer();if(l.length===0){s.clear(v);t.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return}var u,c;var h=t.getDataModel();for(var p=0;p<l.length;p++){c=l[p];u=h.getDataPoint(c.dataId);if(u){break}}if(u){if(x(o,u)==="bar"){z.hoverOnBarDuringBigData(e,t,c)}else{z.hoverOnLineDuringBigData(e,t,c)}}else{s.clear(v)}};z.selectOnCombinationDuringBigData=function(e,t){var i=r.turnToArray(e.data.targets);var a=t.getProperties();var o=t._getDecorationLayer();o.clear(g);var n=t.getModule("main.plot");if(!n){return}var l=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var s=n.getOffset();s.x+=l.e;s.y+=l.f;var u=o.createLayer(g);C(n,l,u);var c=[];var h=[];for(var p=0;p<i.length;p++){var d=n.mappingDataPointInfo(i[p]);if(d){var f=x(n,d.seriesIndex);if(f==="line"){h.push(d)}else if(f==="bar"){c.push(d)}}}c=c.sort(function(e,t){return e.seqId-t.seqId});h=h.sort(function(e,t){return e.seqId-t.seqId});k(c,u,s,t,n);P(h,u,s,t,n);o.drawLayer(u)};var H=t.RANGE_SELECTION.OFFSET;function U(e,t){var i=e.data.point;var a=t.getBBox(t.BoxType.RANGE_SELECTION);var r=false;if(a&&a.x+H<i.x&&i.x<a.x+a.width-H){r=true}return r}L.clearPlot=function(e,t){var a=t.getNodes(t.NodeType.DATA_POINT_GROUP);function r(){var e=t.getProperties();if(e){var i=e.get("interaction.deselected.opacity");a.each(function(){this.setAttribute("fill-opacity",i);this.setAttribute("stroke-opacity",i)})}}function o(){a.each(function(){this.removeAttribute("fill-opacity");this.removeAttribute("stroke-opacity")})}var n=e.data.isGray;if(i.isIE()&&i.version()<=9){if(n){window.setTimeout(r,0)}else{window.setTimeout(o,0)}}else{if(n){r()}else{o()}}};L._getDataPoint=function(e,t){return a.getDataPointId(e)};L._hasDataPoint=function(e,t){return o.hasDataPoint(e,t)};z.clearForTime=function(e,t){t.fireEvent(e,true);if(!e.data.rangeSelection){t._getDecorationLayer().clear();t._getActionLayer().clear()}};z.clickOnNonSelection=function(e,t,i){if(!t.getProperties().get("interaction.enableDeselectAll")){return}if(i.indexOf(t._getChartType())>-1){if(I(e,t)){return}t.setStatus("rangeSelection",false);t.setStatus("rangeDomain",null)}t.fireEvent(e,true)};z.cleanBar=function(e,t){var i=e.data.isGray;var a=e.data.rangeSelection;var r=a&&a!=="clear";var o=t.getProperties();if(t.isBigDataMode()){var n=t.getNodes(t.NodeType.BAR_SERIES,false);if(i||r){var l=o.get("interaction.deselected.color");n.forEach(function(e){var i=b(t,e,l);var a=i.customizedColor||i.defaultColor;e.setAttribute("stroke",a)})}else{n.forEach(function(e){var t=u.getData(e);var i=t.color;e.setAttribute("stroke",i)})}}};z.cleanLine=function(e,t){var i=e.data.isGray;var a=e.data.rangeSelection;var r=a&&a!=="clear";var o=t.getProperties();var n=o.get("interaction.deselected");var l=t.getNodes(t.NodeType.LINE,false);l.forEach(function(e){var a=b(t,e,n.color);if((i||r)&&a.customizedColor){e.setAttribute("stroke",a.customizedColor)}else{e.setAttribute("stroke",a.defaultColor)}})};var W=z.setMakerOpacity=function(e,t){var i=u.getData(t);if(!(i.type&&i.type.toLowerCase()==="line")){return}var a=e.getProperties();var r=a.has("plotArea.line.marker.visible")?a.get("plotArea.line.marker.visible"):a.get("plotArea.marker.visible");var o=e.getModule("main.plot");if(o&&o.isMarkerVisible){r=o.isMarkerVisible()}var n=t.firstChild;if(!r){n.setAttribute("fill-opacity","0");n.setAttribute("stroke-opacity","0")}};return z});define("sap/viz/chart/behavior/config/DataPointBehaviorConfig",["sap/viz/framework/common/util/Constants","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler"],function(e,t){var i=e.CSS.CLASS;var a=i.DATAPOINT;var r=i.DATALABEL;var o=i.AREA;var n=i.AREA_POINT;var l=i.AREA_SELECTED;var s=["info/timeseries_line","info/timeseries_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_stacked_combination","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];return[{id:"dataPointBehaviorDefinition",handler:t,handlerType:"class",triggerEvent:[{name:"standAloneInitialized",method:"standAloneInitialized"},{name:"afterBehaviorLoaded",method:"initialize"},{name:"click",targets:a,excludeTargets:["v-m-action-layerrange"],method:"clickOnDataPoint"},{name:"hover",targets:a,method:"hoverOnDataPoint"},{name:"click",targets:r,excludeTargets:["v-m-action-layerrange"],method:"clickOnDataLabel"},{name:"hover",targets:r,method:"hoverOnDataLabel"},{name:"hover",excludeTargets:[a,r,o,n,l],method:"hoverOnNonDataPoint"},{name:"selectDataPoint",method:"selectDataPoint"},{name:"deselectDataPoint",method:"deselectDataPoint"},{name:"hoverOnDataPoint",method:"hoverEffectOnDataPoint"},{name:"unhoverOnDataPoint",method:"unhoverOnDataPoint"},{name:"clearPlot",method:"clearPlot"},{name:"hover",supportedChartTypes:s,targets:["v-m-root","v-m-action-layerrange"],method:"hoverOnTimeArea"}]}]});define("sap/viz/chart/behavior/config/tooltip/TooltipUtils",["sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r){var o="Invalid date";var n=a.SUPPORT_CUSTOM_COMPONENTS.TOOLTIP;function l(i,r,o,n,l){if(!i){return""}var s,u;if(t.isString(r)){s=r}else if(t.isPlainObject(r)){var c=r[n];if(t.isArray(c)){s=c[0];u=c[1]}else if(t.isString(c)){s=c}}else if(t.isArray(r)){s=r[0];u=r[1]}u=u||e.getPercentagePattern(2);var h={decimalFormatString:a.getDecimalFormatString(a.SUPPORT_CUSTOM_COMPONENTS.TOOLTIP)};var p=a.format(i.value,s,o,h);if(l){p+=" "+l}p+=" (";p+=a.format(i.percentage,u,o,h);p+=")";return p}function s(i,o,s,c,h){if(!t.isArray(i.data)){return i}var p=i.data;var d=o.get("tooltip.bodyMeasureValue.type");var f=o.get("general.showAsUTC");for(var v=-1,g=0;++v<p.length;){var m=p[v];var y=m.value;var _=m["value.d"];var A=m.id;if(y===null){continue}var b=o.get("tooltip.formatString");var x=m.formatString;var S=m.formatString;if(t.isArray(S)){S=S[0]}var D=null;var w=m.bothValue;if(!m.bTimeRange&&m.type==="Measure"){if(m.strValue!=null){y=m.strValue}if(p.timeMeasure!==undefined&&p.timeMeasure===g){m.value=e.format(r.createDateInstance(parseInt(y)),S||e.DEFAULT_FORMAT_DATE_TIME,f)}else{var C=o.get("tooltip.unitFormatType");b=b||x;if(w&&d&&d==="valueAndPercentage"){m.value=l(w,b,C,A,m.unit)}else{var T=w&&d==="percentage";if(s){var z=s._getChartType();if(z&&z.indexOf("timeseries_100_stacked_column")>-1){T=true;d="percentage"}}var L=w&&d==="value";if(t.isPlainObject(b)){D=b[A];if(t.isArray(D)){D=T?D[1]:D[0]}}else if(t.isString(b)){D=b}else if(t.isArray(b)){D=T?b[1]:b[0]}if(T){D=D||e.getPercentagePattern(2);y=w?w[d]:y}else if(L){y=w?w[d]:y}var P={decimalFormatString:a.getDecimalFormatString(n)};var k=h||a.format;m.value=k(y,D,C,P);if(!c&&m.unit&&(!w||L)){m.value+=" "+m.unit}}}++g}else if(m.type==="Dimension"&&(p.timeDimensions!==undefined&&p.timeDimensions.indexOf(v)>=0)){u(m,b,f)}}return i}function u(a,n,l){var s=a["value.d"],u,c=a.formatString;if(a.timeAxis){if(s&&t.isString(s)){a.value={day:s}}else{a.value=a.timeAxis.getFormatTimeValue(a.value)}}else{var h=e.DEFAULT_FORMAT_DATE_TIME;var p=r.createDateInstance(a.value);if(!isNaN(p.getTime())){if(t.isExist(n)&&t.isExist(n[a.id])){u=n[a.id]}u=u||c||h;a.value={day:e.format(p,u,l)}}else{a.value={day:i.get("IDS_INVALID_DATE")||o}}if(s!=null){a.value={day:s}}}}function c(e,t,i){var a={};if(t){if(t.patternFill){a.pattern=t.patternFill}else if(t.pattern){a.pattern=t.pattern}if(t.color){a.color=t.color;if(t.actual&&a.color["v-primary"]){a.color["v-primary"]["id"]=t.actual}if(t.additional&&a.color["v-additional"]){a.color["v-additional"]["id"]=t.additional}if(t.forecast&&a.color["v-forecast"]){a.color["v-forecast"]["id"]=t.forecast}}if(t.fill){a.color=t.fill}if(t.shape){a.shape=t.shape}if(t.type){a.type=t.type}if(t.type==="line"){h(e,a,t,i)}}return a}function h(e,t,i,a){var r=e.getSemanticManager();var o=i.seriesIndex;var n=e.getModule("main.plot");var l=n.getSeriesStyle(o,null,true);t.lineInfo={};if(a){var s=r.getOthersStyle("color,lineType,lineColor");if(a.properties&&a.properties.lineColor){t.lineInfo.lineColor=a.properties.lineColor}else{if(!r.isOverrideMode()){t.lineInfo.lineColor=i.color}else{t.lineInfo.lineColor=s.properties.lineColor||s.properties.color;if(!t.lineInfo.lineColor){t.lineInfo.lineColor=l&&l.color||"#000000"}}}t.lineInfo.lineType=l&&l.lineType;if(a.properties&&a.properties.lineType){t.lineInfo.lineType=a.properties.lineType}else if(s.lineType){t.lineInfo.lineType=s.lineType}}else{if(l){t.lineInfo.lineColor=l.color;t.lineInfo.lineType=l.lineType}}var u=e.getProperties();if(u.get("plotArea.dataPoint.stroke.visible")){t.stroke={};t.stroke.visible=true;t.stroke.color=u.get("plotArea.dataPoint.stroke.color")}}return{format:s,formatTimeDimension:u,buildEventGraphicInfo:c}});define("sap/viz/chart/behavior/config/handler/TooltipTimerHandler",["sap/viz/framework/core/config"],function e(t){var i={Cleared:"Cleared",Active:"Active",Standby:"Standby",Appeared:"Appeared",Selected:"Selected",Deselected:"Deselected"};var a=1e3;var r=100;var o=5e3;var n=1e3;function l(){this._init()}l.prototype.setShowTooltipHandler=function(e){this._showHandler=e};l.prototype.setHideTooltipHandler=function(e){this._hideHandler=e};l.prototype.setMode=function(e){this._mode=e};l.prototype._setStatus=function(e){this._status=e;var t="_"+i[e].toLowerCase()+"Handler";this[t]()};l.prototype._clearedHandler=function(){this._isFirstShow=true;this._hideHandler()};l.prototype._activeHandler=function(){this._hideHandler();this._currentTime=Date.now();if(!this._isFirstShow&&this._currentTime-this._lastTime<n){this._timer=r}else{this._timer=a}if(this._showTimeOut){clearTimeout(this._showTimeOut)}function e(){this._setStatus(i.Appeared)}var o=t.globalSetting("disableTooltipTimer");if(o){e.call(this)}else{this._showTimeOut=setTimeout(e.bind(this),this._timer)}};l.prototype._standbyHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null}this._hideHandler()};l.prototype._appearedHandler=function(){this._lastTime=Date.now();this._isFirstShow=false;this._showHandler();if(this._mode!=="actionMode"){if(this._hideTimeOut){clearTimeout(this._hideTimeOut)}var e=function(){this._setStatus(i.Cleared)};var a=t.globalSetting("disableTooltipTimer");if(!a){this._hideTimeOut=setTimeout(e.bind(this),this._hideTimer)}}};l.prototype._selectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null}this._showHandler();this._lastTime=Date.now()};l.prototype._deselectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null}this._hideHandler()};l.prototype.hover=function(e){switch(this._status){case i.Cleared:if(e!=="nonDataPoint"){this._setStatus(i.Active)}break;case i.Active:if(e==="nonDataPoint"){this._setStatus(i.Standby)}else{this._setStatus(i.Active)}break;case i.Appeared:if(e==="nonDataPoint"){this._setStatus(i.Standby)}else if(s(this._target,e)){if(this._mode!=="actionMode"){this._setStatus(i.Appeared)}}else{this._setStatus(i.Active)}break;case i.Standby:if(e!=="nonDataPoint"){this._setStatus(i.Active)}break;case i.Selected:case i.Deselected:if(e!=="nonDataPoint"&&!s(this._target,e)){this._setStatus(i.Active)}break}this._target=e};function s(e,t){var i=e&&e.getAttribute?e.getAttribute("data-datapoint-id"):e;var a=t&&t.getAttribute?t.getAttribute("data-datapoint-id"):t;return a===i}l.prototype.select=function(e){this._setStatus(i.Selected);this._target=e};l.prototype.deselect=function(e){this._setStatus(i.Deselected);this._target=e};l.prototype.interrupt=function(){this._setStatus(i.Standby)};l.prototype._init=function(){this._status=i.Cleared;this._showTimeOut=null;this._hideTimeOut=null;this._timer=a;this._hideTimer=o;this._showHandler=null;this._hideHandler=null;this._currentTime=null;this._lastTime=null;this._target=null;this._isFirstShow=true};l.prototype.reset=function(){clearTimeout(this._showTimeOut);clearTimeout(this._hideTimeOut);this._init()};return l});define("sap/viz/chart/behavior/config/tooltip/Tooltip",["sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/framework/common/util/CSSUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/log/Logger","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/FiscalUtil","sap/viz/chart/behavior/config/AlignToUtil","sap/viz/chart/components/util/TextUtils"],function e(t,i,a,r,o,n,l,s,u,c,h,p){var d="values selected";var f="value selected";var v={INFO_MODE:"infoMode",ACTION_MODE:"actionMode"};var g=8;var m=g+"px";var y={padding:"10px",paddingNum:10,paddingBottom:"10",paddingTop:"10",horizontalLine:{borderBottom:"solid 1px",borderBottomNum:1,marginTop:"10px",marginTopNum:10},dimensionName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:m,paddingBottomNum:g,whiteSpace:"nowrap",overflow:"hidden"},dimensionValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:m,paddingBottomNum:g,paddingLeft:"7px",paddingLeftNum:7,whiteSpace:"nowrap",overflow:"hidden"},measureName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:m,paddingBottomNum:g,whiteSpace:"nowrap",overflow:"hidden"},measureValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:m,paddingBottomNum:g,paddingLeft:"7px",paddingLeftNum:7,whiteSpace:"nowrap",overflow:"hidden"},selectedText:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold",marginTop:"8px",marginTopNum:8},closeButton:{size:20,borderSize:2,borderStyle:"solid",forkSize:10},mouseMarginTop:3,truncatedWidth:140,contentMaxSize:"42px",truncatedHeight:12,borderWidth:"1px",borderWidthNum:1,borderStyle:"solid",borderRadius:"3px",boxShadow:"1px 1px #AFAFAF"};var _=s.getPositiveNumber;function A(e,t){if(a.isFunction(e)){return e}else{return t.defaultValue}}var b=function(e){this._properties=e;this._properties.add({tooltip:{preRender:{set:A},postRender:{set:A},formatString:{set:function(e,t){if(a.isString(e)||a.isPlainObject(e)||a.isArray(e)){return e}else{return t.defaultValue}}},unitFormatType:{set:function(e,t){if(a.isString(e)){return e}else{return t.defaultValue}}}}});this._display=r.extend(true,{},y);this._tooltipMode=r.extend(true,{},v);this._defaultToolTipColors={backgroundColor:"",borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:"",dimensionName:"",dimensionValue:"",measureName:"",measureValue:"",separationLineSingleColor:"",footerLabelColor:"",closeButtonBackground:"#ffffff",closeButtonBorderColor:"#cccccc"};this._data=null;this._semanticResult=null;this._div=null;this._borderDiv=null;this._mainDiv=null;this._isShown=false;this._closeButtonDiv=null;this._extensionDiv=null;this._mode=null;this._dimensionOrMeasureTitles=[];this._maxRatio=.75;this._isRTL=false;if(n.isWindowsSurface()){this._touchEvent={touchstart:"pointerdown",touchend:"pointerup"}}else{this._touchEvent={touchstart:"touchstart",touchend:"touchend"}}};function x(e){if(e==null){return o.get("IDS_ISNOVALUE")}else{return e}}b.prototype.isActionMode=function(){return this._mode===v.ACTION_MODE};b.prototype.isInfoMode=function(){return this._mode===this._tooltipMode.INFO_MODE};b.prototype.shouldShowFullText=function(){return this._properties.get("tooltip.showFullText")};b.prototype._willHaveScrollbar=function(){return this.isActionMode()&&this._isTextTooTall&&!this.shouldShowFullText()};b.prototype.onClose=function(e){this._onClose=e};b.prototype._clearGlobalValues=function(){this._dimensionOrMeasureTitles=[]};b.prototype._getTooltipContainer=function(){return this._div.node().parentNode};b.prototype._getRootParent=function(){return this._rootNode&&this._rootNode.parentNode};b.prototype.createNode=function(e){if(e!==null&&e!==undefined){var t=d3.select(e);this._div=t.select(".v-m-tooltip");if(this._div.node()===null){this._div=t.append("div").attr("class","v-m-tooltip")}}return this};b.prototype._formatTooltipData=function(e,i){return t.format(e,this._properties,i)};var S=function(e,t,i){if(e){try{return e(t,i)}catch(e){l.error("ERROR in Tooltip callback")}}};b.prototype.showTooltip=function(e,t,i,r){if(!this._div||this._getTooltipContainer()===null){this.createNode(e.container)}this._rootNode=e.root;this._mode=e.mode;this._data=this._formatTooltipData(e,r);this._semanticResult=t;if(this._borderDiv!==null){this._borderDiv.remove()}this._isRTL=i;this._isTextTooTall=false;this._isTextTooLong=false;this._maxUntruncatedTextWidth=null;var n=false;var l;for(l=0;l<u.RTL_LANG.length;l++){if(o.currentLanguage.indexOf(u.RTL_LANG[l])===0){n=true;break}}if(this._properties.get("tooltip.visible")){this._borderDiv=this._div.append("div").attr("class","v-background");if(this._data.data&&this._data.data.rangeSelectionStage==="inLasso"){this._div.node().style["pointer-events"]="none"}else{this._div.node().style["pointer-events"]=""}this._mainDiv=this._borderDiv.append("div").attr("class","v-tooltip-mainDiv").style("position","relative").style("direction",n?"rtl":null);if(D()){this._borderDiv.style("-webkit-overflow-scrolling","auto");this._closeButtonDiv=this._borderDiv.append("div").attr("class","v-closeButton").style("position","absolute").style("direction",n?"rtl":null);var s=this;this._closeButtonDiv.on(this._touchEvent.touchstart,function(){d3.event.stopPropagation();d3.event.preventDefault()},true).on(this._touchEvent.touchend,function(){if(s._onClose&&a.isFunction(s._onClose)){s._onClose.call(s)}s.hideTooltip(s._mode);d3.event.stopPropagation();d3.event.preventDefault()},true)}this._extensionDiv=this._borderDiv.append("div").attr("class","v-tooltip-extension").style("position","relative").style("display","block").style("margin-top","10px");this._updateTooltipColor();if(this.isActionMode()){var c=S(this._properties.get("tooltip.preRender"),this._extensionDiv);if(a.isExist(c)&&c instanceof Object&&a.isExist(c.then)&&a.isFunction(c.then)){var h=function(){this._renderTooltip()};c.then(h.bind(this))}else{this._renderTooltip()}}else{this._renderTooltip()}S(this._properties.get("tooltip.postRender"),this._borderDiv);this._isShown=true}};b.prototype.isShown=function(){return this._isShown};b.prototype.hideTooltip=function(e){if(e==null||e===this._mode){if(this._borderDiv){this._borderDiv.remove();this._borderDiv=null}if(this._mainDiv){this._mainDiv=null}if(this._extensionDiv){this._extensionDiv=null}if(this._closeButtonDiv){this._closeButtonDiv.on(this._touchEvent.touchend,null);this._closeButtonDiv.on(this._touchEvent.touchstart,null);this._closeButtonDiv=null}this._defaultToolTipColors.background="";this._defaultToolTipColors.border="";this._defaultToolTipColors.dimensionName="";this._defaultToolTipColors.dimensionValue="";this._defaultToolTipColors.measureName="";this._defaultToolTipColors.measureValue="";this._defaultToolTipColors.separationLineSingleColor="";if(this._div){this._div.style("visibility","hidden").style("padding","0px").style("max-height","").style("top","-65535px").style("left","-65535px")}this._clearGlobalValues();this._isShown=false}};b.prototype._calculateDesktopPos=function(e,t){var i=t.x;var a=t.y;var r=+this._display.paddingBottom;var o=+this._display.paddingTop;var n=this._display.mouseMarginTop;var l=this._div.node();var s=l.offsetWidth;var u=l.offsetHeight;if(i+s/2>e.right){i=e.right-s}else if(i-s/2<e.left){i=e.left}else{i=i-s/2}if(!this.isInfoMode()&&a-n-u<e.top){a=a+13-o}else if(this.isInfoMode()&&a-r-n-u<e.top){a=a+13}else{a=a-n-u;if(this.isInfoMode()){a=a-r}}if(a+u>e.bottom){if(t.y<=(e.bottom+e.top)/2){a=t.y+13;if(!this.isInfoMode()){a=a-o}}else{a=t.y-n-u;if(this.isInfoMode()){a=a-r}}}return{x:i,y:a}};b.prototype._calculateMobilePos=function(e,t){var i=t.x;var a=t.y;var r=this._display.closeButton.size;var o=this._display.mouseMarginTop;var n=this._div.node();var l=n.offsetWidth;var s=n.offsetHeight;if(i+l/2+r/2>e.right){i=e.right-l-r/2}else if(i-l/2<e.left){i=e.left}else{i=i-l/2-r/2}if(a-o-s-r/2<e.top){a=a+13+r/2}else{a=a-o-s}if(a+s+r/2>e.bottom){if(t.y<=(e.bottom+e.top)/2){a=t.y+13+r/2}else{a=t.y-o-s}}return{x:i,y:a}};function D(){return n.isMobile()&&(!n.isIE()||n.isPointerEnabled())}b.prototype._calculatePos=function(e){var t;if(a.isExist(e.alignTo)){var i=this._div.node();[].concat(e.alignTo).forEach(function(e){if(e.source.dom){return}else if(!e.source.selector){e.source.dom=i}else{e.source.dom=i.querySelector(e.source.selector)}});t=h.calculate(e.alignTo)}else{var r=this._getLimit();var o=this._getTooltipContainer().getBoundingClientRect();var n=D()?this._calculateMobilePos:this._calculateDesktopPos;var l=n.call(this,r,e);t={x:l.x-o.left,y:l.y-o.top}}if(e.offset){t.x+=e.offset.x||0;t.y+=e.offset.y||0}return t};b.prototype._getMaxWidth=function(){var e=this._getRootParent()&&+this._getRootParent().offsetWidth||0;var t=_(this._getTooltipContainer().getAttribute("actualWidth"),0);return Math.max(e,t)*this._maxRatio};b.prototype._getMaxWidthForText=function(){var e=Math.max(this._getMaxWidth()-2*(this._display.paddingNum+this._display.borderWidthNum),0);if(C(this._data)){e=Math.max(this._getReservedSpaceForSelection().width,e)}return Math.max(e,this._maxUntruncatedTextWidth)};b.prototype._getMaxHeight=function(){var e=this._getRootParent()&&+this._getRootParent().offsetHeight||0;var t=_(this._getTooltipContainer().getAttribute("actualHeight"),0);var i=Math.max(e,t)*this._maxRatio;if(C(this._data)){i-=this._getReservedSpaceForSelection().height}return Math.max(i,0)};b.prototype._getMaxHeightForText=function(){return Math.max(this._getMaxHeight()-2*this._display.paddingNum,0)};b.prototype._getLimit=function(){function e(e,t,i){if(!e){return 0}return e.hasAttribute(t)?_(e.getAttribute(t),0):e[i]}var t;if(this._properties.get("tooltip.layinChart")&&!this.shouldShowFullText()){var i=this._getTooltipContainer();var a=i.getBoundingClientRect();var r=e(i,"actualWidth","offsetWidth");var o=e(i,"actualHeight","offsetHeight");t={top:a.top,left:a.left,bottom:a.top+o,right:a.left+r}}else{var n=[0,0];["clientWidth","clientHeight"].forEach(function(e,t){if(document.documentElement[e]){n[t]=document.documentElement[e]}else if(document.body&&document.body[e]){n[t]=document.body[e]}});t={top:0,left:0,bottom:n[1],right:n[0]}}return t};b.prototype._adjustTooltipHeight=function(e){this._div.style("max-height",e/2-this._display.truncatedHeight+"px")};b.prototype._renderTooltip=function(){if(!this._extensionDiv.node()||this._extensionDiv.node().childNodes.length===0){this._extensionDiv.remove()}var e=this._getTextsAndStyles();if(e){if(this.shouldLayout()){e=this.layout(e)}this._drawContent(e);this._postUpdateTable(this._data.data)}this._updateSelection();this._updateBorderDiv();this._updateDiv();this._adjustCloseBtnForMobile()};b.prototype._postUpdateTable=function(e){};b.prototype._updateBorderDiv=function(){this._borderDiv.style("background",this._defaultToolTipColors.backgroundColor);this._borderDiv.style("border-color",this._defaultToolTipColors.border);var e=["borderTopColor","borderBottomColor","borderLeftColor","borderRightColor"];var t=["border-top-color","border-bottom-color","border-left-color","border-right-color"];for(var i=0;i<e.length;i++){if(this._defaultToolTipColors[e[i]]!==""){this._borderDiv.style([t[i]],this._defaultToolTipColors[e[i]])}}this._borderDiv.style("border-style",this._display.borderStyle).style("border-width",this._display.borderWidth).style("border-radius",this._display.borderRadius).style("box-shadow",this._display.boxShadow).style("overflow-x","hidden").style("overflow-y","auto").style("padding",this._display.padding)};b.prototype._updateDiv=function(){this._div.style("position","absolute").style("left","0px").style("top","0px").style("width","auto").style("height","auto").style("float","left").style("visibility","hidden").style("line-height","normal");this._addPadding();if(this.isActionMode()){this._div.style("padding-bottom",this._display.paddingBottom+"px");if(!D()){this._div.style("padding-top",this._display.paddingTop+"px")}}else{this._div.style("padding-top","0px")}var e;if(document.documentElement.clientHeight){e=document.documentElement.clientHeight}else if(document.body&&document.body.clientHeight){e=document.body.clientHeight}if(this._div.node().offsetHeight>e){this._adjustTooltipHeight(e)}this._div.style("visibility","visible").style("white-space","nowrap");if(this._data.forceStyle){this._div.style(this._data.forceStyle)}var t=this._calculatePos(this._data.position);this._div.style("left",t.x+"px").style("top",t.y+"px")};b.prototype._adjustCloseBtnForMobile=function(){if(D()){var e=this._div.node();var t=this._getPaddingForCloseBtn(e);var i=e.offsetWidth-parseInt(t.paddingRight);var a=this._display.closeButton.size,r=a/2;var o=this._display.closeButton.forkSize,l=o/2;var s=this._display.closeButton.borderSize;var u=r-l;var c=r-s/2;var h="-webkit-transform";if(n.isWindowsSurface()){h="transform"}var p={position:"absolute",height:this._display.closeButton.borderSize,width:o+"px","border-bottom-color":this._defaultToolTipColors.closeButtonBorderColor,"border-bottom-width":this._display.closeButton.borderSize+"px","border-bottom-style":this._display.closeButton.borderStyle,top:c+"px",left:u+"px"};p[h]="rotate(-45deg)";this._closeButtonDiv.append("div").style(p);p[h]="rotate(45deg)";this._closeButtonDiv.append("div").style(p);var d=r-parseInt(t.paddingTop);this._closeButtonDiv.style("left",i-r-this._display.closeButton.borderSize+"px").style("top",-d+"px").style("width",a+"px").style("height",a+"px").style("border-width",this._display.closeButton.borderSize+"px").style("border-radius",a+"px").style("border-style",this._display.closeButton.borderStyle).style("border-color",this._defaultToolTipColors.closeButtonBorderColor).style("background",this._defaultToolTipColors.closeButtonBackground)}};b.prototype._getPaddingForCloseBtn=function(e){if(e){var t=/(\d*)px/i;var i=e.style;var a=i.paddingRight;var r=i.paddingTop;var o=t.exec(a);a=o&&o[1]||0;o=t.exec(r);r=o&&o[1]||0;return{paddingRight:a,paddingTop:r}}return{paddingRight:0,paddingTop:0}};b.prototype._addPadding=function(){if(this.isActionMode()){this._div.style("padding-bottom",this._display.paddingBottom+"px")}};b.prototype._getReservedSpaceForSelection=function(){var e=this._getStyleForSelection();var t=this._getTextForSelection();var i=this.measure(t,e);var a=i.height+this._display.horizontalLine.borderBottomNum+this._display.horizontalLine.marginTopNum+this._display.selectedText.marginTopNum;return{height:a,width:i.width}};b.prototype._getReservedSpaceForScrollbar=function(){if(this.shouldShowFullText()){return 0}else if(D()){var e=10;return e}else if(n.isIE()){var t=30;return t}else{var i=20;return i}};function w(e){if(e.selectedNumber<=0){return false}return e.selectedNumber>1||e.data&&e.data.rangeSelectionStage==="lassoEnd"}function C(e){return e.data&&e.selectedNumber>0&&w(e)}b.prototype._getStyleForSelection=function(){var e=P(this._display.selectedText);if(this._defaultToolTipColors.footerLabelColor!==""){e+=";color:"+this._defaultToolTipColors.footerLabelColor}if(!this._data.data){e=e.replace(/margin-top:[0-9]+px/,"margin-top:0px")}return e};b.prototype._getTextForSelection=function(){var e=this._data.selectedNumber===1;var t=e?o.get("IDS_VALUE_SELECTED"):o.get("IDS_VALUES_SELECTED");if(!t){t=e?f:d}return this._data.selectedNumber+" "+t};b.prototype._updateSelection=function(){if(this.isActionMode()){var e=this._data;if(C(e)){var t=this._mainDiv.append("div").attr("class","v-separationline").style("margin-top",this._display.horizontalLine.marginTop).style("border-bottom-width","1px").style("border-bottom-style","solid");if(this._defaultToolTipColors.separationLineSingleColor!==""){t.style("border-bottom-color",this._defaultToolTipColors.separationLineSingleColor)}}if(w(e)||!e.data){var a=this._getStyleForSelection();var r=this._getTextForSelection();this._mainDiv.append("div").each(function(){i.setDOMStyle(this,a)}).attr("class","v-footer-label tooltipfooterlabel").text(r)}}};b.prototype._processTimeRange=function(e){var t=e.length;var i=0;if(t<2||!e[i].bTimeRange){return}if(e[0].value.time&&e[0].value.day&&e[0].value.day===e[1].value.day){e[0].value.day=null}};b.prototype._getDimensionTextAndStyle=function(e,t,i,o){var n=r.extend(true,{},this._display.dimensionName);var l=r.extend(true,{},this._display.dimensionValue);var s=i.bTimeRange||i.bValueDate;var u=s?i.value.time||i.value.day:i.value;if(o&&(!s||!i.value.time||!i.value.day)){n.paddingBottom="0px";l.paddingBottom="0px"}if(i.bValueDate){l.paddingLeft="0px"}var c=[];var h=[];var p,d;if(!i.bValueDate){if(this._defaultToolTipColors.dimensionName!==""){n.color=this._defaultToolTipColors.dimensionName}if(this._isRTL){n._float="left"}var f;var v=this._semanticResult;if(v&&v.dataName){f=v.dataName[i.id]}d=x(a.isExist(f)?f:i.name)+":";h.push(d);c.push(n)}var g=x(u);var m=r.extend(true,{},l);if(this._defaultToolTipColors.dimensionValue!==""){m.color=this._defaultToolTipColors.dimensionValue}h.push(g);c.push(m);if(s&&i.value.day&&i.value.time){if(o){l=r.extend(true,{},this._display.dimensionValue);l.paddingBottom="0px";l.color=this._defaultToolTipColors.dimensionValue;m=l}g=x(i.value.day);h.push(g);c.push(m);i.drawAsTwoRow=true}t.push(c);e.push(h)};function T(e,t,i){var a=[];for(var r=0;r<e.length;r++){if(t.indexOf(r)>-1){if(i){a.push(e[r]);a.push(e[r])}else{if(e[r].length===2){a.push([e[r][0]]);a.push([e[r][1]])}else{a.push(e[r].slice(0,2));a.push(e[r].slice(2))}}}else{a.push(e[r])}}return a}b.prototype._getTextsAndStyles=function(){var e=this._data.data,t=this._semanticResult;if(e&&e.length){var i,o,n,l,s,u;var h=[],p=[];for(var d=-1;++d<e.length;){if(e[d].type==="Dimension"){var f=e[d];if(c.hasFiscalLevel(this._properties)){c.tooltipDataToDate(f)}h.push(f)}else if(e[d].type==="Measure"){p.push(e[d])}}this._processTimeRange(h);var v=[],g=[];var m=[];for(d=0;d<h.length;++d){var y=d===h.length-1&&p.length===0;if(y){i=r.extend(true,{},this._display.dimensionName);i.paddingBottom="0px";o=r.extend(true,{},this._display.dimensionValue);o.paddingBottom="0px"}else{i=this._display.dimensionName;o=this._display.dimensionValue}this._getDimensionTextAndStyle(v,g,h[d],y);if(h[d].drawAsTwoRow){m.push(d)}}if(m.length>0){h=T(h,m,true);v=T(v,m);g=T(g,m)}var _=[],A=[];for(d=-1;++d<p.length;){i=r.extend(true,{},this._display.measureName);o=r.extend(true,{},this._display.measureValue);if(d===p.length-1){i.paddingBottom="0px";o.paddingBottom="0px"}if(this._defaultToolTipColors.measureName!==""){i.color=this._defaultToolTipColors.measureName}if(this._isRTL){i._float="left"}var b;if(t&&t.dataName){b=t.dataName[p[d].id]}var S=x(a.isExist(b)?b:p[d].name)+":";var D=x(p[d].value);if(this._defaultToolTipColors.measureValue!==""){o.color=this._defaultToolTipColors.measureValue}_.push([S,D]);A.push([i,o])}return{dimTexts:v,dimStyles:g,msrTexts:_,msrStyles:A,dims:h,measures:p}}};b.prototype._drawContent=function(e){var t=e.dimTexts;var i=e.dimStyles;var a=e.msrTexts;var r=e.msrStyles;var o=e.dims;var n=e.measures;var l;var s=this._mainDiv.append("div").attr("class","v-tooltip-mainDiv-scrollable-container");var u=s.append("table").attr("class","v-tooltip-dimension-measure").style("border-collapse","collapse");if(!this._isTextTooLong){this.drawToTable(u,o,t,i,true);this.drawToTable(u,n,a,r,false)}else{l=this._getMaxWidthForText();if(this.isActionMode()){if(this._isTextTooTall){l-=this._getReservedSpaceForScrollbar()}this.drawLongTextToTable(l,u,o,t,i,true);this.drawLongTextToTable(l,u,n,a,r,false)}else{this.drawLongTextToTable(l,u,o,t,i,true);this.drawLongTextToTable(l,u,n,a,r,false)}}if(this._isTextTooTall){var c=u.node().offsetHeight;this._isTextTooTall=c>this._getMaxHeight()}if(this._willHaveScrollbar()){var h=this._getMaxHeightForText();s.style("height",h+"px").style("overflow-y","scroll")}if(this._isTextTooLong){var p=u.node().offsetWidth;this._isTextTooLong=p>l}if(this._isTextTooLong&&!this.shouldShowFullText()){s.style("width",this._getMaxWidthForText()+"px").style("overflow-x","hidden")}};b.prototype.calculateLineNum=function(e,t){if(this._isRTL){return 1}return this.isActionMode()&&t>0?Math.ceil(e/t)+2:2};b.prototype.measureWrappedText=function(e,t,i,a){var r=this.measure(e,t);var o;if(r.width<i||a){return r}var n=this.calculateLineNum(r.width,i);var l=p.wrapText(e,[" "],i,n,P(t));if(l.lines.length===1){return r}else{var s=0;var u=0;l.lines.forEach(function(e){var i=this.measure(e,t);s+=i.height;u=Math.max(u,i.width)},this);o=s;return{height:o,width:u}}};b.prototype.shouldLayout=function(){return true};b.prototype.measure=function(e,t){var i=p.fastMeasure(e,t.fontSize,t.fontWeight,t.fontFamily);var a=t.paddingBottomNum||0;var r=t.paddingLeftNum||0;var o=1;i.height+=a+o;i.width+=r+o;return i};b.prototype.layout=function(e){var t=e.dimTexts;var i=e.dimStyles;var a=e.msrTexts;var r=e.msrStyles;var o=e.dims;var n=e.measures;var l=t.concat(a);var s=i.concat(r);var u=o.concat(n);var c=this._getMaxWidthForText();var h=this._getMaxHeightForText();var p=0;var d=0;var f,v;var y;var _;var A;var b;var x=0;var S=this._isRTL?"right":"left";var D=l.length;var w=0;var C=[];var T=[];var z=this.isInfoMode()&&!this.shouldShowFullText();function P(e){if(x>h){e._isTextTooTall=true;if(z){D=f;return true}}return false}for(f=0;f<l.length;f++){y=l[f];_=s[f];A=u[f];if(y.length===2){var k=this.measure(y[0],_[0]);var E=this.measure(y[1],_[1]);x+=Math.max(k.height,E.height);if(P(this)){break}b=E.width;p=Math.max(p,k.width);d=Math.max(d,b);if(p+d>c){this._isTextTooLong=true}}else if(y.length===1){var I=this.measure(y[0],_[0]);x+=I.height;if(P(this)){break}b=I.width;if(b>c){this._isTextTooLong=true}}if(L(A)){C.push(y.length===2?y[1]:y[0]);T.push(_.length===2?_[1]:_[0])}}if(this._isTextTooLong){for(f=0;f<s.length;f++){var O=s[f];for(v=0;v<O.length;v++){var R=O[v];R.paddingLeft="0px";R.paddingLeftNum=0;R._float=S;if(f===s.length-1&&v===O.length-1){R.paddingBottom="0px";R.paddingBottomNum=0}else{R.paddingBottom=m;R.paddingBottomNum=g}}}}var N=false;function M(e){if(!N&&e._willHaveScrollbar()&&e._maxUntruncatedTextWidth>0){e._maxUntruncatedTextWidth+=e._getReservedSpaceForScrollbar();N=true}}if(C.length>0){for(f=0;f<C.length;f++){b=this.measure(C[f],T[f]).width;this._maxUntruncatedTextWidth=Math.max(this._maxUntruncatedTextWidth,b)}M(this)}c=this._getMaxWidthForText();if((!this._isTextTooTall||z||this.shouldShowFullText())&&this._isTextTooLong){x=0;var B=false;for(f=0;f<D&&!B;f++){y=l[f];_=s[f];A=u[f];for(v=0;v<y.length;v++){var V=y.length===2&&v===0?false:L(A);var F=this.measureWrappedText(y[v],_[v],c,V);x+=F.height;if(this.shouldShowFullText()){this._maxUntruncatedTextWidth=Math.max(this._maxUntruncatedTextWidth,F.width)}if(x>h){this._isTextTooTall=true;if(!this.shouldShowFullText()){B=true}if(z){D=f;w=v;break}}}}}if(this._isTextTooTall&&z){l=l.slice(0,D+1);u=u.slice(0,D+1);s=s.slice(0,D+1);if(w===1){l[D][1]="...";s[D][1]._float=S}else{l[D]=["..."];s[D][0]._float=S}var H=o.length;var U=u.length;t=l.slice(0,H);i=s.slice(0,H);o=u.slice(0,H);a=l.slice(H);r=s.slice(H);n=u.slice(H);e.dimTexts=t;e.dimStyles=i;e.msrTexts=a;e.msrStyles=r;e.dims=o;e.measures=n}M(this);return e};function z(e,t,a,r){var o=a.append("td").each(function(){i.setDOMStyle(this,P(e))}).text(t).attr("class",r);return o}b.prototype.drawToTable=function(e,t,i,a,r){for(var o=0;o<i.length;o++){var n=i[o];var l=a[o];var s=e.append("tr");var u,c;var h=t[o];if(n.length===2){c=r?"v-body-dimension-label":"v-body-measure-label";u=z(l[0],n[0],s,c);this._dimensionOrMeasureTitles.push(u);c=r?"v-body-dimension-value":"v-body-measure-value";u=z(l[1],n[1],s,c)}else if(n.length===1){c=r?"v-body-dimension-value":"v-body-measure-value";u=z(l[0],n[0],s,c);if(h.bValueDate||h.bTimeRange){u.attr("colspan","2")}}if(h.bTimeRange){u.attr("align","right")}}};function L(e){return e.type==="Measure"||e.bTimeRange||e.bValueDate}b.prototype.renderLongTextIntoCell=function(e,t,a,r,o,n){var l=[e];t=P(t);var s=this.measure(e,t).width;if(s>n&&!a){var u=this.calculateLineNum(s,n);var c=p.wrapText(e,[" "],n,u,t);l=c.lines;if(!this.shouldShowFullText()){var h=l.length-1;l[h]=p.ellipsis(l[h],null,n,t)}}for(var d=0;d<l.length;d++){var f=o.append("tr");var v=f.append("td").each(function(){i.setDOMStyle(this,t)}).text(l[d]).attr("class",r)}};b.prototype.drawLongTextToTable=function(e,t,i,a,r,o){for(var n=0;n<a.length;n++){var l=a[n];var s=r[n];var u=i[n];var c,h;if(l.length===2){h=o?"v-body-dimension-label":"v-body-measure-label";this.renderLongTextIntoCell(l[0],s[0],false,h,t,e);this._dimensionOrMeasureTitles.push(c);h=o?"v-body-dimension-value":"v-body-measure-value";this.renderLongTextIntoCell(l[1],s[1],L(u),h,t,e)}else if(l.length===1){h=o?"v-body-dimension-value":"v-body-measure-value";this.renderLongTextIntoCell(l[0],s[0],L(u),h,t,e)}}};function P(e){if(a.isString(e)){return e}var t="";var i={_float:"float",color:"color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",whiteSpace:"white-space",textOverflow:"text-overflow",overflow:"overflow",paddingLeft:"padding-left",paddingBottom:"padding-bottom",marginTop:"margin-top"};for(var r in i){if(i.hasOwnProperty(r)&&e[r]){t+=i[r]+":"+e[r]+";"}}return t}b.prototype._getStyle=function(e){return P(e)};b.prototype.destroy=function(){this._extensionDiv=null;this._mainDiv=null;this._properties=null;this._display=null;this._defaultToolTipColors=null;this._data=null;this._semanticResult=null};b.prototype._updateTooltipColor=function(){var e=this._properties.get("tooltip");var t=this._defaultToolTipColors;t.backgroundColor=e.background.color;t.border=e.background.borderColor;if(e.bodyDimensionLabel&&e.bodyDimensionLabel.color){t.dimensionName=e.bodyDimensionLabel.color}if(e.bodyDimensionValue&&e.bodyDimensionValue.color){t.dimensionValue=e.bodyDimensionValue.color}if(e.bodyMeasureLabel&&e.bodyMeasureLabel.color){t.measureName=e.bodyMeasureLabel.color}if(e.bodyMeasureValue&&e.bodyMeasureValue.color){t.measureValue=e.bodyMeasureValue.color}if(e.separationLine&&e.separationLine.color){t.separationLineSingleColor=e.separationLine.color}if(e.footerLabel&&e.footerLabel.color){t.footerLabelColor=e.footerLabel.color}if(e.closeButton&&e.closeButton.backgroundColor){t.closeButtonBackground=e.closeButton.backgroundColor}if(e.closeButton&&e.closeButton.borderColor){t.closeButtonBorderColor=e.closeButton.borderColor}};return b});define("sap/viz/chart/behavior/config/TooltipClassMap",["sap/viz/chart/behavior/config/tooltip/Tooltip"],function(e){var t={"*":e};var i={};i.register=function(e,i){for(var a=0;a<e.length;++a){t[e[a]]=i}};i.get=function(e){return t[e]||t["*"]};return i});define("sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler",["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/FormatManager","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/DOM","sap/viz/chart/behavior/config/handler/TooltipTimerHandler","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/chart/behavior/config/TooltipClassMap"],function(e,t,i,a,r,o,n,l,s,u,c,h){var p="measureNames";var d="_context_row_number";var f="Dimension";var v="inLasso";var g="lassoEnd";function m(e,t){var i={body:[],footer:[],point:e.position,selectedValues:e.selectedNumber};if(t){i.plotArea=t}var a=e.data;if(a&&a.length){for(var r=-1;++r<a.length;){var o=a[r];if(o.type==="Measure"){i.body.push({name:o.name,val:[{value:o.value}]})}else if(o.type==="Dimension"){i.footer.push({label:{val:o.name},value:{val:o.value}})}}}return i}function y(e,i){var a=false;if(i.getProperties()){var o=i.getProperties().get("interaction.decorations");if(r.isArray(o)){o.forEach(function(e){if(e.name==="hideDetail"){e.fn.call(this,i.getStatus("tooltipMode"));a=true}})}}if(!a){if(e.isShown()){e.hideTooltip();i.setStatus("tooltipMode",null);i.fireExternalEvent("hideTooltip",{name:t.Event.TooltipHide.name})}}}function _(e,t){if(r.isExist(e[t+i.DIMENSION_DISPLAYNAME_SUFFIX])){return e[t+i.DIMENSION_DISPLAYNAME_SUFFIX]}else if(r.isExist(e[t])){return e[t]}return null}function A(e,t,i){if(r.isExist(e[t])){return e[t]}else if(i===true&&e[t]===undefined){return undefined}return null}function b(e,t){for(var i in t){if(t.hasOwnProperty(i)){for(var a=0;a<t[i].length;++a){var r=t[i][a];if(r.id===e){return r}}}}return null}function x(e,t){if(r.isExist(e[t+i.DIMENSION_DISPLAYNAME_SUFFIX])){return e[t+i.DIMENSION_DISPLAYNAME_SUFFIX]}return null}function S(e,t){var i,a;if(t){a=t.timeField}else{i=e.getDataModel().timeAxis();a=i.metaData.map(function(e){return e.id})}return a}var D=d3.format(".2%");var w=function(){};w.processDateFormat=function(e,t,i){if(e.timeDimensions!==undefined){var a=e.timeDimensions;for(var r=0;r<a.length;++r){var o=e[a[r]];o.bValueDate=true;if(t){o.timeAxis=i}}}};w.prototype={standAloneInitialized:function(e,t){t.getProperties().origin.add({tooltip:{layinChart:true,visible:true,background:{color:"#ffffff",borderColor:"#cccccc"},bodyDimensionLabel:{color:"#666666"},bodyDimensionValue:{color:"#666666"},bodyMeasureLabel:{color:"#666666"},bodyMeasureValue:{color:"#000000"},closeButton:{backgroundColor:"#ffffff",borderColor:"#cccccc"},footerLabel:{color:"#000000"},separationLine:{color:"#a7a9ac"},preRender:null,postRender:null,formatString:null,unitFormatType:"FinancialUnits"}})},createTooltipInstance:function(e){var t=h.get(e._getChartType());return new t(e.getProperties())},initialized:function(e,i){this._tooltipModule=this.createTooltipInstance(i);this._tooltipModule.onClose(function(){i.fireExternalEvent("hideTooltip",{name:t.Event.TooltipHide.name})});i.setStatus("tooltipMode",null);this._createTooltipTimerHandler()},_createTooltipTimerHandler:function(){this._tooltipTimerHandler=new u},unloadedClear:function(e,t){var i=this._tooltipModule;if(i){y.call(this,i,t);i.destroy()}delete this._tooltipModule;t.removeStatus("tooltipMode");this._tooltipTimerHandler.reset()},refreshedTooltip:function(e,t){var i=this._tooltipModule;if(!i){return}y.call(this,i,t);this._tooltipTimerHandler.reset()},_getShowTooltipHandler:function(e,i){function a(){var a=this._tooltipModule;if(!a){return}var r=this._handleShowDetail(e,i);var o=e.data.mode;i.setStatus("tooltipMode",o);i.fireExternalEvent("showTooltip",{name:t.Event.TooltipShow.name,data:r.eventtData})}return a.bind(this)},_getHideTooltipHandler:function(e,t){function i(){var i=this._tooltipModule;if(!i){return}var a=t.getStatus("tooltipMode");if(!a||e.data.mode!==a){return}var o=t.getProperties().get("interaction.decorations");var n=false;if(r.isArray(o)){o.forEach(function(t){if(t.name==="hideDetail"){t.fn.call(this,e.data.mode);n=true}})}y.call(this,i,t)}return i.bind(this)},showDetail:function(e,t){var i=e.data.action;var a=this._getShowTooltipHandler(e,t);var r=this._getHideTooltipHandler(e,t);if(i){this._tooltipTimerHandler.setShowTooltipHandler(a);this._tooltipTimerHandler.setHideTooltipHandler(r);this._tooltipTimerHandler.setMode(e.data.mode);this._tooltipTimerHandler[i](e.data.target)}else{a()}},_handleShowDetail:function(e,t){var i,o=this._tooltipModule;var n=t.getProperties().get("tooltip.applyTimeAxisFormat");var s=t.getProperties().get("tooltip.formatString");var u;var c=t.getModule("main.timeAxis");if(c){var h=t.getDataModel();if(h&&h._timeAxis){u=h._timeAxis.metaData[0].id;n=n&&!(r.isExist(s)&&r.isExist(s[u]))}}if(e.data.target&&!t.getStatus("rangeSelection")){t.fireEvent("extractTooltipData",{target:e.data.target});i=t.getStatus("tooltipData");w.processDateFormat(i,n,c)}else if(t.getStatus("rangeSelection")){var p=t.getStatus("rangeDomain");var d="From";var y="To";i=[{id:u,name:l.get("IDS_TIME_FROM")||d,value:p[0],type:f,bTimeRange:true,timeAxis:n?c:null},{id:u,name:l.get("IDS_TIME_TO")||y,value:p[1],type:f,bTimeRange:true,timeAxis:n?c:null}];i.timeDimensions=[0,1];i.rangeSelectionStage=v;if(e.data.bLassoEnd){i.rangeSelectionStage=g}}var _=e.data.mode;var A={data:i,container:this._getTooltipContainer(t),root:t.getRootContainer(),mode:_,position:e.data.point,isAnchored:!!e.data.isAnchored,forceStyle:e.data.forceStyle};if(!i||i.rangeSelectionStage!==v){A["selectedNumber"]=t.getStatus("selectedDataPoints").length}var b=m(A,t.getBBox(t.BoxType.PLOT_NODE));var x=t.getProperties().get("interaction.decorations");var S=false;if(r.isArray(x)){x.forEach(function(e){if(e.name==="showDetail"){e.fn.call(this,a.extend(true,{},A));S=true}})}if(!S){this._processDecoration(o,A,t,e.data.target)}return{eventtData:b,tooltipData:A}},_processDecoration:function(e,t,i,a){var r=i?i.getSemanticManager():null,o;try{o=r?r.analyzeDataPoint("color,lineColor,lineType,pattern",n.getContext(a),true,n.getAdditionCtx(a)||{}):null}catch(e){o=null}var l=i?i.getEnvManager():null;var s=false;if(l){s=l.isRTL()}e.showTooltip(t,o,s,i)},_getTooltipContainer:function(e){return e.getTooltipContainer()},hideDetail:function(e,t){var i=e.data.action;var a=this._getHideTooltipHandler(e,t);if(i){this._tooltipTimerHandler.setHideTooltipHandler(a);this._tooltipTimerHandler[i](e.data.target)}else{a()}},showTooltipHoverOnPlot:function(e,t){t.fireEvent("showDetail",e.data)},hideTooltipHoverOnPlot:function(e,t){t.fireEvent("hideDetail",e.data)},showTooltipClickBigData:function(e,t){e.data.action="select";t.fireEvent("showDetail",e.data)},hideTooltipClickBigData:function(e,t){e.data.action="deselect";t.fireEvent("hideDetail",e.data)},extractTooltipData:function(e,t){var a=t.getDataModel();var o=a.getBindingMetaData();var l=t.getProperties().get("general.hideNoValueLabel");var s=e.data.target,u,c=[],h=[],f=[],v=[];if(s.context){u=s.context}else if(r.isString(s)||r.isNumber(s)){u=a.getDataPoint(s).context()}else{u=n.getContextByDataModel(s,a)}function g(e){for(var t in o){if(o.hasOwnProperty(t)){for(var i=0;i<o[t].length;++i){var a=o[t][i];if(a.id===e){return a}}}}return null}var m=a.context()&&a.context().metaData;function y(e){for(var t=0;m&&t<m.length;++t){if(m[t].id===e){return m[t]}}return null}var b=t._statusMgr.get("data.unit");var S;for(var D in u){if(u.hasOwnProperty(D)){S=null;if(D===p){continue}var w=g(D)||{};var C=null,T,z=w.type,L;T=z;if(z==="Dimension"){C=c;L=_(u,D)}else if(z==="Measure"||D===d){C=h;L=u[D]==null?u[D]:+u[D];if(z==="Measure"&&typeof u[D]==="string"){S=u[D]}}else{w=y(D)||{};if(!w.showInTooltip){continue}T=w.type;if(T==="Dimension"){C=f}else{C=v}L=_(u,D)}var P=this.decorateFieldName(w.name||D,D,a,s,t.getProperties());var k={id:D,name:P,value:L,strValue:S,type:T,formatString:w.formatString};if(r.isExist(x(u,D))){k["value"+i.DIMENSION_DISPLAYNAME_SUFFIX]=x(u,D);k["value"+i.DIMENSION_VALUE_SUFFIX]=A(u,D,l)}if(b[k.id]){k.unit=b[k.id]}if(C){C.push(k)}}}t.setStatus("tooltipData",c.concat(f).concat(h).concat(v))},decorateFieldName:function(e,t,i,a,r){return e},extractTooltipDataPie:function(t,i){i.fireEvent(t,true);var a=i.getProperties().get("tooltip.bodyMeasureValue.type");var o=i.getStatus("tooltipData");o.forEach(function(i){if(i.type==="Measure"&&t.data.target instanceof SVGElement){var o=e.getData(t.data.target).percentage;if(r.isNaN(o)){var n=d3.select(t.data.target.childNodes[0]).datum();o=(n.endAngle-n.startAngle)/(2*Math.PI)}i.bothValue={value:i.strValue?i.strValue:i.value,percentage:o,primaryKey:a==="percentage"?"percentage":"value"}}});i.setStatus("tooltipData",o)},extractTooltipDataPercentage:function(t,i){i.fireEvent(t,true);var a=i.getStatus("tooltipData");a.forEach(function(i){if(i.type==="Measure"&&t.data.target instanceof SVGElement){i.value=e.getData(t.data.target).percentageValue;var a=e.getContext(t.data.target);i.bothValue={value:a[a.measureNames],percentage:i.value,primaryKey:"percentage"}}});i.setStatus("tooltipData",a)},extractTooltipDataTimebubble:function(e,t){t.fireEvent(e,true);var i=t.getStatus("tooltipData");i.timeMeasure=0;t.setStatus("tooltipData",i)},extractTooltipDataPercentageMekko:function(t,i){i.fireEvent(t,true);var a=i.getStatus("tooltipData");var r=i.getDataModel().getBindingMetaData();var o;if(r){o=r.valueAxis[0]?r.valueAxis[0].id:undefined}a.forEach(function(i){if(i.type==="Measure"&&i.id===o){i.value=e.getData(t.data.target).percentageValue;var a=e.getContext(t.data.target);i.bothValue={value:a[a.measureNames],percentage:i.value,primaryKey:"percentage"};i.value=D(i.value)}});i.setStatus("tooltipData",a)},extractTooltipDataTimeStackedColumnPercentage:function(t,i){i.fireEvent(t,true);var a=i.getStatus("tooltipData");var r=t.data.target;var o=e.getData(r);var n=S(i,o);var l,s=[];a.forEach(function(t,i){if(n.indexOf(t.id)>=0){s.push(i)}if(t.type==="Measure"){t.value=o.percentageValue;l=e.getContext(r);t.bothValue={value:l[l.measureNames],percentage:t.value,primaryKey:"percentage"}}});a.timeDimensions=s;i.setStatus("tooltipData",a)},extractTooltipDataTimeWaterfall:function(t,i){i.fireEvent(t,true);var a=i.getDataModel();var r=a.getBindingMetaData();var o=i.getStatus("tooltipData");var n=e.getData(t.data.target);var s=[],u=[],h=[],p;var d=S(i,n);var f=i.getProperties().get("interaction.selectByTimeAxisGroup");for(var v=0;v<o.length;++v){if(d.indexOf(o[v].id)>=0){s.push(v);if(f){u.push(o[v])}}else if(o[v].type==="Dimension"){if(f){h.push(o[v].id)}}else if(o[v].type==="Measure"){if(f){p=o[v].formatString}}}o.timeDimensions=s;var g=i._statusMgr.get("data.unit"),m=[];if(f){var y=i.getProperties().get("plotArea.dataLabel.recapTitle")||l.get("IDS_END_OF_PERIOD");var _=c.getDataPointsByTimeField(t.data.target,i);if(_){_.forEach(function(t){var a=e.getContext(t);var o=b(a.measureNames,r);var n=e.getData(t).recap;var s="",c=a[a.measureNames];h.forEach(function(e){s+=(a[e+".d"]||a[e]||l.get("IDS_ISNOVALUE"))+" / "});s+=o.name||o.id;u.push({formatString:p,id:a.measureNames,name:s,type:"Measure",value:c,color:e.getData(t).color,unit:g[a.measureNames]});if(n){var d=i.getDataModel().valueAxis().metaData[0];u.push({formatString:d.formatString,id:d.id,name:y,type:"Measure",value:n.value,unit:g[d.id],recap:true})}})}u.timeDimensions=s;o=u}i.setStatus("tooltipData",o)},extractTooltipDataTimeLine:function(t,i){i.fireEvent(t,true);var a=i.getStatus("tooltipData");var r=e.getData(t.data.target);var o=S(i,r);var n=[];for(var l=0;l<a.length;++l){if(o.indexOf(a[l].id)>=0){n.push(l)}}a.timeDimensions=n;i.setStatus("tooltipData",a)},extractTooltipDataWaterfall:function(e,t){t.fireEvent(e,true);var i=t.getStatus("tooltipData");i=i.filter(function(e){var i=t.getDataModel();var a=i.waterfallType()?i.waterfallType().metaData:undefined;var r=a&&a[0]?a[0].id:undefined;return e.id!==r});t.setStatus("tooltipData",i)},extractTooltipDataCombination:function(e,t){t.fireEvent(e,true);var a=t.getProperties().get("general.hideNoValueLabel");if(!a){return}var r=t.getStatus("tooltipData");r=r.filter(function(e){if(e.hasOwnProperty("value"+i.DIMENSION_VALUE_SUFFIX)&&e["value"+i.DIMENSION_VALUE_SUFFIX]===undefined){return false}return true});t.setStatus("tooltipData",r)},extractTooltipDataComboEx:function(t,i){this.extractTooltipDataCombination(t,i);var a=i.getStatus("tooltipData");var r=t.data.target;if(!s.hasClass(r,"v-datapoint")){r=[].filter.call(i.getNodes(i.NodeType.DATA_POINT,false),function(e){return e.getAttribute("data-id")===t.data.target.getAttribute("data-id")})[0]}Object.defineProperty(a,"seriesType",{enumerable:false,value:e.getData(r).seriesType});i.setStatus("tooltipData",a)}};return w});define("sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler",["sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/chartmodel/DataSelector","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/lang/LangManager"],function(e,t,i,a,r,o,n,l,s,u,c,h,p){var d=o.SELECTION_MODE;var f="datapoint";var v="measureNames";var g="_context_row_number";var m="Dimension";var y="Measure";var _="timeAxis";var A="color";var b="waterfallType";var x="percentage";var S=function(e){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){e.fireEvent("syncSelectedLegendItems");e.fireEvent("syncSelectedMBCLegendItems")}};var D=function(){};D.prototype.initializedClearSelection=function(e,t){t.setStatus("selectedDataPoints",[])};D.prototype.unloadedClearSelection=function(e,t){var i=t.getStatus("selectedDataPoints");if(i&&i.length){t.fireEvent("clearPlot",{isGray:false})}t.removeStatus("selectedDataPoints")};D.prototype.refreshedKeepSelection=function(e,t){var i=t.getProperties().get("interaction.selectability.mode");var a=i?i.toUpperCase():i;var r=t.getStatus("selectedDataPoints");var o=t.getStatus("rangeSelection")&&t.getStatus("rangeDomain");var n=false;if(!t.getStatusManager().get("interaction.holdSelection")||a===d.NONE||a===d.SINGLE){if(r.length||o){t.fireEvent("clearPlot",{isGray:false});if(o){t.removeStatus("rangeDomain");t.removeStatus("rangeSelection")}}t.setStatus("selectedDataPoints",[]);n=true}else if(r.length){t.fireEvent("clearPlot",{isGray:!o,rangeSelection:o}).fireEvent("selectDataPoint",{targets:this._getNodes(r,t),disableAnimation:true}).setStatus("selectedDataPoints",r)}S(t);return n};D.prototype.reRenderKeepSelection=function(e,t){var i=t.getStatus("selectedDataPoints");var a=t.getStatus("hoveringDataPoint");var r=t.getStatus("rangeSelection")&&t.getStatus("rangeDomain");if(i.length){var o=this._getNodes(i,t);t.fireEvent("clearPlot",{isGray:!r,rangeSelection:r}).fireEvent("selectDataPoint",{targets:o,disableAnimation:true}).setStatus("selectedDataPoints",i)}if(a){t.fireEvent("hoverOnDataPoint",{targets:a})}if(r){t.fireEvent("rangeRecover")}if(t.getStatus("hoveringOnPlotEvent")){t.fireEvent(t.getStatus("hoveringOnPlotEvent"))}var n=t._getDecorationLayer();n.clear(f)};D.prototype.deselectAll=function(e,t){var i=t.getStatus("selectedDataPoints");t.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:this._getNodes(i,t),isAnyOtherSelected:false}).fireEvent("hideDetail",{mode:"actionMode"}).setStatus("selectedDataPoints",[]);S(t);if(i&&i.length){t.fireEvent("dispatchDataEvent",{targets:i,isSelected:false})}if(t.getProperties().get("interaction.enableInternalEvents")){t.fireExternalEvent("_selectionDetails",{name:"_selectionDetails",data:[]})}};D.prototype.processMultipleSelectionTooltip=function(e,i){var a=i.getStatus("selectedDataPoints");if(a.length&&t.hasDataPoint(a,e.data.targets[0])){i.fireEvent("showDetail",{target:null,mode:"actionMode",point:e.data.point,forceStyle:e.data.forceStyle,isAnchored:e.data.isAnchored})}else{i.fireEvent("hideDetail",{mode:"actionMode"})}};var w={};w[d.SINGLE]=1;w[d.MULTIPLE]=1;w[d.EXCLUSIVE]=1;w[d.INCLUSIVE]=1;var C=["id","label","value","type","unit","unbound"];D.prototype.processSelection=function(t,i){var a=i.getStatus("selectedDataPoints");if(!a){return}if(!a.length){i.fireEvent("clearPlot",{isGray:!i.getStatus("rangeSelection"),rangeSelection:i.getStatus("rangeSelection")})}var r=t.data;var n=String(r.mode).toUpperCase();var l=e.turnToArray(r.targets);var s=[];var u=[];var c=[];var h={};var p,f;if(!w[n]){var v=i.getProperties().get("interaction.selectability.mode");n=v?String(v).toUpperCase():v}var g=i.getProperties().get("interaction.selectability.behavior");var m=g?g.toUpperCase():g;var y=i.getProperties().get("interaction.selectByTimeAxisGroup");if(!y&&n===d.SINGLE&&m===o.SELECTION_BEHAVIOR.DATAPOINT){l=[l[0]]}for(p=l.length;p--;){h[l[p]]=1}for(p=0,f=a.length;p<f;++p){var _=a[p];if(h[_]){c.push(_);h[_]=2}else{s.push(_)}}for(p=0,f=l.length;p<f;++p){if(h[l[p]]===1){u.push(l[p])}}var A=u.concat(a);var b=r.ctrlKeyPressed;var x=[];var D=[];var C=false;if(r.deselection===true){x=s;D=c;C=true}else{if(n===d.SINGLE){if(m===o.SELECTION_BEHAVIOR.CATEGORY&&c.length&&a.length!==l.length){x=l;D=s}else{if(c.length&&a.length===l.length){C=true}x=u;D=a}}else if(!b&&n===d.EXCLUSIVE){x=l;D=s}else if(!b&&n===d.INCLUSIVE){x=A}else if(b||n===d.MULTIPLE){if(!r.deselectable||u.length){x=A}else{x=s;D=c;C=true}}}this._fireEventForProcessSelection(i,D,x,u,r.fireEvents);i.setStatus("selectedDataPoints",x);S(i);if(i.getProperties().get("interaction.enableInternalEvents")){this._fireSelectionDetails(i,x,y)}var T={isDeselect:C,ctrlKey:b};return T};D.prototype.processHighlight=function(t,i){if(!i.isTrellis()&&!i.isDisableSyncHightlight()){if(i.isBigDataMode()){var a=i.getStatus("selectedDataPoints");if(!a.length){i.fireEvent("clearPlot",{isGray:!i.getStatus("rangeSelection"),rangeSelection:i.getStatus("rangeSelection")})}}var r=e.turnToArray(t.data.targets);if(r&&r.length>0){i.fireEvent("hoverOnDataPoint",{targets:this._getNodes(r,i)});i.setStatus("highlightedDataPoints",r)}}};D.prototype.processUnhighlight=function(e,t){t.fireEvent("cleanAxisHoverEffect");t.fireEvent("cleanLegendHoverEffect");t.fireEvent("cleanMBCHoverEffect");if(!t.isTrellis()&&!t.isDisableSyncHightlight()){if(t.isBigDataMode()){var i=t.getStatus("selectedDataPoints");if(!i.length){t.fireEvent("clearPlot")}}var a=t.getStatus("highlightedDataPoints");if(a&&a.length>0){if(a&&a.length){t.fireEvent("unhoverOnDataPoint",{targets:this._getNodes(a,t)})}t.setStatus("highlightedDataPoints",[])}}};D.prototype._fireSelectionDetails=function(e,t,i){var a=function(e,t){for(var i=0;e&&i<e.length;++i){if(e[i].id===t){return e[i]}}return null};var r=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){var r=a(e[i],t);if(r){return{role:i,metaData:r}}}}return null};var o=e.getDataModel();var d=o&&o.getBindingMetaData();var f=o&&o.context()&&o.context().metaData;var S=e.getStatusManager().get("data.unit");var D=e.getSemanticManager();var w;if(i){w=e.getProperties().get("plotArea.dataLabel.recapTitle")||p.get("IDS_END_OF_PERIOD")}var T=this;var z=t.map(function(t){var p=o&&o.getDataPoint(t);if(!p){return{data:null,displayData:[]}}var z=l.clone(p.context());var L=D.analyzeDataPoint("color,lineColor,lineType,pattern",z,true,p.additionCtx());var P=L&&L.dataName||{};var k=z[v];delete z[v];var E=[],I=[],O=[],R=[],N=[],M=[];for(var B in z){if(z.hasOwnProperty(B)&&B!==g){var V=r(d,B)||{metaData:{}};var F=null,H=V.role,U,W,G=false,Y=null,X=V.metaData.type,j=V.metaData.name;if(X===m){if(H===b){continue}else if(H===_){F=E;W=z[B+n.DIMENSION_PARSED_VALUE_SUFFIX];U=z[B]}else{if(H===A){F=I}else{F=O}U=z[B+n.DIMENSION_DISPLAYNAME_SUFFIX]||z[B]}}else if(X===y){F=R;U=z[B];z[B]=U==null?U:+U;if(B===k&&z.hasOwnProperty(x)){Y={value:U,percentage:z[x]}}}else{V=a(f,B)||{};j=V.name;if(!V.showInTooltip){continue}G=true;X=V.type;if(X===m){F=N;U=z[B+n.DIMENSION_DISPLAYNAME_SUFFIX]||z[B]}else{F=M;U=z[B]}}if(F){F.push({id:B,label:P[B]||j||B,value:U,"value.d":W,type:X,formatString:V.formatString,unit:S[B],unbound:G,bothValue:Y})}}}var Z,q=e.getModule("main.plot");if(e.isBigDataMode()){Z=q.mappingDataPointInfo(t).graphic}else{if(q){var K=q.getSeriesIndex(p);var Q=p.address(p.addressType.CATEGORY);var $=q.getSeries();if($&&$[K]){var J=$[K].getDataPoints();if(J&&J[Q]){Z=J[Q].getData()}if(!Z){var ee;for(var te=0;te<J.length;te++){ee=J[te];if(ee&&ee.getData&&ee.getData()){Z=ee.getData();break}}}}}if(!Z){var ie=T._getNodes([t],e)[0];if(ie){Z=h.getData(ie)}}}if(i){var ae=Z.recap;if(ae){var re=e.getDataModel().valueAxis().metaData[0];R.push({id:re.id,label:w,value:ae.value,"value.d":ae.value,type:y,formatString:re.formatString,unit:S[re.id],unbound:false})}}var oe=E.concat(I).concat(O).concat(N).concat(M).concat(R);var ne=e.getProperties();if(E.length>0){var le=E.map(function(e,t){return t});oe.timeDimensions=le;var se=ne.get("tooltip.applyTimeAxisFormat");var ue=ne.get("tooltip.formatString");var ce=e.getModule("main.timeAxis");var he=o.timeAxis().metaData[0].id;se=se&&!(s.isExist(ue)&&s.isExist(ue[he]));c.processDateFormat.call(null,oe,se,ce)}var pe=function(e){return Object.keys(e).reduce(function(t,i){if(C.indexOf(i)!==-1){t[i]=e[i]}return t},{})};oe=u.format({data:oe},ne,e,true).data.map(function(e){var t,i=e.timeAxis&&e.timeAxis.getFiscalUnitLabels&&e.timeAxis.getFiscalUnitLabels();if(i&&i.length>0){t=i.map(function(t,i){var a=pe(e);a.label=t;a.value=i===0?e.value.fiscalyear:e.value.fiscalperiod;return a})}else{t=pe(e)}return t});var de=[];oe.forEach(function(e){if(s.isArray(e)){de=de.concat(e)}else{de.push(e)}});return{data:z,displayData:de,graphicInfo:u.buildEventGraphicInfo(e,Z,L)}});e.fireExternalEvent("_selectionDetails",{name:"_selectionDetails",data:z})};D.prototype._fireEventForProcessSelection=function(e,t,i,a,r){if(t.length){e.fireEvent("deselectDataPoint",{targets:this._getNodes(t,e),isAnyOtherSelected:i.length>0})}if(i.length){e.fireEvent("selectDataPoint",{targets:this._getNodes(i,e)})}else{e.fireEvent("clearPlot",{isGray:false})}if(r!==false){if(a.length){e.fireEvent("dispatchDataEvent",{targets:a,isSelected:true})}if(t.length){e.fireEvent("dispatchDataEvent",{targets:t,isSelected:false})}}};function T(e,t,i,a){var o,n;if(t){o=r.Event.SelectData.name;n="selectData"}else{o=r.Event.DeSelectData.name;n="deselectData"}var l={name:o,data:i,type:a};if(t&&e.getStatus("rangeSelection")){var s=e.getStatus("rangeDomain");var u=e.getDataModel();var c=u._timeAxis.metaData[0].id;var h={},p={};h[c]=s[0];p[c]=s[1];l.dateTimeRange={start:h,end:p}}e.fireExternalEvent(n,l)}D.prototype.dispatchDataEvent=function(e,t){var i=e.data.targets;var a=this._buildEventData(i,t);var r=e.data.isSelected;T(t,r,a,"dataPoint")};D.prototype.dispatchRangeDataEvent=function(e,t){var i=e.data.targets;var a,r;if(t.isBigDataMode()){a=L(i,t);r="range"}else{a=this._buildEventData(i,t);r="dataPoint"}var o=e.data.isSelected;T(t,o,a,r)};D.prototype._buildEventData=function(e,t){var i=t.getDataModel();var r=t.getNodes(t.NodeType.DATA_POINT,false);var o={};for(var n=r.length;n--;){var l=a.getDataPointId(r[n]);o[l]=r[n]}return e.map(function(e){var t=i.getDataPoint(e);return{target:o[e]||null,data:t.context()}})};D.prototype._getNodes=function(e,t){return a.getNodes(e,t)};D.prototype._hasDataPoint=function(e,i){return t.hasDataPoint(e,i)};function z(e,t){var i=[],a=[];var r,o;for(var n in t){if(t.hasOwnProperty(n)){if(e.horizontal.indexOf(n)!==-1||e.vertical.indexOf(n)!==-1){r=t[n];for(o=0;o<r.length;o++){i.push(r[o].id)}continue}r=t[n];for(o=0;o<r.length;o++){if(r[o].id==="measureNames"){continue}a.push(r[o].id)}}}return{axisDef:i,seriesDef:a}}function L(e,t){var i=t.getModule("main.plot");if(!i){return}var a=i.getAxisBinding();var r=t.getDataModel();var o=z(a,r.getBindingMetaData());var l=[],s=null,u;var c=null;var h=null;var p=o.axisDef;var d=o.seriesDef;e=e.slice().sort(function(e,t){return e-t});var f=[];for(u=0;u<e.length;u++){f.push(r.getDataPoint(e[u]))}for(u=0;u<f.length;u++){var v=f[u];var g=v.address(v.addressType.SERIES);if(u!==0&&(h!==v.id-1||c!==g)){l.push(s);s=null}var m=v.context();if(s==null){s={};d.forEach(function(e){s[e]=n.getContextValue(m,e)});p.forEach(function(e){var t=n.getContextValue(m,e);s[e]={min:t,max:t}})}else{p.forEach(function(e){var t=n.getContextValue(m,e);s[e].min=Math.min(t,s[e].min);s[e].max=Math.max(t,s[e].max)})}c=g;h=v.id}if(s!=null){l.push(s)}return l}return D});define("sap/viz/chart/behavior/config/RuntimeSelectionHelperConfig",["sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/HighlightHelper"],function(e,t){return[{id:"runtimeSelectionHelperDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"afterBehaviorLoaded",method:"initializedClearSelection"},{name:"beforeBehaviorUnloaded",method:"unloadedClearSelection"},{name:"afterChartRendered",method:"refreshedKeepSelection"},{name:"reRenderComplete",method:"reRenderKeepSelection"},{name:"click",excludeTargets:t.getDeselAllExTargets(),method:"deselectAll"},{name:"processMultipleSelectionTooltip",method:"processMultipleSelectionTooltip"},{name:"processSelection",method:"processSelection"},{name:"processHighlight",method:"processHighlight"},{name:"processUnhighlight",method:"processUnhighlight"},{name:"dispatchDataEvent",declaredEvents:["selectData","deselectData"],method:"dispatchDataEvent"},{name:"dispatchDataEvent",declaredEvents:["selectData","deselectData"],supportedChartTypes:["info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_watefall"],method:"dispatchRangeDataEvent"}]}]});define("sap/viz/chart/behavior/config/SelectionTreeUtil",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/interaction/Constants"],function(e,t,i,a){var r="measureNames";var o="*";var n={bindings:["color","color2"],selectionTree:"seriesSelectionTree",metaInfo:"seriesMetaInfo"};var l={bindings:["color","shape"],maxDimension:[1,1],selectionTree:"seriesSelectionTree",metaInfo:"seriesMetaInfo"};var s=null;var u={categoryAxis:{bindings:["categoryAxis"],selectionTree:"categorySelectionTree",metaInfo:"categoryMetaInfo"},categoryAxis2:{bindings:["categoryAxis2"],selectionTree:"category2SelectionTree",metaInfo:"category2MetaInfo"},series:n};function c(e,t,i,r,o,n){var l=e.getProperties().get("interaction.selectability");var s=l.mode?l.mode.toUpperCase():l.mode;var u=l.behavior?l.behavior.toUpperCase():l.behavior;var c;if(u===a.SELECTION_BEHAVIOR.CATEGORY){c=g(r,n);if(!o){p(i,c,n,0)}else{d(i,c,n,0)}e.setStatus(t,i)}else if(u===a.SELECTION_BEHAVIOR.SERIES){c=g(r,n);if(!o){p(i,c,n,0)}else{d(i,c,n,0)}e.setStatus(t,i)}}function h(e,t,i){var r=e.getProperties().get("interaction.selectability");var o=t.mode||(r.mode?r.mode.toUpperCase():r.mode);var n=r.behavior?r.behavior.toUpperCase():r.behavior;var l;if(t.isDeselect){l=e.getStatus(i)}else{l=o===a.SELECTION_MODE.EXCLUSIVE&&!t.ctrlKey||o===a.SELECTION_MODE.SINGLE&&!t.isDeselect?{}:e.getStatus(i)}return l}function p(e,t,i,a){if(!i[a]){return}var r=i[a].id;var o;if(t.hasOwnProperty(r)){o=t[r]&&t[r]["in"]?t[r]["in"]:[t[r]]}else{o=i[a].values}if(!e.children){e.children=[]}for(var n=0;n<o.length;++n){var l=o[n];for(var s=0;s<e.children.length;++s){if(e.children[s].value===l){break}}var u;if(s<e.children.length){p(e.children[s],t,i,a+1);u=e.children[s]}else{u={dimension:r,maxChildren:i[a+1]?i[a+1].values.length:0,value:l,children:[]};e.children.push(u);p(u,t,i,a+1)}}}function d(e,t,i,a){if(!i[a]){return true}var r=i[a].id;var o;if(t.hasOwnProperty(r)){o=t[r]["in"]?t[r]["in"]:[t[r]]}else{o=i[a].values}for(var n=0;n<o.length;++n){var l=o[n];if(!e.children){return}for(var s=0;s<e.children.length;++s){if(e.children[s].value===l){if(d(e.children[s],t,i,a+1)){e.children.splice(s,1)}break}}if(e.children.length===0){return true}}}function f(t,i,a){for(var r=0;r<t.children.length;++r){var o=t.children[r];var n=e.clone(a);n[o.dimension]=o.value;if(o.children.length===0){i.push({data:n})}else{f(o,i,n)}}}function v(e,i){var a=[];for(var o=0;o<e.length;++o){var n={},l=false;n.id=e[o].id;n.type=e[o].type;if(i[o].some(function(e){return e===null})){l=true}n.values=i[o]?t.unique(i[o],function(e){return e?e.toString():false}):[];if(l){n.values.push(null)}if(e[o].hidden){n.hidden=true}if(n.id===r&&n.values.length<2&&e.length>1){continue}a.push(n)}return a}function g(t,i){var a=i.filter(function(e){return e.id==="measureNames"})[0];if(a){var o=[];var n=e.clone(t);for(var l in n){if(n.hasOwnProperty(l)){if(a.values.indexOf(l)>-1){delete n[l];o.push(l)}}}if(o.length){n[r]={in:o}}return n}else{return t}}function m(e,t,i,r){var o,n;var l={};if(i===a.SELECTION_BEHAVIOR.CATEGORY){n="categoryAxis";o=t.getStatus(u[n].metaInfo);l[n]=y(e,o);l[n]=_(l[n],o);n="categoryAxis2";o=t.getStatus(u[n].metaInfo);l[n]=y(e,o);l[n]=_(l[n],o)}else if(i===a.SELECTION_BEHAVIOR.SERIES){n="series";o=t.getStatus(u[n].metaInfo);l[n]=y(e,o)}else{return e}if(l[n]&&r){A(l[n],o)}return l}function y(t,a){var r=null;if(a){var o=a.filter(function(e){return e.id==="measureNames"})[0];var n=e.clone(t);for(var l in n){if(n.hasOwnProperty(l)){var s=a.filter(function(e){return e.id===l});if(s.length===0){if(!o||o.values.indexOf(l)<0){delete n[l]}else{n[l]="*"}}}}if(!i.isEmptyObject(n)){r=n}}return r}function _(t,a){var r=e.clone(t);if(!a||!r){return null}a.forEach(function(e){if(e.hidden){delete r[e.id]}});return i.isEmptyObject(r)?null:r}function A(e,t){for(var i=0;i<t.length;++i){var a=t[i];if(!e[a.id]){e[a.id]=a.values[0]}}}function b(e){var t=e.getDataModel()&&e.getDataModel().chartType?e.getDataModel().chartType():null;switch(t){case"info/bubble":case"info/scatter":case"info/timeseries_bubble":case"info/timeseries_scatter":u.series=l;break;case"info/heatmap":case"info/treemap":u.series=s;break;default:u.series=n}}function x(e){if(e._dataModelMgr&&e.getDataModel()){var t=e.getDataModel();b(e);for(var a in u){if(u.hasOwnProperty(a)&&u[a]){var r=u[a].bindings;var o=[],n=[];for(var l=0;l<r.length;++l){var s=t[r[l]];if(s&&!i.isEmptyObject(s())){var c=s();var h=c.metaData;var p=c.values;if(h&&p){var d=u[a].maxDimension;var f=d?d[l]||h.length:h.length;var g;for(var m=0;m<f;++m){for(var y=0;y<o.length;++y){if(o[y].id===h[m].id){if(p[m]){if(p[m][0]&&p[m][0].v){g=p[m].map(function(e){return e&&e.v})}else{g=p[m]}n[y]=n[y].concat(g)}break}}if(y===o.length){o.push(h[m]);if(p[m]){if(p[m][0]&&p[m][0].v){g=p[m].map(function(e){return e&&e.v})}else{g=p[m]}n.push(g)}}}}}}if(o.length&&n.length){var _=v(o,n);e.setStatus(u[a].selectionTree,{});e.setStatus(u[a].metaInfo,_)}}}}}function S(e,t){var i=e.getProperties().get("interaction.selectability.behavior");i=i?i.toUpperCase():i;var r=e.getDataModel().chartType();var o=false;if(t==="DATAPOINT"){if(i===a.SELECTION_BEHAVIOR.SERIES){if(e.getStatus("seriesMetaInfo")&&r.indexOf("bullet")<=-1&&r.indexOf("timeseries_waterfall")<=-1&&r!=="info/heatmap"){o=true}}else if(i===a.SELECTION_BEHAVIOR.CATEGORY){if(e.getStatus("categoryMetaInfo")||r==="info/heatmap"&&e.getStatus("categoryMetaInfo")&&e.getStatus("category2MetaInfo")){o=true}}else{o=true}}else if(i===a.SELECTION_BEHAVIOR.DATAPOINT){o=true}else if(i===t){if(!(i===a.SELECTION_BEHAVIOR.SERIES&&r.indexOf("waterfall")>-1)){o=true}}return o}function D(e,t){var i;if(t===a.SELECTION_BEHAVIOR.CATEGORY){i=u.categoryAxis.selectionTree;e.setStatus(i,{});i=u.categoryAxis2.selectionTree;e.setStatus(i,{})}else if(t===a.SELECTION_BEHAVIOR.SERIES){i=u.series.selectionTree;e.setStatus(i,{})}}return{getSelectionResult:f,filterDimension:y,applyDimensionalSelection:c,initSelectionTree:x,removeSelectionTree:d,getSelectionTree:h,applyFilterDimension:m,bindingConfig:u,isSelectable:S,emptySelectionTree:D}});define("sap/viz/chart/behavior/config/handler/SelectionAPIHandler",["sap/viz/framework/interaction/Constants","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/SelectionTreeUtil","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h){function p(i,r){r.fireEvent("hideDetail",{mode:"infoMode"});r.fireEvent("hideDetail",{mode:"actionMode"});var n=r.getProperties().get("interaction.selectability.behavior");var l=r.getProperties().get("interaction.selectability.mode");var u=l?l.toUpperCase():l;var p=n?n.toUpperCase():n;var d=i.options||{};var f;if(d.selectionMode){f=String(d.selectionMode).toUpperCase()}var v=false;for(var g in e.SELECTION_MODE){if(e.SELECTION_MODE.hasOwnProperty(g)&&g===f){v=true;break}}if(!v){if(d.hasOwnProperty("clearSelection")&&u!==e.SELECTION_MODE.NONE){f=d.clearSelection?e.SELECTION_MODE.EXCLUSIVE:e.SELECTION_MODE.INCLUSIVE;if(p!==e.SELECTION_BEHAVIOR.DATAPOINT){o.emptySelectionTree(r,p)}}else{f=u}}f=f?f.toUpperCase():f;if(f===e.SELECTION_MODE.NONE){i.success=false;return}var m=i.items;var y=[];var _=true;var A,b;var x={};var S=[],D=[];if(f===e.SELECTION_MODE.RANGE){var w=r.getProperties().get("interaction.selectability.plotLassoMode");w=w?w.toUpperCase():w;var C=r.getProperties().get("interaction.selectability.plotLassoSelection");if(C&&w===e.SELECTION_MODE.RANGE&&a.isArray(m)&&m.length===2){var T=r.getDataModel(),z=T.dimensions(),L=T._timeAxis.metaData[0].id;A=m[0].data?h.createDateInstance(m[0].data[L]).getTime():null;b=m[1].data?h.createDateInstance(m[1].data[L]).getTime():null;if(a.isNaN(A)||a.isNaN(b)){i.success=false;return}var P=[{data:{}}];if(A>b){var k=A;A=b;b=k}var E=r.getExtendTimeRange();if(A>E[1]||b<E[0]){i.success=false;return}A=Math.max(A,E[0]);b=Math.min(b,E[1]);P[0].data[L]={min:A,max:b};y=this._getTargets(P,r)}else{i.success=false;return}}else if(a.isArray(m)&&m.length){if(r.getProperties().get("interaction.behaviorType")===e.BEHAVIOR.NOHOVER_BEHAVIOR_ID&&p!==e.SELECTION_BEHAVIOR.DATAPOINT){_=false;if(o.isSelectable(r,"DATAPOINT")){var I=false;if(u===e.SELECTION_MODE.SINGLE&&p===e.SELECTION_BEHAVIOR.SERIES){I=true}for(var O=0;O<m.length;++O){var R=o.applyFilterDimension(m[O].data,r,p,I);var N;var M;if(R){for(var B in R){if(R.hasOwnProperty(B)&&R[B]){N=this._getTargets([{data:R[B]}],r);if(N.length>0){if(y.length===0){S=N;D[B]=[];D[B].push(R[B])}y=y.concat(N);_=true;x[B]=x[B]||[];x[B].push(R[B])}}}}}y=s.unique(y)}}else{y=this._getTargets(m,r);_=y.length>0}}i.success=_;if(_){var V=r.getProperties().get("interaction.selectByTimeAxisGroup");if(V){var F=[];y.forEach(function(e){if(F.indexOf(e)===-1){var i=r.getNodes(r.NodeType.DATA_POINT_GROUP,false)[0];var a=t.findByDataPointId(i,e);var o=c.getDataPointsByTimeField(a,r).map(function(e){return t.getDataPointId(e)});F=F.concat(o)}});if(F.length>0){y=s.unique(F)}}if(r.getStatus("rangeSelection")||f===e.SELECTION_MODE.RANGE){r._actionLayer.clear();r.setStatus("rangeSelection",false);var H=r.getStatus("selectedDataPoints");if(H&&H.length>0){r.setStatus("selectedDataPoints",[]).fireEvent("clearPlot");if(d.deselection===true){r.fireEvent("dispatchDataEvent",{targets:H,isSelected:false}).fireEvent("deselectDataPoint",{targets:t.getNodes(H,r),isAnyOtherSelected:false});return}else{r.fireEvent("deselectDataPoint",{targets:t.getNodes(H,r),isAnyOtherSelected:y.length>0})}}}if(f===e.SELECTION_MODE.RANGE){r.setStatus("rangeDomain",[A,b]);r.fireEvent("rangeRecover");if(y.length>0){r.fireEvent("processSelection",{targets:y,mode:e.SELECTION_MODE.EXCLUSIVE})}}else{r.setStatus("rangeDomain",null);if(u===e.SELECTION_MODE.SINGLE&&p!==e.SELECTION_BEHAVIOR.DATAPOINT){x=D;y=S}r.fireEvent("processSelection",{ctx:x,targets:y,deselection:d.deselection,mode:f,fireEvents:d.fireEvents})}}}function d(t){var i=t.getStatus("selectedDataPoints");var r=a.isArray(i)&&i.length?this._buildGetSelectionResult(i,t):[];var n=t.getProperties().get("interaction.selectability.plotLassoMode");if(n&&n.toUpperCase()===e.SELECTION_MODE.RANGE){var l=t.getProperties().get("interaction.selectability.mode");l=l?l.toUpperCase():l;if(l!==e.SELECTION_SINGLE&&l!==e.SELECTION_NONE){var s=t.getStatus("rangeDomain");var u=t.getDataModel(),c=u.dimensions(),h=u._timeAxis.metaData[0].id;r.dateTimeRange=s&&s.length===2&&h?{start:{},end:{}}:null;if(r.dateTimeRange){r.dateTimeRange.start[h]=s[0];r.dateTimeRange.end[h]=s[1]}}}var p=t.getProperties().get("interaction.selectability.behavior");var d=p?p.toUpperCase():p;if(t.getProperties().get("interaction.behaviorType")===e.BEHAVIOR.NOHOVER_BEHAVIOR_ID&&d!==e.SELECTION_BEHAVIOR.DATAPOINT){var f;var v=[];if(d===e.SELECTION_BEHAVIOR.CATEGORY){f=t.getStatus("categorySelectionTree");if(!a.isEmptyObject(f)&&f){o.getSelectionResult(f,v,{})}f=t.getStatus("category2SelectionTree");if(!a.isEmptyObject(f)&&f){var g=[];o.getSelectionResult(f,g,{});r.category=v.concat(g)}else{r.category=v}}else if(d===e.SELECTION_BEHAVIOR.SERIES){f=t.getStatus("seriesSelectionTree");if(!a.isEmptyObject(f)&&f){o.getSelectionResult(f,v,{})}r.series=v}}return r}var f=function(){};f.prototype.initialize=function(t,i){if(i.getProperties().get("interaction.behaviorType")===e.BEHAVIOR.NOHOVER_BEHAVIOR_ID){o.initSelectionTree(i)}var a=this;i.getStatusManager().add("interaction.selectedDataPoints",{serializable:false,set:function(e){p.call(a,e||{},i)},get:function(){return d.call(a,i)}})};f.prototype._getTargets=function(e,t){return r.getTargets(e,t)};f.prototype._buildGetSelectionResult=function(e,t){var a,r=[],o=[],l=t.getDataModel(),s=t.getSemanticManager();if(l&&l.timeAxis&&l.timeAxis()){a=l.timeAxis().metaData.map(function(e){return e.id})}if(l&&l._rawData&&l._rawData.data()){var u=l._rawData.data().metadata;if(u&&u.fields){r=u.fields.filter(function(e){return e.semanticType==="Measure"});o=u.fields.filter(function(e){return e.semanticType==="Dimension"})}}return e.map(function(e){var t=l.getDataPoint(e);var u=i.clone(t.context());delete u["measureNames"];delete u["_id"];delete u[a+n.DIMENSION_PARSED_VALUE_SUFFIX];var c={data:u};var h=s.analyzeDataPoint("color,lineColor,lineType,pattern",t.context(),true,t.additionCtx());var p=h&&h.dataName||{};r.forEach(function(e){var t=e.id;if(u.hasOwnProperty(t)&&e.hasOwnProperty("unit")){c.unit=c.unit||{};c.unit[t]=e.unit}if(c.data[t]!=null){c.data[t]=+c.data[t]}if(p.hasOwnProperty(t)){c.dataName=c.dataName||{};c.dataName[t]=p[t]}});o.forEach(function(e){var t=e.id;if(p.hasOwnProperty(t)){c.dataName=c.dataName||{};c.dataName[t]=p[t]}});return c})};return f});define("sap/viz/chart/behavior/config/SelectionAPIConfig",["sap/viz/chart/behavior/config/handler/SelectionAPIHandler"],function(e){return[{id:"selectionAPIDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"afterBehaviorLoaded",method:"initialize"}]}]});define("sap/viz/chart/behavior/config/PinchBehaviorConfig",["sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/interaction/Constants"],function(e,t,i,a,r){var o=["info/bar","info/column","info/dual_bar","info/dual_column","info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/combinationEx","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/dual_combination","info/dual_horizontal_combination","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/waterfall","info/stacked_waterfall","info/horizontal_waterfall","info/horizontal_stacked_waterfall"],n=["info/bubble","info/scatter","info/time_bubble","info/timeseries_bubble","info/timeseries_scatter"],l=["info/timeseries_waterfall","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/timeseries_bullet"];var s=o.concat(n,l);function u(e){var t=e.getModule("main"),i=t.getHScrollbar(),a=t.getVScrollbar(),r="";if(i&&i.isExist){r+="x"}if(a&&a.isExist){r+="y"}return r}function c(e,t){if(!i.isMobile()){return null}var a=t.getModule("main"),r=e.data.scale,o=t.getStatus("ratioBeforePinch");return a.getZoomer().zoom({x:o.x*r,y:o.y*r},e.data.point)}function h(e,t){var i=t.getModule("main.plot");t.setStatus("canvasBBox",i.getSize());t.fireEvent(e,true)}var p=2;var d=r.RANGE_SELECTION.OFFSET;function f(e,t,i,a){var r=false,o=i.getModule("main").getHScrollbar(),n=i.getModule("main").getVScrollbar(),l=o?o._isFull():true,s=n?n._isFull():true,u=o?o.isThumbOverTrack(-e):true,c=n?n.isThumbOverTrack(-t):true,h=false;switch(a){case"x":h=Math.abs(e)<p&&t!==0;r=l||u;break;case"y":h=Math.abs(t)<p&&e!==0;r=s||c;break;case"xy":r=l&&s||u&&c||l&&c||u&&s;break}return h||r}function v(e,a){if(!i.isMobile()){return}if(a.getStatus("dragAsLasso")){a.fireEvent({name:"lassomove",data:e.data});return}var r=a.getStatus("panLastPoint");if(!r){return}var o=e.data.point,n=u(a),l=o.x-r.x,s=o.y-r.y,c=a.getStatusManager().get("plot.transform.translate"),h={x:c.x+l,y:c.y+s},p=f(l,s,a,n);a.setStatus("panLastPoint",o);a.getStatusManager().set("plot.transform.translate",h);if(!p&&e.data.originalEvent.cancelable){e.data.originalEvent.preventDefault()}else if(i.isWindowsSurface()||i.isWindowsPhone()){window.scrollBy(-l,-s)}t.showScrollbar(a);a.setStatus("needToPreventDefault",!p)}return[{id:"initialized_pinch",triggerEvent:{name:"afterChartRendered",supportedChartTypes:s},handler:h},{id:"pinchstart_on_eventLayer",triggerEvent:{name:"pinchstart",targets:"v-m-root",supportedChartTypes:s},handler:function(e,t){if(i.isMobile()){t.setStatus("ratioBeforePinch",t.getStatusManager().get("plot.transform.scale"));return c(e,t)}else{return null}}},{id:"pinchmove_on_eventLayer",triggerEvent:{name:"pinchmove",targets:"v-m-root",supportedChartTypes:s},handler:c},{id:"pinchend_on_eventLayer",triggerEvent:{name:"pinchend",targets:"v-m-root",supportedChartTypes:s},handler:c},{id:"2Xfingertouch_show_indicator",triggerEvent:{name:"touchchange",targets:"v-m-root",supportedChartTypes:s},handler:function(e,a){if(!i.isMobile()||e.data.totalTouchesNumber!==2){return}a.fireEvent("hideDetail",{mode:"actionMode"});t.showScrollbar(a,true)}},{id:"pan_start_on_plot_pinch",triggerEvent:{name:"dragstart",targets:["v-m-plot","v-m-action-layerrange-content","v-m-datapoints"],supportedChartTypes:s},handler:function(e,a){if(!i.isMobile()){return}if(a.getStatus("rangeSelection")){var r=a.getBBox(a.BoxType.RANGE_SELECTION);if(r){var o=e.data.point;if(o.x>=r.left-d&&o.x<=r.right+d&&o.y>=r.top&&o.y<=r.bottom){a.setStatus("dragAsLasso",true);a.fireEvent({name:"lassostart",data:e.data});return}}}a.fireEvent("hideDetail",{mode:"actionMode"});a.setStatus("panLastPoint",e.data.point);if(a.getStatus("needToPreventDefault")&&e.data.originalEvent.cancelable){e.data.originalEvent.preventDefault()}t.showScrollbar(a)}},{id:"pan_move_on_plot_pinch",triggerEvent:{name:"dragmove",targets:["v-m-plot","v-m-action-layerrange-content","v-m-datapoints"],supportedChartTypes:s},handler:v},{id:"pan_end_on_plot_pinch",triggerEvent:{name:"dragend",targets:["v-m-plot","v-m-action-layerrange-content","v-m-datapoints"],supportedChartTypes:s},handler:function(e,t){if(!i.isMobile()){return}if(t.getStatus("dragAsLasso")){t.fireEvent({name:"lassoend",data:e.data});t.removeStatus("dragAsLasso");return}if(t.getStatus("needToPreventDefault")&&e.data.originalEvent.cancelable){e.data.originalEvent.preventDefault()}t.removeStatus("panLastPoint");a.scroll.save(t)}}]});define("sap/viz/chart/behavior/config/TooltipBehaviorConfig",["sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler"],function(e){return[{id:"tooltipBehaviorDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"standAloneInitialized",method:"standAloneInitialized"},{name:"afterBehaviorLoaded",method:"initialized"},{name:"beforeBehaviorUnloaded",method:"unloadedClear"},{name:"afterChartRendered",method:"refreshedTooltip"},{name:"showDetail",method:"showDetail"},{name:"hideDetail",method:"hideDetail"},{name:"showTooltipHoverOnPlot",method:"showTooltipHoverOnPlot"},{name:"hideTooltipHoverOnPlot",method:"hideTooltipHoverOnPlot"},{name:"showTooltipClickBigData",method:"showTooltipClickBigData"},{name:"hideTooltipClickBigData",method:"hideTooltipClickBigData"},{name:"extractTooltipData",method:"extractTooltipData"},{name:"extractTooltipData",supportedChartTypes:["info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/trellis_100_stacked_bar","info/trellis_100_stacked_column","info/trellis_100_dual_stacked_bar","info/trellis_100_dual_stacked_column","info/100_area","info/100_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],method:"extractTooltipDataPercentage"},{name:"extractTooltipData",supportedChartTypes:["info/pie","info/donut","info/trellis_pie","info/trellis_donut"],method:"extractTooltipDataPie"},{name:"extractTooltipData",supportedChartTypes:["info/time_bubble"],method:"extractTooltipDataTimebubble"},{name:"extractTooltipData",supportedChartTypes:["info/100_mekko","info/100_horizontal_mekko"],method:"extractTooltipDataPercentageMekko"},{name:"extractTooltipData",supportedChartTypes:["info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/timeseries_bullet"],method:"extractTooltipDataTimeLine"},{name:"extractTooltipData",supportedChartTypes:["info/waterfall","info/stacked_waterfall","info/horizontal_waterfall","info/horizontal_stacked_waterfall"],method:"extractTooltipDataWaterfall"},{name:"extractTooltipData",supportedChartTypes:["info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_combination","info/dual_horizontal_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination"],method:"extractTooltipDataCombination"},{name:"extractTooltipData",supportedChartTypes:["info/combinationEx","info/trellis_combinationEx"],method:"extractTooltipDataComboEx"},{name:"extractTooltipData",supportedChartTypes:["info/timeseries_100_stacked_column"],method:"extractTooltipDataTimeStackedColumnPercentage"},{name:"extractTooltipData",supportedChartTypes:["info/timeseries_waterfall"],method:"extractTooltipDataTimeWaterfall"}]}]});define("sap/viz/chart/behavior/config/ZoomBehaviorConfig",["sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants"],function(e,t,i,a){var r=["info/100_dual_stacked_bar","info/100_dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/bar","info/bullet","info/vertical_bullet","info/column","info/combination","info/combinationEx","info/dual_combination","info/dual_bar","info/dual_column","info/dual_stacked_bar","info/dual_stacked_column","info/horizontal_combination","info/dual_horizontal_combination","info/stacked_bar","info/stacked_column","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_horizontal_line","info/dual_line","info/horizontal_line","info/line","info/scatter","info/bubble","info/time_bubble","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_bubble","info/timeseries_scatter","info/timeseries_combination","info/timeseries_bullet","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/timeseries_waterfall","info/waterfall","info/stacked_waterfall","info/horizontal_stacked_waterfall","info/horizontal_waterfall","info/area"];var o=["stroke","stroke-opacity","stroke-width","fill","fill-opacity"];return[{id:"restore_size_and_position_on_render",triggerEvent:{name:"afterChartRendered"},handler:function(e,i){var a=i.getProperties();if(a.get("plotArea.scrollbar.visible")===false){i.setStatus("plotArea.window",[]);return}if(a.get("plotArea.isFixedDataPointSize")===false&&a.get("interaction.zoom.enablement")!=="enabled"&&!a.get("plotArea.window.start")&&!a.get("plotArea.window.end")){return}if(t.hasRangeChange(i)){i.setStatus("plotArea.window",i.getStatusManager().get("plotArea.window"));t.size.save(i);t.scroll.save(i)}else{t.size.load(i);t.scroll.load(i)}}},{id:"discard_saved_zoom_onscalechange",triggerEvent:{name:"scalesUpdated"},handler:function(e,i){if(e.data instanceof Array&&e.data.some(function(e){return e.feed!=="color"&&e.feed!=="shape"})){t.size.clear(i);t.scroll.clear(i)}}},{id:"discard_saved_zoom_ondatachange",triggerEvent:{name:"dataUpdated"},handler:function(e,i){t.size.clear(i);t.scroll.clear(i)}},{id:"discard_saved_zoom",triggerEvent:{name:"discardSavedZoom"},handler:function(e,i){t.size.clear(i);t.scroll.clear(i)}},{id:"save_zoom",triggerEvent:{name:"saveZoom",supportedChartTypes:r},handler:function(e,i){t.size.save(i);t.scroll.save(i)}},{id:"zoom_on_mousewheel_area_prezoom",triggerEvent:{name:"wheelmove",targets:["v-m-plot","v-m-action-layerrange"],supportedChartTypes:["info/combinationEx"]},handler:function(e,t){if(!e.data.originalEvent.ctrlKey){return}var a=[].slice.call(t.getNodes(t.NodeType.DATA_POINT,false)),r=a.filter(function(e){return i.getData(e).seriesType==="area"});t.setStatus("areaDpStyles",r.filter(function(e){return e.getAttribute("opacity")!=="0"}).map(function(e){var t=e.querySelector("path");return{dataId:e.getAttribute("data-id"),opacity:e.getAttribute("opacity"),pathAttrs:o.map(function(e){return t.getAttribute(e)})}}))}},{id:"zoom_on_mousewheel",triggerEvent:{name:"wheelmove",targets:["v-m-plot","v-m-action-layerrange","v-m-datapoints"],supportedChartTypes:r},handler:function(e,t){if(e.data.originalEvent.ctrlKey){t.getNodes(t.NodeType.LEGEND_GROUP).select(".v-m-highlight").remove();t.getNodes(t.NodeType.MAIN_NODE).select(".v-m-highlight").remove();var i=e.data.wheelDelta>0?"in":"out";var r=t.isBigDataMode();t.getModule("main").getZoomer().zoomInOut(i,e.data.point,a.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS_MOSUSEWHEEL);e.data.originalEvent.preventDefault();var o=t.isBigDataMode();if(r&&!o){var n=t._getDecorationLayer();n.clear()}}}},{id:"zoom_on_mousewheel_area_rehighlight",triggerEvent:{name:"wheelmove",targets:["v-m-plot","v-m-action-layerrange"],supportedChartTypes:["info/combinationEx"]},handler:function(e,t){var i=t.getStatus("areaDpStyles");if(!e.data.originalEvent.ctrlKey||!i||!i.length){return}var a=t.getNodes(t.NodeType.DATA_POINT,false),r=[].reduce.call(a,function(e,t){e[t.getAttribute("data-id")]=t;return e},{});i.forEach(function(e){var t=r[e.dataId],i;if(t){t.setAttribute("opacity",e.opacity);i=t.querySelector("path");o.forEach(function(t,a){i.setAttribute(t,e.pathAttrs[a])})}});var n=t.getStatus("hoveringDataPoint");if(n){t.setStatus("hoveringDataPoint",r[n.getAttribute("data-id")])}t.removeStatus("areaDpStyles")}}]});define("sap/viz/chart/behavior/config/ScreenReaderUtil",["jquery","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/TimeUtil"],function(jQuery,e,t,i,a,r,o,n,l,s){var u="hours";var c="minutes";var h="senconds";var p=function(e,t){var i=e.rootContainer;if(i.attr("markARIAforNonInteractive")==="true"){return}i.attr("markARIAforNonInteractive","true");var r=t._getRenderType();var o=e.rootElement;var n=o.node();var l=e.chartAppId;var s=o.append("g").attr("class",a.CSS.CLASS.NONINTERACTIVEARIA);var u=i.attr("aria-labelledby");var c=n.querySelectorAll(".v-datapoint");u+=d(c,s,t,1,"DataPoint",l);var h;if(A(t)){h=n.querySelectorAll(".v-timeaxis-item")}else{var p=n.querySelector(".v-m-categoryAxis");h=p?p.querySelectorAll(".v-axis-item"):[]}u+=d(h,s,t,2,"Axis",l);var f=y(t)||_(t)?n.querySelectorAll(".v-mbc-legend-item"):n.querySelectorAll(".v-legend-item");u+=d(f,s,t,3,"Legend",l);var v=n.querySelector(".v-m-categoryAxis2");if(v){h=v.querySelectorAll(".v-axis-item");u+=d(h,s,t,4,"Axis2",l)}i.attr("aria-labelledby",u)};var d=function(e,t,i,a,r,o){if(e.length===0){return""}else{var n,l="";var s=A(i);for(var u=0;u<e.length;u++){l+=" "+g(i,e[u],s,a,true)}n=o+"-Aria"+r;t.append("g").attr("aria-label",l).attr("id",n);return" "+n}};var f=function(e,t){var i=t.rootContainer;var r=i.node();if(r.getAttribute("markARIAforNonInteractive")){var o=t.chartAppId;r.removeAttribute("markARIAforNonInteractive");r.setAttribute("aria-labelledby",o+"-title");var n=t.rootElement.node().querySelector("."+a.CSS.CLASS.NONINTERACTIVEARIA);if(n){n.parentNode.removeChild(n)}}};var v=function(e,t,i){g(e,t,i,null,false)};var g=function(l,p,d,f,v){f=f||l.getStatus("tabOrder");if(!v&&!m(l,f)){return}var g=p.getAttribute("data-datapoint-id");var _="";var A;var b;var x=l.getStatusManager().get("data.unit");switch(f){case 1:if(y(l)&&!g){_=" Category Axis Item "+_;_+=p.nextSibling.value;if(!v){d3.select(p).attr("role","option")}break}_=" Data Value "+_;if(l&&g){b=e.getContextByDataModel(p,l.getDataModel())}if(b){if(y(l)){delete b.level;delete b.levelNum;delete b.realLabelWidth}A=Object.keys(b);if(d){var S=l.getDataModel().measures();var D=l._dataModelMgr._bindings;var w=[],C=[];for(var T in D){if(S.indexOf(D[T].feed)!==-1){w=w.concat(D[T].source)}}var z=A.filter(function(e){if(w.indexOf(e)===-1){return e}else{C.push(e)}});A=z.concat(C)}var L={};var P=[];var k=[];var E=[];var I;A.forEach(function(e){if(/(\.d)$/.test(e)){P.push(e)}else{k.push(e)}});if(P.length>0){k.forEach(function(e){I=P.indexOf(e+".d");if(I>-1){P.splice(I,1)}});P.forEach(function(e){I=P.indexOf(e+".d");if(I>-1){P.splice(I,1)}})}E=k.concat(P);if(E.length!==A.length){A.forEach(function(e){if(E.indexOf(e)>-1&&A.indexOf(e+".d")>-1){L[e]=b[e+".d"]}else if(E.indexOf(e)>-1){L[e]=b[e]}});b=L;A=E}}if(!v){d3.select(p).attr("role","listitem")}break;case 2:case 4:_=(d?" Time Axis Item ":" Category Axis Item ")+_;_+=i.getContext(p).text;if(!v){d3.select(p).attr("role","option")}break;case 3:if(p.getAttribute("aria-posinset")==="1"){var O=l.getProperties();if(O.get("legend.title.visible")){_=" Legend title is "+l.getModule("legendGroup.legend").getLegendTitleText()+". "}}_=_+" Legend Item ";A=i.getContext(p).val;if(!r.isArray(A)){if(A==="N/A"){A=t.get("IDS_ISNOVALUE");_+=A}else{var R=i.getContext(p).ctx;var N=R.measureName;if(N){var M=R[N].min;var B=R[N].openmax;if(M===-Number.MAX_VALUE){_+=" below "+B}else if(B===Number.MAX_VALUE){_+=" above "+M}else{_+=M+" to "+B}}else{_+=A}}A=null}else{var V=[];A.forEach(function(e){if(!r.isString(e)&&r.isPlainObject(e)){V.push(e.d)}});A=V.length>0?V:A}if(!v){d3.select(p).attr("role","option").attr("tabindex","0")}break}var F=l.getProperties().get("interaction.selectByTimeAxisGroup");if(A){A.forEach(function(e){if(f!==3&&b){var i=b[e];if(!r.isExist(i)){i=t.get("IDS_ISNOVALUE")}if(e!==a.BINDING.MEASURE_NAMES&&e!==a.BINDING.CONTEXT_ID_NAME&&!/(\.parsedValue)$/.test(e)){var o=l.getModule("main.timeAxis");if(e.toLowerCase()===a.DATA_TYPE.DATE&&o){var n=false;var p=o.getFormatTimeValue(b.Date);if(l.getProperties().get("interaction.behaviorType")==="noHoverBehavior"){var d=s.createDateInstance(i);_=p.day+" "+d.getHours()+" "+u+" "+d.getMinutes()+" "+c+" "+d.getSeconds()+" "+h+" "}else{if(l.getProperties().get("tooltip")){n=l.getProperties().get("tooltip").applyTimeAxisFormat}if(n){_=p.time===null?p.day+" ":p.time+" "+p.day+" "}else{var v=s.createDateInstance(i);_=p.day+" "+v.getHours()+" "+u+" "+v.getMinutes()+" "+c+" "+v.getSeconds()+" "+h+" "}}}else{if(!F){if(x&&x[e]){_+=e+" "+i+x[e]+" "}else{_+=e+" "+i+" "}}}}}else{if(!r.isExist(e)){e=t.get("IDS_ISNOVALUE")}_+=e+" "}});if(F&&f===1){var H=l.getDataModel().color().metaData;var U=H?H.map(function(e){return e.id}):[];H=l.getDataModel().context().metaData;var W=H?H.filter(function(e){return e.showInTooltip&&e.type==="Dimension"}).map(function(e){return e.id}):[];U=U.concat(W);var G=l.getProperties().get("plotArea.dataLabel.recapTitle")||t.get("IDS_END_OF_PERIOD");var Y=o.getDataPointsByTimeField(p,l);Y.forEach(function(e){var t=i.getContext(e);var r="",o="";for(var n in t){if(t.hasOwnProperty(n)){if(n!==a.BINDING.MEASURE_NAMES&&n.toLowerCase()!==a.DATA_TYPE.DATE&&!/(\.parsedValue)$/.test(n)){if(U.indexOf(n)===-1){o+=n+" "+t[n]+" "}else{r+=t[n]+" "}}}}_+=r+o;var l=i.getData(e).recap;if(l){_+=G+" "+l.value}})}}if(!v&&f===1&&n.hasDataPoint(l.getStatus("selectedDataPoints"),g)){_=_+" is selected"}_+=". ";if(!v){d3.select(p).attr("aria-label",_).attr("focusable",true).style("outline","none");if(typeof p.focus==="function"){p.focus()}else{HTMLElement.prototype.focus.call(p)}}else if(f===3){_+=p.getAttribute("aria-posinset")+" of "+p.getAttribute("aria-setsize")+". "}return _};var m=function(e,t){var i=true;var a=e.getProperties().get("interaction.selectability");if(!a){i=false}else{var r=(a.mode||"").toUpperCase();var o=(a.behavior||"").toUpperCase();if(r===l.SELECTION_MODE.NONE){i=false}else{switch(t){case 1:i=a.plotStdSelection;break;case 3:if(!a.legendSelection||r===l.SELECTION_MODE.SINGLE&&o!==l.SELECTION_BEHAVIOR.SERIES){i=false}break;case 2:case 4:if(!a.axisLabelSelection||r===l.SELECTION_MODE.SINGLE&&o!==l.SELECTION_BEHAVIOR.CATEGORY){i=false}break}}}return i};var y=function(e){var t=e._getRenderType();return t.indexOf("treemap")>-1};var _=function(e){var t=e._getRenderType();return t.indexOf("heatmap")>-1};var A=function(e){var t=e._getRenderType();return t.indexOf("timeseries")>-1};return{clearNonInteractiveAria:f,setInteractiveScreenReaderDesc:v,setNonInteractiveScreenReaderDesc:p}});define("sap/viz/chart/behavior/config/ScreenReaderConfig",["sap/viz/chart/behavior/config/ScreenReaderUtil"],function(e){var t=[{id:"focus_chart_on_non_interactive_mode",triggerEvent:{name:"focusOnChart"},handler:function(t,i){e.clearNonInteractiveAria(i,t.data);var a=t.data.rootContainer.node();var r=i._propertyMgr.get("interaction.noninteractiveMode");if(r){a.onfocusin=function(){e.setNonInteractiveScreenReaderDesc(t.data,i)}}else if(a.onfocusin){a.onfocusin=null}}}];return t});define("sap/viz/chart/behavior/config/handler/KeyboardBehaviorHandler",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/interaction/Constants","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/behavior/config/ScreenReaderUtil","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/chart/components/util/ChartTypeUtils"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y){var _=.05;var A=.95;var b="tabOrder";var x=r.DATAPOINT_NAVIGATOR;var S=r.CATEGORYAXIS_NAVIGATOR;var D=r.CATEGORYAXIS2_NAVIGATOR;var w=r.TIMEAXIS_NAVIGATOR;var C=r.LEGEND_NAVIGATOR;var T=r.COLORLEGEND_NAVIGATOR;var z=r.MBCLEGEND_NAVIGATOR;var L="parsedValue";var P="mainNode";var k="legendGroup";var E="plotNode";var I=i.CSS.CLASS.CATEGORY_BOUND_SELECTION;var O=i.CSS.CLASS.CATEGORY2_BOUND_SELECTION;var R=i.CSS.CLASS.TIME_BOUND_SELECTION;var N=i.CSS.CLASS.LEGEND_BOUND_SELECTION;var M=i.CSS.CLASS.PLOT_BOUND_SELECTION;var B=i.CSS.CLASS.LEGEND_ITEM_BOUND_SELECTION;var V=i.CSS.CLASS.AXIS_ITEM_BOUND_SELECTION;var F=i.CSS.CLASS.DATAPOINTHOVER;var H=i.CSS.CLASS.ZEROVALUEHOVER;var U=i.CSS.CLASS.ZERO_LINE_GROUP;var W=i.CSS.CLASS.STACK;var G="v-focusInside";var Y={RECT:2,LINE:1};var X=function(e){return e.getModule("legendGroup.legend").getScrollbar()};var j=function(e){var t=e.getModule("main");if(!t){return null}var i=e.isHorizontal();if(i===undefined){return null}if(i){return t.getVScrollbar()}else{return t.getHScrollbar()}};var Z=function(e,t,i,a){var r=null;var o=t.name;var n=t.data.originalEvent.altKey;if(n){switch(o){case"uparrow":r=e.upSeries(i);break;case"downarrow":r=e.downSeries(i);break;case"leftarrow":r=e.leftSeries(i);break;case"rightarrow":r=e.rightSeries(i);break}}else{switch(o){case"uparrow":var l=0;if(a){l=q(a).getOffset()}r=e.up(i,l);break;case"downarrow":r=e.down(i);break;case"leftarrow":r=e.left(i);break;case"rightarrow":r=e.right(i);break}}return r};function q(e){return e.getModule("main.plot")||e.getModule("plot")}function K(e){return e.getModule("main")||e.getModule("plot")}function Q(e,t,i,a,r,o){if(e.height!==t.height){i=i||{x:r.x};i.y=null;if(o){if(a.y+a.height+r.y>t.height){i.y=-(a.y+a.height-t.height*A)}else if(a.y+a.height+r.y<t.height*_){if(a.height>=t.height*(1-_)){i.y=-(a.y+a.height-t.height*A)}else{i.y=-(a.y-t.height*(1-A))}}}else{if(a.y+r.y>t.height*(1-_)){if(a.height>=t.height*(1-_)){i.y=-(a.y-t.height*(1-A))}else{i.y=-(a.y+a.height-t.height*A)}}else if(a.y+r.y<0){i.y=-(a.y-t.height*(1-A))}}}return i}function $(e,t,i,a,r,o){if(e.width!==t.width){i=i||{y:r.y};i.x=null;if(o){if(a.x+r.x<0){i.x=-(a.x-t.width*(1-A))}else if(a.x+r.x>t.width*(1-_)){if(a.width>t.width*(1-_)){i.x=-(a.x-t.width*(1-A))}else{i.x=-(a.x+a.width-t.width*A)}}}else{if(a.x+a.width+r.x<t.width*_){if(a.width>t.width*(1-_)){i.x=-(a.x+a.width-t.width*A)}else{i.x=-(a.x-t.width*(1-A))}}else if(a.x+a.width+r.x>t.width){i.x=-(a.x+a.width-t.width*A)}}}return i}function J(e,t,i,a,r){var o=q(t);var n=K(t);var l=o.getOffset();var s=o.getSize();var u=o.getRealSize();var c=null;var h=t._getRenderType().indexOf("bubble")>-1;var p=t._getRenderType().indexOf("scatter")>-1;var d={x:i.x,y:i.y,width:i.width,height:i.height};if(i.width===0||i.height===0){i.width=0;i.height=0}if(h||p){d=i}if(a==null&&i.r!=null){if(i.x<-l.x||i.x+i.r>-l.x+s.width||i.y<-l.y||i.y+i.r>-l.y+s.height){if(e==="leftarrow"){c={x:-i.x,y:null}}else if(e==="rightarrow"){c={x:s.width-i.x-i.width,y:null}}else if(e==="downarrow"){c={x:null,y:s.height-i.y-i.height}}else{c={x:null,y:-i.y}}}if(r.needAdjust){if(["rightarrow","leftarrow"].indexOf(e)!==-1){c=Q(u,s,c,i,l,true)}else{c=$(u,s,c,i,l,true)}}}else if(a===true){if(d.y<-l.y||d.y+d.height>s.height-l.y){if("downarrow"===e){var f=d.y+d.height-s.height;c={x:null,y:-f}}else{c={x:null,y:-d.y}}}if(r.needAdjust){c=$(u,s,c,i,l,r.isNegative)}}else{if(d.x<-l.x||d.x+d.width>s.width-l.x){if("rightarrow"===e){var v=d.x+d.width-s.width;c={x:-v,y:null}}else{c={x:-d.x,y:null}}}if(r.needAdjust){c=Q(u,s,c,i,l,r.isNegative)}}if(c){n.scroll(c);if(this._isTimeseries){var g=this[w];var m=t.getModule("main.timeAxis.axisBody").getActiveLabels();g.updateCells(m)}return true}return false}var ee=function(e,i,a){if(!a){return}var r=i.getNodes(i.NodeType.LEGEND_BODY_BOUND_SELECTION,false)[0];if(!r){return}var o=r.getBoundingClientRect();if(!o){return}var n=a.getBoundingClientRect();var l=0;if(t.isIE()||t.isFirefox()){l=2}var s;if(n.right>o.right+l){s=n.right-o.right}else if(n.left<o.left-l){s=n.left-o.left}else if(n.top<o.top-l){s=n.top-o.top}else if(n.bottom>o.bottom+l){s=n.bottom-o.bottom}if(s!=null){var u=i.getModule("legendGroup.legend");var c=u.getScrollbar();if(c&&c.isExist()){var h=c.getThumbRatio();s/=h?h:1;u.scroll(s)}e.data.originalEvent.preventDefault()}};function te(e,t,i,a,r,o){if(!a){if(r){var n=t.getStatus("keyArrowHoveredDataPoint");if(n){t.fireEvent("unhoverOnDataPoint",{targets:n})}}return}if(i==="hover"){g.setInteractiveScreenReaderDesc(t,a,r)}var l=t.getStatus("tabOrder");if(l===1&&e.name==="tab"&&t.getProperties().get("interaction.selectability.plotStdSelection")){de(d3.select(a),true)}var s=a.getBoundingClientRect();var u=t.getBBox(t.BoxType.PLOT_BOUND_NODE);var c,h,p,d,f;var v,m;if(l===1){c=Math.max(s.left,u.left);h=Math.min(s.right,u.right);p=Math.max(s.top,u.top);d=null;f=t._getRenderType();if(f.indexOf("pie")>-1||f.indexOf("donut")>-1||f.indexOf("bubble")>-1||f.indexOf("scatter")>-1||f.indexOf("heatmap")>-1||f.indexOf("treemap")>-1){d=Math.min(s.bottom,u.bottom)}v=(c+h)/2;m=d?(p+d)/2:p}else{v=(s.left+s.right)/2;m=(s.top+s.bottom)/2}t.fireEvent(i,{target:a,ctrlKey:e.data.originalEvent.ctrlKey,point:{x:v,y:m},byKeyboard:!!o})}var ie=function(e,t,i,a,r,o){if(i){var n=a.getProperties().get("interaction.keyboard");n.color=a.getEffectManager().register({fillColor:n.color});n.angle=a.getProperties().get("categoryAxis.label.angle");var l=a.getProperties().get("interaction.selectByTimeAxisGroup");var s=u.getData(t);if(c.isExist(s)){for(var h in s){if(s.hasOwnProperty(h)&&!n.hasOwnProperty(h)){n[h]=s[h]}}}var p=a._getRenderType();n.renderType=p;n.isVerticalRender=y.getChartTypeProperty(p).isVerticalRender;if(r===1&&l){var d=f.getDataPointsByTimeField(t,a);if(d){d.forEach(function(t){pe(e,d3.select(t),i,n)})}}else{pe(e,o?d3.select(t.parentNode):d3.select(t),i,n)}}};var ae=function(e){return e.indexOf(r.PERCENT_STACKED_COLUMN)>-1||e.indexOf(r.PERCENT_STACKED_BAR)>-1};var re=function(e){return e.indexOf(r.TIMEWATERFALL)>-1};var oe=function(e,t){e.a=!t.isAllZero&&t.isAllValueNegative&&!ae(t.renderType)&&!t.isNegative?-1:1;return e};var ne=function(e,t){e.d=!t.isAllZero&&t.isAllValueNegative&&!ae(t.renderType)&&!t.isNegative?1:-1;return e};var le=function(e,t){if(t.isZeroValue){var i=t.isVerticalRender?ne:oe;e=i(e,t)}return e};var se=function(e,t){if(t.isZeroValue){for(var i in e){if(e[i]===0){e[i]=Y.RECT}}}return e};var ue=function(e,t,i,a){if(i.renderType.indexOf("stacked")>-1&&i.isZeroValue){if(!i.isVerticalRender){return e.left>=t.left&&e.right<=t.right}else{return e.top+a>=t.top&&e.bottom-a<=t.bottom}}return false};var ce=function(e,t){var i={deltaX:0,deltaY:0};if(t.isZeroValue){if(!t.isVerticalRender){if(e.hoverPos.left<e.axisPos.right){i.deltaX=Math.abs(e.hoverPos.left-e.axisPos.right)}if(e.hoverPos.top<e.plotPos.top){i.deltaY=Math.abs(e.hoverPos.top-e.plotPos.top)}if(e.hoverPos.left<e.wtfLinePos.right){i.deltaX=Math.abs(e.hoverPos.left-e.wtfLinePos.right)}}else{if(e.hoverPos.left<e.plotPos.left){i.deltaX=Math.abs(e.hoverPos.left-e.plotPos.left)}if(e.hoverPos.bottom>e.axisPos.top){i.deltaY=Math.abs(e.hoverPos.bottom-e.axisPos.top)}if(e.hoverPos.bottom>e.wtfLinePos.top){i.deltaY=Math.abs(e.hoverPos.bottom-e.wtfLinePos.top)}}}return i};var he=function(e,t,i){var a=e[0];for(var r=1;r<e.length;++r){if(i){if(Math.abs(e[r].getBoundingClientRect().left-t.left)<Math.abs(a.getBoundingClientRect().left-t.left)){a=e[r]}}else{if(Math.abs(e[r].getBoundingClientRect().top-t.top)<Math.abs(a.getBoundingClientRect().top-t.top)){a=e[r]}}}return a};var pe=function(t,i,a,r){de(i);var o=i.select(a),n=o.node();if(!n){return}var l=d3.select(i.node().parentNode).node();var s=c.isExist(l)?l.getBoundingClientRect():{};var h=u.getData(n);if(c.isExist(h)){r.bTinyValue=h.bTinyValue}var p=n.getBoundingClientRect(),d=parseFloat(r.width)||1,f=d+", "+d;var v=i.append("g").attr("class","v-m-highlight");var g={rect:null,line:null};var y;if(r.renderType){y=r.renderType.indexOf("stacked")>-1}var _=r.angle;if(y&&r.isZeroValueInStack&&r.isZeroOnFirstTab){g.line=v.append("line").attr("class","v-highlight-bound").attr("stroke",r.color).attr("stroke-width",r.width).attr("stroke-dasharray",f).style("pointer-events","none")}else{g.rect=v.append("rect").attr("class","v-highlight-bound").attr("transform",o.attr("transform")).attr("width",o.attr("width")).attr("height",o.attr("height")).attr("x",o.attr("x")).attr("y",o.attr("y")).attr("fill","transparent").attr("fill-opacity",0).attr("stroke",r.color).attr("stroke-width",r.width).attr("stroke-dasharray",f).attr("shape-rendering","crispEdges").style("pointer-events","none")}if(a==="rect"||a==="path"){var A=e.getTransformToElement(n,i.node());var b=d3.select(I).node()||d3.select(O).node()||d3.select(R).node();var x=c.isExist(b)?b.getBoundingClientRect():{};var S=d3.select(M).node();var D=c.isExist(S)?S.getBoundingClientRect():{};var w=d3.select("."+U).node();var C=c.isExist(w)?w.getBoundingClientRect():{};var T=[];if(r.isZeroValue){var z=d3.selectAll(".v-wtf-linkline");for(var L=0;L<z[0].length;++L){T.push(z[0][L])}}var P=v.node().getBoundingClientRect();var k=T.length>0?he(T,P,!r.isVerticalRender).getBoundingClientRect():{};if(r.isZeroValue&&r.isZeroOnFirstTab){if(r.isVerticalRender){r.bCloseCategory=x.top<=P.top||D.top<=P.top}else{r.bCloseCategory=x.right<=P.left||D.right<=P.left}}if(!r.isZeroValueInStack){if(c.isExist(i.select(".negative-datapoint").node())){r.isNegative=true}A=le(A,r);v.attr("transform","translate("+A.e+","+A.f+") "+"scale("+A.a+","+A.d+") ")}else{var E,N;N={a:r.isVerticalRender?0:ae(r.renderType)?-1*.5*Y.LINE:.5*Y.LINE,b:r.isVerticalRender?ae(r.renderType)?.5*Y.LINE:-1*.5*Y.LINE:0};E=N;if(!r.isAllValueNegative&&!ae(r.renderType)){E={a:r.isVerticalRender?0:-1*.5*Y.LINE,b:r.isVerticalRender?.5*Y.LINE:0}}A=r.isAllValueNegative?N:E;if(r.bCloseCategory){if(r.isVerticalRender){A.b*=-1}else{A.a*=-1}}}var B=o.attr("x"),V=o.attr("y");var W=a==="rect"?parseFloat(o.attr("width")):p.width,G=a==="rect"?parseFloat(o.attr("height")):p.height;var X=parseFloat(o.attr("stroke-width"))||0;if(!r.isZeroValue){if(a==="path"){B-=.5*W;V-=.5*G}B-=X;V-=X;W=W?W+2*X:0;G=G?G+2*X:0}if(c.isExist(g.line)||c.isExist(g.rect)){var j={plotPos:D,axisPos:x,zeroLine:{zeroLinePos:C,strokeWidth:c.isExist(w)?parseFloat(w.getAttribute("stroke-width")):0},hoverPos:P,wtfLinePos:k};B+=ce(j,r).deltaX;V+=ce(j,r).deltaY}var Z={width:W,height:G};Z=se(Z,r);var q,K,Q,$;if(c.isExist(g.rect)){g.rect.attr("width",Z.width).attr("height",Z.height).attr("x",B).attr("y",V);if(r.bTinyValue||ue(P,s,r,Y.RECT)){d3.select(l).selectAll("."+H).remove();q=e.create("g");K=d3.select("."+F);Q=d3.select(".v-m-highlight");q.setAttribute("class",H);$=K.attr("transform");q.setAttribute("transform",$);q.appendChild(Q.node());l.appendChild(q)}}else{if(r.isVerticalRender){g.line.attr("x1",B).attr("y1",V).attr("x2",B+Z.width).attr("y2",V)}else{g.line.attr("x1",B).attr("y1",V).attr("x2",B).attr("y2",V+Z.height)}g.line.attr("transform","translate("+A.a+","+A.b+")");if(r.bCloseCategory||ue(P,s,r,Y.LINE)){if(r.bCloseCategory){var J=Math.max(parseFloat(r.width),2);g.line.attr("stroke-width",J+"")}d3.select(l).selectAll("."+H).remove();q=e.create("g");K=d3.select("."+F);Q=d3.select(".v-m-highlight");q.setAttribute("class",H);$=K.attr("transform");q.setAttribute("transform",$);q.appendChild(Q.node());l.appendChild(q)}}if(re(r.renderType)){var ee=r.isVerticalRender?"height":"width";var te=d3.selectAll(".v-m-highlight")[0];if(te){for(var ie=0;ie<te.length;++ie){if(parseFloat(d3.select(te[ie]).select(".v-highlight-bound").attr(ee))===0){d3.select(te[ie]).select(".v-highlight-bound").attr(ee,Y.RECT)}}}}}else if(!_||_%90===0){var oe=t.getBoundingClientRect();var ne=m.intersection(oe,p);if(ne){g.rect.attr("width",ne.width).attr("height",ne.height);if(ne.left!==p.left){g.rect.attr("x",(parseFloat(o.attr("x"))||0)+ne.left-p.left)}if(ne.top!==p.top){g.rect.attr("y",(parseFloat(o.attr("y"))||0)+ne.top-p.top)}}}};var de=function(e,t){var i=e.selectAll(".v-m-highlight")[0];if(i){for(var a=0;a<i.length;++a){var r=u.getData(i[a].parentNode)||{};if(!r.isZeroValue||t){d3.select(i[a]).remove()}}}};var fe=function(e){var t=e._getRenderType();return t.indexOf("treemap")>-1};var ve=function(e){var t;var i,a,r,o;var n,l;if(e.length===0){return null}var s=e[0].getBoundingClientRect();i=s.left;a=s.right;r=s.top;o=s.bottom;for(t=1;t<e.length;++t){s=e[t].getBoundingClientRect();i=s.left<i?s.left:i;a=s.right>a?s.right:a;r=s.top<r?s.top:r;o=s.bottom>o?s.bottom:o}n=(i+a)/2;l=(r+o)/2;if(n&&l){return{x:n,y:l}}else{return null}};var ge=function(e){var t=e.getStatus("keyArrowHoveredDataPoint");if(fe(e)&&t){var i=e.getStatus("hoveredDataPointId");var a=e.getNodes(e.NodeType.DATA_POINT_GROUP);var r=a.selectAll("g.v-datapoint[data-datapoint-id='"+i+"']").node();if(r){e.fireEvent("unhoverOnDataPoint",{targets:t})}}else if(t){e.fireEvent("unhoverOnDataPoint",{targets:t})}e.fireEvent("processUnhighlight");e.setStatus("keyArrowHoveredDataPoint",null);e.setStatus("hoveredDataPointId",null);e.setStatus("keyArrowHoveredCategoryLabel",null);e.setStatus("keyArrowHoveredCategory2Label",null);e.setStatus("keyArrowHoveredTimeLabel",null);e.setStatus("hoveredCategoryLabelId",null);e.setStatus("hoveredCategory2LabelId",null);e.setStatus("hoveredTimeLabelId",null);e.setStatus("orgHoveredTimeLabelId",null);e.setStatus("keyArrowHoveredLegendLabel",null);e.setStatus("hoveredLegendLabelId",null);e.setStatus("hoveredRadarLabelId",null);e._rootNode.selectAll('g[focusable="true"]').attr("focusable",false)};var me=function(e,t){_e.call(this,e,t,undefined)};var ye=function(e,t){var i=n.getContext(e);if(!i.hasOwnProperty("rectX")){return}l.cleanRangeSelection(t);var a={},r=t.getDataModel()._timeAxis.metaData[0].id;a[r+"."+L]=i.range;return l.getDataPointIds(a,t)};var _e=function(e,t,i,a,o){var s=t.getStatus("tabOrder");if(s===-1){return}e.data.originalEvent.preventDefault();var h=null;var p=null;var d=null;var f=null;var g=null;var m=null;var y=t.isHorizontal();var _;var A={};var b=null;var T=t._getRenderType();var z=false;var L=t._getRenderType().indexOf("radar")>-1;switch(s){case 1:h=this[x];if(!h){return}if(/line|bullet|pie|donut/.test(T)){b=null}else if(/scatter|bubble/.test(T)){b="path"}else{b="rect"}p=t.getStatus("keyArrowHoveredDataPoint");m=t.getStatus("hoveredDataPointId");if(!p){f=h.getFirstStartPoint()}else if(i){f=h.getDataPoint(m)}else{f=Z(h,e,m,t)}if(!f){return}if(this.plotScrollable){var P=f.address();var k=q(t);_=k.getDataPointPosition(P[1],P[0],true);if(!_){return}A.needAdjust=true;A.isNegative=false;if(f._data){if(t._getRenderType().indexOf("bullet")>-1){var E=k.getData().series[P[1]][P[0]];A.isNegative=true;["actualValues","additionalValues","forecastValues"].forEach(function(e){if(c.isNumber(E[e])&&E[e]>0){A.isNegative=false}})}else{A.isNegative=f._data[f._data.measureNames]<0?true:false}A.isZeroValue=f._data[f._data.measureNames]===0}J.call(this,e.name,t,_,y,A)}d=f.id;g=t.getNodes(t.NodeType.DATA_POINT_GROUP);p=g.selectAll("g.v-datapoint[data-datapoint-id='"+d+"']").node();var I=y?"width":"height";var O=d3.select(p).select("rect");var R;if(O.node()){R=parseInt(O.attr(I))===0}if(R){var N=g.selectAll("g.v-datapoint[data-datapoint-id='"+m+"']").node();var M=Z(h,e,d,t)||{};var F=g.selectAll("g.v-datapoint[data-datapoint-id='"+M.id+"']").node();var H,U;var W=y?"leftarrow":"uparrow";var Y=y?"rightarrow":"downarrow";if(N&&F){if(T===r.STACKED_COMBINATION){switch(e.name){case W:H=!this.isAllValueNegative?N:F;break;case Y:H=!this.isAllValueNegative?F:N;break}}if(H){U=H.getAttribute("transform");p.setAttribute("transform",U)}}}if(p==null&&fe(t)){p=g.selectAll("g [data-datapoint-id='"+d+"'] .v-labelarea").node();z=true;b="rect.v-labelarea"}if(d&&p){t.setStatus("keyArrowHoveredDataPoint",p);t.setStatus("hoveredDataPointId",d)}t.fireEvent("saveZoom",{scroll:true});if(e&&e.data&&e.data.rootHandler){d3.select(e.data.rootHandler).classed(G,true)}if(f&&f._data&&p){var X=u.getData(p);var j,K;if(this._isBulletChart){if(f&&f._data){X.isZeroValue=true;var Q=f._model;if(Q.hasOwnProperty("forecastValues")){j=Q.forecastValues.values;if(j){K=j[f.address()[0]][f.address()[1]];if(c.isArray(K)){K=K[0]}}X.isZeroValue=K===0||!c.isExist(K)}}}else if(this._isPieChart||this._isDonutChart){X.isZeroValue=X.startAngle===X.endAngle}else if(this._isTimeseriesWaterFall){X.isZeroValue=false}else{X.isZeroValue=f._data[f._data.measureNames]===0;if(X.isZeroValue&&c.isExist(this.zeroValueInStackIndex)){var $=f.address()[0];X.isZeroValueInStack=this.zeroValueInStackIndex.indexOf($)>-1}}X.isAllValueNegative=this.isAllValueNegative;X.isAllZero=this.isAllZero;u.setData(p,X)}break;case 2:case 4:if(L){var ae=t.getNodes(t.NodeType.RADAR_AXIS).node();var re=0;var oe=ae.childElementCount-1;var ne=u.getData(ae);if(c.isUndefined(ne)){u.setData(ae,{focusPos:0})}var le=u.getData(ae).focusPos;switch(e.name){case"leftarrow":if(le!==re){le=le===oe?re:le+1}break;case"rightarrow":if(le!==re+1){le=le===re?oe:le-1}break}ne=u.getData(ae);ne.focusPos=le;u.setData(ae,ne);p=t.getNodes(t.NodeType.AXIS_ITEM)[0][le];b=V;t.setStatus("hoveredRadarLabelId",le)}else{var se=this._isTimeseries?t.getModule("main.timeAxis.axisBody"):s==2?t.getModule("main.categoryAxis.axisBody"):t.getModule("main.categoryAxis2.axisBody");if(se.isOnlyShowingFirstAndLastLabel&&se.isOnlyShowingFirstAndLastLabel()){return}b=V;h=this._isTimeseries?this[w]:s==2?this[S]:this[D];p=this._isTimeseries?t.getStatus("keyArrowHoveredTimeLabel"):s==2?t.getStatus("keyArrowHoveredCategoryLabel"):t.getStatus("keyArrowHoveredCategory2Label");m=this._isTimeseries?t.getStatus("hoveredTimeLabelId"):s==2?t.getStatus("hoveredCategoryLabelId"):t.getStatus("hoveredCategory2LabelId");if(!p){if(this._isTimeseries){h.updateCells(t.getModule("main.timeAxis.axisBody").getActiveLabels())}d=h.getFirstStartPoint().id}else if(i){f=h.getCell(m);d=f&&f.id||h.getFirstStartPoint().id}else{f=Z(h,e,m,t);d=f&&f.id}var ue=false;if(!d&&m&&this._isTimeseries&&["rightarrow","leftarrow"].indexOf(e.name)>-1){var ce=t.getModule("main.timeAxis.axisBody").getRange(),he=m.split("-")[1];if("leftarrow"===e.name&&he>ce[0]||"rightarrow"===e.name&&he<ce[1]){d=m;ue=true}}if(d!=null){_=se.getCellPosition(d);if(ue&&_){if("rightarrow"===e.name){_.x=_.x+_.width}else if("leftarrow"===e.name){_.x=_.x-_.width}}A.needAdjust=false;var pe;if(this._isTimeseries&&["rightarrow","leftarrow"].indexOf(e.name)===-1){pe=false}else if(_){pe=J.call(this,e.name,t,_,y,A)}if(this._isTimeseries){if(pe){f=Z(h,e,m,t);d=f&&f.id}if(!d&&ue){d=m}g=t.getNodes(t.NodeType.TIME_LABEL_GROUP);p=g.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+d+"']")||g.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+d+"']")}else{g=s==2?t.getNodes(t.NodeType.CATEGORY_LABEL_GROUP):t.getNodes(t.NodeType.CATEGORY2_LABEL_GROUP);p=g.node().querySelector("g.v-label[categorylabel-id='"+d+"']")}if(p){if(this._isTimeseries){t.setStatus("keyArrowHoveredTimeLabel",p);t.setStatus("hoveredTimeLabelId",d);t.setStatus("orgHoveredTimeLabelId",d)}else{if(s===2){t.setStatus("keyArrowHoveredCategoryLabel",p);t.setStatus("hoveredCategoryLabelId",d)}else{t.setStatus("keyArrowHoveredCategory2Label",p);t.setStatus("hoveredCategory2LabelId",d)}}}}}break;case 3:if(/bullet|timeseries_waterfall/.test(T)){t.fireEvent("processUnhighlight");return}b=B;h=this[C];p=t.getStatus("keyArrowHoveredLegendLabel");m=t.getStatus("hoveredLegendLabelId");if(!p){d=h.getFirstStartPoint().id}else if(i){f=h.getCell(m);d=f&&f.id}else{f=Z(h,e,m,t);d=f&&f.id}var ve=t.getSemanticManager();var ge=t.NodeType.LEGEND_ITEM;if((T.indexOf("heatmap")>-1||T.indexOf("treemap")>-1)&&!(ve.hasDataPointColorStyle()&&ve.isOverrideMode())){ge=t.NodeType.MBC_LEGEND_ITEM}var me=t.getNodes(ge,false);function _e(e,t){if(t==null){return null}for(var i=0;i<e.length;++i){if(e[i].getAttribute("legendlabel-id")===t.toString()){return e[i]}}return null}p=_e(me,d);if(d!==null&&!p){if(!h.isLastCellID(d)){var Ae=t.getModule("legendGroup.legend");if(Ae&&Ae.loadMore){Ae.loadMore();me=t.getNodes(t.NodeType.LEGEND_ITEM,false)}p=_e(me,d)}}if(d!=null&&p){ee(e,t,p);t.setStatus("keyArrowHoveredLegendLabel",p);t.setStatus("hoveredLegendLabelId",d)}break}var be;if(this._isTimeseries){if(s!==1){var xe=ye(p,t);be=n.getNodes(xe,t);be.forEach(function(e){Se=u.getData(e);if(Se.isZeroValue){Se.isZeroOnFirstTab=false}u.setData(e,Se)})}}if(p){var Se=u.getData(p);if(!c.isExist(Se)){var De=v.extendByRepalceArray({},n.getContext(p).ctx);be=l.getDataPointNodes(De,t);be.forEach(function(e){Se=u.getData(e);if(Se.isZeroValue){Se.isZeroOnFirstTab=s===1}u.setData(e,Se)})}else{if(Se.isZeroValue){Se.isZeroOnFirstTab=s===1}u.setData(p,Se)}}te(e,t,"hover",p,this._isTimeseries,true);if(a){this._mainNode=a}if(o){this._mainBoundNode=this._mainNode.select(o).node()}if(p){if(this._mainNode){de(this._mainNode)}ie(this._mainBoundNode,p,b,t,s,z)}};var Ae=function(e,t){var i;var a;var r;var o;var n=t.getStatus("tabOrder");var l=null;var s=t._getRenderType().indexOf("radar")>-1;switch(n){case 1:r=t.getStatus("hoveredDataPointId");var u=t.getNodes(t.NodeType.DATA_POINT_GROUP);l=u.node().querySelector("g.v-datapoint[data-datapoint-id='"+r+"']");if(l==null&&fe(t)){l=u.node().querySelector("g [data-datapoint-id='"+r+"'] .v-labelarea")}break;case 2:if(this._isTimeseries){i=t.getStatus("hoveredTimeLabelId");var c=t.getNodes(t.NodeType.TIME_LABEL_GROUP);l=c.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+i+"']")||c.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+i+"']")}else if(s){o=t.getStatus("hoveredRadarLabelId");var h=t.getNodes(t.NodeType.AXIS_ITEM);l=h[0][o]}else{a=t.getStatus("hoveredCategoryLabelId");var p=t.getNodes(t.NodeType.CATEGORY_LABEL_GROUP);l=p.node().querySelector("g.v-label[categorylabel-id='"+a+"']")}break;case 3:l=t.getStatus("keyArrowHoveredLegendLabel");break;case 4:l=t.getStatus("keyArrowHoveredCategory2Label");break}if(l){if(n===1&&t.getProperties().get("interaction.selectability.plotStdSelection")){de(this[P])}te(e,t,"click",l);te(e,t,"down",l);setTimeout(function(){te(e,t,"up",l)},100);e.data.originalEvent.preventDefault()}};var be=function(e,t){if(!t.getStatusManager().get("plot.zoom")){return}if(e.data.originalEvent.altKey||e.data.originalEvent.ctrlKey){return}var i=t.getStatus("tabOrder");if(i!=1&&i!=2){return}e.data.originalEvent.preventDefault();var a=null;var r,o=[];if(e.name==="plus"){a="in"}else if(e.name==="minus"){a="out"}var s,u;var h,p,d;var f;var v=null;var g=false;switch(i){case 1:var m=t._getRenderType();if(/line|bullet|pie|donut/.test(m)){v=null}else if(/scatter|bubble/.test(m)){v="path"}else{v="rect"}s=t.getStatus("hoveredDataPointId");u=t.getNodes(t.NodeType.DATA_POINT_GROUP);r=u.node().querySelector("g.v-datapoint[data-datapoint-id='"+s+"']");if(r){o=c.isArray(r)?r:[r]}break;case 2:v=V;if(this._isTimeseries){h=t.getStatus("hoveredTimeLabelId");d=t.getNodes(t.NodeType.TIME_LABEL_GROUP);r=d.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+h+"']")||d.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+h+"']");t.setStatus("keyArrowHoveredTimeLabel",r)}else{h=t.getStatus("hoveredCategoryLabelId");p=t.getNodes(t.NodeType.CATEGORY_LABEL_GROUP);r=p.node().querySelector("g.v-label[categorylabel-id='"+h+"']");t.setStatus("keyArrowHoveredCategoryLabel",r)}if(r){var y;if(this._isTimeseries){y=n.getContext(r);var _={},A=t.getDataModel()._timeAxis.metaData[0].id;_[A+"."+L]=y.range;o=l.getDataPointNodes(_,t)}else{y=n.getContext(r).ctx;o=l.getDataPointNodes(y,t)}}break}if(t._getRenderType().indexOf("bullet")>-1){var b=false;var x=false;var D=[];for(var C=0;C<o.length;++C){var T=Array.prototype.slice.call(o[C].querySelectorAll(".v-primary, .v-additional, .v-forecast"));D=D.concat(T);if(!x&&o[C].querySelectorAll(".v-target").length>0){x=true}if(!b){for(var z=0;z<T.length;++z){var P=T[z].getBoundingClientRect();if(P.width&&P.height){b=true;break}}}}if(b||!x){o=D}}var k=ve(o);if(!k&&i==2&&r){var E=r.getBoundingClientRect();var I,O;if(t.isHorizontal()){I=E.right;O=(E.top+E.bottom)/2}else{I=(E.left+E.right)/2;O=E.top}k={x:I,y:O}}var R;if(i===2){R=this._isTimeseries?t.getModule("main.timeAxis.axisBody").getActiveLabels().length:t.getModule("main.categoryAxis.axisBody").getActiveLevels().length}t.getModule("main").getZoomer().zoomInOut(a,k,14);if(i===2){var N=this._isTimeseries?d.node():p.node(),M=this._isTimeseries?this[w]:this[S],B=this._isTimeseries?t.getModule("main.timeAxis.axisBody").getActiveLabels():t.getModule("main.categoryAxis.axisBody").getActiveLevels(),F=B.length;var H=h,U;if(R!==F&&!this._isTimeseries&&c.isExist(H)){var W=N.querySelector("g.v-label[categorylabel-id='"+H+"']"),G=M.getParentCell(H);while(!W&&G){H=G.id;W=N.querySelector("g.v-label[categorylabel-id='"+H+"']");G=M.getParentCell(H)}U=M.getCell(H).ctx;M.updateCells(B);h=(M.findCell(U)||M.getFirstStartPoint()).id;t.setStatus("hoveredCategoryLabelId",h)}else if(this._isTimeseries){M.updateCells(B);f=t.getStatus("orgHoveredTimeLabelId");U=f?M.getCell(f)||{id:f}:M.getCell(H)||{id:H};h=(M.findCell(U)||M.getFirstStartPoint()).id;t.setStatus("hoveredTimeLabelId",h);if(!f){t.setStatus("orgHoveredTimeLabelId",h)}}r=this._isTimeseries?N.querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+h+"']")||N.querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+h+"']"):N.querySelector("g.v-label[categorylabel-id='"+h+"']");if(this._isTimeseries){t.setStatus("keyArrowHoveredTimeLabel",r)}}else if(i===1){r=u.node().querySelector("g.v-datapoint[data-datapoint-id='"+s+"']")}te(e,t,"hover",r,this._isTimeseries,true);if(r){ie(this._mainBoundNode,r,v,t,i,g)}return};var xe=function(){};xe.prototype={initialized:function(e,t){t.setStatus("tabOrder",-1);this[P]=t.getNodes(t.NodeType.MAIN_NODE);this[k]=t.getNodes(t.NodeType.LEGEND_GROUP);this[E]=t.getNodes(t.NodeType.PLOT_NODE);this._mainNode=null;this._mainBoundNode=null;var i=t._getRenderType();this._isTimeseries=i.indexOf("timeseries")>-1;var a={renderType:i,dataModel:t.getDataModel(),propertyManager:t.getProperties(),treeRect:t.getStatusManager().get("treeRect"),borderWidth:t.getProperties().get("plotArea.border.visible")?1:0,isTimeseries:this._isTimeseries};this._isBulletChart=i.indexOf("bullet")>-1;this._isStackedChart=i.indexOf("stacked")>-1;this._isWaterFallChart=i.indexOf("waterfall")>-1;this._isPieChart=i.indexOf("pie")>-1;this._isTimeseriesWaterFall=i.indexOf("timeseries_waterfall")>-1;this._isDonutChart=i.indexOf("donut")>-1;this._isDualChart=t._getChartType().indexOf("dual")>-1;this.isAllValueNegative=true;var r=q(t).getData().series;var n,l,s;if(this._isBulletChart){n=["actualValues","additionalValues","forecastValues","targetValues"];for(l=0;l<r[0].length;++l){for(var u=0;u<n.length;++u){var h=r[0][l][n[u]];if(c.isNumber(h)&&h>0){this.isAllValueNegative=false;break}}}}else if(this._isWaterFallChart){this.isAllValueNegative=!r[0].some(function(e){return e.base>0||e.total>0});this.isAllZero=!r[0].some(function(e){return e.valueAxis!==0})}else if(this._isPieChart||this._isDonutChart){this.isAllValueNegative=!r.some(function(e){return e[0].size>0});this.isAllZero=!r.some(function(e){return e[0].size!==0})}else{this.isAllZero=true;for(l=0;l<r.length;++l){for(s=0;s<r[l].length;++s){if(r[l][s]&&r[l][s].dp&&r[l][s].dp._data){n=r[l][s].dp._data[r[l][s].dp._data.measureNames];if(n!==0){this.isAllZero=false;break}}}}for(l=0;l<r.length;++l){var p=false;for(s=0;s<r[l].length;++s){if(r[l][s]&&r[l][s].dp&&r[l][s].dp._data){n=r[l][s].dp._data[r[l][s].dp._data.measureNames];if(n>0){p=true;break}}}if(p){this.isAllValueNegative=false;break}}if(this._isStackedChart){this.zeroValueInStackIndex=[];for(s=0;s<r[0].length;++s){var d=[];for(l=0;l<r.length;++l){if(c.isExist(r[l][s])&&(c.isExist(r[l][s].valueAxis)||c.isExist(r[l][s].valueAxis2))){n=c.isExist(r[l][s].valueAxis)?r[l][s].valueAxis:r[l][s].valueAxis2;d.push(n)}}if(d.indexOf(0)>-1){d=d.filter(function(e){return e!==0});if(d.length>0){this.zeroValueInStackIndex.push(s)}}}}}var f=o;var v=!t.isBigDataMode()?f.createNavigator(a,x):null;if(v){v.init();this[x]=v;t.setStatus("keyArrowHoveredDataPoint",null)}a={renderType:i};if(t.getModule("main.categoryAxis")){var g=t.getModule("main.categoryAxis.axisBody");if(t._propertyMgr.get("categoryAxis.label.overlapBehavior")!=="auto"){a.cells=g.getActiveLevels.bind(g)}else{a.cells=g.getActiveLevels()}if(a.cells){a.isVerticalRender=true;v=f.createNavigator(a,S)}if(v){v.init();this[S]=v;t.setStatus("keyArrowHoveredCategoryLabel",null)}}if(t.getModule("main.categoryAxis2")){a.cells=t.getModule("main.categoryAxis2.axisBody").getActiveLevels();if(a.cells){a.isVerticalRender=false;v=f.createNavigator(a,S)}if(v){v.init();this[D]=v;t.setStatus("keyArrowHoveredCategory2Label",null)}}if(t.getModule("main.timeAxis")){a.cells=t.getModule("main.timeAxis.axisBody").getActiveLabels();if(a.cells){a.isVerticalRender=false;v=f.createNavigator(a,w)}if(v){v.init();this[w]=v;t.setStatus("keyArrowHoveredTimeLabel",null)}}var m=t.getModule("legendGroup.legend");if(m&&m.isVisible()){var y=m.getType();if(y.search(/(ColorLegend|MBCLegend)/)!=-1){var _=m.getActiveLevels();if(_){a={renderType:t._getRenderType(),cells:_};var A;switch(y){case"ColorLegend":A=T;break;case"MBCLegend":A=z;break}v=f.createNavigator(a,A)}if(v){v.init();this[C]=v;t.setStatus("keyArrowHoveredLegendLabel",null)}}}var b=j(t);if(b&&b.isExist()){this.plotScrollable=true}t.fireEvent(e,true)},unloaded:function(e,t){t.fireEvent(e,true);if(this[x]){this[x].destroy();this[x]=null}if(this[S]){this[S].destroy();this[S]=null}if(this[D]){this[D].destroy();this[D]=null}if(this[w]){this[w].destroy();this[w]=null}if(this[C]){this[C].destroy();this[C]=null}this[P]=null;this[k]=null;t.removeStatus("keyArrowHoveredDataPoint");t.removeStatus("keyArrowHoveredCategoryLabel");t.removeStatus("keyArrowHoveredCategory2Label");t.removeStatus("keyArrowHoveredTimeLabel");t.removeStatus("keyArrowHoveredLegendLabel");t.removeStatus("tabOrder");t.removeStatus("hoveredTimeLabelId");t.removeStatus("orgHoveredTimeLabelId")},uparrowHandler:function(e,t){me.call(this,e,t)},downarrowHandler:function(e,t){me.call(this,e,t)},leftarrowHandler:function(e,t){me.call(this,e,t)},rightarrowHandler:function(e,t){me.call(this,e,t)},tabKeyHandler:function(e,t){var i=M,a=this[P].empty()?this[E]:this[P];var r=t.getStatus("tabOrder");var o=false;var n=e.data.originalEvent.shiftKey;var l=t.getModule("main.categoryAxis");var s=t.getModule("main.categoryAxis2");var u=t.getModule("main.timeAxis");var c=t.getModule("legendGroup.legend");var h=null;var p=this._isTimeseries?t.getModule("main.timeAxis.axisBody"):t.getModule("main.categoryAxis.axisBody")||t.getModule("main.categoryAxis2.axisBody");var d=p&&p.isOnlyShowingFirstAndLastLabel&&p.isOnlyShowingFirstAndLastLabel();var f=function(){if(d&&(i===I||i===O||i===R)){var e=t.getProperties().get("interaction.keyboard");e.color=t.getEffectManager().register({fillColor:e.color});var r=a.select(i).node();pe(r,d3.select(r.parentNode),".v-bound",e)}};if(r===-1){if(!n){e.data.originalEvent.preventDefault();r=1;f()}else{r=-1;o=true}t.setStatus("tabOrder",r)}else{switch(r){case 1:de(a);if(!n){if(t._getChartType().indexOf("radar")>-1){r++}else if(l&&l.isVisible()){i=I;r++}else if(u&&u.isVisible()){i=R;r++}else if(c&&c.isVisible()){a=this[k];i=N;r+=2}else if(s&&s.isVisible()){i=O;r+=3}else{r=-1;o=true}}else{r=-1;o=true}break;case 2:de(a);if(!n){if(!this._isBulletChart&&c&&c.isVisible()){a=this[k];i=N;r++}else if(s&&s.isVisible()){i=O;r+=2}else{r=-1;o=true}}else{i=M;r--}break;case 3:de(this[k]);if(!n){if(s&&s.isVisible()){i=O;r++}else{r=-1;o=true}}else{if(t._getRenderType().indexOf("radar")>-1){i=V;r--}else if(l&&l.isVisible()){i=I;r--}else if(u&&u.isVisible()){i=R;r--}else{t.fireEvent("processUnhighlight");r=1}}break;case 4:de(a);if(!n){r=-1;o=true}else if(c&&c.isVisible()){a=this[k];i=N;r=3}else if(l&&l.isVisible()){i=I;r=2}else{i=M;r=1}break}t.fireEvent("hideDetail",{mode:"infoMode",action:"interrupt"});t.setStatus("tabOrder",r);if(o){ge(t);if(e&&e.data&&e.data.rootHandler){d3.select(e.data.rootHandler).classed(G,false)}return}else{e.data.originalEvent.preventDefault();f()}}switch(r){case 1:h=t.getStatus("keyArrowHoveredDataPoint");break;case 2:h=this._isTimeseries?t.getStatus("keyArrowHoveredTimeLabel"):t.getStatus("keyArrowHoveredCategoryLabel");break;case 3:h=t.getStatus("keyArrowHoveredLegendLabel");break;case 4:h=this._isTimeseries?t.getStatus("keyArrowHoveredTimeLabel"):t.getStatus("keyArrowHoveredCategory2Label");break}_e.call(this,e,t,!!h,a,i)},spaceKeyHandler:function(e,t){Ae.call(this,e,t)},enterKeyHandler:function(e,t){Ae.call(this,e,t)},plusKeyHandler:function(e,t){be.call(this,e,t)},minusKeyHandler:function(e,t){be.call(this,e,t)},clearHighlightBorder:function(e,t){if(t.getStatus("tabOrder")===-1){de(this[P]);de(this[k])}}};return xe});define("sap/viz/chart/behavior/config/KeyboardBehaviorConfig",["sap/viz/chart/behavior/config/handler/KeyboardBehaviorHandler"],function(e){var t=["info/bar","info/dual_bar","info/stacked_bar","info/dual_stacked_bar","info/100_stacked_bar","info/100_dual_stacked_bar","info/column","info/dual_column","info/stacked_column","info/dual_stacked_column","info/100_stacked_column","info/100_dual_stacked_column","info/line","info/horizontal_line","info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/pie","info/donut","info/scatter","info/bubble","info/time_bubble","info/timeseries_scatter","info/timeseries_bubble","info/dual_line","info/dual_horizontal_line","info/timeseries_line","info/timeseries_column","info/timeseries_bullet","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/dual_combination","info/dual_horizontal_combination","info/heatmap","info/waterfall","info/horizontal_waterfall","info/timeseries_waterfall","info/treemap","info/area","info/radar"];return[{id:"keyboardBehaviorDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"afterChartRendered",supportedChartTypes:t,method:"initialized"},{name:"beforeBehaviorUnloaded",supportedChartTypes:t,method:"unloaded"},{name:"uparrow",targets:"*",supportedChartTypes:t,method:"uparrowHandler"},{name:"downarrow",targets:"*",supportedChartTypes:t,method:"downarrowHandler"},{name:"leftarrow",targets:"*",supportedChartTypes:t,method:"leftarrowHandler"},{name:"rightarrow",targets:"*",supportedChartTypes:t,method:"rightarrowHandler"},{name:"tab",targets:"*",supportedChartTypes:t,method:"tabKeyHandler"},{name:"space",targets:"*",supportedChartTypes:t,method:"spaceKeyHandler"},{name:"enter",targets:"*",supportedChartTypes:t,method:"enterKeyHandler"},{name:"blur",targets:"*",supportedChartTypes:t,method:"clearHighlightBorder"},{name:"plus",targets:"*",supportedChartTypes:t,method:"plusKeyHandler"},{name:"minus",targets:"*",supportedChartTypes:t,method:"minusKeyHandler"}]}]});define("sap/viz/chart/behavior/DefaultBehavior",["sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/config/PlotScrollBehaviorConfig","sap/viz/chart/behavior/config/AxisBehaviorConfig","sap/viz/chart/behavior/config/ContextualDataConfig","sap/viz/chart/behavior/config/LegendBehaviorConfig","sap/viz/chart/behavior/config/LassoBehaviorConfig","sap/viz/chart/behavior/config/DataPointBehaviorConfig","sap/viz/chart/behavior/config/RuntimeSelectionHelperConfig","sap/viz/chart/behavior/config/SelectionAPIConfig","sap/viz/chart/behavior/config/PinchBehaviorConfig","sap/viz/chart/behavior/config/TooltipBehaviorConfig","sap/viz/chart/behavior/config/ZoomBehaviorConfig","sap/viz/chart/behavior/config/ScreenReaderConfig","sap/viz/chart/behavior/config/KeyboardBehaviorConfig"],function(e,t,i){return i.register(e.BEHAVIOR.DEFAULT_BEHAVIOR_ID,t.buildBehavior([].slice.call(arguments,3)))});define("sap/viz/chart/behavior/SFinBehavior",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/chart/behavior/config/SelectionTreeUtil","sap/viz/chart/behavior/config/handler/AxisBehaviorHandler","sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/chart/behavior/config/handler/LassoBehaviorHandler","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/chart/behavior/config/handler/TooltipTimerHandler","sap/viz/framework/common/util/DOM","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/framework/common/util/DataUtils"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S){var D="pop";function w(e,t){var i=t.getNodes(t.NodeType.PLOT_BOUND_SELECTION).node();if(!i){return null}var r=t.getNodes(t.NodeType.DATA_POINT,false),o=a.findByDataPointIds(r,e);var n=e.reduce(function(e,t,i){e[t]=i;return e},{});o.sort(function(e,t){return n[a.getDataPointId(e)]-n[a.getDataPointId(t)]});for(var l=0,s=o.length;l<s;l++){if(C(o[l],i)){return o[l]}}return null}function C(e,t){var i=t?t.getBoundingClientRect():null;return e&&i&&o.intersects(i,e.getBoundingClientRect())}function T(e,t,i){var a,r;var o=p.bindingConfig;for(var n in t){if(t.hasOwnProperty(n)&&t[n]){var l=o[n].selectionTree;a=p.getSelectionTree(e,i,l);r=e.getStatus(o[n].metaInfo);var s=t[n];if(s.or||s instanceof Array){var u=s.or||s;for(var c=0;c<u.length;++c){p.applyDimensionalSelection(e,l,a,u[c],i.isDeselect,r)}}else{p.applyDimensionalSelection(e,l,a,s,i.isDeselect,r)}}}}var z=n.get("default").clone();var L=function(){};e.extend(L,s);L.prototype.processMultipleSelectionTooltip=function(e,t){if(t.getStatus("selectedDataPoints").length){t.fireEvent("showDetail")}else{t.fireEvent("hideDetail")}};L.prototype.deselectAll=function(e,t){L.superclass.deselectAll.apply(this,arguments);t.setStatus("categorySelectionTree",{});t.setStatus("category2SelectionTree",{});t.setStatus("seriesSelectionTree",{})};L.prototype.processSelection=function(e,t){var a=L.superclass.processSelection.apply(this,arguments);var r=t.getProperties().get("interaction.selectability.behavior");r=r?r.toUpperCase():r;if(e.data.ctx&&r!==i.SELECTION_BEHAVIOR.DATAPOINT){a.mode=e.data.mode;T(t,e.data.ctx,a)}};L.prototype.refreshedKeepSelection=function(e,t){var a=L.superclass.refreshedKeepSelection.apply(this,arguments);var r=t.getProperties().get("interaction.selectability.behavior");r=r?r.toUpperCase():r;if(a&&r!==i.SELECTION_BEHAVIOR.DATAPOINT){p.initSelectionTree(t)}};var P=["id","name","type","value"];L.prototype._buildEventData=function(e,t){var i=s.prototype._buildEventData.call(this,e,t);function a(e){var t=Object.keys(e).reduce(function(t,i){if(P.indexOf(i)!==-1){t[i]=e[i]}return t},{});return t}var r=t.getProperties();var o=t.getProperties().get("tooltip.applyTimeAxisFormat");var n=t.getProperties().get("tooltip.formatString");var l;var c=t.getModule("main.timeAxis");if(c){var h=t.getDataModel();if(h&&h._timeAxis){l=h._timeAxis.metaData[0].id;o=o&&!(m.isExist(n)&&m.isExist(n[l]))}}if(r.get("interaction.extraEventInfo")){i.forEach(function(e,i){t.fireEvent("extractTooltipData",{target:e.target||{context:e.data}});var n=t.getStatus("tooltipData");u.processDateFormat.call(null,n,o,c);e.tooltipText=_.format({data:n},r).data.map(a)}.bind(this))}return i};z.getActionById("runtimeSelectionHelperDefinition").setHandler(L);var k=function(){};e.extend(k,h);function E(e,t,a){if(!p.isSelectable(t,"DATAPOINT")){return}var o=t.getProperties().get("interaction.selectability");var n=o.mode?o.mode.toUpperCase():o.mode;if(!o.plotStdSelection||n===i.SELECTION_MODE.NONE||!a){return}var l=t.getProperties().get("interaction.selectByTimeAxisGroup");var s=e.data;var u=[],h,d,f,v,m;if(l){f=r.getContext(a);var y=x.getDataPointsByTimeField(a,t);var _=this;y.forEach(function(e){u.push(_._getDataPoint(e,t))})}else{switch(o.behavior){case i.SELECTION_BEHAVIOR.SERIES:f=r.getContext(a);if(!f){v=a.getAttribute("data-datapoint-id");f=t.getDataModel().getDataPoint(v).context()}f=p.applyFilterDimension(f,t,o.behavior);u=c.getTargets([{data:f.series}],t);break;case i.SELECTION_BEHAVIOR.CATEGORY:f=r.getContext(a);f=p.applyFilterDimension(f,t,o.behavior);u=c.getTargets([{data:f.categoryAxis}],t);if(f.categoryAxis2){var A=c.getTargets([{data:f.categoryAxis2}],t);u=u.concat(A);u=g.unique(u)}break;default:u=this._getDataPoint(a)}}var b=this._hasDataPoint(t.getStatus("selectedDataPoints"),v||this._getDataPoint(a));t.fireEvent("processSelection",{ctx:f,targets:u,deselectable:true,ctrlKeyPressed:s.ctrlKey});var S=t.getStatus("selectedDataPoints");if(this._hasDataPoint(t.getStatus("selectedDataPoints"),v||this._getDataPoint(a))){t.fireEvent("showDetail",{target:a})}else{if(b){a=w(S,t);if(a){t.fireEvent("showDetail",{target:a})}}else{t.fireEvent("hideDetail")}t.setStatus("isHoveringDeselectedDataPoint",b)}t.fireEvent("hideDetail",{target:a,action:"select",type:"instantTooltip"})}function I(e,t,i){if(!i){return}var a=e.data.point;var r=t.getStatus("hoveringDataPoint");var o=this._getDataPoint(i);var n=this._hasDataPoint(t.getStatus("selectedDataPoints"),o);if(r){if(r===i){if(!t.getStatus("isHoveringDeselectedDataPoint")){t.fireEvent("showDetail",{target:i,point:a,action:"hover",originalEvent:e.data.originalEvent,type:"instantTooltip"})}return}t.fireEvent("unhoverOnDataPoint",{targets:r})}if(r!==i){t.setStatus("isHoveringDeselectedDataPoint",false)}r=i;t.fireEvent("hoverOnDataPoint",{targets:r,byKeyboard:!!e.data.byKeyboard}).setStatus("hoveringDataPoint",r).fireEvent("showDetail",{target:i,point:a,action:"hover",originalEvent:e.data.originalEvent,type:"instantTooltip"})}k.prototype.clickOnDataPoint=function(e,t){E.call(this,e,t,e.data.currentTarget)};k.prototype.clickOnDataLabel=function(e,t){E.call(this,e,t,a.getDataPointByDataLabel(e.data.currentTarget,t))};k.prototype.hoverOnDataPoint=function(e,t){I.call(this,e,t,e.data.currentTarget)};k.prototype.hoverOnDataLabel=function(e,t){I.call(this,e,t,a.getDataPointByDataLabel(e.data.currentTarget,t))};k.prototype.hoverOnNonDataPoint=function(e,t){t.setStatus("isHoveringDeselectedDataPoint",false);var i=t.getStatus("hoveringDataPoint");if(i&&!this.isHoveringDataPointHighlighted(t)){t.fireEvent("unhoverOnDataPoint",{targets:i})}t.setStatus("hoveringDataPoint",null);t.fireEvent("hideDetail",{mode:"infoMode",target:"nonDataPoint",action:"interrupt",type:"instantTooltip"})};var O=z.getActionById("dataPointBehaviorDefinition");O.setHandler(k);var R=function(){};e.extend(R,u);function N(e,t,i){t.left=-e.x;t.top=-e.y;i.left=i.x;i.top=i.y;return o.intersects(t,i)}function M(e,t){var i=t._getActionLayer();i.clear(D);var a=i.createLayer(D);var r=t.getOffsetMatrix(t.OffsetType.PLOT_NODE,true);var o=t.getModule("main.plot");var n=o.getOffset();n.x+=r.e;n.y+=r.f;a.addRect({x:e.x+n.x,y:e.y+n.y,width:e.width,height:e.height,pointerEvent:"none",fill:"transparent",opacity:0});return i.drawLayer(a)}function B(e,t){var i,o,n,l,s,u=t.getSemanticManager();var h=e.data.target;if(h){t.fireEvent("extractTooltipData",{target:h});i=t.getStatus("tooltipData");n=u.analyzeDataPoint("color,lineColor,lineType,pattern",a.getContext(h),true,a.getAdditionCtx(h));if(n&&n.dataName){for(var p=0;p<i.length;p++){if(i[p].recap){i[p].dataName=i[p].name}else{var d=n.dataName[i[p].id];i[p].dataName=m.isNonEmptyString(d)?d:i[p].name}}}}var f=t.getStatus("selectedDataPoints");var v={data:{val:i},selectedValues:f.length};if(e.data.type==="instantTooltip"){v.point=e.data.point}if(t.getProperties().get("interaction.selectByTimeAxisGroup")){var g=c.getSelectedPeriods(t,f);v.selectedValues=g.length}var A=h&&h.className&&h.className.baseVal;if(t.isBigDataMode()&&!A){var b=t.getModule("main.plot");var x=b.getSize();var S=b.getOffset();var D;if(h){D=b.mappingDataPointInfo(h);if(D&&D.position&&N(S,x,D.position)){o=D.graphic;v.target=M(D.position,t)}}else{for(l=0,s=f.length;l<s;l++){D=b.mappingDataPointInfo(f[l]);if(D&&D.position&&N(S,x,D.position)){o=D.graphic;v.target=M(D.position,t);break}}}}else{if(h){var T=t.getNodes(t.NodeType.PLOT_BOUND_SELECTION).node();v.target=C(h,T)?h:null;o=r.getData(h)}else{v.target=w(f,t);if(v.target){o=r.getData(v.target)}}}v.data=y.extend(true,v.data,_.buildEventGraphicInfo(t,o,n));return v}var V=function(){V.superclass.constructor.apply(this,arguments)};e.extend(V,A);R.prototype._createTooltipTimerHandler=function(e,t){this._tooltipTimerHandler=new V};V.prototype._selectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null}this._hideHandler()};R.prototype._getShowTooltipHandler=function(e,i){function a(){var a=B(e,i);var r=i._getRenderType();var o=i.getProperties().get("interaction.selectByTimeAxisGroup");if(r.indexOf("timeseries")>-1){var n=this._handleShowDetail(e,i),l;if(n&&n.tooltipData&&n.tooltipData.data){l=n.tooltipData.data}a=y.extend(true,a,{timeTooltipData:l,data:{selectByTimeAxisGroup:o}})}var s="showTooltip";if(e.data.type==="instantTooltip"){s="showInstantTooltip"}i.fireExternalEvent(s,{name:t.Event.TooltipShow.name,data:a})}return a.bind(this)};R.prototype._getHideTooltipHandler=function(e,i){function a(){var a="hideTooltip";if(e.data.type==="instantTooltip"){a="hideInstantTooltip"}i.fireExternalEvent(a,{name:t.Event.TooltipHide.name})}return a.bind(this)};R.prototype._processDecoration=function(e,t){if(m.isArray(t.data)){var i=e._properties,a=i.get("tooltip.formatString"),r=i.get("general.showAsUTC");t.data.forEach(function(e,i){if(e.type==="Dimension"&&t.data.timeDimensions!==undefined&&t.data.timeDimensions.indexOf(i)>=0){_.formatTimeDimension(e,a,r)}})}};R.prototype.refreshedTooltip=function(e,t){this.hideDetail.apply(this,arguments);this._tooltipTimerHandler.reset()};R.prototype.showTooltipHoverOnPlot=function(e,t){e.data.type="instantTooltip";t.fireEvent("showDetail",e.data)};R.prototype.hideTooltipHoverOnPlot=function(e,t){e.data.type="instantTooltip";t.fireEvent("hideDetail",e.data)};R.prototype.showTooltipClickBigData=function(e,t){t.fireEvent("showDetail",e.data);t.fireEvent("hideDetail",{target:e.data.target,action:"select",type:"instantTooltip"})};R.prototype.hideTooltipClickBigData=function(e,t){t.fireEvent("hideDetail",e.data);t.fireEvent("hideDetail",{target:e.data.target,action:"deselect",type:"instantTooltip"})};var F=z.getActionById("tooltipBehaviorDefinition");F.setHandler(R);var H=function(){};e.extend(H,d);H.prototype.clickOnAxisLabel=function(e,t){if(p.isSelectable(t,"CATEGORY")){H.superclass.clickOnAxisLabel.apply(this,arguments)}};H.prototype.filterCtx=function(e,t){var i={};if(t&&t.name==="categoryAxis2"){i["categoryAxis2"]=e}else{i["categoryAxis"]=e}return i};var U=z.getActionById("axisBehaviorDefinition");U.setHandler(H);var W=function(){};e.extend(W,f);W.prototype.click=function(e,t){var r=t.getProperties().get("interaction.selectability.behavior");r=r?r.toUpperCase():r;var o=a.getContext(e.data.currentTarget).isSemantic;if(r===i.SELECTION_BEHAVIOR.SERIES&&o){return}if(p.isSelectable(t,"SERIES")){W.superclass.click.apply(this,arguments)}};var G=z.getActionById("legendBehaviorDefinition");G.setHandler(W);var Y=function(){};e.extend(Y,v);Y.prototype.lassoStart=function(e,t){var a=t.getProperties().get("interaction.selectability.behavior");if(a===i.SELECTION_BEHAVIOR.DATAPOINT){Y.superclass.lassoStart.apply(this,arguments)}};Y.prototype._fireShowDetail=function(e,t,i){e.fireEvent("showDetail",{target:t,mode:"actionMode",point:i,bLassoEnd:true});e.fireEvent("hideDetail",{action:"select",type:"instantTooltip"})};Y.prototype._fireHideDetail=function(e){e.fireEvent("hideDetail",{mode:"actionMode"});e.fireEvent("hideDetail",{action:"select",type:"instantTooltip"})};var X=z.getActionById("lassoBehaviorDefinition");X.setHandler(Y);n.register("noHoverBehavior",z)});define("sap/viz/chart/behavior/AllBehaviors",["sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/SFinBehavior","require"],function(){return Array.prototype.slice.apply(arguments)});define("sap/viz/chart/scales/ColorScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/scales/ScaleUtil","sap/viz/framework/common/util/ArrayUtils"],function(e,t,i,a,r,o){var n=function(e,t,a){n.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.ColorScale";this._name=null;this._type="color";a=a||{};this._needRuntimeColorScales=a.needRuntimeColorScales!==false;this._sharedRuntimeColorScale=a.sharedRuntimeColorScale;this._metaData=(a.metaData||[]).map(function(e){var t=i.extend(true,{},e);if(!a.respectHidden){delete t.hidden}return t});this._runtimeColorScale=null;this._mergedRuntimeColorScale=null;this._colorId=a.colorId;this._initScale(a)};e.extend(n,t);n.prototype._initScale=function(e){if(this._scale===undefined){this._scale=d3.scale.ordinal();var t=[];for(var i=0,o=this._domain.length;i<o;i++){t.push(a.valuesToString(this._domain[i]))}var n=r.shrinkedDomain(this._domain,this.getMetaData());var l=e.colorId||"color";if(this._needRuntimeColorScales&&this._sharedRuntimeColorScale&&n.length!==0){this._handleRuntimeScale(t,n,l)}else{var s=[].concat(this._range);this._range=s.splice(0,t.length>0?t.length:1);this._scale.domain(t).range(this._range);if(this._needRuntimeColorScales){this._constructRuntimeColorScale(l)}}}};n.prototype._constructRuntimeColorScale=function(e){var t=[];var a=r.shrinkedDomain(this._domain,this.getMetaData());var o=this.getMetaData().map(function(e){return e.id});for(var n=0;n<a.length;n++){t.push({dataContext:a[n],scaleResult:{index:n,value:this._range[n%this._range.length]}})}this._runtimeColorScale={feed:e,fields:o,results:t};this._mergedRuntimeColorScale=i.clone(this._runtimeColorScale)};n.findMatchRuntimeScale=function(e,t){var i=e&&e.mappings;if(!i){return e}for(var a=0;a<i.length;++a){var r=i[a];var n=r.fields;if(o.equal(n,t)){return r}}return null};n.prototype._handleRuntimeScale=function(e,t,a){var o=[],l;var s=[];var u=[];var c=this._sharedRuntimeColorScale;var h=[];var p=this.getMetaData().map(function(e){return e.id});var d=n.findMatchRuntimeScale(c,p);var f=this._range.length;var v=[];if(d){var g=d.results;for(l=0;l<g.length;l++){v[g[l].scaleResult.index%f]=1}}var m,y;for(l=0;l<t.length;l++){m=t[l];var _=r.findScaleResult(d,m,r.domainArrayCompare);if(_){_=i.clone(_);y=_.scaleResult.index%this._range.length;v[y]=2;_.scaleResult.value=this._range[y];o[l]=_.scaleResult.value;u.push(_)}}var A=[];var b=[];for(l=0;l<f;++l){if(v[l]===1){b.push(l)}else if(v[l]!==2){A.push(l)}}A=A.concat(b);var x=A.length;var S=f;var D=0;for(l=0;l<t.length;l++){m=t[l];if(o[l]==null){y=D<x?A[D]:S++;++D;var w=y%f;var C=this._range[w];o[l]=C;var T={dataContext:m,scaleResult:{index:y,value:C}};s.push(T);u.push(T)}}this._range=o;this._scale.domain(e).range(this._range);this._runtimeColorScale={feed:a,fields:p,results:s};this._mergedRuntimeColorScale={feed:a,fields:p,results:u}};n.prototype.runtimeColorScale=function(){return this._runtimeColorScale};n.prototype.mergedRuntimeColorScale=function(){return this._mergedRuntimeColorScale};n.prototype.hasDomain=function(e){var t=false;if(this._domain&&this._domain.length&&e&&e.length){for(var i=this._domain.length;!t&&i>=0;--i){t=o.equal(this._domain[i],e)}}return t};n.prototype.scale=function(e){if(e){var t=this._metaData.map(function(e){return!!e.hidden});if(e instanceof Array){e=e.filter(function(e,i){return!t[i]})}return this._scale(a.valuesToString(e))}else{return this._scale(e)}};n.prototype.destroy=function(){n.superclass.destroy.apply(this,arguments);this._sharedRuntimeColorScale=null;this._runtimeColorScale=null;this._mergedRuntimeColorScale=null};return n});define("sap/viz/chart/util/PropertyUtils",["sap/viz/framework/common/util/NumberUtils"],function(e){var t={};var i="all";t.getBubbleDepth=function(t,a,r){if(!r||!r.length){return 0}var o=t.get(a);var n=r.length;if(o===i){o=r.length}else{o=parseInt(o);if(e.isNoValue(o)||o<=0){o=t.getDefault(a)}}return Math.min(o,n)};return t});define("sap/viz/chart/scales/ColorScaleProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleUtil","sap/viz/framework/scale/ScaleRepository","sap/viz/chart/scales/ColorScale","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/util/PropertyUtils","sap/viz/chart/scales/ScalesFactory","sap/viz/framework/scale/ScaleRoleTypeMapFactory","sap/viz/chart/scales/ScaleUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h){var p=o.transpose;var d=h.generateUniqueDomain;var f=function(i,l,c,h,f,v){f=f||{};var g=f.seriesType;var m=f.colorPaletteNum;var y=f.customerColorPalette;var _=c.get(l);var A=c.get(l,"templateValue");var b=f.isDual;var x=c.get("sharedRuntime");var S=t.getScaleOfType(x,f.colorId||"color");var D=f.isPaging||!f.isGhost;var w=_?_.palette:y?y:null;if(o.equal(w,r.COLOR.SAPColorSingleAxis)&&y){w=y}var C={sharedRuntimeColorScale:S,needRuntimeColorScales:D,metaData:i.metaData,colorId:f.colorId};if(!e.isExist(i)){return new a([],w,C)}var T=[];var z=[A&&A.palette&&A.palette[0]||r.COLOR.SAPColorDualAxis1,A&&A.palette&&A.palette[1]||r.COLOR.SAPColorDualAxis2];if(i.values){if(g==="yy"){var L=s.getBubbleDepth(h.origin,"plotArea.colorDepth",i.values);var P=h.get("legend.ignoreNoValue");T=d(i.values,L,i.metaData,i.rowArray,v,P,"color");C.respectHidden=true}else if(g!=="bullet"){T=p(i.values);var k=f.noValueIndex;if(e.isArray(k)&&k.length>0){k.forEach(function(e){T.splice(e,1);i.rowArray[e].isNoValue=true})}}}var E=false;if(w&&e.isArray(w[0])&&(e.isArray(w[0][0])||e.isArray(w[0][1]))){E=true}if(f.seriesType==="bullet"||C.seriesType==="timeseries_bullet"){C.mnds=f.mnds;C.isTime=f.isTime;C.noValueIndex=f.noValueIndex;return new(u.getScale("bullet","color"))(i,h,C,c)}else{var I;if(!b){if(E){w=w[0][0]||r.COLOR.SAPColorSingleAxis}else if(!w){w=A&&A.palette||r.COLOR.SAPColorSingleAxis}else if(e.isArray(w)&&e.isArray(w[0])){if(f.chartFamily==="combex"){w=w[0]}else{w=r.COLOR.SAPColorSingleAxis}}I=r.COLOR.SAPColorSingleAxis;if(h.origin.has("plotArea.colorPalette")){h.origin.add("plotArea.colorPalette",{defaultValue:r.COLOR.SAPColorSingleAxis,serializable:false,get:function(){var e=_?_.palette:null;if(!e||e===r.COLOR.SAPColorSingleAxis){e=this.value||w}return e}})}}else{if(E){if(m===0){w=w[m][1]||z[m]}else{w=w[m]||z[m]}}else if(e.isArray(w)&&e.isArray(w[m])){w=w[m]}else{w=z[m]}I=z;if(m===0){if(h.origin.has("plotArea.primaryValuesColorPalette")){h.origin.add("plotArea.primaryValuesColorPalette",{defaultValue:z[0],serializable:false,get:function(){return w}})}}if(m===1){if(h.origin.has("plotArea.secondaryValuesColorPalette")){h.origin.add("plotArea.secondaryValuesColorPalette",{defaultValue:z[1],serializable:false,get:function(){return w}})}}}if(!e.isExist(c.getDefault(l))){if(f.chartFamily==="combex"){I=[[r.COLOR.SAPColorSingleAxis,z[0]],z[1]]}c.add(l,{serializable:true,defaultValue:{feed:l,type:"color",palette:n.clone(I,true)}})}return new a(T,w,C)}};i["colorScale"]=f;c.register(null,null,function(e,t,i,a){return{role:e.TO_OLD_SCALEROLE[t[a].role],type:e.TO_OLD_SCALETYPE[t[a].role],name:a}});c.register(null,"color",function(e,t){return{colorPaletteNum:0,role:e.TO_OLD_SCALEROLE[t["color"].role],type:e.TO_OLD_SCALETYPE[t["color"].role],name:"color"}});c.register(null,"color2",function(e,t){return{colorPaletteNum:1,role:e.TO_OLD_SCALEROLE[t["color2"].role],type:e.TO_OLD_SCALETYPE[t["color2"].role],name:"color"}})});define("sap/viz/chart/scales/PercentageValueScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/TypeUtils"],function(e,t,i){var a=function(e,t,i){this.__className="sap.viz.scale.PercentageValueScale";a.superclass.constructor.apply(this,arguments)};e.extend(a,t);a.prototype.scale=function(e){if(this._scale===undefined||this._isReset===true){this._initScale()}var t=this._scale(+e);return t<0?0:t};return a});define("sap/viz/chart/scales/ScaleTypeHandler",["sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/scales/PercentageValueScale"],function(e,t,i,a,r){var o="layout";var n=function(e){var t;var i=true;for(t=0;t<e.length;t++){if(!(e[t].hasOwnProperty("min")&&e[t].hasOwnProperty("max"))){i=false;break}}return i};var l=function(t){if(e.isArray(t)){for(var i in t){if(t.hasOwnProperty(i)){if(!e.isArray(t[i])){return true}else{return false}}}}return false};var s=function(t,i,a,r){if(e.isArray(t)){for(var o=0,n=t.length;o<n;++o){if(!t.hasOwnProperty(o)){continue}var l=t[o];s(l,i,a,r);if(r.withNoValue&&!r.allNoValue&&r.withMiddleValue&&r.withZeroValue){break}}}else{if(e.isExist(t)){r.allNoValue=false;if(t!==i&&t!==a){r.withMiddleValue=true}if(t===0){r.withZeroValue=true}}else{r.withNoValue=true}if(r.withNoValue&&!r.allNoValue&&r.withMiddleValue&&r.withZeroValue){return}}};var u=function(t){if(t==null){return true}for(var i in t){if(t[i]!=null){for(var a in t[i]){if(t[i][a]!=null){return false}}}else if(e.isArray(t[i])){if(t[i].length!==0){return false}}}return true};var c=function(e,t){if(!l(e)){for(var i in e){if(e.hasOwnProperty(i)){c(e[i],t)}}}else{t.push(e)}};var h=function(t){for(var i in t){if(t.hasOwnProperty(i)){for(var a in t[i]){if(t[i].hasOwnProperty(a)){if(e.isArray(t[i][a])){return true}else{return false}}}}}};var p=function(t){if(!e.isArray(t)){t=[t]}var i;var r;t.forEach(function(t){var o={};if(e.isArray(t)){o=p(t)}else{if(a.isNoValue(t)){return}o={min:t,max:t}}if(i===undefined){i=o.min;r=o.max}if(!a.isNoValue(o.min)){i=i>o.min?o.min:i;r=r>o.max?r:o.max}});return{min:i,max:r}};var d=i.prepareValueScaleData;var f=i.getStackedArrayValues;var v=function(t,i){if(t){if(e.isArray(t)){var a=[0,0,0];for(var r=t.length-1;r>=0;r--){v(t[r],a)}if(a[0]<i[0]){i[0]=a[0]}if(a[1]>i[1]){i[1]=a[1]}}else{var o=+t;if(i.length>2){i[2]=i[2]+o;i[0]=i[2]<i[0]?i[2]:i[0];i[1]=i[2]>i[1]?i[2]:i[1]}else if(o<0){i[0]+=o}else{i[1]+=o}}}};var g=function(t,i){if(e.isArray(t)){for(var a in t){if(t.hasOwnProperty(a)){g(t[a],i)}}}else{i[1]+=Math.abs(t)}};var m={stacked_combination:function(t,i,a,r,n,l){var s=[];var u=t.values;t.lineRawRange=t.lineRawRange||t.range;if(e.isArray(t.values)&&h(t.values)){c(t.values,s);t.values=s}if(r===o){var d=[];var v=[];for(var g in t.values){if(t.values.hasOwnProperty(g)){var m=t.values[g];var y=[];var _=[];for(var A in m){if(m[A]&&m.hasOwnProperty(A)){if(l&&l[A]&&n){var b=n[l[A].mndIndex||0];if(b==="bar"){y.push(t.values[g][A])}else{_.push(t.values[g][A])}}}}if(y.length){d[g]=[];d[g][0]=0;d[g][1]=0;f(y,d[g])}if(_.length){v[g]=[];var x=p(_);v[g][0]=x.min;v[g][1]=x.max}}}t.range=d.concat(v);t.stackedRange=d;t.lineRange=v}i.minMax=p(t.range);var S=a(t,i);t.values=u;return S},stacked:function(e,t,i,a){d(e,a,t&&t.rangeIndex);t=t||{};t.minMax=p(e.range);var r=i(e,t);if(!r.isFixed()){var o;if(n(e.metaData)){var l;var s=[0,0];for(l=0;l<e.metaData.length;l++){s[0]=Math.min(s[0],e.metaData[l].min,s[0]+e.metaData[l].min);s[1]=Math.max(s[1],e.metaData[l].max,s[1]+e.metaData[l].max)}var u=1;if(e.values.length){u=e.values[0].length/e.metaData.length}o=[s[0]*u,s[1]*u]}if(o){r.maximizedDomain=o}}return r},waterfall:function(e,t,i,a){t.minMax=p(e.range);return i(e,t)},area:function(e,t,i,a){if(a===o){var r=[];for(var n in e.values){if(e.values.hasOwnProperty(n)){r[n]=[];r[n][0]=0;r[n][1]=0;v(e.values[n],r[n])}}e.range=r}t.minMax=p(e.range);return i(e,t)},spread:function(e,t,i){e.lineRawRange=e.lineRawRange||e.range;t=t||{};t.minMax=p(e.range);return i(e,t)},bullet:function(e,t,i){var a=[e.minValue,e.maxValue];e.range=a;t=t||{};t.minMax=p(e.range);return i(e,t)},percentage:function(e,t,i,a){if(a===o){var n=[];for(var l in e.values){if(e.values.hasOwnProperty(l)){n[l]=[];n[l][0]=0;n[l][1]=0;g(e.values[l],n[l])}}e.range=n;return new r(n,[0,1])}else{t.minMax=p(e.range);return i(e,t)}},yy:function(e,t,i){var a=t||{};a.allowZeroMinMax=true;a.minMax=p(e.range);var r=i(e,a);var o=r._domain[0],n=r._domain[1];var l=e.values;var u={withNoValue:false,allNoValue:true,withMiddleValue:false,withZeroValue:false};for(var c=0,h=l.length;c<h;++c){s(l[c],o,n,u);if(u.withNoValue&&!u.allNoValue&&u.withMiddleValue&&u.withZeroValue){break}}var d=u.withNoValue,f=u.allNoValue,v=u.withMiddleValue,g=u.withZeroValue;if(d){r._domain.withNoValue=true}if(f){r._domain=[]}if(v){r._domain.withMiddleValue=true}if(g){r._domain.withZeroValue=true}return r}};return m});define("sap/viz/chart/scales/ValueScaleProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleRepository","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/scales/ScaleTypeHandler","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/scale/ScaleDataParseFactory","sap/viz/chart/scales/ScalesFactory"],function(e,t,i,a,r,o,n,l){var s=function(t,r,n,l,s){s=s||{};var c=s.seriesType,h=s.role,p=s.series;var d;if(r=="valueAxis"){d="plotArea.dataShape.primaryAxis"}else if(r=="valueAxis2"){d="plotArea.dataShape.secondaryAxis"}var f;if(d){f=l.get(d);if(!(f instanceof Array)){f=l.get(d,"defaultValue")}}var v=n.get(r)||{};v=i.extend({},v);if(r==="valueAxis"&&s&&s.chartFamily==="ty"&&c==="stacked"){v.rangeIndex=s.rangeIndex}var g=[r,"valueAxis","plotArea.valueAxis"];for(var m=0;m<=g.length;m++){if(m===g.length){v.allowDecimals=true}else if(l.has(g[m]+".label.allowDecimals")){v.allowDecimals=l.get(g[m]+".label.allowDecimals");break}}var y=a[c].call(this,t,v,o.generateValueScale,h,f,s.color);if(!e.isExist(n.getDefault(r))&&(r.indexOf("valueAxis")>-1||r.indexOf("actualValues")>-1)){n.add(r,{serializable:true,defaultValue:{feed:r,type:"linear",min:"auto",max:"auto"}})}y.setOption(n.get(r));if(s.comboexStackSeries||s.isFlexibleStack){u(y,p,s.isTrellis,r)}return y};function u(e,t,i,a){var r=e.getDomainFixed();var o;if(i){for(var n=0;n<t.length;n++){for(var l=0;l<t[n].length;l++){var s=c(a,t[n][l]);if(!s){continue}o=o||s;if(o[0]>s[0]){o[0]=s[0]}if(o[1]<s[1]){o[1]=s[1]}}}}else{o=c(a,t)}if(o){var u=e.getDomain();if(!r[0]){u[0]=Math.min(u[0],o[0])}if(!r[1]){u[1]=Math.max(u[1],o[1])}e.setDomain(u);var h=[];h[0]=Math.min(e.getAutoDomain()[0],o[0]);h[1]=Math.max(e.getAutoDomain()[1],o[1]);e.setAutoDomain(h)}}function c(t,i){var a={};var r={};if(i.every(function(e){return!e.settings.group})){return null}i.forEach(function(e,i){if(e.spec.mndKey!==t||!e.settings.group){return}var o=e.settings.group;var n=a[o]=a[o]||[];var l=r[o]=r[o]||[];e.forEach(function(e,i){n[i]=n[i]||0;l[i]=l[i]||0;var a=e[t]||0;if(a>0){n[i]=n[i]+a}else{l[i]=l[i]+a}})});function o(t){return Object.keys(t).map(function(i){var a=t[i],r=a[0],o=a[0];for(var n=1;n<a.length;n++){if(r>a[n]||!e.isExist(r)&&e.isExist(a[n])){r=a[n]}if(o<a[n]||!e.isExist(o)&&e.isExist(a[n])){o=a[n]}}return[r,o]}).reduce(function(e,t){if(e[0]>t[0]){e[0]=t[0]}if(e[1]<t[1]){e[1]=t[1]}return e},[0,0])}var n=o(a);var l=o(r);return[l[0],n[1]]}t["valueScale"]=s;l.register(null,"value",r);n.register(null,"valueAxis",function(t,i){var a=t["valueAxis"]();if(a.values){var r=function(t){var i=0;var a=function(t){if(e.isArray(t)){i++;a(t[0])}};a(t);return i};if(i.indexOf("trellis")>-1){while(r(a.values)<4){var o=function(t){var i;if(e.isArray(t)&&e.isArray(t[0])){for(i=0;i<t.length;i++){if(t[i]!==undefined){o(t[i])}}}else{if(t.length){for(i=0;i<t.length;i++){t[i]=[t[i]]}}else{t[0]=[]}}};o(a.values)}}}return t})});define("sap/viz/chart/scales/CategoryScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/DataUtils"],function(e,t,i){var a=function(e,t){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.CategoryScale";this._type="categorical";this._initScale()};e.extend(a,t);a.prototype.getDomain=function(){this._ensureScaled();return this._domain};a.prototype.getRange=function(){this._ensureScaled();return this._range};a.prototype.scale=function(e){this._ensureScaled();return this._scale(i.valuesToString(e))};a.prototype.getRangeInterval=function(){this._ensureScaled();return this._scale.range()};a.prototype.getRangeBand=function(){this._ensureScaled();return this._rangeBand};a.prototype._ensureScaled=function(){if(this._scale===undefined||this._isReset===true){this._initScale()}};a.prototype._initScale=function(){var e=this._domain;var t=this._range;var a=e.length;var r=Math.abs(t[0]-t[1])/a;this._rangeBand=r;var o=Array(a);var n=e.map(function(e,t){var a=t*r;o[t]=[a,a+r];return i.valuesToString(e)});this._scale=d3.scale.ordinal().domain(n).range(o);this._isReset=false};a.prototype.destroy=function(){a.superclass.destroy.call(this);this._rangeBand=null;this._isReset=null};return a});define("sap/viz/chart/scales/CategoryScaleProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleRepository","sap/viz/chart/scales/CategoryScale","sap/viz/framework/common/util/ArrayUtils"],function(e,t,i,a){var r=a.transpose;var o=function(t,a,o,n){if(e.isArray(t.values)){var l=r(t.values);var s=new i(l,[0,1]);return s}};t["categoryScale"]=o});define("sap/viz/chart/scales/ScaleOptionsProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleOptionFactory"],function(e,t){function i(e,t,i,a){var r=[];if(!e.rowArray){return r}var o=a||e.rowArray.length;i=i||0;for(var n=o-1;n>=0;--n){var l=t[n+i].every(function(e){return e.valueAxis==null&&e.valueAxis2==null});t[n+i].isEmpty=l;if(l){r.push(n)}}return r}t.register("timeseries.*column|timeseries_bullet",null,function(e,t,i,a){e.allowEqual=true;e.dataTimeLevel=i.statusManager().get("timeLevels")[0];e.showAsUTC=a.get("general.showAsUTC")});t.register("stacked_","waterfallType",function(e,t,i,a){e.isStacked=true});t.register("timeseries.*stacked_column","valueAxis",function(e,t,i,a){e.isStacked=true;e.rangeIndex=t._rangeIndex});t.register("dual_.*",null,function(e,t,i,a){e.isDual=true});t.register(null,"valueAxis",function(e,t,i,a,r){e.color=t.color?t.color().rowArray:null});t.register(null,"valueAxis2",function(e,t,i,a,r){e.color=t.color2?t.color2().rowArray:null});t.register("^((?!(pie|donut|bullet|heatmap|treemap|tagcloud|timeseries)).)*$","color",function(e,t,a,r,o){var n=r.get("legend.ignoreNoValue");if(n&&!/bubble|scatter/.test(t.chartType())){e.noValueIndex=i(t.color(),t.getInitSeries())}e.colorId="color"});t.register("timeseries_((?!(bubble|scatter|combination|bullet)).)*$","color",function(e,t,a,r,o){var n=r.get("legend.ignoreNoValue")&&r.get("plotArea.dataPoint.invalidity")!=="connect";if(n){e.noValueIndex=i(t.color(),t.getInitSeries())}e.colorId="color"});t.register("timeseries_.*combination$","color",function(e,t,a,r,o){var n=r.get("legend.ignoreNoValue");if(n){e.noValueIndex=i(t.color(),t.getInitSeries(),0,r.get("plotArea.dataPoint.invalidity")==="connect"?1:0)}e.colorId="color"});t.register("pie|donut","color",function(t,i,a,r,o){var n=r.get("legend.ignoreNoValue");if(n){var l=i.size&&i.size();for(var s=l.values.length-1;s>=0;--s){if(!e.isExist(l.values[s])){t.noValueIndex=t.noValueIndex||[];t.noValueIndex.push(s)}}}t.colorId="color"});var a=["actualValues","additionalValues","forecastValues","targetValues"];var r=a.length;t.register("bullet","color",function(e,t,i,o,n){var l=o.get("legend.ignoreNoValue");if(l){e.noValueIndex=[];var s=t.getInitSeries();for(var u=0;u<s.length;++u){var c=s[u];var h=[false,false,false,false];var p=false;for(var d=0;d<c.length;++d){var f=c[d];a.forEach(function(e,t){if(f[e]!=null){p=h[t]=true}})}c.isEmpty=!p;h.forEach(function(t,i){if(!t){e.noValueIndex.push(u*r+i)}})}}e.colorId="color"});t.register("^((?!(dual_timeseries_combination|timeseries_combination)).)*$","color2",function(e,t,a,r,o){var n=r.get("legend.ignoreNoValue");if(n){var l=t.color();var s=l.rowArray?l.rowArray.length:0;e.noValueIndex=i(t.color2(),t.getInitSeries(),s)}e.colorId="color2"});t.register("timeseries_.*combination$","color2",function(e,t,a,r,o){var n=r.get("legend.ignoreNoValue")&&r.get("plotArea.dataPoint.invalidity")!=="connect";if(n){var l=t.color();var s=l.rowArray?l.rowArray.length:0;e.noValueIndex=i(t.color2(),t.getInitSeries(),s)}e.colorId="color2"});t.register("combinationEx",null,function(e,t,i,a,r){e.isDual=r.length>1;e.comboexStackSeries=true});t.register("trellis",null,function(e,t,i,a,r){e.isTrellis=true});t.register("stacked_column",null,function(e,t,i,a){if(a.origin.get("plotArea.series")){e.isFlexibleStack=true}})});define("sap/viz/chart/dynamicScales/BaseDyScaleProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/scale/DynamicScaleRepository"],function(e,t,i,a,r){function o(e,t,i,a){this._type=e;this._propertyMgr=t;this._dataModel=i.dataModel;this._scales=i.scales;this._runtime=a;this._units=this._runtime.statusManager().get("data.unit")||{};this._mainValue="valueAxis"}var n=3,l=6,s=9,u=12,c=15;var h=[c,u,s,l,n];function p(e){var t=e.toString();var i=t.length-1;var a=0;for(var r=0;r<h.length;r++){if(i>=h[r]){a=h[r];break}}return a}o.prototype.getValue=function(e){return e.valueAxis||e.valueAxis2};o.prototype.calculatedynamicScale=function(i,r,o){if(!i||!r||i.length===0||r.length===0){return null}var n=this._dataModel[o]();var l=this.getUnit(n,this._units);var s=l[0];var c=l[1];var h=n.metaData.map(function(e){return e.id||e.name});var d=[];var f=0;r.forEach(function(e,t){if(e===undefined){return}var a=p(e);var r=p(i[t]);f=0;if(r===a){f=r}else if(r+3===a&&a<=u){f=a}else if(r+6===a&&a<=u){f=r+3}d.push(f)});var v=null;if(t.unique(d).length!==1){f=0}else{f=d[0]}var g={3:"K",6:"M",9:"B",12:"T",15:"Q"};if(f&&g[f]||f===0&&s){var m=" in";if(g[f]){m+=" "+g[f]}if(s){m+=" "+s}var y=Math.pow(10,f);var _=function(t,i,r,o){if(y===0){t=a.format(t,i,r,o)}else if(e.isNumber(t)){t/=y;t=+t.toFixed(2);if(i&&i.indexOf("u")===i.length-1){t=t.toString()}else{t=a.format(t,i,r,o)}}else{t=t.toString()}return t};v={factor:y,symbol:g[f]||"",unit:s||"",isDifferentUnit:c,postfix:m,format:_,metaKeys:h}}return v};function d(e){return Math.abs(parseInt(e))}o.prototype.cleanValue=d;function f(e){var t=e.map(d).sort(function(e,t){return e-t});return t}o.prototype.cleanRange=f;o.prototype.getUnit=function(e,t){var i=false;var a="";if(e&&e.metaData&&e.metaData.length>0){a=t[e.metaData[0].id]||"";for(var r=1;r<e.metaData.length;r++){var o=t[e.metaData[r].id]||"";if(o!==a){i=true;a="";break}}}return[a,i]};o.prototype.generateResult=function(e,t){var i=null;var a=this._dataModel;if(this._type.indexOf("dual")>-1&&(e||t)){i={valueAxis:e,valueAxis2:t,onlyChartTitle:false};if(e&&t){var r=e.unit===t.unit;var o=e.factor===t.factor;if(o&&r){i.onlyChartTitle=true;i.postfix=e.postfix}else{i.showUnitOnDataLabel=!r||!o;i.showSymbolOnDatalabel=!r||!o}}else{i.showUnitOnDataLabel=true;i.showSymbolOnDatalabel=true}}else if(e){i={valueAxis:e,postfix:e.postfix,onlyChartTitle:true}}if(i){if(e&&e.isDifferentUnit||t&&t.isDifferentUnit){i.showUnitOnDataLabel=true}i.getScaleFactor=function(e){var t=[];for(var a in i){if(i.hasOwnProperty(a)&&i[a]&&i[a].format){t.push(i[a])}}for(var r=0;r<t.length;r++){if(t[r]&&t[r].metaKeys.indexOf(e)>-1){return t[r]}}}}return i};o.prototype.getMinMax=function(){return{}};o.prototype.getdynamicScale=function(){var e=this.getMinMax();var t=this._dataModel;var i=this.calculatedynamicScale(e.minTable,e.maxTable,this._mainValue);var a=t._valueAxis2&&this.calculatedynamicScale(e.minTable2,e.maxTable2,"valueAxis2");return this.generateResult(i,a)};return o});define("sap/viz/chart/dynamicScales/BaseColumnDyScaleProcessor",["sap/viz/framework/common/util/oo","sap/viz/framework/scale/DynamicScaleRepository","sap/viz/chart/dynamicScales/BaseDyScaleProcessor"],function(e,t,i){function a(e,t,i,r){a.superclass.constructor.apply(this,arguments)}e.extend(a,i);["column","dual_column","bar","dual_bar","line","horizontal_line","dual_line","dual_horizontal_line","timeseries_line","combination","horizontal_combination","dual_combination","dual_horizontal_combination","timeseries_column","timeseries_combination","dual_timeseries_combination"].forEach(function(e){t[e]=a});a.prototype.chooseMinMaxFromRanges=function(e){var t=[],i=[];if(e){e.forEach(function(e){if(e){e=this.cleanRange(e);t.push(e[0]);i.push(e[1])}},this)}return[t,i]};a.prototype.getMinMax=function(){var e={};var t=this._dataModel[this._mainValue]();var i=this.chooseMinMaxFromRanges(t.range);e.minTable=i[0];e.maxTable=i[1];if(this._dataModel._valueAxis2){i=this.chooseMinMaxFromRanges(this._dataModel._valueAxis2.range);e.minTable2=i[0];e.maxTable2=i[1]}return e};return a});define("sap/viz/chart/views/ChartView",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/layout/GridLayout","sap/viz/chart/components/title/Title","sap/viz/chart/components/Background","sap/viz/chart/components/scrollbar/PaginationScrollbar","sap/viz/chart/components/legend/ColorLegend","sap/viz/chart/components/legend/LegendGroup","sap/viz/chart/components/container/UIContainer","sap/viz/chart/metadata/properties/PropertyLoader","sap/viz/chart/behavior/AllBehaviors","sap/viz/chart/components/util/TextUtils","sap/viz/chart/scales/ColorScaleProcessor","sap/viz/chart/scales/ValueScaleProcessor","sap/viz/chart/scales/CategoryScaleProcessor","sap/viz/chart/scales/ScaleOptionsProcessor","sap/viz/chart/dynamicScales/BaseColumnDyScaleProcessor"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d){var f=function(e,t){f.superclass.constructor.apply(this,arguments);var i=h.getProperties(t.chartType,this._isTrellis());this._properties.add(i);this._exposeMoreEvents("ready");this._exposeMoreEvents("renderComplete");this._exposeMoreEvents("reRenderComplete");this._exposeMoreEvents("initialized");this._exposeMoreEvents("plotScroll");this.runtime().statusManager().add("ChartPaddingInfo");this.runtime().statusManager().add("sizeChanged");var a=this._getLayoutDefinition();this._supportLazyRender=false;this.setLayoutAlgorithm(new a);this._outline={visible:false};this._background=null;this._backgroundNode=null;this._rootContainer=null;this._paginationScrollbar=null;this._paginationScrollbarNode=null;this._initialized=false;this._legendIsAUTO=false;this._createChildren();this._plotAreaLayout=null;this._semanticMgr=this.runtime().semanticManager()};i.extend(f,c);f.prototype._createChildren=function(){this._createBackground();this._createTitle();this._createLegendGroup();this._createPaginationScrollbar()};f.prototype._createPaginationScrollbar=function(){var e=this._getPaginationScrollbarKey();this._paginationScrollbar=new l(this.runtime(),{name:e})};f.prototype._createTitle=function(t){var i=this._getTitleModuleKey();var r=this._getTitleDefinition();var o=new r(this.runtime(),{name:i});if(a.isFunction(o.setPosition)){o.setPosition(t)}this.setChild(i,o,{priority:1,spacing:{spacingWithMainToRough:e.TITLE.SPACING_WITH_MAIN_TO_ROUGH,spacingMaxInPX:e.TITLE.SPACING_MAX_IN_PX}})};f.prototype._createLegendGroup=function(t){var i=this._getLegendGroupModuleKey();var r=this._getLegendGroupDefinition();var o=new r(this.runtime(),{name:i});if(a.isFunction(o.setPosition)){o.setPosition(t)}var n=this._getLegendDefinition();var l=this._getLegendInitOptions();var s=this._getLegendModuleKey();var u;if(a.isArray(n)){for(var c=0;c<n.length;c++){var h=n[c];var p=s[c];u=new h(this.runtime(),{name:p,options:l[c]});o.setChild(p,u)}}else{u=new n(this.runtime(),{name:s,options:l});o.setChild(s,u)}this.setChild(i,o,{priority:2,spacing:{spacingWithMainToRough:e.LEGEND_GROUP.SPACING_WITH_MAIN_TO_ROUGH,spacingMaxInPX:e.LEGEND_GROUP.SPACING_MAX_IN_PX}})};f.prototype._createBackground=function(){this._background=new n(this.runtime(),{name:"general.background"})};f.prototype.clear=function(){if(this._rootContainer){this._rootContainer.removeAttribute("tabIndex")}if(this._backgroundNode){this._backgroundNode.select(".v-background-body").remove();this._backgroundNode.select(".v-background-border").remove()}if(this._paginationScrollbarNode){this._paginationScrollbarNode.select(".v-background-body").remove()}var e;if(this.getChild(this._getTitleModuleKey())){e=this.getChild(this._getTitleModuleKey()).module}if(e){e.clear()}var t;if(this.getChild(this._getLegendGroupModuleKey())){t=this.getChild(this._getLegendGroupModuleKey()).module}if(t){t.clear()}};f.prototype.paginationOptions=function(){var e;var t=this.getData();if(t&&t.dataModel&&t.dataModel.getPaginationOptions){e=t.dataModel.getPaginationOptions()}return e};f.prototype.savePlotAreaLayout=function(e){var t=this._plotArea._children;for(var i in t){if(t.hasOwnProperty(i)){var a=t[i].module;if(a._size){e[i]={};e[i].module={};e[i].module._size={};e[i].module._size.width=a._size.width;e[i].module._size.height=a._size.height}}}};f.prototype._getDataRange=function(e,t){return this._plotArea&&this._plotArea._getDataRange(e,t)};f.prototype._resetPlotContainer=function(){if(this._plotArea){if(this._selections&&this._selections[this._plotArea.alias]){var t=this.paginationOptions();if(t){this._selections[this._plotArea.alias].selectAll("*").remove();if(!this._plotAreaLayout){this._plotAreaLayout={};this.savePlotAreaLayout(this._plotAreaLayout)}if(t.mode!==e.PAGINATION_MODE.UPDATE){this._plotAreaLayout=null}}else{this._plotAreaLayout=null;this._selections[this._plotArea.alias].remove();this._selections[this._plotArea.alias]=null}}this._plotArea.destroy();this._plotArea=null}};f.prototype._createPlotContainer=function(e){};f.prototype._getPaginationScrollbarKey=function(){return"paginationScrollbar"};f.prototype._getLegendGroupDefinition=function(){return u};f.prototype._getLegendGroupModuleKey=function(){return e.LEGEND_GROUP.KEY};f.prototype._getTitleDefinition=function(){return o};f.prototype._getTitleModuleKey=function(){return"title"};f.prototype._getLegendDefinition=function(){return[s]};f.prototype._getLegendInitOptions=function(){return[null]};f.prototype._getLegendModuleKey=function(){return["legend"]};f.prototype._getLayoutDefinition=function(){return r};f.prototype.layoutPaginationScrollbar=function(e){var t=this._plotArea._categoryAxis._position;var i=this._layoutResult.main;var a=this._plotArea._layoutResult.plot;var r=this._plotArea._layoutResult.categoryAxis;var o=this._plotArea._categoryAxis._layoutResult.axisTitle;var n=this._plotArea._categoryAxis._layoutResult.axisScrollbar;var l=this.paginationOptions();var s=1;if(l){s=l.ratio}this._paginationScrollbar.setPosition(t);var u;var c;var h;if(this._paginationScrollbar._isVertical()){var p=0;if(this._plotArea._valueAxis&&this._plotArea._valueAxis._position==="top"){p=this._plotArea._layoutResult.valueAxis.height}u=i.x+a.x+a.width;c=i.y+p;h=this._plotArea.getVScrollbar()._trackSize}else{if(this._paginationScrollbarOffset===undefined||this._paginationScrollbarOffset===null){if(o.y>0&&n.height>0){this._paginationScrollbarOffset=o.y-n.y-n.height}else{this._paginationScrollbarOffset=0}}u=i.x+a.x;c=i.y+a.height+r.height-o.height-n.height-this._paginationScrollbarOffset;h=this._plotArea.getHScrollbar()._trackSize}e.attr("transform","translate("+u+","+c+")");if(s!==null&&s!==undefined){this._paginationScrollbar.setContentSize(h/s)}else{var d=this._paginationScrollbar.getTrackSize()/this._paginationScrollbar.getContentSize();if(d){this._paginationScrollbar.setContentSize(h/d)}}this._paginationScrollbar.setTrackSize(h)};f.prototype._updateBackgroundColor=function(e){if(e&&e.background&&e.background.color){this._background.setData({color:e.background.color})}else{this._background.setData(null)}};f.prototype.render=function(t,i){if(!this._size.width||!this._size.height){return}this._rootContainer=t.node().parentNode;if(this._rootContainer){this._rootContainer.setAttribute("tabIndex",this._properties.get("general.tabIndex"));if(this._outline.visible||this._properties.get("interaction.enableKeyboard")){this._rootContainer.style.outline=null}else{this._rootContainer.style.outline="none"}}if(this._background){this._background.setSize(this._size);var a=t.node().tagName;if(a.toLowerCase()==="div"){this._backgroundNode=this._backgroundNode||t.append("svg").style("position","absolute").style("height","100%").style("width","100%;").append("g").attr("class","v-m-background")}else{this._backgroundNode=this._backgroundNode||t.append("g").attr("class","v-m-background")}this._updateBackgroundColor(this._semanticDisplayStyleRules);this._background.render(this._backgroundNode)}this._initRenderBase(t);this.clearSize(true);i=i||{};var r=this.paginationOptions();if(r){i.pagination=r;if(i.dataChanged&&r&&r.mode===e.PAGINATION_MODE.UPDATE||!i.isSizeChanged&&!i.propertiesChanged){i.plotAreaLayout=this._plotAreaLayout}else{this._plotAreaLayout=null;this._paginationScrollbarOffset=null}i._paginationScrollbar=this._paginationScrollbar}i._semanticDisplayStyleRules=this._semanticDisplayStyleRules;this.layout(i);var o=this._layoutAlgorithm.config;this._runtime.statusManager().set("ChartPaddingInfo",{padding:o.get("padding"),paddingLeft:o.get("paddingLeft"),paddingRight:o.get("paddingRight"),paddingTop:o.get("paddingTop"),paddingBottom:o.get("paddingBottom")});for(var n in this._children){if(n!=="plot"){if(this._children.hasOwnProperty(n)){this.getChild(n).module.render(this._selections[n],this._semanticDisplayStyleRules)}}}if(this.getChild("plot")){this.getChild("plot").module.render(this._selections["plot"],null,this._semanticDisplayStyleRules)}this._renderForPagination(t,r,i);this._runtime.statusManager().set("sizeChanged",i.isSizeChanged);this._dispatchInitialized()};f.prototype._renderForPagination=function(t,i,r){if(i&&this._plotArea&&this._plotArea._categoryAxis){var o=this._plotArea._categoryAxis.getChild("axisScrollbar");var n=this._plotArea.getChild("scrollbar");if(o&&o.module&&o.module.isVisible()&&o.module.isExist()||n&&n.module&&n.module.isVisible()&&n.module.isExist()){if(!this._paginationScrollbar){this._createPaginationScrollbar()}if(!this._paginationScrollbarNode){this._paginationScrollbarNode=t.append("g").attr("class","v-m-paginationScrollbar")}if(i.mode===e.PAGINATION_MODE.RESET){this._paginationScrollbarOffset=null}if(r.isSizeChanged||r.propertiesChanged||i.mode===e.PAGINATION_MODE.RESET||i.mode===e.PAGINATION_MODE.UPDATE){this.layoutPaginationScrollbar(this._paginationScrollbarNode);this._paginationScrollbar.render(this._paginationScrollbarNode)}if(!r.isSizeChanged&&r.dataChanged&&i.mode===e.PAGINATION_MODE.RESET){this._paginationScrollbar.setThumbPosition(0);this._paginationScrollbar._thumbRatio=0}else{if(this._paginationScrollbar._thumbRatio){this._paginationScrollbar.setThumbPosition(this._paginationScrollbar._thumbRatio*this._paginationScrollbar._maxThumbPosition)}}}}else{if(this._paginationScrollbarNode){this._paginationScrollbarNode.remove()}this._paginationScrollbarNode=null;if(this._paginationScrollbar&&a.isFunction(this._paginationScrollbar.destroy)){this._paginationScrollbar.destroy()}this._paginationScrollbar=null}};f.prototype._dispatchInitialized=function(){if(this._eventDispatch){this._eventDispatch.ready()}d.destroy();window.setTimeout(function(){if(this._eventDispatch){this._initialized=true;this._eventDispatch.initialized();if(this._customerDispatch&&this._customerDispatch.initialized){this._customerDispatch.initialized()}if(this._eventDispatch){this._eventDispatch.renderComplete()}if(this._customerDispatch&&this._customerDispatch.renderComplete){this._customerDispatch.renderComplete()}}window.setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete()}},0)}.bind(this),0)};f.prototype._configLayout=function(){var e=this._getLayoutComponents();var t=this.calculatePaddingInPX(this._properties.origin,this._size.width,this._size.height);var i=t.propertyPaddingInPX;var a=t.propertyPaddingTopInPX;var r=t.propertyPaddingRightInPX;var o=t.propertyPaddingBottomInPX;var n=t.propertyPaddingLeftInPX;var l=this._layoutAlgorithm.config;l.set("totalWidth",this._size.width);l.set("totalHeight",this._size.height);l.set("padding",i);l.set("paddingTop",a);l.set("paddingRight",r);l.set("paddingBottom",o);l.set("paddingLeft",n);l.set("isTrellis",this._isTrellis());l.set("legendGroup.layout.respectPlotPosition",this._properties.origin.get("legendGroup.layout.respectPlotPosition"));l.set("legendGroup.layout.alignment",this._properties.origin.get("legendGroup.layout.alignment"));l.set("title.layout.respectPlotPosition",this._properties.origin.get("title.layout.respectPlotPosition"));return e};f.prototype._postLayout=function(){var e=this._layoutResult;for(var t in e){if(e.hasOwnProperty(t)){var i=this._selections[t];if(i.node().tagName==="DIV"){i.style({position:"absolute",left:e[t].x+"px",top:e[t].y+"px",height:e[t].height+"px",width:e[t].width+"px"})}else{i.attr("transform","translate("+e[t].x+", "+e[t].y+")")}}}};f.prototype._getLayoutComponents=function(){for(var t in this._children){if(this._children.hasOwnProperty(t)){var i=this.getChild(t);var a=i.option;var r=this._properties.proxy(t+".layout");var o=r.get("position");var n=r.get("maxWidth");var l=r.get("maxHeight");var s=r.get("width");var u=r.get("height");var c=null;var h=null;if(t===e.LEGEND_GROUP.KEY){if(o==="auto"){c="right";if(this._size.width<e.LEGEND_GROUP.AUTO_THRESHOLD){c="bottom"}}else{c=o}i.module.setPosition(c);if(this._properties.origin.get("legendGroup.forceToShow")&&!this._isTrellis()){n=1;l=1}c=i.module.getPosition()}else{c=i.module.getPosition?i.module.getPosition():o}if(c){a.position=c}if(!i.module.getPosition){a.defaultPosition=r.getDefault("position")}if(n){a.maxWidth=n}if(l){a.maxHeight=l}if(s){a.width=s;a.maxWidth=s}else{a.width=null}if(u){a.height=u;a.maxHeight=u}else{a.height=null}}}return this._children};f.prototype.setSize=function(){f.superclass.setSize.apply(this,arguments);if(this._rawData){this._updateData()}};f.prototype.getData=function(){return this._rawData};f.prototype.setData=function(e){this._rawData=e;this._updateData()};f.prototype._updateData=function(){var e=this._rawData;var t=this._getDataItems();this._data={};for(var i=0;i<t.length;i++){var r=t[i];if(!e.dataModel[r]){continue}this._data[r]=e.dataModel[r]();if(e.scales.hasOwnProperty(r)){this._data[r].scale=e.scales[r]}}if(a.isFunction(e.dataModel.context)){var o=e.dataModel.context();this._data["context"]=o}this._data._dataPoints=e.dataModel._dataPoints;this._data._seriesType=e.dataModel._seriesType;this._extendData();this._dataChanged()};f.prototype._extendData=function(){this._data.rawData=this._rawData};f.prototype.getBindingMetaData=function(){var e={},t=this._getDataItems();for(var i=0;i<t.length;++i){var a=this._data[t[i]];if(a==null){continue}var r=a.metaData;if(r==null){continue}e[t[i]]=r}return e};f.prototype._getDataItems=function(){return[]};f.prototype._isTrellis=function(){return!!(this._data&&(this._data.trellisRow||this._data.trellisColumn))};f.prototype._dataChanged=function(){this._resetPlotContainer();this._createPlotContainer(this._isTrellis());if(this._supportLazyRender){this._plotArea.getDispatch().on("reRenderComplete.chartview",this._reRenderComplete.bind(this))}if(this._data){for(var e in this._children){if(this._children.hasOwnProperty(e)){this.getChild(e).module.setData(this._data)}}}};f.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};f.prototype.properties=function(e){if(!arguments.length){return this._properties.get()}this._properties.set(e);return this};f.prototype.chartType=function(e){if(!arguments.length){return this._chartType}this._chartType=e;return this};f.prototype.destroy=function(){f.superclass.destroy.call(this);if(this._backgroundNode){this._backgroundNode.remove()}this._backgroundNode=null;if(this._background&&a.isFunction(this._background.destroy)){this._background.destroy()}this._background=null;if(this._paginationScrollbarNode){this._paginationScrollbarNode.remove()}this._paginationScrollbarNode=null;if(this._paginationScrollbar&&a.isFunction(this._paginationScrollbar.destroy)){this._paginationScrollbar.destroy()}this._paginationScrollbar=null;this._chartType=null;this._properties=null;this._plotArea=null;this._plotAreaLayout=null;this._data=null;if(this._rawData){if(this._rawData.dataModel){var e=this._rawData.dataModel;if(a.isFunction(e.destroy)){e.destroy()}}if(this._rawData.scales){var t=this._rawData.scales;for(var i in t){if(t.hasOwnProperty(i)&&t[i]&&a.isFunction(t[i].destroy)){t[i].destroy();t[i]=null}}}}this._rawData=null;this._outline=null;if(this._semanticMgr){this._semanticMgr.destroy()}this._semanticMgr=null};f.prototype.changes=function(e){if(e.dataChanged){this.runtime().fireInteractionEvent("dataUpdated")}if(e.scalesChanged){this.runtime().fireInteractionEvent("scalesUpdated",e.scalesChanged)}};f.prototype.changePaddingTop=function(e,t){var i=e.get("valueAxis.label.style");var r=d.canvasMeasure("",i["fontSize"],i["fontWeight"],i["fontFamily"]).height;if(a.isExist(t.propertyPaddingInPX)&&t.propertyPaddingInPX<r/2){t.propertyPaddingTopInPX=r/2}if(a.isExist(t.propertyPaddingTopInPX)&&t.propertyPaddingTopInPX<r/2){t.propertyPaddingTopInPX=r/2}};return f});define("sap/viz/chart/components/callout/CalloutContainer",["sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/framework/chartmodel/DataSelector","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o,n,l){var s=2,u={top:{labelGap:12,labelMargin:2,lineExt:8,occupy:"width",prefer:"height",alignKey:"y",positionKey:"left",positionKey2:"top",offsetKey:"x"},left:{labelGap:0,labelMargin:2,lineExt:8,occupy:"height",prefer:"width",alignKey:"x",positionKey:"top",positionKey2:"left",offsetKey:"y"}},c="v-callout",h="2,3";var p=" ";var d=function(e,t){d.superclass.constructor.apply(this,arguments);this._callouts=[];this._plotOffset={x:0,y:0};this._plotRealSize=null};e.extend(d,t);function f(e){return u[e||this._options.position]}d.prototype.getPreferredSize=function(e){var t=this._options.position,r=this.properties(t),l={width:0,height:0};var u=r&&r.length;if(u){var c=this.properties("label.style.fontFamily"),h=this.properties("label.style.fontSize"),d=this.properties("label.style.fontWeight"),v=this.properties("label.style.fontStyle"),g=this.properties("label.formatString"),m=this.properties("label.unitFormatType");var y,_=f.call(this,t),A=_.occupy,b=_.prefer,x=e[A]-_.lineExt,S=_.labelGap,D=0,w=this._callouts,C=0,T=false,z=this.getData();var L=this.runtime().statusManager().get("data.unit");for(y=0;y<u;y++){var P=r[y];new i(P.dataContext,z).iterateDataPoints(function(t){var i={decimalFormatString:o.getDecimalFormatString(o.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};var r=t.context(),l=o.format(r[r.measureNames],g,m,i);if(l===null||l===undefined){l=n.get("IDS_ISNOVALUE")}else if(r.measureNames&&L[r.measureNames]){l+=p+L[r.measureNames]}var u=a.fastMeasure(l,h,d,c,v);var f=u[b];if(f<=e[b]-_.lineExt){var y=u[A];if(y<=x){if(!w[D]){w[D]={}}w[D].dpId=t.id;w[D].text=l;w[D].textMeasure=u;w[D].offset=0;D++;C=Math.max(C,f);if(D===s||(x-=y+S)<=0){T=true;return false}}}});if(T){break}}if(w.length){l[A]=e[A];l[b]=C+_.labelMargin+_.lineExt}}return l};d.prototype.render=function(e){var t=this._options.position;var i=this._callouts;if(!i.length){return}this._selection=e;e.selectAll("*").remove();var a=this._rootSelection=e.append("g");var r=this._mainSelection=a.append("g");var o=f.call(this),n=o.prefer,l=o.alignKey,s=this._size[o.prefer]-o.labelMargin-o.lineExt;var u=this._calloutsSelection=r.selectAll("."+c).data(i).enter().append("g").attr("class",c);var p=null;var d=this.runtime().envManager();if(d){p=d.textAnchor()}this._labelSelection=u.append("text").text(function(e){return e.text}).attr("font-family",this.properties("label.style.fontFamily")).attr("font-size",this.properties("label.style.fontSize")).attr("font-style",this.properties("label.style.fontStyle")).attr("font-weight",this.properties("label.style.fontWeight")).attr("fill",this.properties("label.style.color")).attr("text-anchor",p).attr(l,function(e){var i=e.textMeasure;var a=s;if(t==="left"){a=s-i[n]-i[l]}return a});var v=this._properties.get("line.color");if(!v){v=this._properties.getDefault("line.color")}this._lineSelection=u.append("polyline").attr("stroke",v).attr("fill","none").attr("stroke-dasharray",h)};d.prototype.postRender=function(e,t,i,a){var r=this._callouts;if(!r.length){return}this._plotNode=e;var o={};o.width=e.getBoundingClientRect().width;o.height=e.getBoundingClientRect().height;this._plotBoundRect=o;var n=this._size;var s={width:n.width,height:n.height};var u=f.call(this),c=u.prefer;s[c]+=t[c];var h="callout_clipPath"+l.guid();this._selection.append("clipPath").attr("id",h).append("rect").attr("width",s.width).attr("height",s.height);this._rootSelection.attr("clip-path","url(#"+h+")");this._plotRealSize=i;this.update(a)};d.prototype.update=function(e){var t=this._calloutsSelection;if(!t){return}this._selection.selectAll("text").attr("visibility","hidden");if(this._options.position==="top"){this._selection.selectAll("text").attr("x",0)}else{this._selection.selectAll("text").attr("y",0)}var i=f.call(this),a=i.positionKey,o=i.positionKey2,n=i.occupy,l=i.prefer;var s=this._plotBoundRect;var u=d3.select(this._plotNode).select(".v-plot-bound").node();if(u){s=u.getBoundingClientRect()}var c=this._mainSelection.append("rect");var h=c.node().getBoundingClientRect();c.remove();s={left:s.left-h.left,top:s.top-h.top,width:s.width,height:s.height};var p=this._callouts;p.forEach(function(t){t.visible=false;var i=t.dpRect;var u=r.findByDataPointId(e,t.dpId);if(u){i=u.getBoundingClientRect();i=t.dpRect={left:i.left-h.left,top:i.top-h.top,width:i.width,height:i.height};t.visible=i[o]+i[l]>s[o]&&i[o]<s[o]+s[l]&&i[a]+i[n]>s[a]&&i[a]<s[a]+s[n]}var c=t.lineStart={};var p=t.lineJoint={};if(i&&i[a]&&i[n]){var d=i[a]+i[n]/2;c[a]=p[a]=d;c[o]=Math.max(i[o],s[o]);p[o]=s[o]}});var d=t.select("text");d.each(function(e){var t=e.labelRect=this.getBoundingClientRect();t=e.labelRect={left:t.left-h.left,top:t.top-h.top,width:t.width,height:t.height};if(e.visible){e.offset=e.lineStart[a]-t[a]-t[n]/2}});var v=p.filter(function(e){return e.visible});v.sort(function(e,t){return e.lineStart[a]-t.lineStart[a]});var g=i.offsetKey;var m=false;var y;if(v.length>0){var _=v[0];y=_.labelRect[a]+_.offset;if(y<0){_.offset-=y;m=true}}var A;var b;var x;A=v.length;x=i.labelGap;this.layoutCallouts(v,a,n,x);var S=i.lineExt;var D=this._options.position;d.attr(g,function(e){return e.offset}).each(function(e){var t=this.getBoundingClientRect();var i=e.lineJoint;var r=i[a];var l=t[a]-h[a],s;if(r<l){s=l}else{var u=l+t[n];if(r>u){s=u}else{s=r}}var c=e.lineEnd={};c[o]=i[o]-S;c[a]=s});var w=t.attr("visibility",function(e){return e.visible?null:"hidden"}).filter(function(e){return e.visible});w.select("polyline").attr("points",function(e){return[e.lineStart,e.lineJoint,e.lineEnd].map(function(e){return e.left+","+e.top}).join(" ")});this._selection.selectAll("text").attr("visibility",null)};d.prototype.normalizeItem=function(e,t,i){if(e.offset<0){e.offset=0}else if(e.offset+e.labelRect[i]>this._plotRealSize[i]){e.offset=this._plotRealSize[i]-e.labelRect[i]}};d.prototype.layoutCallouts=function(e,t,i,a){var r=this._plotRealSize[i];if(e.length>0){e[0].offset+=e[0].labelRect[t];if(e[1]){e[1].offset+=e[1].labelRect[t]}}if(e.length===1){var o=e[0];this.normalizeItem(o,t,i)}else if(e.length===2){var n=e[0];var l=e[1];this.normalizeItem(n,t,i);this.normalizeItem(l,t,i);var s=false;if(n.offset+n.labelRect[i]+a>l.offset){s=true}if(s){var u;u=n.offset+n.labelRect[i]+a;if(u+l.labelRect[i]<=r){l.offset=u}else{u=l.offset-a-n.labelRect[i];if(u>0){n.offset=u}else{if(n.offset<r-l.offset){n.offset=0;l.offset=n.labelRect[i]+a}else{l.offset=r-l.labelRect[i];n.offset=r-l.labelRect[i]-a-n.labelRect[i]}}}}}if(e.length>0){e[0].offset-=e[0].labelRect[t];if(e[1]){e[1].offset-=e[1].labelRect[t]}}};d.prototype.afterPlotZoom=function(e){this.update(e)};d.prototype.setPlotRealSize=function(e){this._plotRealSize=e};d.prototype.scroll=function(e){var t=this._mainSelection;if(t){this._mainSelection.attr("transform","translate("+e.x+","+e.y+")")}};d.prototype.afterPlotScroll=function(e,t){var i=this._plotOffset;if(e.x!=null){i.x=e.x}if(e.y!=null){i.y=e.y}this.update(t)};d.prototype.destroy=function(){d.superclass.destroy.apply(this,arguments);this._selection=null;this._rootSelection=null;this._mainSelection=null;this._calloutsSelection=null;this._plotNode=null;this._plotRealSize=null};return d});define("sap/viz/chart/layout/XYLayout",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/oo","sap/viz/chart/layout/BaseLayout"],function e(t,i,a,r){var o={height:{max:"maxHeight",fix:"height"},width:{max:"maxWidth",fix:"width"}};var n={left:"width",right:"width",top:"height",bottom:"height"};var l={left:"height",right:"height",top:"width",bottom:"width"};var s=0;var u=1;var c=2;var h=3;var p=1/3;var d=1/3;function f(){f.superclass.constructor.apply(this,arguments);this.config.add({padding:[0,0,0,0],rootWidth:0,rootHeight:0,layoutSequence:[]})}a.extend(f,r);f.prototype.layout=function(e,a){var r={};var f={};var v=this.config;var y=0;var _=v.get("totalWidth");var A=v.get("totalHeight");var b=v.get("rootWidth");var x=v.get("rootHeight");var S={width:v.get("rootWidth"),height:v.get("rootHeight")};var D=v.get("padding");var w=v.get("layoutSequence");var C=_-(D[u]+D[h]);var T=A-(D[s]+D[c]);C=C>0?C:0;T=T>0?T:0;var z;var L,P;var k;var E;var I={};for(var O in e){if(e.hasOwnProperty(O)){z=e[O];k=z.option;E=k.position;if(!I.hasOwnProperty(E)){I[E]=[]}var R=k.priority;if(R==null){R=-1}var N=I[E];var M=N.length;for(y=0;y<M;y++){if(R>=N[y].option.priority){break}}N.splice(y,0,{module:z.module,option:{unique:k.unique,priority:R,position:E,padding:{paddingTop:g(k.paddingTop),paddingBottom:g(k.paddingBottom),paddingLeft:g(k.paddingLeft),paddingRight:g(k.paddingRight)},maxWidth:m(k.maxWidth)?k.maxWidth:p,maxHeight:m(k.maxHeight)?k.maxHeight:d,width:m(k.width)?k.width:null,height:m(k.height)?k.height:null}})}}var B=[];for(y=0;y<w.length;++y){E=w[y];if(i.isFunction(E)){B.push(E);continue}var V=I[E];if(V){Array.prototype.push.apply(B,V)}}B.push(I.center[0]);if(!I.center){throw"Cannot solve layout without plot"}var F={width:b?b:C,height:x?x:T};var H={width:C,height:T,x:D[u],y:D[s]};var U={center:false};var W=[];var G=B.length;for(y=0;y<G;y++){L=B[y];if(i.isFunction(L)){var Y={preferredSizeTable:f};L(r,H,Y);continue}P={};r[L.module.alias]=P;k=L.option;var X=L.module;E=k.position;if(E==="center"){continue}var j=n[E];var Z=l[E];P.padding=k.padding;var q={width:0,height:0};q.height+=P.padding.paddingTop+P.padding.paddingBottom;q.width+=P.padding.paddingLeft+P.padding.paddingRight;var K=0;var Q={},$=k[o[j].fix],J=L.module.properties("visible")===true&&$!==null?t.getSizeValue($,F[j]):undefined;if(J===undefined){if(i.isFunction(X.getPreferredSize)){var ee=t.getSizeValue(k[o[j].max],F[j]);ee=ee>H[j]?H[j]:ee;Q[Z]=H[Z];Q[j]=ee;if(!W[E]){var te=X.getPreferredSize(Q);K=te[j]+q[j];f[L.module.alias]=te}ee=K>ee?ee:K;H[j]=H[j]-ee;P[j]=ee}else{P[j]=0}}else{J=J>H[j]?H[j]:J;if(i.isFunction(X.getPreferredSize)){Q[Z]=H[Z];Q[j]=J;if(!W[E]){K=X.getPreferredSize(Q,a);f[L.module.alias]=K}}H[j]=H[j]-J;P[j]=J}if(K&&L.option.unique){W[E]=true}}for(y=0;y<G;y++){L=B[y];if(!L){continue}else if(i.isFunction(L)){continue}P=r[L.module.alias];if(!P.hasOwnProperty("width")){P.width=H.width}else if(!P.hasOwnProperty("height")){P.height=H.height}switch(L.option.position){case"top":H.y=H.y+P.height;break;case"left":H.x=H.x+P.width;break}}var ie=H.y,ae=H.x,re=H.y+H.height,oe=H.x+H.width;for(y=G-1;y>=0;y--){L=B[y];if(i.isFunction(L)){continue}else if(L){k=L.option;P=r[L.module.alias];switch(k.position){case"top":P.x=H.x;P.y=ie-=P.height;break;case"left":P.x=ae-=P.width;P.y=H.y;break;case"bottom":P.x=H.x;P.y=re;re+=P.height;break;case"right":P.x=oe;oe+=P.width;P.y=H.y;break;case"center":P=r[L.module.alias]={};P.x=H.x;P.y=H.y;P.width=H.width;P.height=H.height;break}if(!i.isPlainObject(P.padding)){P.padding=k.padding}if(k.position==="top"){P.y+=P.padding.paddingTop}if(k.position==="left"){P.x+=P.padding.paddingLeft}P.height-=P.padding.paddingTop+P.padding.paddingBottom;P.width-=P.padding.paddingLeft+P.padding.paddingRight;H.height=H.height>0?H.height:0;H.width=H.width>0?H.width:0}}return r};function v(e){return{paddingTop:parseFloat(e.paddingTop),paddingBottom:parseFloat(e.paddingBottom),paddingLeft:parseFloat(e.paddingLeft),paddingRight:parseFloat(e.paddingRight)}}function g(e){var t=parseFloat(e);if(isNaN(t)){t=0}return t}function m(e){var t=parseFloat(e);return i.isNumber(t)&&t>=0}return f});define("sap/viz/chart/components/container/utils/xyTransformUtils",["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils"],function(e,t){function i(e){var t=e.getChildrenByPosition("center")[0],i=t.getRealSize(),a=t.getSize();var r=i.width/a.width;var o=i.height/a.height;if(!isFinite(r)){if(i.width===0){r=1}else{return null}}if(!isFinite(o)){if(i.height===0){o=1}else{return null}}return{x:r,y:o}}function a(e){return{scale:{set:function(t){e.zoom(t);e.getChildrenByPosition("center")[0].update();return i(e)},get:i.bind(null,e)},translate:{set:function(t){if(t.x!==undefined||t.y!==undefined){e.scroll(t)}else if(t.translateByPage){e.scrollByPage(t.translateByPage)}return t},get:function(){var t=e.getChildrenByPosition("center")[0];var i=t.getOffset();if(!i){i={}}i.position=0;if(e._paginationScrollbarRef){i.position=e._paginationScrollbarRef._thumbPosition/e._paginationScrollbarRef._maxThumbPosition;if(isNaN(i.position)){i.position=0}}return i}}}}function r(i,a,r){var o=e.getData(i);if(!o||!a){return}var n=0;var l=0;if(t.isExist(o.initPosX)){n=o.initPosX*a.x+r.x}else if(t.isExist(o.initPosY)){l=o.initPosY*a.y+r.y}i.setAttribute("transform","translate("+n+","+l+")")}return{defstatus:a,adjustXYTranslate:r}});define("sap/viz/chart/components/container/XYContainer",["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/chart/layout/XYLayout","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/chart/behavior/config/SelectionUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h){var p=function(e,t){p.superclass.constructor.apply(this,arguments);this._initLayout();this._layoutSequence=null;this._roughSize={width:0,height:0};this._posToModuleMap={};this._vScrollbar=null;this._hScrollbar=null;this._registerZoneManager(e,t);e.statusManager().proxy("plot.transform").add(c.defstatus(this));this._exposeMoreEvents("reRenderComplete");this._zoomer=this._getZoomer()};e.extend(p,t);p.prototype._registerZoneManager=function(e){e.zoneManager().add(n.plot(this));e.zoneManager().add(u.plot(this))};p.prototype._getLayoutDefinition=function(){return o};p.prototype._initLayout=function(){var e=this._getLayoutDefinition();this.setLayoutAlgorithm(new e)};p.prototype.setRoughSize=function(e){if(e.width!=null){this._roughSize.width=e.width}if(e.height!=null){this._roughSize.height=e.height}var t=this.updateValueScale();var i=this.runtime().statusManager();if(t&&i.has("updatedScaleValue")){i.set("updatedScaleValue",t)}for(var a in this._children){if(this._children.hasOwnProperty(a)){if(this._children[a].module&&this._children[a].module.setRoughSize){this._children[a].module.setRoughSize(e)}}}return this};p.prototype.getVScrollbar=function(){return this._vScrollbar};p.prototype.getHScrollbar=function(){return this._hScrollbar};p.prototype.updateValueScale=function(e){};p.prototype.setLayoutSequence=function(e){this._layoutSequence=e;return this};p.prototype.render=function(e){p.superclass.render.apply(this,arguments);if(this._size.width>0&&this._size.height>0&&this._layoutResult){this._initRenderBase(e);i.positionElements(this._layoutResult,this._selections);this._preRender();this._renderSub();this._postRender()}};function d(e){this._scroll({y:e.offset})}function f(e){this._scroll({x:e.offset})}p.prototype._preRender=function(){var e=this.getChildrenByPosition("center")[0];if(e&&(this._vScrollbar||this._hScrollbar)){var t=e.getSize();var i=e.getRealSize();if(this._vScrollbar){this._vScrollbar.setTrackSize(t.height).setContentSize(i.height);this._vScrollbar.getDispatch().on("scroll.xycontainer",d.bind(this))}if(this._hScrollbar){this._hScrollbar.setTrackSize(t.width).setContentSize(i.width);this._hScrollbar.getDispatch().on("scroll.xycontainer",f.bind(this))}}};p.prototype._postRender=function(){var e=this.getZoomer();if(e){e.reset(this._selections)}};p.prototype.scroll=function(e){var t=this.getChildrenByPosition("center")[0];var i=t.getSize();var r=t.getRealSize();var o,n,l,s,u;if(e.x!=null){l=i.width-r.width;o=Math.min(0,Math.max(l,e.x));if(this._hScrollbar){u=-o;s=this._hScrollbar.getThumbRatio();if(s){u/=s}this._hScrollbar.setThumbPosition(u)}}if(e.y!=null){l=i.height-r.height;n=Math.min(0,Math.max(l,e.y));if(this._vScrollbar){u=-n;s=this._vScrollbar.getThumbRatio();if(s){u/=s}this._vScrollbar.setThumbPosition(u)}}var c=this.getOffset();this._scroll({x:a.isNumber(o)?o:c.x,y:a.isNumber(n)?n:c.y})};p.prototype.scrollByPage=function(e){var t;if(e.context){var i=this.getChild("categoryAxis").module;if(i){var r=i.getChild("axisBody").module;t=r.getLabelOffsetByCtx(e.context)}}if(a.isNumber(e.offset)){var o=this.getChildrenByPosition("center")[0];t=o.getRemainingPlotOffset(t,e.offset)}if(t!==null&&t!==undefined){this.scroll(t)}};function v(e,t){var i=t.zoom;if(i){i.call(t,e)}}p.prototype.zoom=function(e){var t=this.getChildrenByPosition("center")[0];var i=t.getSize();var a=t.getRealSize();var r;if(e.x){r=v.bind(null,{x:e.x,y:1});a.width=i.width*e.x;this.getChildrenByPosition("top").forEach(r);this.getChildrenByPosition("bottom").forEach(r)}if(e.y){r=v.bind(null,{x:1,y:e.y});a.height=i.height*e.y;this.getChildrenByPosition("left").forEach(r);this.getChildrenByPosition("right").forEach(r)}t.setRealSize(a);if(this._vScrollbar){this._vScrollbar.setContentSize(a.height).render()}if(this._hScrollbar){this._hScrollbar.setContentSize(a.width).render()}var o=this.getChildrenByPosition("center")[0];if(o){v(e,o)}};p.prototype.getOffset=function(){var e=this.getChildrenByPosition("center")[0];return e&&e.getOffset()};function g(e,t){var i=t.scroll;if(i){i.call(t,e)}}p.prototype._scroll=function(e){if(!e){return}var t;if(e.x!=null){t=g.bind(null,{x:e.x,y:0});this.getChildrenByPosition("top").forEach(t);this.getChildrenByPosition("bottom").forEach(t)}if(e.y!=null){t=g.bind(null,{x:0,y:e.y});this.getChildrenByPosition("left").forEach(t);this.getChildrenByPosition("right").forEach(t)}var i=this.getChildrenByPosition("center")[0];if(i){g(e,i)}this.runtime().fireInteractionEvent("plotScroll",e);this.runtime().eventDispatcher().fire("plotScroll",e)};p.prototype.setChild=function(e,t,i){p.superclass.setChild.apply(this,arguments);if(i.position){var a=i.position;var r=this._posToModuleMap;if(!r.hasOwnProperty(a)){r[a]=[]}var o=r[a];var n,l;var s=true;for(n=0;n<o.length;n++){l=o[n];if(l===t||l.alias==t.alias){s=false;o[n]=t;break}}if(s){o.push(t)}if(t.setPosition){t.setPosition(a)}}};p.prototype.getChildrenByPosition=function(e){return this._posToModuleMap[e]||[]};p.prototype.removeChild=function(e){var t=this._children[e];var i=this._posToModuleMap[t.option.position];i.splice(i.indexOf(t.module),1);delete this._children[e]};p.prototype.getPlotPosition=function(){return this._layoutResult&&this._layoutResult.plot};p.prototype._configLayout=function(e){var t=l.getPositiveInt;var i=this._properties.origin;var a=this.calculatePaddingInPX(i,this._roughSize.width,this._roughSize.height);var r=t(a.propertyPaddingInPX,a.constantPaddingInPX);var o=t(a.propertyPaddingTopInPX,r);var n=t(a.propertyPaddingRightInPX,r);var u=t(a.propertyPaddingBottomInPX,r);var c=t(a.propertyPaddingLeftInPX,r);var h=this._layoutAlgorithm.config;h.set("totalWidth",this._size.width);h.set("totalHeight",this._size.height);h.set("rootWidth",this._roughSize.width-(n+c));h.set("rootHeight",this._roughSize.height-(o+u));h.set("paddings",[o,c,u,n]);h.set("layoutSequence",this._layoutSequence);for(var p in this._children){if(this._children.hasOwnProperty(p)){var d=this.getChild(p);var f=d.option;var v=this._properties.proxy(p+".layout");var g=v.get("maxWidth");var m=v.get("maxHeight");var y=v.get("width");var _=v.get("height");if(y){f.width=y}else{f.width=null}if(_){f.height=_}else{f.height=null}if(g){f.maxWidth=g}if(m){f.maxHeight=m}if(e&&e.pagination&&e.pagination.mode===s.PAGINATION_MODE.UPDATE&&e.plotAreaLayout&&e.plotAreaLayout[p]){var A=e.plotAreaLayout[p].module._size;if(!f.width&&A.width){f.width=A.width}if(!f.height&&A.height){f.height=A.height}}}}return this._children};p.prototype._postLayout=function(e){for(var t in this._children){if(this._children.hasOwnProperty(t)){var i=this._children[t].module;var a=e[t];i.setSize(a,i._needOtherSize?e:undefined)}}};p.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var t;if(e&&e.getPaginationOptions){t=e.getPaginationOptions()}return t};p.prototype.getAddtionalInfo=function(){};p.prototype._renderSub=function(){var e=this.getChild("categoryAxis");var t;if(e){t=e.module}var i=this._layoutSequence||["left","right","bottom","top"];if(i.indexOf("center")<0){i.push("center")}var a=function(e){if(!this.paginationOptions()||e.alias!==s.SCROLLBAR.ALIAS||!t||t._position==="top"||t._position==="bottom"){e.render(this._selections[e.alias],this.getAddtionalInfo(e))}}.bind(this);for(var r=0;r<i.length;r++){this.getChildrenByPosition(i[r]).forEach(a)}};p.prototype._initRenderBase=function(e){if(this._selections){return}this._selections={};for(var t in this._children){if(this._children.hasOwnProperty(t)){if(this._selections[t]==null){if(this._children[t].option.position==="center"){this._selections[t]=e.insert("g",":first-child").attr("class","v-m-"+t)}else{this._selections[t]=e.append("g").attr("class","v-m-"+t)}}}}};p.prototype.destroy=function(){p.superclass.destroy.call(this);this._layoutSequence=null;this._layoutResult=null;this._roughSize=null;this._posToModuleMap={};this._vScrollbar=null;this._hScrollbar=null;if(this._zoomer){this._zoomer.destroy();this._zoomer=null}};p.prototype.getZoomer=function(){return this._zoomer};p.prototype._getZoomer=function(){return null};p.prototype._hasScrollbar=function(){var e=!!this._properties.get("plotArea.isFixedDataPointSize");var t=this._properties.get("plotArea.window.start");var i=this._properties.get("plotArea.window.end");var a=r.startEndConvertor(t,i,this._properties.origin);t=a.start;i=a.end;var o=!this._properties.get("interaction.noninteractiveMode");var n=(e||!!t||!!i)&&o&&!(t==="firstDataPoint"&&i==="lastDataPoint");return n};return p});define("sap/viz/chart/components/axis/sub/AxisComponent",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/PositionUtil"],function(e,t,i,a,r,o){var n=t.CSS.CLASS.AXIS;var l=function(e,t){l.superclass.constructor.apply(this,arguments);this._position=null;this._formerProperties=null;this._preferredSize={minWidth:0,minHeight:0}};e.extend(l,i);l.prototype.setPosition=function(e){this._position=e;return this};l.prototype._isVertical=function(){return o.isVertical(this._position)};l.prototype._isHorizontal=function(){return o.isHorizontal(this._position)};l.prototype._measureTextSize=function(e,t){var i=r.canvasMeasure(e,t["fontSize"],t["fontWeight"],t["fontFamily"],t["letterSpacing"]);return a.preciseObject(i)};l.prototype._measureTextSizeForFixPadding=function(e,t){var i=r.fastMeasure(e,t["fontSize"],t["fontWeight"],t["fontFamily"],t["letterSpacing"]);return a.preciseObject(i)};l.prototype._updatePfdSize=function(e){if(e.minWidth!=null){this._preferredSize.minWidth=e.minWidth}if(e.minHeight!=null){this._preferredSize.minHeight=e.minHeight}};l.prototype._isSpaceEnough=function(){if(this._realSize.width===0||this._realSize.height===0){return false}var e=this._preferredSize;return Math.ceil(e.minWidth)<=Math.ceil(this._realSize.width)&&Math.ceil(e.minHeight)<=Math.ceil(this._realSize.height)};l.prototype.mayOnlyFirstAndLastLabel=function(){return false};l.prototype.destroy=function(){l.superclass.destroy.call(this);this._position=null;this._formerProperties=null;this._preferredSize=null};return l});define("sap/viz/migrate/PropertyUtil",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function e(t,i){var a={};var r=Object.prototype.hasOwnProperty;function o(e){if(!e){return true}for(var t in e){if(r.call(e,t)){return false}}if(i.isFunction(e)){return false}return true}function n(e,t){var i=t.split("."),a,r;for(a=i.length-2;a>=0;a--){var n=e;for(r=0;r<a;r++){n=n[i[r]]}if(o(n[i[a]])){delete n[i[a]]}}}function l(e,t){if(!e){return false}for(var i=0;i<e.length;++i){if(e[i].properties&&e[i].properties[t]){return true}}return false}a.getProperty=function(e,t){var i=t.split("."),a=e,r;for(r=0;r<i.length;r++){if(a===null){return undefined}if(a[i[r]]===undefined){return undefined}a=a[i[r]]}return a};a.setProperty=function(e,t,i){var a=t.split("."),r=e,o;for(o=0;o<a.length-1;o++){if(r[a[o]]===undefined||r[a[o]]===null){r[a[o]]={}}r=r[a[o]]}r[a[a.length-1]]=i};a.setPropertyWithMergence=function(e,i,a){var r=i.split("."),o={},n=o,l;for(l=0;l<r.length-1;l++){n[r[l]]={};n=n[r[l]]}n[r[r.length-1]]=a;t.extend(true,e,o)};a.removeProperty=function(e,t){var i=t.split("."),a=e,r;for(r=0;r<i.length-1;r++){if(a[i[r]]===undefined){return}a=a[i[r]]}delete a[i[i.length-1]];n(e,t)};function s(e,t){if(e&&e.rules&&e.rules.length){var a=e.rules;for(var r=a.length-1;r>=0;--r){var o=a[r];var n=o.properties;delete n[t];if(i.isEmptyObject(n)){a.splice(r,1)}}}}a.migrateSeriesStyle=function(e,i,r,o){var n=a.getProperty(e,o.to);s(n,o.subProp);n=n||{rules:[]};if(r&&r.rules){var l=r.rules;for(var u=0;u<l.length;++u){var c={};var h=l[u];t.extend(true,c,h);if(h&&h.dataContext&&h.dataContext.length){var p=h.dataContext;for(var d=0;d<p.length;++d){if(p[d]===undefined){c.dataContext[d]=undefined}}}if(c.properties){var f=c.properties;delete c.properties;c.properties={};c.properties[o.subProp]=f}n.rules.push(c)}}a.setProperty(e,o.to,n)};a.getComplexProperty=function(e,t,a,r){var o;if(t[a]!==undefined){o=t[a]}else{var n=r.get(e,"templateValue");if(n&&n[a]){o=n[a]}else{var l=r.get(e,"defaultValue");if(i.isArray(l)){o=l[a]}else{o=l}}}return o};return a});define("sap/viz/chart/components/axis/sub/AxisTitle",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/migrate/PropertyUtil"],function(e,t,i,a,r,o,n,l,s,u,c){var h=e.CSS.CLASS.AXIS;var p=function(e,t){p.superclass.constructor.apply(this,arguments);this._valueAxes=t?t.valueAxes:[];this.visibleItemsNumber=-1};t.extend(p,i);p.prototype._adjustTitleItems=function(e,t){var i;for(i=0;i<e.length;i++){if(i>=t){e[i].isHidden=true}else{e[i].isHidden=false}}};p.prototype._isApplyAxisLineColor=function(){if(this._properties.has("title.style.color","value")){return false}var e=this._properties.get("title.applyAxislineColor");if(a.isArray(e)){var t=this._valueAxes.length>1?1:0;e=c.getComplexProperty("title.applyAxislineColor",e,t,this._properties)}return e===true};p.prototype._convertStyleColor=function(t){if(this._isApplyAxisLineColor()){t=this._properties.get("color")}return this._isAllHidden()?e.AXIS.HIDDEN_TITLE.COLOR:t};p.prototype.render=function(t){t.select("g."+h.TITLE).remove();t.selectAll(".v-m-axisTitleEventLayer").remove();var i=this._properties;if(a.isString(this._data.text)&&this._isSpaceEnough()&&i.get("visible")&&i.get("title.visible")){var r=this._data.text;var l=this._getPostFix();var u=h.TITLE+" "+h.TITLE_BACKWORD;var p=h.TITLE_HIDDEN;var d=i.get("title.style");var f=true;var v=i.get("title.style.letterSpacing");if(v===undefined||v===null){f=false;v=0}d.letterSpacing=parseFloat(v).toString()+"px";if(d&&d.color){d.color=this._convertStyleColor(d.color);d.color=s.convertColor(d.color)}var g=n.getTextBaselineOffset(d);var m=this.runtime().effectManager();var y=i.get("color");if(a.isArray(y)){var _=this._valueAxes.length>1?1:0;y=c.getComplexProperty("color",y,_,i)}var A=m.register({fillColor:this._isApplyAxisLineColor()?s.convertColor(y):d.color});var b=m.register({fillColor:e.AXIS.HIDDEN_TITLE.COLOR});var x=t.append("g").attr("class",u).attr("fill",A).attr("font-size",d.fontSize).attr("font-weight",d.fontWeight).attr("font-family",d.fontFamily).attr("letter-spacing",d.letterSpacing).attr("font-style",d.fontStyle).append("text").text(r+l).attr("dominant-baseline","auto");var S=this.runtime().envManager();if(S){x=x.attr("text-anchor",S.textAnchor())}var D="";var w=o.convertToCss(d);var C;if(this._isVertical()){C=this._size.height}else{C=this._size.width}var T={};T.needRealLength=true;T.reverseDots=S&&S.reverseDots();T.hasLetterSpacing=f;var z=n.ellipsis(r,x.node(),C,w,T,l);D=z.text;var L=z.realLength;if(this._isVertical()){x.attr("x",this._size.width-g-L/2).attr("y",this._size.height/2).attr("transform","rotate(-90,"+(this._size.width-g)+","+this._size.height/2+")")}else{x.attr("x",this._size.width/2-L/2).attr("y",this._size.height-g)}var P=i.has("title.style.color","value");var k=this._data;if(!k.isCustomized){this._adjustTitleItems(k.items,this.visibleItemsNumber);x.text("");if(D!==r&&x.select("title").empty()){x.append("title").text(r+l)}var E;for(E=0;E<k.items.length;E++){var I=x.append("tspan");I.attr("class",u);I.attr("dominant-baseline","auto");if(k.items[E].isHidden&&!this._isApplyAxisLineColor()&&!P&&!k.noNeedApplyHiddenTitleColor){I.attr("class",u+" "+p);I.attr("fill",b)}var O=k.items[E].text+l;if(D.length>O.length){if(D.length-3<O.length&&D.substring(D.length-3)==="..."){I.text(D);break}else{I.text(O);D=D.substring(O.length)}}else{I.text(D);break}}}else{if(!k.isCustomizedColor&&this.visibleItemsNumber===0&&!P&&!this._isApplyAxisLineColor()){x.attr("class",u+" "+p);x.attr("fill",b)}}}};p.prototype._isAllHidden=function(){var e=this._properties.has("title.style.color","value");var t=this._data;if(t){if(!e&&t.isCustomized&&!t.isCustomizedColor&&this.visibleItemsNumber===0&&!t.noNeedApplyHiddenTitleColor){return true}if(!e&&!t.isCustomized&&!this._isApplyAxisLineColor()&&!t.noNeedApplyHiddenTitleColor){var i=t.items.length;for(var a=0;a<i;++a){if(!t.items[a].isHidden){return false}}return true}}return false};p.prototype.setTitleHiddenItems=function(e){this.visibleItemsNumber=e};p.prototype._getPostFix=function(){var e="";if(this._name.indexOf("valueAxis")>-1){var t=this._runtime.statusManager().get("dynamicScale");if(t&&!t.onlyChartTitle&&t[this._name]&&t[this._name].postfix){e=t[this._name].postfix}}return e};p.prototype.getPreferredSize=function(){var t={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{interval:0,type:e.SPACING_TYPE.STEP}]};var i=this._properties;if(a.isString(this._data.text)&&i.get("visible")&&i.get("title.visible")){var o=i.get("title.style");var n=i.get("title.style.letterSpacing");if(n===undefined||n===null){n=0}if(n.toString().indexOf("px")===-1){o.letterSpacing=n.toString()+"px"}var l=this._data.text+this._getPostFix();var s=i.origin.get("general.layout.isFixedPadding");var u=s?this._measureTextSizeForFixPadding(l,o):this._measureTextSize(l,o);var c=this._getMinTextWidth(l,o);if(this._isVertical()){t.minWidth=u.height;t.maxWidth=u.height;t.minHeight=c;t.maxHeight=u.width}else{t.minWidth=c;t.maxWidth=u.width;t.minHeight=u.height;t.maxHeight=u.height}t.spacings[0].interval=u.height}var h=r.preciseObject(t);this._updatePfdSize(h);return h};p.prototype._getMinTextWidth=function(e,t){var i=this._measureTextSize(e,t);var a=i.width;if(a>0&&e.length){var r=this._measureTextSize(e[0]+"...",t);if(a>r.width){a=r.width}}return a};p.prototype.destroy=function(){this._properties.add("title.style.color",{get:null});p.superclass.destroy.call(this);this.visibleItemsNumber=null};return p});define("sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a,r,o){function n(e,t,o,n){if(o&&o>1){var l=i.preciseSimple(parseFloat(t.fontSize)*1.2);var s=r.wrapText(e,[" "],n,o,t);var u=s.maxWidth;var c=s.lines.length;if(s.beyond){u=r.getTextLength(s.lines[c-1],a.convertToCss(t))}return{width:u,height:c*l,minHeight:l}}else{return r.canvasMeasure(e,t.fontSize,t.fontWeight,t.fontFamily)}}var l=function(t,o){var l=90;var s=5;var c=6;var h=c;var p=o.text;var d=o.styles;var f=o.labelOffset;var v=o.size;var g=o.sizeLimit;var m=r.getTextBaselineOffset({fontSize:d.fontSize,fontWeight:d.fontWeight,fontFamily:d.fontFamily});var y=o.needRowAxisOffset;var _=n(p,d);var A=t.firstChild;while(A){t.removeChild(A);A=t.firstChild}var b=d3.select(t);var x,S,D;x=i.preciseSimple(_.height);var w=false;var C=o.wrap;if(C&&C>1){var T=(v.height-s-c).toFixed(1);C=Math.min(C,Math.floor(T/x));w=C>1}var z,L;var P;if(w){P={};P.middleText=true;S=r.drawWrappedText(b,p,[" "],C,g,x,d,P);D=b.selectAll("tspan")[0];x=x*D.length}else{S=i.preciseSimple(_.width);if(g>=0&&S>g){if(o.noEllipsis){z="";L=0}else{P={};P.needRealLength=true;P.reverseDots=o.reverseDots;var k=r.ellipsis(p,t,g,a.convertToCss(d),P);S=k.realLength;z=k.text;L=S}}else{t.textContent=p}}var E,I;var O=L||S;switch(o.position){case e.POSITION.LEFT:case e.POSITION.RIGHT:I=x/2-m;if(y){I+=x/2-m+f}else{var R=0;if(o.labelAlignment!=="center"&&o.childCells&&o.childCells.length){var N=0;for(var M=0;M<o.childCells.length;M++){if(o.childCells[M].isVisible){N++;if(o.childCells[M].yOffset){R+=o.childCells[M].yOffset}else{R+=o.childCells[M].cellHeight/2}if(R<x/2){R=x/2}break}else{R+=o.childCells[M].cellHeight}}if(N===0){R=v.height/2}}else{R=v.height/2}I+=R;if(R===v.height/2){o.cell.yOffset=o.cell.cellHeight/2}else{o.cell.yOffset=R}}if(o.position===e.POSITION.LEFT){E=v.width-h-S}else{E=h}break;case e.POSITION.TOP:if(o.rotated){E=v.width/2+x/2-m;I=v.height-h}else{E=v.width/2-S/2;I=v.height-h-m}break;case e.POSITION.BOTTOM:if(o.rotated){E=v.width/2+x/2-m;I=h;E-=S*Math.cos(o.rotationAngle*Math.PI/180);I+=S*Math.sin(o.rotationAngle*Math.PI/180)}else{if(o.alignMode==="ALIGIN_RIGHT_MOST"){E=o.cellWidth-O/2}else if(o.alignMode==="ALIGIN_LEFT_MOST"){E=O/2}else{E=v.width/2}E-=S/2;I=h+x-m}break}t.setAttribute("x",E);t.setAttribute("y",I);if(o.rotated){var B=u(x,o.rotationAngle);t.setAttribute("transform","translate(0,"+B+") rotate(-"+o.rotationAngle+","+E+","+I+")")}if(w){var V=i.preciseSimple(parseFloat(d.fontSize)*.2);b.selectAll("tspan").attr("dy","1em").attr("y",null);b.attr("y",h-m+V)}var F={};F.x=E;F.y=I;return F};function s(e){var i=t.create("text");l(i,e);o.setCustomizationInfo(i,{defaultRenderer:true});return i}var u=function(e,t){return e*Math.cos(t*Math.PI/180)*.7};s.update=function(e,t){var i=l(e,t);if(t.rotated){var a={r:"-"+t.rotationAngle,x:i.x,y:i.y};o.setData(e,a)}else{e.setAttribute("transform","translate(0,0)")}};s.getPreferredSize=function(t){var i=90;var a=6;var o=t.text,l=t.styles;var s=t.wrap;if(t.disableAutoRotation===false||t.rotationAngle!==0){s=1}var c=t.size;var h=e.AXIS.FIRST_LETTER;if(o&&o.length>0){h=o[0]}h+=e.AXIS.FIRST_LETTER;var p=n(o,l,s,c);var d=t.noEllipsis?p:n(h,l);var f=p.height;var v=u(f,t.rotationAngle);var g=p.height,m=p.width,y;if((t.rotated||p.width>t.size)&&(t.position===e.POSITION.TOP||t.position===e.POSITION.BOTTOM)){if(!t.rotated&&t.disableAutoRotation){y=false;m=t.size}else{y=true;m=p.height;if(t.rotationAngle===i){g=p.width}else{var _=t.cellWidth/2+t.cellStart+(t.additionalWidth?t.additionalWidth:0);var A=_/Math.cos(t.rotationAngle*Math.PI/180);if(p.width<A){A=p.width}g=A*Math.sin(t.rotationAngle*Math.PI/180);g+=v;var b=m/Math.sin(t.rotationAngle*Math.PI/180)*.9;if(b>m){m=b}}}}var x={cellWidth:m,cellHeight:g,rotated:y,textSize:p};if(t.position===e.POSITION.TOP||t.position===e.POSITION.BOTTOM){if(y){x["minCellHeight"]=Math.min(d.width,p.width);if(t.rotationAngle!==i){x["minCellHeight"]=x["minCellHeight"]*Math.sin(t.rotationAngle*Math.PI/180);x["minCellHeight"]+=2*v-2*a+1}}else{if(p.hasOwnProperty("minHeight")){x["minCellHeight"]=p.minHeight}else{x["minCellHeight"]=p.height}if(x.cellWidth<Math.min(d.width,p.width)){x.noLabelSpace=true}}}else{x["minCellWidth"]=Math.min(d.width,p.width)}var S=r.getAbsoluteTextBaselineOffset({fontSize:l["fontSize"],fontWeight:l["fontWeight"],fontFamily:l["fontFamily"]});x.absoluteTextBaselineOffset=S;return x};s.autoHide=function(e,t){return true};s.expose={renderer:s,update:s.update,getPreferredSize:s.getPreferredSize,autoHide:s.autoHide};return s});define("sap/viz/chart/components/util/BuildLayerUtil",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer"],function(e,t,i,a){var r=6;var o=5;var n=90;var l={};l._filter=function(e,t){return t.reduce(function(t,i,a){return!i.invisible&&e[a]?t.concat(e[a]):t},[])};l._getLayerslength=function(e){var t=0;if(e.length&&e[0].length){t=e[0].length}return t};l._getDisplayTexts=function(e,a){return i.map(e,t.getDisplayTextsConverter(a))};function s(e,t){if(e&&!e.or){var i={or:[e]};i.or.push(t);e=i}else{e.or.push(t)}return e}l._mergeCtx=function(e,i){var a=e.length;var r={};for(var o=0;o<a;++o){var n=e[o];var l=i[o];if(!t.isPlainValue(n)){r[l]=t.getDimensionValue(n);r[l+t.DIMENSION_DISPLAYNAME_SUFFIX]=t.getDimensionDisplayName(n)}else{r[l]=n}}return r};function u(e,i){return t.getDimensionValue(e)===t.getDimensionValue(i)}l.mergeLabels=function(e,t,i,a,r){var o=[];var n=this._getLayerslength(t);var l=this._getDisplayTexts(t,e._bindingFields);var c=e._cellDict={};var h=0;var p;var d=t.length;for(var f=0;f<n;++f){var v=new Array(d);var g=new Array(d+1);var m=0;var y=0;var _=0;var A=0;var b=true;var x=o[f-1];var S=0;for(var D=0;D<d;++D){var w=this._mergeCtx(t[D],i);var C=1;if(f!==n-1){++y;++_;C=y;y=0;b=_===1;if(f>0&&_>=o[f-1].cells[A].space){_=0;++A}if(D>0&&!b&&u(t[D][f],t[D-1][f])){var T=m-1;v[T].ctx=s(v[T].ctx,w);v[T].space++;continue}}var z=r&&(D!==0&&D!==d-1)?"":l[D][f];var L=c[h]=v[m]={id:h,layer:f,text:z,ctx:w,space:C};g[m]=D;m++;h++;if(x){if(D>=p[S+1]){S++}var P=x.cells[S];P.children=P.children||[];P.children.push(L)}}v.length=m;g[m]=d;g.length=m+1;p=g;o.push({cells:v})}return o};l.assignCellSize=function(e,t,i,a){var r=e._isVertical();for(var o=0,n=t.length;o<n;++o){var l=t[o];var s=0;var u=l.cells;for(var c=0,h=u.length;c<h;++c){var p=u[c];_.getRangeInfo(i,s,a,p,r);s+=p.space}}};function c(e){return e.length===1}function h(e){return e._isTrellisAxis||e._isInTrellis}function p(e,t,i,a,r,o,n,l){var s=i[t];var u=e.length*a;var c=0;var h;if(s.rotated||a===0){h=false}else if(a===1){h=true}else{h=true;var p;for(p=0;p<e.length;p++){var d=e[p];var f=o(d,t,s);r.push(f);if(f.rotated&&!s.rotated){c++;if(c>u){h=false;break}}if(!n&&f[l]>d[l]){h=false;break}}}if(h||r.length!==e.length){r.splice(0,r.length)}return h}l.layoutCells=function(t,i,l,s,u){if(!s){return}var f=s.propStyle;var v=s.labelVisible;var m=s.checkLabelVisible;var y=+s.truncatedLabelRatioSetting;if(isNaN(y)){y=.2}y=Math.max(0,Math.min(1,y));var A=s.defaultRotationAngle;var b=s.autoRotateSetting;if(b!=="auto"&&b!=="fixed"){b="auto"}var x=s.rotationAngleSetting;var S=[0,30,45,60,90];if(S.indexOf(x)<0){x=A}var D=s.labelRenderer||a;var w;var C=t._isVertical();var T=function(e,i,a,r,o){var n=f;if(a.isParentLayer){n=s.propParentStyle}return _.fillPreferredSize(D,C,e,n,i,t._position,a.rotated,r,o,s.otherSize,s.wrap,s.noEllipsis)};var z=r+o;var L=l.slice();if(L[0]>L[1]){L.reverse()}var P,k,E;var I,O,R,N,M,B;var V,F,H;if(t._isVertical()){V="cellHeight";F="minCellWidth";H="cellWidth"}else{V="cellWidth";F="minCellHeight";H="cellHeight"}var U={};U.getPreferredSize=T;U.cellSizeField=V;U.minCellBandField=F;U.cellRefSizeField=H;U.offset=z;U.isVertical=C;O=i.length;for(I=O-1;I>=0;--I){var W=!D.autoHide||!D.autoHide(t._isVertical(),I,a.expose);P=i[I];P.onlyKeepFirstAndLast=u;P.isVisible=true;P.rotated=false;k=P.cells;M=0;if(I!==O-1){P.isParentLayer=true}if(m&&v===false){P.isVisible=false;continue}var G=y;var Y=h(t);if(Y){G=0}else if(s.paginationOptions||u){G=1}var X;if(I===0){var j,Z;X=0;var q=false;var K=x;var Q=false;if(x===0){Q=true}var $=c(i);if(!$||Y){if(t._isVertical()){K=0}else{K=n}}var J=function(e){return T(e,0,P,Q,K)};var ee;if(u){k[0].isFirstLabel=true;if(k.length>1){k[k.length-1].isLastLabel=true;ee=[k[0],k[k.length-1]]}else{ee=[k[0]]}}else{ee=k.slice()}var te;var ie=function(){var t;var i=false;if(!W&&!u){_.excludeCrossBoundCells(ee,L,J)}var a=ee.length;te=W?1:_.getStep(ee,0,J);if(G===1){te=1}var r=0;var o=0;var n=0;for(R=0;R<a;R+=te){E=ee[R];if(te===undefined||R<0){i=true;break}w=J(E);n++;if(w.rotated){o++}if(G===0&&o>0){i=true;break}if(!W&&R!==0&&E.start<t.end-.001){o=0;n=0;R=-te;te=_.getStep(ee,r,J);continue}r=R;t=E}if(K===0||G===1&&b!=="fixed"){i=false}else if(!C&&ee.length===0){i=true}else{if(b==="fixed"&&$){i=true}if(o>0&&n>0){if(e.preciseSimple(o/n)>e.preciseSimple(G)){i=true}}}return i};P.rotated=ie();if(P.rotated){P.rotationAngle=K}if(K===0&&s.wrap){P.wrap=s.wrap}else{P.wrap=null}q=P.rotated;Q=true;if(!W&&!u){_.excludeCrossBoundCells(ee,L,J)}j=[];M=X=0;var ae=Infinity;for(R=0;R<ee.length;R+=te){E=ee[R];if(te===undefined){if(P.rotated&&P.rotationAngle!==n){break}else{if(!E._preferredSize.noLabelSpace){j.push(E);w=E._preferredSize;M=w[H];X=w[F]}break}}if(m===false&&v===false){w={cellWidth:0,cellHeight:0,minCellHeight:0};if(E){E._preferredSize=w}}else{w=J(E)}if(s.noEllipsis&&s.refSize&&w.cellWidth+z>s.refSize.width){continue}if(!w.noLabelSpace||u){j.push(E)}else{continue}w=E._preferredSize;if(M<w[H]){M=w[H]}Z=w[F];if(Z&&X<Z){X=Z}if(Z&&ae>Z){ae=Z}}if(j.length===0){P.isVisible=false;M=-z;X=-z;ae=-z}B=e.preciseSimple(M+z);for(R=0,N=k.length;R<N;++R){E=k[R];E.isVisible=false}for(R=0,N=j.length;R<N;++R){E=j[R];E[H]=B;E.isVisible=true}P.layerBand=B;P.minLayerBand=s.noEllipsis?e.preciseSimple(ae+z):e.preciseSimple(X+z);if(s.isFlexibleLayers&&(C||P.rotated)){P.reCalculateLayerContext=true}}else{X=0;var re=[];var oe=p(P.cells,I,i,G,re,T,W,V);for(R=0,N=k.length;R<N;++R){E=k[R];E.isVisible=true;if(re.length>0){w=re[R]}else{w=T(E,I,P,oe)}if(w[F]&&X<w[F]){X=w[F]}if(w.rotated&&!P.rotated){P.rotated=true;P.rotationAngle=n;R=-1;continue}else if(w.noLabelSpace){E.isVisible=false}if(M<w[H]){M=w[H]}if(!W&&w[V]>E[V]){if(s.isFlexibleLayers){P.reCalculateLayerContext=true}else{P.isVisible=false;M=-z}break}}B=e.preciseSimple(M+z);var ne=0;for(R=0,N=k.length;R<N;++R){k[R][H]=B;if(k[R].isVisible){ne++}}P.layerBand=B;P.minLayerBand=e.preciseSimple(X+z);if(ne<=0){P.isVisible=false}}if(P.reCalculateLayerContext){d(i,I,U,s.isAllowEmptySegement,s.isSetParentStyleProp)}if(!P.isVisible){for(var le=i.length-1;le>I;le--){i[le].isVisible=false}}g(P,C)}};var d=function(t,i,a,r,o){var n=t[i];var l;var s;if(i>0){var u=t[i-1].cells;for(l=0;l<u.length;l++){for(s=0;s<u[l].children.length;s++){u[l].children[s].parentIndex=l}}}else{for(l=0;l<n.cells.length;l++){n.cells[l].parentIndex=-1}}var c=[];var h=[];f(n.cells,t,i,a.isVertical,c,h,r);if(c.length===0&&o&&i<t.length-1&&t[i+1].isVisible){var p;for(p=i+1;p<t.length;p++){t[p].isVisible=false}h=[];f(n.cells,t,i,a.isVertical,c,h,r)}for(l=0;l<n.cells.length;l++){n.cells[l].isVisible=false}for(l=0;l<h.length;l++){if(a.getPreferredSize){var d=a.getPreferredSize(h[l],i,n);h[l].textBand=d[a.cellRefSizeField];h[l].minTextBand=d[a.minCellBandField]}}if(c.length>0){n.isVisible=true;n.layerBand=0;n.minLayerBand=0;for(l=0;l<c.length;l++){c[l].isVisible=true;if(n.layerBand<c[l].textBand){n.layerBand=c[l].textBand}if(n.minLayerBand<c[l].minTextBand){n.minLayerBand=c[l].minTextBand}}n.layerBand=e.preciseSimple(n.layerBand+a.offset);for(l=0;l<c.length;l++){c[l][a.cellRefSizeField]=n.layerBand}n.minLayerBand=e.preciseSimple(n.minLayerBand+a.offset);g(n,a.isVertical)}else{n.isVisible=false}};var f=function(e,t,i,a,r,o,n){var l;for(var s=0;s<e.length;s++){if(a){if(e[s].contentHeight){l=e[s].contentHeight;break}}else{if(e[s].contentHeight){l=e[s].contentWidth;break}}}var u;var c=-1;for(u=t.length-1;u>=0;u--){if(t[u].isVisible||t[u].isVisible===undefined){c=u;break}}var h=[];var p;var d=null;var f=null;for(p=0;p<e.length;p++){if(f===null||f!==e[p].parentIndex){if(d){h.push(d)}d=[];f=e[p].parentIndex}if(f===e[p].parentIndex){d.push(e[p])}if(p===e.length-1){h.push(d)}}var g;for(g=0;g<h.length;g++){if(i!==c){v(l,h[g],a,o);for(p=0;p<h[g].length;p++){if(a){if(l<h[g][p].cellHeight){r.push(h[g][p])}}else{if(l<h[g][p].cellWidth){r.push(h[g][p])}}}for(p=0;p<r.length;p++){if(o.indexOf(r[p])<0){o.push(r[p])}}}else{var m=v(l,h[g],a,r);if(!n){if(m===0){r.splice(0,r.length);break}}for(p=0;p<r.length;p++){o.push(r[p])}}}};var v=function(e,t,i,a){var r="cellWidth";if(i){r="cellHeight"}var o=0;var n;var l=0;for(n=0;n<t.length;n++){l+=t[n][r]}var s=0;var u;for(n=0;n<t.length;n++){if(n===0){u=t[n][r]/2-e/2}else{u+=t[n-1][r]/2+t[n][r]/2}if(u>s&&u+e<=l){s=u+e;a.push(t[n]);o++}}return o};var g=function(t,i){var a=.8;if(!i&&!t.rotated){t.niceLayerBand=t.layerBand;t.maxLayerBand=t.layerBand}else{var r=t.layerBand;if(t.minLayerBand){r=t.minLayerBand}t.minLayerBand=r;t.maxLayerBand=r;t.niceLayerBand=r;if(t.isVisible){if(t.layerBand){t.maxLayerBand=e.preciseSimple(t.layerBand)}var o=[];var n;for(n=0;n<t.cells.length;n++){if(t.cells[n].isVisible){if(i){if(t.cells[n].contentWidth!==undefined&&t.cells[n].contentWidth!==null){o.push(t.cells[n].contentWidth)}}else{if(t.cells[n].contentHeight!==undefined&&t.cells[n].contentHeight!==null){o.push(t.cells[n].contentHeight)}}}}var l=function(e,t){return e-t};o.sort(l);var s=o[Math.ceil(o.length*a)-1];t.niceLayerBand=e.preciseSimple(s);if(t.maxLayerBand<t.minLayerBand){t.maxLayerBand=t.minLayerBand}if(t.niceLayerBand<t.minLayerBand){t.niceLayerBand=t.minLayerBand}}}};var m=function(t,i){var a=e.preciseSimple;var r=0;var o=0;var n;var l=a(i);var s;for(n=0;n<t.length;n++){if(a(t[n].minLayerBand)>a(l)){break}else{o++;l-=t[n].minLayerBand}}for(n=0;n<t.length;n++){t[n].isVisible=false;t[n].layerBand=0}if(o>0){var u=[];var c=0;var h=0;for(n=0;n<o;n++){t[n].isVisible=true;u.push(t[n]);c+=t[n].niceLayerBand;h+=t[n].maxLayerBand}c=a(c);h=a(h);l=a(i);if(l>=h){for(n=0;n<u.length;n++){u[n].layerBand=u[n].maxLayerBand}}else{var p=c;for(n=u.length-1;n>=0;n--){u[n].layerBand=l*(u[n].niceLayerBand/p)}for(var d=0;d<u.length;d++){l=i;p=c;s=false;for(n=u.length-1;n>=0;n--){if(u[n].layerBand<u[n].minLayerBand){u[n].layerBand=u[n].minLayerBand;u[n].adjusted=true;s=true}if(u[n].adjusted){l-=u[n].layerBand;p-=u[n].niceLayerBand}}if(s){for(n=u.length-1;n>=0;n--){if(!u[n].adjusted){u[n].layerBand=l*(u[n].niceLayerBand/p)}}}else{break}}l=a(i);p=a(c);for(n=0;n<u.length;n++){delete u[n].adjusted;s=false;if(u[n].layerBand>u[n].maxLayerBand){u[n].layerBand=u[n].maxLayerBand;s=true}l-=u[n].layerBand;p-=u[n].niceLayerBand;if(s){for(var f=n+1;f<u.length;f++){u[f].layerBand=l*(u[f].niceLayerBand/p)}}}for(n=0;n<u.length;n++){if(l>0){if(u[n].layerBand<u[n].maxLayerBand){if(l>u[n].maxLayerBand-u[n].layerBand){l-=u[n].maxLayerBand-u[n].layerBand;u[n].layerBand=u[n].maxLayerBand}else{u[n].layerBand+=l;l=0}}}else{break}}}r=0;for(n=0;n<u.length;n++){r+=u[n].layerBand}r=a(r)}return r};l.flexibleLayoutLayers=function(t,i,a,n){var l=r+o;var s=0;var u;var c;if(a===undefined||a===null){a=Infinity}var h=[];for(u=0;u<t.length;u++){if(t[u].isVisible===undefined||t[u].isVisible===true){h.push(t[u])}if(t[u].isVisible&&t[u].cells){t[u].hasEmptyCell=false;for(c=0;c<t[u].cells.length;c++){if(!t[u].cells[c].isVisible){t[u].hasEmptyCell=true;break}}}}for(u=0;u<t.length;u++){var p=h.length;s=m(h,a);if(!n){for(u=0;u<h.length;u++){var f=false;if(h[u].isVisible&&h[u].hasEmptyCell&&u!==h.length-1){f=true}if(h[u].isVisible&&h[u].cells){for(c=0;c<h[u].cells.length;c++){if(y(h[u].cells[c])){f=true;break}}}if(f){for(var v=h.length-1;v>u;v--){h[v].isVisible=false}}}}h=[];for(u=0;u<t.length;u++){if(t[u].isVisible===undefined||t[u].isVisible===true){h.push(t[u])}}if(h.length>0&&p!==h.length&&h[h.length-1].cells&&h[h.length-1].reCalculateLayerContext){var g={};if(i){g.cellSizeField="cellHeight";g.minCellBandField="minCellWidth";g.cellRefSizeField="cellWidth"}else{g.cellSizeField="cellWidth";g.minCellBandField="minCellHeight";g.cellRefSizeField="cellHeight"}g.offset=r+o;g.isVertical=i;d(h,h.length-1,g,n)}else{break}}for(u=0;u<t.length;u++){if(t[u].isVisible&&t[u].cells){for(c=0;c<t[u].cells.length;c++){if(i){t[u].cells[c].cellWidth=t[u].layerBand;if(t[u].cells[c].contentWidth>t[u].layerBand-l){t[u].cells[c].contentWidth=t[u].layerBand-l}}else{if(t[u].cells[c].cellHeight>t[u].layerBand){t[u].cells[c].cellHeight=t[u].layerBand}if(t[u].cells[c].contentHeight>t[u].layerBand-l){t[u].cells[c].contentHeight=t[u].layerBand-l}}}}}s=e.preciseSimple(s);return s};var y=function(e){var t=true;if(e.children){for(var i=0;i<e.children.length;i++){if(e.children[i].isVisible){t=false;break}}}return t};l.getVisibleLayers=function(e,t){var i=[];if(e._properties.get("label.hideSubLevels")){if(t.length){if(t[0].isVisible){i.push(t[0])}i=[t[0]]}}else{for(var a=0,r=t.length;a<r;++a){if(t[a].isVisible){i.push(t[a])}}}return i};var _={};_.defaultLabelGetPreferredSize=function(e){return{cellWidth:e.size,cellHeight:e.size}};_.getRangeInfo=function(e,t,i,a,r){var o=0;var n,l;var s=a.space;for(var u=0;u<s;++u){var c=e[u+t];var h=c[0]*i;var p=c[1]*i;o+=Math.abs(h-p);if(u===0){n=h}if(u===s-1){l=p}}if(r){a.cellHeight=o}else{a.cellWidth=o}a.cellStart=n;a.cellEnd=l;a.middle=(n+l)/2};_.fillPreferredSize=function(e,t,i,r,o,l,s,u,c,h,p,d){var f,v;if(t){f="cellHeight";v="minCellWidth"}else{f="cellWidth";v="minCellHeight"}var g,m;var y=e.getPreferredSize!==undefined;if(y){g=e.getPreferredSize}else{g=a.getPreferredSize}if(c===undefined){c=n}var _=0;if(h){if(h.valueAxis){_=h.valueAxis.width}else if(h.categoryAxis2){_=h.categoryAxis2.width}}var A={ctx:i.ctx,styles:r,text:i.text,layer:o,size:i[f],position:l,rotated:s,rotationAngle:c,cellWidth:i.cellWidth,cellStart:i.cellStart,disableAutoRotation:u,additionalWidth:_,noEllipsis:d};if(!s||c===0){A.wrap=p}m=g.call(e,A,a.expose);if(!m){m=a.getPreferredSize(A)}if(m[v]===undefined){m[v]=0}i._preferredSize=m;i.contentWidth=m.cellWidth;i.contentHeight=m.cellHeight;var b=i.middle;var x=m[f]/2;i.start=b-x;i.end=b+x;return m};_.isCellOutOfBound=function(e,t){var i=[e.start,e.end];if(i[0]>i[1]){i.reverse()}return i[0]<t[0]||i[1]>t[1]};_.findBoundaryBinary=function(e,t,i,a,r){if(r-a===1){return a}var o=Math.floor((r+a)/2);i(e[o]);if(_.isCellOutOfBound(e[o],t)){return _.findBoundaryBinary(e,t,i,o,r)}else{return _.findBoundaryBinary(e,t,i,a,o)}};_.excludeCrossBoundCells=function(e,t,i){var a;var r=Math.floor(e.length*.1)||1;var o,n=-1,l=e.length;for(o=0;o<l;){i(e[o]);if(!_.isCellOutOfBound(e[o],t)){n=o;break}if(o===l-1){break}o=Math.min(o+r,l-1)}if(n>0){a=_.findBoundaryBinary(e,t,i,n-r,n)}else if(n<0){e.splice(0);return}if(a!==undefined){e.splice(0,a+1);l=e.length;var s=l-(a+1);if(s>=0){a=undefined;i(e[s]);if(_.isCellOutOfBound(e[s],t)){a=s;for(o=s-1;o>=0;o--){i(e[o]);if(!_.isCellOutOfBound(e[o],t)){break}a=o}}else{for(o=s+1;o<l;o++){i(e[o]);if(_.isCellOutOfBound(e[o],t)){a=o;break}}}e.splice(a,l-a)}}};_.getStep=function(e,t,i){if(e.length<=1){return 1}var a;var r=e[t];var o=r.end-.001;var n=e.length;var l;for(var s=t+1;s<n;s++){l=e[s];if(l.cellStart>=o){for(var u=s;u<n;u++){i(e[u]);if(e[u].start>=o){a=u-t;break}}break}}return a};return l});define("sap/viz/chart/layout/AxisLayout",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/BaseLayout","sap/viz/chart/components/util/BuildLayerUtil"],function(e,t,i,a,r,o){var n=t.DIRECTION.HORIZONTAL;var l=t.DIRECTION.VERTICAL;var s=t.AXIS.SPACING_TO_ROUGH;var u=t.AXIS.SPACING_MAX_IN_PX;var c=t.AXIS.FIX_SPACING_MAX_IN_PX;var h="axisTitle";var p=i.preciseSimple;function d(e,t){return e.option.order-t.option.order}function f(e,t){return e.option.priority-t.option.priority}function v(e,t){return e.module.getPreferredSize(t)}function g(e,i){if(e.option.offsetType===t.AXIS.FIX_LAYOUT_TYPE){return t.AXIS.FIX_TITLE_OFFSET}else{return e.option.offset*i}}var m=function(){m.superclass.constructor.apply(this,arguments);this.config.add({sortOrderFn:d,sortPriorityFn:f,offsetFn:g,sizeFn:v,rootWidth:0,rootHeight:0,roughWidth:0,roughHeight:0,position:"",layoutAlgorithm:"auto",isFlexibleLayers:false})};e.extend(m,r);m.prototype.layout=function(e){var t=this.config;var i=t.get("totalWidth");var a=t.get("totalHeight");var r=t.get("position");var o=t.get("offsetFn");var l=t.get("sizeFn");var d=t.get("rootWidth");var f=t.get("rootHeight");var v=t.get("roughWidth");var g=t.get("roughHeight");var m=t.get("isFlexibleLayers");var w=t.get("isFixedPadding");var C=b(r,i,a);var T=x(r,i,a);var z=_(r);var L=A(r);var P=this._dictToArray(e);var k=S(P,t);var E=D(P,t);var I=L===n;var O,R,N,M,B,V,F,H;H=Math.min(v,g);if(I){M="minWidth";B="maxWidth";V="minHeight";O="width";R="height";N="x";F=d}else{M="minHeight";B="maxHeight";V="minWidth";O="height";R="width";N="y";F=f}var U=T;var W=0,G=k.length,Y,X,j;var Z=false;var q=0;var K=s*H;for(;W<G;++W){Y=k[W];if(Z){Y.isEnough=false;continue}X=l(Y);q=o(Y,F);j=Math.min(q,K);j=w&&Y.module.alias==="axisTitle"?c:Math.min(j,u);if(X[B]&&p(U-j-X[M])>=0&&Math.ceil(X[V])<=Math.ceil(C)){Y.isEnough=true;U=p(U-j);if(U>=X[B]){Y[O]=X[B];U=p(U-X[B])}else{Y[O]=y(U,X.spacings,m);U=0}}else{Y.isEnough=false;if(X[B]){Z=true}}U=p(U)}W=0;G=E.length;var Q={};var $,J;if(z<0){J=0;for(;W<G;++W){$={x:0,y:0,width:0,height:0};Y=E[W];if(Y.isEnough){q=o(Y,F);j=Math.min(q,K);j=w&&Y.module.alias==="axisTitle"?c:Math.min(j,u);J+=j;$[N]=J;J+=$[O]=Y[O];$[R]=C;if(t.get("layoutAlgorithm")==="fixed"&&Y.module.alias===h){$[N]=T-Y[O]}}Q[Y.module.alias]=$}}else{J=T;for(;W<G;++W){$={x:0,y:0,width:0,height:0};Y=E[W];if(Y.isEnough){q=o(Y,F);j=Math.min(q,K);j=w&&Y.module.alias==="axisTitle"?c:Math.min(j,u);J-=j;J-=$[O]=Y[O];$[R]=C;if(t.get("layoutAlgorithm")==="fixed"&&Y.module.alias===h){J=0}}$[N]=J;Q[Y.module.alias]=$}}return Q};m.prototype.getPreferredSize=function(e){var t=this.config;var i=t.get("totalWidth");var r=t.get("totalHeight");var o=t.get("position");var l=t.get("sizeFn");var h=t.get("offsetFn");var d=this._dictToArray(e);var f=t.get("rootWidth");var v=t.get("rootHeight");var g=t.get("roughWidth");var m=t.get("roughHeight");var y=t.get("isFixedPadding");var _=[];var x=0;var D=0;var w=S(d,t);var C=w.length;var T=A(o);var z=T===n;var L=z?"height":"width";var P=z?"width":"height";var k=b(o,i,r);var E=a.isVertical(o)?i:r;var I,O,R,N,M,B,V,F;F=Math.min(g,m);if(z){M="maxWidth";B="minHeight";V=f}else{M="maxHeight";B="minWidth";V=v}var H=false;var U=[];var W={};for(;x<C&&!H;++x){I=w[x];var G=h(I,V);var Y=s*F;N=Math.min(G,Y);N=y&&I.module.alias==="axisTitle"?c:Math.min(N,u);var X={};X[P]=E-D-N;X[L]=k;O=l(I,X);if(Math.ceil(O[B])<=Math.ceil(k)&&O[M]&&p(D+N+O[M])<=p(E)){D+=N+O[M];U.push(I.module.alias);W[I.module.alias]=O[M]}else if(O[M]!==0){H=true}}var j=0,Z=0;if(z){j=D;Z=k}else{j=k;Z=D}return{width:j,height:Z,extra:{visibleComponents:U,componentsPrfSize:W}}};function y(e,i,a){var r;if(a){r=o.flexibleLayoutLayers(i,true,e)}else{r=0;var n;if(!i){return r}for(var l=0,s=i.length;l<s;++l){n=i[l];r+=n.interval;r=p(r);if(r>e){switch(n.type){case t.SPACING_TYPE.STEP:r-=n.interval;break;case t.SPACING_TYPE.RANGE:r=e;break}}}}return r}function _(e){if(e===t.POSITION.TOP||e===t.POSITION.LEFT){return 1}else{return-1}}function A(e){if(e===t.POSITION.TOP||e===t.POSITION.BOTTOM){return l}else{return n}}function b(e,t,i){return a.isVertical(e)?i:t}function x(e,t,i){return a.isVertical(e)?t:i}function S(e,t){return e.slice().sort(t.get("sortPriorityFn"))}function D(e,t){return e.slice().sort(t.get("sortOrderFn"))}return m});define("sap/viz/chart/components/util/AxisBodyUtil",[],function(){var e=function(e,t){var i="translate("+t.x+", "+t.y+")";if(e._tickGroupNode){e._tickGroupNode.attr("transform",i)}if(e._labelGroupNode){e._labelGroupNode.attr("transform",i)}};var t=function(e){var t;if(e){t=[];for(var i=0,a=e.length;i<a;++i){var r={id:e[i].id,name:e[i].name,invisible:e[i].hidden};if(e[i].values){var o={};e[i].values.forEach(function(e){o[e.id]=e.name});r.values=o}t.push(r)}}return t};return{setTransform:e,getBindingFields:t}});define("sap/viz/chart/components/axis/AxisContainer",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/chart/layout/AxisLayout","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/framework/interaction/Constants"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d){var f="Axis Title";var v={left:"v-m-yAxis",top:"v-m-xAxis2",right:"v-m-yAxis2",bottom:"v-m-xAxis"};var g=function(t,i){g.superclass.constructor.apply(this,arguments);this._valueAxes=i.valueAxes;this._disableTitle=!!i.disableTitle;this.categoryTitleXoffset=null;this.categoryTitleYoffset=null;this._roughSize={width:0,height:0};this._bodyLayersNumber=-1;var a=this._properties;var r=this;if(i&&i.hasScrollbar){this.setChild(e.AXIS.SCROLLBAR_NAME,new s(t,{name:"plotArea.scrollbar"}),{order:2,priority:0,offset:0})}["height","width"].forEach(function(e){var t={set:function(e,t){if(e===null||parseFloat(e)>=0){return e}else{return t.value}}},i={layout:{}};i.layout[e]=t;a.add(i)});if(!i.isTrellis){var o={},n={};o[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],t,i,a,o,n,l,s;var u=0;var h=0;if(r._properties.get("title.visible")&&r._selections&&r._selections["axisTitle"]&&r._selections["axisTitle"].length>0){i=r._selections["axisTitle"].node().getBoundingClientRect();if(i.width>1.5&&i.height>1.5){o=[[]];o[0].push([i.left,i.top]);o[0].push([i.right,i.top]);o[0].push([i.right,i.bottom]);o[0].push([i.left,i.bottom]);e.push({name:r._name+" title",bound:o})}}if(r._parent&&r._parent.select(".v-m-axisBody").node()){var p=r._parent.select(".v-m-axisBody").node();var d=p.getAttribute("clip-path");if(d&&d.length>0){d=d.replace(/\s/g,"");var f=/^url\(/;d=d.replace(f,"");d=d.replace(/\)$/,"");d=d.replace(/^\"/,"");d=d.replace(/\"$/,"");p=r._parent.select(d).node()}l=p.getBoundingClientRect();if(d&&d.length>0){if(l.width===0&&l.height===0){var v=p.querySelector("rect");if(v){l=v.getBoundingClientRect()}}}if(l.width>1.5||l.height>1.5){a={left:l.left,right:l.right,top:l.top,bottom:l.bottom};n=[[]];n[0].push([a.left+u,a.top+h]);n[0].push([a.right+u,a.top+h]);n[0].push([a.right+u,a.bottom+h]);n[0].push([a.left+u,a.bottom+h]);e.push({name:r._name,bound:n})}s=r._parent.node().ownerSVGElement}c.calcOffsetFromChart(s,e);return e}};n[this._name]={value:[],readonly:true,serializable:false,get:function(){var e,t,i;if(r._parent){var a=d3.select(r._parent.node().ownerSVGElement);e=h.buildRes(r._name,i,a,r.isByBound())}return e}};t.zoneManager().add({tempPropertyZone:o,tempFeedingZone:n})}this.setLayoutAlgorithm(new u);this._scale=null;this._bindingFields=[];if(!this._disableTitle){this.setChild("axisTitle",new l(t,i),{order:3,priority:1,offset:e.AXIS.SPACING_TO_ROOT})}this._position=null;this._parent=null;var p=this.runtime().graphicModel();if(p){p.registerExposedModule(i.name)}};t.extend(g,i);g.prototype.zoom=function(e){if(e){this._realSize.width=this._size.width*e.x;this._realSize.height=this._size.height*e.y;this._updateData(this._getSizeInfo())}this._updateSubModules(e)};g.prototype.update=function(){this._updateData(this._getSizeInfo());this._updateSubModules()};g.prototype._updateSubModules=function(){if(this.getChild("axisBody")){this.getChild("axisBody").module.update()}};g.prototype.scroll=function(e){for(var t in this._children){if(this._children.hasOwnProperty(t)){var i=this.getChild(t).module;if(i.scroll){i.scroll(e)}}}};g.prototype.setData=function(e){this._bindingFields=p.getBindingFields(e.metaData)||this._bindingFields};g.prototype.setPosition=function(t){var i=this._properties;var a=i.get("visible");var r=parseFloat(i.get("layout.height"));var n=parseFloat(i.get("layout.width"));this._position=t;for(var l in this._children){if(this._children.hasOwnProperty(l)){var s=this.getChild(l);s.module.setPosition(this._position);if(l==="axisTitle"){var u=s.option;if(a&&o.isHorizontal(u.position)?r>=0:n>=0){u.offsetType=e.AXIS.FIX_LAYOUT_TYPE}}}}return this};g.prototype._isVertical=function(){return o.isVertical(this._position)};g.prototype._isHorizontal=function(){return o.isHorizontal(this._position)};g.prototype._updateData=function(){if(!this._disableTitle){this.getChild("axisTitle").module.setData(this._getTitle())}};g.prototype._getTitle=function(){var e={};e.text="";e.isCustomized=false;e.items=[];var t="";var i=this._properties.get("title.text");if(r.isString(i)){t=i;e.isCustomized=true}else if(this._bindingFields){t=this._constructTitle(this._bindingFields,e.items)}else{t=f;e.isCustomized=true}e.text=t;return e};g.prototype._constructTitle=function(e,t){return""};g.prototype.getParent=function(){if(this._parent){return this._parent.select("g."+e.CSS.CLASS.AXIS.CONTAINER)}else{return null}};g.prototype.addARIATag=function(e){};g.prototype.renderAddition=function(e){this.getChild("axisBody").module.renderValueBasedColorLine(e)};g.prototype.render=function(t){this.addARIATag(t);this._parent=t;g.superclass.render.apply(this,arguments);n.drawBound(t,this._size.width,this._size.height,undefined,true);var i=t.select("g."+e.CSS.CLASS.AXIS.CONTAINER);if(this._size.width>0||this._size.height>0){if(!i.node()){delete this._selections;this._selections=null;i=t.append("g").attr("class",e.CSS.CLASS.AXIS.CONTAINER)}this._initRenderBase(i);this.layout();if(this.getChild("axisBody")){var a=this.getChild("axisBody").module.getAvailableLayersNumber();this._bodyLayersNumber=a;if(!this._disableTitle){this.getChild("axisTitle").module.setTitleHiddenItems(a)}}this._renderSub()}var r=v[this._position];t.classed(r,true)};g.prototype.isVisible=function(){return this._bodyLayersNumber>0};g.prototype.setChild=function(e,t,i){g.superclass.setChild.apply(this,arguments);if(t.setPosition&&i.position){t.setPosition(i.position)}};g.prototype._setupLayout=function(e,t){this._updateData(e);var i=a.getPositiveInt;var r=this._properties.origin;var o=this.calculatePaddingInPX(r,this._roughSize.width,this._roughSize.height);var n=i(o.propertyPaddingInPX,o.constantPaddingInPX);var l=i(o.propertyPaddingTopInPX,n);var s=i(o.propertyPaddingRightInPX,n);var u=i(o.propertyPaddingBottomInPX,n);var c=i(o.propertyPaddingLeftInPX,n);var h=false;var p=this.getChild("axisBody");if(p&&p.module){if(p.module.isFlexibleLayers){h=p.module.isFlexibleLayers()}}var d=this._layoutAlgorithm.config;d.set("position",this._position);d.set("rootWidth",this._roughSize.width-(s+c));d.set("rootHeight",this._roughSize.height-(l+u));d.set("roughWidth",this._roughSize.width);d.set("roughHeight",this._roughSize.height);d.set("isFlexibleLayers",h);if(e.width!==undefined){d.set("totalWidth",e.width)}if(e.height!==undefined){d.set("totalHeight",e.height)}if(["left","right"].indexOf(this._position)>-1&&this._properties.get("layout.width")!==null||["top","bottom"].indexOf(this._position)>-1&&this._properties.get("layout.height")!==null||t&&t.pagination){d.set("layoutAlgorithm","fixed")}};g.prototype._getSizeInfo=function(e){var t={width:this._size.width,height:this._size.height};if(e){if(e.width){t.width=e.width}if(e.height){t.height=e.height}}else if(this._realSize.width>this._size.width||this._realSize.height>this._size.height){if(this._isHorizontal()){t.width=this._realSize.width}else{t.height=this._realSize.height}}return t};g.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo())};g.prototype._postLayout=function(){var e=this._layoutResult;var t=this._selections;for(var i in this._children){if(this._children.hasOwnProperty(i)){var a=this._children[i].module;var r=t?t[i]:null;var o=e[i];if(this._isHorizontal()){a.setSize({width:this._size.width,height:o.height})}else{a.setSize({width:o.width,height:this._size.height})}a.setRealSize({width:o.width,height:o.height});if(a.layout){a.layout()}if(r){r.attr("transform","translate("+o.x+","+o.y+")");if((this._name=="categoryAxis"||this._name=="categoryAxis2")&&i=="axisBody"){this.categoryTitleXoffset=o.x;this.categoryTitleYoffset=o.y}}}}};g.prototype.getPreferredSize=function(e,t){this._setupLayout(this._getSizeInfo(e),t);this._layoutAlgorithm.config.add({isFixedPadding:this._properties.origin.get("general.layout.isFixedPadding")});var i=this._layoutAlgorithm.getPreferredSize(this._children);return a.preciseObject(i)};g.prototype._renderSub=function(){for(var e in this._children){if(this._children.hasOwnProperty(e)){this.getChild(e).module.render(this._selections[e])}}};function m(e,t,i){var a={left:e.left,right:e.right,top:e.top,bottom:e.bottom};if(i==="left"){a.left=t[0][1][0]+1}else if(i==="right"){a.right=t[0][0][0]-1}else if(i==="top"){a.top=t[0][3][1]+1}else if(i==="bottom"){a.bottom=t[0][0][1]-1}return a}g.prototype.appendSynonymClass=function(e,t){var i=v[this._position];e.classed(i,true)};g.prototype.destroy=function(){g.superclass.destroy.call(this);this._bindingFields=null;this._disableTitle=null;this._parent=null;this._position=null;this.categoryTitleXoffset=null;this.categoryTitleYoffset=null};g.prototype.setRoughSize=function(e){if(e.width!=null){this._roughSize.width=e.width}if(e.height!=null){this._roughSize.height=e.height}};g.prototype.isByBound=function(e){return false};return g});define("sap/viz/chart/components/axis/renderer/ValueBodyRenderer",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/property/PropertyManager","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/migrate/PropertyUtil"],function(e,t,i,a,r,o,n,l,s,u){var c=e.CSS.CLASS.AXIS;var h=1;var p=6;var d=5;var f=6;var v=3;var g={};g.drawLines=function(t,i,a,o,l,h,p,d){var f=c.PERIMETER+" "+c.LINE;var v=h instanceof n;var g=v?h.get("color"):h.color;if(r.isArray(g)&&d){var m=d.length>1?1:0;g=u.getComplexProperty("color",g,m,h)}var y=0;var _=0;var A=0;var b=0;var x=p.register({fillColor:s.convertColor(g)});var S=v?h.get("axisLine.size"):h.axisLine.size;if(!r.isNumber(S)){S=1}var D,w,C;if(l===e.POSITION.TOP||l===e.POSITION.BOTTOM){C=a}else{C=o}if(i[0]<i[1]){D=i[0]-S/2;w=C+S/2}else{D=i[1]-S/2;w=C+S/2}switch(l){case e.POSITION.LEFT:y=a;_=D;A=a;b=w;break;case e.POSITION.RIGHT:y=0;_=D;A=0;b=w;break;case e.POSITION.TOP:y=D;_=o;A=w;b=o;break;case e.POSITION.BOTTOM:y=D;_=0;A=w;b=0;break}var T=t.select("."+c.LINE);if(!T.node()){T=t.append("line").style("pointer-events","none").attr("class",f).attr("shape-rendering","crispEdges")}T.attr("stroke",x).attr("stroke-width",S);T.attr("x1",y).attr("y1",_).attr("x2",A).attr("y2",b);return T};var m="."+c.TICK+", ."+c.LONGTICK;function y(e,t){var i=e.length;if(i<=2){return e}var a=true;var r;for(r=i-1;r>0;--r){if(Math.abs(e[r]-e[r-1])>=t){a=false;break}}if(a){e.splice(1,i-2)}else{for(r=i-1;r>0;--r){if(Math.abs(e[r]-e[r-1])<t){e.splice(r-1||r,1)}}}return e}function _(e,t){var i=[];if(e&&r.isArray(e)){i=e.slice(0);y(i,h);if(!t){y(i,p)}}return i}g.drawTicks=function(i,a,o,l,h,p,f,v,g){var y=p instanceof n;var A=c.PERIMETER+" "+c.TICK;var b=y?p.get("color"):p.color;if(r.isArray(b)&&g){var x=g.length>1?1:0;b=u.getComplexProperty("color",b,x,p)}var S=f.register({fillColor:s.convertColor(b)});var D=y?p.get("axisLine.size"):p.axisLine.size;var w=_(a,v);var C=0,T=w.length;var z=[],L=[],P=[],k=[];switch(h){case e.POSITION.LEFT:for(;C<T;++C){z[C]=o;L[C]=w[C];P[C]=o-d;k[C]=w[C]}break;case e.POSITION.RIGHT:for(;C<T;++C){z[C]=0;L[C]=w[C];P[C]=d;k[C]=w[C]}break;case e.POSITION.TOP:for(;C<T;++C){z[C]=w[C];L[C]=l;P[C]=w[C];k[C]=l-d}break;case e.POSITION.BOTTOM:for(;C<T;++C){z[C]=w[C];L[C]=0;P[C]=w[C];k[C]=d}break}var E=i.selectAll(m).data(w);E.enter().append("line").each(function(){this.setAttribute("class",A);this.setAttribute("stroke",S);this.setAttribute("stroke-width",D);this.setAttribute("shape-rendering","crispEdges")});E.exit().remove();E.each(function(e,i){this.setAttribute("x1",t.preciseSimple(z[i]));this.setAttribute("y1",t.preciseSimple(L[i]));this.setAttribute("x2",t.preciseSimple(P[i]));this.setAttribute("y2",t.preciseSimple(k[i]))})};g.getTrellisBaseValueIndex=function(e){var t=e.length-1;var i=e[0].value,a=e[t].value;var r=l.getTrellisBaseValueIndex(i,a);return r===1?t:r};g.drawLabels=function(t,r,l,s,u,h,p,m,y,_){if(!t){return}var A=c.LABEL+" "+c.MORPHABLE_LABEL+" "+c.LABEL_BACKWORD;var b=p instanceof n?p.get("label.style"):p.label.style;var x=a.getTextBaselineOffset(b);var S=0;var D=l.length;var w;var C=!!m.applyTrellisBehavior;var T=g.getTrellisBaseValueIndex(l);var z=null;var L=this.runtime().envManager();if(L){z=L.textAnchor()}if(i.isVertical(h)){for(;S<D;++S){w=l[S];w.textAnchor=z;w.x=d+f;if(h===e.POSITION.LEFT){w.x=s-w.x-w.width}w.y=r.scale(w.value)-x;w.y+=C&&S===T?-v:w.height/2}}else{for(;S<D;++S){w=l[S];w.textAnchor=z;w.x=r.scale(w.value);if(_&&S===D-1){w.x-=w.width}else if(C&&S===T){w.x+=v}else{w.x-=w.width/2}if(h===e.POSITION.TOP){w.y=u-d-f-x}else{w.y=d+f+w.height-x}}}var P=y.register({fillColor:b.color});var k=b["fontSize"];var E=b["fontWeight"];var I=b["fontFamily"];var O=b["fontStyle"];var R=t.selectAll("."+c.LABEL).data(l);R.enter().append("g").each(function(e,t){this.setAttribute("class",A);this.setAttribute("fill",P);this.setAttribute("font-size",k);this.setAttribute("font-weight",E);this.setAttribute("font-family",I);this.setAttribute("font-style",O);var i=o.create("text");this.appendChild(i)});R.exit().remove();R.each(function(e,t){var i=this.querySelector("text");i.textContent=e.text;i.setAttribute("text-anchor",e.textAnchor);i.setAttribute("x",e.x);i.setAttribute("y",e.y)})};return g});define("sap/viz/chart/components/util/ClippathUtil",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/Constants"],function e(t,i){var a=i.CSS.CLASS.CLIPPATH;var r={drawClippath:function(e,i,r,o,n,l){var s=a;if(l){s=s+"-"+l}if(i<0){i=0}if(r<0){r=0}if(e.select("."+s).node()===null){var u="clip-path-"+t.guid();var c=e.insert("clipPath",":first-child").attr("class",s).attr("id",u);c.append("rect").attr("x",o).attr("y",n).attr("width",i).attr("height",r);return u}else{e.select("."+s).select("rect").attr("width",i).attr("height",r).attr("x",o).attr("y",n);return e.select("."+s).attr("id")}}};return r});define("sap/viz/chart/components/axis/sub/ValueAxisBody",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/format/FormatManager"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v){var g=5;var m=6;var y=5;var _=3;var A=i.CSS.CLASS.AXIS;var b=function(e,t){b.superclass.constructor.apply(this,arguments);this._isPercentageMode=false;this._tickGroupNode=null;this._labelGroupNode=null;this._offset={x:0,y:0};this._valueAxes=t.valueAxes};e.extend(b,t);b.prototype.setPercentageMode=function(e){this._isPercentageMode=!!e;return this};b.prototype.update=function(){var e=this._properties;if(e.get("visible")&&this._data){var t=this._size.width;var i=this._size.height;var a=this._position;var r=this._data;if(this._isSpaceEnough()){var o=this._getTicksToRender();var l=n.getTicksPosition(o,r);var s=this._getAllLabels(o,r);var u=this.runtime().effectManager();if(e.get("axisTick.visible")){this.drawTicks(this._tickGroupNode,l,t,i,a,e,u)}if(e.get("label.visible")&&s.length){this.drawLabels(this._labelGroupNode,r,s,t,i,a,e,this._options,u,this._adjustLastLabel)}}}};b.prototype.scroll=function(e){h.setTransform(this,e);this._offset.x=e.x;this._offset.y=e.y};b.prototype.render=function(e){var t=this._properties;var i=this._size.width;var a=this._size.height;r.drawBound(e,i,a,null,true);e.select("g."+A.LINE_GROUP).remove();e.select("g."+A.TICK_GROUP).remove();e.select("g."+A.LABEL_GROUP).remove();if(this._data&&t.get("visible")){var o=this._position;var l=this._data;var s=l.getRange();var u=null;var p=this.runtime().effectManager();if(this._isSpaceEnough()){var f=this._isVertical();if(t.get("axisLine.visible")){u=e.append("g").attr("class",A.LINE_GROUP);var v=this.drawLines(u,s,i,a,o,t,p,this._valueAxes);d.setData(u.node(),{isVertical:f,isPercentage:this._isPercentageMode})}var y=this._getTicksToRender();var _=n.getTicksPosition(y,l);var b=this._getAllLabels(y,l,false);var x;if(t.get("axisTick.visible")){x=c.drawClippath(e,this._size.width+2,this._size.height+2,-1,-1,"ticks");u=e.append("g").attr("clip-path","url(#"+x+")");this._tickGroupNode=u.append("g").attr("class",A.TICK_GROUP);this.drawTicks(this._tickGroupNode,_,i,a,o,t,p)}if(t.get("label.visible")&&b.length){var S=this.getPadding(this._data);var D={x:0,y:0,width:this._size.width,height:this._size.height};var w=this._getWidestLabel(b)+m+g;var C=0;if(f){D.y-=S.start;D.height+=S.start+S.end;C=w-D.width;if(this._noReLayout&&C>0){D.width+=C;D.x-=C}}else{D.x-=S.start;D.width+=S.start+S.end;C=w-D.height;if(this._noReLayout&&C>0){D.height+=C;D.y-=C}}x=c.drawClippath(e,D.width+2,D.height+2,D.x-1,D.y-1,"labels");u=e.append("g").attr("clip-path","url(#"+x+")");this._labelGroupNode=u.append("g").attr("class",A.LABEL_GROUP);this.drawLabels(this._labelGroupNode,l,b,i,a,o,t,this._options,p,this._adjustLastLabel)}}}if(this._offset.x||this._offset.y){h.setTransform(this,this._offset)}};b.prototype._getTicksToRender=function(){return n.getTicks(this._data)};b.prototype.drawLines=o.drawLines;b.prototype.drawTicks=function(e,t,i,a,r,n,l){return o.drawTicks(e,t,i,a,r,n,l,false,this._valueAxes)};b.prototype.drawLabels=o.drawLabels;b.prototype.setData=function(e,t){this._noReLayout=t;if(t){this._fullScale=this._fullScale||this._data}else{this._fullScale=null}b.superclass.setData.apply(this,arguments)};b.prototype.paginationOptions=function(){var e;if(this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel){var t=this._runtime._interaction._service.getDataModel();e=t&&t._rawData&&t._rawData._FlatTableD&&t._rawData._FlatTableD._dataset&&t._rawData._FlatTableD._dataset.metadata&&t._rawData._FlatTableD._dataset.metadata.options}return e};b.prototype.getMaximizedLabelWidth=function(e,t){var i=e;var a=0;var r=t._domain;var o=t.maximizedDomain;var l=this.paginationOptions();if(l&&o&&r&&!t.isFixed()){if(!p.isNumber(o[0])){o[0]=0}if(!p.isNumber(o[1])){o[1]=0}var s=t.getTickHint();var u=new f(o,t.getRange());var c=s*s;u.setTickHint(c);n.perfectTicks(u,c);var h=n.getTicks(u);var d=this._getAllLabels(h,u,true,true);a=this._getWidestLabel(d)}if(i<a){i=a}return i};b.prototype.getPreferredSize=function(){var e={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{interval:0,type:i.SPACING_TYPE.STEP}]};var t=this._properties;if(this._data&&t.get("visible")){var r=this._noReLayout?this._fullScale:this._data;var o=r.getRange();var l=Math.abs(o[0]-o[1]);var s=m+g;var u=[],c=[];if(t.get("label.visible")){u=n.getTicks(r);c=this._getAllLabels(u,r,true)}if(this._isVertical()){var h=this._getWidestLabel(c);s+=h;e.minWidth=s;e.maxWidth=m+g+this.getMaximizedLabelWidth(h,r);e.minHeight=l;e.maxHeight=l}else{s+=this._getHighestLabel(c);e.minWidth=l;e.maxWidth=l;e.minHeight=s;e.maxHeight=s}e.spacings=[{interval:s,type:i.SPACING_TYPE.STEP}]}var p=a.preciseObject(e);this._updatePfdSize(p);return p};b.prototype.getAvailableLayersNumber=function(){var e=0;if(this._data&&this._properties.get("visible")&&this._isSpaceEnough()){e=1}return e};b.prototype.formatTickValue=function(e,t,i,r){var o=i.get("label.formatString");var n=i.get("label.unitFormatType");var l=e;var s;var c={decimalFormatString:u.getDecimalFormatString(u.SUPPORT_CUSTOM_COMPONENTS.VALUEAXIS)};if(t){if(o&&o.indexOf("u")!==o.length-1){l=u.format(e,o,n,c)}else{l=a.preciseSimple(e*100).toString()}}else{var h=this._runtime.statusManager().get("dynamicScale");var p=h&&h[this._name];if(o||n){l=(p||u).format(e,o,n,c)}else{l=a.preciseSimple(e).toString()}}return l};b.prototype.getPadding=function(e){var t=e.getDomain();var i=this._properties.get("visible");var a=this._properties.get("label.style");var r=this._properties.get("label.visible");if(!i||!r){return{start:y,end:y}}var o={start:_,end:_};o.start+=this._getPadding(this.formatTickValue(t[0],this._isPercentageMode,this._properties,e),a);if(this._isVertical()||!this._adjustLastLabel){o.end+=this._getPadding(this.formatTickValue(t[1],this._isPercentageMode,this._properties,e),a)}return o};b.prototype._getPadding=function(e,t){var i=0;var a=this._measureTextSize(e,t);if(this._isVertical()){i=a.height/2}else{i=a.width/2}return i};b.prototype._getAllLabels=function(e,t,i,a){var r=[];var o=e.length;for(var n=0;n<o;n++){var l={};var s=e[n];l.value=s;l.text=this.formatTickValue(s,this._isPercentageMode,this._properties);r.push(l)}this._setLabelsPosition(r,t);var u=r;if(!a){u=this._filterLabels(r,i)}return u};b.prototype._setLabelsPosition=function(e,t){var i=e.length;var r=this._properties;var n=r.get("label.style");var l=this._options&&this._options.applyTrellisBehavior;var s=l?o.getTrellisBaseValueIndex(e):-1;for(var u=0;u<i;++u){var c=e[u];if(!a.isNoValue(c.value)){var h=this._measureTextSize(c.text,n);var p=h.width,d=h.height;c.width=p;c.height=d;var f=t.scale(c.value);if(this._isVertical()){if(s===u){if(u===0){c.start=f;c.end=f+d}else{c.start=f-d;c.end=f}}else{c.start=f-d/2;c.end=f+d/2}}else{if(s===u){if(u===0){c.start=f;c.end=f+p}else{c.start=f-p;c.end=f}}else{if(u===i-1&&this._isAdjustLastLabel(p)){c.start=f-p;c.end=f+p}else{c.start=f-p/2;c.end=f+p/2}}}}}};b.prototype._getOriginalDomainMinMaxSize=function(e){var t=this._properties.get("label.style");return e.map(function(e){var i=this.formatTickValue(e,this._isPercentageMode,this._properties,this._data);return this._measureTextSize(i,t)}.bind(this))};b.prototype._isAdjustLastLabel=function(e){var t=false;var i=this._runtime.statusManager();var a=i.get("ChartPaddingInfo");if(a){var r=a.paddingRight?a.paddingRight:a.padding;if(!this._isVertical()&&e/2>r&&(this._properties.origin.get("legendGroup.computedVisibility")===false||i.get("legendGroup.isHorizontal")!==false)){t=true}}this._adjustLastLabel=t;return t};b.prototype._getWidestLabel=function(e){var t=0;var i=e.length;var a=[];var r=this._name==="valueAxis2"?this._runtime.statusManager().get("globalDomain2"):this._runtime.statusManager().get("globalDomain");if(r){a=this._getOriginalDomainMinMaxSize(r)}for(var o=0;o<i;++o){if(t<e[o].width){t=e[o].width}}a.forEach(function(e){if(t<e.width){t=e.width}});return t};b.prototype._getHighestLabel=function(e){var t=0;var i=e.length;for(var a=0;a<i;++a){if(t<e[a].height){t=e[a].height}}return t};b.prototype._filterLabels=function(e,t){var i=this._runtime.propertyManager().get("plotArea.adjustScale");var a=[];var r;var o=this._data.getDomain();var n=false;if(i&&!t&&this._data.getDomainChanged()){var l=this.runtime().statusManager();var u=function(e,t){if(e&&t){if(e[0]>=0&&t[0]<0){n=true}}};if(this.getName()==="valueAxis"){r=l.get("valueAxisScaleDomain");u(r,o)}else if(this.getName()==="valueAxis2"){r=l.get("valueAxis2ScaleDomain");u(r,o)}}if(e.length>0){var c=e.length;if((e[0].value<0||e[c-1].value<0)&&(e[0].value>0||e[c-1].value>0)){var h=[];var p=[];for(var d=0;d<e.length;d++){if(e[d].value<=0){h.push(e[d])}if(e[d].value>=0){p.push(e[d])}}var f;var v=h.length;if(h[0].value<=h[v-1].value){f=h[0]}else{f=h[v-1]}var g;var m=p.length;if(p[0].value<=p[m-1].value){g=p[m-1]}else{g=p[0]}h=s.calculateLabelsToDrawHelper(h,false);p=s.calculateLabelsToDrawHelper(p,false);if(h[0].value>h[h.length-1].value){h.reverse()}if(p[0].value>p[p.length-1].value){p.reverse()}if(h[h.length-1].value===0&&p[0].value===0){h.pop()}var y=h.concat(p);if(f.value!==y[0].value){y.splice(0,0,f)}if(g.value!==y[y.length-1].value){y.push(g)}if(y[0].start>y[y.length-1].start){y.reverse()}a=s.calculateLabelsToDrawHelper(y,n)}else{a=s.calculateLabelsToDrawHelper(e,false)}if(a.length<=1||a.length===2&&s.isOverLapped(a[0],a[1])){a=[]}}var _=function(e,t,i,a){if(e&&t){var r=i.length;var o=a?0:r-1;for(;a?o<i.length:o>0;a?o++:o--){if(i[o].value<0){i[o].text=""}else{break}}}};if(n){if(this.getName()==="valueAxis"){_(r,o,a,this._position==="left"?false:true)}else if(this.getName()==="valueAxis2"){_(r,o,a,false)}}return a};b.prototype.destroy=function(){b.superclass.destroy.call(this);this._isPercentageMode=null;this._tickGroupNode=null;this._labelGroupNode=null};return b});define("sap/viz/chart/components/axis/ValueAxis",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments);this.setChild("axisBody",new i(e,t),{order:1,priority:2,offset:0});var a=this;var r,n,l,s,u,c;if(this._name==="valueAxis"){u="primaryScale"}if(this._name==="valueAxis2"){u="secondaryScale"}r="plotArea."+u+".autoMinValue";n="plotArea."+u+".autoMaxValue";l="plotArea."+u+".minValue";s="plotArea."+u+".maxValue";c="plotArea."+u+".fixedRange";this._properties.origin.add(r,{defaultValue:[],serializable:false,get:function(){return a._scale?a._scale.getAutoDomain()?a._scale.getAutoDomain()[0]:a._scale.getDomain()[0]:undefined}});this._properties.origin.add(n,{defaultValue:[],serializable:false,get:function(){return a._scale?a._scale.getAutoDomain()?a._scale.getAutoDomain()[1]:a._scale.getDomain()[1]:undefined}});this._properties.origin.add(l,{defaultValue:[],serializable:false,get:function(){if(a._scale&&a._scale.getDomainFixed()[0]){return a._scale.getDomain()[0]}return null}});this._properties.origin.add(s,{defaultValue:[],serializable:false,get:function(){if(a._scale&&a._scale.getDomainFixed()[1]){return a._scale.getDomain()[1]}return null}});this._properties.origin.add(c,{defaultValue:[],serializable:false,get:function(){if(a._scale&&a._scale.getDomainFixed()){var e=a._scale.getDomainFixed();var t=e[0];var i=e[1];if(!t&&!i){return false}return true}return false}})};e.extend(o,t);o.prototype.setPercentageMode=function(e){this.getChild("axisBody").module.setPercentageMode(!!e);return this};o.prototype.getMaxZoomRatio=function(){var e=this._scale.getTickHint();if(e>=1){return e}else{return Number.MAX_VALUE}};o.prototype.setScale=function(e){if(e.scale){this._scale=new a(e.scale.getDomain(),[0,1],e.scale.getDomainFixed(),{maximizedDomain:e.scale.maximizedDomain});this._scale.setDomainChanged(e.scale.getDomainChanged());this._scale.setZeroAdjusted(e.scale.getZeroAdjusted());var t=true;if(this._properties.has("label.allowDecimals")){t=this._properties.get("label.allowDecimals")}this._scale.setAllowDecimals(t)}};o.prototype.setData=function(e,t){this._noReLayout=t;o.superclass.setData.apply(this,arguments);this.setScale(e);if(e.scale){this._scale.setAutoDomain(e.scale.getAutoDomain());this._scale.setTickHint(e.tickHint)}};o.prototype.getPadding=function(e){var t=this.getChild("axisBody");if(!t||!e){return{start:0,end:0}}return t.module.getPadding(e)};o.prototype._updateData=function(e){o.superclass._updateData.apply(this,arguments);if(this._scale){if(this._isVertical()){var t=this._properties.get("layout.direction");if(t==="topDown"){this._scale.setRange([0,e.height])}else{this._scale.setRange([e.height,0])}}else{this._scale.setRange([0,e.width])}}this.getChild("axisBody").module.setData(this._scale,this._noReLayout)};o.prototype._setPercentageTitle=function(e){var t;if(this._runtime&&this._runtime._interaction&&this._runtime._interaction._chartType){t=this._runtime._interaction._chartType}if(t&&t.indexOf("100")>-1){e=e+r.CSS.CLASS.AXIS.LABEL_PERCENTAGE}return e};o.prototype._constructTitle=function(e,t){var i=e.map(function(e){return e.name||e.id}).join(" & ");i=this._setPercentageTitle(i);var a={};a.isHidden=false;a.text=i;t.push(a);return i};o.prototype.destroy=function(){o.superclass.destroy.call(this);this._scale=null};o.prototype.supportFixedLayout=true;return o});define("sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/RuleUtil","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d){var f=e.CSS.CLASS.AXIS;var v="categorylabel-id";var g=5;var m=6;var y=90;var _="#B3B3B3";var A=g+m-1;function b(e,t){var i=0;for(var a=0;a<t;++a){i+=e[a].layerBand}return i}var x=function(t){var r=-1;if(t.position===e.POSITION.TOP||t.position===e.POSITION.BOTTOM){if(t.rotated){r=t.size.height;if(t.rotationAngle!==y){var o=t.styles;var n=a.canvasMeasure(t.text,o.fontSize,o.fontWeight,o.fontFamily).height;n=i.preciseSimple(n);var l=n/Math.tan(t.rotationAngle*Math.PI/180);r=r/Math.sin(t.rotationAngle*Math.PI/180);r-=l;var s=t.cellWidth/2+t.cellStart+(t.additionalWidth?t.additionalWidth:0);var u=s/Math.cos(t.rotationAngle*Math.PI/180);if(r>u){r=u}r+=A}}else{r=t.size.width+A}}else{r=t.size.width}if(r>=0){r-=A}return r};var S=function(){this.defaultCategoryLabelRenderer=n;this._noEllipsis=false};S.prototype.drawLines=function(e,t,i,a,r,n,l,s){o.drawLines(e,i,a,r,n,l,s)};function D(e,t,i){var a=e.length;var r=t[a-1].length;var o=e.slice().reverse();var n=new Array(r);for(var l=0;l<r;++l){var s=a-1;var u=t[s][l];while(s>0&&t[s-1].indexOf(u)>-1){s--}s=a-s;var c=s>1;var h=!i||c?b(o,s):g;n[l]={length:h,isLongTick:c}}return n}S.prototype.drawTicks=function(e,t,i,a,r,n,l,s){if(!t.length||!i.length){return}var u=a.width;var c=a.height;var h=n.axisTick.shortTickVisible;var p=n.axisTick.visible;var d=T(i,a,r);var f=t.length;var v=D(t,d,true);var g;if(f===1){g=d[0]}else{g=d[d.length-1]}if(h===false&&p||h===true&&!p){var m;for(m=v.length-1;m>=0;m--){if(p&&!v[m].isLongTick||!p&&v[m].isLongTick){g.splice(m,1);v.splice(m,1)}}}if(f===1){if(h||p){var y=s||this._isForceDrawTicks(d,i);o.drawTicks(e,g,u,c,r,n,l,y)}}else if(f>1){this._drawTicks(e,g,u,c,r,v,n,l,n.axisLine.size)}};S.prototype._isForceDrawTicks=function(e,t){return e[0].length<t[0].length};S.prototype._forceLabelRectRotation=function(){return false};S.prototype._drawTicks=function(t,a,r,o,n,l,s,u,c){var h=f.PERIMETER;var p=h+" "+f.TICK;var d=h+" "+f.LONGTICK;var v=u.register({fillColor:s.color});var g=0,m=a.length;var y=[],_=[],A=[],b=[];switch(n){case e.POSITION.LEFT:for(;g<m;++g){y[g]=r;_[g]=a[g];A[g]=r-l[g].length;b[g]=a[g]}break;case e.POSITION.RIGHT:for(;g<m;++g){y[g]=0;_[g]=a[g];A[g]=l[g].length;b[g]=a[g]}break;case e.POSITION.TOP:for(;g<m;++g){y[g]=a[g];_[g]=o;A[g]=a[g];b[g]=o-l[g].length}break;case e.POSITION.BOTTOM:for(;g<m;++g){y[g]=a[g];_[g]=0;A[g]=a[g];b[g]=l[g].length}break}var x=t.selectAll("."+h).data(a);x.enter().append("line").each(function(e,t){var i=p;if(l[t].isLongTick){i=d}this.setAttribute("class",i);this.setAttribute("stroke",v);this.setAttribute("stroke-width",c);this.setAttribute("shape-rendering","crispEdges")});x.exit().remove();x.each(function(e,t){this.setAttribute("x1",i.preciseSimple(y[t]));this.setAttribute("y1",i.preciseSimple(_[t]));this.setAttribute("x2",i.preciseSimple(A[t]));this.setAttribute("y2",i.preciseSimple(b[t]))})};S.prototype.drawGridTicks=function(e,t,i,a,r,o,n,l){var s=t.length;if(s===0){return}var u=D(t,i);this._drawTicks(e,i[i.length-1],a,r,o,u,n,l,n.size)};S.prototype.drawLabels=function(e,t,i,a,r,o,n,l,s,u){var c=t.slice().reverse();var h=c.length;var p=0;var d=0;for(;d<h;++d){p=b(c,d);this.drawSingleLayerLabels(e,c[d],i,a,r,p,d,c,o,n,l,s,u)}while(e.select(".index_"+d).node()){e.selectAll(".index_"+d).remove();++d}};var w=function(e,t,i,a){var r=2;var o=parseFloat(e.getAttribute("x"));var n=parseFloat(e.getAttribute("y"));var l=parseFloat(e.getAttribute("width"));var s=parseFloat(e.getAttribute("height"));e.setAttribute("width",l+2*r);e.setAttribute("height",s+2*r);var u=i;var c=a;var h=Math.sqrt(2)*r;var p;if(t===y/2){c=a-h}else if(t<y/2){p=2*y-(y-t)-y/2;c=a-h*Math.sin(p*Math.PI/180);u=i+h*Math.cos(p*Math.PI/180)}else{p=y-t+y/2;c=a-h*Math.sin(p*Math.PI/180);u=i-h*Math.cos(p*Math.PI/180)}return"translate("+u+","+c+")"};S.prototype._setLabelRectSize=function(e,t,i){if(e&&t){e.setAttribute("width",t.width);e.setAttribute("height",t.height)}};function C(t,a){var r=t.windowSize||t;var o=0,n=0;if(t.positionInWindow){o=t.positionInWindow.x;n=t.positionInWindow.y}var l=r.width,s=r.height,u=t.offset;var c,h;switch(a){case e.POSITION.LEFT:case e.POSITION.RIGHT:c=-u.y-n;h=s+c;break;default:c=-u.x-o;h=l+c;break}return{min:i.preciseSimple(c)-1e-4,max:i.preciseSimple(h)+1e-4}}function T(e,i,a){var r=C(i,a);var o=[];for(var n=0,l=e.length;n<l;n++){var s=e[n];var u=t.bisearch(s,r.min);var c=t.bisearch(s,r.max);o.push(s.slice(u,c+1))}return o}function z(e,t,i,a,r,o){var n=C(t,i);var l=[];for(var s=0,u=e.length;s<u;s++){var c=e[s];var h=r&&!o&&a&&c.middle<n.min;if(!h&&c.cellStart<=n.max&&c.cellEnd>=n.min){l.push(c)}}return l}var L=f.LABEL+" "+f.MORPHABLE_LABEL+" "+f.LABEL_BACKWORD+" "+f.LABEL_SELECTION;S.prototype._createLabelStyle=function(e,t){this._propStyle=t.style;this._propParentStyle=c.buildParentStyle(t.style,t.parentStyle)};S.prototype._getLabelStyle=function(e,t){var i=d.clone(this._propStyle);if(t){i=d.clone(this._propParentStyle)}return i};var P=3;var k=3;var E=24;S.prototype.drawSingleLayerLabels=function(e,t,o,u,c,p,d,_,A,b,S,D,C){var T=v;var k=o.width;var O=o.realSize&&o.realSize.width;var R=o.height;var N=c.labelRenderer;var M=true;if(!r.isFunction(N)){N=this.defaultCategoryLabelRenderer;M=false}var B=t.onlyKeepFirstAndLast;this._createLabelStyle(A,c.label);var V=this._getLabelStyle(null,t.isParentLayer);var F=A.register({fillColor:V.color});var H=[],U=t.rotated,W=s.isVertical(u);var G,Y,X;for(G=0,Y=t.cells.length;G<Y;++G){var j=t.cells[G];if(j.isVisible){j._cellIndex=G;H.push(j);if(C!==false){j.cellStart=i.round(j.cellStart);j.cellEnd=i.round(j.cellEnd);j.cellWidth=i.round(j.cellWidth);j.end=i.round(j.end);j.middle=i.round(j.middle);j.start=i.round(j.start)}}}X=_.length===1?m:g;this._setLabelParameters(H,u,p,k,R,X,t);var Z=false;if(B){H.forEach(function(e,t){e.textBiggerThanCell=e._preferredSize.textSize&&e._preferredSize.textSize.width>e.cellWidth;if(e.textBiggerThanCell){e.alignMode=e.isFirstLabel?"ALIGIN_LEFT_MOST":"ALIGIN_RIGHT_MOST"}});var q,K;if(H.length===2&&(H[0].textBiggerThanCell||H[1].textBiggerThanCell)){var Q=H[0]._preferredSize.textSize.width;var $=H[1]._preferredSize.textSize.width;var J=H[0].textBiggerThanCell?Q:H[0].middle+Q/2;var ee=H[1].textBiggerThanCell?O-$:H[1].middle-$/2;var te=ee-E;if(J>te){if(H[0].text.length>P){q=H[0].text.slice(0,P)+"...";K=I(q,V);var ie=H[0].textBiggerThanCell?K:H[0].middle+K/2;if(K>te){H=[H[1]]}else{if(H[0].textBiggerThanCell){Z=te}else{Z=Math.max((te-H[0].middle)*2,0)}if(Z<K){H=[H[1]]}}}else{H=[H[1]]}}}if(H.length===1&&H[0].textBiggerThanCell&&H[0]._preferredSize.textSize.width>O){if(H[0].text.length>P){q=H[0].text.slice(0,P)+"...";K=I(q,V);if(K>O){H=[]}}else{H=[]}}}else{H=z(H,o,u,_.length===1,U,W)}var ae=W?"cellHeight":"cellWidth";var re={cellStart:null,cellWidth:null,size:null,text:null,ctx:null,childCells:null,position:u,rotated:U,rotationAngle:t.rotationAngle,styles:null,needRowAxisOffset:b,labelOffset:S,additionalWidth:D,reverseDots:c.reverseDots,wrap:t.wrap,noEllipsis:!!this._noEllipsis};var oe=this;var ne=e.selectAll(".index_"+d).data(H);ne.enter().append("g").each(function(e,i){var a=oe._getLabelStyle(e,t.isParentLayer);this.setAttribute("class",L+" index_"+d);this.setAttribute("fill",F);this.setAttribute("font-size",a.fontSize);this.setAttribute("font-weight",a.fontWeight);this.setAttribute("font-family",a.fontFamily);this.setAttribute("font-style",a.fontStyle)});ne.exit().remove();var le=this._forceLabelRectRotation();ne.each(function(e,o){var s=oe._getLabelStyle(e,t.isParentLayer);var u=s.fontSize;var p=s.fontWeight;var v=s.fontFamily;var m=s.fontStyle;re.styles=s;this.setAttribute(T,e.id);this.setAttribute("transform","translate("+e.x+","+e.y+")");var b=e._preferredSize;var S=Math.max(e[ae],b[ae]);re.size=W?{width:e.cellWidth,height:S}:{width:S,height:e.cellHeight};re.cellStart=e.cellStart;re.cellWidth=e.cellWidth;re.text=e.text;re.ctx=e.ctx;var D=false;if(_[d-1]&&_[d-1].isVisible){D=true}if(_.length>1&&D){re.childCells=_[d].cells[e._cellIndex].children}re.unfilteredFirstChild=e.children&&e.children[0];var C;if(B){if(e.isFirstLabel&&Z!==false){C=Z}else{C=O}}else{C=x(re)}re.sizeLimit=C;re.cell=e;re.labelAlignment="top";if(c.label.alignment==="center"){re.labelAlignment=c.label.alignment}var z=I(e.text,s);var L=0;if(e.text.length>1){L=I(e.text[0]+"...",s)}var P=null;if(C>=Math.min(L,z)){P=this.querySelector("."+f.BACKGROUND_RECT);if(!P){P=l.create("rect");P.setAttribute("class",f.BACKGROUND_RECT);P.setAttribute("fill","transparent");this.appendChild(P)}else if(B){P.setAttribute("fill","transparent")}P.setAttribute("x",e.rectX);P.setAttribute("y",e.rectY)}if(e.alignMode){re.alignMode=e.alignMode}else{delete re.alignMode}var k=this.querySelector(".v-axis-label-wrapper");var E=null;if(k&&r.isFunction(N.update)){if(k.childNodes&&k.childNodes.length>0){E=k.childNodes[0]}N.update(k.firstChild,re,n.expose)}else{E=N(re,n.expose);if(E===undefined){E=oe.defaultCategoryLabelRenderer(re)}if(E){if(k){k.parentNode.removeChild(k)}k=l.create("g");k.setAttribute("class","v-axis-label-wrapper");k.appendChild(E);this.appendChild(k)}}F=A.register({fillColor:re.styles.color});this.setAttribute("fill",F);this.setAttribute("font-size",re.styles.fontSize);this.setAttribute("font-weight",re.styles.fontWeight);this.setAttribute("font-family",re.styles.fontFamily);this.setAttribute("font-style",re.styles.fontStyle);if(!M&&c.textAnchor){E.setAttribute("text-anchor",c.textAnchor)}if(P){var R;if(oe.labelRectSizeNeedTextNodeSize){if(E){var V=h.getBBox(E);if(le&&U){R={width:V.height,height:V.width}}else{R=V}}}var H={width:le&&U?e.rectHeight:e.rectWidth,height:le&&U?e.rectWidth:e.rectHeight};oe._setLabelRectSize(P,H,R);var G,Y,X;if(t.rotated&&t.rotationAngle!==y&&t.rotationAngle!==0){if(e.isEventRectLimited){G=a.canvasMeasure(e.text,u,p,v);Y=i.preciseSimple(G.height);X=i.preciseSimple(G.width);var j=Math.min(C,X);P.setAttribute("width",Y);P.setAttribute("height",j);var q=Y/4*Math.sin(re.rotationAngle*Math.PI/180);var K=w(P,re.rotationAngle,-q,g);var Q="rotate("+(90-re.rotationAngle)+","+e.rectX+","+e.rectY+") ";P.setAttribute("transform",K+" "+Q)}else{P.setAttribute("transform","skewX(-"+(90-t.rotationAngle)+")");var $=e.contentWidth*3;if($<e.cellWidth){P.setAttribute("width",$);P.setAttribute("x",e.rectX+e.cellWidth/2-$/2)}}}else{P.removeAttribute("transform")}}if(k){this._cellIndex=e._cellIndex;var J=e[ae]-b[ae];if(J<0){k.setAttribute("transform","translate("+(W?"0, "+J/2:J/2+",0")+")")}else{k.removeAttribute("transform")}}})};var I=function(e,t){var r=a.canvasMeasure(e,t["fontSize"],t["fontWeight"],t["fontFamily"]).width;r=i.preciseSimple(r);return r};function O(e,t,i){if(!e||t<1||!e.length||!e[0].cells.length){return null}var a=[];var r=e[0].cells[0].layer;var o=e[t].cells[i];if(o.children){var n=o.children.slice();while(n.length){var l=n.shift();if(l.layer<r){n=n.concat(l.children)}else if(l.layer===r){a.push(l)}}}return a}S.prototype._setLabelParameters=function(t,i,a,r,o,n,l){var s=0,u=t.length,c;switch(i){case e.POSITION.LEFT:for(s=0;s<u;++s){c=t[s];c.x=r-a-c.cellWidth;c.y=c.cellStart}break;case e.POSITION.RIGHT:for(s=0;s<u;++s){c=t[s];c.x=a;c.y=c.cellStart}break;case e.POSITION.TOP:for(s=0;s<u;++s){c=t[s];c.x=c.cellStart;c.y=o-a-c.cellHeight}break;case e.POSITION.BOTTOM:for(s=0;s<u;++s){c=t[s];c.x=c.cellStart;c.y=a}break}for(s=0;s<u;++s){var h=false;switch(i){case e.POSITION.LEFT:case e.POSITION.RIGHT:if(t[s].cellHeight-2<t[s].contentHeight){h=true}break;case e.POSITION.TOP:case e.POSITION.BOTTOM:if(!l.rotated||l.rotationAngle===0){h=false}else{if(t[s].cellWidth-2<t[s].contentWidth){h=true}if(l.rotated&&l.rotationAngle!==y&&t[s].cellWidth<t[s].contentWidth*3){h=true}}break}c=t[s];if(h){switch(i){case e.POSITION.LEFT:c.rectX=c.cellWidth-c.contentWidth-n;c.rectY=(c.cellHeight-c.contentHeight)/2;c.rectWidth=c.contentWidth;c.rectHeight=c.contentHeight;break;case e.POSITION.RIGHT:c.rectX=n;c.rectY=(c.cellHeight-c.contentHeight)/2;c.rectWidth=c.contentWidth;c.rectHeight=c.contentHeight;break;case e.POSITION.TOP:c.rectX=(c.cellWidth-c.contentWidth)/2;c.rectWidth=c.contentWidth;c.rectHeight=c.contentHeight;c.rectY=c.cellHeight-c.contentHeight-n;break;case e.POSITION.BOTTOM:c.rectX=(c.cellWidth-c.contentWidth)/2;c.rectY=n;c.rectWidth=c.contentWidth;c.rectHeight=c.contentHeight;break}if(i===e.POSITION.BOTTOM||i===e.POSITION.TOP){if(l.rotated&&l.rotationAngle!==y){t[s].rectY=0;t[s].rectX=c.cellWidth/2}}}else{c.rectX=1;c.rectY=1;c.rectWidth=c.cellWidth-2<0?0:c.cellWidth-2;c.rectHeight=c.cellHeight-2<0?0:c.cellHeight-2}c.isEventRectLimited=h}};return S});define("sap/viz/chart/components/axis/sub/OrdinalCommonAxisBody",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/StatusConstants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/chart/components/util/BuildLayerUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h,p){var d="in";var f=e.CSS.CLASS.AXIS;var v=90;var g=3;var m=function(){m.superclass.constructor.apply(this,arguments);this._layers=null;this._domainChanged=true;this._rawLayers=null;this._bindingFieldIds=null;this._hasNegativeValue=false;this._styleChanged=true;this._localeChanged=true;this._labelOffset=5;var e=function(){this._styleChanged=true};["fontFamily","fontSize","fontWeight","fontStyle"].forEach(function(t){this[t+"PW"]=this._properties.watch("label.style."+t,e.bind(this));this[t+"ParentPW"]=this._properties.watch("label.parentStyle."+t,e.bind(this))},this);this._isInTrellis=false;this._tickGroupNode=null;this._labelGroupNode=null;this._offset={x:0,y:0};this._cellDict={};this._bodyRenderer=new s;this._deltaBound=null;this._otherSize=null;this._buildUtils=p;this._selection=null};i.extend(m,a);m.prototype.setBuildLayerUtil=function(e){this._buildUtils=e};m.prototype.setBodyRenderer=function(e){if(e){this._bodyRenderer=e}};m.prototype.setData=function(e){var t=this._data;if(!t){this._domainChanged=true}else{var i=t.getDomain();var a=e.getDomain();if(i!==a&&JSON.stringify(i())!==JSON.stringify(a())){this._domainChanged=true}}return m.superclass.setData.apply(this,arguments)};m.prototype.setInTrellis=function(e){this._isInTrellis=e};m.prototype.isFlexibleLayers=function(e){var t=false;if(!this._isInTrellis&&this._rawLayers){if(this._rawLayers.length>1){t=true}}return t};m.prototype.isAllowEmptySegement=function(){var e=false;if(this._properties){var t=this._properties.get("labelRenderer");if(t&&t!==h){if(t.isAllowEmptySegement&&o.isFunction(t.isAllowEmptySegement)){e=t.isAllowEmptySegement()}else{e=true}}}return e};m.prototype.setBindingFields=function(e){var t=e.map(function(e){return e.id});if(JSON.stringify(this._bindingFieldIds)!==JSON.stringify(t)){this._domainChanged=true}this._bindingFieldIds=t;this._bindingFields=e;return this};m.prototype.setHasNegativeValue=function(e){this._hasNegativeValue=!!e;return this};m.prototype.getAdditionalWidth=function(){var e=[this._otherSize.valueAxis,this._otherSize.categoryAxis2,this._otherSize.leftCallouts];var t=0;for(var i=0;i<e.length;i++){if(e[i]&&e[i].width>0){t=e[i].width;break}}return t};m.prototype.update=function(){this._update(true);var e=0;if(this._needExtened()&&this._otherSize){e=this.getAdditionalWidth()}var t=this._selection.select(".v-clippath rect");t.attr("width",this._size.width+2+e).attr("x",-1-e)};m.prototype._update=function(e){if(!this._tickGroupNode&&!this._labelGroupNode){return}var t=this._properties.get();if(this._data&&t.visible){var i=this._size.width;var a=this._size.height;var r=this._position;if(e){this._layers=this._buildLayers(this._data);this.layout()}var o=this._getAvailableLayers();var n=o.length>0?o:this._layers;if(this._isSpaceEnough()){var l={width:i,height:a,offset:this._offset,windowSize:this._windowSize,positionInWindow:this._positionInWindow,realSize:this._realSize};if(t.axisTick&&(t.axisTick.visible||t.axisTick.shortTickVisible)){if(e){this._ticks=this._getTicks(n)}var s=this._ticks;this._bodyRenderer.drawTicks(this._tickGroupNode,n,s,l,r,t,this.runtime().effectManager(),this._froce)}if(t.label&&t.label.visible){this._renderLabels(t,o,l,r,e)}}}};m.prototype.setVisibleWindow=function(e,t){this._windowSize=e;this._positionInWindow=t;this._update(false)};m.prototype.scroll=function(e){c.setTransform(this,e);this._offset.x=e.x;this._offset.y=e.y;this._update(false)};m.prototype.render=function(e){this._selection=e;e.select("g."+f.LINE_GROUP).remove();e.select("g."+f.TICK_GROUP).remove();e.select("g."+f.LABEL_GROUP).remove();var t=0;if(this._needExtened()&&this._otherSize){t=this.getAdditionalWidth()}var i=u.drawClippath(d3.select(e.node()),this._size.width+2+t,this._size.height+2,-1-t,-1);e.attr("clip-path","url(#"+i+")");var a=this._properties.get();if(this._data&&a.visible){var r=this._size.width;var o=this._size.height;var n=this._position;var l=this._getAvailableLayers();if(this._isSpaceEnough()){var s=this.runtime().effectManager();var h={width:r,height:o,offset:this._offset,windowSize:this._windowSize,positionInWindow:this._positionInWindow,realSize:this._realSize};this._drawTicks(l,r,o,n,a,e,s,h);var p=this._properties.origin;if(this._hasNegativeValue===true&&p.get("plotArea.gridline.zeroLine.unhighlightAxis")===true){a.color=p.get("plotArea.gridline.color")}this._drawAxisLine(l,r,o,n,a,e,s);if(a.label&&a.label.visible){this._labelGroupNode=e.append("g").attr("class",f.LABEL_GROUP);this._renderLabels(a,l,h,n)}}}if(this._offset.x||this._offset.y){c.setTransform(this,this._offset)}};m.prototype._renderLabels=function(e,t,i,a,r){var o=this.runtime().envManager();if(o){e.textAnchor=o.textAnchor();e.reverseDots=o.reverseDots()}this._bodyRenderer.drawLabels(this._labelGroupNode,t,i,a,e,this.runtime().effectManager(),this._needRowAxisOffset(),this._labelOffset,this._needExtened()?this.getAdditionalWidth():0,r);if(this._bodyRenderer&&this._bodyRenderer.applyLabelStyle){this._bodyRenderer.applyLabelStyle(this._labelGroupNode)}};m.prototype._drawAxisLine=function(e,t,i,a,r,o,n){var l;if(r.axisLine&&r.axisLine.visible){l=o.append("g").attr("class",f.LINE_GROUP);var s=this._isVertical()?i:t;var u=[0,s];var c=this._bodyRenderer.drawLines(l,e,u,t,i,a,r,n)}return l};m.prototype._drawTicks=function(e,t,i,a,r,o,n,l){var s=this._ticks=this._getTicks(e);if(r.axisTick&&(r.axisTick.visible||r.axisTick.shortTickVisible)){this._tickGroupNode=o.append("g").attr("class",f.TICK_GROUP);this._bodyRenderer.drawTicks(this._tickGroupNode,e,s,l,a,r,n,this._froce)}};m.prototype.getPreferredSize=function(t){var i;if(this._data&&this._properties.get("visible")){i=this._layers=this._buildLayers(this._data,t)}var a={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{interval:0,type:e.SPACING_TYPE.STEP}]};if(this._isVertical()){a.minWidth=a.maxWidth=.1}else{a.minHeight=a.maxHeight=.1}if(i){var o=this._data.getRange();var n=Math.abs(o[0]-o[1]);var l=this._isVertical()?"height":"width";n*=this._realSize[l];var s=t?t[l]:this._size[l]||n;var u,c=i.length;var h,p,d,f;if(c){d=a.spacings=[];for(u=0;u<c;++u){f=i[u];if(this.isFlexibleLayers()){var v={};if(!f.maxLayerBand&&!f.minLayerBand&&!f.niceLayerBand){v.maxLayerBand=0;v.minLayerBand=0;v.niceLayerBand=0}else{v.maxLayerBand=f.maxLayerBand;v.minLayerBand=f.minLayerBand;v.niceLayerBand=f.niceLayerBand}d.push(v)}else{if(u===0&&f.minLayerBand<f.layerBand){d.push({interval:f.minLayerBand,type:e.SPACING_TYPE.STEP});d.push({interval:f.layerBand-f.minLayerBand,type:e.SPACING_TYPE.RANGE})}else{d.push({interval:f.layerBand,type:e.SPACING_TYPE.STEP})}}}h=this._getMinLayersSize(d);var g=t&&t[this._isVertical()?"width":"height"];if(this.isFlexibleLayers()){p=this._buildUtils.flexibleLayoutLayers(d,this._isVertical(),g,this.isAllowEmptySegement())}else{p=this._getMaxLayersSize(d,g)}if(this._isVertical()){a.minWidth=h;a.maxWidth=p;a.minHeight=s;a.maxHeight=s}else{a.minWidth=s;a.maxWidth=s;a.minHeight=h;a.maxHeight=p}}}var m=r.preciseObject(a);this._updatePfdSize(m);return m};m.prototype.destroy=function(){["fontFamily","fontSize","fontWeight","fontStyle"].forEach(function(e){if(this[e+"PW"]==null){return}this[e+"PW"].remove();this[e+"PW"]=null;if(this[e+"ParentPW"]==null){return}this[e+"ParentPW"].remove();this[e+"ParentPW"]=null},this);m.superclass.destroy.apply(this,arguments);this._layers=null;this._rawLayers=null;this._bindingFieldIds=null;this._bindingFields=null;this._domainChanged=null;this._hasNegativeValue=null;this._styleChanged=null;this._tickGroupNode=null;this._labelGroupNode=null;this._cellDict=null;this._otherSize=null;this._deltaBound=null;this._selection=null};m.prototype._getMinLayersSize=function(e){var t=e[0].interval;if(this.isFlexibleLayers()){t=e[0].minLayerBand}return t};m.prototype._getMaxLayersSize=function(t,i){var a=0;for(var r=0,o=t.length;r<o;++r){if(typeof i!=="number"||a+t[r].interval<=i){a+=t[r].interval}else{if(t[r].type===e.SPACING_TYPE.RANGE){a=Math.min(a+t[r].interval,i)}break}}return a};m.prototype._getTicks=function(e){var t=[];var i=this._isVertical()?"cellHeight":"cellWidth";var a=e.length;for(var o=0;o<a;++o){var n=0;var l=e[o].cells;var s=l.length;var u=new Array(s+1);u[0]=0;for(var c=0;c<s;++c){n+=l[c][i];u[c+1]=a===1?n:r.preciseSimple(n)}t.push(u)}return t};m.prototype.getAvailableLayersNumber=function(){var e=this._getAvailableLayers();return e.length};m.prototype._getAvailableLayers=function(){var e;if(this._isVertical()){e=r.preciseSimple(this._realSize.width)}else{e=r.preciseSimple(this._realSize.height)}var t=this._layers;var i;var a=[];if(this.isFlexibleLayers()){this._buildUtils.flexibleLayoutLayers(t,this._isVertical(),e,this.isAllowEmptySegement());for(var o=0;o<t.length;o++){if(t[o].layerBand>0&&t[o].isVisible){a.push(t[o])}}}else{if(t){for(var n=0,l=t.length;n<l;++n){i=t[n];e-=i.layerBand;e=r.preciseSimple(e);if(e<0){if(n===0&&r.preciseSimple(e+i.layerBand-i.minLayerBand)>=0){a.push(i)}break}else{a.push(i)}}}}this._availableLayers=a;return a};m.prototype.getActiveLevels=function(){return this._availableLayers};m.prototype.getCellPosition=function(e){var t=this._cellDict[e];return{x:t.x,y:t.y,width:t.cellWidth,height:t.cellHeight}};m.prototype._getCellsRange=function(e){return e.getRangeInterval()};m.prototype.getLayoutCellsConfig=function(){var e={};if(this._properties){var t=this._properties;var i=t.get("label.style");var a=n.buildParentStyle(i,t.get("label.parentStyle"));e={propStyle:i,propParentStyle:a,isSetParentStyleProp:!!t.get("label.parentStyle"),labelVisible:t.get("label.visible"),truncatedLabelRatioSetting:parseFloat(t.get("label.truncatedLabelRatio")),autoRotateSetting:t.get("label.rotation"),labelRenderer:t.get("labelRenderer"),defaultRotationAngle:parseInt(t.getDefault("label.angle")),rotationAngleSetting:parseInt(t.get("label.angle")),checkLabelVisible:true,labelOverlapBehavior:t.get("label.overlapBehavior")}}return e};m.prototype._getScaleDomain=function(e){return e.getDomain()};m.prototype.mayOnlyFirstAndLastLabel=function(e,t){return e.labelVisible&&e.autoRotateSetting==="auto"&&t===1&&!this._isVertical()&&this._options.name==="categoryAxis"&&!this._isInTrellis&&e.labelOverlapBehavior==="showFirstLastOnly"};m.prototype._buildLayers=function(e,t){var i=this.getLayoutCellsConfig();var a;if(this._domainChanged||this._styleChanged||this._localeChanged||this.mayOnlyFirstAndLastLabel(i,this._rawLayers.length)){this._domainChanged=false;this._styleChanged=false;this._localeChanged=false;a=this._buildUtils.mergeLabels(this,this._getScaleDomain(e),this._bindingFieldIds,i);this._rawLayers=this._buildUtils._filter(a,this._bindingFields);this._formatLayerLabel()}var r=this._isVertical()?"height":"width";var o=this._realSize[r];var n=this.runtime().statusManager().get("plotRealSize");if(n){o=Math.max(n[r]||0,o);this.runtime().statusManager().set("plotRealSize",null)}var l=this._rawLayers;this._buildUtils.assignCellSize(this,l,this._getCellsRange(e),o);var s=e.getRange();if(this._needExtened&&this._otherSize){i.otherSize=this._otherSize}if(this._options.name==="categoryAxis"&&this._isHorizontal()&&!this._isInTrellis&&l.length===1&&i.rotationAngleSetting===0){var u=this._getWrapText();if(u>1){i.wrap=u}}i.isFlexibleLayers=this.isFlexibleLayers();i.isAllowEmptySegement=this.isAllowEmptySegement();i.paginationOptions=this.paginationOptions();i.refSize=t;this._buildUtils.layoutCells(this,l,[0,s[1]*o],i);this._isOnlyShowingFirstAndLastLabel=false;if(this.mayOnlyFirstAndLastLabel(i,l.length)&&this.willHaveTruncationOrRotation(l)){delete i.wrap;a=this._buildUtils.mergeLabels(this,this._getScaleDomain(e),this._bindingFieldIds,i,true);this._rawLayers=this._buildUtils._filter(a,this._bindingFields);this._formatLayerLabel();this._buildUtils.layoutCells(this,l,[0,s[1]*o],i,true);this._isOnlyShowingFirstAndLastLabel=true}if(this.isFlexibleLayers()){this._buildUtils.flexibleLayoutLayers(l,this._isVertical(),Infinity,this.isAllowEmptySegement())}return this._buildUtils.getVisibleLayers(this,l)};m.prototype.isOnlyShowingFirstAndLastLabel=function(){return this._isOnlyShowingFirstAndLastLabel};m.prototype.willHaveTruncationOrRotation=function(e){var t=e[0];if(t.rotated){return true}var i=t.cells;var a,r;for(a=0;a<i.length;a++){r=i[a];if(r._preferredSize.textSize&&r._preferredSize.textSize.width>r.cellWidth){return true}}return false};m.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var t;if(e&&e.getPaginationOptions){t=e.getPaginationOptions()}return t};m.prototype._getWrapText=function(){var e=1;if(!this._isRTL()){e=parseInt(this._properties.get("label.linesOfWrap"));if(isNaN(e)||e<1){e=1}else if(e>g){e=g}}return e};m.prototype._formatLayerLabel=function(){};m.prototype.layout=function(){if(!(this._layers&&this._layers.length)){return}var e=this._isVertical()?this._size.width:this._size.height;var t=this._layers[0],i,a,r;if(e<t.layerBand&&e>=t.minLayerBand){i=t.cells;for(r=-1;++r<i.length;){a=i[r];if(this._isVertical()){if(a.cellWidth>0){a.cellWidth=e}}else{if(a.cellHeight>0){a.cellHeight=e}}}}};m.prototype._needRowAxisOffset=function(){return false};m.prototype.statusChanged=function(e){if(e===t.LOCALE_CHANGED){this._localeChanged=true}};m.prototype._needExtened=function(){var e=this._layers,t;var i=this._isVertical()?"height":"width";var a=this._realSize[i];if(e&&e.length>0){t=e[0].rotated&&e[0].rotationAngle!==v}else{t=false}return t};m.prototype.getLabelOffsetByCtx=function(e){if(!this._layers){this._layers=this._buildLayers(this._data)}var t=this._layers[this._layers.length-1];var i;t.cells.forEach(function(t){var a=true;for(var r in t.ctx){if(e[r]!==t.ctx[r]){a=false;break}}if(a){i=t.id}});if(i!==undefined){var a=this._cellDict[i];var r={start:a.cellStart,width:a.cellWidth,height:a.cellHeight};if(this._isHorizontal()){return{x:-(r.start+r.width-this.getSize().width)}}else{return{y:-(r.start+r.height-this.getSize().height)}}}else{return null}};return m});define("sap/viz/chart/components/axis/renderer/CategoryBodyRenderer",["sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer"],function(e){return e});define("sap/viz/chart/components/axis/sub/CategoryAxisBody",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/OrdinalCommonAxisBody","sap/viz/chart/components/axis/renderer/CategoryBodyRenderer","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/SVG"],function(e,t,i,a,r){var o=function(){o.superclass.constructor.apply(this,arguments);this.setBodyRenderer(new i);if(this._properties.has("layout.categoryWidth")){this._properties.set("layout.categoryWidth",function(){if(this._realSize.width>0&&this._data&&this._data._domain&&this._data._domain.length>0){return this._realSize.width/this._data._domain.length}else{return 0}}.bind(this),true,"get")}if(this._properties.has("layout.offsetToChart")){this._properties.set("layout.offsetToChart",function(){if(!this._selection){return 0}var e=this._selection.node();while(!a.hasClass(e,"v-m-root")&&!a.hasClass(e,"v-m-categoryAxis")){e=e.parentNode}if(a.hasClass(e,"v-m-categoryAxis")){var t=r.getTransformToElement(e,e.ownerSVGElement);if(t){return t.e}}else{return 0}}.bind(this),true,"get")}};e.extend(o,t);o.prototype._setOtherSize=function(e){this._otherSize=e;this._deltaBound={width:0,height:0,x:0,y:0};if(this._otherSize){var t=[this._otherSize.valueAxis,this._otherSize.categoryAxis2,this._otherSize.leftCallouts];for(var i=0;i<t.length;i++){if(t[i]&&t[i].width>0){this._deltaBound.width=t[i].width;this._deltaBound.x=-t[i].width}}}return this};return o});define("sap/viz/chart/components/accessibility/CategoryAxisNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,a){function r(e){r.superclass.constructor.apply(this,arguments);this._categoryLabels=[];if(a.isFunction(e.cells)){this._cells=e.cells}else{this._cells=this.layers2cells(e.cells)}}e.extend(r,t);var o=r.prototype;var n=function(e){if(!e.visibleSpace){var t=0;if(e.children&&e.children.length){var i;for(i=0;i<e.children.length;i++){if(e.children[i].isVisible===undefined||e.children[i].isVisible===true){t+=n(e.children[i])}}}if(t<=0){t=1}e.visibleSpace=t}return e.visibleSpace};o.layers2cells=function(e){var t=[];for(var i=0;i<e.length;++i){t[i]=[];var a=0,r=0;for(var o=0;o<e[i].cells.length;++o){if(e[i].cells[o].isVisible){var l=e[i].cells[o];var s=n(l);t[i].push(l);l.spaceStart=a;l.spaceEnd=a+s-1;a+=s;l.index={row:i,col:r++};this._categoryLabels[l.id]={};this._categoryLabels[l.id].index=l.index}}}return t};o.init=function(){};o.destroy=function(){r.superclass.destroy.apply(this,arguments);this._cells=null;this._categoryLabels=null};o.up=function(e){if(this.isSingleLayer()||!this._isVerticalRender){return this.getSiblingCell(e,-1)}else{return this.getFirstChildCell(e)}};o.down=function(e){if(this.isSingleLayer()||!this._isVerticalRender){return this.getSiblingCell(e,1)}else{return this.getParentCell(e)}};o.left=function(e){if(this.isSingleLayer()||this._isVerticalRender){return this.getSiblingCell(e,-1)}else{return this.getParentCell(e)}};o.right=function(e){if(this.isSingleLayer()||this._isVerticalRender){return this.getSiblingCell(e,1)}else{return this.getFirstChildCell(e)}};o.getCategoryLabelNode=function(e){return this._categoryLabels[e].cl};o.getCells=function(){if(a.isFunction(this._cells)){return this.layers2cells(this._cells())}else{return this._cells}};o.getCell=function(e){var t=this._categoryLabels[e].index;return this.getCells()[t.row][t.col]||null};o.getSiblingCell=function(e,t){var i=this._categoryLabels[e].index;var a=this.getCells()[i.row][i.col+t];return a?a:null};o.getFirstChildCell=function(e){var t=this._categoryLabels[e].index;var i=this.getCells()[t.row+1];if(!i){return null}var a=this.getCells()[t.row][t.col];var r;for(r=0;r<i.length;++r){if(a.spaceStart==i[r].spaceStart){return i[r]}}};o.getParentCell=function(e){var t=this._categoryLabels[e].index;var i=this.getCells()[t.row-1];if(!i){return null}var a=this.getCells()[t.row][t.col];var r;for(r=0;r<i.length;++r){if(a.spaceStart>=i[r].spaceStart&&a.spaceEnd<=i[r].spaceEnd){return i[r]}}};o.getFirstStartPoint=function(){var e=this.getCells();return e[e.length-1][0]};o.isSingleLayer=function(){return this.getCells().length==1?true:false};o.updateCells=function(e){this._categoryLabels=[];this._cells=this.layers2cells(e)};o.findCell=function(e,t){if(!e){return null}var a=this.getCells();for(var r,o=0,n=a.length;o<n;o++){for(var l=0,s=a[o].length;l<s;l++){r=this._cells[o][l];if(i.deepEqual(r.ctx,e)){return r}}}return null};return r});define("sap/viz/chart/components/axis/CategoryAxis",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/scales/CategoryScale","sap/viz/chart/components/axis/sub/CategoryAxisBody","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/CategoryAxisNavigator","sap/viz/chart/components/util/ChartConstants"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d){var f="measureNames";var v=function(e,t){v.superclass.constructor.apply(this,arguments);this._hasNegativeValue=null;this._isAxisBodyOptional=false;this._isInTrellis=false;this._needOtherSize=true;this._otherSize=null;this._setAxisBody(e,t)};t.extend(v,i);v.prototype.addARIATag=function(e){e.attr("role","listbox")};v.prototype._setAxisBody=function(e,t){this.setChild("axisBody",new r(e,t),{order:1,priority:2,offset:0})};v.prototype.setInTrellis=function(e){this._isInTrellis=e;this.getChild("axisBody").module.setInTrellis(e)};v.prototype.setData=function(e,t,i){v.superclass.setData.call(this,e);this._hasNegativeValue=t;if(e.scale){this._scale=e.scale}};v.prototype.isAxisBodyOptional=function(e){this._isAxisBodyOptional=e};v.prototype._getTitle=function(){var e=v.superclass._getTitle.call(this);if(this._isAxisBodyOptional){e.noNeedApplyHiddenTitleColor=true}return e};v.prototype.getMaxZoomRatio=function(){var e=Number.MAX_VALUE;if(this._scale&&this._scale.getRangeInterval().length){var t=this._scale.getRangeInterval();var i=Math.abs(t[0][0]-t[0][1]);e=1/i}return e};v.prototype.setVisibleWindow=function(e,t){var i=this.getChild("axisBody");if(i&&i.module){i.module.setVisibleWindow(e,t)}};v.prototype._updateData=function(e){v.superclass._updateData.apply(this,arguments);if(!this._scale){return}var t=this.getChild("axisBody").module;var i=t.getSize();var a=t.getSize();if(this._isVertical()){i.height=this._size.height;a.height=e.height}else{i.width=this._size.width;a.width=e.width}if(!this._isAxisBodyOptional){t.setSize(i).setRealSize(a).setData(this._scale).setBindingFields(this._bindingFields).setHasNegativeValue(this._hasNegativeValue)}if(this._needOtherSize){t._setOtherSize(this._otherSize)}};v.prototype._constructTitle=function(e,t){if(e.length>0){var i=e.filter(function(e){return!e.invisible}).map(function(e){var t=e.name||e.id;if(t===f){t=l.get("IDS_DEFAULTMND")}return t});t.splice(0,t.length);var a="";var r="";for(var o=0;o<i.length;o++){if(o===0){r=i[o]}else{r=" / "+i[o]}a+=r;var n={};n.isHidden=false;n.text=r;t.push(n)}return a}};v.prototype.getLabelOffset=function(){var e=this._children.axisBody.module._getAvailableLayers();var t=e[e.length-1];var i;if(t){i=t.cells}else{return 0}var a;i.some(function(e){if(e.isVisible===true){a=e.middle;return true}});var r=this._properties.get();var o=r.label.style;var n=this._getTextHeight(o);var l=this._getBaseLineOffset(o);return a-n/2+l};v.prototype._getTextHeight=function(e){var t=u.canvasMeasure("",e["fontSize"],e["fontWeight"],e["fontFamily"],e["letterSpacing"]).height;t=s.preciseSimple(t);return t};v.prototype._getBaseLineOffset=function(e){var t=u.getTextBaselineOffset({fontSize:e["fontSize"],fontWeight:e["fontWeight"],fontFamily:e["fontFamily"],letterSpacing:e["letterSpacing"]});return t};v.prototype.isByBound=function(){return true};v.prototype.destroy=function(){v.superclass.destroy.call(this);this._scale=null;this._hasNegativeValue=null};v.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var t;if(e&&e.getPaginationOptions){t=e.getPaginationOptions()}return t};v.prototype._renderSub=function(){for(var t in this._children){if(this._children.hasOwnProperty(t)){var i=this.getChild(t).module;if(!this.paginationOptions()||t!==e.AXIS.SCROLLBAR_NAME){i.render(this._selections[t])}if(c.isFunction(i._needExtened)&&i._needExtened()&&i._deltaBound){var a=this._parent.select(".v-bound");if(a){for(var r in i._deltaBound){if(i._deltaBound.hasOwnProperty(r)){var o=(a.attr(r)?parseFloat(a.attr(r)):0)+(i._deltaBound[r]?parseFloat(i._deltaBound[r]):0);a.attr(r,o)}}}}}}};v.prototype.setSize=function(e,t){v.superclass.setSize.apply(this,arguments);if(this._needOtherSize){this._otherSize=t}return this};v.prototype.supportFixedLayout=true;h.register(d.CATEGORYAXIS_NAVIGATOR,null,p);return v});define("sap/viz/chart/components/plots/XYPlotFactory",[],function(){var e={};return{getPlotClazz:function(t){var i=e[t];return i&&i.plotClazz},registerClazz:function(t,i){e[t]={plotClazz:i}}}});define("sap/viz/chart/components/zoom/ZoomLimit",[],function(){var e=/(bar|column|combination|bullet|waterfall)/;var t=e.test.bind(e);function i(e,t){var i=e.plot,a=i.isHorizontal(),r=i._properties,o=a?"height":"width",n,l;var s=i.getSize()[o];l=e.main._isTruncatedWindowInput?i.getRealSize()[o]:0;n=Math.max(i.getRealSizeByFixedDPSize(r.get("dataPointSize.max")),l)/s;return[1,Math.max(n,1)]}function a(e,t){var i=t.split("").reduce(function(t,i){return t.concat(e.axisByDirection[i])},[]),a=i.map(function(e){return e?e.getMaxZoomRatio():Number.MAX_VALUE});return[1,Math.max(Math.min.apply(null,a),1)]}return{Bar:i,Regular:a,byChart:function(e,r){var o=t(e.main._renderType)?i:a;return o(e,r)}}});define("sap/viz/chart/components/zoom/XYZoomer",["sap/viz/chart/components/zoom/ZoomLimit","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r){var o=["plotArea.isFixedDataPointSize","interaction.zoom.direction","interaction.zoom.enablement","plotArea.gap","plotArea.markerRenderer","plotArea.dataLabel.renderer","plotArea.lineRenderer","plotArea.line.lineRenderer","plotArea.window.start","plotArea.window.end","plotArea.dataPointSize","general.groupData","interaction.syncValueAxis","interaction.noninteractiveMode","timeAxis.interval","plotArea.scrollbar.visible","plotArea.series"];function n(e){var t=e.runtime();this._runtime=t;this._props=t.propertyManager().proxy("interaction.zoom");this._status=t.statusManager();this._limit={x:{},y:{}};this._status.add({"plot.zoom.direction":{readonly:true,serializable:false,get:this.direction.bind(this)},"plot.zoom.enabled":{readonly:true,serializable:false,get:this.enabled.bind(this)},"plot.zoom.limit":{readonly:true,serializable:false,get:this.limits.bind(this)},"plot.zoom.currentZoomLevel":{readonly:true,serializable:false,get:this.calcCurrentZoomLevel.bind(this)}});var i=this;function r(e,a){if(e!==a){i._status.set("zooming",false);t.fireInteractionEvent("discardSavedZoom")}}this._watchers=o.map(function(e){return t.propertyManager().watch(e,r)});function n(r,o){var n=["timeseries_column","timeseries_line","timeseries_combination","timeseries_bullet"];if(!a.equals(r,o)&&n.indexOf(e._renderType)>-1){i._status.set("zooming",false);t.fireInteractionEvent("discardSavedZoom")}}this._watchers.push(t.propertyManager().watch("timeAxis.levels",n))}n.prototype.calcCurrentZoomLevel=function(){return t._calcCurrentZoomLevel(this._status)};n.prototype.enabled=function(){switch(this._props.get("enablement")){case"enabled":return true;case"auto":return i.isMobile();default:return false}};n.prototype.direction=function(){if(!this.enabled()){return""}switch(this._props.get("direction")){case"all":return"xy";case"categoryAxis":return this._modules.isHorizontal?"y":"x";default:return""}};n.prototype.limits=function(){return this._limit};n.prototype.init=function(e){this._modules=e};n.prototype.destroy=function(){this._status.remove("plot.zoom.enabled");this._status.remove("plot.zoom.direction");this._status.remove("plot.zoom.limit");this._status.remove("plot.zoom.currentZoomLevel");this._watchers.forEach(function(e){e.remove()});this._watchers=[];this._plotNode=null};n.prototype.reset=function(e){this._plotNode=e.plot.node().querySelector("."+t.ZOOM_CONTAINER_CLASS);if(this.enabled()){this._limit=this._calcZoomLimit(this._modules,this.direction())}};n.prototype.zoom=function(e,i,a,r,o){if(!o){t.applyZoom(e,i,this._plotNode,this._status,this._runtime,a,r)}else{t.applyZoom(e,i,this._plotNode,this._status,null,a,r)}};n.prototype.zoomInOut=function(e,i,a,o){var n=this._status.get("plot.transform.scale"),l=this.limits();if(!a){a=r.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS}if(!o){o=r.ZOOM.DEFAULT_ZOOM_LEVEL_MINOFFSET}var s=t.zoomInOut(e,n,l,a,o);this.zoom(s,i,a,o)};n.prototype._calcZoomLimit=function(t,i){var a={x:{},y:{}},r=e.byChart(t,i);a.x.min=r[0];a.x.max=r[1];a.y.min=r[0];a.y.max=r[1];return a};return n});define("sap/viz/chart/components/datalabels/DataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ColorUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/format/UnitFormat","sap/viz/chart/components/UIComponent","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/RuleUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/lang/LangManager"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m){function y(e){var t=r.create("text");t.textContent=e.text;n.setCustomizationInfo(t,{defaultRenderer:true});return t}y.expose={renderer:y};var _=l.CSS.CLASS;var A=l.CSS.CLASS.DATALABEL+" "+l.CSS.CLASS.MORPHABLELABEL,b=l.CSS.CLASS.DATALABEL_GROUP,x="g";function S(e,t,i,a){var r=i.analyzeDataPointDataLabel(e,a),o=f.extend(true,{},t);if(r&&r.hasOwnProperty("dataLabel")){if(r.dataLabel instanceof Object&&r.dataLabel.hasOwnProperty("visible")){o.visible=r.dataLabel.visible}else{o.visible=!!r.dataLabel}}return o}var D=function(e,t){D.superclass.constructor.apply(this,arguments);this._options=t;this._labelPosition="up";this._horizontal=t.horizontal;this._ignoreEmptyDataLabel=false;this._isTrellis=false;this._trellisCellSize=null;this._trellisPadding=null};e.extend(D,c);D.prototype.setDataShapesGroupNode=function(e){this._dataShapesGroupNode=e};D.prototype._getDataLabelInfo=function(e){var t=this._data&&this._data.rawData&&this._data.rawData.dataModel;var i=h.getContextByDataModel(e,t);return{key:i.measureNames,value:i[i.measureNames]}};D.prototype._processDataLabelRendererConfig=function(e,t){var i=e.dpBBox||g.getBBox(t);e.dataPointWidth=i.width;e.dataPointHeight=i.height};D.prototype._getMarkFromNode=function(e){return null};D.prototype._getDataLabelSizeFromMark=function(e){if(!e){return null}var t=g.getBBox(e);return{width:t.width,height:t.height}};D.prototype._computeDataLabelPosition=function(e,t,i,a,r,o){var n,l;var s=t.x+e.e;var u=t.y+e.f;if(i==="up"||i==="down"||i==="inside"){n=s+t.width/2-(a.x+a.width/2);if(i!=="inside"){l=u-(a.y+a.height);if(i==="down"){l+=t.height}}}if(i==="left"||i==="right"||i==="inside"){l=u+t.height/2-(a.y+a.height/2);if(i!=="inside"){n=s-(a.x+a.width);if(i==="right"){n+=t.width+a.width}}}return[n,l]};D.prototype.needForceInner=function(e){return true};D.prototype._forceInner=function(e,t,i,a){var r=l.DATALABEL.BOUND_OFFSET;var o=this.getBound();if(e&&e.length>1&&this.needForceInner(i,a)){if(e[0]+t.x+t.width>o.width+o.left){e[0]=o.width+o.left-r-t.width-t.x}if(e[0]+t.x<o.left){e[0]=o.left+r-t.x}if(e[1]+t.y+t.height>o.height+o.top){e[1]=o.height+o.top-r-t.height-t.y}if(e[1]+t.y<o.top){e[1]=o.top+r-t.y}}};D.prototype._computeDataLabelTranslate=function(e,t,i,a,r){var o=this._computeDataLabelPosition(t,this._fixBBoxWhenInvisible(e,r&&r.dpBBox),i,a,r,e);this._forceInner(o,a,i,r);return o};D.prototype._fixBBoxWhenInvisible=function(e,t){var i=t||g.getBBox(e);var a={height:i.height,width:i.width,y:i.y,x:i.x};var r=e.querySelector&&e.querySelector(".v-clippath");if(r){var o=g.getBBox(r);a={height:o.height,width:o.width,y:o.y,x:o.x};if(a.height===0&&a.width===0){a.height=r.getAttribute("height")!=null?+r.getAttribute("height"):0;a.width=r.getAttribute("width")!=null?+r.getAttribute("width"):0;a.x=r.getAttribute("x")!=null?+r.getAttribute("x"):0;a.y=r.getAttribute("y")!=null?+r.getAttribute("y"):0}}if(a.height!==0||a.width!==0){return a}var n=e.childNodes;for(var l=0,s=n.length;l<s;l++){var u=+n[l].getAttribute("height");var c=+n[l].getAttribute("width");if(u>a.height){a.height=u}if(c>a.width){a.width=c}}return a};D.prototype._getStyle=function(e){var t;if(e){t=n.getData(e)}var i=this._properties;var r=a.getColorFromEffectManager(i.get("style.color"),this._runtime.effectManager(),t?t.color:"#000000");var o=this.runtime().effectManager().register({fillColor:r});return{fill:o,"font-family":i.get("style.fontFamily"),"font-size":i.get("style.fontSize"),"font-weight":i.get("style.fontWeight"),"font-style":i.get("style.fontStyle"),cssString:"fill:"+o+";font-family:"+i.get("style.fontFamily")+";font-size:"+i.get("style.fontSize")+";font-weight:"+i.get("style.fontWeight")+";font-style:"+i.get("style.fontStyle")+";"}};D.prototype.respectShapeWidth=function(e){};D.prototype.truncateText=function(e){};D.prototype.sortDataLabelInfos=function(e){e.sort(function(e,t){var i=0;if(e.dataPoint&&t.dataPoint){i=h.getDataId(e.dataPoint)-h.getDataId(t.dataPoint)}return i})};D.prototype.hideLabelsWhenOutOfPlotArea=function(e,t){var i=e.length;for(var a=0;a<i;a++){var r=e[a];if(r.left<t.left||r.right>t.width||r.top<t.top||r.bottom>t.height){r.skip=true}}};D.prototype.getBound=function(){return{left:0,width:this._realSize.width,top:0,height:this._realSize.height}};D.prototype.hideConditional=function(e){var t=this.getBound();this.sortDataLabelInfos(e);this.hideLabelsWhenOutOfPlotArea(e,t);this.detectAndRemoveOverlappedDataLabel(e)};D.prototype.detectAndRemoveOverlappedDataLabel=function(e){var t=parseFloat(this._properties.get("style.fontSize"));var i=t*l.DATALABEL.HORIZONTAL_OVERLAPPING_PADDING;var a=e.length;var r;var n;for(r=a-1;r>=0;--r){var s=e[r];if(s.skip){continue}for(n=r-1;n>=0;--n){var u=e[n];if(!u.skip){u.skip=!(s.left>=u.right+i||s.top>=u.bottom||s.right<=u.left-i||s.bottom<=u.top)}}}for(r=e.length-1;r>=0;r--){if(e[r].skip){o.remove(e[r].node);e.splice(r,1)}}};D.prototype.isDataLabelWidthOutOfDataPoint=function(e,t){var i=true;var a=e.getBoundingClientRect();var r=t.getBoundingClientRect();if(a.left>=r.left&&a.right<=r.right){i=false}return i};D.prototype._isKeepMND=function(){return true};D.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=true,a=e.getBoundingClientRect(),r=t.dataPoint.getBoundingClientRect();if(a.left>=r.left&&a.top>=r.top&&a.right<=r.right&&a.bottom<=r.bottom){i=false}return i};D.prototype.intersectResult=function(e,t,i,a){return null};D.prototype.indexOfDataLabelIntersectDataPoints=function(e,t,i,a){var r=-1;var o;var n=this.intersectResult(e,t,i,a);if(!n||!n.intersected&&!n.hitPoint){for(o=0;o<t.length;o++){if(i[o]!==a){var l=t[o];if(!(e.left>l.right||e.right<l.left||e.top>l.bottom||e.bottom<l.top)){r=o;break}}}}return r};D.prototype._setDataLabelColor=function(e,t,i,a,r){if(!a||t==="outside"){var o=this.isDataLabelOutOfDataPoint(e.node,e);var n=null;if(a&&t==="outside"&&!o){n=r||"#000000"}else if(!a){n=(o?i:r)||"#000000"}if(n){a=p.getDataLabelColor(n);var l=this.runtime().effectManager().register({fillColor:a});e.node.setAttribute("fill",l)}}};D.prototype.updateColor=function(e,t){var i=this._properties.get("style.color");var a=this._properties.get("style.colorRange");for(var r=0;r<e.length;r++){var o=e[r];if(o.node){this._setDataLabelColor(o,a,t,i,o.referColor)}}};D.prototype.drawZero=function(){return true};D.prototype.setTrellisCell=function(e,t){this._isTrellis=true;this._trellisPadding=e;this._trellisCellSize=t};D.prototype.updatePosition=function(e,t){var i=e.node();var a=i.querySelector("."+b);var l={};var s={};if(a){var u=i.querySelector("g."+_.DATAPOINT_GROUP);var c=[];var p=a.querySelectorAll(".v-datalabel");for(var d=0,f=p.length;d<f;d++){var v=p[d];var m=n.getData(v).id;var y=h.find(u,m);if(!y){o.remove(v);continue}var A=h.getDataPointId(y);var x=this._getStyle(y);c.push(m);var S=h.getContext(y),D=this._getDataLabelInfo(y),w=d3.select(v).text();var C={dataLabelInfo:D,val:D.value,text:w,ctx:S,styles:x,horizontal:this._horizontal,plotSize:this.getSize()};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(y)}this._processDataLabelRendererConfig(C,y);l[A]=C;var T=g.getBBox(v);var z=this._computeDataLabelTranslate(y,r.getTransformToElement(y,i),this._labelPosition,T,C);if(z){s[A]={trans:z,bbox:T};var L=z[0],P=z[1];v.setAttribute("transform","translate("+L+","+P+")")}else{o.remove(v);continue}}if(t){var k=t.filter(function(e){return c.indexOf(h.getDataId(e))===-1});if(k.length){var E=this._beforeRender(k);this._render(e,E)}}}this._afterRender(e,l,s)};D.prototype._removeExtraNodes=function(e){var t=e.node();var i=t.querySelector("."+b);if(i){var a=t.querySelector("g."+_.DATAPOINT_GROUP);var r=h.findAll(a);var o=i.querySelectorAll("."+l.CSS.CLASS.DATALABEL);var n={};var s,u;for(s=0;s<o.length;++s){n[h.getDataPointId(o[s])]=o[s]}for(s=0;s<r.length;++s){var c=h.getDataPointId(r[s]);if(n[c]){delete n[c]}}for(var p in n){if(n[p]){i.removeChild(n[p])}}}};D.prototype.render=function(e,t){this._removeExtraNodes(e);t=t||h.findAll(this._dataShapesGroupNode)||[];var i=this._beforeRender(t);this._render(e,i);this._afterRender(e)};D.prototype._beforeRender=function(e){var t=this._properties.get();var i=this.runtime().semanticManager();var a;if(i.hasDataPointDataLabelStyle()){var r=this._data.rawData.dataModel;a=Array.prototype.slice.call(e).filter(function(e){var a=h.getDataPointId(e);var o=r.getDataPoint(a);return S(o.context(),t,i,o.additionCtx()).visible})}else{if(t.visible){a=e}}return a};D.prototype._afterRender=function(e,t,i){var a=this._isVisible();if(!a&&!this.runtime().semanticManager().hasDataPointDataLabelStyle()){return}var o=[];var n=e;var s=e.node().querySelectorAll("."+l.CSS.CLASS.DATAPOINT);for(var u=0;u<s.length;u++){var c=s[u];var d=this._getStyle(c);var f=h.getDataPointId(c);var v=e.selectAll("g.v-datalabel[data-datapoint-id='"+f+"']").node();if(v){var m=t&&t[f];var y;if(!m){var _=h.getContext(c),A=d3.select(v).text();y=this._getDataLabelInfo(c);m={val:y.value,text:A,ctx:_,styles:d,horizontal:this._horizontal,plotSize:this.getSize(),zeroLineAdjust:true};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(c)}this._processDataLabelRendererConfig(m,c)}else{y=m.dataLabelInfo}var b=i&&i[f]&&i[f].trans;var x=i&&i[f]&&i[f].bbox;if(!b){x=g.getBBox(v);b=this._computeDataLabelTranslate(c,r.getTransformToElement(c,n.node()),this._labelPosition,x,m)}if(b){o.push(L(n.node(),v,c,b,y,x))}}}if(o){this.truncateText(o);var S=this._properties.get("hideWhenOverlap");if(S){this.hideConditional(o,s)}var D=e.node();var w=p.getBackgroundColor(D);this.updateColor(o,w);this.renderDataLabelLine(o)}};D.prototype.renderDataLabelLine=function(e){};D.prototype._render=function(e,t){var a=e.node();var o=this._size;var s=this._properties;var u=s.get("visible");if(!u&&this.runtime().semanticManager().hasDataPointDataLabelStyle()){u=t.length>0}if(u){var c=this._isKeepMND();var p=a.querySelector("."+b);if(!p){p=r.create(x,a);p.setAttribute("class",b)}var d=null;var f=this.runtime().envManager();if(f){d=f.textAnchor()}p.setAttribute("text-anchor",d);var v=s.get("renderer")||y;var m=s.get("hideWhenOverlap");var _;var S=p.querySelectorAll("."+l.CSS.CLASS.DATALABEL);var D=this._runtime.statusManager().get("dynamicScale");var w=this.runtime().statusManager().get("data.unit")||{};for(var C=0,T=t.length;C<T;C++){var z=t[C];var L=this._getStyle(z);var P=this._getDataLabelInfo(z);var k=false;_=s.get("formatString");if(!_&&this._data&&this._data.rawData){_=this._formatStrFromMetadata(this._data,this._data.rawData.dataModel._bindingFeeds,P.key);k=true}var E=h.getContext(z);var I=w[P.key];P.unit=I;P.keepMND=c;P.dynamicScale=D;var O=this._buildDataLabelText(_,P,E,k,z);if(this._ignoreEmptyDataLabel===true&&(O===null||O===undefined)){continue}if(i.isExist(O)&&i.isExist(O.text)){P.formattedValue=O.formattedValue;O=O.text}var R=h.getDataPointId(z);var N=h.findByDataPointIds(S,R);if(N.length){N=N[0];var M=N.firstChild;while(M){N.removeChild(M);M=N.firstChild}}else{N=r.create("g",p);h.setDataPointId(N,R);n.setContext(N,E);n.setData(N,{id:h.getDataId(z)});N.setAttribute("class",A)}if(!E){E=this._data.rawData.dataModel.getDataPoint(R).context()}var B={val:P.value,text:O,ctx:E,info:P,styles:L,horizontal:this._horizontal,dpBBox:g.getBBox(z),plotSize:this.getSize(),zeroLineAdjust:true};this._processDataLabelRendererConfig(B,z);var V=v(B,y.expose)||y(B);if(V){N.appendChild(V);for(var F in B.styles){if(B.styles.hasOwnProperty(F)){N.setAttribute(F,B.styles[F])}}if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(z)}var H=g.getBBox(N);var U=r.getTransformToElement(z,a);var W=this._computeDataLabelTranslate(z,U,this._labelPosition,H,B);this._renderAfterPositioning(z,N);if(!W){N.removeChild(V);continue}var G=W[0];var Y=W[1];N.setAttribute("transform","translate("+G+","+Y+")");if(this.setExtraDataOfDataPoint){z=this.setExtraDataOfDataPoint(n,z,N)}}}}else{if(this.removeExtraDataOfDataPoint&&t){for(var X=0,j=t.length;X<j;X++){var Z=t[X];this.removeExtraDataOfDataPoint(n,Z)}}}};D.prototype._formatStrFromMetadata=function(e,t,i){var a=null;if(t){t.some(function(t){if(e[t]&&e[t].metaData){for(var r=0;r<e[t].metaData.length;r++){if(e[t].metaData[r].id===i){a=e[t].metaData[r].formatString;return true}}}})}return a};D.prototype._renderAfterPositioning=function(){};D.buildDataLabelText=function(e,t,i,a,r,o,n,l){var s=i.value!==null&&t!==null?w(t,i):[];var u=o?o(e):["value"];s=r?T(s,u):s;var c=C(u,s,a,i,e,l);var h=n?n(e,c,i):c[0];return h};D.prototype._buildDataLabelText=function(e,t,i,a,r){if(t.value===0&&!this.drawZero(r)){return null}return D.buildDataLabelText(this._properties,e,t,i,a)};D.prototype._isVisible=function(){return this._properties.get("visible")||this._properties.get("showTotal")||this._properties.get("showRecap")};function w(e,t){var a=[];if(i.isArray(e)&&i.isArray(e[0])){a=e[0]}else if(i.isPlainObject(e)){a=e[t.key];if(!i.isArray(a)){a=[a]}}else if(!i.isArray(e)){a=[e]}else{a=e}return a}function C(e,i,a,r,o,n){var l,c,h,p,d,f=[];var g=0;for(l=0;l<e.length;l++){d=e[l];if(z(d)){h=r.value;p=r.percentage;c=i[l-g];var y;var _=r.dynamicScale;if(h!==null){if(d==="date"){if(v.hasFiscalLevel(o&&o.origin)){r.formattedValue=h}else{var A=t.createDateInstance(h);r.formattedValue=s.format(A,"dd/mm/yyyy hh:mm")}}else{var b={decimalFormatString:u.getDecimalFormatString(u.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};y=_&&_.getScaleFactor(r.key);var x=o.get("unitFormatType");r.formattedValue=(y||u).format(h,c,x,b);if(y&&_.showSymbolOnDatalabel){r.formattedValue+=y.symbol}}}else{r.formattedValue=m.get("IDS_ISNOVALUE")}if(p!==null){r.formattedPercentage=u.format(p,c||s.getPercentagePattern(1),o.get("unitFormatType"),u.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)}if(r.unit&&(!y||_.showUnitOnDataLabel)){r.formattedValue+=" "+r.unit}if(d==="percentage"){h=r.formattedPercentage}else{h=r.formattedValue}f.push(h)}else{if(n){f.push(n(a,r));g++}}}return f}function T(e,t){var i;if(t.indexOf("percentage")>-1&&t.indexOf("value")===-1){i=[e[1]]}else{i=e}return i}function z(e){if(e==="valueAxis"||e==="valueAxis2"||e==="bubbleWidth"||e==="value"||e==="percentage"||e==="date"){return true}else{return false}}D.getFirstFormatPattern=function(e,t){return w(e,t)[0]};D.prototype.destroy=function(){D.superclass.destroy.call(this);this._labelPosition=null;this._dataShapesGroupNode=null;this._isTrellis=null;this._trellisCellSize=null;this._trellisPadding=null};function L(e,t,i,a,o,n){var l=a[0],s=a[1];var u=r.getTransformToElement(i,e);var c=P(e,i);return{node:t,referColor:c,dataPoint:i,center:{x:u.e,y:u.f},info:o,left:l+n.x,right:l+n.x+n.width,top:s+n.y,bottom:s+n.y+n.height,originalCenterX:a.originalCenterX,originalCenterY:a.originalCenterY}}function P(e,t){var i,a=p.getBackgroundColor(e),r=n.getData(t);if(r){if(r.pattern==="noFill"){i=a}else{var o=1,l=r.color;if(r.fillOpacity!==undefined){o=r.fillOpacity}i=p.getMixedColor(l,a,o)}}return i}return D});define("sap/viz/chart/components/datalabels/BarDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r,o,n,l,s,u){var c=function(e,t){c.superclass.constructor.apply(this,arguments);this._labelPosition="outside"};e.extend(c,r);var h=" / ";var p=" ";var d="...";c.labelOffset=u.DATALABEL.HORIZONTAL_LABEL_OFFSET;c.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=true;var a=e.getBoundingClientRect();var r=t.dataPoint.getBoundingClientRect();if(a.left>=r.left&&a.top>=r.top-r.height&&a.right<=r.right&&a.bottom<=r.bottom+r.height){i=false}return i};c.prototype._buildDataLabelText=function(e,t,i,a){return r.buildDataLabelText(this._properties,e,t,i,a,f,g,v)};function f(e){var t=e.get("type");var i;if(t==="valueAndColor"){i=["value","color"]}else if(t==="color"){i=["color"]}else{i=["value"]}return i}function v(e,t){var i="";if(t.colorLegendData){i=t.colorLegendData.join(h)}return i}function g(e,t){var i=e.get("type");var a;if(i==="valueAndColor"){t=t.filter(function(e){return!(e===undefined||e===null)});a=t.slice().reverse().join(p)}else{a=t[0]}var r={formattedValue:t[0],text:a};return r}function m(e,t,i){for(var a=0;a<e.length;++a){var r=e[a];for(var o=0;r&&o<r.length;++o){if(r[o]&&r[o][i]===t){return r[o]}}}return null}c.getLabelSize=function(e,t,i,a,n){var l={width:0,height:0};var s=m(e,t,n||"valueAxis");if(!s){return l}var u=s.dp.context();var h={key:u.measureNames,value:u[u.measureNames],colorLegendData:s.color};var p=i.proxy("plotArea.dataLabel");var d=r.buildDataLabelText(p,a,h,null,false,f,g,v);var y=p.get("style");l=o.fastMeasure(d.text,y.fontSize,y.fontWeight,y.fontFamily,y.fontStyle);l.width+=c.labelOffset;return l};c.prototype.truncateText=function(e){var t;for(t=e.length-1;t>=0;t--){var i=e[t].dataPoint;var r=e[t].node;var l=a.getData(i).dataLabelLocation;if(l==="inside"){var u=r.getBoundingClientRect();var f=i.getBoundingClientRect();if(u.width+2*c.labelOffset>f.width){var v=this._properties.get();var g=false;var m=r.firstChild;var y=m.textContent;var _="";if(e[t].info.colorLegendData){var A;if(v.type==="valueAndColor"){_=e[t].info.colorLegendData.join(h);A=y.substring(0,1)+d+p+y.substring(_.length+1)}else if(v.type==="color"){A=y.substring(0,1)+d}var b=o.canvasMeasure(A,v.style.fontSize,v.style.fontWeight,v.style.fontFamily).width;if(b+2*c.labelOffset<f.width){g=true}}if(g){var x=this._getStyle(i);var S={};var D=this.runtime().envManager();S.reverseDots=D&&D.reverseDots();if(v.type==="valueAndColor"){var w=y.substring(_.length+1);var C=o.canvasMeasure(p+w,v.style.fontSize,v.style.fontWeight,v.style.fontFamily).width;var T=o.ellipsis(y,m,f.width-2*c.labelOffset-C,x.cssString,S);m.firstChild.textContent=T+p+w}else if(v.type==="color"){o.ellipsis(y,m,f.width-2*c.labelOffset,x.cssString,S)}var z=n.getBBox(r);var L=s.getTransformToElement(i,i.parentNode);var P={val:e[t].info.value};var k=this._computeDataLabelTranslate(i,L,l,z,P);r.setAttribute("transform","translate("+k[0]+","+k[1]+")");e[t].left=k[0];e[t].right=e[t].left+z.width}}}}};c.prototype.allowIntersectionCheck=function(){return false};c.prototype.hideConditional=function(e,i){var r;var o=new Array(i.length);for(r=0;r<i.length;r++){o[r]=i[r].getBoundingClientRect()}for(r=e.length-1;r>=0;r--){var n=e[r].dataPoint;var l=e[r].node;var s=a.getData(n).dataLabelLocation;var u=l.getBoundingClientRect();if(s==="inside"){var h=n.getBoundingClientRect();if(u.width+2*c.labelOffset>h.width||u.height>h.height){t.remove(l);e.splice(r,1)}}else if(!this.allowIntersectionCheck(n)){var p=this.indexOfDataLabelIntersectDataPoints(u,o,i,n);if(p!==-1){t.remove(l);e.splice(r,1)}}}return c.superclass.hideConditional.apply(this,arguments)};c.prototype._computeDataLabelPosition=function(e,t,i,r,o,n){var l,s;var u=t.x+e.e;var h=t.y+e.f;var p=a.getData(n);var d=c.labelOffset;var f=this._properties.get("position");var v=f?f:this._labelPosition;s=h+t.height/2-(r.y+r.height/2);if(o.val>=0){if(o.val===0||v!=="inside"){l=u+t.width+d;p.dataLabelLocation=o.val===0&&v==="inside"?"inside":"outside";if(l+r.width>this._size.width&&v==="outsideFirst"&&o.val>0){l=u+t.width-r.width-d;p.dataLabelLocation="inside";a.setData(n,p)}if(l>this._size.width&&o.val===0){l=u-r.width-d}}else{l=u+t.width-r.width-d}}else{if(v!=="inside"){l=u-(r.x+r.width)-d;p.dataLabelLocation="outside";if(l<0&&v==="outsideFirst"){if(r.width+2*d>t.width){l=l+t.width}else{l=u+d;p.dataLabelLocation="inside"}a.setData(n,p)}}else{l=u+d}}return[l,s]};c.prototype._getDataLabelInfo=function(e){var t;t=c.superclass._getDataLabelInfo.apply(this,arguments);var i=a.getData(e);t.colorLegendData=i.colorLegendData;return t};c.prototype._processDataLabelRendererConfig=function(e,t){c.superclass._processDataLabelRendererConfig.apply(this,arguments);var i=this._getMarkFromNode(t),a;if(i&&e.dataPointWidth===0&&e.dataPointHeight===0){a=this._getDataLabelSizeFromMark(i);if(a){e.dataPointWidth=a.width;e.dataPointHeight=a.height}}e.horizontal=true};c.prototype._getMarkFromNode=function(e){if(!e){return null}var t=d3.select(e).select("rect:first-child");return t.empty()?null:t.node()};return c});define("sap/viz/chart/components/plotareas/UpdateByTrendlineUtil",["sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/trendline/Trendline","sap/viz/chart/scales/ValueScaleUtil"],function(e,t,i){var a={column:true,bar:true,line:true,timeseries_column:true,timeseries_line:true,horizontal_line:true,dual_column:true,dual_bar:true,dual_line:true,dual_horizontal_line:true};return function(r,o){if(a[this._renderType]){var n=t.updateValueScale(this._plot,{valueAxis:o,valueAxis2:o},r);var l=n&&Object.keys(n);if(l&&l.length>0){if(r.valueAxis&&r.valueAxis2){var s=n.valueAxis?n.valueAxis:r.valueAxis;var u=n.valueAxis2?n.valueAxis2:r.valueAxis2;i.syncTicks(s.scale,u.scale);var c=s.autoScale;var h=u.autoScale;i.syncTicks(c,h)}l.forEach(function(t){this["_"+t].setData(n[t]);r[t]=e.extend(true,{},r[t],n[t])},this)}this._updateTrendLineAxis(r)}return r}});define("sap/viz/chart/components/plotareas/XYPlotArea",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/callout/CalloutContainer","sap/viz/chart/components/container/XYContainer","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/datalabels/BarDataLabels","sap/viz/chart/components/plotareas/UpdateByTrendlineUtil","sap/viz/chart/scales/CategoryScale","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/SVG"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D,w,C){function T(e){var t,i,a=e._plot;if(a.isHorizontal()){t=e._renderType.indexOf("bullet")>-1?"actualValues":e._valueAxisIndex}else{i=e._renderType.indexOf("bullet")>-1?"actualValues":e._valueAxisIndex}function r(){return g.offsetInValue({h:t?e._data[t].scale:null,v:i?e._data[i].scale:null},e.getOffset(),a.getRealSize())}function o(r){var o=e._data[t],n=e._data[i],l=a.getRealSize(),s={};if(!isNaN(r.x)&&o){s.x=-o.scale.scale(r.x)*l.width}if(!isNaN(r.y)&&n){s.y=-(1-n.scale.scale(r.y))*l.height}e.scroll(s)}return{get:r,set:o}}function z(e){function t(){var t=w.clone(e.getPlotPosition(),true);if(t){t.x+=e._offset&&e._offset.x||0;t.y+=e._offset&&e._offset.y||0}return t}return{get:t}}var L=function(e,t){L.superclass.constructor.apply(this,arguments);this._valueAxisIndex=t.valueAxisIndex||"valueAxis";this._init(undefined,t);e.statusManager().add("plot.offsetInValue",{serializable:false,get:T(this).get,set:T(this).set});e.statusManager().add("plot.sizeInfo",{serializable:false,get:z(this).get})};t.extend(L,o);L.prototype._isPercentageChart=function(){return this._renderType.indexOf("100_")>=0};L.prototype._isLineChart=function(){return this._renderType.indexOf("line")>=0};L.prototype._isCombinationChart=function(){return this._renderType.indexOf("combination")>=0};L.prototype._isMekkoChart=function(){return this._renderType.indexOf("mekko")>=0};L.prototype._isColumnChart=function(){return this._renderType==="column"||this._renderType==="combination"||this._renderType==="timeseries_column"};L.prototype._isBarChart=function(){return this._renderType==="bar"||this._renderType==="horizontal_combination"};L.prototype._isStackedChart=function(){return this._renderType==="stacked_column"||this._renderType==="stacked_bar"};L.prototype._isHorizontal=function(){if(this._plot&&this._plot._options){return this._plot._options.isHorizontal}};L.prototype._getPlotOptions=function(){return{valueAxisIndex:this._valueAxisIndex||"valueAxis"}};L.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};L.prototype._getDataRange=function(e,t){return this._plot._getDataRange&&this._plot._getDataRange(e,t)};L.prototype._initRenderBase=function(e){if(this._selections){return}L.superclass._initRenderBase.apply(this,arguments);if(this._isLineChart()||this._isCombinationChart()){var t=e.node();var i=this._selections[this._categoryAxis.getName()].node();var a=C.createSVGNode("g");a.setAttribute("class",_.CSS.CLASS.DATAPOINTS_MODULE);if(t.lastChild===i){t.appendChild(a)}else{t.insertBefore(a,i.nextSibling)}}};L.prototype._init=function(e){var t=this.runtime();this._plot=s.create(this._renderType,this._getPlotClazz(this._renderType),t,this._getPlotOptions(this._renderType));this.setChild("plot",this._plot,{position:"center"});var i=this._plot.isHorizontal();this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var a=this._getCategoryAxisClass();var o;var l=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(["bottom","top","left","right"]);this._categoryAxis=new a(t,{name:"categoryAxis"});this._categoryAxis.setPosition("left");this.setChild("categoryAxis",this._categoryAxis,{position:"left"});o=this._valueAxisIndex==="valueAxis"?"bottom":"top";var u=l;if(e){o=e.valueAxisPosition;u=e.valueAxisScrollbar}this._valueAxis=new n(t,{name:this._valueAxisIndex,hasScrollbar:u,valueAxes:this._valueAxes});this.setChild(this._valueAxisIndex,this._valueAxis,{position:o});if(u){this._hScrollbar=this._valueAxis.getChild(_.AXIS.SCROLLBAR_NAME).module}}else{this.setLayoutSequence(["left","right","bottom","top"]);this._categoryAxis=new a(t,{name:"categoryAxis",hasScrollbar:l});this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});o=this._valueAxisIndex==="valueAxis"?"left":"right";this._valueAxis=new n(t,{name:this._valueAxisIndex,valueAxes:this._valueAxes});this.setChild(this._valueAxisIndex,this._valueAxis,{position:o});if(this._properties.get("plotArea.callout.left")){this._leftCallouts=new r(t,{name:"plotArea.callout",position:"left"});this.setChild("leftCallouts",this._leftCallouts,{position:"left",priority:1,unique:true})}if(this._properties.get("plotArea.callout.top")){this._topCallouts=new r(t,{name:"plotArea.callout",position:"top"});this.setChild("topCallouts",this._topCallouts,{position:"top"})}if(l){this._hScrollbar=this._categoryAxis.getChild(_.AXIS.SCROLLBAR_NAME).module}}if(l){this._vScrollbar=new h(t,{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"})}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true)}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis]},isHorizontal:i})};L.prototype._getCategoryAxisClass=function(){return l};L.prototype.layout=function(e,t){if(e&&e._paginationScrollbar){this._paginationScrollbarRef=e._paginationScrollbar}else{this._paginationScrollbarRef=null}this._offset=t;return L.superclass.layout.apply(this,arguments)};L.prototype.destroy=function(){L.superclass.destroy.call(this);this._plot=null;this._hScrollbar=null;this._categoryAxis=null;this._valueAxis=null;this._vScrollbar=null;this._leftCallouts=null;this._topCallouts=null};L.prototype._adjustScale=function(e){var t=this._properties.get("plotArea.adjustScale");if(y.isExist(t)){if(!e.isFixed()&&t&&this._isLineChart()){e.setZeroAdjusted(false)}}};L.prototype._calcValueAxisScale=function(e,t,i){var a=this._data[e].scale;this._adjustScale(a);return c.calcScale(a,t,{isLineChart:this._isLineChart(),isMekkoChart:this._isMekkoChart(),domain:i})};L.prototype._calcPercentageValueAxisScale=function(e){return c.calcPercentageScale(e)};L.prototype.setData=function(e){L.superclass.setData.apply(this,arguments);var t=this.updateValueScale();if(t){this._setAxisData(t);this._setPlotData(t)}if(this._leftCallouts){this._leftCallouts.setData(e)}if(this._topCallouts){this._topCallouts.setData(e)}};L.prototype._postRender=function(){L.superclass._postRender.apply(this,arguments);var e=this._plot,t=e.getSize();var i=e.getRealSize();var a=this._plot._selection.node();var r=this._plot._getDpPlotNode();if(this._leftCallouts){this._leftCallouts.postRender(a,t,i,r)}if(this._topCallouts){this._topCallouts.postRender(a,t,i,r)}};L.prototype.zoom=function(){L.superclass.zoom.apply(this,arguments);var e=this._plot.getRealSize();var t=this._plot._getDpPlotNode();if(this._leftCallouts){this._leftCallouts.setPlotRealSize(e);this._leftCallouts.afterPlotZoom(t)}if(this._topCallouts){this._topCallouts.setPlotRealSize(e);this._topCallouts.afterPlotZoom(t)}};L.prototype._scroll=function(e){L.superclass._scroll.apply(this,arguments);var t=this._plot._getDpPlotNode();if(this._leftCallouts){this._leftCallouts.afterPlotScroll(e,t)}if(this._topCallouts){this._topCallouts.afterPlotScroll(e,t)}};L.prototype._setPlotData=function(e){this._plot.setData(e)};L.prototype._setAxisData=function(e){this._categoryAxis.setData(e.categoryAxis,d.hasNegativeValue(e))};L.prototype._isAdjustValueScaleForTopLabel=function(){var e=this._properties.get("plotArea.dataLabel.position")||this._properties.getDefault("plotArea.dataLabel.position");return this._isStackedChart()||(this._isColumnChart()||this._isBarChart())&&e==="outside"||this._isCombinationChart()};L.prototype._calcValueScaleWithTopLabel=function(e){var t=this._properties.get("plotArea.dataLabel");var i=t.style;var r=this._valueAxisIndex;var o=r==="valueAxis"?this._properties.get("plotArea.primaryScale.fixedRange"):this._properties.get("plotArea.secondaryScale.fixedRange");var n=this._data[r];var l=n.scale;var s=l.getDomain().slice();var u=this._plot.isHorizontal();var c=this._calcValueAxisScale(r,e);var h=this._data.series;var p=a.extendDomainForDataLabel;var d=4;var v=u?20:d;if(!(o||l.getDomainFixed()[1])&&(t.visible||t.showTotal)&&s){var g=[null,null];var y,_,S;var D=t.formatString;if(this._data&&this._data[r]&&this._data[r].metaData){_=this._data[r].metaData[0].id;S=this._data[r].metaData[0].formatString}D=D||S;var w={key:_};if(this._isStackedChart()&&t.showTotal){if(u){y=b.getFirstFormatPattern(D,w)}var C;var T={decimalFormatString:m.getDecimalFormatString(m.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};if(s[1]>0){C=m.format(A.preciseSimple(s[1]),y,t.unitFormatType,T);g[1]=f.fastMeasure(C,t.style.fontSize,t.style.fontWeight,t.style.fontFamily,t.style.fontStyle)}if(s[0]<0){C=m.format(A.preciseSimple(s[0]),y,t.unitFormatType,T);g[0]=f.fastMeasure(C,t.style.fontSize,t.style.fontWeight,t.style.fontFamily,t.style.fontStyle)}c=this._calcValueAxisScale(r,e,p(s,e,g,u))}else if(!this._isStackedChart()&&t.visible&&s&&(s[1]>0||s[0]<0)){if(this._isBarChart()){if(s[1]>0){g[1]=x.getLabelSize(this._data.series,s[1],this._properties,D)}if(s[0]<0){g[0]=x.getLabelSize(this._data.series,s[0],this._properties,D)}}else{var z=f.fastMeasure("M",t.style.fontSize,t.style.fontWeight,t.style.fontFamily,t.style.fontStyle);if(s[1]>0){g[1]=z}if(s[0]<0){g[0]=z}}g.forEach(function(e){if(e){e.height+=d;e.width+=v}});var L=p(s,e,g,u);c=this._calcValueAxisScale(r,e,L)}}c.scale.setRange([0,1]);c.metaData=n.metaData;return c};L.prototype.updateValueScale=function(){var e=this._data;var t=this._roughSize.width;var i=this._roughSize.height;if(!e||t<=0||i<=0){return e}var a=[0,1];if(this._plot.isHorizontal()){a[1]=t}else{a[1]=i}a[1]*=.8;var r;var o=e;if(this._isPercentageChart()){r=this._calcPercentageValueAxisScale(a);r.metaData=e.valueAxis.metaData;e.valueAxis.tickHint=r.tickHint;this._valueAxis.setData(r)}else if(this._isAdjustValueScaleForTopLabel()){r=this._calcValueScaleWithTopLabel(a);this._valueAxis.setData(r);var n={};n[this._valueAxisIndex]=r;o=this._cloneData(n)}else{r=this._calcValueAxisScale("valueAxis",a);e.valueAxis.scale=r.scale;e.valueAxis.tickHint=r.tickHint;var l=this._properties.origin.get("valueAxis.layout.direction");if(l==="topDown"){e.valueAxis.scale.setRange([1,0])}else{e.valueAxis.scale.setRange([0,1])}this._valueAxis.setData(e.valueAxis)}o=S.call(this,o,a);return o};L.prototype._updateTrendLineAxis=function(e){if(e&&e.categoryAxis&&e.categoryAxis.scale){var t=e.categoryAxis.scale.getDomain(),i=w.extend(true,[],t);if(i){this._plot._expandTrendlineXRange(i);e.categoryAxis.scale=new D(i,[0,1])}}};L.prototype._getPlotClazz=function(e){return u.getPlotClazz(e)};L.prototype._preRender=function(){var e={x:0,y:0};var t=this._plot.getPreferredSize();if(this._hasScrollbar()){e=this._plot.getOffset();this._categoryAxis.setRealSize(t)}L.superclass._preRender.apply(this,arguments);if(e.x||e.y){this.scroll(e)}};L.prototype._configLayout=function(){var e=this.getZoomer();var t=false,i=false;if(e){var a=e.direction();if(a==="xy"){t=true;i=true}else if(a==="x"){i=true}else if(a==="y"){t=true}}if(this._hasScrollbar()){if(this._plot.isHorizontal()){t=true}else{i=true}this.runtime().statusManager().add("plotRealSize",{value:this._plot.getPreferredSize()})}if(this._vScrollbar){this._vScrollbar.isExist(t)}if(this._hScrollbar){this._hScrollbar.isExist(i)}return L.superclass._configLayout.apply(this,arguments)};L.prototype._cloneData=function(e){var t={};var i=this._data;for(var a in i){if(i.hasOwnProperty(a)){t[a]=i[a]}}for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}return t};L.prototype._getZoomer=function(){return new v(this)};L.prototype.allOrNone=function(e,t,i){if(!this._properties.get("valueAxis.visible")||!this._properties.get("valueAxis2.visible")){return}var a=this._plot.isHorizontal()?"height":"width";var r=e.valueAxis[a],o=e.valueAxis2[a];if(i&&r>0&&o>0){var n=i.preferredSizeTable;var l=n["valueAxis"]&&n["valueAxis"].extra&&n["valueAxis"].extra.visibleComponents.indexOf("axisBody")>-1;var s=n["valueAxis2"]&&n["valueAxis2"].extra&&n["valueAxis2"].extra.visibleComponents.indexOf("axisBody")>-1;if(!l||!s){var u=l?n["valueAxis"].extra.componentsPrfSize["axisBody"]:0;var c=s?n["valueAxis2"].extra.componentsPrfSize["axisBody"]:0;e.valueAxis[a]-=u;e.valueAxis2[a]-=c;t[a]+=u+c;r=e.valueAxis[a];o=e.valueAxis2[a]}}if(r===0||o===0){e.valueAxis[a]=e.valueAxis2[a]=0;t[a]+=r+o}};return L});define("sap/viz/chart/components/legend/LineLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/ColorLegend","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ColorScale","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/scale/ColorShapeScaleMerger","sap/viz/chart/components/util/ColorUtil"],function(e,t,i,a,r,o,n,l,s,u){var c="#aaaaaa";var h="#000000";var p=l.LEGEND.HORIZONTAL_OFFSET;var d=l.LINE_TYPE;var f=function(){f.superclass.constructor.apply(this,arguments)};e.extend(f,t);f.prototype._createShapeItems=function(e,t,a){var r=this.runtime().semanticManager();var n=this.runtime().effectManager();var s=this.runtime().propertyManager();var u=this._isCombination();if(this._isShowWideMarker()){var c=t.markerSize;var h=s.has("plotArea.marker.size")?s.get("plotArea.marker.size"):s.get("plotArea.line.marker.size");if(c<h){h=c}var v=this._getBGColor();var g=this;e.selectAll("line").remove();e.selectAll("path").remove();var m=e.selectAll("g").data(["shapeWithLine"]);m.enter().append("g");m.exit().remove();m.attr("transform","translate("+t.shapeX+","+t.shapeY+")");var y=this._isRTL();m.each(function(e,r,u){var f=i.clone(a[u].shapeOptions);if(f.lineColor||f.lineType){var m=d3.select(this).selectAll("line").data(["shapeWithLine"]);m.enter().append("line");m.exit().remove();m.attr("x1",-c).attr("y1","0").attr("x2",c).attr("y2","0").attr("stroke",f.lineColor).attr("stroke-width",f.lineWidth);if(f.lineType===d.DASHED||f.lineType===d.DOTTED){m.attr("stroke-dasharray",2*c/7+","+c/7)}else if(f.lineType===l.LINE_TYPE.DOT){var _=Math.round(2*c/f.lineWidth);_=_|1;if(_<3){_=3}var A=2*c/_;m.attr("x1",-c+A/2);m.attr("x2",c+A/2);m.attr("stroke-dasharray","0,"+A*2);m.attr("stroke-linecap","round");m.attr("stroke-width",A)}}f.bgColor=v;var b;if(g._isShowMarkerStroke()){b=s.get("plotArea.dataPoint.stroke.color")}if(f.dpPattern==="noFill"){f.borderWidth=1;f.borderColor=b}if(f.fillColor){var x=d3.select(this).selectAll("path").data(["shapeWithLine"]);x.enter().append("path");x.exit().remove();f.node=x.node();if((f.seriesShape==="line"||f.seriesShape==="combination")&&(f.lineColor||f.lineType)){f.rx=f.ry=h/2;if(f.dpPattern==="noFill"){f.rx+=1;f.ry+=1}else{f.borderWidth=2}if(g._isShowMarkerStroke()){f.borderColor=b}}if(typeof f.graphType!=="string"&&f.graphType.type==="line"){f.rx=c;f.ry=c}o.drawGraph(f,n);if(g._isShowMarkerStroke()){x.attr("stroke-width","1")}}if(y){this.setAttribute("transform","translate("+(a[u].eventLayerWidth-p-c)+","+t.shapeY+")")}});m.attr("class","v-legend-marker")}else{f.superclass._createShapeItems.apply(this,arguments)}};f.prototype._getGroupItemInfo=function(e){var t=f.superclass._getGroupItemInfo.apply(this,arguments);var i=this.runtime().semanticManager();var r=this.runtime().propertyManager();var o=this.runtime().effectManager();var l=this;var s=r.has("plotArea.line.width")?r.get("plotArea.line.width"):r.get("plotArea.width");t.map(function(t,r){var o=e[r];if(o.isSemantic){if(i.hasDataPointLineStyle()){if(o.lineColor){t.shapeOptions.lineColor=o.lineColor}if(o.lineType){t.shapeOptions.lineType=o.lineType;if(!o.lineColor){t.shapeOptions.lineColor=c}}t.shapeOptions.lineWidth=s}if(o.seriesShape){t.shapeOptions.seriesShape=o.seriesShape}}else if(l._isShowLine()){if(o.seriesShape==="line"||o.seriesShape==="combination"){var u=l._getSereisStyle(o.ctx,l._data,i,"line");if(!a.isEmptyObject(u)){t.shapeOptions.lineColor=u.line&&u.line.color||o.color;t.shapeOptions.lineWidth=u.line&&u.line.width||s;t.shapeOptions.lineType=u.line&&u.line.type||"line"}else{t.shapeOptions.lineColor=o.color&&(o.color!=="null"&&o.color!=="undefined")?o.color:h;t.shapeOptions.lineWidth=s}t.shapeOptions.lineColor=n.convertColor(t.shapeOptions.lineColor)}if(!t.shapeOptions.fillColor){t.shapeOptions.fillColor=h}if(o.seriesShape){t.shapeOptions.seriesShape=o.seriesShape}}return t});return t};f.prototype._isShowMarkerStroke=function(){return this.runtime().propertyManager().get("plotArea.dataPoint.stroke.visible")};f.prototype._isShowLine=function(){var e=this.runtime().propertyManager();return this._properties.get("marker.showLine")&&(e.has("plotArea.lineVisible")?e.get("plotArea.lineVisible"):e.get("plotArea.line.visible"))&&(e.has("plotArea.line.width")?e.get("plotArea.line.width"):e.get("plotArea.width"))>0};f.prototype._isCombination=function(){var e=this.runtime().markManager();return e.getMode()==="combination"};f.prototype._getMarkerWidth=function(){var e=f.superclass._getMarkerWidth.apply(this,arguments);if(this._isShowWideMarker()){e=e*2}return e};f.prototype._isShowWideMarker=function(){var e=this.runtime().semanticManager();return e.hasDataPointColorStyle()||e.hasDataPointLineStyle()||this._isShowLine()};f.prototype._calcMetaInfo=function(e){f.superclass._calcMetaInfo.apply(this,arguments);if(this._isShowWideMarker()){var t=e.markerSize;var i=2*t;var a=this._markerMargin;var r=parseInt(this._labelFont.fontSize,10);var o=(this.isHorizontal()?a.left+a.right:a.right)*r;var n=l.LEGEND.HORIZONTAL_OFFSET;e.shapeX=i/2+n;e.textX=e.textX+t;e.postRenderX=i/2+n;e.miscWidth=e.miscWidth+t;e.eachItemWidth=e.eachItemWidth+t;this._markerSize=t*2}};f.prototype._calcDomain=function(e,t){var i=this.runtime().semanticManager();var r=this.runtime().propertyManager().get("plotArea.line.marker.shape");var o=this._properties.get("marker.shape");var l=this._isCombination();return e.map(function(e,s){e.id=s;var u=this._toValueString(e.data,t);var c=e.color;if(a.isString(c)&&c&&c.indexOf("url")===-1){c=n.convertColor(c)}var h={id:s,val:e.data,text:u,ctx:e.context,shape:e.shape,cls:e.cls,pattern:e.pattern,isSemantic:e.isSemanticItem};if(e.isSemanticItem){if(i.hasDataPointLineStyle()){if(a.isString(e.lineColor)&&e.lineColor&&e.lineColor.indexOf("url")===-1){h.lineColor=n.convertColor(e.lineColor)}if(e.lineType){h.lineType=e.lineType}if(l){if(e.lineColor||e.lineType){h.shape=r}else{h.shape=o}}}if(i.hasDataPointColorStyle()){if(e.color){h.color=c}}}else{h.color=c}if(e.seriesShape){h.seriesShape=e.seriesShape}return h},this)};return f});define("sap/viz/chart/components/legend/CombinationLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/LineLegend","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ColorScale","sap/viz/framework/scale/ColorShapeScaleMerger"],function(e,t,i,a,r,o){var n=function(){n.superclass.constructor.apply(this,arguments)};e.extend(n,t);function l(e){if(a.isArray(e)){return e.map(function(e){return l(e)}).join("-")}else{return""+e}}n.prototype._buildColorShapeScale=function(e){var t=this._properties.get("groupByShape"),i={};var a=n.superclass._buildColorShapeScale.apply(this,arguments);if(t&&!this._properties.get("order")){e.forEach(function(e){if(!e.rowArray){return}e.rowArray.forEach(function(e){i[l(e)]=e.mndIndex})});var r={};var o=[];if(this._data.valueAxis2){o=o.concat(this._data.valueAxis2.metaData)}if(this._data.valueAxis){o=o.concat(this._data.valueAxis.metaData)}o.forEach(function(e){r[e.id]=e.name||e.id});var c=a.items();var h=[],p=[];c.forEach(function(e){if(e.isSemanticItem){p.push(e)}else{h.push(e)}});var d=s(u(h,i,r));c.splice(0,c.length);c.push.apply(c,p);c.push.apply(c,d)}return a};function s(e){return Object.keys(e).reduce(function(t,i){var r=e[i];return t.concat(a.isArray(r)?r:s(r))},[])}function u(e,t,i){var a=c(e,function(e){return e.seriesShape});Object.keys(a).forEach(function(e){a[e]=c(a[e],function(e){var a=l(e.data);var r=e.context.measureNames;if(r){var o=e.data.slice();var n=o.indexOf(i[r]);if(n>-1){o[n]=r;a=l(o)}}return t[a]})});return a}function c(e,t){return e.reduce(function(e,i){var a=t(i);if(!e.hasOwnProperty(a)){e[a]=[]}e[a].push(i);return e},{})}return n});define("sap/viz/chart/chains/RawDataParserFactory",["sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/oo"],function(e,t,i,a,r){var o=function(e){this._option=e||{}};o.prototype.parse=function(e){return e===undefined?null:e};var n=function(e){n.superclass.constructor.apply(this,arguments);this._skipDateChecking=e&&e.skipDateChecking;this._cache={}};r.extend(n,o);n.prototype.parse=function(r){var o;var n=null;if(this._option&&this._option.fiscalObj){r=parseInt(r)}if(typeof r!=="number"){if(r!=null&&typeof r==="object"){if(r.v!=null){if(this._option.showAsUTC){o=new Date(r.v).getTime()}else{o=e.createDateInstance(r.v).getTime()}}else if(r.v==null){return null}}else{if(this._option.showAsUTC){o=new Date(r).getTime()}else{o=e.createDateInstance(r).getTime()}}if(!isNaN(o)){n={parsedValue:o,v:r};if(r.d!=null){n.d=r.d}if(r.v!=null){n.v=r.v}}else if(!this._skipDateChecking){i.error(a.getLogMessage("IDS_ERROR_DATE_HAVE_INVALID_FORMAT"))}}else{n={v:r};if(this._option&&this._option.fiscalObj){n.parsedValue=t.fiscalToQuantity(r,this._option.fiscalObj)}else{n.parsedValue=r}}var l=this._option&&this._option.dataTimeLevel;if(n!=null&&l!=null){var s=n.parsedValue;if(this._cache[s]){n.parsedValue=this._cache[s]}else{o=e.truncate(n.parsedValue,l,this._option.showAsUTC,this._option.fiscalObj,this._option.weekConfig);this._cache[s]=o;n.parsedValue=o}}return n};var l={get:function(e,t,i){var a;e=e||"";e=e.toLowerCase();if(e==="date"&&i==="timeAxis"){a=new n(t)}else{a=new o(t)}return a}};return l});define("sap/viz/chart/chains/ChainUtils",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/Constants","sap/viz/chart/chains/RawDataParserFactory","sap/viz/framework/common/util/ArrayUtils"],function e(t,i,a,r,o,n,l){var s="Dimension";var u="Measure";var c="measureNames";var h="trellisColumn";var p="trellisRow";var d="trellis.columnCategory";var f="trellis.rowCategory";var v="frame.data";var g="_context_row_number";var m={};var y=i.getDimensionValue;m._BULLET_MEASURES=["actualValues","additionalValues","targetValues","forecastValues"];var _=function(e){var t={};e.forEach(function(e){t[e.role]=e.id});return t};var A=function(e,i,a,r,o,n,l){var s={};var u;var c;for(u in e){if(e.hasOwnProperty(u)){s[u]=e[u]}}var h=n?r:o;var p=n?o:r;for(u in i){if(i.hasOwnProperty(u)){if(!t.isArray(i[u].values[r])){c=[]}else{c=i[u].values[r][o]}s[u]={range:i[u].range,values:c,metaData:i[u].metaData};if(i[u].categorySum){if(!t.isArray(i[u].categorySum[h])){i[u].categorySum[h]=[]}if(t.isArray(c)){i[u].categorySum[h][p]=m.sumByCategory(c)}else{i[u].categorySum[h][p]=c}}}}function d(e,t){var i=[],a=[];var n=e&&e.metaData;var l=e&&e.values;for(u=0;n&&u<n.length;++u){var c=n[u];var h=l[u];if(h[r]){i.push(h[r][o]);a.push(c)}}s[t]={values:i,metaData:a}}d(a,"context");d(l,"additionInfo");return s};var b=function(e){var t=e.length;for(var i=0;i<t;i++){if(e[i].feed===p){return true}else if(e[i].feed===h){return false}}throw"Binding not match"};var x=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){var a=t[i];if(a){a.values=[a.values]}}}};var S=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){var a=t[i];a.values.forEach(function(e,t){a.values[t]=[a.values[t]]})}}};var D=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){var a=t[i];for(var r=0;r<a.values.length;++r){var o=a.values[r];for(var n=0;n<o.length;++n){o[n]=[o[n]]}}}}};var w=S;var C=function(e,t){var i={};t.forEach(function(t){if(t.type===u){var a=t.id;var r=e[a];if(r){i[a]=r}}});return i};var T=function(e,t){var i={};t.forEach(function(t){if(t.role!==p&&t.role!==h){var a=t.id;var r=e[a];if(r){i[a]=r}}});return i};var z=function(e,t,i,a,r,o,n,l,s,u){var c=T(r,n);var h=C(r,n);var p=r.context;var d=r.additionInfo;x(h,r);if(p){w({context:p},r)}if(d){w({additionInfo:d},r)}var f=[];var v=[];for(var g=0;g<s;g++){var m;m=A(c,h,p,0,g,true,d);var y=i.filter(function(e){return e!=="dataFrame"});m.seriesType=r.seriesType;e(t,y,a,m,undefined,u,n);f[g]=m.series;for(var _=0;_<m.seriesContext.length;_++){v.push(m.seriesContext[_])}}r.allSeries=f;r.series=f[0];r.seriesContext=v;["","2"].forEach(function(e){var t="valueAxis"+e;var i="allCategorySum"+e;if(r[t]&&r[t].categorySum&&r[t].categorySum[0]&&Array.isArray(r[t].categorySum[0])){r[i]=r[t].categorySum[0];r[t].categorySum=r[i][0]}})};var L=function(e,t,i,a,r,o,n,l,s,u,c){var h=b(o);var p=T(r,n);var d=2;var f=C(r,n);var v=r.context;var g=r.additionInfo;if(u===0){x(f,r);if(v){w({context:v},r)}if(g){w({additionInfo:g},r)}u=1;d=1;h=true}if(c===0){S(f,r);if(v){D({context:v},r)}if(g){D({additionInfo:g},r)}c=1;d=1}var m=[];for(var y=0;y<u;y++){for(var _=0;_<c;_++){var z;if(h){z=A(p,f,v,y,_,h,g)}else{z=A(p,f,v,_,y,h,g)}var L=i.slice(d);z.seriesType=r.seriesType;var P;if(!m[y]){m[y]=[]}P={trellisRow:l?l.rowArray[y]:undefined,trellisColumn:s?s.rowArray[_]:undefined};e(t,L,a,z,P,{},n);m[y][_]=z.series}}r.series=m};var P=function(e,t,i){var a=t.items;var r=a.length;var o=t.position;var n=e.length;var l=n/i;var s=[];var u;var c,h,p,d;s.length=n*r;if(o===i-1&&t.respectOrder){for(c=0;c<l;c++){u=c*r;for(h=0;h<r;h++){d=(u+h)*i;for(p=0;p<i-1;++p){s[d+p]=e[c*i+p]}s[d+p]=a[h]}}}else{s=e;var f;for(c=0;c<r-1;++c){f=f||JSON.parse(JSON.stringify(e));s=s.concat(f)}for(c=r;c--;){u=c*n;for(h=l;h--;){d=u+h*i+o;s[d]=a[c]}}}return s};var k=function(e){var t=e.length;var i=1;var a=[];for(var r=t-1;r>=0;r--){var o=e[r];var n=o.length;var l={};for(var s=0;s<n;s++){l[o[s]]=s}a[r]={multiplier:i,value:l};i=i*n}return a};var E=function(e){var t=[],i;var a={};for(var r=0,o=e.length;r<o;r++){i=y(e[r]);var n=","+i;if(!a[n]){t.push(i);a[n]=true}}return t};var I=function(e,i,a,r,o,n){var s,u;var h=[];for(s=0,u=a.length;s<u;++s){var p=a[s];if(p[c]){h.push(r)}else{var d=i.metadata(p)[0];var f=m.parseData(i,p,o);if(d.domain){h.push(E(d.domain))}else{h.push(E(f))}}}var v=k(h);if(!t.isArray(v)){return[]}if(n&&n.isTimeStacked){var g=v[0].value;var _=[];if(g){for(var A in g){if(g.hasOwnProperty(A)){_.push(A)}}if(_.length>0){l.stableSort(_,function(e,t){return parseInt(e)-parseInt(t)})}for(s=0;s<_.length;s++){g[_[s]]=s}}}var b=[];for(s=0,u=e.length;s<u;s++){var x=0;var S=e[s],D;for(var w=0,C=v.length;w<C;w++){D=y(S[w]);x+=v[w].multiplier*v[w].value[D]}if(x>-1){b.push({idx:x,val:S})}}b.sort(function(e,t){return e.idx-t.idx});var T=b.map(function(e){return e.val});return T};var O=function(e,t,i,a){var r,o;var n=F(t),s=false;for(r=0;r<i.length;r++){if(n[i[r]]){s=true}}if(!s){return e}var u={};if(a&&a.length>0){for(r=0;r<a.length;r++){u[a[r]]=r}}return l.stableSort(e,function(e,t){var a=0;for(r=0,o=i.length;r<o;++r){var l=i[r];if(l[c]){a=u[e[r]]-u[t[r]]}else{var s=n[l];if(s){var h=s.fnComparator||V;var p=s.bDescending;a=h(e[r],t[r]);a=p?-1*a:a}}if(a!==0){return a}}return a})};function R(e,t){return Math.floor(e/t)}function N(e,t,i){e.order=e.order||[];if(i===t.length){e.order.push(t);e.isLeaf=true;return}var a=y(t[i]);e.map=e.map||{};var r;if(a==null){if(e.noValueMap==null){e.noValueMap=e.order.length;e.order.push({})}r=e.noValueMap}else{if(e.map[a]==null){e.map[a]=e.order.length;e.order.push({})}r=e.map[a]}N(e.order[r],t,++i)}function M(e,t){for(var i=0;i<e.order.length;++i){if(e.isLeaf){Array.prototype.push.apply(t,e.order);return}M(e.order[i],t)}}function B(e){var t={};e.forEach(function(e){N(t,e,0)});var i=[];M(t,i);return i}function V(e,t){var a=e&&e[i.DIMENSION_VALUE]||e,r=t&&t[i.DIMENSION_VALUE]||t;if(a==r){return 0}if(r==null){return-1}if(a==null){return 1}if(typeof a=="string"&&typeof r=="string"){return a.localeCompare(r)}if(a<r){return-1}if(a>r){return 1}return 0}function F(e){var i,a,r={};var o=e._FlatTableD._dataset.metadata.fields;if(t.isExist(o)){o.forEach(function(e){if(e.id&&e.sorter){var i={};var a=e.sorter.bDescending;var o=e.sorter.fnComparator;if(a&&typeof a==="boolean"){i.bDescending=a}else{i.bDescending=false}if(o&&t.isFunction(o)){i.fnComparator=o}r[e.id]=i}})}return r}var H=function(e,t,i,a,r,o,n){if(!e||!e.length){return[]}var l=t.items;var s=l.length;var u=s>0;var c=t.position;var h=a.length;var p=e.length/h;var d=u?p/s:p;var f={};var v=[];var g,m;var _=t.respectOrder;var A=t.groupOption;var b=_&&c>-1&&c===h-1&&h!==1;for(g=0;g<p;++g){var x=g*h;var S="";for(m=0;m<h;++m){S+=","+String(y(e[x+m]))}var D=f[S];if(D==null){D=f[S]=v.length;var w=e.slice(x,x+h);v.push(w);w.reference=[];w.mndIndex=b?l[g%s]:u?l[R(g,d)]:null}var C=b?R(g,s):g%d;v[D].reference.push(C)}if(v[0]&&v[0].length>0){if(!_){v=I(v,i,a,t.globalMND,r,n)}else if(A.groupData&&A.respectOrderInGroup){v=B(v)}if(A.bindingName!=="color"&&A.bindingName!=="shape"||!A.legendOrder){v=O(v,i,a,l)}}if(o){var T=[];var z=v.length;for(g=0;g<z;++g){var L=v[g].reference;var P=L.length;for(m=0;m<P;++m){var k=L[m];T[k]=T[k]||[];T[k].push(g)}}var E=T.length;for(g=0;g<E;++g){var N=T[g];if(!N){continue}o[g]=o[g]||[];o[g].push(N)}o.levels=o.levels||0;o.levels++}return v};function U(e,i,a,r,o){var n=o.enableDuplicated;var l=o.isBullet;var s=[];var u=r&&r.levels;var c=e.length;var h;var p=function(e,t,i){var a=e[t];return a[i]?a[i]:a[0]};var d=function(e,i,a,r){for(var o=0;o<i;++o){if(e.length>=u){var l=s;for(var c=0;c<u-1;c++){var h=p(e,c,o);l=l[h]=l[h]||[]}var d=p(e,c,o);if(t.isExist(d)){var f=r===null&&a[o]!=null?a[o]:r;if(n){l[d]=l[d]||[];l[d].push(f)}else{if(l[d]==null){l[d]=f}}}}}};if(u){for(h=0;h<c;h++){var f=r[h];if(t.isExist(f)){var v=e[h];var g=v.length;var m=null;if(g!==a.length||o.buildContextId){if(l){m=v.slice()}else{m=v[g-1]}g=a.length?a.length:1}d(f,g,v,m)}}}else{for(h=0;h<c;h++){s[h]=e[h].slice()}}return s}m.buildMetaData=function(e,t,i){return t.map(function(t){if(i&&t[c]){return{id:c,type:s,values:i.map(function(t){var i=e.metadata(t)[0];return{id:i.id,name:i.name}})}}else{var a=false;if(t.id){a=!!t.showInTooltip;t=t.id}var r=e.metadata(t)[0];if(t===g){return{id:r.id,name:r.name}}else{var n={id:r.id,name:r.name,type:r.semanticType,dataType:r.dataType};if(a){n.showInTooltip=true}if(r.formatString){n.formatString=r.formatString}if(r.hasOwnProperty("max")){n.max=r.max}if(r.hasOwnProperty("min")){n.min=r.min}if(r[o.FIELD.INRESULT]){n.hidden=true}if(r[o.FIELD.UNIT]){n.unit=r[o.FIELD.UNIT]}return n}}})};m.getArrayLength=function(e){var t=[];for(var i=0;i<e.length;i++){t.push(e[i].rowArray.length)}return t};m.generateNum=function(e,t){var i=0;for(var a=0,r=t.length;a<r;a++){var o=1;for(var n=a+1,l=e.length;n<l;n++){o*=e[n]}i+=t[a]*o}return i};m.dpInitializer=function(e){return function(){return e?{trellisRow:e.trellisRow,trellisColumn:e.trellisColumn}:{}}};m.sumByCategory=function(e){var i=[],a,r,o,n,l;var s=0;for(r=0,n=e.length;r<n;r++){var u=0;a=e[r];if(t.isArray(a)){for(o=0,l=a.length;o<l;o++){if(t.isArray(a[o])||!t.isNumber(a[o])){continue}var c=+a[o];if(u===0){u=c}else if(u<0&&c>0){u=c}else if(u*c>0){u+=c}}}else{u=+a}i[r]=u}return i};m.generateSeriesGetter=function(e){return function(t,i,a,r,o,n,l){var s=_(n);var u=r[s[f]];var c=r[s[d]];var h=u?u.rowArray.length:0;var p=c?c.rowArray.length:0;if(h===0&&p===0){var g=r[s[v]];var m=g?g.rowArray.length:0;if(m===0){e(t,i,a,r,undefined,l,n)}else{z(e,t,i,a,r,o,n,g,m,l)}}else{L(e,t,i,a,r,o,n,u,c,h,p)}}};m.parseData=function(e,i,a){var r;if(t.isExist(a)){r=a[i]}if(!t.isExist(r)){r=e.dataInFields([i]);for(var o in r){if(r.hasOwnProperty(o)){r[o]=r[o].data[0];if(r[o]===undefined){r[o]=null}}}}return r};m.getMetadata=function(e){return e._FlatTableD._dataset.metadata};m.getData=function(e,i,a,l,s){var u,c,h,p;if(!a&&t.isExist(i)){var d=[];for(u=0;u<i.length;u++){for(c=0;c<i[u].source.length;c++){if(t.isString(i[u].source[c])){d.push(i[u].source[c])}}}a=e._FlatTableD.columnDataInFields(d).data;if(r.isFiscal(e)){var f=[];for(u in a){if(a.hasOwnProperty(u)){var v=e._FlatTableD.getMetadata(u)[0].timeUnitType;if(v&&v.indexOf(o.FISCAL.UNITTYPE_PREFIX)===0){for(c=a[u].length-1;c>=0;c--){var g=r.fiscalToQuantity(a[u][c],l.fiscalObj);if(g==null||isNaN(g)){f.push(c)}}break}}}for(u=0;u<f.length;u++){for(var m in a){if(a.hasOwnProperty(m)){a[m].splice(f[u],1)}}}}for(u in a){if(a.hasOwnProperty(u)){var y=e._FlatTableD.getMetadata(u)[0].dataType;var _=n.get(y,l,s);var A=a[u];h=A.length;for(c=0;c<h;c++){p=A[c];if(p!==null){A[c]=_.parse(p)}}}}}return a};m.handleDimension=function(e,t,i,a,r,o,n){if(!t){throw"flat table need fieldsName as it's bindingInfo"}var l=t.length;var u=[];var h=false;var p=-1;var d=[];var f,v;var g=!a.groupData||a.respectOrderInGroup;for(f=0;f<l;f++){var y=t[f];if(y[c]){h=true;p=f;d=i}else{var _=e.metadata(y)[0];if(_.semanticType!==s){throw"semantic type not match"}var A=m.parseData(e,y,r);var b=A.length;if(!u.length){u.length=l*A.length}for(v=0;v<b;v++){u[v*l+f]=A[v]}if(_.domain){g=false}}}var x={globalMND:i,items:d,position:p,respectOrder:g,groupOption:a};if(h){if(u.length>0){u=P(u,x,l)}else{var S=e._FlatTableD._data.length;for(f=0;f<S;f++){d.forEach(function(e,t){u[t*S+f]=e})}}}var D=H(u,x,e,t,r,o,n);return D};m.handleContinuousDimension=function(e,t,i,a){if(!t){throw"flat table need fieldsName as it's bindingInfo"}var r=t.length;for(var o=0;o<r;o++){var n=t[o];var l=e.metadata(n)[0];if(l.semanticType!==s){throw"semantic type not match"}var u=m.parseData(e,n,a);return u.map(function(e){return[e]})}};m.handleMeasure=function(e,t,i,a,r,o){if(t){var n=t.length;var l=[];for(var s=0;s<n;s++){var u=m.parseData(e,t[s],a);if(!l.length){l.length=u.length}for(var c=u.length;c--;){l[c]=l[c]||[];l[c][s]=u[c]}}var h=U(l,t,i,r,o);var p={measureArray:l,multiArray:h};if(r&&r.length&&r.levels&&!o.enableDuplicated){p.measureArray=G(l,r)}if(o&&o.funMeasuresCalculator){o.funMeasuresCalculator(o,p)}return p}else{throw"flat table need fieldsName as it's bindingInfo"}};function W(e,i){return e.map(function(e,a){return t.isExist(e)?e:i[a]})}function G(e,t){var i=[],a={};for(var r=t.length,o=0,n;o<r;o++){if(!t[o]){continue}n=t[o].map(function(e){return e.join(",")}).join(":");if(!a.hasOwnProperty(n)){i.push(e[o]);a[n]=i.length-1}else{var l=a[n];i[l]=W(i[l],e[o])}}return i}m.generateIndexArray=function(e){var i=e.length;if(i===0){return[0]}var a=[];var r,o;for(r=0;r<i;r++){for(o=0;o<e[r];o++){a[r]=a[r]||[];a[r].push(o)}}var n=0;var l=[];if(a.length===1){for(r=0;r<a[0].length;r++){l[n]=l[n]||[];l[n].push(r);n++}return l}if(a.length&&t.isExist(a[0])){for(r=0;r<a[0].length;r++){for(o=0;o<a[1].length;o++){l[n]=l[n]||[];l[n].push(r);l[n].push(o);n++}}}return l};m.processSeriesContext=function(e,i,a){var r;if(e&&e.values){var o=e.metaData;r=[];var n=e.values;for(var l=0;l<o.length;++l){var s=o[l];var u=n[l];if(u){if(i>=0){u=u[i]}for(var c=0;u&&c<a.length;c++){if(t.isExist(u[a[c]])){u=u[a[c]]}}}r.push(u)}}return r};m.processYYSeriesContext=function(e,i){if(t.isArray(i)){return m.processSeriesContext(e,-1,i)}else if(!e||!e.values){return undefined}else{return e.metaData.map(function(i,a){var r=e.values[a];return t.isArray(r)?r.map(function(e){return e[0]}):r})}};m.getAvailableCategories=function(e,i){var a=[];var r=this.getArrayLength(i);var o=this.generateIndexArray(r);if(e[0]&&e[0].values){e[0].values.forEach(function(e,i){if(t.isArray(e)){for(var r in e){if(e.hasOwnProperty(r)){r=parseInt(r);a[r]=a[r]||[];a[r].push(i)}}}else{o.forEach(function(e,t){a[t]=a[t]||[];a[t].push(i)})}})}return a};return m});define("sap/viz/chart/chains/SeriesContext",["sap/viz/framework/common/util/DataUtils"],function(e){return function(t,i,a,r){if(i.length===0){var o=[];if(r&&r.length===1&&r[0]&&r[0].metaData){o=[{measureNames:r[0].metaData[0].id}]}return o}else{return t.map(function(t){var r,o=0;while(o<t.length&&!t[o]){o++}if(o>=t.length){return null}r=t[o];return i.reduce(function(t,i,o){var n=a[o].metaData,l=r[i];n.forEach(function(i,a){t[i.id]=l[a]&&l[a][e.DIMENSION_VALUE]||l[a]});return t},{})})}}});define("sap/viz/chart/chains/BaseChains",["sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/ChainUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/binding/BindingManager","sap/viz/chart/chains/SeriesContext"],function e(t,i,a,r,o,n,l){var s={};var u;var c;var h=function(){c=[];u=null};s.defineSpec=function(e,t,i){e.forEach(function(e){var a,r,o;for(o=0;o<t.length;o++){if(e.measureMeta&&e.measureMeta.indexOf(t[o])>-1){a=t[o];break}}for(o=0;o<i.length;o++){if(e.seriesMeta&&e.seriesMeta[i[o]]&&e.seriesMeta[i[o]].hasOwnProperty("mndIndex")){r=e.seriesMeta[i[o]].mndIndex;break}}Object.defineProperty(e,"spec",{enumerable:false,value:{mndKey:a,mndIdx:r}})})};var p=function(e,a,r,o,n,u){var c=[];var h="categoryAxis";var p=o[h];var d=[],f=[],v=[],g=[];if(p){var m="context";var y=u&&u.allowEmptyMeasure;a.filter(function(e){return e!==h}).forEach(function(e){if(o[e]){d.push(o[e]);f.push(e)}});r.forEach(function(e){if(o[e]){v.push(o[e]);g.push(e)}});var _=i.dpInitializer(n);var A=i.getArrayLength(d);var b=i.generateIndexArray(A);var x,S,D,w,C;var T=i.getAvailableCategories(v,d);var z;for(S=0;S<b.length;S++){c[S]=new Array(p.rowArray.length);Object.defineProperty(c[S],"measureMeta",{enumerable:false,value:g});if(!T[S]){continue}for(var L=0;L<T[S].length;L++){var P=T[S][L];x=_();var k=true;var E={};for(D=0;D<b[S].length;D++){var I=d[D].rowArray[b[S][D]];if(I.mndIndex){var O=I.mndIndex;z=o[f[D]].metaData;var R=z[I.indexOf(O)];if(R&&R.values){var N=R.values;for(w=0;w<N.length;w++){if(N[w].id==O){I.mndIndex=w;break}}}}var M=f[D];x[M]=I;E[M]=I}if(!c[S].seriesMeta){Object.defineProperty(c[S],"seriesMeta",{enumerable:false,value:E})}for(w=0;w<v.length;w++){if(t.isExist(v[w].values)&&(t.isExist(v[w].values[P])||v[w].metaData[0].type==="Dimension")){C=v[w].values[P];for(D=0;D<b[S].length;D++){if(t.isExist(C[b[S][D]])||y){C=C[b[S][D]]}}if(t.isArray(C)){k=false}else{x[g[w]]=C}}else{k=false}}var B=i.processSeriesContext(o.context,P,b[S]);if(B){x.context=B}var V=i.processSeriesContext(o.additionInfo,P,b[S]);if(V){x.addition=V}if(!k){continue}var F=i.generateNum(A,b[S]);c[F]=c[F]||[];c[F][P]=x}}}o.series=c.filter(function(e){return e});o.seriesContext=l(c,f,d,v);if(u&&u.isFlexibleStack){s.defineSpec(c,r,a)}};s.GetBindingSeries=i.generateSeriesGetter(p);s.GetContext=function(e,t,a,r){if(t.length===0){return{values:[],metaData:[]}}var o=[];for(var n=0;n<t.length;++n){var l=t[n].id||t[n];var s=i.handleMeasure(e,[l],r,u,c,{enableDuplicated:a,buildContextId:true});o.push(s.multiArray)}return{values:o,metaData:i.buildMetaData(e,t)}};function d(e,t){var i=null;if(e){e.some(function(e){if(e.id===t){i=e;return true}return false})}return i}s.GetDimensionsFromFlattable=function(e,t,a,r,n,l,s,h){var p=i.getMetadata(e).fields;u=i.getData(e,r,u,h,l);for(var f=0,v=t.length;f<v;f++){var g=t[f];for(var m=0,y=p.length;m<y;m++){if(g.measureNames||g===p[m].id){var _;var A=d(n,l);if(A&&A.continuous&&(!h||h&&!h.isTimeStacked)){_=i.handleContinuousDimension(e,t,a,u)}else{var b={isTimeStacked:l==="timeAxis"&&h&&h.isTimeStacked};s.bindingName=l;_=i.handleDimension(e,t,a,s,u,c,b)}return{values:o.transpose(_),metaData:i.buildMetaData(e,t,a),rowArray:_}}}}};s.GetMeasuresFromFlattable=function(e,a,r,n,l,s,h,p){var d=i.getMetadata(e).fields;u=i.getData(e,n,u,p);var f;if(p&&p.isTimeWaterFall){var v=a[0];if(v){var g,m="Date";for(g=0;g<n.length;g++){var y=n[g];if(y.feed==="timeAxis"){m=y.source[0]||m;break}}f=u[m].map(function(e,t){return{Date:e,Value:u[v][t]}});o.stableSort(f,function(e,t){if(e.Date&&t.Date){return e.Date.parsedValue-t.Date.parsedValue}else if(!e.Date){return-1}else if(!t.Date){return 1}});for(g=0;g<f.length;g++){u[m][g]=f[g].Date;if(f[g].Date){u[v][g]=f[g].Value}else{u[v][g]=null}}}}var _,A;var b=p&&p.isTimeStacked;if(b){_=p.timeAxis.values[0];A=function(e,t){if(e.timeValue&&t.timeValue){return e.timeValue-t.timeValue}else if(!e.timeValue){return-1}else if(!t.timeValue){return 1}}}for(var x=0,S=a.length;x<S;x++){for(var D=0,w=d.length;D<w;D++){if(a[x]===d[D].id){if(!p){p={}}p.bindingName=s;p.enableDuplicated=l;var C=i.handleMeasure(e,a,r,u,c,p);var T=o.transpose(C.measureArray);var z=0,L=T.length;var P=Array(L);for(;z<L;++z){var k=T[z];var E=Infinity,I=-Infinity;for(var O=0,R=k.length;O<R;++O){var N=k[O];if(N==null){continue}N=+N;E=Math.min(E,N);I=Math.max(I,N)}P[z]=[E,I]}var M=i.buildMetaData(e,a);if(!(r&&r.length)){M=[M[M.length-1]];P=[P[P.length-1]]}var B=C.multiArray;if(b){var V=B.map(function(e,t){return{array:e,timeValue:_[t]&&_[t].parsedValue}});o.stableSort(V,A);B=V.map(function(e){return e.array})}if(P.length){M.forEach(function(e,i){if(e.hasOwnProperty("min")&&t.isNumeric(e.min)){P[i][0]=e.min}if(e.hasOwnProperty("max")&&t.isNumeric(e.max)){P[i][1]=e.max}})}var F={values:B,range:P,metaData:M};if(h){if(h==="NEED_ONLY_TOTAL_SUM"){var H=F.values.some(function(e){return e>0});F.totalSum=o.sum(F.values.filter(function(e){return e>0||!H}))}else{F.categorySum=i.sumByCategory(B)}}return F}}}};s.OnBindingFinished=function(){h()};s.OnBindingStart=function(){h()};s.extend=function(e,t){var i={};t.forEach(function(t){i[e+t]=s[t]});Object.defineProperty(i,"parsedData",{get:function(){return u},set:function(e){u=e}});Object.defineProperty(i,"multiDimensionIndex",{get:function(){return c},set:function(e){c=e}});return i};n.registerChain("GetBindingSeries",s.GetBindingSeries);return s});define("sap/viz/chart/chains/XYChains",["sap/viz/chart/chains/BaseChains","sap/viz/framework/binding/BindingManager"],function e(t,i){var a={};var r=["GetDimensionsFromFlattable","GetMeasuresFromFlattable","GetBindingSeries","GetContext","OnBindingFinished","OnBindingStart"];a=t.extend("xy",r);Object.keys(a).forEach(function(e){i.registerChain(e,a[e])});return a});define("sap/viz/chart/scales/FrameScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i){var a=function(e,t){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.FrameScale";this._name=null;this._type="frame";this._initScale()};e.extend(a,t);a.prototype._initScale=function(){this._scale=d3.scale.ordinal();var e=[];for(var t=0,i=this._domain.length;t<i;t++){if(this._domain[t]){e.push(this._domain[t].v||this._domain[t])}else{e.push(this._domain[t])}}this._scale.domain(e).range(this._range);this._isReset=false};a.prototype.getDomain=function(){this._ensureScaled();return this._domain};a.prototype.getRange=function(){this._ensureScaled();return this._range};a.prototype.scale=function(e){var t=this.getDomain();for(var a in t){if(i.deepEqual(t[a],e)){return this._scale(e?e.v||e:e)}}return 0};a.prototype._ensureScaled=function(){if(this._scale===undefined||this._isReset===true){this._initScale()}};return a});define("sap/viz/chart/scales/FrameScaleProcessor",["sap/viz/chart/scales/FrameScale","sap/viz/framework/scale/ScaleRepository"],function(e,t){var i=function(t,i,a,r,o){o=o||{};var n=o.seriesType,l=o.role;var s=[];var u=[];if(t.values&&t.values[0]){for(var c=0;c<t.values[0].length;c++){s.push(t.values[0][c]);u.push(c)}}a.add(i,{serializable:true,defaultValue:{feed:i,type:"frame",currentValue:null}});a.add(i+".domain",{serializable:true,readonly:true,defaultValue:s});var h=new e(s,u);return h};t["frameScale"]=i;return i});define("sap/viz/chart/dynamicScales/StackedDyScaleProcessor",["sap/viz/framework/common/util/oo","sap/viz/framework/scale/DynamicScaleRepository","sap/viz/chart/dynamicScales/BaseDyScaleProcessor"],function(e,t,i){function a(e,t,i,r){a.superclass.constructor.apply(this,arguments)}["stacked_bar","stacked_column","dual_stacked_bar","dual_stacked_column","timeseries_stacked_column","waterfall","horizontal_waterfall","timeseries_waterfall","stacked_waterfall","horizontal_stacked_waterfall","stacked_combination","horizontal_stacked_combination","dual_stacked_combination","dual_horizontal_stacked_combination","timeseries_stacked_combination"].forEach(function(e){t[e]=a});e.extend(a,i);a.prototype.getMinMax=function(){var e=this.cleanValue;var t=false,i=false;var a=!!this._scales.valueAxis2;this._dataModel._series.forEach(function(r){var o=a&&r.measureMeta&&r.measureMeta.indexOf("valueAxis2")>-1;r.forEach(function(a){if(!a){return}var r=e(this.getValue(a));if(o){i=i===false?r:i;i=Math.min(i,r)}else{t=t===false?r:t;t=Math.min(t,r)}},this)},this);var r=this._scales[this._mainValue].getAutoDomain().map(e);var o={minTable:[Math.max(t,0)],maxTable:[Math.max.apply(null,r)]};if(a){r=this._scales.valueAxis2.getAutoDomain().map(e);o.minTable2=[Math.max(i,0)];o.maxTable2=[Math.max.apply(null,r)]}return o};return a});define("sap/viz/chart/views/XYChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plotareas/XYPlotArea","sap/viz/chart/components/legend/CombinationLegend","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/legend/LineLegend","sap/viz/framework/binding/bindingValidationUtil","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/chains/XYChains","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/dynamicScales/StackedDyScaleProcessor"],function e(t,i,a,r,o,n,l,s,u){var c=function(e,t){c.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;this.setValueAxisIndex(t.bindings);e.statusManager().add("plotArea.series",{get:this._getSeriesSettings.bind(this)})};t.extend(c,i);c.prototype._getSeriesSettings=function(){if(!this._data){return null}return this._data.series.map(function(e){return this._getSingleSeriesSetting(e)}.bind(this))};c.prototype._getSingleSeriesSetting=function(e){if(!e.seriesMeta){return null}var t={dataContext:u.buildBasic(this._data,e.seriesMeta,null,null,{})};if(this.isLine()){t.type="line"}else if(this.isBar()){t.type="bar"}else if(this._renderType.match(/area/)){t.type="area"}if(this._renderType.match(/area|stacked/)){t.stack="stacked"}return t};c.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments)}c.superclass.setSize.apply(this,arguments)};c.prototype._getDataItems=function(){var e=["valueAxis","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn","seriesContext"];if(this._valueAxisIndex==="valueAxis2"){e[0]="valueAxis2";e[2]="color2"}return e};c.prototype._createPlotContainer=function(e){this._plotArea=new a(this.runtime(),{renderType:this._renderType,valueAxisIndex:this._valueAxisIndex});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};c.prototype.isCombination=function(){return this._renderType.indexOf("combination")!==-1};c.prototype.isLine=function(){return this._renderType.indexOf("line")!==-1};c.prototype._getLegendDefinition=function(){if(this.isCombination()){return[r]}else if(this.isLine()){return[l]}else{return c.superclass._getLegendDefinition.apply(this,arguments)}};c.prototype.isBar=function(){return this._renderType.search(/bar|column/)!==-1};c.prototype._getLegendInitOptions=function(){var e=this._renderType.search(/area/)===-1;if(this.isBar()){return[{defaultMarkerShape:"squareWithRadius",noFillSupport:e}]}else{return[{noFillSupport:e}]}};c.prototype.calculatePaddingInPX=function(e){var t=c.superclass.calculatePaddingInPX.apply(this,arguments);var i=false;var a=this._plotArea;if(a){var r=a._isHorizontal;if(n.isFunction(r)){i=a._isHorizontal()}else if(r===true){i=true}}if(e.get("title.visible")===false&&!i&&e.get("valueAxis.visible")===true){this.changePaddingTop(e,t)}return t};c.prototype.setData=function(e,t){this.setValueAxisIndex(t);c.superclass.setData.apply(this,arguments)};c.prototype.setValueAxisIndex=function(e){this._valueAxisIndex=s.getValueAxisBindings(e)[0];var t=this._valueAxisIndex==="valueAxis"?"valueAxis2":"valueAxis";this.runtime().zoneManager().remove("tempFeedingZone."+t);this.runtime().zoneManager().remove("tempPropertyZone."+t)};return c});define("sap/viz/chart/metadata/bindings/XYBindings",[],function e(){var t=[{id:"dataFrame",name:"IDS_DATA_FRAME",type:"Dimension",min:0,max:1,acceptMND:false,role:"frame.data"},{id:"trellisColumn",name:"IDS_TRELLIS_COLUMN",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"trellis.columnCategory"},{id:"trellisRow",name:"IDS_TRELLIS_ROW",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"trellis.rowCategory"},{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"layout.category"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"}];return t});define("sap/viz/chart/components/plots/DataHandler",[],function e(){var t=function(){};t.prototype.reset=function(){};t.prototype.getBase=function(e,t){return 0};t.prototype.add=function(e,t){return t};t.prototype.destroy=function(){};var i=function(){};i.prototype.reset=function(e){this._sum=[]};i.prototype.getBase=function(e,t){if(this._sum[e]==null){this._sum[e]=0}return this._sum[e]};i.prototype.add=function(e,t){if(this._sum[e]===0){this._sum[e]=t}else if(this._sum[e]<0&&t>0){this._sum[e]=t}else if(this._sum[e]*t>0){this._sum[e]+=t}return this._sum[e]};i.prototype.destroy=function(){this._sum=null};var a=function(){this._stackedBase=[]};a.prototype.destroy=function(){this._sum=null;this._stackedBase=null};a.prototype.reset=function(){this._sum=[];this._stackedBase=[]};a.prototype.getBase=function(e,t,i){if(this._sum[e]==null){this._sum[e]=0}if(this._stackedBase[e]&&this._stackedBase[e][i]!=null){return this._stackedBase[e][i]}else{return this._sum[e]}};a.prototype.add=function(e,t,i){if(this._stackedBase[e]==null){this._stackedBase[e]=[]}if(this._stackedBase[e][i]==null){this._stackedBase[e][i]=this._sum[e];return this._sum[e]+=t}else{return this._stackedBase[e][i]+t}};var r=function(){this._stackedBase=[]};r.prototype.reset=function(e){this._positiveSum=[];this._negativeSum=[];this._stackedBase=[]};r.prototype.destroy=function(){this._positiveSum=null;this._negativeSum=null;this._stackedBase=null};r.prototype.getBase=function(e,t,i){if(this._positiveSum[e]==null){this._positiveSum[e]=0}if(this._negativeSum[e]==null){this._negativeSum[e]=0}if(this._stackedBase[e]&&this._stackedBase[e][i]!=null){return this._stackedBase[e][i]}else{if(t>=0){return this._positiveSum[e]}else{return this._negativeSum[e]}}};r.prototype.add=function(e,t,i){if(this._stackedBase[e]==null){this._stackedBase[e]=[]}if(this._stackedBase[e][i]==null){if(t>=0){this._stackedBase[e][i]=this._positiveSum[e];return this._positiveSum[e]+=t}else{this._stackedBase[e][i]=this._negativeSum[e];return this._negativeSum[e]+=t}}else{return this._stackedBase[e][i]+t}};var o=function(){this._stackedBase=[]};o.prototype.reset=function(e){this._sum=[];this._stackedBase=[]};o.prototype.getBase=function(e,t,i){if(this._sum[e]==null){this._sum[e]=0}if(this._stackedBase[e]&&this._stackedBase[e][i]!=null){return this._stackedBase[e][i]}else{return this._sum[e]}};o.prototype.add=function(e,t,i){if(this._stackedBase[e]==null){this._stackedBase[e]=[]}if(this._stackedBase[e][i]==null){this._stackedBase[e][i]=this._sum[e];if(this._sum[e]===0){this._sum[e]=t}else if(this._sum[e]<0&&t>0){this._sum[e]=t}else if(this._sum[e]*t>0){this._sum[e]+=t}return this._sum[e]}else{return this._stackedBase[e][i]+t}};o.prototype.destroy=function(){this._sum=null;this._stackedBase=null};var n=function(){this._sum=[];this._base=[];this._addHistory={}};n.prototype.destroy=function(){this._sum=null;this._base=null;this._addHistory=null};n.prototype.reset=function(e){this._sum=[];this._base=[];this._addHistory={}};n.prototype.getBase=function(e,t){if(this._base[e]==null){this._base[e]=t;this._sum[e]=t}return this._base[e]};n.prototype.add=function(e,t){var i=e+"-"+t;if(!this._addHistory[i]){this._sum[e]+=t;this._addHistory[i]=true}return this._sum[e]};var l=function(){};l.prototype.destroy=function(){this._sum=null};l.prototype.reset=function(e){this._sum=[]};l.prototype.getBase=function(e,t){if(this._sum[e]==null){this._sum[e]=t}return this._sum[e]};l.prototype.add=function(e,t){return this._sum[e]+=t};return{getHandler:function(){return new t},getStackHandler:function(e,t){if(e){return new r}else if(t){return new i}else{return new a}},getPercentageStackHandler:function(){return new o},getWTFHandler:function(){return new n},getSTKWTFHandler:function(){return new l}}});define("sap/viz/chart/components/plots/SeriesIterator",[],function(){function e(e,t){var i;switch(t){case"reverse":i={current:e,hasNext:function(){return this.current>0},next:function(){return--this.current},index:function(){return this.current}};break;case"reverse_with_series":i={current:e,hasNext:function(){return this.current>0},next:function(){return--this.current},index:function(){return e-this.current-1}};break;default:i={limit:e,current:-1,hasNext:function(){return this.current<this.limit-1},next:function(){return++this.current},index:function(){return this.current}};break}return i}return{create:e}});define("sap/viz/chart/components/plots/model/DataPointInfo",[],function(){var e=function(e,t,i,a){this._seriesIndex=e;this._itemIndex=t;this._rawData=i;this._id=a;this._node=null;this._position=null;this._isVisible=true;this._refNode=null};e.prototype.getSeriesIndex=function(){return this._seriesIndex};e.prototype.getItemIndex=function(){return this._itemIndex};e.prototype.getRawData=function(){return this._rawData};e.prototype.setRawData=function(e){this._rawData=e;return this};e.prototype.getId=function(){return this._id};e.prototype.init=function(e,t,i,a,r){this._config=e;this._dataId=t;this._data=i;this._dataPointId=a;this._onlyOneMndIndex=r};e.prototype.reset=function(){this._position=null;this._config=null;this._dataId=null;this._data=null;this._dataPointId=null};e.prototype.getOnlyOneMndIndex=function(){return this._onlyOneMndIndex};e.prototype.getConfig=function(){return this._config};e.prototype.setConfig=function(e){this._config=e};e.prototype.getDataId=function(){return this._dataId};e.prototype.getData=function(){return this._data};e.prototype.setData=function(e){this._data=e};e.prototype.getDataPointId=function(){return this._dataPointId};e.prototype.getContext=function(){return this._config.ctx};e.prototype.getAdditionCtx=function(){return this._config.additionCtx};e.prototype.getPosition=function(){return this._position};e.prototype.getNode=function(){return this._node};e.prototype.setNode=function(e){this._node=e;return this};e.prototype.getRefNode=function(){return this._refNode};e.prototype.setRefNode=function(e){this._refNode=e;return this};e.prototype.setPosition=function(e){this._position=e;return this};e.prototype.setVisible=function(e){this._isVisible=e;return this};e.prototype.isVisible=function(){return this._isVisible};return e});define("sap/viz/chart/components/plots/model/Series",[],function(){var e=function(){this._datapoints=[];this._context=null};var t=e.prototype;t.setDataPoint=function(e,t){this._datapoints[e]=t;return this};t.getDataPoint=function(e){return this._datapoints[e]};t.setLength=function(e){this._datapoints.length=e;return this};t.getDataPoints=function(){return this._datapoints};t.setContext=function(e){this._context=e;return this};t.getContext=function(){return this._context};return e});define("sap/viz/chart/components/renderers/ReferenceLineRenderer",["sap/viz/framework/common/util/SVG","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o,n,l,s){var u={};var c=i.REFERENCE_LINE.LABEL_PADDING;var h=30;var p=i.REF_LINE_DASH_TYPE_ARRAY;var d=.8;var f=180;var v=1;var g="v-referenceline-group";var m="v-referenceline-labels-group";u.TEXT_PADDING=c;u._combineConfig=function(e,i){var a=i.defaultStyle;var o={};o.strokeColor=e.color?e.color:a.color;o.lineType=e.type?e.type:a.type;o.strokeWidth=e.size?e.size:a.size;if(o.strokeWidth<1||o.strokeWidth>7){o.strokeWidth=1}o.label={};o.label.background=a.label.background;o=this._checkLabelVisible(e,o);if(o.label.visible===false){return o}var l=a.label;o=this._getLabelStyle(o,e,l);if(e.label&&e.label.background){o.label.background=e.label.background}o.label.visible=true;o.label.text=e.label.text;o.lineOpacity=d;o.label.fontSize=t.validateFontStyle(o.label.fontSize);o.label.textSize=t.fastMeasure(o.label.text,o.label.fontSize,o.label.fontWeight,o.label.fontFamily);o.strokeColor=n.convertColor(o.strokeColor);o.label.background=n.convertColor(o.label.background);o.label.color=n.convertColor(o.label.color);if(!r.isExist(o.strokeColor)||!o.strokeColor.length){o.strokeColor=a.color}if(!r.isExist(o.label.background)||!o.label.background.length){o.label.background=a.label.background}if(!r.isExist(o.label.color)||!o.label.color.length){o.label.color=a.label.color}if(i.props&&i.props.realSize){o.realWidth=i.props.realSize.width;o.realHeight=i.props.realSize.height}return o};u._checkLabelVisible=function(e,t){if(e.label==null||e.label.visible===false||e.label.text==null){t.label.visible=false}return t};u._getLabelStyle=function(e,t,i){for(var a in i){if(i.hasOwnProperty(a)){if(t.label.style&&t.label.style.hasOwnProperty(a)){e.label[a]=t.label.style[a];continue}e.label[a]=i[a]}}return e};u._drawReferenceLine=function(t,a,r,o,n,l,s){var u=e.create("g",r);u.setAttribute("class","v-referenceline v-referenceline-"+a);var c=e.create("line",u);var h=e.create("rect",u);c.setAttribute("stroke",t.strokeColor);c.setAttribute("stroke-width",t.strokeWidth);c.setAttribute("shape-rendering","crispEdges");if(i.GRIDLINE_TYPE.DASHED===t.lineType||i.GRIDLINE_TYPE.DOTTED===t.lineType){c.setAttribute("stroke-dasharray",p)}else if(i.GRIDLINE_TYPE.INCISED===t.lineType){c.setAttribute("stroke","#ffffff")}var d;if(isNaN(t.strokeWidth)){d="-"+parseFloat(t.strokeWidth.slice(0,-2))/2+"px"}else{d="-"+t.strokeWidth/2}c.setAttribute("opacity",t.lineOpacity);h.setAttribute("fill","transparent");c.setAttribute("x1",0);c.setAttribute("y2",0);if(n){c.setAttribute("y1",0);c.setAttribute("x2",l);h.setAttribute("y",d);h.setAttribute("height",t.strokeWidth);h.setAttribute("width",l)}else{c.setAttribute("y1",s);c.setAttribute("x2",0);h.setAttribute("x",d);h.setAttribute("width",t.strokeWidth);h.setAttribute("height",s)}};u._buildLabelObj=function(i){var o=i.combinedConfig;var n=e.create("g",i.labelsGroupDOM);n.setAttribute("class","v-referenceline-label v-referenceline-label-"+i.key);n.setAttribute("fill",o.label.color?o.label.color:o.axisColor);n.setAttribute("font-size",o.label.fontSize);n.setAttribute("font-weight",o.label.fontWeight);n.setAttribute("font-family",o.label.fontFamily);n.setAttribute("font-style",o.label.fontStyle);var l=o.label.textSize;var s=l.width;var u;if(s>f){s=f;u=f}var p=false;var d=e.create("rect",n);d.setAttribute("rx",v);d.setAttribute("ry",v);d.setAttribute("fill",o.label.background);var g={};g.width=s+2*c;g.height=l.height+c;g.x=0;g.y=0;var m;var y=e.create("text",n);y.textContent=o.label.text;y.setAttribute("text-anchor",o.textAnchor);if(!i.isHorizontal){var _=i.pos*i.width;if(i.axisLayout[i.key]==="bottom"){g.y=i.height-g.height-1}else{g.y=1}if(_+s+c*2+1<=i.width){g.x=1}else if(_-s-1>=c*2){p=true;g.x=-s-c*2-1}else{u=i.width-_-c*2-1;if(u>=h){g.x=1}else{u=_-c*2-1;if(u>=h){p=true;g.x=-u-c*2-1}else{p=true;u=i.width-_-c*2-1;g.x=1}}u=Math.max(u,2*c);u=Math.min(u,f)}}else{m={};if(i.axisLayout[i.key]==="right"){p=true;g.x=Math.max(i.width-g.width,0)}else{g.x=0}var A=i.height;if(i.combinedConfig.realHeight){A=i.combinedConfig.realHeight}var b=(1-i.pos)*A;if(b>=A-g.height/2+1){g.y=-g.height+1}else if(b>=g.height/2){g.y=-(g.height/2)}else{g.y=-1}if(l.width+c*2>i.width){u=Math.min(i.width-c*2,f)}}if(u!=null){var x=a.convertToCss(o.label);var S=t.ellipsis(o.label.text,y,u,x,o.ellipsisOptions);var D=S.realLength;if(p){g.x+=u-D}g.width=D+c*2;if(!r.isNonEmptyString(S.text)){d3.select(n).remove();n=null}}if(!i.isHorizontal){g.x+=i.initPos;g.initPosX=i.initPos}else{g.y+=i.initPos;g.initPosY=i.initPos}var w;if(n){w={};w.DOM=n;w.rect=g;if(m){if(g.x===0){m.x=i.width-g.width}else{m.x=0}m.y=g.y;m.width=g.width;m.height=g.height;w.candidateRect=m}}return w};u._layoutAndUpdateLabelDOM=function(e,t){if(t){if(e&&e.plotInstance){var i={};i.isHorizontal=e.isHorizontal;i.width=e.width;i.height=e.height;i.candidateRect=t.candidateRect;e.plotInstance.getReferenceLines().smartLayoutReferenceLineLabel(t.rect,i)}var a=e.combinedConfig.label.textSize;var o=t.DOM.querySelector("rect");var n=t.DOM.querySelector("text");o.setAttribute("width",t.rect.width);o.setAttribute("height",t.rect.height);var s=t.rect.initPosX;var u=t.rect.initPosY;if(!r.isExist(s)){s=0}if(!r.isExist(u)){u=0}o.setAttribute("x",t.rect.x-s);n.setAttribute("x",t.rect.x-s+c);o.setAttribute("y",t.rect.y-u);n.setAttribute("y",t.rect.y-u+c/2-a.y);t.DOM.setAttribute("transform","translate("+s+", "+u+")");l.setData(t.DOM,{initPosX:t.rect.initPosX,initPosY:t.rect.initPosY})}};u._drawLabel=function(e){var t=this._buildLabelObj(e);this._layoutAndUpdateLabelDOM(e,t);return t};u._searchXYAxisHandler=function(e,t,i){var a=this._searchAxisHandler(e,i);if(a){return{handler:a,isHorizontal:false}}a=this._searchAxisHandler(t,i);if(a){return{handler:a,isHorizontal:true}}return null};u._searchAxisHandler=function(e,t){for(var i=0;i<e.length;i++){if(e[i].id===t&&e[i].continuous){return e[i]._scale}}return null};u._calculatePosition=function(e,t,i){var a=t.handler.normalizeValue(i);var r=e?a:t.handler.scale(a);return r};function y(e,t){var i={};var a=e.filter(function(e){return e.type==="value"}).map(function(e){return e.id}).sort();var r=t.filter(function(e){return e.type==="value"}).map(function(e){return e.id}).sort();if(a.length===2&&r.length===0){i[a[0]]="top";i[a[1]]="bottom"}else if(a.length===0&&r.length===2){i[r[0]]="left";i[r[1]]="right"}else{if(a[0]){i[a[0]]="top"}if(r[0]){i[r[0]]="right"}}return i}u._isInvisiblePosition=function(e){return e<0||e>1};u._renderSub=function(t){var i;var a=y(t.xHandlers,t.yHandlers);for(var r=0;r<t.lineStyles[t.key].length;r++){i={};var o=t.lineStyles[t.key][r];if(o.visible===false){continue}if(o.value==null||isNaN(o.value)||o.value===""){continue}var n=this._searchXYAxisHandler(t.xHandlers,t.yHandlers,t.key);if(n==null){continue}var s=this._calculatePosition(t.isPercentage,n,o.value);if(this._isInvisiblePosition(s,o)){continue}var u=this._combineConfig(o,t,n);u.axisColor=t.props[t.key+"Color"];u.textAnchor=t.props.textAnchor;u.ellipsisOptions=t.props.ellipsisOptions;u.xOffset=t.props.offset&&t.props.offset.x||0;var c=e.create("g",t.labelsGroupDOM,true);c.setAttribute("class",n.isHorizontal?"v-referenceline-horizontal":"v-referenceline-vertical");var h=n.isHorizontal?(1-s)*t.height:s*t.width;c.setAttribute("transform",n.isHorizontal?"translate("+0+", "+h+")":"translate("+h+", "+0+")");var p={value:Number(o.value),id:r};if(n.isHorizontal){p.initPosY=h}else{p.initPosX=h}l.setData(c,p);this._drawReferenceLine(u,t.key,c,s,n.isHorizontal,t.width,t.height);if(u.label.visible){var d={};d.combinedConfig=u;d.key=t.key;d.referenceLineG=c;d.pos=s;d.initPos=h;d.labelsGroupDOM=t.labelsGroupDOM;d.isHorizontal=n.isHorizontal;d.width=t.width;d.height=t.height;d.axisLayout=a;d.plotInstance=t.plotInstance;var f=this._drawLabel(d);if(f){i.labelRect=f.rect;if(t&&t.plotInstance&&i.labelRect){t.plotInstance.getReferenceLines().addReferenceLineItem(i)}}}}};u.render=function(t){if(t.props.referenceLine==null){return}if(t&&t.plotInstance){t.plotInstance.getReferenceLines().cleanReferenceLineItems()}var i=t.props.referenceLine;var a=i.defaultStyle;var r=i.line;var n=false;if(r&&r.timeAxis){if(t.dataModel&&t.dataModel._rawData){n=o.isFiscal(t.dataModel._rawData)}r.timeAxis.forEach(function(e){if(n){e.value=o.fiscalToQuantity(e.value,t.originalProps)}else{e.value=s.createDateInstance(e.value)}})}var l=t.selection.querySelector("."+g);if(!l){l=e.create("g",t.selection);l.setAttribute("class",g);if(t.clipPath){l.setAttribute("clip-path","url(#"+t.clipPath.getAttribute("id")+")")}}else{var u=null;while((u=l.firstChild)!=null){l.removeChild(u)}}var c=e.create("g",l);c.setAttribute("class",m);t.lineStyles=r;t.defaultStyle=a;t.referenceLineGroup=l;t.labelsGroupDOM=c;for(var h in r){if(r.hasOwnProperty(h)){t.key=h;this._renderSub(t)}}};return u});define("sap/viz/chart/components/referencelines/BaseReferenceLines",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/Constants"],function(e,t,i,a){var r=a.REFERENCE_LINE.LABEL_PADDING;var o=function(e){o.superclass.constructor.apply(this,arguments);this._referenceLineItems=[]};t.extend(o,i);o.prototype.destroy=function(){this._referenceLineItems=null};o.prototype.addReferenceLineItem=function(t){var i=e.clone(t);this._referenceLineItems.push(i);return i};o.prototype.cleanReferenceLineItems=function(){this._referenceLineItems=[]};o.prototype._labelOverlapFactor=function(e){var t;var i=0;var a=0;var o=e.x-r;var n=e.x+e.width+r;var l=e.y-r;var s=e.y+e.height+r;var u;var c;var h;var p;var d;var f;var v;var g;var m;for(t=0;this._referenceLineItems&&t<this._referenceLineItems.length;t++){u=this._referenceLineItems[t].labelRect;c=u.x-r;h=u.x+u.width+r;p=u.y-r;d=u.y+u.height+r;a+=(h-c)*(d-p);f=Math.max(o,c);v=Math.min(n,h);g=Math.max(l,p);m=Math.min(s,d);if(v>f&&m>g){i+=(v-f)*(m-g)}}var y=0;if(a>0){y=i/a}return y};o.prototype.smartLayoutReferenceLineLabel=function(e,t){var i;if(!t.isHorizontal){var a;var r=Number.MAX_VALUE;var o=e.y;i=Number.MAX_VALUE;for(a=e.y;i&&a<=t.height-e.height;a++){e.y=a;i=this._labelOverlapFactor(e);if(i<r){r=i;o=a}}e.y=o}else if(t.candidateRect){i=this._labelOverlapFactor(e);var n=this._labelOverlapFactor(t.candidateRect);if(i&&n<i){e.x=t.candidateRect.x;e.y=t.candidateRect.y}}};return o});define("sap/viz/chart/components/referencelines/DualReferenceLines",["sap/viz/framework/common/util/oo","sap/viz/chart/components/referencelines/BaseReferenceLines"],function(e,t){var i=function(e){i.superclass.constructor.apply(this,arguments)};e.extend(i,t);i.prototype.smartLayoutReferenceLineLabel=function(e,t){};return i});define("sap/viz/chart/components/util/ZoomUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TimeUtil"],function e(t,i,a,r){return{isZoomRangeValid:function(e,i,a){if(t.isExist(e)){e=r.createDateInstance(e).getTime()}e=parseInt(e);if(t.isExist(i)){i=r.createDateInstance(i).getTime()}i=parseInt(i);if(!isNaN(e)||!isNaN(i)){if(isNaN(e)){e=a[0]}if(isNaN(i)){i=a[1]}return!(e>a[1]||i<a[0]||e>=i)}return false},getZoomRange:function(e,t,r){function o(e){if(e===a.PLOTAREA.FIRST_DATAPOINT){return t[0]}else if(e===a.PLOTAREA.LAST_DATAPOINT){return t[1]}else if(!!e&&r){return e.categoryAxis}else{return e}}var n,l,s=!e.get("interaction.noninteractiveMode");if(s){n=e.get("plotArea.window.start");l=e.get("plotArea.window.end");var u=i.startEndConvertor(n,l,e);n=o(u.start);l=o(u.end)}return[n,l]},isRangeIncomplete:function(e){if(!t.isExist(e)){return false}var i=t.isExist(e[0]);var a=t.isExist(e[1]);return i&&!a||!i&&a}}});define("sap/viz/chart/components/plots/BasePlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/UIComponent","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/SeriesIterator","sap/viz/chart/components/plots/model/DataPointInfo","sap/viz/chart/components/plots/model/Series","sap/viz/chart/components/datalabels/DataLabels","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/Background","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/SVG","sap/viz/chart/components/renderers/ReferenceLineRenderer","sap/viz/chart/components/referencelines/BaseReferenceLines","sap/viz/chart/components/referencelines/DualReferenceLines","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/TimeUtil"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D){var w=u.CSS.CLASS;var C=function(e,t){C.superclass.constructor.apply(this,arguments);this._options=t||{};this._isInTrellis=this._options.inTrellis;this._needApplyChanges=false;this._dataHandler=this._getDataHandler();this._dataPointRenderer=undefined;this._seriesRenderer=this._getSeriesRenderer();this._randomSuffix=i.guid();this._xHandlers=this._getXHandlers();this._yHandlers=this._getYHandlers();this._dataLabels=this._getDataLabels(this._name+".dataLabel",e);this._referenceLines=this._getReferenceLines(e);this._semanticMgr=this.runtime().semanticManager();this._semanticMgr.bindDataPointProperty(this._name+".dataPointStyle",this._name+".dataPointStyleMode");this._semanticMgr.bindSeriesStyleProperty(this._name+".seriesStyle");this._effectManager=this.runtime().effectManager();this._background=new p(e,{name:"background",properties:this._properties});this._selection=null;this._parent_trellis=null;this._exposeMoreEvents("reRenderComplete");this._offset={x:0,y:0};this._strokeProp=this._properties.origin.get("plotArea.dataPoint.stroke");this._graphicModel=this.runtime().graphicModel();if(this._graphicModel){this._graphicModel.registerExposedModule("plot")}this._dataPointClasses=[w.DATAPOINT,w.MORPHABLEDATAPOINT,w.DATAPOINTDEFAULT];this.runtime().statusManager().add("plotArea.window")};t.extend(C,a);C.prototype._getXHandlers=function(){return[]};C.prototype._getYHandlers=function(){return[]};C.prototype._getDataHandler=function(){return{valueAxis:r.getHandler()}};C.prototype._getSeriesRenderer=function(){};C.prototype._getDataLabels=function(e,t){return new s(t,{name:e})};C.prototype._getReferenceLines=function(e){var t;if(this._options&&this._options.isDualValueAxis){t=new y(e)}else{t=new m(e)}return t};C.prototype.getReferenceLines=function(){return this._referenceLines};C.prototype.setData=function(e){C.superclass.setData.apply(this,arguments);if(this._dataLabels){this._dataLabels.setData(e)}this._needApplyChanges=true;this._recordPlotWindow()};C.prototype.setSize=function(e){C.superclass.setSize.apply(this,arguments);this._background.setSize(e);if(this._dataLabels){this._dataLabels.setSize(e)}this._needApplyChanges=true};C.prototype.getRealSize=function(){return{width:this._realSize.width,height:this._realSize.height}};function T(e,t){if(!t){return[]}var i=e.categoryAxis;var a=i.scale.getDomain();var r=i.metaData;var o=[];for(var n=0;n<r.length;++n){if(t.hasOwnProperty(r[n].id)){o.push(t[r[n].id])}else{break}}var l=[];var s=0,u=0;var c=-1;var h=0;var p=0;if(o.length){for(;s<a.length;++s){for(u=0;u<o.length;++u){if(a[s][u]!=o[u]){break}}if(u>0){if(u>c+1){c=u-1;h=s}if(u===c+1){p=s}}}}if(c>=0){l.push(h);l.push(p)}return l}C.prototype._getCategoryRange=function(e){if(!this._data.categoryAxis){return null}var t=this._data.categoryAxis.scale.getDomain().length-1;var i=[0,t];var a=x.getZoomRange(this._properties.origin,i,true);var r=a[0];var o=a[1];if(!_.isExist(r)&&!_.isExist(o)){return null}var n=[0,t];var l=_.isNumber(r)?[r,r]:T(this._data,r);var s=_.isNumber(o)?[o,o]:T(this._data,o);if(l.length>0&&s.length>0){n[0]=Math.min(l[0],s[0]);n[1]=Math.max(l[1],s[1])}else if(l.length>0){n[0]=l[0];n[1]=null}else if(s.length>0){n[0]=null;n[1]=s[1]}return n};C.prototype._getTimeRange=function(){function e(e){var t=e;if(_.isExist(t)){t=D.createDateInstance(t).getTime();t=parseInt(t)}return t}if(!this._data.timeAxis){return null}var t=this._data.timeAxis.scale.getDomain();var i=this._properties.origin;var a=x.getZoomRange(i,t);var r=e(a[0]);var o=e(a[1]);return[r,o]};C.prototype._isRangeIncomplete=function(e){return x.isRangeIncomplete(e)};C.prototype._fillRange=function(e){if(!_.isExist(e[0])){e[0]=0}if(!_.isExist(e[1])){var t=this._data.categoryAxis.scale.getDomain().length-1;e[1]=t}return e};C.prototype._shiftOffsetForIncompleteRange=function(e,t){var i=this.isHorizontal()?this._realSize.height:this._realSize.width;var a=this.isHorizontal()?this._size.height:this._size.width;var r=i/t;var o;if(!_.isNumber(e[0])){o=-(e[1]+1)*r+a}else{o=-e[0]*r}if(o>0||-o+a>i){this._fillRange(e);return false}else{if(this.isHorizontal()){this._offset.y=o}else{this._offset.x=o}return true}};C.prototype.destroy=function(){C.superclass.destroy.call(this);this._properties=null;this._options=null;this._needApplyChanges=null;if(this._dataHandler){for(var e in this._dataHandler){if(this._dataHandler.hasOwnProperty(e)){if(this._dataHandler[e]){this._dataHandler[e].destroy()}delete this._dataHandler[e]}}}this._dataHandler=null;this._dataPointRenderer=null;this._seriesRenderer=null;this._randomSuffix=null;if(this._xHandlers){this._xHandlers.forEach(function(e){e.destroy()})}this._xHandlers=null;if(this._yHandlers){this._yHandlers.forEach(function(e){e.destroy()})}this._yHandlers=null;if(this._dataLabels&&this._dataLabels.destroy){this._dataLabels.destroy()}this._dataLabels=null;if(this._referenceLines&&this._referenceLines.destroy){this._referenceLines.destroy()}this._referenceLines=null;this._background=null;if(this._selection){this._selection.remove()}this._selection=null;if(this._parent_trellis){this._parent_trellis.remove()}this._parent_trellis=null;this._series=[];this._customMarkerRenderer=null;this._semanticMgr=null;this._strokeProp=null;this._effectManager=null;this._plotDpParentNode=null};C.prototype._updateBackgroundColor=function(){if(this._isInTrellis){this._background.setData({color:"transparent",hasBorder:false})}else{this._background.setData(null)}};C.prototype.render=function(e,t,i){this._selection=e;if(this._needApplyChanges){this._applyChanges();this._needApplyChanges=false}this._drawingEffect=this._properties.get("drawingEffect");this._preRender();var a=e.node();this._EmptyDOM(a);this._updateBackgroundColor();this._background.render(e);var r=this._createMainNode(a);if(!this._isInTrellis){var o="translate("+this._offset.x+", "+this._offset.y+")";for(var n in r){if(r.hasOwnProperty(n)){r[n].setAttribute("transform",o)}}}this._plotDpParentNode=d3.select(r.plotMainNode);this._drawGridlines(this._plotDpParentNode);this._semanticMgr.beginSession();this._drawDatapoints(this._getDpParentNode(),t,i);this._semanticMgr.endSession()};C.prototype._EmptyDOM=function(e){f.empty(e)};C.prototype._preRender=function(){this._customMarkerRenderer=this._properties.get("markerRenderer");this._series=[]};C.prototype._postRender=function(e){this._drawReferenceLine()};C.prototype._recordPlotWindow=function(){var e=this._properties.get("window");e=e&&(e.start||e.end)?e:null;this.runtime().statusManager().set("plotArea.window",e)};C.prototype.getReferenceLineRenderer=function(){return g};C.prototype._drawReferenceLine=function(e){var t=i.extend(true,{},this._properties.get("referenceLine"));var a=this._properties.getDefault("referenceLine");if(t&&t.defaultStyle){if(!_.isExist(t.defaultStyle.color)||!t.defaultStyle.color.length){t.defaultStyle.color=a.defaultStyle.color}if(!_.isExist(t.defaultStyle.label.background)||!t.defaultStyle.label.background.length){t.defaultStyle.label.background=a.defaultStyle.label.background}if(!_.isExist(t.defaultStyle.label.color)||!t.defaultStyle.label.color.length){t.defaultStyle.label.color=a.defaultStyle.label.color}}var r=this.getReferenceLineRenderer();if(null==t||!r){return}var o=i.extend(true,{},this._offset,e);var n={referenceLine:t,offset:o,realSize:this._realSize};var l=this._properties.origin;var s=t.line;for(var u in s){if(s.hasOwnProperty(u)){n[u+"Color"]=l.get(u+".color")}}n.textAnchor=null;if(this.runtime){var c=this.runtime().envManager();if(c){n.textAnchor=c.textAnchor()}n.ellipsisOptions={};n.ellipsisOptions.reverseDots=c&&c.reverseDots();n.ellipsisOptions.needRealLength=true}var h={};h.dataModel=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();h.xHandlers=this._xHandlers;h.yHandlers=this._yHandlers;h.props=n;h.width=this._size.width;h.height=this._size.height;h.selection=this._getDpPlotNode();h.isPercentage=this._data._seriesType==="percentage";h.originalProps=l;h.plotInstance=this;h.clipPath=this.clipPath;r.render(h)};C.prototype._getDpPlotNode=function(){if(this._selection){return this._selection.node()}};C.prototype._getDpParentNode=function(){return this._plotDpParentNode};C.prototype._repositionReferenceLine=function(){if(!this._selection){return}var e=this._getDpPlotNode(),t=e.querySelectorAll(".v-referenceline-horizontal,.v-referenceline-vertical,.v-referenceline-label"),i;var a=this.runtime().statusManager().get("plot.transform.scale"),r=this.runtime().statusManager().get("plot.transform.translate");for(i=0;i<t.length;i++){A.adjustXYTranslate(t[i],a,r)}};C.prototype._drawDataLabels=function(e,t){this._dataLabels.setDataShapesGroupNode(t);this._dataLabels.setRealSize(this._realSize);this._parent_trellis=e;var i=this._dataLabels;if(!this._isInTrellis){var a=e.selectAll("."+u.CSS.CLASS.DATAPOINT)[0];i.render(e,a)}};C.prototype.drawTrellisDataLabels=function(e,t){if(!this._parent_trellis||!this._dataLabels){return}var i=this._dataLabels;i.setTrellisCell(e,t);var a=this._parent_trellis.selectAll("."+u.CSS.CLASS.DATAPOINT)[0];i.render(this._parent_trellis,a)};C.prototype._createMainNode=function(e){var t=this._size.width,i=this._size.height;var a,r;var o=!this._options.disableClipPath;if(o){a=v.create("clipPath",e);r="plot_main_clipPath_"+this._randomSuffix;a.setAttribute("id",r);var n=v.create("rect",a);var l=this._runtime._statusMgr.get("plot.transform.scale");this._setClipPathAttribute(n,t,i,l,this._data);this.clipPath=a}var s=v.create("rect",e);s.setAttribute("class","v-plot-bound v-bound "+b.ZOOM_CONTAINER_CLASS);s.setAttribute("width",t);s.setAttribute("height",i);s.setAttribute("fill","transparent");var u=v.create("g",e);var c=v.create("g",u);c.setAttribute("class","v-plot-main");c.setAttribute("role","list");if(o&&!this._notNeedClippath){u.setAttribute("clip-path","url(#"+r+")")}return{plotMainNode:c}};C.prototype._setClipPathAttribute=function(e,t,i,a,r){var o=this._getClipPathAttribute(t,i,a,r);for(var n in o){if(o.hasOwnProperty(n)){e.setAttribute(n,o[n])}}};C.prototype._getClipPathAttribute=function(e,t){var i=.5;return{y:-1,width:e+1,height:t+1+i}};C.prototype._applyChanges=function(){var e=this._realSize;var t=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initXHandler(this._xHandlers,this._data,e.width,t);this._initYHandler(this._yHandlers,this._data,e.height,t)};C.prototype._initXHandler=function(e,t,i,a){z(e,t,i,a)};C.prototype._initYHandler=function(e,t,i,a){z(e,t,i,a)};function z(e,t,i,a){var r=null;for(var o=0,n=e.length;o<n;o++){var l=e[o].id;var s=t[l];if(s==null||s.scale==null){continue}r=s.scale;e[o].init(r,a,i)}}C.prototype._drawGridlines=function(e){};C.prototype._getSeries=function(){return this._data.series};C.prototype._buildLegendTextData=function(e){return[]};C.prototype._getOnlyOneMndIndex=function(e,t){return-1};C.prototype.createSeriesIterator=function(e){return o.create(e)};C.prototype._drawDatapoints=function(e){var t=this._getSeries();var i=t.length;if(this._seriesRenderer){this._seriesRenderer.init(i)}for(var a in this._dataHandler){if(this._dataHandler[a].reset){this._dataHandler[a].reset()}}var r;var o=0;var n=-1;if(this._properties.get("dataLabel.visible")){var s=this._buildLegendTextData(t);if(i>0){n=this._getOnlyOneMndIndex(t[0],s)}}var u;var c;var h;var p;var d;var f;var g;var m;var y=this.createSeriesIterator(i);while(y.hasNext()){u=y.next();h=t[u];if(!h){continue}this._series[u]=new l;for(c=0;c<h.length;c++){p=h[c];if(!p){continue}d=this._getPosition(u,c,p);if(!d){continue}r=o++;f=this._buildWrapperConfig(p,d,p.dp.context());g=this._buildData(f);m=this._createDataPoint(u,c,f,g,d,r,p,n);this._series[u].setDataPoint(c,m)}}var _=v.create("g");_.setAttribute("class",w.DATAPOINT_GROUP);this._showDataPoints(_);if(this._seriesRenderer){this._seriesRenderer.render(_)}this._postRender(_);e.node().appendChild(_);if(this._dataLabels){this._drawDataLabels(e,_)}};C.prototype._preShowDataPoints=function(){};C.prototype._showDataPoints=function(e){this._preShowDataPoints();var t=[];var i=false;var a;var r;var o;var n;var l;var s;var u;var c;var h=this._series.length;var p;for(a=0;a<h;a++){o=this._series[a];if(!o){continue}n=this._getDataPointRenderer(a);if(!n){continue}l=o.getDataPoints();s=false;p=l.length;for(r=0;r<p;r++){u=l[r];if(!u){continue}s=true;c=this._drawDataPoint(n,u);u.setNode(c);if(c){t.push(c)}if(this._seriesRenderer){this._seriesRenderer.addDataPoint(a,r,u.getConfig(),u.getPosition(),c)}else{if(c){e.appendChild(c)}}if(c){o.setDataPoint(r,null)}}if(!s){this._series[a]=null}else{i=true}}if(!i){this._series=[]}return t};C.prototype._setOffset=function(e){if(!e){return}if(e.hasOwnProperty("x")&&e.x!=null){this._offset.x=e.x}if(e.hasOwnProperty("y")&&e.y!=null){this._offset.y=e.y}};C.prototype.getOffset=function(e){return{x:this._offset.x,y:this._offset.y}};C.prototype.scroll=function(e){this._setOffset(e);if(!this._selection){return}this._applyScroll();this._repositionReferenceLine()};C.prototype._applyScroll=function(){if(!this._selection){return}var e=this._getDpPlotNode().querySelector("."+w.DATAPOINT_GROUP);var t=this._showDataPoints(e);if(this._seriesRenderer){this._seriesRenderer.update()}if(this._dataLabels){this._dataLabels.render(this._getDpParentNode(),t)}if(!this._isInTrellis){var i="translate("+this._offset.x+", "+this._offset.y+")";this._selection.select("g.v-plot-main").node().setAttribute("transform",i)}if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};C.prototype.getSeries=function(){return this._series};C.prototype._isEmptySeries=function(e){for(var t=0;t<e.length;t++){if(!!e[t]){return false}}return true};C.prototype._getAxisPosition=function(e,t,i,a,r){var o=this._dataHandler;var n={index:i,seriesIndex:t,shape:r};for(var l=0,s=e.length;l<s;l++){var u=e[l];if(a.hasOwnProperty(u.id)){n.dataHandler=o[u.id];return u.scale(a[u.id],n)}}n.rawData=a;n.dataHandler=null;return e[0].scale(null,n)};C.prototype._getXPosition=function(e,t,i){return this._getAxisPosition(this._xHandlers,e,t,i)};C.prototype._getYPosition=function(e,t,i){return this._getAxisPosition(this._yHandlers,e,t,i)};C.prototype.getDataPointPosition=function(e,t){var i=this._data.series[e][t];return this._getPosition(e,t,i)};C.prototype._getPosition=function(e,t,i){var a=this._getXPosition(e,t,i);var r=this._getYPosition(e,t,i);if(isNaN(a[0])||isNaN(a[1])||isNaN(r[0])||isNaN(r[1])){return null}return{x:a[0],width:a[1],y:r[0],height:r[1]}};var L=["plotArea.grid.background.color","plotArea.background.color","general.background.color"];C.prototype._getBackgroundColor=function(){var e=this.runtime().propertyManager();var t="plotArea.dataPoint.stroke.color";var i="plotArea.dataPoint.stroke.visible";var a=S.getBgColor(e,e.get(i)?L.concat(t):L);return h.convertColor(a)};C.prototype._buildWrapperConfig=function(e,t,i,a){a=a||{};var r=this._buildConfig(e,t,i);var o=e.dp&&e.dp.additionCtx();r.additionCtx=o;if(this._strokeProp&&this._strokeProp.visible&&r.graphic){r.graphic.stroke=r.graphic.stroke||this._strokeProp.color;r.graphic.strokeWidth=r.graphic.strokeWidth||1}if(a.seriesStyle){if(a.seriesStyle.dpPattern){r.graphic.pattern=a.seriesStyle.dpPattern}if(a.seriesStyle.color){r.graphic.fill=a.seriesStyle.color}}r.graphic.bgColor=this._getBackgroundColor();if(!e.isNullValue){i=i||e.dp.context()}if(r.isMatchedHighlightContext===false){a.disableSemantic=true}r=this._getFillColorConfig(r,i,a,e);if(e.dp){r.dataId=e.dp.id;e.dp._isSemantic=r.matchSemantic}r.rawData=e;if(e.trellisRow||e.trellisColumn){r.trellisInfo={trellisRow:e.trellisRow,trellisColumn:e.trellisColumn}}return r};C.prototype._doColorMapOnConfig=function(e){if(e.graphic){if(e.graphic.fill){e.graphic.fill=h.convertColor(e.graphic.fill)}if(e.graphic.color){e.graphic.color=h.convertColor(e.graphic.color)}if(e.graphic.borderColor){e.graphic.borderColor=h.convertColor(e.graphic.borderColor)}}if(e.data&&e.data.color){e.data.color=h.convertColor(e.data.color)}};C.prototype._getFillColorConfig=function(e,t,i,a){var r=a&&!a.isNullValue?a.dp.additionCtx():{};var o=i.disableSemantic?null:this._semanticMgr.analyzeDataPoint("color",t,true,r);var n=true;if(o==null||o.properties==null||!(this._semanticMgr.hasDataPointColorStyle()||this._semanticMgr.hasDataPointLineStyle())){this._doColorMapOnConfig(e);n=false}if(n){if(o.properties.hasOwnProperty("color")){var l=h.convertColor(o.properties.color||this._semanticMgr._propMgr.get("plotArea.defaultOthersStyle.color"));if(e.graphic){if(e.graphic.hasOwnProperty("fill")){e.graphic.fill=l}if(e.graphic.hasOwnProperty("color")){e.graphic.color=l}}if(e.data&&e.data.color){e.data.color=l}e.isOthers=o.isOthers;e.useDefaultOtherName=o.useDefaultOtherName;e.displayName=o.displayName;e.matchSemantic=true}if(o.properties.stroke){e.graphic.stroke=o.properties.stroke}if(o.properties.strokeWidth){e.graphic.strokeWidth=o.properties.strokeWidth}}e=this._getPatternConfig(e,t,i,r);return e};C.prototype._getColor=function(e){var t=null;if(this._data.color2&&e.color2){t=this._data.color2.scale.scale(e.color2)}else if(this._data.color){t=this._data.color.scale.scale(e.color)}else if(this._data.color2){t=this._data.color2.scale.scale()}return t};C.prototype._buildConfig=function(e,t,i){var a=this._getColor(e);var r={width:t.width,height:t.height,drawingEffect:this._drawingEffect,fill:a,opacity:1};return{graphic:r,data:{color:a,width:t.width,height:t.height,translate:[t.x,t.y]},ctx:i,effectManager:this._effectManager}};C.prototype._createDataPoint=function(e,t,i,a,r,o,l,s){var c=new n(-1,-1,null,-1);c.init(i,o,a,l&&l.dp&&l.dp.id?l.dp.id:u.NULL_VALUE,s);c.setPosition(r);c.setRawData(l);return c};C.prototype._applyDataPointRenderer=function(e,t){return e(t,this._dataPointRenderer.expose)};var P=u.CSS.CLASS.DATAPOINT+" "+u.CSS.CLASS.MORPHABLEDATAPOINT+" "+u.CSS.CLASS.DATAPOINTDEFAULT;C.prototype._additionalExtraData=function(e){};C.prototype._drawDataPoint=function(e,t){var i=v.create("g");c.setDataId(i,t.getDataId());c.setDataPointId(i,t.getDataPointId());d.setContext(i,t.getContext());var a=t.getData();a.seriesIndex=t.getSeriesIndex();a.itemIndex=t.getItemIndex();this._additionalExtraData(a);d.setData(i,a);var r=t.getAdditionCtx();d.setAdditionCtx(i,r);i.setAttribute("class",this._dataPointClasses.join(" "));var o=t.getPosition();if(_.isExist(o.x)&&_.isExist(o.y)){i.setAttribute("transform","translate("+o.x+", "+o.y+")")}var n=t.getConfig();var l=this._renderNode(e,n,i,a);var s=this._drawShadowNode(n.graphic,i,l,a,e);return i};C.prototype._isSupportNoFill=function(){return false};C.prototype._drawShadowNode=function(e,t,a,r,o){var n;o=o||this._dataPointRenderer;if(this._isSupportNoFill()&&e.pattern==="noFill"){var l=i.clone(e);delete l.bgColor;delete l.drawingEffect;delete l.pattern;l.fill="transparent";n=o({graphic:l});if(n){t.appendChild(n)}}a=n||a;if(a){var s=a.getAttribute("stroke-width");if(s){r.strokeWidth=parseInt(s)}}return n};C.prototype._renderNode=function(e,t,i,a){var r=this._applyDataPointRenderer(e,t);if(!r&&this._dataPointRenderer){r=this._dataPointRenderer(t)}i.appendChild(r);if(t.graphic&&t.graphic.pattern){if(t.graphic.pattern==="noFill"){a.pattern="noFill"}else{a.patternFill=r.getAttribute("fill")}}return r};C.prototype._appendDataPointClass=function(e){this._dataPointClasses.push(e)};C.prototype._buildData=function(e){var t={color:e.graphic.fill,trellisInfo:e.trellisInfo};if(this._semanticMgr.isUseSemanticPattern()){t.pattern=e.graphic.pattern;if(e.ctx){t.isNegative=e.ctx[e.ctx.measureNames]<0?true:false}}return t};C.prototype._getDataPointRenderer=function(e){return this._customMarkerRenderer||this._dataPointRenderer};C.prototype.isBigDataMode=function(){return false};C.prototype.getAxisBinding=function(){var e={};if(this._xHandlers){e.horizontal=this._xHandlers.map(function(e){return e.id})}if(this._yHandlers){e.vertical=this._yHandlers.map(function(e){return e.id})}return e};C.prototype.mappingDataPointInfo=function(e){return{}};C.prototype.getRemainingPlotOffset=function(e,t){var i=this.getRealSize();var a=this.getSize();var r={};var o=e?e.x||e.y||0:0;if(this.isHorizontal()){r.y=(i.height-a.height+o)*-t;return{y:r.y+o}}else{r.x=(i.width-a.width+o)*-t;return{x:r.x+o}}};C.prototype._getPatternConfig=function(e,t,i,a){if(!i.disableSemantic&&this._useSemanticPattern()){var r=this._semanticMgr.analyzeDataPoint("pattern",t,true,a);if(r&&r.properties&&r.properties.pattern){if(this._isSupportNoFill()||r.properties.pattern!=="noFill"){e.graphic.pattern=r.properties.pattern}if(e.ctx[e.ctx.measureNames]<0){e.graphic.isNegative=true}else{e.graphic.isNegative=false}}}return e};C.prototype._useSemanticPattern=function(){return this._semanticMgr.isUseSemanticPattern()&&this._semanticMgr.hasDataPointStyle()};C.prototype.getSeriesIndex=function(e){return e._addr[1]};return C});define("sap/viz/chart/components/plots/BarWidthUtils",["sap/viz/framework/common/util/NumberUtils"],function(e){var t={};var i=.125;var a=1;t.getBarInfo=function(e,t){var i=1;var a={};if(t.hasOwnProperty("barWidth")){a.barWidth=t.barWidth;if(e===1){a.itemWidth=a.barWidth;a.gap=(i-a.barWidth)/2}else{a.itemWidth=a.barWidth*(1+t.innerGroupSpacing);a.gap=(i-a.itemWidth*(e-1)-a.barWidth)/2}}else if(e===1){a.barWidth=i/(e+t.barSpacing);a.gap=a.barWidth*t.barSpacing/2;a.itemWidth=a.barWidth}else{a.barWidth=i/(e+t.innerGroupSpacing*(e-1)+t.groupSpacing);a.gap=a.barWidth*t.groupSpacing/2;a.itemWidth=a.barWidth*(1+t.innerGroupSpacing)}return a};t.getBarProperties=function(t,r){var o=i;var n=a;if(!r){o=parseFloat(t.get("plotArea.gap.innerGroupSpacing"));if(e.isNoValue(o)||o<0){o=t.getDefault("plotArea.gap.innerGroupSpacing")||0}n=parseFloat(t.get("plotArea.gap.groupSpacing"));if(e.isNoValue(n)||n<0){n=t.getDefault("plotArea.gap.groupSpacing")||0}}var l=parseFloat(t.get("plotArea.gap.barSpacing"));if(e.isNoValue(l)||l<0){l=t.getDefault("plotArea.gap.barSpacing")||0}return{innerGroupSpacing:o,groupSpacing:n,barSpacing:l,forBar:true}};return t});define("sap/viz/chart/components/plots/ItemScaleHandler",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/plots/BarWidthUtils"],function e(t,i,a){function r(e,t){var i=[];var r=a.getBarInfo(e,t);for(var o=0;o<e;o++){i[o]=[r.gap+o*r.itemWidth,r.gap+o*r.itemWidth+r.barWidth]}return i}var o=function(e){this._result=[];this._options=e||{}};o.prototype.updateOptions=function(e){i.extend(true,this._options,e)};o.prototype.init=function(e){var t=this._result=[];var i=1;var a;if(!this._options.hasOwnProperty("barSpacing")){a=[i*.25,i*.75];if(this._options&&this._options.hasOwnProperty("barWidth")){var o=this._options.barWidth/2;a=[i*(.5-o),i*(.5+o)]}}else{a=r(1,this._options)[0]}for(var n=0;n<e;n++){t[n]=a}};o.prototype.get=function(e){return this._result[e]};o.prototype.updateOptions=function(e){i.extend(true,this._options,e)};var n=function(e){n.superclass.constructor.apply(this,arguments);this._options=e||{forBar:true}};t.extend(n,o);n.prototype.init=function(e){if(this._options.isMekkoCategoryAxis){this._result=[];for(var t=0;t<e;t++){this._result[t]=[0,1]}}else if(!this._options.forBar){this._result=[];for(var i=0;i<e;i++){this._result[i]=[i/e,(i+1)/e]}}else{this._result=r(e,this._options)}};n.prototype.get=function(e){return this._result[e]};var l=function(e){l.superclass.constructor.apply(this,arguments);this._items=e.valueAxis};t.extend(l,o);l.prototype.init=function(e){this._result=r(this._items.length,this._options)};l.prototype.get=function(e,t){for(var i=0;i<this._items.length;i++){if(t&&t.hasOwnProperty(this._items[i])){return this._result[i]}}};l.prototype.updateItems=function(e){this._items=e};return{get:function(e,t){if(t&&t.isMekkoCategoryAxis){return new n(t)}else if(e){return new n(t)}else if(t&&t.valueAxis){return new l(t)}else{return new o(t)}},extend:function(e){var i=o;t.extend(e,i);return e}}});define("sap/viz/chart/components/plots/ScaleHandler",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils"],function e(t,i,a,r){var o=function(e,t){this.id=e;this._options=t||{isHorizontal:true}};var n="line";o.prototype.init=function(e,t,i){this._scale=e;this._range=i};o.prototype.scale=function(e,t){return this._scale(e)};o.prototype.destroy=function(){this.id=null;this._options=null;this._range=null;this._scale=null;this.type=null};var l=function(e,t){l.superclass.constructor.apply(this,arguments);this.type="category"};t.extend(l,o);l.prototype.init=function(e,t){l.superclass.init.apply(this,arguments);if(!e){this._scaleByIndex=null;return}var i=e.getDomain();var a=e.scale.bind(e);this._scaleByIndex=[];for(var r=0;r<i.length;r++){this._scaleByIndex[r]=a(i[r])}this._options.itemScaleHandler.init(t)};l.prototype.destroy=function(){l.superclass.destroy.call(this);this._scaleByIndex=null};l.prototype.scale=function(e,t){var i=t.index,a=t.seriesIndex;var r=this._scaleByIndex&&this._scaleByIndex[i]?this._scaleByIndex[i]:[0,1];var o=this._options.itemScaleHandler.get(a,t.rawData)||[0,1];var n=r[1]-r[0];var l=n*(o[1]-o[0])*this._range;var s=(r[0]+n*o[0])*this._range;if(this._options.alignment==="center"){return[s+l/2,0]}else{return[s,l]}};var s=function(e,t){s.superclass.constructor.apply(this,arguments);this.type="polar"};t.extend(s,l);s.prototype.scale=function(e,t){var i=t.index,a=t.seriesIndex;var r=this._scaleByIndex?this._scaleByIndex[i]:[0,1];return[Math.PI*2*r[0],0]};s.prototype.categorySum=function(e,t){return this._scaleByIndex.length};var u=function(e,t){u.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true};t.extend(u,o);u.prototype.scale=function(e,t){e=+e;var i=t.index,a=t.seriesIndex,r=t.dataHandler;var o=this._scale.scale(r?r.getBase(i,e,a):0);var n=r?r.add(i,e,a):e;var l=this._scale.scale(n);var s=(l-o)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[l*this._range,s]}else{return[o*this._range,s]}}else{return[(1-l)*this._range,s]}};var c=function(e,t){c.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true};t.extend(c,o);c.prototype.scale=function(e,t){var i=t.index,a=t.seriesIndex,r=t.dataHandler;var o,n,l,s;var u,c,h,p,d,f;e=+e;h=this._scale.getAutoDomain();p=this._scale.getDomain();d=this._scale.getDomainFixed();f=this._scale.getRange();u=d[0]?p[0]:h[0];c=d[1]?p[1]:h[1];if(u>=c){u=h[0];c=h[1]}if(e<u){o=f[0]}else if(e>c){o=f[1]}else{o=this._scale.scale(r?r.getBase(i,e,a):0)}n=r?r.add(i,e,a):e;if(n>c){l=f[1]}else if(n<u){l=f[0]}else{l=this._scale.scale(n)}s=(l-o)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[l*this._range,s]}else{return[o*this._range,s]}}else{return[(1-l)*this._range,s]}};var h=function(e,t){h.superclass.constructor.apply(this,arguments);this.type="time"};t.extend(h,u);h.prototype.scale=function(e,t){var i=t.index,a=t.dataHandler;var r=a?a.add(i,e):e;var o=this._scale.scale(r);return[o*this._range,0]};var p=function(e,t){p.superclass.constructor.apply(this,arguments);this.type="time";this._barWidth=null;this._innerSpace=null;this._columnCount=null;this._isSingleBar=t.forSingleBar};t.extend(p,u);p.prototype.scale=function(e,t){var i=t.index,a=t.dataHandler;var r=this._options;var o=r.minTimeLevel;var l=r.showAsUTC;var s=a?a.add(i,e):e;var u=this._scale.scale(s);var c;if(this._isSingleBar){c=this._barWidth/2}else{c=(this._columnCount*this._barWidth+(this._columnCount-1)*this._innerSpace)/2-t.seriesIndex*(this._barWidth+this._innerSpace)}return[(u-(t.shape===n?0:c))*this._range,this._barWidth*this._range]};p.prototype.updateBarWidth=function(e,t,i){this._barWidth=e;this._innerSpace=t;this._columnCount=i};var d=function(e,t){u.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true};t.extend(d,o);d.prototype.scale=function(e,t){var i=t.index,a=t.seriesIndex,r=t.dataHandler;var o=+e.value;var n=e.total;var l=e.base;var s=this._scale.scale(r?r.getBase(i,l,a):l);var u=r?r.add(i,o,a):o;var c=this._scale.scale(r?u:n);var h=(c-s)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[c*this._range,h]}else{return[s*this._range,h]}}else{return[(1-c)*this._range,h]}};return{getCategoryScaleHandler:function(e,t){return new l(e,t)},getValueScaleHandler:function(e,t){return new u(e,t)},getTimeScaleHandler:function(e,t){if(t.forBar){return new p(e,t)}else{return new h(e,t)}},getPolarScaleHandler:function(e,t){return new s(e,t)},getPerfectValueScaleHandler:function(e,t){return new c(e,t)},getWTFScaleHandler:function(e,t){return new d(e,t)},extend:function(e){var i=o;t.extend(e,i);return e}}});define("sap/viz/chart/components/renderers/BarRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/Constants"],function(e,t,i,a){var r=2;var o=function(i){var a;var o=i.graphic;var n=o.width<1&&o.width!==0?1:o.width;var l=o.height<1&&o.height!==0?1:o.height;var s=o.fill;if(o.pattern==="noFill"&&i.path){a=e.create("path");a.setAttribute("d",i.path);a.setAttribute("stroke-width",isNaN(o.pathStrokeWidth)?3:o.pathStrokeWidth);a.setAttribute("fill",o.bgColor);a.setAttribute("stroke",o.fill)}else{a=e.create("rect");if(i.effectManager){s=i.effectManager.register({drawingEffect:o.drawingEffect,fillColor:o.fill,patternEffect:o.pattern,isNegative:o.isNegative,direction:i.horizontal?"vertical":"horizontal"})}a.setAttribute("width",n);a.setAttribute("height",l);a.setAttribute("fill",s);if(o.shapeRendering){a.setAttribute("shape-rendering",o.shapeRendering)}if(o.stroke){var u=i.twoDirection?Math.min(l,n):i.horizontal?l:n;var c=u>o.strokeWidth+r?o.strokeWidth:u-r;if(c>=1){a.setAttribute("stroke",o.stroke);a.setAttribute("stroke-width",o.strokeWidth)}}}t.setCustomizationInfo(a,{defaultRenderer:true});return a};o.update=function(e,t){var a=t.graphic;var r=a.width<1&&a.width!==0?1:a.width;var o=a.height<1&&a.height!==0?1:a.height;var n={width:r,height:o,minSize:t.twoDirection?Math.min(o,r):t.horizontal?o:r};i.barUpdate(e,t,n)};o.expose={renderer:o,update:o.update};return o});define("sap/viz/chart/components/renderers/GridlineRenderer",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a,r){var o=t.CSS.CLASS.GRIDLINE_GROUP;var n=t.CSS.CLASS.GRIDLINE;var l=t.CSS.CLASS.GRIDLINE_INCISED;var s="#ffffff";var u=t.CSS.CLASS.ZERO_LINE_GROUP;var c="v-zeroline";var h="v-gridline-mainline";var p="v-gridline-incisedline";var d={};d.drawZeroLine=function(a,o,n,l,s,h,p,d){var f;var v=s.get("gridline.zeroLine.highlight");if(!v){return}var g=i.getTicks(l);var m=g.indexOf(0);if(m<1){f=a.select("."+u);if(!f.empty()){f.remove()}return}var y=s.get("gridline.zeroLine.color")||p;y=y||s.origin.get("categoryAxis.color");f=a.select("."+u);var _,A;if(!f.node()){f=a.append("g").attr("class",u).style("pointer-events","none")}_=f.select("."+c);if(!_.node()){_=f.append("g").attr("class",c);A=_.append("line")}else{A=_.select("line")}f.attr("stroke",y).attr("stroke-width",s.get("gridline.size")||1).attr("shape-rendering","crispEdges");if(s.get("gridline.type")===t.GRIDLINE_TYPE.DASHED||s.get("gridline.type")===t.GRIDLINE_TYPE.DOTTED){f.attr("stroke-dasharray",t.DASH_TYPE_ARRAY)}else{f.node().removeAttribute("stroke-dasharray")}var b=a.node().getElementsByTagName("clipPath");if(b&&b.length>0){var x=b[0].getAttribute("id");f.attr("clip-path","url(#"+x+")")}var S,D,w,C;var T=e.preciseSimple(l.scale(0));var z={};if(h===t.DIRECTION.HORIZONTAL){S=0;D=e.preciseSimple(o);w=C=!d?T:0;if(d){_.attr("transform","translate("+0+", "+T+")")}z.initPosY=T}else{w=0;C=e.preciseSimple(n);S=D=!d?T:0;if(d){_.attr("transform","translate("+T+", "+0+")")}z.initPosX=T}A.attr("x1",S).attr("x2",D).attr("y1",w).attr("y2",C);if(d){r.setData(_.node(),z)}};d.drawValueGridline=function(r,l,u,c,d,f){var v=r.select("."+o);if(d.get("visible")){var g=d.get("color");var m=d.get("size");var y=i.getTicks(c);var _=i.getTicksPosition(y,c);var A=0;var b=_.length;var x=[];var S=[];var D=[];var w=[];switch(f){case t.DIRECTION.HORIZONTAL:for(;A<b;++A){x[A]=0;S[A]=_[A];D[A]=e.preciseSimple(l);w[A]=_[A]}break;case t.DIRECTION.VERTICAL:for(;A<b;++A){x[A]=_[A];S[A]=0;D[A]=_[A];w[A]=e.preciseSimple(u)}break}if(!v.node()){v=r.append("g").attr("class",o)}var C=v.selectAll("."+n).data(y);C.enter().append("g");C.exit().remove();var T=d.get("zeroLine.unhighlightAxis");var z=d.origin.get("valueAxis.layout.direction")==="topDown";C.each(function(e,t){this.setAttribute("class",n);this.setAttribute("stroke",g);this.setAttribute("stroke-width",m);this.setAttribute("shape-rendering","crispEdges");var i=this.querySelector("line."+h);if(!i){i=a.create("line");i.setAttribute("class",h);this.appendChild(i)}i.setAttribute("x1",x[t]);i.setAttribute("y1",S[t]);i.setAttribute("x2",D[t]);i.setAttribute("y2",w[t]);if((!z&&t===0||z&&t===b-1)&&e!==0&&T===false){i.setAttribute("stroke-opacity",0)}});var L=d.get("type");if(L===t.GRIDLINE_TYPE.DASHED||L===t.GRIDLINE_TYPE.DOTTED){C.attr("stroke-dasharray",t.DASH_TYPE_ARRAY)}if(L===t.GRIDLINE_TYPE.INCISED){switch(f){case t.DIRECTION.HORIZONTAL:C.each(function(e,t){var i=this.querySelector("line."+p);if(!i){i=a.create("line");i.setAttribute("class",p);this.appendChild(i)}i.setAttribute("stroke",s);i.setAttribute("x1",x[t]);i.setAttribute("y1",S[t]+1);i.setAttribute("x2",D[t]);i.setAttribute("y2",w[t]+1)});break;case t.DIRECTION.VERTICAL:C.each(function(e,t){var i=this.querySelector("line."+p);if(!i){i=a.create("line");i.setAttribute("class",p);this.appendChild(i)}i.setAttribute("stroke",s);i.setAttribute("x1",x[t]-1);i.setAttribute("y1",S[t]);i.setAttribute("x2",D[t]-1);i.setAttribute("y2",w[t])});break}}}else{v.remove()}};d.drawRadarGridLine=function(e,t,i,r,n){if(!n.visible){return}var l=e.select("."+o);if(!l.node()){l=e.append("g").attr("class",o)}var s=n.color;var u=n.size;var c=f(r);function h(e,t,i){if(i===0){return}var a=i*Math.sin(t);var r=i*Math.cos(t);return{x:e.x-a,y:e.y-r}}for(var d=0;d<c.length;d++){if(c[d]===0){continue}var v=a.create("g");var g=[];for(var m=0;m<i.length;m++){var y=a.create("line");y.setAttribute("class",p);y.setAttribute("stroke",s);y.setAttribute("stroke-width",u);var _=m===0?h(t,i[i.length-1],c[d]):g[m-1];var A=h(t,i[m],c[d]);g.push(A);y.setAttribute("x1",_.x);y.setAttribute("y1",_.y);y.setAttribute("x2",A.x);y.setAttribute("y2",A.y);v.appendChild(y)}l.node().appendChild(v)}};function f(e){var t=i.getTicks(e);return i.getTicksPosition(t,e)}return d});define("sap/viz/chart/components/plots/BaseColumnPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/Constants","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/model/DataPointInfo","sap/viz/chart/components/plots/model/Series","sap/viz/chart/components/renderers/BarRenderer","sap/viz/chart/components/renderers/GridlineRenderer","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/plots/BarWidthUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/util/DrawUtil"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D){var w="negative-datapoint";var C={desktop:{minWidth:8,maxWidth:100},mobile:{minWidth:8,maxWidth:100}};var T=o.MIN_FILL_SIZE;var z=function(e,t){t=t||{isHorizontal:false};this._valueAxisIndex=t.valueAxisIndex||"valueAxis";z.superclass.constructor.apply(this,arguments);this._dataPointRenderer=p;this._flipNegativeShape=true;this._drawZeroLineBeforeDatapoints=true;this._isBigData=false};t.extend(z,n);z.prototype._getBarProperties=function(){if(!this._barInfoProperties){this._barInfoProperties=A.getBarProperties(this._properties.origin)}return this._barInfoProperties};z.prototype.destroy=function(){z.superclass.destroy.call(this);if(this._categoryScaleHandler){this._categoryScaleHandler.destroy()}this._categoryScaleHandler=null;if(this._gridlineScale){this._gridlineScale.destroy()}this._gridlineScale=null;this._dataPointRenderer=null;this._flipNegativeShape=null;this._drawZeroLineBeforeDatapoints=null;this._options=null;this._isBigData=null};z.prototype.isBigDataMode=function(){return this._isBigData};z.prototype.setVisibleWindow=function(e,t){this._windowSize=e;this._positionInWindow=t;this._applyScroll()};z.prototype._getDataPointRange=function(e,t){var i=t.min;var a=t.max;var r=this.isHorizontal()?"y":"x";var o;if(e[i]&&i>0){o=this._getDataPointPosition(e[i]);if(o[r]>=-this._offset[r]){--i}}while(i>0&&!e[i]){--i}if(a<e.length-1&&e[a]){o=this._getDataPointPosition(e[a]);if(o[r]<this._visibleBound[r]){++a}}while(a<e.length-1&&!e[a]){++a}return{min:i,max:a}};z.prototype._getColorData=function(){return this._data.color};z.prototype._getColor2Data=function(){return this._data.color2};z.prototype._buildLegendTextData=function(e){var t=e.length;var i=[];var a;var r;for(a=0;a<t;a++){r=e[a];var o;for(o=0;o<r.length;o++){if(r[o]){if(r[o].color){i.push(r[o].color)}else{i.push(r[o].color2)}break}}}return i};z.prototype._getOnlyOneMndIndex=function(e,t){var i=-1;if(!this._options.inTrellis){var a;if(e.length>0&&e[0].color){a=this._getColorData()}else if(e.length>0){a=this._getColor2Data()}if(a){i=y.checkMndStatus(a.metaData,t).mndIndex}}return i};z.prototype._getMaxVisibleSize=function(){var e=this._windowSize||this._size;return{width:e.width,height:e.height}};z.prototype._preShowDataPoints=function(){z.superclass._preShowDataPoints.apply(this,arguments);var e=this._offset;var t=e.hasOwnProperty("x")?e.x:0;var i=e.hasOwnProperty("y")?e.y:0;if(this._positionInWindow){t+=this._positionInWindow.hasOwnProperty("x")?this._positionInWindow.x:0;i+=this._positionInWindow.hasOwnProperty("y")?this._positionInWindow.y:0}var a=this._getMaxVisibleSize();this._visibleBound={x:a.width-t,y:a.height-i}};z.prototype._drawDataPoint=function(e,t){var i=t.getConfig();var a=z.superclass._drawDataPoint.apply(this,arguments);this._updateStrokeWidth(a);if(this._flipNegativeShape){var r=t.getConfig();if(r.ctx){var o=r.ctx[r.ctx.measureNames]<0;if(o){this._addNegativeClass(a,r)}}}return a};z.prototype._addNegativeClass=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","g");for(var a=0,r=e.childNodes.length;a<r;++a){i.appendChild(e.childNodes[0])}i.setAttribute("class",w);this._updateNegativeDatapoint(t,i);e.appendChild(i)};z.prototype._generateMarkerPath=function(){var e=this._markerPropName&&this._properties.get(this._markerPropName);if(e){var t=e.size/2;this._markerD=D.createMarkerData({type:this._getMarkerShape(),rx:t,ry:t,borderWidth:2});this._markerShadow=D.createMarkerData({type:this._getMarkerShape(),rx:t+.8,ry:t+.8,borderWidth:1,innerBorder:true})}};z.prototype._updateNegativeDatapoint=function(e,t){var i;if(this.isHorizontal()){i="translate("+(e.graphic.width>1?e.graphic.width:1)+",0)scale(-1, 1)"}else{i="translate(0,"+(e.graphic.height>1?e.graphic.height:1)+")scale(1, -1)"}t.setAttribute("transform",i)};z.prototype.isHorizontal=function(){return this._options.isHorizontal===true};z.prototype._getPreferredSizeProperties=function(e){var t=this._properties;return t.get(e)};z.prototype._getValueScaleHandlers=function(e){if(this._options.isDualValueAxis){return[u.getValueScaleHandler("valueAxis",{isHorizontal:e}),u.getValueScaleHandler("valueAxis2",{isHorizontal:e})]}else{return[u.getValueScaleHandler(this._valueAxisIndex,{isHorizontal:e})]}};z.prototype._getCategoryScaleHandlers=function(e){this._categoryScaleHandler=u.getCategoryScaleHandler("categoryAxis",{isHorizontal:e,itemScaleHandler:s.get(true,this._getBarProperties())});return[this._categoryScaleHandler]};z.prototype._getXHandlers=function(){if(this.isHorizontal()){return this._getValueScaleHandlers(true)}else{return this._getCategoryScaleHandlers(true)}};z.prototype._getYHandlers=function(){if(this.isHorizontal()){return this._getCategoryScaleHandlers(false)}else{return this._getValueScaleHandlers(false)}};z.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{valueAxis:l.getHandler(),valueAxis2:l.getHandler()}}else{var e={};e[this._valueAxisIndex]=l.getHandler();return e}};z.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("categoryAxis.color")};z.prototype._postRender=function(e){if(!this._drawZeroLineBeforeDatapoints&&this._gridlineScale){var t=this.isHorizontal();var i=t?o.DIRECTION.VERTICAL:o.DIRECTION.HORIZONTAL;d.drawZeroLine(this._selection,this._size.width,this._size.height,this._gridlineScale,this._properties,i,this._getDefaultZeroLineColor(),true)}z.superclass._postRender.apply(this,arguments)};function L(e){var t=-1;for(var i=0;i<e.length;i++){if(e[i]){t=i;break}}return t}function P(e){var t=-1;for(var i=e.length-1;i>=0;i--){if(e[i]){t=i;break}}return t}z.prototype._resetDataPoints=function(){for(var e in this._dataHandler){if(this._dataHandler[e].reset){this._dataHandler[e].reset()}}if(!this._series||this._series.length===0){return}for(var t=0;t<this._series.length;t++){var i=this._series[t];if(!i){continue}var a=i.getDataPoints();this._hideDataPoints(a,{min:0,max:a.length-1});for(var r=0;r<a.length;r++){var o=a[r];if(o){o.reset()}}}};z.prototype._getDataPointPosition=function(e){var t=e.getPosition();if(!t){t=this._getPosition(e.getSeriesIndex(),e.getItemIndex(),e.getRawData());e.setPosition(t)}return t};z.prototype._needLazyRender=function(){if(!!this._options.inTrellis){return true}var e=this._size;var t=this._realSize;return this.isHorizontal()?e.height<t.height:e.width<t.width};z.prototype._getVisibleRange=function(e){var t=this._getCategoryCount();if(!this._needLazyRender()){return{min:0,max:t}}var i=this.isHorizontal();var a=i?"y":"x";var r=this._offset[a];var o=this._visibleBound;var n=i?"height":"width";var l=this._realSize[n]/t;var s=Math.floor(Math.abs(r/l));var u=Math.floor(Math.abs(o[a])/l);return{min:s,max:u}};z.prototype._initSeries=function(){var e=this._getSeries();var t=e.length;var i;var a=0;if(this._seriesRenderer){this._seriesRenderer.init(t)}for(var r=0;r<t;r++){var o=e[r];if(!o){continue}var n=o.length,l=null;for(var s=0;s<n;++s){var u=o[s];if(!u){continue}i=a++;this._series[r]=this._series[r]||new h;var p=this._series[r].getDataPoint(s);if(p){p.reset();p.setRawData(u)}else{p=new c(r,s,u,i);this._series[r].setDataPoint(s,p)}}if(this._series[r]){this._series[r].setLength(n)}}this._series.length=t};z.prototype._drawDatapoints=function(e){this._initSeries();for(var t in this._dataHandler){if(this._dataHandler[t].reset){this._dataHandler[t].reset()}}this._drawingEffect=this._properties.get("drawingEffect");var a=e.node().querySelector("."+o.CSS.CLASS.DATAPOINT_GROUP);if(!a){a=i.create("g");a.setAttribute("class",o.CSS.CLASS.DATAPOINT_GROUP);e.node().appendChild(a)}else{d3.select(a).selectAll("*").remove()}this._showDataPoints(a);if(this._seriesRenderer){this._seriesRenderer.render(a)}this._postRender(a);this._drawDataLabels(e,a)};z.prototype._isSupportNoFill=function(){return true};var k=["noFill","solid"];z.prototype.getSeriesDPStyle=function(e,t,i){var a=this._semanticMgr;t=t||S.buildSeriesLineContext(this._data,e);var r=a.analyzeSeriesStyle(t,"dataPoint");var o=r&&r.dataPoint&&r.dataPoint.pattern;if(i&&k.indexOf(o)===-1){o=null}if(!this._isSupportNoFill()&&o==="noFill"){o=null}return{dpPattern:o,color:r&&r.dataPoint&&r.dataPoint.color}};z.prototype._hideNode=function(e,t){var i=e[t];var r=i&&i.getNode();if(r){a.remove(r);i.setNode(null)}};z.prototype._columnOutOfRange=function(e,t){var i;for(i=0;i<t.min;i++){this._hideNode(e,i)}for(i=t.max+1;i<e.length;i++){this._hideNode(e,i)}};z.prototype._hideDataPoints=function(e,t){if(!t){var i=e.length;t={min:i,max:i}}this._columnOutOfRange(e,t)};z.prototype._generatePath=function(e){var t=[];var a=1.5;if(this.isHorizontal()){if(e.width===0){a=0}t.push([0,a]);t.push([e.width-a,a]);t.push([e.width-a,e.height-a]);t.push([0,e.height-a])}else{if(e.height===0){a=0}t.push([a,e.height]);t.push([a,a]);t.push([e.width-a,a]);t.push([e.width-a,e.height])}return i.generatePath({points:t})};z.prototype._pathStrokeWidth=function(e){if(e&&e[e.measureNames]===0){return 0}return 3};z.prototype._isSupportBarPathGenerator=function(){return false};z.prototype._showDataPoints=function(e){this._preShowDataPoints();var t=[];this._dataPointContext=[];if(this._seriesRenderer){this._seriesRenderer.resetDataPoints()}var i;if(this._data.color&&this._data.color.metaData&&!this._data.color2){var a=y.checkMndStatus(this._data.color.metaData,this._data.color.rowArray);if(a.isOnlyOneMndValue){i=a.mndIndex}}var r=this.createSeriesIterator(this._series.length);var n=this._getVisibleRange();while(r.hasNext()){var l=r.next();var s=this._series[l];if(!s){continue}var u=this._getDataPointRenderer(l);if(!u){continue}var c=s.getDataPoints();var h=this._getDataPointRange(c,n);this._hideDataPoints(c,h);var p=this.getSeriesDPStyle(l);for(var d=h.min;d<=h.max;d++){var f=c[d];if(!f){continue}var v=this._getDataPointPosition(f);if(!v){continue}var g=f.getRawData();var m=g.dp;var _=false;var A=f.getConfig();if(!A){_=true;var b=m&&m.context()?m.context():o.NULL_VALUE;var x=this._seriesType&&this._seriesType[l];var S={itemIndex:d,seriesType:x,seriesStyle:p};A=this._buildWrapperConfig(g,v,b,S);if(A.graphic.pattern==="noFill"){if(this._isSupportBarPathGenerator()&&x==="bar"){A.path=this._generatePath(A.graphic)}}}this._dataPointContext.push(A);var D=f.getData();if(!D){_=true;var w=f.getId();D=this._buildData(A);f.init(A,w,D,m&&m.id?m.id:o.NULL_VALUE,i)}var C=f.getNode();if(C){if(_){this._updateDatapoint(C,u,A,v);t.push(C)}}else{C=this._drawDataPoint(u,f);f.setNode(C);if(C){t.push(C)}}this._updateStrokeWidth(C);if(this._seriesRenderer){this._seriesRenderer.addDataPoint(r.index(),d,A,v,C)}else if(!C.parentNode){e.appendChild(C)}}}return t};z.prototype.zoom=function(){this.update()};z.prototype.update=function(e){this._applyChanges();this._dataLabels.setSize(this._realSize);if(this._selection){var t=this._selection.select(".v-plot-main");this._drawGridlines(t);this._updateDatapoints(this._getDpParentNode());this._drawReferenceLine(e);this._repositionReferenceLine();this._repositionZeroline()}};z.prototype._updateStrokeWidth=function(e){if(!e){return}var t=f.getData(e);var i=e.querySelector("rect");if(i){t["strokeWidth"]=i.getAttribute("stroke-width")||0;f.setData(e,t)}};z.prototype._updateDatapoints=function(e){this._resetDataPoints();var t=e.select("."+o.CSS.CLASS.DATAPOINT_GROUP).node();var i=this._showDataPoints(t);if(this._seriesRenderer){this._seriesRenderer.update(t)}this._dataLabels.updatePosition(e,i)};z.prototype._updateDatapoint=function(e,t,i,a){if(e&&t.update&&_.isFunction(t.update)){t.update(e,i,this._dataPointRenderer.expose)}if(e&&a.hasOwnProperty("x")&&a.hasOwnProperty("y")){e.setAttribute("transform","translate("+a.x+", "+a.y+")")}var r=null;if(i.ctx){r=i.ctx[i.ctx.measureNames]<0}else{var o=this._data.rawData.dataModel;var n=o.getDataPoint(i.dataId);var l=n.context();r=l[l.measureNames]<0}if(r){var s=e.querySelector("."+w);if(s){this._updateNegativeDatapoint(i,s)}}};z.prototype._drawGridlines=function(e){var t=this._realSize;var i=this.isHorizontal();var a=i?o.DIRECTION.VERTICAL:o.DIRECTION.HORIZONTAL;var r=this._properties.proxy("gridline");var n=i?[0,t.width]:[t.height,0];var l=this._gridlineScale=this._getGridLineScale(n);d.drawValueGridline(e,t.width,t.height,l,r,a);var s=this._properties.origin.get("interaction.syncValueAxis");if(this._drawZeroLineBeforeDatapoints||s){d.drawZeroLine(this._drawZeroLineBeforeDatapoints?e:this._selection,t.width,t.height,this._gridlineScale,this._properties,a,this._getDefaultZeroLineColor(),!this._drawZeroLineBeforeDatapoints)}};z.prototype._getGridLineScale=function(e){var t=this._valueAxisIndex;if(this._options.isDualValueAxis&&this._data.valueAxis.tickHint<this._data.valueAxis2.tickHint){t="valueAxis2"}var i=this._data[t];var a=new r(i.scale.getDomain(),e);a.setTickHint(i.tickHint);a.setAllowDecimals(i.scale.getAllowDecimals());return a};z.prototype._getPosition=function(e,t,i){var a=z.superclass._getPosition.apply(this,arguments);this._adjustPosition(a,e);return a};z.prototype._adjustPosition=function(e,t){var i=this.isHorizontal(),a=0;if(i){if(e.width<0){if(e.width>-T){e.width=T}else{e.width=Math.abs(e.width)}e.x-=e.width}else if(e.width>0&&e.width<T){e.width=T}}else{if(e.height<0){if(e.height>-T){a=T-Math.abs(e.height);e.height=T}else{e.height=Math.abs(e.height)}e.y-=e.height-a}else if(e.height>0&&e.height<T){a=T-e.height;e.height=T;e.y-=a}}};z.prototype._buildConfig=function(e,t,i){var a=z.superclass._buildConfig.apply(this,arguments);a.horizontal=this.isHorizontal();return a};z.prototype._getColumnCount=function(){return this._data.series.length};z.prototype._getColumnWidth=function(e,t,i){var a=1;var r=i?this._size.height/t:this._size.width/t;var o=A.getBarInfo(e,this._getBarProperties());return r*o.barWidth};z.prototype._updateRealSize=function(e,t,i,a){var r=this.getRealSizeByFixedDPSize(i,e,t);this._realSize[a?"height":"width"]=r};z.prototype._getCategoryCount=function(){var e=this._data.categoryAxis;return e?e.scale.getDomain().length:1};z.prototype.getPreferredSize=function(){var e=this._properties;var t=!!this._options.inTrellis;var i=this.isHorizontal();var a=this._getCategoryCount();var r=this._getCategoryRange()||this._getTimeRange();var o=this._getColumnCount();this._showSrollbar=false;var n=this._getPreferredSizeProperties("dataPointSize.max")||e.getDefault("dataPointSize.max");var l,s;var u=!!this._data.timeAxis;var c=!e.origin.get("interaction.noninteractiveMode");var h=this._isRangeIncomplete;function p(){return!u&&r&&!h(r)&&c}if(!p()){var d=this._getColumnWidth(o,a,i);var f=g.isMobile()?C.mobile:C.desktop;var v=t?f.minWidth:this._getPreferredSizeProperties("dataPointSize.min")||e.getDefault("dataPointSize.min");n=t?f.maxWidth:n;if(!t&&v>n){n=e.getDefault("dataPointSize.max");v=e.getDefault("dataPointSize.min")}var m=false;if(d<v&&c){m=true;d=v}else if(d>n){d=n;this._updateBarWidth(n)}if(m&&(t||h(r)||this._getPreferredSizeProperties("isFixedDataPointSize"))){this._updateRealSize(o,a,d,i)}if(h(r)&&this._shiftOffsetForIncompleteRange(r,a)){return this.getRealSize()}}if(p()){var y=r[1]-r[0]+1;var _=this._getColumnWidth(o,y,i);var A=this._getColumnWidth(o,a,i);if(_>n){_=n;if(A<n){this._updateRealSize(o,a,_,i);var b;if(i){b=this._size.height/this._realSize["height"]*a}else{b=this._size.width/this._realSize["width"]*a}if(b>a-r[0]){r[0]=a-b}}else{l=i?this._size.height/a:this._size.width/a;s=_/l;this._categoryScaleHandler._options.itemScaleHandler.updateOptions({barWidth:s});r[0]=0}}else{if(i){this._realSize["height"]=this._size.height*a/y}else{this._realSize["width"]=this._size.width*a/y}}if(i){this._offset["y"]=-r[0]/a*this._realSize["height"]}else{this._offset["x"]=-r[0]/a*this._realSize["width"]}}return this.getRealSize()};z.prototype._updateBarWidth=function(e){var t=this._getCategoryCount();var i=this.isHorizontal();var a=i?this._size.height/t:this._size.width/t;var r=e/a;this._categoryScaleHandler._options.itemScaleHandler.updateOptions({barWidth:r})};z.prototype._buildWrapperConfig=function(e,t,i,a){var r=z.superclass._buildWrapperConfig.apply(this,arguments);var o=r.graphic;if((o.width<1||o.height<1)&&o.width!==0&&o.height!==0){o.shapeRendering="crispEdges"}return r};z.prototype._getDataRange=function(e,t){var i=this._data.categoryAxis;var a={displayValues:{start:e,end:t}};if(i){var r=i.scale.getDomain();var o=i.metaData;var n=Math.floor(e*r.length/100);var l=Math.ceil(t*r.length/100);var s=[];for(var u=n;u<l;++u){var c={};for(var h=0;h<o.length;++h){c[o[h].id]=r[u][h]}s[u-n]=c}var p=y.getDisplayTextsConverter(o);var d=p(r[n])[0];var f=p(r[l-1])[0];a={displayValues:{start:d,end:f},data:s}}return a};z.prototype.getRealSizeByFixedDPSize=function(e,t,i){t=t||this._getColumnCount();i=i||this._getCategoryCount();var a=A.getBarInfo(t,this._getBarProperties());return e*i/a.barWidth};z.prototype._repositionZeroline=function(){if(!this._selection){return}var e=this._selection.node().querySelectorAll(".v-zeroline"),t=this.runtime().statusManager().get("plot.transform.scale"),i=this.runtime().statusManager().get("plot.transform.translate");for(var a=0;a<e.length;a++){x.adjustXYTranslate(e[a],t,i)}};z.prototype.scroll=function(){this._semanticMgr.beginSession();z.superclass.scroll.apply(this,arguments);this._repositionZeroline();this._semanticMgr.endSession()};z.prototype._getDpPlotNode=function(){if(this._selection){return this._dpPlotNode||this._selection.node()}};z.prototype._getDpParentNode=function(){return this._dpParentNode||this._plotDpParentNode};z.prototype._getMarkerShape=function(){var e=this._properties.get("marker.shape")||this._properties.get("line.marker.shape");if(o.LINE_MARKER_SHAPE.indexOf(e)===-1){e=this._properties.getDefault("marker.shape")||this._properties.getDefault("line.marker.shape")}return e};z.prototype._getLegendMarkerShape=function(){var e=this._properties.origin.get("legend.marker.shape");if(o.LEGEND_MARKER_SHAPE.indexOf(e)===-1){e=this._properties.origin.getDefault("legend.marker.shape")}return e};return z});define("sap/viz/chart/components/datalabels/ColumnDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/DataLabels","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments);this._labelPosition="outside"};e.extend(o,a);o.prototype.labelOffset=r.DATALABEL.VERTICAL_LABEL_OFFSET;o.prototype.allowIntersectionCheck=function(){return false};o.prototype.hideConditional=function(e,a){var r;var n=new Array(a.length);for(r=0;r<a.length;r++){n[r]=a[r].getBoundingClientRect()}for(r=e.length-1;r>=0;r--){var l=e[r];var s=l.node;var u=s.getBoundingClientRect();var c=l.dataPoint;var h=i.getData(c).dataLabelLocation;if(h==="inside"){if(u.width-2*this.labelOffset>n[r].width||u.height>n[r].height){t.remove(s);e.splice(r,1);continue}}if(!this.allowIntersectionCheck(c)){var p=this.indexOfDataLabelIntersectDataPoints(u,n,a,c);if(p!==-1){t.remove(s);e.splice(r,1)}}}return o.superclass.hideConditional.apply(this,arguments)};o.prototype._computeDataLabelPosition=function(e,t,a,r,o,n){this._labelPosition=this._properties.get("position")||this._properties.getDefault("position");var l=1;var s;var u,c;var h=t.x+e.e;var p=t.y+e.f;u=h+t.width/2-(r.x+r.width/2);if(o.val===0){c=p-(r.y+r.height)+this.labelOffset;if(c+r.y<0){c=p-r.y-this.labelOffset}}else if(this._labelPosition==="inside"){if(o.val>=0){c=p+r.height+(r.y+r.height/2)-this.labelOffset}else{c=p+t.height+this.labelOffset-(r.y+r.height)}}else{if(o.val>=0){if(this._labelPosition==="outsideFirst"){c=p-(r.y+r.height)-l;if(c<r.height){c=p+r.height+(r.y+r.height/2)-this.labelOffset;s=i.getData(n);s.dataLabelLocation="inside";i.setData(n,s)}}else{c=p-(r.y+r.height);if(c+r.y+this.labelOffset>=0){c=c+this.labelOffset}else if(c+r.y>=0){c=-r.y}}}else{if(this._labelPosition==="outsideFirst"){c=p+t.height-r.y+l;if(c>o.plotSize.height){c=p+t.height-r.height-r.y+this.labelOffset;s=i.getData(n);s.dataLabelLocation="inside";i.setData(n,s)}}else{c=p+t.height-r.y;if(c+r.height+r.y-this.labelOffset<=o.plotSize.height){c=c-this.labelOffset}else if(c+r.height+r.y<=o.plotSize.height){c=o.plotSize.height}}}}return[u,c]};o.prototype._processDataLabelRendererConfig=function(e,t){o.superclass._processDataLabelRendererConfig.apply(this,arguments);var i=this._getMarkFromNode(t),a;if(i&&e.dataPointWidth===0&&e.dataPointHeight===0){a=this._getDataLabelSizeFromMark(i);if(a){e.dataPointWidth=a.width;e.dataPointHeight=a.height}}};o.prototype._getMarkFromNode=function(e){if(!e){return null}var t=d3.select(e).select("rect:first-child");return t.empty()?null:t.node()};return o});define("sap/viz/chart/components/renderers/SeriesRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/TypeUtils"],function e(t,i){var a=function(e,t){this._renderFn=e;this._updateFn=t};a.prototype.init=function(e){this._series=[];this._seriesGroup=[];for(var i=0;i<e;i++){this._seriesGroup[i]=t.create("g")}};a.prototype.resetDataPoints=function(){this._series=[]};a.prototype.addDataPoint=function(e,t,i,a,r){if(r){this._seriesGroup[e].appendChild(r)}this._series[e]=this._series[e]||[];this._series[e][t]={position:a,dpConfig:i,dataPoint:r}};a.prototype.updateDataPoint=function(e,t,i,a,r){if(!this._series[e]){this._series[e]=[]}var o=this._series[e][t];if(!o){o=this._series[e][t]={}}o.position=a;o.dpConfig=i;o.dataPoint=r};a.prototype.render=function(e,t){var a=[],r,o;for(var n=0;n<this._seriesGroup.length;n++){o=this._seriesGroup[n];if(o&&!(t&&t.indexOf(n)<0)){r=this._series[n]||[];var l=this._renderSeries(o,r,n);if(i.isNaN(l)){l=0}a[l]=a[l]||[];a[l].push(o)}}for(var s=0;s<a.length;s++){var u=a[s];if(!u||!u.length){continue}for(var c=0;c<u.length;c++){e.appendChild(u[c])}}};a.prototype.update=function(e){for(var t=0;t<this._seriesGroup.length;t++){if(this._series[t]){this._updateSeries(this._seriesGroup[t],this._series[t],t)}}};a.prototype._updateSeries=function(e,t,i){if(this._updateFn&&t&&t.length){this._updateFn(e,t,i)}};a.prototype._renderSeries=function(e,t,i){if(this._renderFn&&t&&t.length){return this._renderFn(e,t,i)}return 0};return a});define("sap/viz/chart/components/renderers/LineRenderer",["sap/viz/framework/common/util/SVG"],function(e){var t=function(){var t=function(t){var i=t.graphic;var a=e.create("path");a.setAttribute("d",e.generatePath(t));a.setAttribute("fill","none");a.setAttribute("stroke-linejoin","round");a.setAttribute("stroke",i.color);a.setAttribute("stroke-width",i.width);if(i.dash){a.setAttribute("stroke-dasharray",i.dash)}if(i.linecap){a.setAttribute("stroke-linecap",i.linecap)}return a};t.update=function(t,i){t.setAttribute("d",e.generatePath(i));if(i.graphic){var a=i.graphic;if(a.color){t.setAttribute("stroke",a.color)}if(a.width){t.setAttribute("stroke-width",a.width)}if(a.dash){t.setAttribute("stroke-dasharray",a.dash)}else{t.removeAttribute("stroke-dasharray")}if(a.linecap){t.setAttribute("stroke-linecap",a.linecap)}else{t.removeAttribute("stroke-linecap")}}};t.prepare=function(e){return e};t.expose={renderer:t,prepare:t.prepare,update:t.update};return t};return t});define("sap/viz/chart/components/util/BarSeriesUtil",["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/renderers/LineRenderer","sap/viz/chart/components/util/SeriesUtil"],function(e,t,i,a,r,o,n){var l=o();var s=r.convertColor;var u=a.CSS.CLASS;var c=a.LINE_TYPE;function h(e,t){e.graphic={color:e.color,width:1,opacity:1};delete e.color;e.isHorizontal=t}function p(t,i,a,r){var o=t(i);o.setAttribute("class",u.BAR_SERIES_PATH);e.setData(o,i.graphic);if(a){o.setAttribute("display","none")}else{o.removeAttribute("display")}r.insertBefore(o,r.firstChild)}function d(e,t,i,a){var r=[];var o={points:[]};var l,s,u,c;var h=e.length;for(var p=0;p<h;p++){l=e[p];if(!l||!l.position){continue}s=l.dpConfig;c=a.register({fillColor:n.parseSemanticColor(s,i)});if(o.points.length!==0&&u!==c){o.color=u;r.push(o);o={points:[]}}n.addRectSeriesPathPoints(o.points,l,!!s.negative,t);u=c}if(o.points.length>0){o.color=u;r.push(o)}return r}var f={drawBarSeries:function(e,t,i,a,r,o){if(i.hasDataPointColorStyle()){var s=d(t,r,i,a);s.forEach(function(t){h(t,r);p(l,t,o,e)})}else{var u=[];var c,f,v,g,m,y;var _=t.length;for(c=0;c<_;c++){g=t[c];if(!g||!g.position){continue}m=g.dpConfig;y=m.graphic;n.addRectSeriesPathPoints(u,g,!!m.negative,r);if(!v){v=a.register({fillColor:y.fill});f=y.opacity}}var A={graphic:{color:v,width:1,opacity:f},points:u,isHorizontal:r};p(l,A,o,e)}},updateBarSeries:function(i,a,r,o,s,c){var f=i.querySelectorAll("path."+u.BAR_SERIES_PATH);if(c){[].forEach.call(f,function(e){e.setAttribute("display","none")});return}var v;var g=a.length;if(r.hasDataPointColorStyle()){var m=d(a,s,r,o);var y;m.forEach(function(t,a){h(t,s);y=f[a];if(y){l.update(y,t);e.setData(y,t.graphic);y.removeAttribute("display")}else{p(l,t,c,i)}});for(v=m.length;v<f.length;++v){t.remove(f[v])}}else{var _;var A=[];for(v=0;v<g;v++){_=a[v];if(!_||!_.position){continue}n.addRectSeriesPathPoints(A,_,!!_.dpConfig.negative,s)}var b={points:A,isHorizontal:s};l.update(f[0],b);f[0].removeAttribute("display")}}};return f});define("sap/viz/chart/components/decorator/Decorator",[],function(){var e=function(){this._decos={}};e.prototype.decorate=function(e){var t=this._decos;for(var i in t){if(t.hasOwnProperty(i)){e.prototype[i]=t[i]}}};return e});define("sap/viz/chart/components/util/HitTestUtils",[],function(){var e={};e.inRange=function(e,t,i){return e>=t&&e<=i};var t=e.inRange;e.isInCircle=function(e,t,i){var a=Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2));return i>=a};function i(e,i,a,r){return t(e[0],i[0],i[0]+a)&&t(e[1],i[1],i[1]+r)}e.isInRect=i;e.isInRectWithRatio=function(e,t,a){var r=t.x;var o=t.y;var n=Math.ceil(t.width);var l=Math.ceil(t.height);if(a!=1){r*=a;o*=a;n*=a;l*=a}return i([e.left,e.top],[r,o],n,l)};return e});define("sap/viz/chart/components/decorator/BaseHitTestDecorator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/decorator/Decorator","sap/viz/chart/components/util/HitTestUtils"],function(e,t,i){var a=i.inRange;var r=function(){r.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(e){};this._decos.hitTestForRangeSelection=function(e){if(!e.hasOwnProperty("start")&&!e.hasOwnProperty("end")){return null}var t=this._data.valueAxis.scale._domain;var i=this._data.valueAxis2&&this._data.valueAxis2.scale._domain;var r;var o=this._dataPointContext;r=o.filter(function(r){var o=r.rawData.timeAxis[0].parsedValue||r.rawData.timeAxis[0].value;if(!a(o,e["start"],e["end"])){return false}var n;if(r.rawData.hasOwnProperty("valueAxis2")){n=r.rawData.valueAxis2;return a(n,i[0],i[1])}else{n=r.rawData.valueAxis;return a(n,t[0],t[1])}});return r.map(function(e){return e.dataId.toString()})}};e.extend(r,t);return r});define("sap/viz/chart/components/decorator/HitTestRectDecorator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/chart/components/decorator/BaseHitTestDecorator","sap/viz/chart/components/util/HitTestUtils"],function(e,t,i,a){var r=a.isInRectWithRatio;var o=function(){o.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(e){var i=this._dataPointContext;var a;var o=this._selection.select(".v-plot-bound").node();var n=o.getBoundingClientRect().width/o.getBBox().width;if(e.hasOwnProperty("width")&&e.hasOwnProperty("height")){var l=this.getSize();var s=this._offset;var u=-s.x;var c=-s.y;e.left=e.left+u;e.top=e.top+c;var h=l.width;var p=l.height;if(n!=1){h*=n;p*=n;u*=n;c*=n}var d={left:u,top:c,width:h,height:p};if(!t.intersects(d,e)){return[]}e=t.intersection(d,e);a=i.filter(function(i){var a=i.position;var r={left:a.x,top:a.y,width:a.width,height:a.height};if(n!=1){r.left*=n;r.top*=n;r.width*=n;r.height*=n}return t.intersects(r,d)&&t.intersects(r,e)})}else{a=i.filter(function(t){return r(e,t.position,n)})}return a}};e.extend(o,i);return o});define("sap/viz/chart/components/accessibility/BaseDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(e,t,i,a){function r(e){r.superclass.constructor.apply(this,arguments);this._dataModel=e.dataModel;this._sortedDataPointsByDirection=[];this._series=e.series?e.series:e.dataModel?e.dataModel.series():null;this._propMgr=e.propertyManager;this._isDual=e.isDual;this._isPercentage=e.isPercentage;this._seriesTypeLookup=[];this._isTimeColumn=e.isTimeColumn;this._isTimeWaterfall=e.isTimeWaterfall;this._isTimeBullet=e.isTimeBullet}e.extend(r,a);var o=r.prototype;o.destroy=function(){r.superclass.destroy.apply(this,arguments);this._dataModel=null;this._sortedDataPointsByDirection=[];this._series=null;this._propMgr=null;this._renderType=null;this._isDual=null;this._isPercentage=null;this._seriesTypeLookup=null};o.locate=function(e){var t=this._series;for(var i=e.length-1;t&&i>=0;--i){t=t[e[i]]}return t||null};o.address=function(e){return this._dataModel.getDataPoint(e).address()};o.getDataPoint=function(e){return this._dataModel?this._dataModel.getDataPoint(e):null};o.getColumn=function(e){return this._dataModel.getDataPoints(e)};o.getRow=function(e){return this._dataModel.getDataPoints(null,e)};o.getPrevDataPointInSeries=function(e){return this.getDataPoint(e).prev()};o.getNextDataPointInSeries=function(e){return this.getDataPoint(e).next()};o.getFirstStartPoint=function(){if(this._series&&this._series.length){var e=this._series[0].length;for(var t=0;t<this._series.length;t++){if(this._series[t].length>e){e=this._series[t].length}}for(var i=0;i<e;i++){for(var a=0;a<this._series.length;a++){if(this._series[a][i]){return this._series[a][i].dp}}}}else{return null}};o.dataPointValueSortInCategory=function(e){this._sortedDataPointsByDirection[e]=this.getColumn(e);var t=this;this._sortedDataPointsByDirection[e].sort(function(e,i){var a=t.locate(e.address());var r=t.locate(i.address());return a.valueAxis-r.valueAxis})};o._getSeriesType=function(e){var t=this.locate(e.address());if(!this._dataShapes){var a="dataShape.primaryAxis";var r=t&&!t.hasOwnProperty("valueAxis");if(r){a="dataShape.secondaryAxis"}this._dataShapes=this._propMgr.get("plotArea."+a);if(!this._dataShapes){this._dataShapes=r?["line","line","line"]:["bar","line","line"]}}return i.getSeriesType(t,this._dataShapes,this._renderType)};o._setupSeriesTypeTable=function(){if(this._series){for(var e=0;e<this._series.length;e++){var t=0;while(!this._series[e][t]&&t<this._series[e].length){t++}if(this._series[e][t]){this._seriesTypeLookup[e]=this._getSeriesType(this._series[e][t].dp)}else{this._seriesTypeLookup[e]=undefined}}}};o._getMaxCategoryNum=function(){var e=0;for(var t=0;t<this._series.length;t++){if(this._series[t]&&this._series[t].length>e){e=this._series[t].length}}return e};o._getFirstPointBySeries=function(e){if(this._series&&e>-1&&e<this._series.length){if(this._series[e]){for(var t=0;t<this._series[e].length;t++){if(this._series[e][t]){return this._series[e][t].dp}}}}return null};o._prevSeriesFirstPoint=function(e){var t=this.getDataPoint(e);if(t){var i=t.address()[1];while(--i>-1&&!(t=this._getFirstPointBySeries(i))){}}return t};o._nextSeriesFirstPoint=function(e){var t=this.getDataPoint(e);if(t){var i=t.address()[1];var a=this._series.length;while(++i<a&&!(t=this._getFirstPointBySeries(i))){}}return t};o.leftSeries=function(e){return this._prevSeriesFirstPoint(e)};o.rightSeries=function(e){return this._nextSeriesFirstPoint(e)};o.upSeries=function(e){return this._prevSeriesFirstPoint(e)};o.downSeries=function(e){return this._nextSeriesFirstPoint(e)};return r});define("sap/viz/chart/components/accessibility/ColumnDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(e,t,i,a){function r(){r.superclass.constructor.apply(this,arguments);this._allDataPoints=[];this._allDataPointsReverse=[];this._setupDataPointsMap()}e.extend(r,a);var o=r.prototype;o._setupDataPointsMap=function(){if(this._series&&this._propMgr.get("interaction.enableKeyboard")){this._allDataPoints=[];this._allDataPointsReverse=[];if(!this._isTimeColumn&&!this._isTimeWaterfall){var e=this._getMaxCategoryNum();for(var a=0;a<e;a++){for(var r=0;r<this._series.length;r++){var o=this._series[r][a];if(o&&(o.valueAxis!=null||o.valueAxis2!=null)){this._allDataPoints.push(o.dp)}}}}else{var n;var l=this._dataModel.getDataPoints();var s=this._dataModel.timeAxis();if(l.length>0&&s){n=s.rowArray.map(function(e){return e[0]?e[0].parsedValue:null});n=n.filter(function(e){return e});n=i.unique(n).sort(function(e,t){return e-t});var u=this._dataModel._rangeIndex;var c=this._propMgr.get("interaction.selectByTimeAxisGroup");var h=u&&u.length>0?u.length+1:n.length;var p={};l.forEach(function(e){var i=e.context();if(e._model&&e._model.timeAxis&&e._model.timeAxis.metaData){var a=e._model.timeAxis.metaData[0].id+".parsedValue";var r=i[a];if(t.isExist(r)){p[r]=p[r]||[];p[r].push(e)}}});for(var d=u[0]||0;d<h;d++){var f=p[n[d]];if(f&&f.length>0){this._allDataPoints=this._allDataPoints.concat(c?f[f.length-1]:f);this._allDataPointsReverse=this._allDataPointsReverse.concat(c?f[0]:f)}}}}}};o.getFirstStartPoint=function(){return this._allDataPoints[0]};o.destroy=function(){r.superclass.destroy.apply(this,arguments);this._allDataPoints=null};o.left=function(e){return this.getPrevDataPoint(e)};o.right=function(e){return this.getNextDataPoint(e)};o.up=function(e){return this.getPrevDataPoint(e)};o.down=function(e){return this.getNextDataPoint(e)};o.getNextDataPoint=function(e){var t=this._propMgr.get("interaction.selectByTimeAxisGroup");var i=this.getDataPoint(e);var a=null,r;if(t){r=this._allDataPoints.indexOf(i);if(r===-1){r=this._allDataPointsReverse.indexOf(i)}r++}else{r=this._allDataPoints.indexOf(i)+1}if(r<this._allDataPoints.length){a=this._allDataPoints[r]}return a};o.getPrevDataPoint=function(e){var t=this._propMgr.get("interaction.selectByTimeAxisGroup");var i=this.getDataPoint(e);var a=null,r;if(t){r=this._allDataPointsReverse.indexOf(i);if(r===-1){r=this._allDataPoints.indexOf(i)}r--}else{r=this._allDataPoints.indexOf(i)-1}if(r>-1){if(t){a=this._allDataPointsReverse[r]}else{a=this._allDataPoints[r]}}return a};return r});define("sap/viz/chart/components/trendline/mixin/columnPlot",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/trendline/Trendline"],function(e,t,i){function a(e){var t="M"+e.pop().join(",");t+="L"+e.shift().join(",");return t}function r(){this._trendlines=null}var o=r.prototype;o._getTrendLineContainer=function(e,t){t.appendChild(e)};o.renderTrendlines=function(t){if(!t){return}var i=this._properties.get("dataPointStyleMode"),a=this._properties.get("dataPointStyle");if(a&&i&&i==="override"){return}var r=0,o=this._trendlineCfg(),n=t.select(".v-plot-main").node(),l=n.querySelector(".v-trendline-group"),s,u;this._getTrendLines(this._data);if(!o||!this._trendlines||o.length===0){return null}if(l){l.parentNode.removeChild(l)}l=e.create("g");l.setAttribute("class","v-trendline-group");this._getTrendLineContainer(l,n);for(var c=0,h=o.length;c<h;c++){u=o[c];var p=this._trendlines[c];if(!u||!p||!p.raw||!p.fx){continue}var d=this._drawTrendlineForSeries(p,this._swapXY(p));if(d){s=e.create("path");s.setAttribute("fill","none");s.setAttribute("d",d);Object.keys(u.style).forEach(function(e){s.setAttribute(e,u.style[e])});l.appendChild(s)}}return l};o._drawTrendlineForSeries=function(e,t){var r=e.series,o=e.seriesId,n=this._val2PosFns(o,r,t),l=this._rasterizeTrendData(e,t),s=i.calculate(l.slice(0,e.raw.length-e.forecast));e.rasterizedData=l;var u=this._getTrendlineRange(e,t),c=[],h;if(this._visibleBound){h=t?[-1*this._offset.y,this._visibleBound.y]:[-1*this._offset.x,this._visibleBound.x]}else{h=t?[-1*this._offset.y,this._realSize.height]:[-1*this._offset.x,this._realSize.width]}for(var p=u.start;u.start!==u.end&&p<=u.end;p+=u.step){var d=n.x(p);var f=n.y(s(p));if(d<=h[1]&&d>=h[0]){c.push([d,f])}}if(!c||c.length<2){return null}return a(!t?c:c.map(function(e){return e.reverse()}))};o._getTrendlineRange=function(e,t){var i=e.rasterizedData;return{start:i[0].x,end:i[i.length-1].x,step:1}};o._swapXY=function(){return this.isHorizontal()};o._val2PosFns=function(e,t,a){var r=i.Utils.seriesAxisId(t),o=this._xHandlers.concat(this._yHandlers).filter(function(e){return e.id===r})[0],n=this._realSize.width,l=this._realSize.height;return{x:function(e){return e},y:a?function(e){var t=o._scale.scale(e);return t*n}:function(e){var t=o._scale.scale(e);return(1-t)*l}}};o._rasterizeTrendData=function(e,t){var i=t?this._realSize.height:this._realSize.width,a=(t?this._yHandlers[0]:this._xHandlers[0])._scaleByIndex;var r=e.raw.length-e.forecast;var o;return e.raw.map(function(t,n){if(n<r){var l=a[t.x-1];return{x:i*(l[0]+(l[1]-l[0])/2),y:t.y}}else{var s=a[a.length-e.forecast]||s;o=o?o:s[1]-s[0];return{x:i*((e.forecast-1+1/2)*o+s[0]),y:t.y}}},this)};o._getTrendLines=function(e){var t=this._properties.get("dataPointStyleMode"),a=this._properties.get("dataPointStyle");if(a&&t&&t==="override"){return}if(!this._trendlines){var r=this._properties.get("trendLine"),o=this._properties.get("dataPoint"),n=this.runtime().statusManager().get("timeLevels");this._trendlines=i.Parser.basic(r,e,o,n)}};o._trendlineValueDomain=function(e){var t={valueAxis:[],valueAxis2:[]};this._getTrendLines(e);if(!this._trendlines){return[]}t=this._trendlines.reduce(function(e,t){if(!t||!t.raw||!t.fx){return e}var a=t.series,r=i.Utils.seriesAxisId(a),o=i.domainPerTrendline(t.fx,t.raw),n=e[r].concat(o);e[r]=[Math.min.apply(null,n),Math.max.apply(null,n)];return e},t);if(t.valueAxis.length===0){delete t.valueAxis}if(t.valueAxis2.length===0){delete t.valueAxis2}return t};o._trendlineCfg=function(){var e=this._data,t=this._properties.get("trendLine"),a=this._properties.get("seriesStyle");return i.Parser.color(t,e,a,this._effectManager)};o._expandTrendlineXRange=function(e){i.expandCategoryDomain(e,this._trendlines,this.runtime().statusManager())};o.zoom=function(e){this.renderTrendlines(this._selection)};o.render=function(e){this.renderTrendlines(e)};function n(e,t){return function(){var i=e.apply(this,arguments);t.apply(this,arguments);return i}}o.inject=function(e,t){t=t||this.defaultResolveStrategy;for(var i in this){if(e[i]&&this.defaultResolveStrategy[i]){var a=t[i];if(!a){throw new Error("Mixin conflict: no resolve strategy")}var r=a(e[i],this[i]);if(!r){throw new Error("Mixin conflict: strategy not able to resolve it")}e[i]=r}else{e[i]=this[i]}}};o.defaultResolveStrategy={zoom:n,render:n};return r});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n,l,s,u){var c=["info/bar","info/column","info/dual_bar","info/dual_column","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall"];var h=["info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination"];var p=c.concat(h);var d=["info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/mekko","info/horizontal_mekko","info/100_mekko","info/100_horizontal_mekko","info/waterfall","info/horizontal_waterfall","info/stacked_waterfall","info/horizontal_stacked_waterfall","info/heatmap"].concat(c);d=r.addTrellisType(d);var f=d.concat(h);f=r.addTrellisType(f);c=r.addTrellisType(c);var v=e.CSS.CLASS;var g="datapoint";var m="dataline";var y=["info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall"];var _=[{id:"selectDataPoint_bar",triggerEvent:{name:"selectDataPoint",supportedChartTypes:d},handler:function(e,t){if(t.isBigDataMode()){o.selectOnBarDuringBigData(e,t)}else{o.selectOnBarOnNormalMode(e,t)}}},{id:"deselectDataPoint_bar",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:d},handler:function(e,r){if(r.isBigDataMode()){return}r.fireEvent(e,true);var o=r.getProperties();var n=i.turnToArray(e.data.targets);var l;var s=t.isExist(o.get("plotArea.markerRenderer"));n.forEach(function(t){var n=1;if(e.data.isAnyOtherSelected){l=o.get("interaction.deselected")}else{l=o.get("plotArea.dataPoint");n=a.getData(t).strokeWidth}i.drawStroke(r,t,"rect",l.stroke,n);i.drawFill(r,t,"rect, path",l,s)})}},{id:"hoverOnDataPoint_bar",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:d},handler:function(e,t){if(t.isBigDataMode()&&!t.isTrellis()){o.highlightOnBarDuringBigData(e,t)}else{o.hoverEffectDuringNormalMode(e,t)}}},{id:"unhoverOnDataPoint_bar",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:d},handler:function(e,t){if(t.isBigDataMode()&&!t.isTrellis()){o.unhighlightOnBarDuringBigData(e,t)}else{o.unhoverEffectDuringNormalMode(e,t)}}},{id:"clearPlot_bar",triggerEvent:{name:"clearPlot",supportedChartTypes:d},handler:function(e,r){r.fireEvent(e,true);r._getDecorationLayer().clear();var l=e.data.isGray;var s=e.data.rangeSelection;var u=s&&s!=="clear";var c=r.getProperties();var h=r.getNodes(r.NodeType.DATA_POINT,false);if(h==null||h.length===0){o.cleanBar(e,r);return}var p;var d=t.isExist(c.get("plotArea.markerRenderer"));h.forEach(function(e){var o=1;if(l||u){p=c.get("interaction.deselected");if(u){p=n.extend(true,{},p);p.opacity=1}}else{p=c.get("plotArea.dataPoint");o=a.getData(e).strokeWidth}var s=a.getData(e);i.drawStroke(r,e,"rect",p.stroke,t.isExist(o)?o:1,undefined,s);i.drawFill(r,e,"rect, path",p,d)})}},{id:"clearPlot_timeseries_column",triggerEvent:{name:"clearPlot",supportedChartTypes:y},handler:function(e,t){t.fireEvent(e,true);if(!e.data.rangeSelection){t._getDecorationLayer().clear();t._getActionLayer().clear()}}},{id:"hover_on_plot_bar",triggerEvent:{name:"hover",supportedChartTypes:c,targets:"v-m-plot"},handler:function(e,t){o.hoverOnBarDuringBigData(e,t)}},{id:"hover_on_non_plot_bar",triggerEvent:{name:"hover",supportedChartTypes:p,excludeTargets:"v-m-plot"},handler:function(e,t){if(!t.isBigDataMode()){return}t.setStatus("hoveringOnPlotEvent",null);var i=t._getActionLayer();i.clear(g);t._getDecorationLayer().clear(g);t.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode"})}},{id:"hover_range_selection_bar",triggerEvent:{name:"hover",supportedChartTypes:y,targets:"v-m-action-layerrange"},handler:function(e,t){o.showDetailForRangeSelectionWhenHover(e,t)}},{id:"click_on_time_comb_during_big_data",triggerEvent:{name:"click",supportedChartTypes:h,excludeTargets:i.getDeselAllExTargets()},handler:function(e,t){o.clickOnCombDuringBigData(e,t)}},{id:"hover_on_plot_time_during_big_data",triggerEvent:{name:"hover",supportedChartTypes:h,targets:"v-m-plot"},handler:function(e,t){if(t.getStatus("rangeSelection")){return}o.hoverOnCombDuringBigData(e,t)}},{id:"click_on_non_selection_bar",triggerEvent:{name:"click",supportedChartTypes:f,excludeTargets:i.getDeselAllExTargets()},handler:function(e,t){if(t.isBigDataMode()&&h.indexOf(t._getChartType())>-1){return}if(!t.getProperties().get("interaction.enableDeselectAll")){return}if(p.indexOf(t._getChartType())>-1){o.clickOnBarDuringBigData(e,t)}else{t.fireEvent(e,true)}}},{id:"update_range_selection_effect_bar",triggerEvent:{targets:"v-m-action-layerrange",name:"down",supportedChartTypes:y},handler:function(e,t){o.updateRangeEffect(e,t)}},{id:"recover_range_selection_effect_bar",triggerEvent:{targets:"v-m-action-layerrange",name:"up",supportedChartTypes:y},handler:function(e,t){o.recoverRangeEffect(e,t)}}];u.registerAll(_);return _});define("sap/viz/chart/components/plots/ColumnPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/plots/BaseColumnPlot","sap/viz/chart/components/datalabels/ColumnDataLabels","sap/viz/chart/components/datalabels/BarDataLabels","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/BarSeriesUtil","sap/viz/chart/components/decorator/HitTestRectDecorator","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/ColumnDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/trendline/mixin/columnPlot","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y){var _=t.CSS.CLASS;var A=function(e,t){A.superclass.constructor.apply(this,arguments);this._drawZeroLineBeforeDatapoints=false;this._dataPointContext=[];this._idMap={};this._semanticMgr.setUseSemanticPattern(true)};e.extend(A,n);A.prototype._getDataLabels=function(e,t){if(this.isHorizontal()){return new s(t,{name:e})}else{return new l(t,{name:e})}};A.prototype.destroy=function(){A.superclass.destroy.call(this);this._drawZeroLineBeforeDatapoints=null};A.prototype.mappingDataPointInfo=function(e){var t=this._dataPointContext[e];return t};A.prototype._attachColorData=function(e,t,n,l){if(this.isHorizontal()&&this._properties.get("dataLabel.visible")){var s=a.getData(e);if(!s){s={}}if(l&&l.displayName!==undefined){s.colorLegendData=[];s.colorLegendData.push(l.displayName)}else{if(t.color||t.color2){s.colorLegendData=i.clone(t.color||t.color2);var u=function(e,t){return r.isFunction(e[t])?e[t]():e[t]};var c="color";if(t.color2){c="color2"}var h=u(this._data,c).metaData;var p=[];p.push(i.clone(s.colorLegendData));var d=o.getDomainArray(p,h);if(d.length>0&&d&&d[0]){s.colorLegendData=d[0]}if(n>=0){if(s.colorLegendData.length>1){s.colorLegendData.splice(n,1)}}if(s.colorLegendData){var f=o.getDisplayTextsConverter(h);s.colorLegendData=f(s.colorLegendData)}}}a.setData(e,s)}};A.prototype.isBigDataMode=function(){var e=this._getDpCount();var t=this._properties.get("dataPoint.savingMode");var i=this.isHorizontal()?this._realSize.height:this._realSize.width;return t&&e>0&&i/e<1};A.prototype._preShowDataPoints=function(e){var t=this.runtime().semanticManager();this._isBigData=this.isBigDataMode();if(this._isBigData){var i=this.createSeriesIterator(this._series.length);while(i.hasNext()){var a=i.next();var r=this._series[a];if(!r){continue}var o=r.getDataPoints();this._hideDataPoints(o)}}return A.superclass._preShowDataPoints.apply(this,arguments)};A.prototype._getDpCount=function(){var e=this._getSeries();var t=0;e.forEach(function(e){t+=e.length});return t};A.prototype._applyScroll=function(){A.superclass._applyScroll.apply(this,arguments);this.renderTrendlines(this._selection)};A.prototype._updateDatapoints=function(e){this._resetDataPoints();var i=e.select("."+t.CSS.CLASS.DATAPOINT_GROUP).node();var a=this._showDataPoints(i);this._dataLabels.updatePosition(e,a)};A.prototype._showDataPoints=function(e){this._preShowDataPoints();var i=[];this._dataPointContext=[];var a=this.runtime().effectManager();if(this._seriesRenderer){this._seriesRenderer.resetDataPoints()}var o=this._needLazyRender();var n=this.createSeriesIterator(this._series.length);var l={color:null,drawingEffect:this._properties.get("drawingEffect")};var s=t.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get("dataPoint.invalidity"))<=0;var u=this._getVisibleRange();while(n.hasNext()){var c=n.next();var h=this._series[c];if(!h){continue}var p=this._getDataPointRenderer(c);if(!p){continue}var d=h.getDataPoints();var f=this._getDataPointRange(d,u);if(o){this._hideDataPoints(d,f)}var v=null;var g=this._getDataShape&&this._getDataShape(c)==="line";var m=this._getDataShape&&this._getDataShape(c)==="bar";var y=this.getSeriesDPStyle(c);for(var _=f.min;_<=f.max;_++){var A=d[_];if(!A){continue}var b=this._getDataPointPosition(A);if(!b){continue}var x=A.getRawData();if(m&&x&&(!x.hasOwnProperty("valueAxis")||!r.isExist(x.valueAxis))){continue}var S=false;var D=A.getId();var w=null;var C=A.getConfig();if(s&&x.dp.ignore&&g){b=null;if(!C){C={graphic:{fill:v}}}}else{if(!C){if(!v){v=this._getColor(x)}l.color=v;l.seriesStyle=y;S=true;C=this._buildWrapperConfig(x,b,null,l);C.seriesIndex=c;C.seqId=D;C.position=b;if(C.graphic.pattern==="noFill"){C.path=this._generatePath(C.graphic);C.graphic.pathStrokeWidth=this._pathStrokeWidth(C.ctx)}}this._dataPointContext[x.dp.id]=C;this._idMap[x.dp.id]=D;if(!this._isBigData){var T=A.getData();if(!T){S=true;T=this._buildData(C);A.init(C,D,T,x.dp&&x.dp.id?x.dp.id:t.NULL_VALUE)}w=A.getNode();if(w){if(S){if(C.graphic.pattern==="noFill"){C.path=this._generatePath(C.graphic);C.graphic.pathStrokeWidth=this._pathStrokeWidth(C.ctx)}this._updateDatapoint(w,p,C,b);i.push(w)}}else{w=this._drawDataPoint(p,A);A.setNode(w);if(w){i.push(w)}}}this._updateStrokeWidth(w);if(this._seriesRenderer){this._seriesRenderer.addDataPoint(c,_,C,b,w)}else if(!w.parentNode){e.appendChild(w)}}}}return i};function b(e){if(e.valueAxis!=null){return e.valueAxis}else if(e.valueAxis2){return e.valueAxis2}else{return 0}}A.prototype._buildWrapperConfig=function(e,i,a,r){var o;if(this._isBigData&&a==null){var n=e.transparent||0;var l=i.width;var s=i.height;var u=h.convertColor(r.color);var c={graphic:{width:l,height:s,drawingEffect:this._drawingEffect||r.drawingEffect||this._properties.get("drawingEffect"),fill:r&&r.seriesStyle&&r.seriesStyle.color?h.convertColor(r.seriesStyle.color):u,opacity:1-n},data:{color:u,width:l,height:s,translate:[i.x,i.y]},effectManager:this._effectManager,rawData:e,negative:b(e)<0,horizontal:this.isHorizontal(),dataId:e.dp.id};if(this._isCombination){o=e.dp&&e.dp.context()?e.dp.context():t.NULL_VALUE;c.ctx=o}return c}else{o=e.dp&&e.dp.context()?e.dp.context():t.NULL_VALUE;var p=A.superclass._buildWrapperConfig.call(this,e,i,o,r);return p}};A.prototype._drawDataPoint=function(e,t){var i=A.superclass._drawDataPoint.apply(this,arguments);this._attachColorData(i,t.getRawData(),t.getOnlyOneMndIndex(),t.getConfig());return i};A.prototype._getSeriesRenderer=function(){return new u(this._drawBarSeries.bind(this),this._updateBarSeries.bind(this))};A.prototype._drawBarSeries=function(e,t,i){p.drawBarSeries(e,t,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData)};A.prototype._updateBarSeries=function(e,t,i){p.updateBarSeries(e,t,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData)};(new d).decorate(A);f.registerClazz("column",A);f.registerClazz("bar",A);v.register(m.DATAPOINT_NAVIGATOR,m.COLUMN,g);v.register(m.DATAPOINT_NAVIGATOR,m.WATERFALL,g);(new y).inject(A.prototype);return A});define("sap/viz/chart/components/datalabels/StackedDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/DataLabels","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/NumberUtils"],function(e,t,i,a,r,o,n,l,s,u,c){var h=function(e,t){this._isFlexibleStack=t.isFlexibleStack;h.superclass.constructor.apply(this,arguments);this._labelPosition="inside";this._totalLabels=[];this._stackIndexs=[];this._plotSelection=null;this._gridlineScale=null};var p=r.CSS.CLASS.DATALABEL+" "+r.CSS.CLASS.MORPHABLELABEL,d=r.CSS.CLASS.DATALABEL_GROUP_TOTAL,f="g";e.extend(h,a);function v(e){var t=e.gNode.querySelector("text");if(!t){t=n.create("text");e.gNode.appendChild(t)}t.textContent=e.text;return t}v.expose={renderer:v};h.prototype.setTrellisCell=function(e,t){h.superclass.setTrellisCell.apply(this,arguments);this._isFlexibleStack=false};h.prototype.setSeriesSettings=function(e,t){if(this._isFlexibleStack){this._seriesGroups=e.reduce(function(e,t){t.series.forEach(function(i){e[i]=t});return e},[]);this._seriesType=t}};h.prototype._computeDataLabelPosition=function(e,t,i,a,n,l){var s=t.x+e.e;var u=t.y+e.f;var c=[];if(i==="up"||i==="down"||i==="inside"){c[0]=s+t.width/2-(a.x+a.width/2);if(i!=="inside"){c[1]=u-(a.y+a.height)-r.DATALABEL.VERTICAL_TOTAL_LABEL_PADDING;if(n.val===0&&c[1]+a.y<0||i==="down"){c[1]=u-a.y+t.height+r.DATALABEL.VERTICAL_TOTAL_LABEL_PADDING}}}if(i==="left"||i==="right"||i==="inside"){c[1]=u+t.height/2-(a.y+a.height/2);if(i!=="inside"){c[0]=s-a.x+t.width+r.DATALABEL.HORIZONTAL_TOTAL_LABEL_PADDING;if(c[0]>this._size.width&&n.val===0||i==="left"){c[0]=s-(a.x+a.width)-r.DATALABEL.HORIZONTAL_TOTAL_LABEL_PADDING}}}if(this._options.allowMicroAdjust&&n.zeroLineAdjust){var h=this._gridlineScale.scale(0);var p=c[1];var d=a.height;var f=p-d;var v=n.val;if(o.isNumber(h)&&f<h&&p>h){if(v>=0){c[1]=h}else{c[1]=h+d}}}return c};h.prototype._getCategorySum=function(e){var t;if(this._isFlexibleStack){t=[0,0];for(var a=0;a<e.length;a++){var r=i.getContext(e[a]);var o=+r[r.measureNames];if(o>=0){t[1]+=o}else{t[0]+=o}}}else{t=i.getData(e).range}return t};h.prototype.updatePosition=function(e,t){var i=e.node();this._allStacksNodes=i.querySelectorAll("."+r.CSS.CLASS.STACK);this._renderStackTotal(e,this._allStacksNodes);h.superclass.updatePosition.apply(this,arguments)};h.prototype.render=function(e,t){this._removeExtraNodes(e);this._plotSelection=e;t=t||l.findAll(this._dataShapesGroupNode)||[];var i=this._beforeRender(t);this._render(e,i);if(this._isFlexibleStack){this._allStacksNodes=this.getAllFlexibleStacks(t)}else{this._allStacksNodes=e.node().querySelectorAll("."+r.CSS.CLASS.STACK)}this._renderStackTotal(e,this._allStacksNodes);this._afterRender(e)};var g=function(e,t){var a=e[0];var r=Infinity;for(var o=0;o<e.length;o++){var n=i.getContext(e[o]);var l=n[n.measureNames];var s=i.getData(e[o]);if((t>0&&l<0||t<=0&&l>=0)&&s.seriesIndex<r){r=s.seriesIndex;a=e[o]}}return a};h.prototype.getAllFlexibleStacks=function(e){if(!(e&&e.length)){e=l.findAll(this._dataShapesGroupNode)||[]}var t=[];var a=[];for(var r=0;r<e.length;r++){var o=i.getData(e[r]).flexibleStackId;if(o){if(!t[o]){t[o]=[];a.push(t[o])}t[o].push(e[r])}}return a};h.prototype._renderStackTotal=function(e,t){var a=e.node();var u=this._properties;var h=u.get("showTotal");this._totalLabels=[];this._stackIndexs=[];var m=this._runtime.statusManager().get("dynamicScale");if(h){var y,_;var A=a.querySelector("."+d);if(!A){A=n.create(f,a);A.setAttribute("class",d);var b=null;var x=this.runtime().envManager();if(x){b=x.textAnchor()}A.setAttribute("text-anchor",b);var S=this._getStyle();for(var D in S){if(S.hasOwnProperty(D)){A.setAttribute(D,S[D])}}}else{var w=A.querySelectorAll("."+r.CSS.CLASS.DATALABEL);y=w.length;while(y){A.removeChild(w[y-1]);--y}}var C=u.get("renderer")||v;var T=u.get("formatString");for(_=0,y=t.length;_<y;_++){var z=t[_];var L;if(this._isFlexibleStack){L=z}else{L=z.querySelectorAll("."+r.CSS.CLASS.DATAPOINT)}var P=L[L.length-1];var k=l.getDataPointId(P);var E,I=T,O;var R,N;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){R=this._data.valueAxis.metaData[0].id;N=this._data.valueAxis.metaData[0].formatString}I=I?I:N;var M=function(e,t){var r=z;if(this._isFlexibleStack){r=g(z,t)}E=this._buildDataLabelText(I,e,null,false);if(E===null||E===undefined){return}if(o.isExist(E)&&E&&E.text){e.formattedValue=E.formattedValue;E=E.text}var u=_+"-"+t;var c=n.create("g",A);l.setDataStackId(c,u);l.setDataId(c,u);i.setData(c,{id:u});i.setContext(c,{val:e.value});c.setAttribute("class",p);O=this._getConfigForRender(e,E,S,r,P);O.gNode=c;this._processDataLabelRendererConfig(O,e.value!==0?r:P);var h=C(O,v.expose)||v(O);if(h){if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(e.value!==0?r:P)}var d=s.getBBox(c);var f=e.value!==0?n.getTransformToElement(r,a):n.getTransformToElement(P,a);var m=null;if(e.value>=0){m=this._horizontal?"right":"up"}else{m=this._horizontal?"left":"down"}var y=this._computeDataLabelTranslate(e.value!==0?r:P,f,m,d,O);if(!y){c.removeChild(h);return}var b=y[0];var x=y[1];c.setAttribute("transform","translate("+b+","+x+")");this._totalLabels.push(c);this._stackIndexs.push({id:u,value:e.value,labelTranslate:y,labelBBox:d})}};var B=this._getCategorySum(z);if(B[1]>0||B[1]===0&&B[0]===0){M.call(this,{key:R,value:c.preciseSimple(B[1]),dynamicScale:m},0)}if(B[0]<0){M.call(this,{key:R,value:c.preciseSimple(B[0]),dynamicScale:m},1)}}}};h.prototype._getConfigForRender=function(e,t,i,a,r){var o={val:e.value,text:t,info:e,styles:i,horizontal:this._horizontal,dpBBox:s.getBBox(e.value!==0?a:r),isTotalDataLabel:true};return o};h.prototype.hideConditional=function(e,a){var r,o,n,u;var c=this._properties.get("overlapBehavior");if(c!=="hideOverlappedLabels"){for(r=e.length-1;r>=0;r--){u=e[r];o=u.node;n=u.dataPoint;if(this.isDataLabelOutOfDataPoint(o,u)&&(!n||i.getData(n).type!="line")){t.remove(o);e.splice(r,1)}}}var p;if(this._totalLabels.length){p=[];var d=new Array(this._allStacksNodes.length);for(r=0;r<this._allStacksNodes.length;r++){d[r]=s.getBoundingClientRect(this._allStacksNodes[r])}for(r=this._totalLabels.length-1;r>=0;r--){var f=this._stackIndexs[r].id;var v=this._allStacksNodes[f.split("-")[0]];o=l.findByDataStackIds(this._totalLabels,f)[0];if(o){var g=o.getBoundingClientRect();var m=this.indexOfDataLabelIntersectDataPoints(g,d,this._allStacksNodes,v);if(m!==-1){t.remove(o);this._totalLabels.splice(r,1);this._stackIndexs.splice(r,1)}else{var y=this._stackIndexs[r].value;var _=this._stackIndexs[r].labelTranslate;var A=this._stackIndexs[r].labelBBox;var b={val:y};if(_){var x={info:{value:y},node:o,left:_[0]+A.x,right:_[0]+A.x+A.width,top:_[1]+A.y,bottom:_[1]+A.y+A.height};p.push(x)}}}}if(p){h.superclass.hideConditional.call(this,p)}}h.superclass.hideConditional.apply(this,arguments);if(p){this.detectAndRemoveOverlappedDataLabel(e.concat(p))}};h.prototype.updateColor=function(e,t){h.superclass.updateColor.apply(this,arguments);var i=this._properties.get("style.color");for(var a=0;a<this._totalLabels.length;a++){var r=this._stackIndexs[a].id;var o=l.findByDataStackIds(this._totalLabels,r)[0];if(o){var n=i;if(!n){n=u.getDataLabelColor(t)}var s=this.runtime().effectManager().register({fillColor:n});o.setAttribute("fill",s)}}};h.prototype.drawZero=function(e){return!e||null===l.getDataPointId(e)};h.prototype.destroy=function(){h.superclass.destroy.call(this);this._labelPosition=null;this._totalLabels=null;this._stackIndexs=null;this._plotSelection=null;this._gridlineScale=null};return h});define("sap/viz/chart/components/renderers/StackedBarRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DrawUtil"],function(e,t,i){var a=2;var r=function(i){var r,o;var n=i.graphic;var l=(n.width<1||n.height<1)&&(n.width!==0&&n.height!==0);var s=n.width<1&&n.width!==0?1:n.width;var u=n.height<1&&n.height!==0?1:n.height;if(n.pattern==="noFill"&&i.path){r=e.create("path");r.setAttribute("d",i.path);r.setAttribute("stroke-width",isNaN(n.pathStrokeWidth)?3:n.pathStrokeWidth);r.setAttribute("fill",n.bgColor);r.setAttribute("stroke",n.fill)}else{r=e.create("rect");r.setAttribute("width",s);r.setAttribute("height",u);o=n.fill;if(i.effectManager){o=i.effectManager.register({drawingEffect:n.drawingEffect,fillColor:n.fill,patternEffect:n.pattern,direction:i.horizontal?"vertical":"horizontal"})}r.setAttribute("fill",o);r.setAttribute("shape-rendering","crispEdges");if(n.stroke){var c=i.horizontal?u:s;var h=c>n.strokeWidth+a?n.strokeWidth:c-a;if(h>=1){r.setAttribute("stroke",n.stroke);r.setAttribute("stroke-width",n.strokeWidth)}}}var p=t.getData(r)||{};p.bTinyValue=l;t.setData(r,p);t.setCustomizationInfo(r,{defaultRenderer:true});return r};r.update=function(e,t){var a=t.graphic;var r=a.width<1&&a.width!==0?1:a.width;var o=a.height<1&&a.height!==0?1:a.height;var n={width:r,height:o,minSize:t.horizontal?o:r};i.barUpdate(e,t,n)};r.expose={renderer:r,update:r.update};return r});define("sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(e,t,i){function a(e){a.superclass.constructor.apply(this,arguments);this._allNegativeValueInCategory=[];this._negativeValueAxis1=[];this._negativeValueAxis2=[];this._stackItemsUpDownOrder=[];this._isSupportNaturalUpDown=!this._isPercentage&&!this._isDual&&this._isVerticalRender&&e&&!e.isTimeseries&&!e.isCombination}e.extend(a,i);var r=a.prototype;r.buildUpDownOrder=function(){if(this._series&&this._isSupportNaturalUpDown){var e=0;var t;var i;for(t=0;t<this._series.length;t++){e=Math.max(e,this._series[t].length)}var a={};for(i=0;i<e;++i){a[i]=true;for(t=0;t<this._series.length;++t){if(this._series[t][i]){var r=this._series[t][i].valueAxis;if(r>0){a[i]=false;break}}}}for(i=0;i<e;i++){this._stackItemsUpDownOrder[i]=[];var o=[];var n=[];var l;for(t=0;t<this._series.length;t++){l=0;if(this._series[t].settings){var s=this._series[t].settings.group;l=n.indexOf(s);if(l<0){n.push(s);l=n.length-1}}if(this._series[t][i]){var u={};u.i=t;var c=this._series[t][i].dp;if(c){var h=c.context();if(a[i]){u.isNegative=h[h.measureNames]>0?0:1}else{u.isNegative=h[h.measureNames]>=0?0:1}u.seriesLocation=c.address()[1];if(u.isNegative>0){u.seriesLocation=-u.seriesLocation}u.flexibleGroupIndex=l;o.push(u)}}}o.sort(function(e,t){var i=e.flexibleGroupIndex-t.flexibleGroupIndex;var a=e.isNegative-t.isNegative;var r=e.seriesLocation-t.seriesLocation;return i||a||r});for(t=0;t<o.length;t++){this._stackItemsUpDownOrder[i].push(o[t].i)}}}};r.init=function(){this.buildUpDownOrder();if(this._series&&this._isPercentage){var e=this._getMaxCategoryNum();for(var t=0;t<e;t++){var i=0;var a=0;var r=0;var o=0;for(var n=0;n<this._series.length;n++){if(this._series[n][t]){if(this._series[n][t].valueAxis){r++;if(this._series[n][t].valueAxis<0){i++}}if(this._isDual&&this._series[n][t].valueAxis2){o++;if(this._series[n][t].valueAxis2<0){a++}}}}if(i===r){this._negativeValueAxis1[t]=true}else{this._negativeValueAxis1[t]=false}if(this._isDual){if(a===o){this._negativeValueAxis2[t]=true}else{this._negativeValueAxis2[t]=false}}}}};r.destroy=function(){a.superclass.destroy.apply(this,arguments);this._allNegativeValueInCategory=null;this._negativeValueAxis1=null;this._negativeValueAxis2=null;this._stackItemsUpDownOrder=null};r.left=function(e){return this._isVerticalRender?this._getPrevDataPointInSeries(e):this._getNextDataPointInStack(e)};r.right=function(e){return this._isVerticalRender?this._getNextDataPointInSeries(e):this._getPrevDataPointInStack(e)};r.up=function(e){return this._isVerticalRender?this._getPrevDataPointInStack(e):this._getPrevDataPointInSeries(e)};r.down=function(e){return this._isVerticalRender?this._getNextDataPointInStack(e):this._getNextDataPointInSeries(e)};r._getPrevDataPointInSeries=function(e){var t=this._prevNonNullDPInSeries(e);if(this._isPercentage){while(t&&(!this._negativeValueAxis1[t.address()[0]]&&this.locate(t.address()).valueAxis<0||this._isDual&&!this._negativeValueAxis2[t.address()[0]]&&this.locate(t.address()).valueAxis2<0)){t=this._prevNonNullDPInSeries(t.id);if(!t){break}}}return t};r._getNextDataPointInSeries=function(e){var t=this._nextNonNullDPInSeries(e);if(this._isPercentage){while(t&&(!this._negativeValueAxis1[t.address()[0]]&&this.locate(t.address()).valueAxis<0||this._isDual&&!this._negativeValueAxis2[t.address()[0]]&&this.locate(t.address()).valueAxis2<0)){t=this._nextNonNullDPInSeries(t.id);if(!t){break}}}return t};r.getUpDownIndexInStack=function(e,t,i){var a;if(this._isSupportNaturalUpDown){var r=this._stackItemsUpDownOrder[t];a=r[Math.min(Math.max(r.indexOf(e)+i,0),r.length-1)]}else{a=e+i}return a};r._getNextDataPointInStack=function(e){var t=this.getDataPoint(e);var i=null;var a=null;var r=this._series.length;if(t){var o=t.address();if(o[1]!==r-1||this._isSupportNaturalUpDown){i=this._downNonNullDPInSeries(t.id);if(i&&this._isPercentage){a=this.locate(i.address());if(a.valueAxis&&!this._negativeValueAxis1[o[0]]||a.valueAxis2&&!this._negativeValueAxis2[o[0]]){var n=null;while(i&&i.address()[1]<r){a=this.locate(i.address());n=a.valueAxis||a.valueAxis2;if(n<0){i=this._downNonNullDPInSeries(i.id)}else{break}}}}}}return i};r._getPrevDataPointInStack=function(e){var t=this.getDataPoint(e);var i=null;var a=null;if(t){var r=t.address();if(r[1]!==0||this._isSupportNaturalUpDown){i=this._upNonNullDPInSeries(t.id);if(i&&this._isPercentage){a=this.locate(i.address());if(a.valueAxis&&!this._negativeValueAxis1[r[0]]||a.valueAxis2&&!this._negativeValueAxis2[r[0]]){var o=null;while(i&&i.address()[1]>-1){a=this.locate(i.address());o=a.valueAxis||a.valueAxis2;if(o<0){i=this._upNonNullDPInSeries(i.id)}else{break}}}}}}return i};r.getFirstStartPoint=function(){if(!this._isPercentage){return a.superclass.getFirstStartPoint.apply(this,arguments)}if(this._series){for(var e=0;e<this._series[e].length;e++){for(var t=0;e<this._series.length;t++){if(this._series[t][e]){if(this._isDual){if(!this._negativeValueAxis1[e]&&this._series[t][e].valueAxis<0){continue}if(this._isDual&&!this._negativeValueAxis2[e]&&this._series[t][e].valueAxis2<0){continue}return this._series[t][e].dp}else{if(!this._negativeValueAxis1[e]&&this._series[t][e].valueAxis<0){continue}else{return this._series[t][e].dp}}}}}}else{return null}};r._isMeaningful=function(e){return e&&(t.isExist(e.valueAxis)||t.isExist(e.valueAxis2))};r._downNonNullDPInSeries=function(e){var t=this.getDataPoint(e);var i=t.address();var a=i[0];var r=this._series.length;var o=this.getUpDownIndexInStack(i[1],a,1);var n=null;if(o>r){return n}while(o<r){if(this._series[o]){n=this._series[o][a];if(this._isMeaningful(n)){return n.dp}}o=this.getUpDownIndexInStack(o,a,1)}return n};r._upNonNullDPInSeries=function(e){var t=this.getDataPoint(e);var i=t.address();var a=i[0];var r=this.getUpDownIndexInStack(i[1],a,-1);var o=null;if(r<0){return o}while(r>-1){if(this._series[r]){o=this._series[r][a];if(this._isMeaningful(o)){return o.dp}}r=this.getUpDownIndexInStack(r,a,-1)}return o};r._nextNonNullDPInSeries=function(e){var t=this.getDataPoint(e);var i=t.address();var a=this._series[i[1]].length;var r=i[0]+1;if(r>a){return null}var o=this._series[i[1]][r];while(!this._isMeaningful(o)&&r<a){o=this._series[i[1]][r];r++}return this._isMeaningful(o)?o.dp:null};r._prevNonNullDPInSeries=function(e){var t=this.getDataPoint(e);var i=t.address();var a=i[0]-1;if(a<0){return null}var r=this._series[i[1]][a];while(!this._isMeaningful(r)&&a>-1){r=this._series[i[1]][a];a--}return this._isMeaningful(r)?r.dp:null};r._getFirstPointBySeries=function(e){if(this._series&&e>-1&&e<this._series.length){if(this._series[e]){for(var t=0;t<this._series[e].length;t++){if(this._series[e][t]){if(this._isPercentage){if(!this._negativeValueAxis1[t]&&this._series[e][t].valueAxis<0){continue}if(this._isDual&&!this._negativeValueAxis2[t]&&this._series[e][t].valueAxis2<0){continue}}return this._series[e][t].dp}}}}return null};return a});define("sap/viz/chart/components/plots/StackedPlotHelper",[],function(){var e={};e.getVisibleRange=function(e,t){var i=t.prototype._getVisibleRange.apply(e,arguments);if(i){var a=e._series;var r=a.length;var o;for(var n=0;n<r;n++){var l=a[n];if(!l){continue}var s=l.getDataPoints();var u=e._getDataPointRange(s,i);o=o||u;o.min=Math.min(o.min,u.min);o.max=Math.max(o.max,u.max)}i=o}return i};return e});define("sap/viz/chart/components/plots/ComboExDataHandler",["sap/viz/chart/components/plots/DataHandler"],function(e){function t(t){this._handlers=t.reduce(function(t,i){var a=i.type==="area"?false:true;var r=e.getStackHandler(a);i.series.forEach(function(e){t[e]=r});return t},[])}t.prototype.add=function(e,t,i){return this._handlers[i].add(e,t,i)};t.prototype.getBase=function(e,t,i){return this._handlers[i].getBase(e,t,i)};t.prototype.reset=function(){this._handlers.forEach(function(e){e.reset()})};t.prototype.destroy=function(){this._handlers.forEach(function(e){e.destroy()})};return t});define("sap/viz/chart/components/renderers/AreaSeriesRenderer",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/chart/components/renderers/SeriesRenderer"],function e(t,i,a,r,o,n){var l=o.CSS.CLASS;var s=function(e,t){s.superclass.constructor.apply(this,arguments)};t.extend(s,n);s.prototype.init=function(e){this._series=[];this._seriesGroup=[];var t;for(var a=0;a<e;a++){t=this._seriesGroup[a]=i.create("g");t.setAttribute("class",l.AREA_POINT)}t=this._areaGroup=i.create("g");t.setAttribute("class",l.AREA_GROUP);t=this._refLineGroup=i.create("g");t.setAttribute("class",l.AREA_REF_LINE_GROUP)};s.prototype.addDataPoint=function(e,t,i,a,r,o){if(r){this._seriesGroup[e].appendChild(r)}if(o){this._refLineGroup.appendChild(o)}this._series[e]=this._series[e]||[];this._series[e][t]={position:a,dpConfig:i,dataPoint:r,dataPointRefLine:o}};s.prototype.addDataPointRefLine=function(e,t,i){if(!i||!this._series[e]){return}var a=this._series[e][t];if(!a){return}this._refLineGroup.appendChild(i);a.dataPointRefLine=i};s.prototype.render=function(e){var t=this._areaGroup;var a=this._refLineGroup;var r=i.create("g");for(var o=0;o<this._seriesGroup.length;o++){if(this._series[o]){this._renderSeries(t,this._series[o],o);r.appendChild(this._seriesGroup[o])}}r.setAttribute("class",l.AREA_POINT_GROUP);e.appendChild(t);e.appendChild(a);e.appendChild(r)};s.prototype.update=function(e){for(var t=0;t<this._seriesGroup.length;t++){if(this._series[t]){this._updateSeries(this._areaGroup,this._series[t],t)}}};return s});define("sap/viz/chart/components/renderers/ComboExSeriesRenderer",["sap/viz/framework/common/util/oo","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/AreaSeriesRenderer"],function(e,t,i){var a=["line","bar","area"];function r(e,r){this.seriesRenderers={bar:new t(e,r),line:new t(e,r),area:new i(e,r)};this._renderers=a.slice().reverse().map(function(e){return this.seriesRenderers[e]},this);this._seriesType=[]}r.prototype.setSeriesSettings=function(e,t){this._seriesGroupInfo=e;this._seriesType=t;this._typeIndexes=[[],[],[]];var i=a.length-1;for(var r=0;r<t.length;++r){this._typeIndexes[i-a.indexOf(t[r])].push(r)}};r.prototype._seriesGroupOrder=function(){var e=this._seriesGroupInfo.reduce(function(e,t){if(!e[t.type]){e[t.type]=[]}e[t.type].push(t.series);return e},{});return a.reduce(function(t,i){if(e[i]){e[i].forEach(function(e){t=t.concat(e.slice().reverse())})}return t},[])};r.prototype._sortStackedSeries=function(e){var t=this._seriesGroupOrder();var i=this.seriesRenderers[e];var a=i._series,r=i._seriesGroup,o=a.reduce(function(e,t,i){return t?e.concat(i):e},[]);var n=o.slice().sort(function(e,i){return t.indexOf(e)-t.indexOf(i)}).reduce(function(e,t,i){var n=o[i];e.series[n]=a[t];e.seriesGroup[n]=r[t];return e},{series:[],seriesGroup:[]});i._series=n.series;i._seriesGroup=n.seriesGroup};r.prototype.getSeriesRenderer=function(e){return this.seriesRenderers[this._seriesType[e]]};r.prototype._doAll=function(e,t){var i=this._typeIndexes;this._renderers.forEach(function(a,r){a[e].apply(a,[].slice.call(t).concat([i[r]]))})};r.prototype.addDataPointRefLine=function(e,t,i){this.seriesRenderers.area.addDataPointRefLine(e,t,i)};r.prototype.init=function(e){this._doAll("init",arguments)};r.prototype.resetDataPoints=function(){this._doAll("resetDataPoints",arguments)};r.prototype.render=function(e){this._sortStackedSeries("bar");this._doAll("render",arguments)};r.prototype.update=function(e){this._doAll("update",arguments)};r.prototype.addDataPoint=function(e,t,i,a,r){this.getSeriesRenderer(e).addDataPoint(e,t,i,a,r)};r.prototype.updateDataPoint=function(e,t,i,a){this.getSeriesRenderer(e).updateDataPoint(e,t,i,a)};e.extend(r,t);return r});define("sap/viz/chart/components/plots/StackedColumnPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/ColumnPlot","sap/viz/chart/components/plots/BaseColumnPlot","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/SeriesIterator","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/BarWidthUtils","sap/viz/chart/components/datalabels/StackedDataLabels","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/SVG","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/renderers/StackedBarRenderer","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/plots/StackedPlotHelper","sap/viz/chart/components/plots/ComboExDataHandler","sap/viz/chart/components/renderers/ComboExSeriesRenderer"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S){var D=function(e,t){this._isFlexibleStack=e.propertyManager().origin.get("plotArea.series")&&t&&!t.inTrellis&&!t.isDualValueAxis&&!t.isHorizontal&&t.isSupportFlexibleStack;D.superclass.constructor.apply(this,arguments);this._dataPointRenderer=f;this._initCategoryAxis(l,n)};t.extend(D,i);var w=1;D.prototype._initCategoryAxis=function(e,t){if(this._isFlexibleStack){this._seriesType=[];this._barCategoryAxis=e.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:t.get(true,this._getBarProperties())});this._categoryScaleHandler=this._barCategoryAxis}};D.prototype._getXPosition=function(e,t,i){if(this._isFlexibleStack){return this._getAxisPosition([this._barCategoryAxis],this._barGroupIndices[e],t,i)}else{return D.superclass._getXPosition.apply(this,arguments)}};D.prototype._renderSeries=function(e,t,i,a){if(this._isFlexibleStack){return w}};D.prototype._updateSeries=function(e,t,i,a){if(this._isFlexibleStack){return w}};D.prototype._buildDataHandler=function(e){if(this._isFlexibleStack){return new x(this._seriesGroups.filter(function(t){return t.mndKey===e}))}};D.prototype._applyScroll=function(){return i.superclass._applyScroll.apply(this,arguments)};D.prototype.getDataPointPosition=function(e,t,i){if(this._isFlexibleStack){var a=D.superclass.getDataPointPosition.apply(this,arguments);if(i){this._resetDataPoints()}return a}else{var r=this._getSeries();var o;if(r.length){e=r.length-e-1;o=r[e][t]}return this._getPosition(e,t,o)}};D.prototype.getSeriesIndex=function(e){return this._series.length-e._addr[1]-1};D.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{valueAxis:r.getStackHandler(true),valueAxis2:r.getStackHandler(true)}}else{return{valueAxis:r.getStackHandler(true)}}};D.prototype._getCategoryScaleHandlers=function(e){this._categoryScaleHandler=l.getCategoryScaleHandler("categoryAxis",{isHorizontal:e,itemScaleHandler:this._getItemScaleHandler()});return[this._categoryScaleHandler]};D.prototype._getBarProperties=function(){if(!this._barInfoProperties){this._barInfoProperties=s.getBarProperties(this._properties.origin,this._isFlexibleStack)}return this._barInfoProperties};D.prototype._getItemScaleHandler=function(){var e;var t=this._getBarProperties();if(this._options.isDualValueAxis){t.valueAxis=["valueAxis","valueAxis2"];e=n.get(false,t);delete t.valueAxis}else{e=n.get(false,t)}this._itemScaleHandler=e;return e};D.prototype._applyChanges=function(){if(this._options.isDualValueAxis&&!(this._data.color.scale.getDomain().length&&this._data.color2.scale.getDomain().length)){this._getBarProperties().barSpacing=1;this._itemScaleHandler.updateItems(this._data.color2.scale.getDomain().length?["valueAxis2"]:["valueAxis"])}D.superclass._applyChanges.apply(this,arguments);this._initBarCategoryAxis()};D.prototype._initBarCategoryAxis=function(){if(this._isFlexibleStack){var e=this._getColumnCount();var t=this._data["categoryAxis"].scale;if(e){var i=this.isHorizontal()?this._realSize.height:this._realSize.width;this._barCategoryAxis.init(t,e,i)}}};D.prototype._getDataLabels=function(e,t){return new u(t,{name:e,horizontal:this.isHorizontal(),allowMicroAdjust:!this.isHorizontal(),isFlexibleStack:this._isFlexibleStack})};D.prototype._getSeries=function(){if(this._isFlexibleStack){return D.superclass._getSeries.apply(this,arguments)}else{if(this._data.series){return this._data.series.slice().reverse()}else{return[]}}};D.prototype._attachMarkManager=function(){if(this._isFlexibleStack){if(!this._data){return}var e=this.runtime().markManager();var t=this._isInTrellis?e._shapes||[]:[];e.lock();e.setMode("series");var i={line:this._getMarkerShape(),bar:this._getLegendMarkerShape(),area:"circle"};var a=0,r=0;this._getSeries().forEach(function(e){var o=e.spec.mndKey==="valueAxis";var n=o?0:1;var l=o?a:r;if(o){a++}else{r++}t[n]=t[n]||[];if(!!t[n][l]||this._isInTrellis&&this._isEmptySeries(e)){return}t[n][l]={marker:i[e.settings.type],type:e.settings.type}},this);e.setMarkers(t)}};D.prototype._getColumnCount=function(){if(this._isFlexibleStack){return this._seriesGroups.length}else{return this._options.isDualValueAxis&&this._data.color.scale.getDomain().length&&this._data.color2.scale.getDomain().length?2:1}};function C(e){if(!e.length){return[]}var t=[],i,a;for(var r=0,o=e.length;r<o;r++){a=e[r];for(var n=0;n<a.length;n++){i=t[n]=t[n]||[];i.push(a[n])}}return i}D.prototype._needValidEmptyAxisData=function(){return false};D.prototype._buildData=function(e){var t=D.superclass._buildData.apply(this,arguments);t.isNegative=undefined;return t};D.prototype._generatePath=function(e,t){if(this._isFlexibleStack){return D.superclass._generatePath.apply(this,arguments)}else{var i=[];var a=t.isClose;var r=t.isNegative;var o=this._isPercent;var n=1.5;var l=e.width-n,s=e.height-n;if(l<=0){l=1}if(s<=0){s=1}if(t.isZero){n=0}if(this.isHorizontal()){if(t.isZero){l=0}if(a){i.push([n,n]);i.push([l,n]);i.push([l,s]);i.push([n,s]);i.push([n,0])}else{if(r&&!o){i.push([e.width,n]);i.push([n,n]);i.push([n,s]);i.push([e.width,s])}else{i.push([0,n]);i.push([l,n]);i.push([l,s]);i.push([0,s])}}}else{if(t.isZero){s=0}if(a){i.push([n,s]);i.push([n,n]);i.push([l,n]);i.push([l,s]);i.push([0,s])}else{if(r&&!o){i.push([n,1]);i.push([n,s]);i.push([l,s]);i.push([l,1])}else{i.push([n,e.height]);i.push([n,n]);i.push([l,n]);i.push([l,e.height])}}}return h.generatePath({points:i})}};D.prototype._pushDataPointContext=function(){};D.prototype._getVisibleRange=function(){if(this._isFlexibleStack){return D.superclass._getVisibleRange.apply(this,arguments)}else{return b.getVisibleRange(this,i)}};D.prototype._isSupportBarPathGenerator=function(){return this._isFlexibleStack};D.prototype.setData=function(e){D.superclass.setData.call(this,e);if(this._isFlexibleStack){if(this._fixSeriesForMulti){this._fixSeriesForMulti.call(this,e.series.filter(function(e){return e.settings.type==="area"}))}this._configSeries();this._dataHandler={valueAxis:this._buildDataHandler("valueAxis"),valueAxis2:this._buildDataHandler("valueAxis2")};this._seriesRenderer.setSeriesSettings(this._seriesGroups,this._seriesType);this._dataLabels.setSeriesSettings(this._seriesGroups,this._seriesType);this._attachMarkManager()}};D.prototype._configSeries=function(){if(this._isFlexibleStack){var e=this._getSeries();var t=this;this._seriesGroups=e.reduce(function(e,i,a){var r=i.settings.group;if(!e[r]){e[r]={type:i.settings.type,mndKey:i.spec.mndKey,series:[]}}e[r].series.push(a);t._seriesType[a]=i.settings.type;return e},{});this._seriesGroups=Object.keys(this._seriesGroups).map(function(e){return this._seriesGroups[e]},this);this._barGroupIndices=this._seriesGroups.filter(function(e){return e.type==="bar"}).reduce(function(e,t,i){t.series.forEach(function(t){e[t]=i});return e},[])}};D.prototype.createSeriesIterator=function(e){if(this._isFlexibleStack){return o.create(e,"reverse")}else{return D.superclass.createSeriesIterator.apply(this,arguments)}};D.prototype._showDataPoints=function(e,t){var i;if(this._isFlexibleStack){i=a.prototype._showDataPoints.apply(this,arguments)}else{this._preShowDataPoints();var r=this._needValidEmptyAxisData();i=[];var o=this._series;var n=o.length;var l=[],s;var u=this._needLazyRender();var h=this._getVisibleRange();var d,f;for(d=0;d<n;d++){f=o[d];var v=this.getSeriesDPStyle(n-d-1);if(!f){continue}var m=f.getDataPoints();if(u){this._hideDataPoints(m,h)}var y=null;var _=h&&h.min||0;var A=h&&h.max||m.length;for(var b=_;b<=A;b++){var x=m[b];if(!x){continue}var S=x.getRawData();if(r===true){var D=S.valueAxis===undefined||S.valueAxis===null;var w=S.valueAxis2===undefined||S.valueAxis2===null;if(D&&w){continue}}var C=this._getPosition(d,b,S);if(!C){continue}var T=x.getId();var z=x.getConfig();if(!z){z=this._buildWrapperConfig(S,C,S.dp.context(),{seriesStyle:v});x.setConfig(z)}this._pushDataPointContext(z);if(!y){y=S.hasOwnProperty("valueAxis2")?"valueAxis2":"valueAxis"}l[b]=l[b]||{};s=l[b][y]=l[b][y]||{configs:[],positions:[],currentIds:[],dataPoints:[],dataModels:[],data:[]};var L=p.find(e,T);if(!s.node&&L){var P=L;while((P=P.parentNode)&&!g.hasClass(P,c.CSS.CLASS.STACK)){}s.node=P}var k=x.getData();if(!k){k=this._buildData(z)}s.data.push(k);s.configs.push(z);s.dataPoints.push(S.dp);s.positions.push(C);s.currentIds.push(T);s.dataModels.push(x)}}this._removeEmptyStacks(e);var E=this._getDataPointRenderer(d);for(var I=0;I<l.length;I++){var O=l[I];for(var R in O){if(O.hasOwnProperty(R)){s=O[R];if(!s){continue}var N=this._drawCategory(s,E,i);if(N){e.appendChild(N)}}}}}this._dataLabels._gridlineScale=this._gridlineScale;return i};D.prototype._removeEmptyStacks=function(e){var t=[].slice.call(e.querySelectorAll("."+c.CSS.CLASS.STACK));t.forEach(function(t){if(!t.childNodes.length){e.removeChild(t)}})};function T(e){var t=-1,i=-1;for(var a=0;a<e.length;a++){var r=e[a];r.isClose=true;r.isZero=false;if(r.ctx[r.ctx.measureNames]>0){if(t===-1){t=a;r.isClose=false}}else if(r.ctx[r.ctx.measureNames]<0){if(i===-1){i=a;r.isClose=false}}else{r.isZero=true}if(a+1<e.length&&(r.rawData.hasOwnProperty("valueAxis")&&e[a+1].rawData.hasOwnProperty("valueAxis2")||r.rawData.hasOwnProperty("valueAxis2")&&e[a+1].rawData.hasOwnProperty("valueAxis"))){t=-1;i=-1}}}D.prototype._drawCategory=function(e,t,i){var a=e.node;var r=e.configs;var o=e.data;var n=e.positions;var l=e.currentIds;var s=e.dataPoints;var u=e.dataModels;var g=!!a;var m;var y,_,A,b,x,S,D,w,C;var z;var L=t!==this._dataPointRenderer&&t;var P=[],k,E;var I,O;P.range=[0,0];if(!g){a=h.create("g");a.setAttribute("class",c.CSS.CLASS.STACK)}if(L){for(z=0;z<r.length;z++){y=r[z];_=n[z];if(z===0){S=_.x;D=_.y;w=S+y.graphic.width;C=D+y.graphic.height}else{if(y.horizontal){S=Math.min(S,_.x);w=Math.max(w,_.x+y.graphic.width)}else{D=Math.min(D,_.y);C=Math.max(C,_.y+y.graphic.height)}}}b=w-S;x=C-D;for(z=0;z<r.length;z++){y=r[z];_=n[z];k=v.extend({},y.graphic);y.graphic.stackWidth=b;y.graphic.stackHeight=x;y.graphic.x=y.horizontal?_.x-S:0;y.graphic.y=y.horizontal?0:_.y-D;var R=false;if(g){E=p.find(a,l[z]);if(t.update){t.update(E,y,f.expose)}}else{m=t(y,f.expose);if(!m){m=this._dataPointRenderer(y,_);R=true}E=h.create("g");p.setDataId(E,l[z]);p.setDataPointId(E,s[z].id);if(u){u[z].setNode(E)}A=y.ctx;P.push(A);d.setContext(E,A);O=A[A.measureNames];if(O>=0){P.range[1]+=O}else{P.range[0]+=O}I=o[z];I.seriesIndex=s[z]._addr[1];I.itemIndex=s[z]._addr[0];d.setData(E,I);E.setAttribute("class",c.CSS.CLASS.DATAPOINT+" "+c.CSS.CLASS.MORPHABLEDATAPOINT+" "+c.CSS.CLASS.DATAPOINTDEFAULT);E.appendChild(m);a.appendChild(E);i.push(E)}E.setAttribute("transform","translate("+_.x+", "+_.y+")");y.graphic=k;if(u&&u[z]&&!u[z].getData()){u[z].init(y,l[z],o[z],s[z].id||c.NULL_VALUE,null)}}}else{t=this._dataPointRenderer;var N,M,B;T.call(this,r);for(z=0;z<r.length;z++){N=undefined;M=undefined;y=r[z];_=n[z];B={isClose:y.isClose,isNegative:y.ctx[y.ctx.measureNames]<0,isZero:y.isZero};if(g){E=p.find(a,l[z]);if(t.update){if(y.graphic.pattern==="noFill"){y.path=this._generatePath(y.graphic,B);if(y.isZero){y.graphic.pathStrokeWidth=0}else{y.graphic.pathStrokeWidth=3}}t.update(E,y)}if(u&&u[z]&&!u[z].getData()){i.push(E)}this._updateStrokeWidth(E)}else{if(y.graphic.pattern==="noFill"){y.path=this._generatePath(y.graphic,B);if(y.isZero){y.graphic.pathStrokeWidth=0}else{y.graphic.pathStrokeWidth=3}N=v.clone(y.graphic);delete N.bgColor;delete N.drawingEffect;delete N.pattern;N.fill="transparent"}m=t(y);if(N){M=t({graphic:N})}E=h.create("g");p.setDataId(E,l[z]);p.setDataPointId(E,s[z].id);if(u){u[z].setNode(E)}A=y.ctx;P.push(A);d.setContext(E,A);d.setAdditionCtx(E,y.additionCtx);O=+A[A.measureNames];if(O>=0){P.range[1]+=O}else{P.range[0]+=O}I=o[z];I.seriesIndex=s[z]._addr[1];I.itemIndex=s[z]._addr[0];I.strokeWidth=M?M.getAttribute("stroke-width"):m.getAttribute("stroke-width");if(y.graphic&&y.graphic.pattern){if(y.graphic.pattern==="noFill"){I.pattern="noFill"}else{I.patternFill=m.getAttribute("fill")}}d.setData(E,I);E.setAttribute("class",c.CSS.CLASS.DATAPOINT+" "+c.CSS.CLASS.MORPHABLEDATAPOINT+" "+c.CSS.CLASS.DATAPOINTDEFAULT);E.appendChild(m);if(M){E.appendChild(M)}a.appendChild(E);i.push(E)}E.setAttribute("transform","translate("+_.x+", "+_.y+")");if(u&&u[z]&&!u[z].getData()){u[z].init(y,l[z],o[z],s[z].id||c.NULL_VALUE,null)}}}if(!g){d.setData(a,P)}return a};D.prototype._adjustPosition=function(e,t){var i=this.isHorizontal();if(i&&e.width<0){e.width=e.width>-1?1:Math.abs(e.width);e.x-=e.width+.5}if(!i&&e.height<0){e.height=e.height>-1?1:Math.abs(e.height);e.y-=e.height+.5}};D.prototype._additionalExtraData=function(e){if(this._isFlexibleStack){e.flexibleStackId=e.itemIndex.toString()+c.FLEXIBLE_STACK.ID_SEPARATOR+this._barGroupIndices[e.seriesIndex]}};D.prototype._getSeriesRenderer=function(){if(this._isFlexibleStack){return new S(this._renderSeries.bind(this),this._updateSeries.bind(this))}};m.registerClazz("stacked_column",D);m.registerClazz("stacked_bar",D);y.register(A.DATAPOINT_NAVIGATOR,A.STACKED_COLUMN,_);return D});define("sap/viz/chart/components/util/PercentageDataLabelUtil",["sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils"],function e(t,i,a,r){var o={getTypes:function(e){var t=e.get("type");var i;if(t==="valueAndPercentage"||t==="valueAxisAndPercentage"){i=["value","percentage"]}else if(t==="percentage"){i=["percentage"]}else{i=["value"]}return i},mergeDataLabels:function(e,t){var i=e.get("type");var a;if(i==="valueAndPercentage"||i==="valueAxisAndPercentage"){a=t[1]?t[0]+" ("+t[1]+")":t[0]}else{a=t[0]}return a},getDataLabelInfo:function(e,i){var a=t.getContextByDataModel(e,i);return{key:a.measureNames,value:a[a.measureNames],percentage:a.percentage}}};return o});define("sap/viz/chart/components/datalabels/PercentageDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/datalabels/StackedDataLabels","sap/viz/chart/components/util/PercentageDataLabelUtil"],function(e,t,i,a){var r=function(e,t){r.superclass.constructor.apply(this,arguments)};e.extend(r,i);r.prototype._getDataLabelInfo=function(e){var t=this._data&&this._data.rawData&&this._data.rawData.dataModel;return a.getDataLabelInfo(e,t)};r.prototype._buildDataLabelText=function(e,i,r,o,n){var l=i.value;if(l===0&&!this.drawZero(n)){return null}return t.buildDataLabelText(this._properties,e,i,r,o,a.getTypes,a.mergeDataLabels,null)};return r});define("sap/viz/chart/components/plots/PercentagePlot",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/Constants","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/renderers/GridlineRenderer","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/datalabels/PercentageDataLabels","sap/viz/chart/components/plots/XYPlotFactory"],function e(t,i,a,r,o,n,l,s){var u=function(e,t){u.superclass.constructor.apply(this,arguments);this._isPercent=true};t.extend(u,r);u.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{valueAxis:new n.getPercentageStackHandler,valueAxis2:new n.getPercentageStackHandler}}else{return{valueAxis:new n.getPercentageStackHandler}}};u.prototype._total=function(e,t){var i=t.hasOwnProperty("valueAxis2")?this._data.valueAxis2:this._data.valueAxis;var a=t.hasOwnProperty("valueAxis2")?t.valueAxis2:t.valueAxis;if(a<0&&i.categorySum[e]>0){return false}i.scale.total(i.categorySum[e]);return true};u.prototype._getPosition=function(e,t,i){var a=this._total(t,i);if(!a){return null}return u.superclass._getPosition.apply(this,arguments)};u.prototype._buildWrapperContext=function(e,t){var i=e.hasOwnProperty("valueAxis")?"valueAxis":e.hasOwnProperty("valueAxis2")?"valueAxis2":null;if(i){t.percentage=Math.abs(this._data[i].scale.scale(e[i]))}return t};u.prototype._buildWrapperConfig=function(e,t,i,a){i=this._buildWrapperContext(e,i);return u.superclass._buildWrapperConfig.apply(this,[e,t,i,a])};u.prototype._buildData=function(e){var t=u.superclass._buildData.apply(this,arguments);t.percentageValue=e.ctx.percentage;return t};u.prototype._drawGridlines=function(e){var t=this._realSize;var r=this.isHorizontal();var n=r?a.DIRECTION.VERTICAL:a.DIRECTION.HORIZONTAL;var l=this._properties.proxy("gridline");var s=r?[0,t.width]:[t.height,0];var u=new i([0,1],s);u.setTickHint(this._data.valueAxis.tickHint);o.drawValueGridline(e,t.width,t.height,u,l,n,this._effectManager)};u.prototype._getDataLabels=function(e,t){return new l(t,{name:e,horizontal:this.isHorizontal()})};s.registerClazz("100_stacked_column",u);s.registerClazz("100_stacked_bar",u);return u});define("sap/viz/chart/components/util/LineSeriesUtil",["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/renderers/LineRenderer","sap/viz/chart/components/util/SeriesUtil"],function(e,t,i,a,r,o,n,l,s){var u=o.convertColor;var c="combination-line";var h=r.CSS.CLASS;var p=h.LINES+" "+h.MORPHABLELINE;var d=r.LINE_TYPE;function f(e,t,i){e.graphic={color:e.color,width:t};delete e.color;if(e.type===d.DASHED||e.type===d.DOTTED){e.graphic.dash=r.LINE_DASH_TYPE_ARRAY}else if(e.type===r.LINE_TYPE.DOT){e.graphic.dash="0,"+t*2;e.graphic.linecap="round"}delete e.type;e.isHorizontal=i}function v(t,i,a,r,o,n){var l=i(a,n)||n.renderer(a);l.setAttribute("class",p);if(o){l.setAttribute(c,"true")}e.setData(l,a.graphic);e.setContext(l,r);t.appendChild(l)}function g(e,t,i,a,r,o){var n=[];var l={points:[]};var u,c,h,p,f,v;var g,m,y,_,A,b;var x=e.length;for(var S=0;S<x;S++){u=e[S];if(!u||!u.position){if(l.points.length>=2){l.color=y;l.type=A;n.push(l)}m=null;l={points:[]};continue}c=u.dpConfig;f=u.position;g=[f.x,f.y];g.id=c.dataId;if(m==null){l.points.push(g)}p=[c.rawData.dp.context()];v=[c.rawData.dp.additionCtx()];h=e[S+1];m=null;if(h&&h.position){p.push(h.dpConfig.rawData.dp.context());v.push(h.dpConfig.rawData.dp.additionCtx());f=h.position;m=[f.x,f.y];m.id=h.dpConfig.dataId}_=i.register({fillColor:s.parseSemanticLineColor(p,t,a,v)});b=s.parseSemanticLineType(p,t,o,v);if(l.points.length>=2&&(!r&&(A===d.DASHED||A===d.DOTTED||A===d.DOT)||y!==_||A!==b)){l.color=y;l.type=A;n.push(l);m=null;l={points:[g]}}else if(m){l.points.push(m)}y=_;A=b}if(l.points.length>=2){l.color=y;l.type=A;n.push(l)}return n}function m(e){var t;var i=[],a;for(var r=0;r<e.length;r++){if(!e[r]||!e[r].position){i.push("");continue}t=e[r].position;a=[t.x,t.y];a.id=e[r].dpConfig.dataId;i.push(a)}return i}var y={drawLine:function(i,a,o,n,l,s,u,c,p,y){var _=m(a);var A={points:_,isHorizontal:c,ctx:s};if(u.prepare){A=u.prepare(A,y)||A}var b=l.color;var x=l.lineWidth;var S=l.isCombination;var D=t.create("g");D.setAttribute("class",h.LINES_GROUP);var w={color:b,width:x};if(l.lineType===d.DASHED||l.lineType===d.DOTTED){w.dash=r.LINE_DASH_TYPE_ARRAY}else if(l.lineType===d.DOT){w.dash="0,"+x*2;w.linecap="round"}e.setData(D,w);e.setContext(D,s);var C;if(o.hasDataPointLineStyle()||l.lineType===d.DASHED||l.lineType===d.DOTTED||l.lineType===d.DOT){var T=g(a,o,n,b,p,l.lineType);T.forEach(function(e){f(e,x,c);v(D,u,e,s,S,y)})}else{A.graphic=w;v(D,u,A,s,S,y)}i.insertBefore(D,i.firstChild)},updateLine:function(t,r,o,n,l,s,u,c,p,y){if(!a.isFunction(u.update)){return false}var _=m(r);var A={points:_,isHorizontal:c,ctx:s};if(u.prepare){A=u.prepare(A,y)||A}var b=l.color;var x=l.lineWidth;var S=l.isCombination;var D;if(o.hasDataPointLineStyle()||l.lineType===d.DASHED||l.lineType===d.DOTTED||l.lineType===d.DOT){var w=t.querySelector("."+h.LINES_GROUP);var C=t.querySelectorAll("."+h.LINES);var T=g(r,o,n,b,p,l.lineType);T.forEach(function(t,i){f(t,x,c);D=C[i];if(D){u.update(D,t,y);e.setData(D,t.graphic)}else{v(w,u,t,s,S,y)}});for(var z=T.length;z<C.length;++z){i.remove(C[z])}}else{D=t.querySelector("."+h.LINES);u.update(D,A,y)}return true},linkLine:function(t){var i=null;var a;for(var r=0;r<t.length;r++){var o=t[r];if(!o||!o.dataPoint){i=o;continue}var l=e.getData(o.dataPoint);l.type="line";l.translate=o.dpConfig.data.translate;if(i&&i.dataPoint){a=i.dataPoint;l.prev=n.getDataPointId(a);e.getData(a).next=n.getDataPointId(o.dataPoint)}i=o}}};return y});define("sap/viz/chart/components/renderers/SmoothLineRenderer",["sap/viz/framework/common/util/SVG"],function(e){var t=function(){var t={};var i=function(e,t,i,a){var r=a.leftControlY;if(r>e&&r>t){r=a.leftControlY=Math.max(e,t);a.rightControlY=t*2-r}else if(r<e&&r<t){r=a.leftControlY=Math.min(e,t);a.rightControlY=t*2-r}var o=a.rightControlY;if(o>i&&o>t){o=a.rightControlY=Math.max(i,t);a.leftControlY=t*2-o}else if(o<i&&o<t){o=a.rightControlY=Math.min(i,t);a.leftControlY=t*2-o}};var a=function(e,a,r,o){var n=2.4;var l=0;var s=1;if(o){l=1;s=0}var u=e[l];var c=e[s];var h=r[l];var p=r[s];var d=a[l];var f=a[s];var v=((n-1)*d+u)/n;var g=((n-1)*f+c)/n;var m=((n-1)*d+h)/n;var y=((n-1)*f+p)/n;var _=(y-g)*(m-d)/(m-v)+f-y;var A={};A.leftControlY=g+_;A.rightControlY=y+_;i(c,f,p,A);var b=t[a.id];b.leftControl[l]=v;b.leftControl[s]=A.leftControlY;b.rightControl[l]=m;b.rightControl[s]=A.rightControlY};var r=function(e){var i=e.id;var a=t[i];if(!a){a=t[i]={}}["leftControl","rightControl"].forEach(function(t){a[t]=e.slice()})};var o=function(e,t){var i,o,n,l,s;for(var u=0,c=e.length;u<c;++u){i=e[u];if(!i){continue}r(i);o=e[u-1];n=e[u+1];if(u>0&&o&&n){a(o,i,n,t)}}return e};var n=function(e){var i,a,r,o,n;var l="";var s=true;for(var u=0,c=e.length;u<c;u++){i=e[u];if(!i){s=true;continue}a=e[u-1];if(s){l+="M";l+=i[0]+","+i[1]}else{o=t[a.id].rightControl;n=t[i.id].leftControl;l+="C";l+=o[0]+","+o[1]+" ";l+=n[0]+","+n[1]+" ";l+=i[0]+","+i[1]}s=false}return l};var l=function(t){var i=t.points;var a;var r=t==null||t.isHorizontal==null?i:e.simplifyPoints(i,t);if(r===i){a=n(r)}else{a=e.outputPath(r)}return a};var s=function(t){var i=t.graphic;var a=e.create("path");a.setAttribute("d",l(t));a.setAttribute("fill","none");a.setAttribute("stroke-linejoin","round");a.setAttribute("stroke",i.color);a.setAttribute("stroke-width",i.width);if(i.dash){a.setAttribute("stroke-dasharray",i.dash)}if(i.linecap){a.setAttribute("stroke-linecap",i.linecap)}return a};s.prepare=function(e){o(e.points,e.isHorizontal);return e};s.update=function(e,t){e.setAttribute("d",l(t));if(t.graphic){var i=t.graphic;if(i.color){e.setAttribute("stroke",i.color)}if(i.width){e.setAttribute("stroke-width",i.width)}if(i.dash){e.setAttribute("stroke-dasharray",i.dash)}else{e.removeAttribute("stroke-dasharray")}if(i.linecap){e.setAttribute("stroke-linecap",i.linecap)}else{e.removeAttribute("stroke-linecap")}}};s.expose={renderer:s,prepare:s.prepare,update:s.update};return s};return t});define("sap/viz/chart/components/util/LineRendererUtil",["sap/viz/chart/components/renderers/LineRenderer","sap/viz/chart/components/renderers/SmoothLineRenderer"],function(e,t){var i=function(i,a){var r=i;if(r){return r}else{if(a){r=t()}else{r=e()}}return r};var a=function(i){return i?t():e()};return{getRenderer:i,getDefaultRenderer:a}});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/interaction/Constants","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n,l,s,u){var c=["info/timeseries_line"];var h=["info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination"];var p=c.concat(h);var d=["info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/horizontal_combination","info/dual_combination","info/dual_horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination"].concat(c);d=r.addTrellisType(d);var f=d.concat(h);f=r.addTrellisType(f);var v=e.CSS.CLASS;var g="datapoint";var m=s.setMakerOpacity;var y=[{id:"selectDataPoint_line",triggerEvent:{name:"selectDataPoint",supportedChartTypes:d},handler:function(e,t){if(t.isBigDataMode()){s.selectOnLineDuringBigData(e,t)}else{s.selectOnLineOnNormalMode(e,t)}}},{id:"deselectDataPoint_line",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:d},handler:function(e,r){if(r.isBigDataMode()){return}r.fireEvent(e,true);var o=i.turnToArray(e.data.targets);var l;var u=r.getProperties();var c;var h=t.isExist(u.get("plotArea.markerRenderer"));o.forEach(function(t){n.unhighlight(t);c=s.getLineRenderer(r,t);s.renderLightLine(r,t,false,c);var o=1;var p=a.getData(t)||{};if(e.data.isAnyOtherSelected){l=u.get("interaction.deselected")}else{l=u.get("plotArea.dataPoint");if(p){o=p.strokeWidth}}var d=!p.isZeroValue;i.drawStroke(r,t,"path, rect",l.stroke,o,undefined,p);i.drawFill(r,t,"path, rect",l,h,d);m(r,t)})}},{id:"hoverOnDataPoint_line",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:d},handler:function(e,r){if(r.isBigDataMode()&&!r.isTrellis()){s.highlightOnLineDuringBigData(e,r)}else{r.fireEvent(e,true);var o=i.turnToArray(e.data.targets);var n=r.getProperties();var l=n.get("interaction.hover");var u=t.isExist(n.get("plotArea.markerRenderer"));o.forEach(function(t){var o=a.getData(t)||{};var n=!o.isZeroValue;i.drawStroke(r,t,e.data.byKeyboard?"path":"path, rect",l.stroke,2,undefined,o);i.drawFill(r,t,"path, rect",l,u,n)})}}},{id:"unhoverOnDataPoint_line",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:d},handler:function(e,r){if(r.isBigDataMode()&&!r.isTrellis()){s.unhighlightOnLineDuringBigData(e,r)}else{r.fireEvent(e,true);var o=i.turnToArray(e.data.targets);var n=r.getProperties();var l;var u=t.isExist(n.get("plotArea.markerRenderer"));o.forEach(function(e){var t;var o=1;var s=a.getData(e)||{};if(d3.select(e).classed(v.DATAPOINTSELECTED)){l=n.get("interaction.selected");t=true}else{if(r.shouldUseDeselectedColor()){l=n.get("interaction.deselected")}else{l=n.get("plotArea.dataPoint");if(s){o=s.strokeWidth}}t=false}var c=!s.isZeroValue;i.drawStroke(r,e,"path, rect",l.stroke,o);i.drawFill(r,e,"path, rect",l,u,c);if(!t){m(r,e)}})}}},{id:"clearPlot_line",triggerEvent:{name:"clearPlot",supportedChartTypes:d},handler:function(e,r){r.fireEvent(e,true);r._getDecorationLayer().clear();var n=e.data.isGray;var l=e.data.rangeSelection;var u=l&&l!=="clear";var c=r.getProperties();var h=c.get("interaction.deselected");s.cleanLine(e,r);var p=r.getNodes(r.NodeType.DATA_POINT,false);if(!p||!p.length){return}var d=t.isExist(c.get("plotArea.markerRenderer"));p.forEach(function(e){var t=1;var l=a.getData(e)||{};if(n||u){h=c.get("interaction.deselected");if(u){h=o.extend(true,{},h);h.opacity=1}}else{h=c.get("plotArea.dataPoint");if(l){t=l.strokeWidth}}var s=!l.isZeroValue;i.drawStroke(r,e,"path, rect",h.stroke,t,undefined,l);i.drawFill(r,e,"path, rect",h,d,s);m(r,e)})}},{id:"hover_range_selection_line",triggerEvent:{name:"hover",supportedChartTypes:p,targets:"v-m-action-layerrange"},handler:function(e,t){s.showDetailForRangeSelectionWhenHover(e,t)}},{id:"hover_on_plot_time_line",triggerEvent:{name:"hover",supportedChartTypes:c,targets:"v-m-plot"},handler:function(e,t){s.hoverOnLineDuringBigData(e,t)}},{id:"hover_on_non_plot_time_line",triggerEvent:{name:"hover",supportedChartTypes:c,excludeTargets:["v-m-plot",e.CSS.CLASS.DATAPOINTS_MODULE]},handler:function(e,t){if(t.getStatus("rangeSelection")){return}t._getActionLayer().clear(g);t._getDecorationLayer().clear(g);t.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode"})}},{id:"hover_on_non_datapoint_time_line",triggerEvent:{name:"hover",supportedChartTypes:c,excludeTargets:[v.DATAPOINT,v.DATALABEL]},handler:function(e,t){if(t.isBigDataMode()||t.getStatus("rangeSelection")){return}t.fireEvent(e,true)}},{id:"click_on_non_selection_line",triggerEvent:{name:"click",supportedChartTypes:f,excludeTargets:i.getDeselAllExTargets()},handler:function(e,t){if(!t.getProperties().get("interaction.enableDeselectAll")){return}if(t.isBigDataMode()&&h.indexOf(t._getChartType())>-1){return}if(p.indexOf(t._getChartType())>-1){s.clickOnLineDuringBigData(e,t)}else{t.fireEvent(e,true)}}},{id:"clearPlot_timeseries_line",triggerEvent:{name:"clearPlot",supportedChartTypes:p},handler:function(e,t){t.fireEvent(e,true);if(!e.data.rangeSelection){t._getDecorationLayer().clear();t._getActionLayer().clear()}}},{id:"update_range_selection_effect_line",triggerEvent:{targets:"v-m-action-layerrange",name:"down",supportedChartTypes:p},handler:function(e,t){s.updateRangeEffect(e,t)}},{id:"recover_range_selection_effect_line",triggerEvent:{targets:"v-m-action-layerrange",name:"up",supportedChartTypes:p},handler:function(e,t){s.recoverRangeEffect(e,t)}}];u.registerAll(y);return y});define("sap/viz/chart/components/plots/BaseLinePlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/plots/BaseColumnPlot","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/LineSeriesUtil","sap/viz/chart/components/renderers/LineRenderer","sap/viz/chart/components/util/LineRendererUtil","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d){var f=i.CSS.CLASS;var v=function(e,t){v.superclass.constructor.apply(this,arguments);this._lineRenderer=null;this._defaultLineRenderer=h.getDefaultRenderer(this._properties.get("isSmoothed"))};t.extend(v,a);v.prototype.destroy=function(){v.superclass.destroy.apply(this,arguments);this._lineRenderer=null;this._dpPlotNode=null;this._dpParentNode=null;this._extendSize=null};v.prototype.getLineRenderer=function(){if(!this._lineRenderer){this._lineRenderer=c()}return this._lineRenderer};v.prototype.getDefaultLineRenderer=function(){return this._defaultLineRenderer};v.prototype._preRender=function(){v.superclass._preRender.apply(this,arguments);this._generateMarkerPath();this._lineRenderer=null};v.prototype._createMainNode=function(e){var t=v.superclass._createMainNode.apply(this,arguments);if(this._extendSize){this._dpPlotNode=e.parentNode.querySelector("."+i.CSS.CLASS.DATAPOINTS_MODULE);var a=this._dpPlotNode;a.setAttribute("transform",e.getAttribute("transform"));var r=e.parentNode.querySelector("."+i.CSS.CLASS.DATAPOINTS_PLOT);if(!r){r=p.create("g",a);r.setAttribute("class",i.CSS.CLASS.DATAPOINTS_PLOT)}this._dpParentNode=d3.select(r);t.dpPlotNodes=r;if(!this._options.disableClipPath&&!this._notNeedClippath){a.setAttribute("clip-path","url(#"+this.clipPath.getAttribute("id")+")")}}return t};var g=function(e,t,i){var a={valueAxis:[Infinity,-Infinity],valueAxis2:[Infinity,-Infinity]};var r={};r.valueAxis=t._valueAxis&&t._valueAxis.lineRawRange;r.valueAxis2=t._valueAxis2&&t._valueAxis2.lineRawRange;for(var o=0;o<e.length;o++){if((!i||i(o)==="line")&&e[o][0]){var n=e[o][0].hasOwnProperty("valueAxis")?"valueAxis":"valueAxis2";var l=e[o][0].hasOwnProperty("valueAxis")?"color":"color2";var s=e[o][0][l]?d.isExist(e[o][0][l].mndIndex)?e[o][0][l].mndIndex:0:0;a[n][1]=a[n][1]<r[n][s][1]?r[n][s][1]:a[n][1];a[n][0]=a[n][0]>r[n][s][0]?r[n][s][0]:a[n][0]}}return a};v.prototype._getClipPathAttribute=function(e,t,i,a){var r,o;var n=e+1,l=t+1,s=0,u=0;var c=this.isHorizontal(),h=c?e:t;if(!this.isBigDataMode()&&this._data.rawData&&this._data.rawData.dataModel&&!this._isInTrellis&&this.runtime().propertyManager().get("valueAxis.layout.direction")!=="topDown"){var p=[],d,f,v,m,y;var _=this._options&&this._options.isDualValueAxis?2:1;var A=this._options&&this._options.valueAxisIndex==="valueAxis2";for(var b=0;b<_;b++){var x=-1;d="valueAxis"+(b||A?"2":"");f=a[d].scale;v=f.getDomain();m=f.getDomainFixed();y=f.isFixed();if(v[0]>=0&&!(y&&m[0])){x=0}else if(v[1]<=0&&!(y&&m[1])){x=1}if(x!==-1&&v[x]!==0&&!f.getZeroAdjusted()){x=-1}p.push(x)}if(p.indexOf(-1)===-1&&(_===1||p[0]===p[1])){var S=0,D,w;var C=this._properties.get(this._markerPropName+".size");var T=C/2+2;if(T>8){T=8}var z=g(this._getSeries(),this._data.rawData.dataModel,this._getDataShape?this._getDataShape.bind(this):null);for(var L=0;L<_;L++){d="valueAxis"+(L||A?"2":"");D=a[d].scale.getDomain();w=a[d].scale.getRange();var P=(Math.abs((D[1]-D[0])*T/(h*(w[1]-w[0])))-Math.abs(z[d][p[L]]))/((D[1]-D[0])*(w[1]-w[0]));if(P>0){S=Math.max(S,P)}}this._extendSize=r=S*h;if(r&&i&&(!c&&(i.y===1||!i.y)||c&&(i.x===1||!i.x))){o=h+1+r;if(this.isHorizontal()){n=o}else{l=o}if(p[0]===0&&c){s=-r}else if(p[0]===1&&!c){u=-r}}}}return{y:-1,width:n,height:l,transform:"translate("+s+", "+u+")"}};v.prototype.zoom=function(e){if(this.clipPath&&e){this._setClipPathAttribute(this.clipPath.querySelector("rect"),this._size.width,this._size.height,e,this._data)}v.superclass.zoom.apply(this,arguments)};v.prototype.scroll=function(){v.superclass.scroll.apply(this,arguments);if(!this._isInTrellis&&this._dpParentNode&&this._plotDpParentNode){this._dpParentNode.attr("transform",this._plotDpParentNode.attr("transform"))}};v.prototype._hideDataPoints=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){this._hideNode(e,i)}}this._lightLineOutOfRange(e,t)};v.prototype._lightLineOutOfRange=function(e,t){var i=function(i){var a,r;for(a=0;a<t.min;a++){r=e[a];if(r&&r.getDataId()===i){return true}}for(a=t.max+1;a<e.length;a++){r=e[a];if(r&&r.getDataId()===i){return true}}return false};var a=this._selection.selectAll("."+f.LIGHT_LINE)[0];for(var o=0;o<a.length;o++){var n=a[o];var l=parseInt(n.getAttribute("data-from"));var s=parseInt(n.getAttribute("data-to"));if(i(l)&&i(s)){r.remove(n)}}};v.prototype._drawDataPoint=function(e,t){var i=v.superclass._drawDataPoint.apply(this,arguments);var a=t.getData();a.shape=this._getMarkerShape();o.setData(i,a);return i};v.prototype._buildWrapperConfig=function(e,t,i,a){var r=v.superclass._buildWrapperConfig.apply(this,arguments);r.graphic.shape=this._getMarkerShape();return r};v.prototype._renderNode=function(e,t,i,a){var r=t.graphic.d;if(t.graphic.pattern==="noFill"&&this._markerShadow){t.graphic.d=this._markerShadow}var o=v.superclass._renderNode.apply(this,arguments);t.graphic.d=r;return o};v.prototype.update=function(){v.superclass.update.apply(this,arguments);this._updateLightLine()};v.prototype._updateLightLine=function(){if(!this._selection){return}var e=this._getDpPlotNode(),t=e.querySelectorAll("."+f.LIGHT_LINE);var i=this.getLineRenderer();var a=this.isHorizontal();[].forEach.call(t,function(t){var n=t.getAttribute("data-from");var l=s.findByDataPointId(e,t.getAttribute("data-from"));var u=t.getAttribute("data-to");var c=s.findByDataPointId(e,t.getAttribute("data-to"));if(!l||!c){r.remove(t)}else{var h=[o.getData(l).translate.slice(),o.getData(c).translate.slice()];h[0].id=n;h[1].id=u;var p={points:h,isHorizontal:a};if(i&&i.update){i.update(t.firstChild,p)}}})};function m(e){e=parseInt(e,10);return e>=0&&e<=7?e:2}v.prototype.getSeriesDPStyle=function(e,t){var i=!(this._options.renderType&&this._options.renderType.indexOf("combination")>-1&&this._seriesType&&this._seriesType[e]==="bar");var a=v.superclass.getSeriesDPStyle.call(this,e,t,i);return a};var y=["diagonalLightStripe","diagonalStripe","reverseDiagonalStripe"];v.prototype._getPatternConfig=function(e,t,i){var a=!(this._options.renderType&&this._options.renderType.indexOf("combination")>-1&&i.seriesType==="bar");e=v.superclass._getPatternConfig.apply(this,arguments);if(a&&e.graphic.pattern&&y.indexOf(e.graphic.pattern)>-1){e.graphic.pattern=null}return e};v.prototype.getSeriesStyle=function(e,t){var i=this._semanticMgr;var a=this._properties;var r=this._effectManager;t=t||l.buildSeriesLineContext(this._data,e);var o=i.analyzeSeriesStyle(t,"line");var s;if(o&&o.line&&o.line.width!=null){s=o.line.width}else{s=a.has("line.width")?a.get("line.width"):a.get("width")}s=m(s);var u;if(o&&o.line&&o.line.color!=null){u=o.line.color}else if((i.hasDataPointColorStyle()||i.hasDataPointLineStyle())&&i.isOverrideMode()&&i.shouldChangeColor()){u=i.getOthersStyle("color").properties.color}else{var c=l.getSeriesScaleInfo(this._data,e,["color","color2"]);if(c){u=this._data[c.field].scale.scale(c.domain)}else{u=this._getDefaultColor()}}u=r.register({fillColor:n.convertColor(u)});var h;if(o&&o.line&&o.line.type){h=o.line.type}return{color:u,lineWidth:s,lineType:h}};v.prototype._getDefaultColor=function(){return(this._data.color||this._data.color2).scale.getRange()[0]};v.prototype._isNeedSimplifyLine=function(){return this._isBigData};v.prototype._drawLine=function(e,t,i,a){if(!this._isLineVisible()){return}var r=l.buildSeriesLineContext(this._data,i);var o=this.getSeriesStyle(i,r);var n=this.getLineRenderer();var s=this._semanticMgr;var c=this._effectManager;var h=this.isHorizontal();var p=this._isNeedSimplifyLine();var d=false;if(a){d=u.updateLine(e,t,s,c,o,r,n,h,p,this._defaultLineRenderer.expose)}if(!d){d3.select(e).select("."+f.LINES_GROUP).remove();u.drawLine(e,t,s,c,o,r,n,h,p,this._defaultLineRenderer.expose)}if(!p){u.linkLine(t)}};v.prototype._updateLine=function(e,t,i){this._drawLine(e,t,i,true)};v.prototype._isLineVisible=function(){return this._properties.get("lineVisible")};return v});define("sap/viz/chart/components/renderers/PathRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics"],function(e,t){var i=function(i){var a=e.create("path");var r=i.graphic;if(r.d){a.setAttribute("d",r.d)}var o=r.fill;var n=r.stroke;var l=r.drawingEffect;var s=r.strokeWidth;if(r.pattern==="noFill"){l=null;o=r.bgColor;n=r.fill;s=2}if(i.effectManager){o=i.effectManager.register({drawingEffect:l,fillColor:o,patternEffect:r.pattern!=="noFill"?r.pattern:null,graphType:r.shape})}a.setAttribute("fill",o);var u=r.opacity>=0&&r.opacity<=1?r.opacity:1;if(u!==1){a.setAttribute("fill-opacity",u);a.setAttribute("stroke-opacity",u)}if(n){a.setAttribute("stroke",n);a.setAttribute("stroke-width",s)}t.setCustomizationInfo(a,{defaultRenderer:true});return a};i.expose={renderer:i};return i});define("sap/viz/chart/components/datalabels/LineDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a){var r=3;function o(e){var t=e.parentNode,r=a.getData(e);return{prev:r.prev?i.findByDataPointId(t,r.prev):undefined,next:r.next?i.findByDataPointId(t,r.next):undefined}}function n(e){if(e&&e.hasAttribute("transform")){var t=e.getAttribute("transform").replace(/translate|\(|\)/g,"").split(/[,| ]+/);return{x:parseFloat(t[0]),y:parseFloat(t[1])}}else{return null}}function l(e,t){var i=this._getDataLabelInfo(e).value,a=o.call(this,e),r=a.prev?this._getDataLabelInfo(a.prev).value:undefined,n=a.next?this._getDataLabelInfo(a.next).value:undefined;if(isNaN(r)&&isNaN(n)){return"up"}else if(isNaN(r)){r=n}else if(isNaN(n)){n=r}if(r>i&&i<n){return t?"up":"down"}else if(r<=i&&i>=n){return t?"down":"up"}else{return"adjust"}}function s(e,t,i,a){var l=o(i),s=n(i),u=n(l.prev),c=n(l.next),h=a?u.y<=s.y&&s.y<=c.y:u.y>=s.y&&s.y>=c.y,p=h?c:u,d=e[0]+(h?t.width:0),f=e[1],v,g,m;g=(s.x-p.x)/(s.y-p.y);m=s.x-g*s.y;v=g*f+m;if(h&&d>=v-r){e[0]-=d-v+r}if(!h&&d<=v+r){e[0]+=v+r-d}return e}var u=function(e,t){u.superclass.constructor.apply(this,arguments);this.isHorizontal=t.isHorizontal;this._labelPosition=this.isHorizontal?"outside":"up"};e.extend(u,t);u.prototype._computeDataLabelTranslate=function(e,t,i,a){if(this.isHorizontal){return u.superclass._computeDataLabelTranslate.apply(this,[e,t,"right",a])}var r=this._properties.parentLevel.get("valueAxis.layout.direction")==="topDown";i=l.call(this,e,r);var o=i;if(i==="adjust"){o=r?"down":"up"}var n=this._computeDataLabelPosition(t,this._fixBBoxWhenInvisible(e),o,a,{},e);if(i==="adjust"){n=s(n,a,e,r)}if(o==="down"){n[1]+=a.height}this._forceInner(n,a);return n};return u});define("sap/viz/chart/components/accessibility/LineDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(e,t){function i(){i.superclass.constructor.apply(this,arguments);this._isRadarChart=this._renderType?this._renderType.indexOf("radar")>-1:undefined;this._firstValueIsNull=[];this._sortedDPByFirstValueAxis=[];this._sortedDPBySecondaryValueAxis=[];this._allDataPoints=[];this._setupDataPointsMap()}e.extend(i,t);var a=i.prototype;a._setupDataPointsMap=function(){if(this._series){var e=this._series.length;for(var t=0;t<this._series.length;t++){var i=[];if(this._series[t]){for(var a=0;a<this._series[t].length;a++){if(this._series[t][a]){i.push(this._series[t][a])}else{if(a===0){this._firstValueIsNull.push(t)}}}this._allDataPoints.push(i)}else{this._allDataPoints.push(undefined)}}}};a.destroy=function(){i.superclass.destroy.apply(this,arguments);this._sortedDPByFirstValueAxis=null;this._sortedDPBySecondaryValueAxis=null;this._allDataPoints=null;this._firstValueIsNull=null};a.left=function(e){return this._isRadarChart?this.getCounterClockwiseDataPointInSeries(e):this._isVerticalRender?this.getPrevDataPointInSeries(e):this._getShortestDPInCategory(e,this._constants.LEFT)};a.right=function(e){return this._isRadarChart?this.getClockwiseDataPointInSeries(e):this._isVerticalRender?this.getNextDataPointInSeries(e):this._getShortestDPInCategory(e,this._constants.RIGHT)};a.up=function(e){return this._isVerticalRender?this._getShortestDPInCategory(e,this._constants.UP):this.getPrevDataPointInSeries(e)};a.down=function(e){return this._isVerticalRender?this._getShortestDPInCategory(e,this._constants.DOWN):this.getNextDataPointInSeries(e)};a.getNextDataPointInSeries=function(e){var t=this.getDataPoint(e);var i=this.locate(t.address());var a=t.address();var r=a[1];var o=null;if(this._allDataPoints[r]){var n=this._allDataPoints[r].indexOf(i)+1;if(n<this._allDataPoints[r].length){o=this._allDataPoints[r][n].dp}}return o};a.getPrevDataPointInSeries=function(e){var t=this.getDataPoint(e);var i=this.locate(t.address());var a=t.address();var r=a[1];var o=null;if(this._allDataPoints[r]){var n=this._allDataPoints[r].indexOf(i)-1;if(n>-1){o=this._allDataPoints[r][n].dp}}return o};a.getClockwiseDataPointInSeries=function(e){var t=this.getDataPoint(e);var i=this.locate(t.address());var a=t.address();var r=a[1];var o=null;if(this._allDataPoints[r]){var n=this._firstValueIsNull.indexOf(r)>-1?this._allDataPoints[r].length-1:0;var l=this._allDataPoints[r].indexOf(i);var s=l===0?this._allDataPoints[r].length-1:l-1;if(s<this._allDataPoints[r].length&&s!==n){o=this._allDataPoints[r][s].dp}}return o};a.getCounterClockwiseDataPointInSeries=function(e){var t=this.getDataPoint(e);var i=this.locate(t.address());var a=t.address();var r=a[1];var o=null;if(this._allDataPoints[r]){var n=this._firstValueIsNull.indexOf(r)>-1?this._allDataPoints[r].length-1:0;var l=this._allDataPoints[r].indexOf(i);if(l===n){return o}var s=l===this._allDataPoints[r].length-1?0:l+1;if(s>-1&&s<this._allDataPoints[r].length){o=this._allDataPoints[r][s].dp}}return o};function r(e){if(this._isDual){if(!this._sortedDPByFirstValueAxis[e]){this._sortedDPByFirstValueAxis[e]=[];this._sortedDPBySecondaryValueAxis[e]=[];var t=this.getColumn(e);for(var i=0;i<t.length;i++){if(this.locate(t[i].address()).valueAxis){this._sortedDPByFirstValueAxis[e].push(t[i])}else if(this.locate(t[i].address()).valueAxis2){this._sortedDPBySecondaryValueAxis[e].push(t[i])}}this._sortedDPByFirstValueAxis[e].sort(function(e,t){return this.locate(e.address()).valueAxis-this.locate(t.address()).valueAxis}.bind(this));this._sortedDPBySecondaryValueAxis[e].sort(function(e,t){return this.locate(e.address()).valueAxis2-this.locate(t.address()).valueAxis2}.bind(this))}}else{if(!this._sortedDataPointsByDirection[e]){this.dataPointValueSortInCategory(e)}}}a.dataPointValueSortInCategory=function(e){this._sortedDataPointsByDirection[e]=this.getColumn(e);var t=this;var i=this._propMgr.get("valueAxis.layout.direction")==="topDown";this._sortedDataPointsByDirection[e].sort(function(e,a){var r=t.locate(e.address());var o=t.locate(a.address());return i?o.valueAxis-r.valueAxis:r.valueAxis-o.valueAxis})};a._getShortestDPInCategory=function(e,t){var i=this.getDataPoint(e);var a=null;var o=-1;var n=i.address();var l=n[0];var s=-1;var u=false;r.call(this,l);if(this._isDual){var c=this.locate(i.address());if(c.valueAxis){s=this._sortedDPByFirstValueAxis[l].indexOf(i)}else if(c.valueAxis2){u=true;s=this._sortedDPBySecondaryValueAxis[l].indexOf(i)}}else{s=this._sortedDataPointsByDirection[l].indexOf(i)}if(t===this._constants.UP||t===this._constants.RIGHT){o=s+1}else if(t===this._constants.DOWN||t===this._constants.LEFT){o=s-1}if(this._isDual){if(!u){if(o>this._sortedDPByFirstValueAxis[l].length-1){a=null}else if(o===-1){o=this._sortedDPBySecondaryValueAxis[l].length-1;a=this._sortedDPBySecondaryValueAxis[l][o]}else{a=this._sortedDPByFirstValueAxis[l][o]}}else{if(o>this._sortedDPBySecondaryValueAxis[l].length-1){a=this._sortedDPByFirstValueAxis[l][0]}else if(o===-1){a=null}else{a=this._sortedDPBySecondaryValueAxis[l][o]}}}else{a=this._sortedDataPointsByDirection[l][o]}return a};a.getColumn=function(e){var t=[];if(this._series){for(var i=0;i<this._series.length;i++){if(this._series[i]&&this._series[i][e]){t.push(this._series[i][e].dp)}}}return t};return i});define("sap/viz/chart/components/trendline/mixin/linePlot",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/trendline/mixin/columnPlot"],function(e,t,i){function a(){}t.extend(a,i);a.prototype._getTrendLineContainer=function(t,i){var a=i.querySelector("."+e.CSS.CLASS.DATAPOINT_GROUP);if(a){i.insertBefore(t,a)}else{i.appendChild(t)}};return a});define("sap/viz/chart/components/plots/LinePlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/plots/BaseLinePlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/chart/components/util/DrawUtil","sap/viz/chart/components/util/LineRendererUtil","sap/viz/chart/components/datalabels/LineDataLabels","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/LineDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/trendline/mixin/linePlot","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DOM"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b){var x={desktop:{minWidth:24},mobile:{minWidth:48}};var S={desktop:{minWidth:16},mobile:{minWidth:16}};var D=function(e,t){D.superclass.constructor.apply(this,arguments);this._markerPropName="marker";this._dataPointRenderer=h;this._flipNegativeShape=false;var i=this.runtime().semanticManager();i.setUseSemanticDPLineStyle(true);i.setUseSemanticPattern(true);var a=this.runtime().markManager();a.setMode("line");a.lock();a.setSeriesShape("line");this._attachMarkRestrict();this.markerShapePW=this._properties.watch("marker.shape",this._onShapeChange.bind(this));this._isMarkerVisible=this._properties.get("marker.visible")};t.extend(D,l);D.prototype.destroy=function(){this.markerShapePW.remove();this.markerShapePW=null;D.superclass.destroy.call(this);this._dataPointRenderer=null;this._flipNegativeShape=null;this._markerD=null;this._realSize=null};D.prototype._onShapeChange=function(){this._attachMarkRestrict()};D.prototype._EmptyDOM=function(e){D.superclass._EmptyDOM.apply(this,arguments);b.empty(this._getDpPlotNode())};D.prototype._attachMarkRestrict=function(){var e=[],t=this._getMarkerShape(),i=this.runtime().markManager();e.push(t);if(this._options.isDualValueAxis){e.push(t)}i.setShape(e,"circle")};D.prototype._adjustPosition=function(e,t){};D.prototype._preRender=function(){D.superclass._preRender.apply(this,arguments);this._isMarkerVisible=this._properties.get("marker.visible")};D.prototype._applyScroll=function(){D.superclass._applyScroll.apply(this);this.renderTrendlines(this._selection)};D.prototype._getValueScaleHandlers=function(e){var t={isHorizontal:e,alignment:e?"right":"top"};if(this._options.isDualValueAxis){return[s.getValueScaleHandler("valueAxis",t),s.getValueScaleHandler("valueAxis2",t)]}else{return[s.getValueScaleHandler("valueAxis",t)]}};D.prototype._getCategoryScaleHandlers=function(){return[s.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:u.get(false),alignment:"center"})]};D.prototype._getGridLineScale=function(e){var t=this._properties.origin.get("valueAxis.layout.direction");e=t==="topDown"?[e[1],e[0]]:e;return D.superclass._getGridLineScale.call(this,e)};D.prototype._getSeriesRenderer=function(){return new c(this._drawLine.bind(this),this._updateLine.bind(this))};D.prototype._adjustPosition=function(e){};D.prototype._updateDatapoint=function(e,t,i,r){D.superclass._updateDatapoint.apply(this,arguments);if(e&&r.hasOwnProperty("x")&&r.hasOwnProperty("y")){var o=a.getData(e).translate;if(o){o[0]=r.x;o[1]=r.y}}};D.prototype.getLineRenderer=function(){if(!this._lineRenderer){var e=this._properties;this._lineRenderer=d.getRenderer(e.get("lineRenderer"),e.get("isSmoothed"))}return this._lineRenderer};D.prototype._buildConfig=function(e,t,i){var a=D.superclass._buildConfig.apply(this,arguments);a.graphic.d=this._markerD;if(!this._isMarkerVisible){a.graphic.opacity=0}return a};D.prototype._getDataLabels=function(e,t){var i=r.extend({},this._options);i.name=e;return new f(t,i)};D.prototype._getMinCategoryWidth=function(e){var t=!!this._options.inTrellis;var i=this._properties;var a="categoryAxis.label.style.fontSize";var r=parseInt(i.origin.get(a))/parseInt(i.origin.getDefault(a));if(e||t||i.get("isFixedDataPointSize")&&!i.origin.get("interaction.noninteractiveMode")){var o=t?S:x;var l=n.isMobile()?o.mobile.minWidth:o.desktop.minWidth*r;return l}else{return 0}};D.prototype.getPreferredSize=function(){var e=!!this._options.inTrellis;var t=this._getCategoryRange();var i=this.isHorizontal();var a=this._getCategoryCount();var r=i?this._size.height/a:this._size.width/a;var o=!this._properties.origin.get("interaction.noninteractiveMode");var n=this._isRangeIncomplete;function l(){return t&&!n(t)&&o}if(o&&!l()&&(e||n(t)||this._properties.get("isFixedDataPointSize"))){var s=this._getMinCategoryWidth(n(t));var u=false;if(r<s){u=true;r=s}if(u){if(i){this._realSize.height=r*a}else{this._realSize.width=r*a}}if(n(t)&&this._shiftOffsetForIncompleteRange(t,a)){return this._realSize}}if(l()){var c=t[1]-t[0]+1;if(i){this._realSize.height=this._size.height*a/c;this._offset.y=-t[0]*this._realSize.height/a}else{this._realSize.width=this._size.width*a/c;this._offset.x=-t[0]*this._realSize.width/a}}return this._realSize};D.prototype.isMarkerVisible=function(){return this._isMarkerVisible};D.prototype._calMarkProps=function(){var e=this._getSeries();var t=0;e.forEach(function(e){t=Math.max(t,e.length)});var i=this.isHorizontal()?this._realSize.height:this._realSize.width;var a=i/t<10;var r=this._properties.get("marker.displayMode");this._isMarkerVisible=this._properties.get("marker.visible");if(r==="auto"&&a){this._isMarkerVisible=false}};D.prototype._preShowDataPoints=function(){this._calMarkProps();return D.superclass._preShowDataPoints.apply(this,arguments)};v.registerClazz("line",D);v.registerClazz("horizontal_line",D);g.register(y.DATAPOINT_NAVIGATOR,y.LINE,m);(new _).inject(D.prototype);return D});define("sap/viz/chart/components/renderers/AreaRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/ColorUtil"],function(e,t,i,a,r){var o="DIRECTION_LEFT";var n="DIRECTION_RIGHT";var l="DIRECTION_BOTH";var s=i.CSS.CLASS;var u=function(e,t,i){if(t.length>1){e.areaPath=g(e.areaPath,t,i);e.detectionPath=f(e.detectionPath,t,i)}else if(t[0]&&t[0].dataPoint){e.linePath=g(e.linePath,t,i);e.detectionPath=f(e.detectionPath,t,i)}};var c=function(e,t){if(!e){return null}var i={areaPath:"",linePath:"",detectionPath:""};var a=e.length;var r=false;var o=false;var n=[];var l;for(var s=0;s<a;s++){l=e[s];if(l){if(l.dataPoint){n.push(l);o=false;r=false;continue}if(!r){n.push(l);o=false}else{if(!o){o=true;u(i,n,t)}n=[l]}r=true}else{if(!o){o=true;u(i,n,t)}n=[]}}u(i,n,t);if(i.areaPath){i.areaPath+="Z"}return i};var h=function(e,t,i,a){var r=c(a.points,a.isHorizontal);if(!r){return}var o,n;[{node:e,pathKey:"areaPath"},{node:t,pathKey:"linePath"},{node:i,pathKey:"detectionPath"}].forEach(function(e){n=e.node;o=r[e.pathKey];if(o){n.setAttribute("d",o)}else{n.removeAttribute("d")}})};var p=function(i){var o=i.ctx;var n=i.graphic;var l=n.opacity;var u=e.create("path");u.setAttribute("class",s.AREA_PATH+" "+s.MORPHABLEAREABG);u.setAttribute("fill",m(i));u.setAttribute("opacity",l);if(i.propManager.get("plotArea.area.stroke.visible")){var c=r.getBgColor(i.propManager,["plotArea.grid.background.color","plotArea.background.color","general.background.color","plotArea.area.stroke.color"]);var p=a.convertColor(c);u.setAttribute("stroke",p);u.setAttribute("stroke-width","1");u.setAttribute("stroke-opacity","1")}var d=e.create("path");d.setAttribute("stroke",n.color);d.setAttribute("stroke-width","1px");d.setAttribute("opacity",l);d.setAttribute("class",s.AREA_LINE_PATH+" "+s.MORPHABLEAREABG);var f=e.create("path");f.setAttribute("class",s.AREA_DETECTION_PATH);f.setAttribute("opacity","0");var v=e.create("g");[u,d,f].forEach(function(e){t.setContext(e,o);v.appendChild(e)});h(u,d,f,i);return v};p._getAreaPathByDataPoints=c;var d=function(e,t,i){if(!e){return}var a=+e.x;var r=+e.y;var s=+e.width;var u=+e.height;var c=e;var h=e;if(t===o||t===l){c={};c.x=i?a:a-10;c.y=i?r-10:r;c.width=s;c.height=u}if(t===n||t===l){h={};h.x=i?a:a+10;h.y=i?r+10:r;h.width=s;h.height=u}return[{position:c},{position:h}]};var f=function(e,t,i){var a=t[0].position;var r=t[t.length-1].position;if(a===r){e=g(e,d(a,l,i),i)}else{e=g(e,d(a,o,i),i);e=g(e,d(r,n,i),i)}return e};var v=function(e,t,i){return e+t+","+i};var g=function(e,t,i){var a=1,r=t.length;var o=t[0].position;e+=v("M",o.x,o.y);var n;if(i){n=v("L",o.x-o.width,o.y);for(;a<r;a++){o=t[a].position;e+=v("L",o.x,o.y);n=v("L",o.x-o.width,o.y)+n}}else{n=v("L",o.x,o.y+o.height);for(;a<r;a++){o=t[a].position;e+=v("L",o.x,o.y);n=v("L",o.x,o.y+o.height)+n}}e+=n;return e};p.update=function(e,t){var i=e.querySelector("."+s.AREA_PATH);var a=e.querySelector("."+s.AREA_LINE_PATH);var r=e.querySelector("."+s.AREA_DETECTION_PATH);h(i,a,r,t)};var m=function(e){var t=e.effectManager.register({drawingEffect:e.graphic.drawingEffect,fillColor:e.graphic.color,direction:e.isHorizontal?"horizontal":"vertical"});return t};p.expose={renderer:p,update:p.update};return p});define("sap/viz/chart/components/util/AreaSeriesUtil",["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/renderers/AreaRenderer"],function(e,t,i,a,r,o){var n=o;var l=a.convertColor;var s=.8;var u=i.CSS.CLASS;function c(t,a,r){var o=t.length;var n=[];var l,s,u,c;var h=-1;var p=r.seriesFirstAndLastDpIdx;if(p){u=p.firstIdx;c=p.lastIdx}else{u=0;c=o-1}for(var d=0;d<o;d++){if(t[d]){s=t[d].dataPoint;if(!s){continue}l=e.getData(s);l.seriesIndex=a;l.itemIndex=d;var f=p&&t[d].dpConfig.dataId||d;if(o===1){l.labelPosition=i.LABEL_POSITION.MIDDLE;l.isIsolate=true}else if(f===u){l.labelPosition=i.LABEL_POSITION.RIGHT}else if(f===c){l.labelPosition=i.LABEL_POSITION.LEFT;if(h===d-1){l.isIsolate=true}}else{if(d-h===1){l.labelPosition=i.LABEL_POSITION.RIGHT}else{l.labelPosition=i.LABEL_POSITION.MIDDLE}}n.push(s);e.setData(s,l)}else{h=d;if(d<=0||!t[d-1]||!t[d-1].dataPoint){continue}s=t[d-1].dataPoint;l=e.getData(s);if(d===1){l.isIsolate=true}else{if(l.labelPosition===i.LABEL_POSITION.RIGHT){l.labelPosition=i.LABEL_POSITION.MIDDLE;l.isIsolate=true}else{l.labelPosition=i.LABEL_POSITION.LEFT}}}}return n}function h(t){var i=t.length;var a;var r,o,n;for(var l=0;l<i;l++){r=t[l];if(!r||!r.dataPoint){continue}o=null;n=null;if(l>0&&t[l-1]){o=t[l-1]}if(l<i-1&&t[l+1]){n=t[l+1]}a={areaPath:p(r,o,n)};e.setGraphicInfo(r.dataPoint,a)}}function p(e,t,i){var a=e.position;var r=a.x;var o=a.y;var n=a.width;var l=a.height;var s,u;var c,h,p=[];if(t){s=t.position;if(!t.dataPoint){p.push({x:s.x,y:s.y})}else{c=r-n-(r-n-(s.x-s.width))/2;h=o+l-(o+l-(s.y+s.height))/2;p.push({x:c,y:h});c=r-(r-s.x)/2;h=o-(o-s.y)/2;p.push({x:c,y:h})}}p.push({x:r,y:o});if(i){u=i.position;if(!i.dataPoint){p.push({x:u.x,y:u.y})}else{c=r+(u.x-r)/2;h=o+(u.y-o)/2;p.push({x:c,y:h});c=r-n+(u.x-u.width-(r-n))/2;h=o+l+(u.y+u.height-(o+l))/2;p.push({x:c,y:h})}}p.push({x:r-n,y:o+l});p.push(p[0]);return p}var d={drawArea:function(t,i,a,l,p,d,f,v,g,m,y){h(i);var _=v.color;var A={graphic:{color:_,opacity:s,drawingEffect:l},points:i,effectManager:p,ctx:d,isHorizontal:g,propManager:m,seriesFirstAndLastNullVDpIdx:y};var b;if(f){b=f(A,o.expose)}var x=b||n(A);x.setAttribute("class",u.AREA);var S=c(i,a,A);if(f){var D=x.querySelector("."+u.AREA_PATH);if(D){var w=D.getAttribute("fill");if(w){_=w}}}r.setAreaId(x,a);e.setData(x,{color:_,dataPoints:S});e.setContext(x,d);t.appendChild(x)},updateArea:function(i,a,l,s,u,p){if(!i){return false}s=s||n;if(!s.update||!t.isFunction(s.update)){return false}var d=r.findArea(i,l);if(!d){return false}h(a);var f={points:a,isHorizontal:p.isHorizontal,ctx:u,graphic:{color:p.fillColor,opacity:p.opacity,drawingEffect:p.drawingEffect},effectManager:p.effectManager,isMultiSeries:p.isMultiSeries,seriesFirstAndLastDpIdx:p.seriesFirstAndLastDpIdx};s.update(d,f,o.expose);var v=c(a,l,f);e.getData(d).dataPoints=v;return true}};return d});define("sap/viz/chart/components/renderers/AreaRefLineRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics"],function(e,t){var i=function(t){var i=e.create("line");var a=t.graphic;var r=t.effectManager.register({fillColor:a.fill});i.setAttribute("stroke",r);var o=a.opacity>=0&&a.opacity<=1?a.opacity:1;if(o!==1){i.setAttribute("fill-opacity",o);i.setAttribute("stroke-opacity",o)}var n=t.position;i.setAttribute("x1",0);i.setAttribute("y1",0);i.setAttribute("x2",-n.width);i.setAttribute("y2",n.height);i.setAttribute("pointer-events","none");return i};i.update=function(e,t){var i=t.position;e.setAttribute("x2",-i.width);e.setAttribute("y2",i.height)};return i});define("sap/viz/chart/components/datalabels/AreaDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/ColorUtil"],function(e,t,i,a,r,o){var n=function(e,t,i){n.superclass.constructor.apply(this,arguments);this.isHorizontal=t.isHorizontal;this._seriesColorStyleMap=i;this._labelPosition=this.isHorizontal?"left":"down"};var l=0;var s=2;e.extend(n,t);n.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=a.getData(t.dataPoint);return i.isIsolate};n.prototype._render=function(e,t){var i=this._properties.get("hideWhenOverlap");if(i){this._ignoreEmptyDataLabel=true}n.superclass._render.apply(this,arguments)};n.prototype.drawZero=function(){var e=this._properties.get("hideWhenOverlap");if(e){return false}else{return true}};n.prototype._computeDataLabelPosition=function(e,t,i,o,u,c){var h=n.superclass._computeDataLabelPosition.apply(this,[e,t,i,o,u,c]);var p=a.getData(c);var d=h[0];var f=h[1];var v=this._size;var g=p.position&&p.position.width||0;var m=p.position&&p.position.height||0;var y=this._properties.get("hideWhenOverlap");if(this.isHorizontal){if(y&&o.width>Math.abs(g)){return null}if(p.labelPosition===r.LABEL_POSITION.RIGHT){f=f+o.height/2+l}else if(p.labelPosition===r.LABEL_POSITION.LEFT){f=f-o.height/2-l}d=d-g/2+t.width/2+o.width/2;if(d<0){d=s}}else{if(y&&o.height>Math.abs(m)){return null}if(p.labelPosition===r.LABEL_POSITION.RIGHT){d=d+o.width/2+l}else if(p.labelPosition===r.LABEL_POSITION.LEFT){d=d-o.width/2-l}f=f+m/2+t.height/2;if(f>v.height){f=v.height-s}}return[d,f]};n.prototype._setDataLabelColor=function(e,i,r,o){var n=a.getData(e.dataPoint);var l=this._seriesColorStyleMap&&this._seriesColorStyleMap[n.seriesIndex]&&this._seriesColorStyleMap[n.seriesIndex].color;t.prototype._setDataLabelColor.call(this,e,i,r,o,l)};return n});define("sap/viz/chart/behavior/config/tooltip/AreaChartTooltip",["sap/viz/framework/common/util/oo","sap/viz/chart/behavior/config/tooltip/Tooltip"],function e(t,i){var a=function(e){a.superclass.constructor.apply(this,arguments)};t.extend(a,i);var r=8;var o=10;a.prototype._addPadding=function(){if(this.isActionMode()){var e=this._data.position;var t=e.x;var i=e.y;var a=this._getLimit();var n=this._div.node();var l=n.offsetWidth;var s=n.offsetHeight;if(e.direction==="left"||e.direction==="right"){l=l+r;s=s+o}else if(e.direction==="top"||e.direction==="bottom"){l=l+o;s=s+r}else{s=s+o}if(e.direction==="left"){if(t-l<a.left){this._div.style("padding-left",r+"px")}else{this._div.style("padding-right",r+"px")}}else if(e.direction==="right"||!e.direction){if(t+l>a.right){this._div.style("padding-right",r+"px")}else{this._div.style("padding-left",r+"px")}}else if(e.direction==="top"||e.direction==="bottom"){if(t+l<a.right){this._div.style("padding-left",o+"px")}else{this._div.style("padding-right",o+"px")}}else{this._div.style("padding-left",0+"px");this._div.style("padding-right",0+"px")}if(e.direction==="top"||!e.direction){if(i-s<a.top){this._div.style("padding-top",r+"px")}else{this._div.style("padding-bottom",r+"px")}}else if(e.direction==="bottom"){if(i+s>a.bottom){this._div.style("padding-bottom",r+"px")}else{this._div.style("padding-top",r+"px")}}else if(e.direction==="left"||e.direction==="right"){if(i-s>a.top){this._div.style("padding-bottom",o+"px")}else{this._div.style("padding-top",o+"px")}}else{if(i-s<a.top){this._div.style("padding-top",o+"px")}else{this._div.style("padding-bottom",o+"px")}}}else{this._div.style("padding-top",0+"px");this._div.style("padding-bottom",0+"px");this._div.style("padding-left",0+"px");this._div.style("padding-right",0+"px")}};a.prototype._calculateMobilePos=function(e,t){var i=t.x;var a=t.y;var r=this._display.closeButton.size;var o=this._display.mouseMarginTop;var n=this._div.node();var l=n.offsetWidth;var s=n.offsetHeight;if(t.direction==="left"){i=i-l<e.left?i:i-l}else if(t.direction==="right"){i=i+l+r>e.right?i-l:i}else if(t.direction==="top"||t.direction==="bottom"){if(i+l+r<e.right){i=i}else{i=i-l}}else{if(i+l/2+r/2>e.right){i=e.right-l-r/2}else if(i-l/2<e.left){i=e.left}else{i=i-l/2-r/2}}if(t.direction==="top"){a=a-s-o-r/2<e.top?a:a-s-o}else if(t.direction==="bottom"){a=a+s+r/2>e.bottom?a-s:a}else if(t.direction==="left"||t.direction==="right"||!t.direction){if(a-s-o-r/2>e.top){a=a-s-o-r/2}else{a=a}}return{x:i,y:a}};a.prototype._calculateDesktopPos=function(e,t){var i=t.x;var a=t.y;var n=this._div.node();var l=n.offsetWidth;var s=n.offsetHeight;if(this._mode===this._tooltipMode.INFO_MODE){if(t.direction==="left"){i=i-l-r<e.left?i+r:i-l-r}else if(t.direction==="right"){i=i+l+r>e.right?i-l-r:i+r}else if(t.direction==="top"||t.direction==="bottom"){if(i+l+o<e.right){i=i+o}else{i=i-l-o}}else{if(i+l/2>e.right){i=e.right-l}else if(i-l/2<e.left){i=e.left}else{i=i-l/2}}if(t.direction==="top"){a=a-s-r<e.top?a+r:a-s-r}else if(t.direction==="bottom"){a=a+s+r>e.bottom?a-s-r:a+r}else if(t.direction==="left"||t.direction==="right"||!t.direction){if(a-s-o>e.top){a=a-s-o}else{a=a+o}}}else{if(t.direction==="left"){i=i-l<e.left?i:i-l}else if(t.direction==="right"){i=i+l>e.right?i-l:i}else if(t.direction==="top"||t.direction==="bottom"){if(i+l<e.right){i=i}else{i=i-l}}else{if(i+l/2>e.right){i=e.right-l}else if(i-l/2<e.left){i=e.left}else{i=i-l/2}}if(t.direction==="top"){a=a-s<e.top?a:a-s}else if(t.direction==="bottom"){a=a+s>e.bottom?a-s:a}else if(t.direction==="left"||t.direction==="right"||!t.direction){if(a-s>e.top){a=a-s}else{a=a}}}return{x:i,y:a}};return a});define("sap/viz/chart/components/accessibility/AreaDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator"],function(e,t,i){function a(e){a.superclass.constructor.apply(this,arguments)}e.extend(a,i);var r=a.prototype;r._isMeaningful=function(e){return e&&t.isExist(e.valueAxis)&&!e.isNullValue};return a});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/SVG","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n,l,s,u,c){var h=["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area"];h=o.addTrellisType(h);var p=e.CSS.CLASS;var d=p.AREA_REF_LINE;var f=2;var v=1;var g=.8;var m="1";var y=["path","circle","rect","ellipse"];function _(e){var t;if(e.trellisColumn){t=t||"";e.trellisColumn.forEach(function(e){t+=n.getDimensionValue(e)+"."})}if(e.trellisRow){t=t||"";e.trellisRow.forEach(function(e){t+=n.getDimensionValue(e)+"."})}return t}function A(e){var t={};for(var i=0;i<e.length;i++){var r=a.getData(e[i]).trellisInfo;var o=_(r);if(!t[o]){t[o]=[];t[o].info=r}t[o].push(e[i])}return t}function b(e,t,i,r){if(!i&&a.getData(e[0]).trellisInfo){var o=A(e);for(var n in o){if(o.hasOwnProperty(n)){var l=o[n];b(l,t,true,l.info)}}return}var u=t.isHorizontal();var c=e[0].parentNode.parentNode;var h=s.create("g");h.setAttribute("class",p.AREA_GROUP_SELECTED);c.parentNode.insertBefore(h,c);var d=S(e);for(var f=0;f<d.length;f++){if(d[f]){D(t,d[f],h,u,f,r)}}}function x(e){var t=e.getNodes(e.NodeType.AREA_GROUP_SELECTED,false);for(var i=0,a=t.length;i<a;i++){l.remove(t[i])}}function S(e){var t=[];for(var i=0;i<e.length;i++){var r=a.getData(e[i]);t[r.seriesIndex]=t[r.seriesIndex]||[];t[r.seriesIndex][r.itemIndex]=e[i]}return t}function D(e,t,i,o,n,l){if(!t||t.length<2){return}var s=e.getProperties().get("plotArea.drawingEffect");var u,c,h,p;var d=w(n,e,s,l);if(d){p=d.customizedColor||d.defaultColor}var f=e.getProperties();var v=f.get("plotArea.areaRenderer");if(e._getChartType()==="info/combinationEx"){v=f.get("plotArea.area.renderer")}if(v){var g=r.findArea(i.parentNode,n);var m=a.getData(g);if(m.color){p=m.color}}var y=t.length;var _=[],A=[];for(var b=0;b<y;b++){h=t[b];if(t[b]){_.push(a.getData(h));A.push(h)}else{u=z(_,o);if(u){c=C(u,A,p);i.appendChild(c)}_=[];A=[]}}u=z(_,o);if(u){c=C(u,A,p);i.appendChild(c)}}function w(e,t,a,r){var o;if(r){o=t.getModule("main").getChildPlot(r)}else{o=t.getModule("main.plot")}if(!o||!o.getSeriesStyle){return null}var n=o.getSeriesStyle(e);var l={isReverse:true};var s=i.getColors(t,null,null,null,a,l,n);if(s){return s}return null}function C(e,t,i){var r=s.create("path");r.setAttribute("d",e);r.setAttribute("fill",i);r.setAttribute("fill-opacity",g);a.setData(r,{dataPoints:t});r.setAttribute("class",p.AREA_SELECTED);return r}var T=function(e,t,i){return e+t+","+i};var z=function(e,t){var i=1,a=e.length;if(a<=1){return null}var r=e[0].position;var o=T("M",r.x,r.y);var n;if(t){n=T("L",r.x-r.width,r.y);for(;i<a;i++){r=e[i].position;o+=T("L",r.x,r.y);n=T("L",r.x-r.width,r.y)+n}}else{n=T("L",r.x,r.y+r.height);for(;i<a;i++){r=e[i].position;o+=T("L",r.x,r.y);n=T("L",r.x,r.y+r.height)+n}}o+=n;return o};function L(e,t){var i=a.getData(t);var r=i.trellisInfo;var o;if(r){o=e.getModule("main").getChildPlot(r)}else{o=e.getModule("main.plot")}if(!o||!o.drawAreaRefLine){return null}return o.drawAreaRefLine(i.seriesIndex,i.itemIndex)}function P(e,t,o,n,l){var s=r.getDataPointId(t);var u=e.getNodes(e.NodeType.AREA_REF_LINE,false);var c=r.findByDataPointIds(u,s)[0];if(!c){c=L(e,t);if(!c){return}}c.setAttribute("stroke-width",l);var h=e.getProperties().get("plotArea.drawingEffect");var p=i.getColors(e,t,n,null,h);p=p.customizedColor||p.defaultColor;c.setAttribute("stroke",p);if(o){c.setAttribute("opacity",m);c.setAttribute("fill-opacity",m);c.setAttribute("stroke-opacity",m)}else{var d=a.getData(t).opacity;if(d===0){c.setAttribute("opacity",d);c.setAttribute("fill-opacity",d);c.setAttribute("stroke-opacity",d)}else{c.removeAttribute("opacity");c.removeAttribute("fill-opacity");c.removeAttribute("stroke-opacity")}}}function k(e,t){var i=e.firstChild;if(t){e.setAttribute("opacity",m);if(i){i.setAttribute("stroke-opacity",m);i.setAttribute("fill-opacity",m)}}else{var r=a.getData(e).opacity;e.removeAttribute("stroke");e.removeAttribute("opacity");e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity");if(i){if(r===0){e.setAttribute("opacity",r);i.setAttribute("stroke-opacity",r);i.setAttribute("fill-opacity",r)}else{i.removeAttribute("stroke-opacity");i.removeAttribute("fill-opacity")}}}}var E=[{id:"selectDataPoint_area",triggerEvent:{name:"selectDataPoint",supportedChartTypes:h},handler:function(e,a){a.fireEvent(e,true);var o=i.turnToArray(e.data.targets);if(!o||!o.length){return}x(a);b(o,a);var n=a.getDataModel();var l=a.getProperties();var s=l.get("interaction.selected");var u=t.isExist(l.get("plotArea.markerRenderer"));o.forEach(function(e){var t=r.getDataPointId(e);var o=n.getDataPoint(t);if(o){P(a,e,true,s.color,1);y.forEach(function(t){i.drawStroke(a,e,t,s.stroke,1);i.drawFill(a,e,t,s,u,true)});k(e,true)}})}},{id:"deselectDataPoint_area",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:h},handler:function(e,a){a.fireEvent(e,true);x(a);var o=a.getDataModel();var n=i.turnToArray(e.data.targets);var l=a.getProperties();var s=e.data.isAnyOtherSelected?l.get("interaction.deselected"):l.get("plotArea.dataPoint");var u=t.isExist(l.get("plotArea.markerRenderer"));n.forEach(function(e){var t=r.getDataPointId(e);var n=o.getDataPoint(t);if(n){P(a,e,false,s.color,1);y.forEach(function(t){i.drawStroke(a,e,t,s.stroke,1);i.drawFill(a,e,t,s,u,true)});k(e,false)}})}},{id:"hoverOnDataPoint_area",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:h},handler:function(e,a){a.fireEvent(e,true);var o=a.getDataModel();var n=i.turnToArray(e.data.targets);var l=a.getProperties();var s=l.get("interaction.hover");var u=t.isExist(l.get("plotArea.markerRenderer"));n.forEach(function(e){var t=r.getDataPointId(e);var n=o.getDataPoint(t);if(n){P(a,e,true,s.color,2);y.forEach(function(t){i.drawStroke(a,e,t,s.stroke,2);i.drawFill(a,e,t,s,u,true)});k(e,true)}})}},{id:"unhoverOnDataPoint_area",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:h},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o=a.getProperties();var n;var l=t.isExist(o.get("plotArea.markerRenderer"));var s=a.getStatus("selectedDataPoints");r.forEach(function(e){var t;if(d3.select(e).classed(p.DATAPOINTSELECTED)){n=o.get("interaction.selected");t=true}else{if(s.length){n=o.get("interaction.deselected")}else{n=o.get("plotArea.dataPoint")}t=false}P(a,e,t,n.color,1);y.forEach(function(t){i.drawStroke(a,e,t,n.stroke,1);i.drawFill(a,e,t,n,l,true)});k(e,t)})}},{id:"clearPlot_area",triggerEvent:{name:"clearPlot",supportedChartTypes:h},handler:function(e,a){a.fireEvent(e,true);var r=a.getStatus("areaDataPoints")||a.getNodes(a.NodeType.DATA_POINT,false);if(!r||!r.length){return}var o=e.data.isGray;var n=a.getProperties();var l=o?n.get("interaction.deselected"):n.get("plotArea.dataPoint");var s=t.isExist(n.get("plotArea.markerRenderer"));r.forEach(function(e){P(a,e,false,l.color,1);y.forEach(function(t){i.drawStroke(a,e,t,l.stroke,1);i.drawFill(a,e,t,l,s,true)});k(e,false)});var u=n.get("interaction.deselected.color");var c=n.get("plotArea.drawingEffect");var h=a.getNodes(a.NodeType.AREA,false);h.forEach(function(e){var t={isReverse:true};var r=i.getColors(a,e,u,null,c,t);var n=e.querySelector("."+p.AREA_PATH);var l=e.querySelector("."+p.AREA_LINE_PATH);if(o&&r.customizedColor){e.setAttribute("fill",r.customizedColor);n.setAttribute("fill",r.customizedColor);l.setAttribute("fill",r.customizedColor)}else{e.setAttribute("fill",r.defaultColor);n.setAttribute("fill",r.defaultColor);l.setAttribute("fill",r.defaultColor)}})}},u.getDeselectEvent("click_on_non_selection_area",h,i.getDeselAllExTargets())];c.registerAll(E);return E});define("sap/viz/chart/behavior/config/AreaBehaviorConfig",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n,l,s,u,c){var h=["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area"];var p=h.concat(["info/combinationEx"]);p=s.addTrellisType(p);var d=t.BEHAVIOR;var f=e.CSS.CLASS;var v=f.DATAPOINT;var g=f.DATALABEL;var m=f.AREA;var y=f.AREA_SELECTED;function _(e){if(D()){return e.data.point}var t=e.data.originalEvent||window.event;return{x:t.clientX,y:t.clientY}}function A(e){var t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}}function b(e,t,i){var a=i.isHorizontal();var r=a?"y":"x";var o,n,l;t.forEach(function(t){l=A(t);var i=Math.abs(l[r]-e[r]);if(!n||!o){n=t;o=i;return}if(i<o){o=i;n=t}});return n}function x(e){if(e){var t=u.getData(e).dataPoints;return t}}function S(e,t){var i=_(e);var a=x(e.data.currentTarget);return b(i,a,t)}function D(){return i.isMobile()}function w(e,t,i){var a=t.data.point;var r={};r.isHorizontal=i.isHorizontal();var o=_(t);var n=o.x||0;var l=o.y||0;var s=A(e);if(r.isHorizontal){r.direction=s.y-l>0?"top":"bottom";r.x=a.x;if(D()){r.y=s.y}else{r.y=a.y+(o.y&&s.y-o.y||0)}}else{r.direction=s.x-n>0?"left":"right";if(D()){r.x=s.x}else{r.x=a.x+(o.x&&s.x-o.x||0)}r.y=a.y}return r}function C(e,t){var i=a.getDataPointId(e.data.currentTarget);var r=t.getNodes(t.NodeType.DATA_POINT,false);return a.findByDataPointIds(r,i)[0]}var T=[{id:"click_on_datalabel",triggerEvent:{name:"click",targets:[g],excludeTargets:["v-m-action-layerrange"],supportedChartTypes:p},handler:function(e,t){e.data.point=w(C(e,t),e,t);t.fireEvent(e,true)}},{id:"hover_on_datalabel",triggerEvent:{name:"hover",targets:[g],supportedChartTypes:p},handler:function(e,t){e.data.point=w(C(e,t),e,t);t.fireEvent(e,true)}},{id:"click_on_datapoint",triggerEvent:{name:"click",targets:[v],excludeTargets:["v-m-action-layerrange"],supportedChartTypes:p},handler:function(e,t){e.data.point=w(e.data.currentTarget,e,t);t.fireEvent(e,true)}},{id:"hover_on_datapoint",triggerEvent:{name:"hover",targets:[v],supportedChartTypes:h},handler:function(e,t){e.data.point=w(e.data.currentTarget,e,t);t.fireEvent(e,true)}},{id:"click_on_area",triggerEvent:{name:"click",targets:[m,y],supportedChartTypes:p},handler:function(e,t){var i=S(e,t);e.data.currentTarget=e.data.target=i;e.data.point=w(i,e,t);t.fireEvent(e,true)}},{id:"hover_on_area",triggerEvent:{name:"hover",targets:[m,y],supportedChartTypes:p},handler:function(e,t){var i=S(e,t);e.data.currentTarget=e.data.target=i;e.data.point=w(i,e,t);t.fireEvent(e,true)}}];c.registerAll(T);return T});define("sap/viz/chart/components/plots/AreaPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/BaseColumnPlot","sap/viz/chart/components/plots/LinePlot","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DrawUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/AreaSeriesUtil","sap/viz/chart/components/renderers/AreaSeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/chart/components/renderers/AreaRefLineRenderer","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/datalabels/AreaDataLabels","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/behavior/config/TooltipClassMap","sap/viz/chart/behavior/config/tooltip/AreaChartTooltip","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/AreaDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea","sap/viz/chart/behavior/config/AreaBehaviorConfig"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D,w,C,T,z){var L=3;var P=2;var k=.8;var E={desktop:{minWidth:24},mobile:{minWidth:48}};var I={desktop:{minWidth:16},mobile:{minWidth:16}};var O=s.CSS.CLASS;var R=[O.DATAPOINT,O.MORPHABLEDATAPOINT,O.DATAPOINTDEFAULT].join(" ");var N=function(e,t){this._seriesColorStyleMap={};N.superclass.constructor.apply(this,arguments);this._dataPointRenderer=m;this._flipNegativeShape=false;var i=this.runtime().markManager();i.setMode("single");i.lock();i.setShape("circle");var a=this.runtime().semanticManager();a.bindSeriesStyleProperty(this._name+".seriesStyle")};t.extend(N,i);N.prototype._getDataLabels=function(e,t){var i=u.extend({},this._options);i.name=e;return new x(t,i,this._seriesColorStyleMap)};N.prototype._getDataHandler=function(){return{valueAxis:A.getStackHandler(false)}};N.prototype._buildConfig=function(e,t,i){var a=N.superclass._buildConfig.apply(this,arguments);a.graphic.d=this._markerD;return a};N.prototype._getFillColorConfig=function(e,t,i,a){var r=a&&!a.isNullValue?a.dp.additionCtx():{};var o=i.disableSemantic?null:this._semanticMgr.analyzeDataPoint("color",t,true,r);if(o==null||o.properties==null){if(e.graphic){if(e.graphic.fill){e.graphic.fill=h.convertColor(e.graphic.fill)}if(e.graphic.color){e.graphic.color=h.convertColor(e.graphic.color)}if(e.graphic.borderColor){e.graphic.borderColor=h.convertColor(e.graphic.borderColor)}e.graphic.opacity=0}if(e.data&&e.data.color){e.data.color=h.convertColor(e.data.color)}return e}if(o.properties.color){var n=h.convertColor(o.properties.color);if(e.graphic){if(e.graphic.hasOwnProperty("fill")){e.graphic.fill=n}if(e.graphic.hasOwnProperty("color")){e.graphic.color=n}e.graphic.opacity=o.isOthers?0:1}if(e.data&&e.data.color){e.data.color=n}e.displayName=o.displayName}else{e.graphic.opacity=0}if(o.properties.stroke){e.graphic.stroke=o.properties.stroke}if(o.properties.strokeWidth){e.graphic.strokeWidth=o.properties.strokeWidth}return e};N.prototype._preRender=function(){N.superclass._preRender.apply(this,arguments);this._markerD=d.createMarkerData({type:"circle",rx:L,ry:L,borderWidth:P})};N.prototype._getSeriesRenderer=function(){return new g(this._renderArea.bind(this),this._updateArea.bind(this))};N.prototype._updateArea=function(e,t,i,a){var o=function(e){for(var t=0;t<e.length;t++){if(e[t]&&e[t].dpConfig&&e[t].dataPoint&&e[t].dpConfig.graphic&&e[t].dpConfig.graphic.fill){return e[t].dpConfig.graphic.fill}}return undefined};var n=this._properties.get();var l=a||this._properties.get("areaRenderer");var s=r.buildSeriesLineContext(this._data,i);var u=this._series[i].getDataPoints();var c={drawingEffect:n.drawingEffect,effectManager:this._effectManager,fillColor:o(t),opacity:k,isHorizontal:this.isHorizontal(),seriesFirstAndLastDpIdx:{firstIdx:u[0]&&u[0].getDataPointId(),lastIdx:u[u.length-1]&&u[u.length-1].getDataPointId()}};var h=v.updateArea(e,t,i,l,s,c);if(!h){var p=f.findArea(e,i);if(p){e.removeChild(p)}this._renderArea(e,t,i)}};N.prototype._renderArea=function(e,t,i,a,o){var n=this._properties;var l=o||n.get("areaRenderer");var s=n.get("drawingEffect");var u=this._data.series.length-1-i;var c=this._effectManager;var h=a||r.buildSeriesLineContext(this._data,u,["color","color2","trellisColumn","trellisRow"]);var p=this.getSeriesStyle(i,h);if(this._seriesColorStyleMap){this._seriesColorStyleMap[i]=p}var d=this.runtime().propertyManager();var f=this._series[i].getDataPoints();var g={firstIdx:f[0]&&f[0].getDataPointId(),lastIdx:f[f.length-1]&&f[f.length-1].getDataPointId()};v.drawArea(e,t,i,s,c,h,l,p,this.isHorizontal(),d,g)};N.prototype.getSeriesStyle=function(e,t){var i=this._data.series.length-1-e;var a=this._semanticMgr;t=t||r.buildSeriesLineContext(this._data,i,["color","color2","trellisColumn","trellisRow"]);var o=a.analyzeSeriesStyle(t,"area");var n;if(o&&o.area&&o.area.color){n=o.area.color}else if(a.hasDataPointColorStyle()&&a.isOverrideMode()){n=a.getOthersStyle("color").properties.color}else{var l=r.getSeriesScaleInfo(this._data,i,["color"]);if(l){n=this._data[l.field].scale.scale(l.domain)}else{n=this._data.color.scale.getRange()[0]}}return{color:h.convertColor(n)}};N.prototype._hideNode=function(e,t){var i=e[t];if(i){o.remove(i.getNode());o.remove(i.getRefNode());i.setNode(null).setRefNode(null)}};N.prototype._showDataPoints=function(e){this._preShowDataPoints();var t=[];this._dataPointContext=[];this._seriesRenderer.resetDataPoints();var i;var a=this._data.color;if(a&&a.metaData){var r=c.checkMndStatus(a.metaData,a.rowArray);if(r.isOnlyOneMndValue){i=r.mndIndex}}var o=this.createSeriesIterator(this._series.length);var n=this._getVisibleRange();var l;while(o.hasNext()){var u=o.next();var h=this._series[u];if(!h){continue}var p=this._getDataPointRenderer(u);if(!p){continue}var d=h.getDataPoints();var f=this._getDataPointRange(d,n);this._hideDataPoints(d,f);for(var v=f.min;v<=f.max;v++){var g=d[v];if(!g){continue}var m=g.getRawData();var y=m.dp;var _=this._getDataPointPosition(g);if(!_){continue}var A=false;var b=g.getConfig();if(!b){A=true;var x=y&&y.context()?y.context():s.NULL_VALUE;b=this._buildWrapperConfig(m,_,x,{itemIndex:v})}this._dataPointContext.push(b);var S=g.getData();if(!S){A=true;var D=g.getId();S=this._buildData(b);g.init(b,D,S,y&&y.id?y.id:s.NULL_VALUE,i)}var w=g.getNode();var C=g.getRefNode();if(w){if(A){this._updateDatapoint(w,p,b,_);this._updateDatapointRefLine(C,b,_);t.push(w)}}else{l=this._drawDataPointWithRefLine(p,g);if(l){w=l.node;C=l.refNode;g.setNode(w).setRefNode(C);if(w){t.push(w)}}else{g.setNode(null).setRefNode(null)}}this._seriesRenderer.addDataPoint(o.index(),v,b,_,w,C)}}return t};N.prototype._getValueScaleHandlers=function(e){return[_.getValueScaleHandler("valueAxis",{isHorizontal:e})]};N.prototype._getCategoryScaleHandlers=function(){return[_.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:b.get(false),alignment:"center"})]};N.prototype._adjustPosition=function(e){if(this.isHorizontal()){e.x+=e.width}};N.prototype.drawAreaRefLine=function(e,t){var i=this._series[e];if(!i){return null}var a=i.getDataPoints()[t];if(!a){return null}var r=a.getConfig();if(r.ctx===s.NULL_VALUE){return null}var o=this._adjustDataPointPosition(a.getPosition());if(!o){return null}var n=y(r);n.setAttribute("class",O.AREA_REF_LINE);f.setDataId(n,a.getDataId());f.setDataPointId(n,a.getDataPointId());if(o.hasOwnProperty("x")&&o.hasOwnProperty("y")){var l="translate("+o.x+", "+o.y+")";n.setAttribute("transform",l)}a.setRefNode(n);this._seriesRenderer.addDataPointRefLine(e,t,n);return n};N.prototype._drawDataPointWithRefLine=function(e,t){var i=t.getConfig();if(i.ctx===s.NULL_VALUE){return null}var a=this._adjustDataPointPosition(t.getPosition());if(!a){return null}var r=n.create("g");f.setDataId(r,t.getDataId());f.setDataPointId(r,t.getDataPointId());l.setContext(r,t.getContext());l.setAdditionCtx(r,t.getAdditionCtx());l.setData(r,t.getData());r.setAttribute("class",R);var o=i.graphic.opacity;var u=null;if(o!==0){u=y(i);u.setAttribute("class",O.AREA_REF_LINE);f.setDataId(u,t.getDataId());f.setDataPointId(u,t.getDataPointId())}else{r.setAttribute("opacity",o)}if(a.hasOwnProperty("x")&&a.hasOwnProperty("y")){var c="translate("+a.x+", "+a.y+")";r.setAttribute("transform",c);if(u){u.setAttribute("transform",c)}}var h=this._applyDataPointRenderer(e,i);if(!h&&this._dataPointRenderer){h=this._dataPointRenderer(i)}r.appendChild(h);if(this._flipNegativeShape){var p=i.ctx[i.ctx.measureNames]<0;if(p){this._addNegativeClass(r,i)}}return{node:r,refNode:u}};N.prototype._adjustDataPointPosition=function(e){if(!e){return null}var t=this._realSize;var i=L+P/2;var a=e.x;var r=e.y;if(a<-1||r<-1||a>t.width+1||r>t.height+1){return{x:a,y:r}}if(a-i<0){a=i}else if(a+i>t.width){a=t.width-i}if(r-i<0){r=i}else if(r+i>t.height){r=t.height-i}return{x:a,y:r}};N.prototype._buildData=function(e){return{color:e.graphic.fill,position:e.position,trellisInfo:e.trellisInfo,opacity:e.graphic.opacity}};N.prototype._getSeries=function(){if(this._data.series){return this._data.series.slice().reverse()}else{return[]}};N.prototype._isEmptySeries=function(e){if(!e||e.length<=0){return true}for(var t=0;t<e.length;t++){if(e[t]){return false}}return true};N.prototype._fixSeriesForMulti=function(e){var t=e||this._data.series;var i,a,r,o;var n=t.length;var l;var s=[],u=[];for(a=0;a<n;a++){i=t[a];l=i.length;for(r=0;r<l;r++){s[r]=s[r]||[];if(i[r]){s[r][a]=i[r]}}}for(a=0;a<s.length;a++){o=s[a];if(o.length===0){u.push(a)}}for(a=0;a<n;a++){i=t[a];l=i.length;if(this._isEmptySeries(i)){continue}for(r=0;r<l;r++){var c=i.measureMeta[0];if(u.indexOf(r)>=0){continue}if(i[r]===undefined){i[r]={isNullValue:true};i[r][c]=0}}}};N.prototype.setData=function(e){N.superclass.setData.apply(this,arguments);this._fixSeriesForMulti()};N.prototype._updateDatapoint=function(e,t,i,a){N.superclass._updateDatapoint.apply(this,arguments);if(e&&a.hasOwnProperty("x")&&a.hasOwnProperty("y")&&a.hasOwnProperty("height")&&a.hasOwnProperty("width")){var r=l.getData(e);if(r&&r.position){r.position.x=a.x;r.position.y=a.y;r.position.height=a.height;r.position.width=a.width}}};N.prototype._updateDatapointRefLine=function(e,t,i){if(e&&i.hasOwnProperty("x")&&i.hasOwnProperty("y")){e.setAttribute("transform","translate("+i.x+", "+i.y+")");y.update(e,t)}};N.prototype._buildWrapperConfig=function(e,t,i){var a=N.superclass._buildWrapperConfig.apply(this,arguments);a.position=t;return a};N.prototype._getMinCategoryWidth=function(e){var t=!!this._options.inTrellis;var i=this._properties;if(e||t||i.get("isFixedDataPointSize")&&!i.origin.get("interaction.noninteractiveMode")){var a=t?I:E;var r=p.isMobile()?a.mobile.minWidth:a.desktop.minWidth;return r}else{return 0}};N.prototype.getSeriesIndex=function(e){return this._series.length-e._addr[1]-1};N.prototype.getPreferredSize=function(){return a.prototype.getPreferredSize.apply(this,arguments)};S.registerClazz("area",N);S.registerClazz("horizontal_area",N);D.register(["info/area","info/horizontal_area","info/trellis_area","info/trellis_horizontal_area","info/100_area","info/100_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],w);C.register(z.DATAPOINT_NAVIGATOR,z.AREA,T);return N});define("sap/viz/chart/components/datalabels/AreaPercentageDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/datalabels/AreaDataLabels","sap/viz/chart/components/util/PercentageDataLabelUtil"],function(e,t,i,a){var r=function(e,t,i){r.superclass.constructor.apply(this,arguments)};e.extend(r,i);r.prototype._getDataLabelInfo=function(e){var t=this._data&&this._data.rawData&&this._data.rawData.dataModel;return a.getDataLabelInfo(e,t)};r.prototype._buildDataLabelText=function(e,i,r,o,n){var l=i.value;if(l===0&&!this.drawZero(n)){return null}return t.buildDataLabelText(this._properties,e,i,r,o,a.getTypes,a.mergeDataLabels,null)};return r});define("sap/viz/chart/components/plots/PercentageAreaPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/AreaPlot","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/scales/ValueScale","sap/viz/chart/components/renderers/GridlineRenderer","sap/viz/chart/components/datalabels/AreaPercentageDataLabels","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/plots/XYPlotFactory"],function e(t,i,a,r,o,n,l,s,u,c){var h=function(e,t){h.superclass.constructor.apply(this,arguments)};t.extend(h,i);h.prototype._getDataHandler=function(){return{valueAxis:o.getStackHandler(false,true)}};h.prototype._drawGridlines=function(e){var t=this._realSize;var i=this.isHorizontal();var a=i?r.DIRECTION.VERTICAL:r.DIRECTION.HORIZONTAL;var o=this._properties.proxy("gridline");var s=i?[0,t.width]:[t.height,0];var u=new n([0,1],s);u.setTickHint(this._data.valueAxis.tickHint);l.drawValueGridline(e,t.width,t.height,u,o,a,this.runtime().effectManager())};h.prototype._getAxisPosition=function(e,t,i,a){var r=this._dataHandler;var o=this._data.valueAxis;var n=o.categorySum[i];var l;for(var s=0,u=e.length;s<u;s++){var c=e[s];if(a.hasOwnProperty(c.id)){if(a[c.id]<0&&n>0){l=0}else{l=a[c.id]}return c.scale(l,{index:i,seriesIndex:t,dataHandler:r[c.id]})}}return e[0].scale(null,{index:i,seriesIndex:t,rawData:a})};h.prototype._getPosition=function(e,t,i){var a=this._data.valueAxis;a.scale.total(a.categorySum[t]);return h.superclass._getPosition.apply(this,arguments)};h.prototype._buildWrapperConfig=function(e,t,i,a){var o=a&&a.itemIndex;var n=this._data.valueAxis;if(n.categorySum){n.scale.total(n.categorySum[o])}if(i){i.percentage=this._data.valueAxis.scale.scale(e.valueAxis)}var l=h.superclass._buildWrapperConfig.apply(this,arguments);if(e.valueAxis<0&&n.categorySum[o]>0){l.ctx=r.NULL_VALUE}return l};h.prototype._buildData=function(e,t,i,a,r){var o=h.superclass._buildData.apply(this,arguments);o.percentageValue=e.ctx.percentage;return o};h.prototype._getDataLabels=function(e,t){var i=u.extend({},this._options);i.name=e;return new s(t,i,this._seriesColorStyleMap)};c.registerClazz("100_area",h);c.registerClazz("100_horizontal_area",h);return h});define("sap/viz/chart/metadata/bindings/CombinationBindings",[],function e(){var t=[{id:"dataFrame",name:"IDS_DATA_FRAME",type:"Dimension",min:0,max:1,acceptMND:false,role:"frame.data"},{id:"trellisColumn",name:"IDS_TRELLIS_COLUMN",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.columnCategory"},{id:"trellisRow",name:"IDS_TRELLIS_ROW",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.rowCategory"},{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"layout.category"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:2,max:Number.POSITIVE_INFINITY,role:"layout.value"}];return t});define("sap/viz/chart/components/util/CombinationDataLabelUtil",["sap/viz/chart/components/util/DataPointUtils"],function e(t){var i={isIntersectedHelper:function(e,t,i,a){var r={};var o;var n=this.allowIntersectionCheck(a);for(o=0;o<i.length;o++){var l=this.allowIntersectionCheck(i[o]);if(n&&!l){var s=t[o];if(!(e.left>s.right||e.right<s.left||e.top>s.bottom||e.bottom<s.top)){r.intersected=true;break}}else if(!n&&l){var u=t[o];if(!(u.right<e.left||u.left>e.right||u.top>e.bottom||u.bottom<e.top)){r.hitPoint=true;break}}}return r}};return i});define("sap/viz/chart/components/datalabels/CombinationDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/ColumnDataLabels","sap/viz/chart/components/util/CombinationDataLabelUtil","sap/viz/chart/components/datalabels/LineDataLabels"],function(e,t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments);this.isHorizontal=false;this._labelPosition="up"};e.extend(o,i);o.prototype._computeDataLabelTranslate=function(e){var a;if(t.getData(e).type!=="line"){a=i.prototype._computeDataLabelTranslate}else{a=r.prototype._computeDataLabelTranslate}return a.apply(this,arguments)};o.prototype._computeDataLabelPosition=function(e,a,o,n,l,s){var u;if(t.getData(s).type!=="line"){u=i.prototype._computeDataLabelPosition}else{u=r.prototype._computeDataLabelPosition}return u.apply(this,arguments)};o.prototype.allowIntersectionCheck=function(e){return t.getData(e).type==="line"};o.prototype.intersectResult=function(e,t,i,r){return a.isIntersectedHelper.call(this,e,t,i,r)};o.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=true;if(!this.allowIntersectionCheck(t.dataPoint)){i=o.superclass.isDataLabelOutOfDataPoint.apply(this,arguments)}return i};return o});define("sap/viz/chart/components/datalabels/HCombinationDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/BarDataLabels","sap/viz/chart/components/util/CombinationDataLabelUtil","sap/viz/chart/components/datalabels/LineDataLabels","sap/viz/chart/components/datalabels/DataLabels"],function(e,t,i,a,r,o){var n=function(e,t){n.superclass.constructor.apply(this,arguments);this.isHorizontal=true;this._labelPosition="outside"};e.extend(n,i);n.prototype._computeDataLabelTranslate=function(e){var a;if(t.getData(e).type!=="line"){a=i.prototype}else{a=r.prototype}this._computeDataLabelPosition=a._computeDataLabelPosition;return a._computeDataLabelTranslate.apply(this,arguments)};n.prototype.allowIntersectionCheck=function(e){return t.getData(e).type==="line"};n.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=true;if(!this.allowIntersectionCheck(t.dataPoint)){i=n.prototype.isDataLabelOutOfDataPoint.apply(this,arguments)}return i};n.prototype.intersectResult=function(e,t,i,r){return a.isIntersectedHelper.call(this,e,t,i,r)};return n});define("sap/viz/chart/components/accessibility/CombinationDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator","sap/viz/chart/components/accessibility/ColumnDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator"],function(e,t,i,a){function r(e){r.superclass.constructor.apply(this,arguments);this._dataShapes=null;this._barSeries=[];this._lineSeries=[];this._barNavigator=null;this._lineNavigator=null;this._initSubComponent(e)}e.extend(r,t);var o=r.prototype;o._initSubComponent=function(e){if(this._series){this._setupSeriesTypeTable();for(var t=0;t<this._seriesTypeLookup.length;t++){if(this._seriesTypeLookup[t]===this._constants.BAR){this._barSeries.push(this._series[t]);this._lineSeries.push(undefined)}else{this._lineSeries.push(this._series[t])}}var r={isVerticalRender:e.isVerticalRender,dataModel:e.dataModel,series:this._barSeries,propertyManager:e.propertyManager};this._barNavigator=new i(r);var o={isVerticalRender:e.isVerticalRender,dataModel:e.dataModel,series:this._lineSeries,propertyManager:e.propertyManager};this._lineNavigator=new a(o)}};o.destroy=function(){r.superclass.destroy.apply(this,arguments);this._dataShapes=null;this._seriesTypeLookup=null;this._barSeries=null;this._lineSeries=null;if(this._lineNavigator){this._lineNavigator.destroy()}if(this._barNavigator){this._barNavigator.destroy()}this._lineNavigator=null;this._barNavigator=null};o.left=function(e){return this._DPRouter(e,this._constants.LEFT)};o.right=function(e){return this._DPRouter(e,this._constants.RIGHT)};o.up=function(e){return this._DPRouter(e,this._constants.UP)};o.down=function(e){return this._DPRouter(e,this._constants.DOWN)};o._DPRouter=function(e,t){var i=this.getDataPoint(e);if(i){var a=this._getSeriesType(i);if(this._isVerticalRender){if(t===this._constants.UP||t===this._constants.DOWN){i=this._getShortestDPInCategory(e,t)}}else{if(t===this._constants.LEFT||t===this._constants.RIGHT){i=this._getShortestDPInCategory(e,t)}}switch(a){case this._constants.LINE:if(this._isVerticalRender){if(t===this._constants.LEFT){i=this._lineNavigator.left(e)}else if(t===this._constants.RIGHT){i=this._lineNavigator.right(e)}}else{if(t===this._constants.UP){i=this._lineNavigator.up(e)}else if(t===this._constants.DOWN){i=this._lineNavigator.down(e)}}break;case this._constants.BAR:if(this._isVerticalRender){if(t===this._constants.LEFT){i=this._barNavigator.left(e)}else if(t===this._constants.RIGHT){i=this._barNavigator.right(e)}}else{if(t===this._constants.UP){i=this._barNavigator.up(e)}else if(t===this._constants.DOWN){i=this._barNavigator.down(e)}}break}}return i};o._getShortestDPInCategory=function(e,t){var i=this.getDataPoint(e);var a=null;var r=-1;var o=i.address();var n=o[0];if(!this._sortedDataPointsByDirection[n]){this.dataPointValueSortInCategory(n)}var l=this._sortedDataPointsByDirection[n].indexOf(i);if(t===this._constants.UP||t===this._constants.RIGHT){r=l+1}else if(t===this._constants.DOWN||t===this._constants.LEFT){r=l-1}if(r>-1&&r<this._sortedDataPointsByDirection[n].length){a=this._sortedDataPointsByDirection[n][r];if(this._seriesTypeLookup[i.address()[1]]===this._constants.BAR){var s=this._seriesTypeLookup[a.address()[1]];while(s!==this._constants.LINE){r+=t===this._constants.UP||t===this._constants.RIGHT?1:-1;if(r>this._sortedDataPointsByDirection[n].length||r<0){a=null;break}s=this._seriesTypeLookup[this._sortedDataPointsByDirection[n][r].address()[1]]}a=this._sortedDataPointsByDirection[n][r]}}return a};return r});define("sap/viz/chart/components/plots/CombinationPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/chart/components/plots/BaseLinePlot","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/chart/components/renderers/LineRenderer","sap/viz/chart/components/renderers/SmoothLineRenderer","sap/viz/chart/components/util/DrawUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/LineRendererUtil","sap/viz/chart/components/datalabels/CombinationDataLabels","sap/viz/chart/components/datalabels/HCombinationDataLabels","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/CombinationDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x){var S="line";var D="bar";var w=o.CSS.CLASS.DATAPOINT+" "+o.CSS.CLASS.MORPHABLEDATAPOINT+" "+o.CSS.CLASS.DATAPOINTDEFAULT;var C=function(e,t){this._isFlexibleStack=true;C.superclass.constructor.apply(this,arguments);this._markerPropName="line.marker";l.prototype._initCategoryAxis.call(this,s,u);var i=this.runtime().semanticManager();i.setUseSemanticDPLineStyle(true);this._attachMarkManager();this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));var a=t&&t.isDualValueAxis;if(a){this.dataShapeSecondaryAxisPW=this._properties.watch("dataShape.secondaryAxis",this._onDataShapeChange.bind(this))}this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._semanticMgr.setUseSemanticPattern(true);this._defaultLineRenderer=g.getDefaultRenderer(this._properties.get("line.isSmoothed"))};t.extend(C,n);C.prototype._isSupportBarPathGenerator=function(){return true};C.prototype._hideDataPoints=function(e,t){if(e[0]&&this._seriesType[e[0].getSeriesIndex()]===S){for(var i in e){if(e.hasOwnProperty(i)){this._hideNode(e,i)}}this._lightLineOutOfRange(e,t)}else{this._columnOutOfRange(e,t)}};C.prototype.destroy=function(){if(this.dataShapePrimaryAxisPW){this.dataShapePrimaryAxisPW.remove();this.dataShapePrimaryAxisPW=null}if(this.dataShapeSecondaryAxisPW){this.dataShapeSecondaryAxisPW.remove();this.dataShapeSecondaryAxisPW=null}this.lineMarkerShapePW.remove();this.lineMarkerShapePW=null;C.superclass.destroy.call(this);this._barCategoryAxis=null;this._categoryScaleHandler=null;this._realSize=null;this._measureIndex=null;this._markerD=null;this._seriesType=null};C.prototype._attachMarkManager=function(){var e=this.runtime().markManager();var t=this._properties.get("dataShape.primaryAxis");var i=this._getMarkerShape();var a=this._properties.parentLevel;var r=[];e.lock();e.setMode("combination");var o=[];r.push(C.processMark.call(this,t,i,a));o.push(t);if(this._options&&this._options.isDualValueAxis){var n=this._properties.get("dataShape.secondaryAxis");r.push(C.processMark.call(this,n,i,a));o.push(n)}e.setShape(r,i);e.setSeriesShape(o)};C.processMark=function(e,t,i){var a=[];if(!e||!e.length){return a}for(var r=0;r<e.length;r++){if(e[r]===S){a.push(t)}else{var o=this._getLegendMarkerShape();a.push(o)}}return a};C.prototype._onDataShapeChange=function(){this._attachMarkManager()};C.prototype._getCategoryScaleHandlers=function(e){return[s.getCategoryScaleHandler("categoryAxis",{isHorizontal:e,itemScaleHandler:u.get(false),alignment:"center"})]};C.prototype._getSeriesRenderer=function(){return new c(this._drawLine.bind(this),this._updateLine.bind(this))};C.prototype._applyChanges=function(){C.superclass._applyChanges.apply(this,arguments);l.prototype._initBarCategoryAxis.apply(this,arguments)};C.prototype._adjustPosition=function(e,t){var i=this._getDataShape(t)===S;if(!i){C.superclass._adjustPosition.apply(this,arguments)}};C.prototype._preRender=function(){C.superclass._preRender.apply(this,arguments);var e=this._data.series.length;this._measureIndex=[];var t=0;for(var i=0;i<e;i++){var a=this._getDataShape(i);if(a===D){this._measureIndex[i]=t;t++}}};C.prototype._getDataShape=function(e){var t=this._data.series[e];var i=null;for(var a=0;a<t.length;a++){i=t[a];if(i){break}}if(i){var r=i.hasOwnProperty("valueAxis")?"dataShape.primaryAxis":"dataShape.secondaryAxis";var o=this._properties.get(r);if(!(o instanceof Array)){o=this._properties.get(r,"defaultValue")}var n;if(i.color){n=i.color.mndIndex}else if(i.color2){n=i.color2.mndIndex}else{n=-1}if(o[n]!==S&&o[n]!==D){o[n]=S}return o[n]}return S};C.prototype._getXPosition=function(e,t,i){var a=this._getDataShape(e)===S;if(this.isHorizontal()){var r=C.superclass._getXPosition.apply(this,arguments);if(a){return[r[0]+r[1],r[1]]}else{return r}}else{if(a){return C.superclass._getXPosition.apply(this,arguments)}else{e=this._measureIndex[e];return this._getAxisPosition([this._barCategoryAxis],e,t,i)}}};C.prototype._getYPosition=function(e,t,i){var a=this._getDataShape(e)===S;if(!this.isHorizontal()){var r=C.superclass._getYPosition.apply(this,arguments);return r}else{if(a){return C.superclass._getYPosition.apply(this,arguments)}else{e=this._measureIndex[e];return this._getAxisPosition([this._barCategoryAxis],e,t,i)}}};C.prototype.getLineRenderer=function(){if(!this._lineRenderer){var e=this._properties;this._lineRenderer=g.getRenderer(e.get("line.lineRenderer"),e.get("line.isSmoothed"))}return this._lineRenderer};C.prototype._isLineVisible=function(){return this._properties.get("line.visible")};C.prototype._getPatternConfig=n.prototype._getPatternConfig;C.prototype._drawLine=function(e,t,i,a){if(this._getDataShape(i)!==S){return 0}C.superclass._drawLine.apply(this,arguments);return 1};C.prototype._updateDatapoint=function(e,t,i,a){C.superclass._updateDatapoint.apply(this,arguments);if(a.hasOwnProperty("x")&&a.hasOwnProperty("y")){var o=r.getData(e).translate;if(o){o[0]=a.x;o[1]=a.y}}if(e.getAttribute("combination-column")){this._updateStrokeWidth(e)}};C.prototype._buildConfig=function(e,t,i){var a=C.superclass._buildConfig.apply(this,arguments);a.graphic.d=this._markerD;if(!this._properties.get("line.marker.visible")){a.graphic.opacity=0}return a};C.prototype._getDataPointRenderer=function(e){var t;if(this._getDataShape(e)===S){this._isLineMarker=true;t=this._customMarkerRenderer||h}else{this._isLineMarker=false;t=C.superclass._getDataPointRenderer.apply(this,arguments)}return t};C.prototype._getDataLabels=function(e,t){var i=a.extend({},this._options);i.name=e;if(i.isHorizontal){return new y(t,i)}else{return new m(t,i)}};C.prototype._getColumnCount=function(){var e=this._data.series.length;var t=0;for(var i=0;i<e;i++){if(this._getDataShape(i)==D){t++;this._seriesType[i]=D}else{this._seriesType[i]=S}}return t};C.prototype._drawDataPoint=function(e,t){var a=t.getConfig();var o=i.create("g");v.setDataId(o,t.getDataId());v.setDataPointId(o,t.getDataPointId());r.setContext(o,t.getContext());r.setAdditionCtx(o,t.getAdditionCtx());var n=t.getData();n.seriesIndex=t.getSeriesIndex();n.itemIndex=t.getItemIndex();if(this._isLineMarker){n.shape=this._properties.get("line.marker.shape")}o.setAttribute("class",w);if(this._isLineMarker===true){o.setAttribute("combination-marker","true")}else{o.setAttribute("combination-column","true")}a["isLineMarker"]=this._isLineMarker;var l=this._renderNode(e,a,o,n);var s=this._drawShadowNode(a.graphic,o,l,n,e);delete a["isLineMarker"];r.setData(o,n);var u=t.getPosition();if(u.hasOwnProperty("x")&&u.hasOwnProperty("y")){o.setAttribute("transform","translate("+u.x+", "+u.y+")")}var c=a.ctx[a.ctx.measureNames]<0;if(c&&!this._isLineMarker){this._addNegativeClass(o,a)}return o};C.prototype._isNeedSimplifyLine=function(){return false};C.prototype.getSeriesStyle=function(e,t){var i=C.superclass.getSeriesStyle.apply(this,arguments);i.isCombination=true;return i};_.registerClazz("combination",C);_.registerClazz("horizontal_combination",C);A.register(x.DATAPOINT_NAVIGATOR,x.COLUMN_COMBINATION,b);return C});define("sap/viz/chart/components/legend/SizeLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/BaseLegend","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/lang/LangManager"],function(e,t,i,a,r,o,n,l,s){function u(e,t){u.superclass.constructor.apply(this,arguments);var i=this._properties.get("label.style");this._labelFont={fontfamily:i.fontFamily,fontsize:i.fontSize,fontweight:i.fontWeight,color:i.color,fontstyle:i.fontStyle};this._layoutInfo={guideLineWidth:10,labelPaddingLeft:15};this._labels=[];this._scale=null;this._semanticStyle=null;this._labelHeight=0;this._parent=null;this._type="SizeLegend"}e.extend(u,t);u.prototype._addDefaultProperties=function(){u.superclass._addDefaultProperties.call(this);this._properties.add({drawingEffect:"normal",formatString:null,unitFormatType:null,inGeo:false,plotArea:{colorPalette:null}})};u.prototype.visible=function(){var e=true;if(this.getPosition()==="bottom"&&this._properties.origin.get("legendGroup.layout.position")==="auto"){e=false}else{e=u.superclass.visible.call(this)}return e};u.prototype.render=function(e,t){this._parent=e;if(this._scale&&this._labels.length>0){u.superclass.render.apply(this,arguments)}if(!this.isVisible()&&!this._isDedicated){e.selectAll("g.v-content").remove();return this}var o=this._properties.get();var n=o.drawingEffect;if(this._scale&&this._labels.length>0){var s=e.selectAll("g.v-content").data(["content"]);s.enter().append("g").classed("v-content",true).classed("v-label",true).classed("viz-legend-valueLabel",true);s.exit().remove();s.attr("transform","translate(0, "+this._pos.y+")");var c=parseInt(this._labelFont.fontsize,10);var h=[],p="font-size:"+this._labelFont.fontsize+"; font-weight:"+this._labelFont.fontweight+"; font-family:"+this._labelFont.fontfamily+"; font-style:"+this._labelFont.fontstyle;if(this._labelHeight===0){this._labelHeight=i.fastMeasure("M",this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).height}var d=Math.floor((this._scale(this._labels[0])+c)/this._labelHeight);switch(d){case 0:case 1:h.push(this._labels[0]);break;case 2:h.push(this._labels[0]);if(this._labels.length>1){h.push(this._labels[this._labels.length-1])}break;default:h=this._labels}var f=[],v=-1,g,m;for(var y=0,_=h.length;y<_;y++){f.push(this._scale(h[y])/2);m=this._getLabelValue(h[y]);g=i.fastMeasure(m,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).width;if(g>v){v=g}}var A=f[0];var b=s;var x=b.selectAll("g.v-circles");if(!x.empty()){x.remove()}x=b.append("g").attr("class","v-circles").data([f]);x.attr("transform","translate("+A+","+(A+c/2)+")");var S;var D=this._properties.origin.get("plotArea.colorPalette");if(D&&D.length&&D.length>0){S=l.convertColor(D[0])}else{S="#748CB2"}var w=true;if(!w&&this._semanticStyle&&!r.isEmptyObject(this._semanticStyle)){if(this._semanticStyle.others&&this._semanticStyle.others.properties&&this._semanticStyle.others.properties.color){S=this._semanticStyle.others.properties.color}}var C={drawingEffect:n,graphType:"circle",fillColor:S};var T=this.runtime().effectManager().register(C);var z=x.selectAll("path").data(f,function(e,t){return e});z.exit().remove();z.enter().append("path").attr("stroke","white").attr("stroke-width",1).attr("fill",T).attr("opacity","1").attr("fill-opacity","0.85");z.attr("d",function(e,t){return a.createMarkerData({type:"circle",borderWidth:0,rx:e,ry:e})}).attr("transform",function(e,t){return["translate(",0,",",A-e,")"].join("")});var L=b.selectAll("g.v-valueLabels");if(L.empty()){L=b.append("g").attr("class","v-valueLabels").data([h])}var P=A*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+v>this._sizeLA_width?this._sizeLA_width:A*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+v;L.attr("transform","translate("+P+", "+(A+c)+")");var k=L.selectAll("text").data(h,function(e,t){return e});k.exit().remove();var E=k.enter().append("text");var I=null;var O=this.runtime().envManager();if(O){I=O.textAnchor()}var R=this;k.text(function(e,t){return R._getLabelValue(e)}).attr("dx",function(e){var t=i.fastMeasure(R._getLabelValue(e),R._labelFont.fontsize,R._labelFont.fontweight,R._labelFont.fontfamily).width;return-t}).attr("dy",function(e,t){var i=(t-1)*A-2;if(h.length===2&&t===1){i=A-2}return i}).attr("text-anchor",I);var N=b.selectAll("g.v-guideLines");if(!N.empty()){N.remove()}N=b.append("g").attr("class","v-guideLines").attr("transform","translate("+A+","+(A+c/2)+")");if(h.length>0){N.append("path").attr("stroke","gray").attr("d","M 0 "+-A+" L "+(A+this._layoutInfo.guideLineWidth)+" "+-A)}if(h.length>1){N.append("path").attr("stroke","gray").attr("d","M 0 "+A+"L"+(A+this._layoutInfo.guideLineWidth)+" "+A)}if(h.length>2){N.append("path").attr("stroke","gray").attr("d","M 0 "+(A-f[1])+" L "+A+" 0"+" M "+A+" 0 "+" L "+(A+this._layoutInfo.guideLineWidth)+" 0")}b.attr("font-family",this._labelFont.fontfamily).attr("font-size",this._labelFont.fontsize).attr("font-weight",this._labelFont.fontweight).attr("fill",this._labelFont.color).attr("font-style",this._labelFont.fontstyle)}return this};u.prototype.hasData=function(){return this._scale&&this._labels.length>0};u.prototype._getBodyPreferredSize=function(){this._setupThemeStyleDef();var e=0,t=0,a=0,r=0;var o=this._properties.get();var n=o.position;if(this._scale&&this._labels.length>0){var l=this._labels,s,u=[],c=-1,h,p,d;for(p=0,d=l.length;p<d;p++){s=this._getLabelValue(l[p]);u[p]=i.fastMeasure(s,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily);if(u[p]===undefined||u[p].width>c){c=u[p].width}}var f=c+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth;h=this._scale(l[0]);t=h+u[d-1].height;e=h+f;a=e;r=t;if(!o.inGeo){if(n==="top"||n==="bottom"){e=e+u[d-1].height;a=a+u[d-1].height}else{t=t+u[d-1].height;r=t}}}return{maxWidth:e,maxHeight:t,minWidth:a,minHeight:r}};u.prototype.setData=function(e){if(!e){return}if(e.bubbleWidth){this._bindingFields=e.bubbleWidth.metaData}this._labels=e.labels;this._scale=e.scale;this._semanticStyle=e.semanticStyle};u.prototype._setupThemeStyleDef=function(){u.superclass._setupThemeStyleDef.apply(this,arguments);var e=this._properties.get();var t;t={fill:e.label.style.color,"font-family":e.label.style.fontFamily,"font-size":e.label.style.fontSize,"font-weight":e.label.style.fontWeight,"font-style":e.label.style.fontStyle};if(t){if(t["fill"]){this._labelFont.color=t["fill"]}if(t["font-family"]){this._labelFont.fontfamily=t["font-family"]}if(t["font-size"]){this._labelFont.fontsize=t["font-size"]}if(t["font-weight"]){this._labelFont.fontweight=t["font-weight"]}if(t["font-style"]){this._labelFont.fontstyle=t["font-style"]}}};u.prototype._getLabelValue=function(e){e=e===null?s.get("IDS_ISNOVALUE"):e;var t=this._properties.get();var i=null;if(this._bindingFields&&this._bindingFields.length){i=this._bindingFields[0].formatString;if(r.isArray(i)){i=i[0]}}var a=t.unitFormatType;var n={decimalFormatString:o.getDecimalFormatString(o.SUPPORT_CUSTOM_COMPONENTS.SIZELEGEND)};e=o.format(e,t.formatString||i,a,n);return e};u.prototype.getZonePrefix=function(){return"sizeLegend"};u.prototype.destroy=function(){u.superclass.destroy.call(this);this._labelFont=null;this._layoutInfo=null;this._labels=null;this._scale=null;this._semanticStyle=null;this._labelHeight=null;this._parent=null;this._type=null};return u});define("sap/viz/chart/scales/TimeScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.TimeScale"};e.extend(o,t);o.prototype.scale=function(e){this._ensureScaled();var t=e;if(t){if(i.isArray(t)){t=t[0]}t=a.getDimensionParsedValue(t)}if(this._domain[0]===this._domain[1]&&t!==this._domain[0]){return t<this._domain[0]?-Infinity:Infinity}return this._scale(t)};o.prototype.normalizeValue=function(e){return r.createDateInstance(e).getTime()};o.prototype.destroy=function(){o.superclass.destroy.apply(this,arguments)};return o});define("sap/viz/chart/components/renderers/ValueBasedColorRenderer",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/TypeUtils"],function(e,t,i){var a={};a.cleanVBCAxisLines=function(t){var i=e.CSS.CLASS.AXIS.VBCLINE;t.selectAll("."+i).remove()};a.drawVBCAxis=function(a,r,o,n,l,s){var u=e.CSS.CLASS.AXIS.VBCLINE;var c=3;var h=l.get("axisLine.size");if(!i.isNumber(h)){h=1}var p=h/2+c/2;var d=s.register({fillColor:t.convertColor(n)});var f=a.append("line").style("pointer-events","none").attr("class",u).attr("shape-rendering","crispEdges");f.attr("stroke",d).attr("stroke-width",c).attr("x1",r).attr("y1",p).attr("x2",o).attr("y2",p);return f};return a});define("sap/viz/chart/components/axis/renderer/TimeBodyRenderer",["sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/chart/components/util/DataPointUtils"],function(e,t,i,a,r,o,n,l,s,u,c){var h=11;var p=e.CSS.CLASS.AXIS;var d="v-label-interaction";var f=5;var v=10;var g=2;var m={minTicksCount:1};m.drawTicks=function(t,i,a,r,o,n,l,s,u){var c=p.PERIMETER+" "+p.TICK;var h=s.register({fillColor:l||n.get("color")});var d=n.get("axisLine.size");var g=0;var m=i.length;var y=[];var _=[];var A=[];var b=[];var x;var S;var D=i.offset||0;switch(o){case e.POSITION.LEFT:for(;g<m;++g){x=i[g];S=x.major?v:f;y[g]=a;_[g]=x.position-D;A[g]=a-f;b[g]=x.position-D}break;case e.POSITION.RIGHT:for(;g<m;++g){x=i[g];S=x.major?v:f;y[g]=0;_[g]=x.position-D;A[g]=S;b[g]=x.position-D}break;case e.POSITION.TOP:for(;g<m;++g){x=i[g];S=x.major?v:f;y[g]=x.position-D;_[g]=r;A[g]=x.position-D;b[g]=r-S}break;case e.POSITION.BOTTOM:for(;g<m;++g){x=i[g];S=x.major?v:f;y[g]=x.position-D;_[g]=0;A[g]=x.position-D;b[g]=S}break}var w=t.selectAll("."+p.TICK).data(i);w.enter().append("line").attr("class",c).attr("stroke-width",d).attr("shape-rendering","crispEdges");w.exit().remove();w.each(function(e,t){this.setAttribute("x1",y[t]);this.setAttribute("y1",_[t]);this.setAttribute("x2",A[t]);this.setAttribute("y2",b[t]);this.setAttribute("stroke",h)})};m.drawLabels=function(i,r,o,n,l,f,v,m,_,A){var b=u.hasFiscalLevel(f&&f.origin);var x=i._labelGroupNode;var S=i._data;var D=p.LABEL+" "+p.MORPHABLE_LABEL+" "+p.LABEL_BACKWORD;var w=f.get("label.style");var C=t.getTextBaselineOffset(w);var T=v.register({fillColor:w.color});var z=v.register({fillColor:w.parentColor});var L=w.fontSize;var P=w.fontWeight;var k=w.fontFamily;var E=w.fontStyle;var I=null;var O=i.runtime().envManager();if(O){I=O.textAnchor()}x.selectAll("."+d).remove();x.selectAll(".v-label-upperLevel").remove();var R=x.selectAll("."+p.LABEL).data(r);R.enter().append("g").each(function(){this.setAttribute("class",D);this.setAttribute("fill",T);this.setAttribute("font-size",L);this.setAttribute("font-weight",P);this.setAttribute("font-family",k);this.setAttribute("font-style",E);this.setAttribute("pointer-events","none");this.setAttribute("text-anchor",I)});R.exit().remove();var N=l===e.POSITION.TOP;var M=r.offset||0;var B=i.isForceCategoryForMinLevel(A,_);R.each(function(e){var l=e.layers;var u=l.length;var f=d3.select(this);if(u){var v=x.insert("g","."+p.LABEL).attr("class",d);var A=v.append("g").attr("class",p.LABEL_SELECTION_TIMEAXIS).node();var S,D=l[0];var w=b&&_===1&&r.isOverlappedLabelHide&&l.length===1;if(_===1&&D.text&&!w){S=a.create("rect");S.setAttribute("class",p.BACKGROUND_RECT);S.setAttribute("fill","transparent");A.appendChild(S)}var T=this.querySelector(".v-label-baseLevel");if(!T){T=a.create("text");T.setAttribute("class","v-label-baseLevel");this.appendChild(T)}A.setAttribute("timelabel-id",D.id);c.setContext(A,D);var E=N?n-h-C:h+D.height-C;y(T,D,z);T.setAttribute("x",D.left-M);T.setAttribute("y",E);T.setAttribute("timelabel-id",D.id);var I,O;if(_===1&&D.text&&!w){if(m==="CONTINUOUS"||B){I=D.left-g-M;O=D.width+2*g;var R=t.fastMeasure(D.text,L,P,k);S.setAttribute("x",I);S.setAttribute("y",E+R.y-g);S.setAttribute("width",O);S.setAttribute("height",D.height+2*g)}else if(D.hasOwnProperty("rectX")){I=D.rectX-M;S.setAttribute("x",I);S.setAttribute("y",1);O=D.rectWidth;if(I>o){O=0}else if(I+O>o){O=o-I}S.setAttribute("width",O);S.setAttribute("height",E+g)}}var V=v.selectAll("."+p.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL).data(l.slice(1),function(e){return e.level});V.enter().insert("g","."+p.LABEL_SELECTION_TIMEAXIS).each(function(e){this.setAttribute("class",p.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL)}).sort(function(e,t){if(e.level&&t.level){return s.levelComparator.bind(i)(t.level,e.level)}return false});V.exit().remove();var F=this;V.each(function(e,t){this.setAttribute("timelabel-id",e.id);D=l[t+1];E=N?n-h-C:h+e.height-C;var i=e.height*(t+1)*(N?-1:1);var r=this.querySelector("."+p.BACKGROUND_RECT);if(D.hasOwnProperty("rectX")){r=a.create("rect");r.setAttribute("class",p.BACKGROUND_RECT);r.setAttribute("fill","transparent");this.appendChild(r);I=D.rectX-M;O=D.rectWidth?D.rectWidth:D.width+g;if(I<0){O=Math.max(0,O+I);I=-1}if(I>o){O=0}else if(I+O>o){O=o-I}r.setAttribute("x",I);r.setAttribute("y",E+e.height*t*(N?-1:1)+3);r.setAttribute("width",O);r.setAttribute("height",e.height)}var s=F.querySelector(".v-label-upperLevel:nth-child("+(t+2)+")");if(!s){s=a.create("text");s.setAttribute("class","v-label-upperLevel");F.appendChild(s)}y(s,e,z);s.setAttribute("timelabel-id",D.id);s.setAttribute("fill",z);s.setAttribute("x",e.left-M);s.setAttribute("y",E+i)})}else{f.selectAll(".v-label-baseLevel").remove();f.selectAll(".v-label-upperLevel").remove()}})};function y(e,t,i){var o=t.text;var n=t.format;var l="{{";var s="}}";if(!o){e.textContent="";return}r.empty(e);if(n.indexOf(l)<0||n.indexOf(s)<0){e.textContent=o;return}var u=0;var c;var h;var p=0;var d=[];var f=[];var v=0;while(u<o.length){c=o.indexOf(l,u);h=o.indexOf(s,u);if(c<0&&h<0){d.push(o.slice(v));f.push(0);break}if(c>=0&&(c<h||h<0)){if(p===0){d.push(o.slice(v,c));f.push(0);v=c+l.length}u=c+l.length;++p}else{if(p>0){--p;if(p===0){d.push(o.slice(v,h));f.push(1);v=h+s.length}}u=h+s.length}}d.forEach(function(t,r){var o=a.create("tspan");o.textContent=t;if(f[r]){o.setAttribute("fill",i)}e.appendChild(o)})}return m});define("sap/viz/chart/components/axis/sub/TimeAxisCommon",["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o){var n="KEEP_FIRST";var l="KEEP_LONGER";var s=Math.floor;var u=Math.ceil;var c=Math.max;var h=Math.min;var p=1;var d=1<<2;var f="formatString";var v="visible";var g="row";var m=4;var y=["day","second"];var _={day:"month",second:"minute"};var A=e.levelComparator;function b(t,i){return function(a,r,o,n,l,s,u,c){if(r===o){return[r]}var h=this.hasOwnProperty("align")?this.align:true;var p=n&&m;return e[t](r,o,this.step,p,h,l,s,a,u,i,c)}}function x(t){var i=e.createDateInstance(t.start);var a=e.createDateInstance(t.end);if(t.utc){return i.getUTCFullYear()===a.getUTCFullYear()}return i.getFullYear()===a.getFullYear()}function S(t){var i=e.createDateInstance(t.start);var a=e.createDateInstance(t.end);if(t.utc){return i.getUTCFullYear()===a.getUTCFullYear()&&i.getUTCMonth()===a.getUTCMonth()}return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function D(e){return function(t){return!e(t)}}var w="YearMonthDay";var C="YearQuarter";var T="YearMonth";var z={};z[w]=["day","year"];z[C]=["quarter","year"];z[T]=["month","year"];function L(t,i,r,o,n,l,s){l=l||n.scale(i);var u=true;if(y.indexOf(t)===-1||!a.isExist(r)){if(I(l,n)){u=false}}else{s=s||n.scale(r);var c=e.createDateInstance(i);var h=e.getTimeTable(c);var p=h[t];var d=_[t];var f=n.timeBodyCtx.levelDict[d].same(c,r,o,n.weekConfig);if(t==="day"&&p===1||p===0){u=false}else if(!f){u=false}else if(!I(s,n)&&I(l,n)){u=false}}return u}var P={hourminutesecond:{},hourminute:{},monthday:{},yearmonthday:{},yearquarter:{},yearmonth:{}};var k=function(e,t){e.forEach(function(e){e.density=E(e.name,e.step,t);e.values=e.values||t[e.name].values})};function E(t,i,a){var r=e.ONE_YEAR*2/(i*a[t].period);return r>=1?s(r):r}function I(e,t){if(!a.isExist(e)){return false}if(!t||!t.scale){return true}var i=t.scale.invert(e);return O(i,t)}function O(e,t){if(!a.isExist(e)){return false}if(!t||!t.limit){return true}if(t.limit.length===4){return t.limit[2]<=e&&e<=t.limit[3]}else if(t.limit.length===2){return t.limit[0]<=e&&e<=t.limit[1]}return false}function R(e,t,i,r){var o=i[e]&&i[e].hasOwnProperty(v)?i[e][v]:r.timeBodyCtx.levelDict[e].visible;if(a.isFunction(o)){return o(t.slice())}return o}function N(e,t){if(!e){return false}for(var i=0;i<e.layers.length;i++){var a=e.layers[i];if(!I(a.left)){return false}}return true}function M(t,i,a,r){var n={};var l=o.extend(true,[],e.normalizeLevels(i.levels,r));if(a){a=e.normalizeLevelName(a);if(a&&l.indexOf(a)===-1){l.push(a);l.sort(A.bind(r))}}var s=[];var u;if(l.indexOf("second")>=0){u=l.indexOf("minute");if(u>=0){l.splice(u,1)}u=l.indexOf("hour");if(u>=0){l.splice(u,1)}}else if(l.indexOf("minute")>=0){u=l.indexOf("hour");if(u>=0){l.splice(u,1)}}if(l.indexOf("day")>=0){u=l.indexOf("month");if(u>=0){l.splice(u,1)}}if(["second","minute","hour"].indexOf(l[0])>=0){s[0]=l[0];l.splice(0,1)}var c;var h;var p=V(null,null);var d=[];var f=[];var v;if(s.length>0){s.forEach(function(e){c=B(t,e,s,null);h=F(null,true);v=H(c,p,i,h);f.push(v.text)})}if(l.length>0){var g=q(l);v=null;if(g.length>0){c=B(t,g[0].pattern,l,null);h=F(true,true);v=H(c,p,i,h)}if(!v){h=F(false,true);l.forEach(function(e){c=B(t,e,l,null);v=H(c,p,i,h);d.push(v.text)})}else{d.push(v.text)}}v=[U(d,i),U(f,i)];return v}function B(e,t,i,a){return{value:e,levelName:t,labelLevels:i,position:a}}function V(e,t){return{prevValue:e,prevPosition:t}}function F(e,t){return{isCombination:e,isForcedFullFormat:t}}function H(t,i,o,n){var l=t.value;var s=t.levelName;var u=t.labelLevels;var c=t.position;var h=i&&i.prevValue;var p=i&&i.prevPosition;var d=n&&n.isCombination;var v=n&&n.isForcedFullFormat;var g=o.config;var m=o.combinationConfig;var y=o.utc;var _=e.createDateInstance(l);if(y){_.setUTCMilliseconds(0)}else{_.setMilliseconds(0)}var A=g&&g[s]?g[s][f]:null;var b=o.timeBodyCtx.levelDict[s]&&o.timeBodyCtx.levelDict[s].format;var x;var S;if([T,C,w].indexOf(s)>-1){var D=String(s).toLowerCase();b=P[D]&&P[D].format;if(s===T&&m.yearmonth){A=m.yearmonth[f]}else if(s===C&&m.yearquarter){A=m.yearquarter[f]}else if(s===w&&m.yearmonthday){A=m.yearmonthday[f]}if(!b&&!A){x=r.format(_,s,y);if(x===r.DEFAULT_FORMATTED_VALUE){return undefined}}}if(s==="day"&&m.monthday){if(!L("day",l,h,y,o,c,p)){if(!d){A=m.monthday[f]}}}else if(s==="minute"&&m.hourminute){A=m.hourminute[f]}else if(s==="second"&&m.hourminutesecond){if(!L("second",l,h,y,o,c,p)){A=m.hourminutesecond[f]}}if(a.isFunction(A)){S=A(l,h,y,u.slice());if(S){x={format:A,text:S}}}else if(a.isString(A)){S=r.format(_,A,y);if(S){if(S instanceof Date){S=A}x={format:A,text:S}}}if(!x){if(a.isString(b)){S=r.format(_,b,y);if(S instanceof Date){S=b}x={format:b,text:S}}else if(a.isFunction(b)){var z=b(l,h,y,u,o,c,p,v);if(a.isPlainObject(z)){x=z}else{x={format:b,text:z}}}}if(a.isString(x)){x={text:x}}x.text=a.isNumber(x.text)?x.text.toString():x.text;return x}function U(e,t){return e.join(t.levelLabelSeparator)}function W(e,a){e=e.replace(/\{\{|\}\}/g,"");var r=t.canvasMeasure(e,a.fontSize,a.fontWeight,a.fontFamily);return i.preciseObject(r)}function G(e,t){var i=K.apply(null,arguments);Q(i,t);return i}function Y(e,t,i,a){var r=K(e,t,i,a,undefined,true);Q(r,t);return r}function X(e,t,i,a){var r=t.labels;var o=t.labels.offset;var n;var l;var s;var u=true;var c=Infinity;var h=Infinity;var p=Infinity;var d=Infinity;for(s=r.length-1;s>=0;s--){if(r[s].isFirstData){n=ae(r[s],r[s+1],i.labelMargin);if(n){c=s+1}l=ae(r[s],r[s-1],i.labelMargin);if(l){h=s-1}}else if(r[s].isLastData){n=ae(r[s],r[s+1],i.labelMargin);if(n){p=s+1}l=ae(r[s],r[s-1],i.labelMargin);if(l){d=s-1}}}u=false;if(p!==Infinity){r.splice(p,1);u=true}if(d!==Infinity){r.splice(d,1);u=true}if(c!==Infinity&&c<Math.min(d,p)){r.splice(c,1);u=true}if(h!==Infinity&&h<Math.min(d,p)){r.splice(h,1);u=true}if(u||a){var f=[];for(s=0;s<r.length;s++){f.push(r[s].value)}r=Y(e,i,0,f);if(r.length>=t.labels.length){u=false}t.labels=r;t.labels.offset=o}return u}function j(e,t){var i,a;var r=t.levels.indexOf(e.name);if(r>=0){i=t.levels.slice(r);a=t.levels}else{i=[e.name].concat(t.levels).sort(A.bind(t.timeBodyCtx));a=i.slice();i=i.slice(i.indexOf(e.name))}var o=t.config;var n=[[]];var l;for(var u=0;u<i.length;++u){var c=i[u];if(R(c,i,o,t)){var h=s(o[c]&&o[c][g]);if(h>=1){h=h>t.maxLayerCount?t.maxLayerCount:h}else if(u===0){h=1}else{h=2}l=n[h-1]=n[h-1]||[];l.push(c)}}if(!n[0].length){n=n.slice(1)}return[i,a,n]}function Z(t,i,a,r,o){var n=t;if(i==="week"&&A.bind(o.timeBodyCtx)(a,"week")>0&&e.getWeek(t,r,o.weekConfig)===1){n=t+e.ONE_WEEK}return n}function q(e){var t=[];if(z){var i=Object.keys(z);i.forEach(function(i){var a={startIdx:-1,endIdx:-1,pattern:""};var r=z[i];var o=0;var n=r.length;var l=false;var s=-1;for(var u=0;u<e.length;u++){if(e[u]!==r[o]){if(l){break}continue}else{l=true;if(s<0){s=u}o++;if(o===n){a.startIdx=s;a.endIdx=s+n-1;a.pattern=i;t.push(a);break}}}})}return t}function K(t,i,r,o,n,l){if(o&&n&&o.length!==n.length){return null}var s=!!n;n=n||[];var u=a.isSet(r,p);var c=a.isSet(r,d)?i.intervalPivot:null;o=o||t.values(i.utc,i.start,i.end,u,i.limit,c,i.categoryLook,i.weekConfig);var h=-1;var f=-1;var v;if(l){v=ue(o,t.name,i);h=v.firstDataIndex;f=v.lastDataIndex}var g,m,y;var _,A,b,x;var S,D,C;var T=i.utc;var z=i.weekConfig;var L=j(t,i);var P=L[0];var k=L[1];var E=L[2];var R=t.name;for(g=0;g<o.length;++g){if(O(o[g],i)){if(g>1){o=o.slice(g-1);if(l){h=h>=g-1?h-(g-1):-1;f=f>=g-1?f-(g-1):-1}}break}}var N=[];for(g=0;g<o.length;++g){_=o[g];A=o[g-1];b={value:_,layers:[]};var M=n[g];var G=n[g-1];for(m=0;m<E.length;++m){S=E[m]||[];var Y=[];var X=[];var K=null;for(y=0;y<S.length;++y){D=S[y];if(!K){K=D}else{if(e.levelComparator.bind(i.timeBodyCtx)(D,K)<0){K=D}}var Q;C=Z(_,R,D,T,i);var $=B(C,D,P,M);var J=V(A,G);var ee=F(S.length>1&&S.indexOf("day")>-1,false);Q=H($,J,i,ee);Y.push(Q.text);X.push(a.isFunction(Q.format)?"":Q.format)}b.layers[m]={formats:X,texts:Y,levels:S};b.layers[m].level=K}if(l){if(g===h){b.isFirstData=true}else if(g===f){b.isLastData=true}}N.push(b)}if(!i.firstLastTicksOnly&&N.length>1){var te={};var ie={};for(g=1;g<o.length;++g){_=o[g];A=o[g-1];b=N[g];x=N[g-1];for(m=1;m<E.length;++m){var ae=b.layers[m];var re=x.layers[m];S=E[m]||[];for(y=0;y<S.length;++y){D=S[y];var oe=i.timeBodyCtx.levelDict[S[y]].same;var ne=ae.texts[y];var le=re.texts[y];var se=te[D];var ce=ie[D];C=Z(_,R,D,T,i);if(s&&g===1&&!I(n[0],i)){N[0].layers[m].texts[y]="";if(I(n[1],i)){te[D]=ne;ie[D]=C}}else{if(ne===le||ne===se||oe&&(oe(C,A,T,z)||oe(ce,C,T,z))){b.layers[m].texts[y]=""}else{te[D]=ne;ie[D]=C}}}}}}N.forEach(function(e,t){for(g=0;g<e.layers.length;g++){e.layers[g].texts=e.layers[g].texts.filter(function(e){return e.length>0});e.layers[g].formats=e.layers[g].formats.filter(function(e){return e.length>0});e.layers[g].text=U(e.layers[g].texts,i)||"";e.layers[g].format=U(e.layers[g].formats,i)||"";var a=Z(e.value,R,D,T,i);var r;if(t>0){r=N[t-1].value}var o=q(e.layers[g].levels);if(o.length>0){var n=B(a,o[0].pattern,P,M);var l=V(r,null);var s=F(true,false);var u=H(n,l,i,s);if(e.layers[g].texts.length>0&&e.layers[g].texts.indexOf("")<0&&u&&u.text){var c=e.layers[g].levels.indexOf("day");var h=e.layers[g].formats[c];if(o[0].pattern!==w&&e.layers[g].levels.length===2){e.layers[g].text=u.text}if(o[0].pattern===w){if(h&&h.search(/M|m/)>-1&&h.search(/D|d/)>-1||e.layers[g].levels.length===e.layers[g].texts.length){e.layers[g].text=u.text}}}}if(e.layers[g].text){var p=W(e.layers[g].text,i.style);e.layers[g].height=p.height;e.layers[g].width=p.width}else{e.layers[g].height=0;e.layers[g].width=0}e.layers[g].left=e.layers[g].right=e.layers[g].center=0;delete e.layers[g].formats;delete e.layers[g].texts}});N.allLevels=k;N.levels=P;N.layerCount=E.length;return N}function Q(e,t,i,a){var r,n,l,s,u;var c=t.width;var h=-1;var p=Infinity;var d=!i;var f=-1;var v=-1;for(r=0;r<e.length;r++){l=e[r];if(a){if(l.isFirstData){f=r}else if(l.isLastData){v=r}}l.center=t.scale(l.value);for(n=l.layers.length-1;n>=0;n--){s=l.layers[n];if(s.text){s.left=l.center-s.width/2;if(d&&s.left<0){s.left=0;h=Math.max(h,r)}s.right=s.left+s.width;if(d&&s.right>c&&c>=s.width){p=Math.min(r,p);s.right=c;s.left=c-s.width}}else{s.left=s.right=l.center}}}if(a){if(h>f&&f!==-1){h=f}if(p<v&&v!==-1){p=v}}if(h>0){for(n=1;n<e[h].layers.length;n++){if(e[h].layers[n].text===""){e[h].layers[n]=o.clone(e[h-1].layers[n])}}e.splice(0,h)}if(p!==Infinity){e.splice(p+1,e.length)}}function $(e,t){if(e.length<2){return}ee(e[0],e[1],n,t);var i=e[e.length-1];var a=e[e.length-2];ee(i,a,n,t)}var J=function(e){var t=(e.left+e.right)/2;e.text="";e.width=0;e.left=t;e.right=t;e.isEmpty=true};function ee(e,t,i,a){for(var r=0;r<e.layers.length;++r){var o=e.layers[r];var l=t.layers[r];if(!l||!o){continue}var s=(l.left+l.right)/2;if(!I(s,a)){continue}var u=1;if(ie(l,o,u)>0){if(a.enableForceToShowFisrtLast){if(e.isFirstData||e.isLastData){J(l)}else{J(o)}}else{if(i===n){J(l)}else{if(o.text.length>=l.text.length){J(l)}else{J(o)}}}}}}function te(e){var t=e.labels;var i=e.context;if(t.length<2){return}var a;for(a=0;a<t.length-1;a++){var r=t[a];for(var o=a+1;o<t.length&&o<a+oe;++o){var s=t[o];if(a===0){ee(r,s,n,i)}else if(o===t.length-1){ee(s,r,n,i)}else{ee(s,r,l,i)}}}var u=.1;t.forEach(function(e){e.layers.forEach(function(e){if(Math.abs(e.right-e.left)<u){J(e);t.isOverlappedLabelHide=true}})});if(e.displayMode==="CONTINUOUS"&&e.labels.length>0&&e.ticks.length===0&&e.originalTicks&&e.originalTicks.length>0){var c=[];var h;var p;var d;for(h=0;h<t.length;h++){var f=true;for(p=0;p<t[h].layers.length;p++){if(!t[h].layers[p].isEmpty){f=false;break}}if(f){c.push(t[h].value)}}if(c.length>0&&c.length<e.originalTicks.length){for(d=0;d<e.originalTicks.length;d++){if(c.indexOf(e.originalTicks[d].value)<0){e.originalTicks[d].major=true;e.ticks.push(e.originalTicks[d])}}}}}function ie(e,t,i){if(!e||!t){return 0}if((e.left+e.right)/2<(t.left+t.right)/2){var a=e;e=t;t=a}i=i||0;if(e.width>0&&e.text.length>0&&t.width>0&&t.text.length){var r=e.left-t.right-i;if(r<0){return-r}}return 0}function ae(e,t,i){if(!e||!t){return 0}var a;for(var r=0;r<e.layers.length;++r){var o=e.layers[r];var n=t.layers[r];a=ie(o,n,i);if(a>0){break}}return a}var re=2;var oe=4;function ne(e,t,i){var a=i?[0,-1]:0;if(e.length<2){return a}for(var r=re;r<=oe;r++){var o=r;var n=o-1;var l=n;for(var s=l;s<e.length;++s){var u=ae(e[s],e[s-n],t);if(u>0){a=i?[u,s]:u;return a}}}return a}function le(e,t){return e.value-t.value}function se(t,i,a){var r=e.truncate(t,i,a.utc,a.timeBodyCtx._properties.origin);return r===t}function ue(e,t,i){var a={};a.firstDataIndex=-1;a.lastDataIndex=-1;var r;if(i.dataBound&&i.dataBound.length>=2){r=i.dataBound.slice()}else{r=i.domain.slice()}r.sort();var o;var n=[];if(i.isContinuous){for(o=0;o<r.length;o++){n.push(se(r[o],t,i))}}for(o=0;o<r.length;o++){var l=e.indexOf(r[o]);if(l>=0&&o===0){a.firstDataIndex=l;a.firstDataAdded=false;continue}if(l>=0&&o===1){a.lastDataIndex=l;a.lastDataAdded=false;continue}var s;for(s=0;s<e.length;s++){if(e[s]>r[o]&&(!i.isContinuous||n[o])){e.splice(s,0,r[o]);if(a.firstDataIndex===-1){a.firstDataIndex=s;a.firstDataAdded=true}else{a.lastDataIndex=s;a.lastDataAdded=true}break}}if(a.firstDataIndex<0&&o===0&&(!i.isContinuous||n[o])){e.push(r[o]);a.firstDataIndex=e.length-1;a.firstDataAdded=true}if(a.lastDataIndex<0&&o===1&&(!i.isContinuous||n[o])){e.push(r[o]);a.lastDataIndex=e.length-1;a.lastDataAdded=true}}return a}var ce=function(e,t,i){var r=i[t-1];var o=i[t+1];var n;var l;if(a.isExist(r)){n=r;l=t-1;if(a.isExist(o)){if(i[t]-r>o-i[t]){n=o;l=t+1}}}else if(a.isExist(o)){n=o;l=t+1}if(n){if(e.indexOf(n)<0){i.splice(l,1)}}return l};function he(e,t,i,a){var r=[];if(e.tickLevel){var o=e.labels;if(i&&a){o=a}var n=e.tickLevel.values(t.utc,t.start,t.end,false,t.limit,undefined,t.categoryLook,t.weekConfig);if(i){var l=ue(n,e.tickLevel.name,t);if((l.firstDataAdded||l.lastDataAdded)&&n.length>1){var s=[];var u;for(u=0;u<o.length;u++){s.push(o[u].value)}var c;if(l.lastDataAdded&&n.length>1){c=ce(s,l.lastDataIndex,n)}if(l.firstDataAdded&&n.length>1){if(c<=l.firstDataIndex){l.firstDataIndex--}ce(s,l.firstDataIndex,n)}if(!e.hasMajor){var h;for(h=n.length-1;h>=0;h--){if(s.indexOf(n[h])<0){n.splice(h,1)}}}}}for(var p=0,d=0;p<n.length;++p){var f=n[p];var v=d<o.length&&o[d];if(i&&v.value<f){d++;v=d<o.length&&o[d]}var g=v&&e.hasMajor&&v.value===f;r.push({value:f,position:g?v.center:t.scale(f),major:g});if(g){++d}}}r.sort(le);return r}function pe(e,t){var i=[];if(e){var a=e.values(t.utc,t.start,t.end,false,t.limit,undefined,t.categoryLook);for(var r=0,o=0;r<a.length;++r){var n=a[r];i.push({value:n,position:t.scale(n),major:false})}}i.sort(le);return i}return{combinationDict:P,isPositionVisible:I,isValueVisible:O,isLabelVisible:N,getTicks:he,getIndependentTicks:pe,getDensity:E,preventAnyOverlapping:te,getLabelsAndSetLayout:G,getLabelsWithFirstLastDataAndSetLayout:Y,resetAndLayoutLabelsWithFirstLastData:X,getLabels:K,layoutLabels:Q,layoutFirstAndLastLabel:$,getOverlappedPixelNum:ne,getTwoLayersOverlappedNum:ie,getTwoLabelsOverlappedNum:ae,getTimeValueFormat:M,getValuesFunc:b,shouldUseShortFormat:L,initLevelStoreValues:k,notCheck:D,sameMonth:S,sameYear:x,getPrevInfo:V,getCurrentInfo:B,TRIAL_MODE:p,PIVOT_MODE:d,FORMAT_CONFIG_FIELD:f}});define("sap/viz/chart/components/axis/sub/TimeAxisBodyTransformer",["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/axis/sub/TimeAxisCommon"],function(e,t,i,a,r,o,n){var l=Math.floor;var s=Math.ceil;var u=Math.max;var c=Math.min;var h=n.getTicks;var p=n.getLabels;var d=e.levelComparator;var f=n.getLabelsAndSetLayout;var v=n.getLabelsWithFirstLastDataAndSetLayout;var g=n.resetAndLayoutLabelsWithFirstLastData;var m=n.layoutFirstAndLastLabel;var y=n.getOverlappedPixelNum;function _(e){var t=e.levelStore.filter(function(t){return!t.continuousOnly&&d.bind(e)(t.name,e.minCategoryLevel)>=0});t.sort(H.bind(e));return t}var A={ILLEGAL_LEVEL:"ILLEGAL_LEVEL",NO_TICKS:"NO_TICKS",NO_LABELS:"NO_LABELS",WRONG_TICK_STEP:"WRONG_TICK_STEP",LABEL_TOO_BIG:"LABEL_TOO_BIG",LABEL_TOO_SMALL:"LABEL_TOO_SMALL",LABEL_OVERLAPPED:"LABEL_OVERLAPPED",GOOD:"GOOD"};function b(e,t){if(!e||!t.forceToShowFirstLastData){return false}var i=d.bind(t.timeBodyCtx);t.levels.sort(i);var a=t.levels[0];var r=e.name;return i(r,a)===0}function x(e,t){var i=e;var a=i.labels.offset;var r=i.labelLevel;var o=false;if(r&&r.name){o=t.timeBodyCtx.isForceCategoryForMinLevel(r.name,r.step,t.levels)}if(!o&&i.displayMode==="CONTINUOUS"&&b(i.labelLevel,t)){t.isContinuous=true;var n=v(i.labelLevel,t);i.labels=n;var l=true;var s=i.labels.length;var u;for(u=0;l&&i.labels.length>1&&u<s;u++){l=g(i.labelLevel,i,t)}var c=h(i.levelResult,t,true,i.labels);i.ticks=c;i.labels.offset=a;i.ticks.offset=a;delete t.isContinuous}}function S(e,t,i){var a=e;if(a.ticks.length===0||a.labels.length===0||!a.labelLevel){return}a.displayMode="CONTINUOUS";if(D(a.labelLevel,t)){if(i){t.categoryLook=true;var r=z(a,t);var o=L(t);var n=O(a.labelLevel.id,o);if(r===A.GOOD&&!n){r=A.ILLEGAL_LEVEL}if(r!==A.GOOD){var l=B(a,t,r);if(!l){var s=a.labels.length;var u=200;if(t.width>u){t.categoryLook=false;return}else if(r===A.LABEL_OVERLAPPED||r===A.LABEL_TOO_BIG||r===A.ILLEGAL_LEVEL){if(s>2){var c=a.labels[0];var h=a.labels[s-1];a.labels.splice(0,s);a.labels.push(c);a.labels.push(h)}F(a,t);return}else if(r===A.WRONG_TICK_STEP){a.labels.splice(1,s);F(a,t);return}else{t.categoryLook=false;return}}}else{var p=e.labelLevel;o=L(t,p);M(p,t,o,e)}}F(a,t);if(!i&&b(a.labelLevel,t)){N(a.labelLevel,a,t)}}}function D(e,t){if(!e){return false}var i=d.bind(t.timeBodyCtx);t.levels.sort(i);var a=t.levels[0];var r=e.name;if(i(r,t.timeBodyCtx.minCategoryLevel)>=0&&i(r,a)>0){if(!(r===t.timeBodyCtx.maxCategoryLevel.name&&e.step>t.timeBodyCtx.maxCategoryLevel.step)){return true}}return false}var w=400;var C=4;var T=.1;function z(e,t){var i=e.ticks;var a=e.labels;var r=e.labelLevel;var o=e.tickLevel;if(i.length<2){return A.NO_TICKS}else if(a.length===0){return A.NO_LABELS}else if(r&&o&&o.step>1){return A.WRONG_TICK_STEP}var n=Math.abs(i[1].position-i[0].position);var l,s;var u=n*C;var c=n*T;for(l=0;l<a.length;l++){s=a[l].layers[0];if(s.width>u){return A.LABEL_TOO_BIG}else if(s.width<c&&s.width+w<n){return A.LABEL_TOO_SMALL}}var h=e.labels;if(b(r,t)){var p;var d=[];for(p=0;p<e.labels.length;p++){if(!(e.labels[p].isFirstData||e.labels[p].isLastData)){d.push(e.labels[p])}}h=d}if(y(h,t.labelMargin)>0){return A.LABEL_OVERLAPPED}return A.GOOD}function L(t){var i=_(t.timeBodyCtx);var a=[];if(t.start===t.end){return i.slice()}var r=d.bind(t.timeBodyCtx);t.levels.sort(r);var o=t.levels;var n=t.intervalUnit;var l,s,u;var c=t.levels[0];for(l=0;l<i.length;l++){u=i[l];if(u.condition&&!u.condition(t)){continue}if(n){if(n===u.name){a.push(u)}}else if(o.indexOf(u.name)>=0&&D(u,t)){a.push(u)}}if(!n){if(a.length>=2){for(l=1;l<a.length;l++){if(a[l-1].name==="day"&&r(a[l].name,"quarter")>=0){a=a.concat(R("month",i))}}}if(a.length<=2){e.DEFAULT_LEVELS.forEach(function(e){var t=false;for(l=0;l<a.length;l++){if(a[l].name===e){t=true;break}}if(!t){a=a.concat(R(e,i))}})}}a.sort(H.bind(t.timeBodyCtx));return a}var P=5;function k(e,t,i,a){var r=e.name;var o=d.bind(a);var n=0;for(var l=0;l<t.length;l++){if(o(r,t[l].name)===0){n=l;break}else if(o(r,t[l].name)>0&&t[l+1]&&o(r,t[l+1].name)<=0){n=l;break}}var s;if(i){s=t.slice(n,n+P)}else{s=t.slice(u(n-P,0),n)}s.sort(H.bind(a));return s}function E(e,t,i){return k(e,t,true,i)}function I(e,t,i){return k(e,t,false,i)}function O(e,t){for(var i=0;i<t.length;i++){if(t[i].id===e){return t[i]}}return null}function R(e,t){return t.filter(function(t){return t.name===e})}var N=function(e,t,i){var a=true;var r=t.labels.length;var o;var n=false;for(o=0;a&&t.labels.length>1&&o<r;o++){a=g(e,t,i,n);n=false;F(t,i);if(!a){var l;for(l=t.labels.length-1;l>=0;l--){var s=false;var u;var c=0;for(u=0;u<t.labels[l].layers.length;u++){if(t.labels[l].layers[u].isEmpty){c++;break}}if(c>0){t.labels.splice(l,1);if(t.labels.length>1){n=true}a=true;break}}}}};function M(e,t,i,a,o){var l=false;var s;if(b(e,t)){s=v(e,t)}else{s=f(e,t)}var u={level:e.name,labelLevel:e,labels:s};var c=null;var h=e.base;if(h){var p=h[0];var d=O(p,i);if(d&&!(u.labelLevel.step>1&&d.step>1)){c=d}}c=c||u.labelLevel;u.tickLevel=c;u.ticks=n.getIndependentTicks(c,t);F(u,t);if(!o&&b(u.labelLevel,t)){N(e,u,t)}var g=z(u,t);if(g===A.GOOD){a.level=u.level;a.labelLevel=u.labelLevel;a.tickLevel=u.tickLevel;r.extend(a.labels,u.labels);r.extend(a.ticks,u.ticks);a.labels.splice(u.labels.length);a.ticks.splice(u.ticks.length);l=true}return l}function B(e,t,i){var a=e.labelLevel;var r=L(t,a);var o;var n;if(!i){return false}else if(i===A.GOOD){return true}else if(i===A.NO_TICKS||i===A.NO_LABELS||i===A.LABEL_TOO_SMALL){o=I(a,r,t.timeBodyCtx)}else if(i===A.LABEL_TOO_BIG||i===A.LABEL_OVERLAPPED){o=E(a,r,t.timeBodyCtx)}else if(i===A.ILLEGAL_LEVEL){o=E(a,r,t.timeBodyCtx);o=o.concat(I(a,r,t.timeBodyCtx))}else if(i===A.WRONG_TICK_STEP){o=E(a,r,t.timeBodyCtx);o.splice(0,0,a)}else{return false}if(!o||!o.length){return false}var l=false;for(n=0;n<o.length;n++){if(M(o[n],t,r,e,true)){l=true;break}}return l}function V(e,t){if(!a.isExist(e)||!t||t.length<2){return-1}var i=function(e){return e.value};var r=o.bisearch(t,e,i);r=Math.min(r,t.length-1);if(t[r].value>e){r--}var n=[];if(r>=0){var l;if(r===t.length-1){l=t[r].position-t[r-1].position}else{l=t[r+1].position-t[r].position}var s=t[r].position;n=[s,s+l,r,r+1]}return n}function F(e,t){var i=e.labels;var a=e.ticks;var r,o,n,l;var s=t.width;var u=b(e.labelLevel,t);if(a.length<2){return false}var c=-1;var h=-1;for(r=0;r<i.length;r++){if(u){if(i[r].isFirstData){c=r}else if(i[r].isLastData){h=r}}}var p=Infinity;var d=-1;for(r=0;r<i.length;r++){n=i[r];var f=V(n.value,a);if(f.length===0||f[0]<0&&f[1]<0){d=r+1;continue}for(o=0;o<n.layers.length;o++){l=n.layers[o];var v=f[0];var g=f[1];var y=(g-v)/2+v;l.left=y-l.width/2;if(l.left<0){l.left=0;d=r}l.right=l.left+l.width;l.center=(l.right-l.left)/2+l.left;if(l.right>s&&s-l.width>=0){if(v+l.width<s||u&&i[r].isLastData){var _=l.right-s;l.left-=_;l.center-=_;l.right-=_}else{p=Math.min(r,p);break}}}}if(u){if(d>c&&c!==-1){d=c}if(p<h+1&&h!==-1){p=h+1}}if(p!==Infinity){i.splice(p,i.length)}if(d>0){i.splice(0,d)}for(r=0;r<a.length;r++){a[r].major=false}m(i,t);e.displayMode="CATEGORY";return true}function H(e,t){if(e.name===t.name){return e.step-t.step}else{return d.bind(this)(e.name,t.name)}}function U(t,i){var a=t;if(!i.isColumnLike){return}var r=t.ticks;if(r.length===0||a.labels.length===0||!a.labelLevel){return}var o=e.levelComparator.bind(i.timeBodyCtx);i.levels.sort(o);var l=i.levels[0];var s=a.labelLevel;var u=i.timeBodyCtx.isForceCategoryForMinLevel(s.name,s.step,i.levels);if(o(s.name,l)<=0&&!u){if(s.step>1&&a.displayMode==="CONTINUOUS"){var c;if(a.labelLevel.name===a.tickLevel.name&&a.labelLevel.step===a.tickLevel.step){for(c=a.ticks.length-1;c>=0;c--){a.ticks[c].major=true}}else{for(c=a.ticks.length-1;c>=0;c--){if(!a.ticks[c].major){a.ticks.splice(c,1)}}}}else if(!i.timeBodyCtx._isKeepMinimalLevelContinuousTicks){a.originalTicks=r;a.ticks=[]}}else if(a.displayMode==="CATEGORY"||u){var h=r[r.length-1];var p=h.value;var d=e.ceil(h.value,s.name,i.utc,i.timeBodyCtx._properties.origin);var f=false;if(!n.isValueVisible(d,i)){d=i.end;f=true}if(!n.isValueVisible(d,i)){d=h.value+e.getPeriod(s.name);f=true}if(d!==p){r.push({value:d,position:i.scale(d),major:false})}if(l!=="week"){var v=i.timeBodyCtx.levelDict[l].period;var g=i.limit[0];g=e.truncate(g,l,i.utc,i.timeBodyCtx._properties.origin);var m=g+v;var y=i.scale(g);var _=i.scale(m);var A=(_-y)/2;a.ticks.forEach(function(e,t){if(t!==r.length-1||!f||!n.isValueVisible(d,i)){e.position-=A;e.value=i.scale.invert(e.position)}});F(a,i)}else if(s.name==="year"){a.ticks.forEach(function(t,a){if(a!==r.length-1||!f||!n.isValueVisible(d,i)){var o=e.getFullYear(e.createDateInstance(t.value),i.utc);var l=o-1;var s=e.getWeekNumInYear(l);var u=e.getDateByWeek(l,s,i.utc,i.weekConfig);var c=e.getDateByWeek(o,1,i.utc,i.weekConfig);u=u.getTime();c=c.getTime();t.value=(c-u)/2+u;t.position=i.scale(t.value)}});F(a,i)}}}return{categoryWrapper:S,shouldFirstLastMode:b,firstLastDataWrapper:x,mustCategoryLook:D,timeColumnWrapper:U}});define("sap/viz/chart/components/axis/sub/TimeAxisBodyHelper",["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/axis/sub/TimeAxisCommon","sap/viz/chart/components/axis/sub/TimeAxisBodyTransformer"],function(e,t,i,a,r,o,n,l){var s=Math.floor;var u=Math.ceil;var c=Math.max;var h=Math.min;var p=8;var d=80;var f=100;var v=5;var g=3;var m=", ";var y=1;var _="minlevel";var A=1;var b=1<<2;var x=4;var S=10;var D={second:5,minute:20,hour:.5,day:2,week:.5,month:.5,quarter:1,halfyear:3,year:1,fiscal_period:1,fiscal_year:1};var w=n.getTicks;var C=e.levelComparator;var T=n.getLabelsAndSetLayout;var z=n.getLabelsWithFirstLastDataAndSetLayout;var L=n.getLabels;var P=n.layoutLabels;var k=n.getOverlappedPixelNum;var E=l.mustCategoryLook;var I=n.TRIAL_MODE;var O=n.PIVOT_MODE;var R=n.getDensity;var N=n.combinationDict;function M(t){var i=t.timeBodyCtx.normalizeDomain(t.domain);var a=t.timeBodyCtx.normalizeDomain(t.dataBound);var r=null;if(i){var o=t.levels;if(!o||!o.length){o=e.DEFAULT_LEVELS}t.timeBodyCtx.fixLevelGap(o);var s={domain:i,dataBound:a,width:c(0,t.width),levels:o,start:i[0],end:i[1],limitInput:t.limit,style:t.labelStyle,config:K(t.config,t.timeBodyCtx),combinationConfig:K(t.combinationConfig,t.timeBodyCtx),utc:t.utc,isColumnLike:t.isColumnLike,isZoomIn:t.zoomType==="zoomIn",prevLv:t.prevLv,findLevelMemory:t.findLevelMemory,minTickDistance:ee(t.minTickDistance,p),fixedSpacing:ee(t.fixedSpacing,d),limitMargin:ee(t.limitMargin,f),labelMargin:ee(t.labelMargin,v),maxLayerCount:ee(t.maxLayerCount,g),levelLabelSeparator:ee(t.levelLabelSeparator,m),forceToShowFirstLastData:t.forceToShowFirstLastData,timeBodyCtx:t.timeBodyCtx,weekConfig:t.weekConfig};if(t.showFirstLastDataOnly){r=F(s);r.ticks.offset=r.labels.offset=t.offset||0}else{var u=Q(t.intervalUnit,o,s);if(u){s.intervalUnit=u;s.intervalNumber=$(t.intervalNumber);s.intervalPivot=J(t.intervalPivot);r=V(s)}else{r=H(s)}r.ticks.offset=r.labels.offset=t.offset||0;l.categoryWrapper(r,s,true);l.firstLastDataWrapper(r,s);l.timeColumnWrapper(r,s)}W(r,r.context);n.preventAnyOverlapping(r)}return r}function B(e,t){var i=e.tickLevel;var a=e.labelLevel;var r=e.context;if(i&&a&&r){r.limit=G(t.limit,r,a);if(!t.showFirstLastDataOnly){var o;if(r.intervalUnit){o=O}var s;if(l.shouldFirstLastMode(a,r)){s=z(a,r,o)}else{s=T(a,r,o)}var u=w({hasMajor:i.step!==a.step,tickLevel:i,labels:s},r);u.offset=s.offset=t.offset||0;e.ticks=u;e.labels=s;l.categoryWrapper(e,r,false);l.firstLastDataWrapper(e,r);l.timeColumnWrapper(e,r)}else{var c=F(r);e.ticks=c.ticks;e.labels=c.labels;e.ticks.offset=t.offset||0;e.labels.offset=e.ticks.offset}W(e,e.context);n.preventAnyOverlapping(e)}}function V(e){var t=e.intervalUnit;var i=e.intervalNumber;var a=e.timeBodyCtx.levelDict[t];var o=a.period*i;var n={id:"fixed",name:t,step:i,density:R(t,i,e.timeBodyCtx.levelDict),values:a.values,align:false};var s=e.fixedSpacing;var h=e.width;var p=e.end-e.start;if(e.dataBound){p=e.dataBound[1]-e.dataBound[0]}e.width=c(h,u(p*s/o));e.scale=te(e.domain,e.width);e.limit=G(e.limitInput,e,n);var d=T(n,e,O);var f=k(d,e.labelMargin);var v=null;var g=l.shouldFirstLastMode(n,e);while(f){s=c(s,s+f);e.width=c(h,u(p*s/o));e.scale=te(e.domain,e.width);e.limit=G(e.limitInput,e,n);P(d,e,null,g);f=k(d,e.labelMargin);if(Math.abs(f-v)<.01){break}v=f}d=T(n,e,O);var m=e.timeBodyCtx.levelStore.filter(function(e){return e.name===t&&i%e.step===0});var y;for(var _=0;_<m.length;++_){var A=m[_];var b=e.scale(e.start+A.step*e.timeBodyCtx.levelDict[A.name].period);if(b>=e.minTickDistance){y=A;break}}if(y){y=r.extend({align:false},y)}else{y=n}var x={hasMajor:y.step!==n.step,tickLevel:y,labels:d};var S=w(x,e);e.enableForceToShowFirstLast=g;return{width:e.width,level:t,ticks:S,labels:d,tickLevel:y,labelLevel:n,levelResult:x,context:e}}function F(e){var t=[];var i=[];var a={};e.scale=te(e.domain,e.width);e.limit=G(e.limitInput,e);e.firstLastTicksOnly=true;var r=X(e);if(r.length>0){a=r[0];var o;if(e.dataBound&&e.dataBound.length>=2){o=e.dataBound.slice()}else{o=e.domain.slice()}t=T(a,e,0,o);var n={};n.labels=t;n.tickLevel=a;var l={value:o[0],position:e.scale(o[0]),major:false};var s={value:o[o.length-1],position:e.scale(o[o.length-1]),major:false};if(o[0]>o[o.length-1]){i.push(s);i.push(l)}else{i.push(l);i.push(s)}}return{width:e.width,level:a.name,ticks:i,labels:t,tickLevel:a,labelLevel:a,context:e}}function H(e){e.scale=te(e.domain,e.width);e.limit=G(e.limitInput,e);var t=X(e);var i=q(t,e);if(i.labels.length<=1||i.overlapped){t=X(e,A);i=q(t,e,b)}var a=w(i,e);var r=l.shouldFirstLastMode(i.labelLevel,e);e.enableForceToShowFirstLast=r;return{width:e.width,level:i.level,ticks:a,labels:i.labels,tickLevel:i.tickLevel,labelLevel:i.labelLevel,levelResult:i,context:e}}function U(e,t){for(var i=e.layers.length-1;i>=0;i--){var r=e.layers[i];var o=t.layers[i];if(r&&o){o.left=(r.left+r.right)/2-o.width/2;if(o.left<0){o.left=0;o.right=o.width}else{o.right=(r.left+r.right)/2+o.width/2}o.center=(o.right+o.left)/2;t.center=a.isExist(t.center)?t.center:o.center}}t.isFirstData=e.isFirstData;t.isLastData=e.isLastData}function W(e,t){if(e.labels.length<2){return}var i=[];var a=[];var r;var n=5;for(r=0;r<n&&r<e.labels.length;r++){var l=e.labels[r];var s=o.min(l.layers,function(e,t){return(e.left+e.right)/2});i.push(s);a.push(l.value)}var u=L(e.labelLevel,t,0,a,i);for(r=0;r<u.length;r++){U(e.labels[r],u[r]);e.labels[r]=u[r]}}function G(e,t,i){if(e){var a=t.scale;var r=t.limitMargin;if(i){var o=a(t.timeBodyCtx.levelDict[i.name].period*i.step)-a(0);r=c(r,o)}var n=c(0,e[0]-r);var l=h(a.range()[1],e[1]+r);return[s(a.invert(n)),u(a.invert(l)),s(a.invert(e[0])),u(a.invert(e[1]))]}return null}function Y(e,t){C=C.bind(t);e.sort(C);if(e.length===2&&e[1]==="year"&&e[0]==="week"){return}else if(e.length>=2){var i,a,r;for(i=1;i<e.length;i++){a=e[i];r=e[i-1];if(C(a,"quarter")>=0&&C(r,"day")<=0){if(e.indexOf("month")===-1){e.push("month")}if(e.indexOf("day")===-1){e.push("day")}}if(C(a,"day")>=0&&C(r,"minute")<=0){if(e.indexOf("hour")===-1){e.push("hour")}if(e.indexOf("minute")===-1){e.push("minute")}}}}e.sort(C)}function X(e,t){var i,r;var o=e.levels;if(e.start===e.end){for(i=0;i<e.timeBodyCtx.levelStore.length;++i){r=e.timeBodyCtx.levelStore[i];if(r.name===o[0]&&r.step===1){return[r]}}}var n=e.timeBodyCtx.levelStore.filter(function(t){return t.condition?t.condition(e):true});var l={};for(i=o.length;i--;){l[o[i]]=1}var s=e.end-e.start;for(i=n.length;i--;){r=n[i];if(s<r.step*e.timeBodyCtx.levelDict[r.name].period){n.pop()}else{break}}for(i=0;i<n.length;++i){r=n[i];var u=e.scale(e.start+r.step*e.timeBodyCtx.levelDict[r.name].period);if(u>=e.minTickDistance){break}}n=n.slice(i).concat(j(e));if(!a.isSet(t,A)){var c=e.timeBodyCtx.levelStore.filter(function(e){return l[e.name]});var h=c[0].density;var p=c[c.length-1].density;var d={};n=n.filter(function(e){if(e.density>=p&&e.density<=h&&!l[e.name]){d[e.name]=1;return false}return true}).filter(function(e){return!d[e.name]})}var f={};for(i=n.length;i--;){r=n[i];if(f[r.density]){n.splice(i,1)}else if(l[r.name]){f[r.density]=1}}f={};n=n.filter(function(e){if(!f[e.density]){f[e.density]=1;return true}return false});for(i=0;i<n.length;++i){r=n[i];if(l[r.name]){break}}n=i<n.length?n.slice(i):n;if(e.firstLastTicksOnly&&o.length>0&&n.length>0){for(i=0;i<e.timeBodyCtx.levelStore.length;++i){r=e.timeBodyCtx.levelStore[i];if(r.name===o[0]&&r.step===1&&n[0].id!==r.id){n.unshift(r);break}}}return n}function j(e){var t=e.end-e.start;var i=e.timeBodyCtx.levelStore[e.timeBodyCtx.levelStore.length-1];var a=i.name;var r=e.timeBodyCtx.levelDict[a];var o=[];var n=2;var l=n*i.step;var s=e.timeBodyCtx.levelStore.filter(function(e){return e.name===a});while(l*r.period<=t){var u=e.scale(e.start+l*r.period);if(u>=e.minTickDistance){var c=s.concat(o).filter(function(e){return l%e.step===0}).map(function(e){return e.id});o.push({id:n,name:a,step:l,values:r.values,density:R(a,l,e.timeBodyCtx.levelDict),base:c})}n++;l=n*i.step}return o}function Z(t,i){var a=i.start;var r=i.limit;i.limit=null;var o=true;var s=t.name;var u=D[s]*e.getPeriod(s);var c=i.findLevelMemory;var h=i.end-i.start;var p=t.id;var d=l.shouldFirstLastMode(t,i);if(c&&c[p]&&c[p]<=h){return o}else{for(var f=0;f<S&&i.start<i.end;f++){var v=n.getLabels(t,i,I);n.layoutLabels(v,i,true,d);var g=k(v,i.labelMargin,true);if(g[0]>0){o=false;break}i.start+=u}i.start=a;i.limit=r;if(c&&o){c[p]=Math.min(h,c[p])}return o}}function q(e,t,i){var r=-1;var o=-1;var n,l,s,u,c,h;if(e.length){h=true;for(n=0;n<e.length;++n){var p=e[n];if(E(p,t)&&p.continuousOnly){continue}if(Z(p,t)){s=T(p,t);if(k(s,t.labelMargin)===0){r=n;h=false;break}}}u=e[r];if(r<0){r=e.length-1;u=e[r];s=T(u,t)}var d=E(u,t);var f=u.base;if(f){for(n=0;n<f.length;++n){var v=f[n];for(l=r;l--;){if(e[l].id===v){if(d&&e[l].step>1){continue}o=l;break}}if(o>=0){break}}}if(o<0){o=r}c=e[o];if(a.isSet(i,b)){if((h||s.length===1)&&c.step<u.step){var g=c.values(t.utc,t.start,t.end);if(g.length>1){g=[g[0],g[g.length-1]];var m=T(u,t,0,g);if(s.length>1||!k(m,t.labelMargin)){s=m;h=k(s,t.labelMargin)}}}if(h){var y=t.timeBodyCtx.levelStore.filter(function(e){return e.step===1&&e.density<=u.density});for(n=0;n<y.length&&h;++n){u=c=y[n];s=T(u,t);h=k(s,t.labelMargin)}}}}return{hasMajor:c!==u,level:u?u.name:null,tickLevel:c,labelLevel:u,labels:s||[],overlapped:h}}function K(t,i){var a={};t=t||{};for(var r in t){if(t.hasOwnProperty(r)){var o=e.normalizeLevelName(r);if(i.levelDict[o]){a[o]=t[r]}if(N[o]){a[o]=t[r]}}}return a}function Q(e,t,i){e=String(e).toLowerCase();if(e===_){e=t[0]}return i.timeBodyCtx.levelDict[e]?e:null}function $(e){e=s(+e);return isNaN(e)||e<=0?y:e}function J(t){if(t===null||typeof t==="boolean"){return null}var i=e.createDateInstance(t).getTime();return isNaN(i)?null:i}function ee(e,t){return ae(e)?e:t}function te(e,t){return d3.scale.linear().domain(e).range([0,t])}function ie(e){return e.limitInput&&(e.limitInput[0]>0||e.limitInput[1]<e.width)}function ae(e){return typeof e==="number"&&!isNaN(e)}return{getTicksAndLabels:M,updateTicksAndLabels:B,getScale:te,fixLevelGap:Y}});define("sap/viz/chart/components/axis/sub/TimeAxisBody",["sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/components/renderers/ValueBasedColorRenderer","sap/viz/chart/components/axis/renderer/TimeBodyRenderer","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/axis/sub/TimeAxisBodyHelper","sap/viz/chart/components/axis/sub/TimeAxisCommon","sap/viz/framework/common/format/FormatManager","sap/viz/chart/components/util/BoundUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/api/env/Locale","sap/viz/framework/common/lang/LangManager"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m){var y=11;var _=80;var A=5;var b=3;var x=t.CSS.CLASS.AXIS;var S=t.TIME_LEVEL;var D=["ja","zh_CN","zh_TW","ko"];var w=function(e,t){w.superclass.constructor.apply(this,arguments);this._ticksAndLabels=null;this._tickGroupNode=null;this._labelGroupNode=null;this._scrollOffset=0;if(t){this._isColumnLike=!!t.isColumnLike;this._isLineChart=!!t.isLineChart;this._isMultiplySeriesColumn=t.isMultiplySeriesColumn;this._isKeepMinimalLevelContinuousTicks=t.isKeepMinimalLevelContinuousTicks;this._allowInterval=t.hasOwnProperty("allowInterval")?t.allowInterval:true}this.initLevelList();this.initLevelStore();this.initLevelDict();h.initLevelStoreValues(this.levelStore,this.levelDict);this.minCategoryLevel="day";this.maxCategoryLevel={name:"year",step:5};this._isSupportVBCAxisLine=true;this._cachedVBCStyleArray=[]};i.extend(w,a);w.prototype.normalizeDomain=function(t){if(v.isArray(t)&&t.length>1){var i=e.createDateInstance(t[0]).getTime();var a=e.createDateInstance(t[1]).getTime();if(!isNaN(i)&&!isNaN(a)){return i<=a?[i,a]:[a,i]}}return null};w.prototype.initLevelList=function(){this.levelList=f.clone(e.levelList)};w.prototype.initLevelStore=function(){this.levelStore=[{id:"seconds_1",name:"second",step:1},{id:"seconds_5",name:"second",base:["seconds_1"],step:5},{id:"seconds_15",name:"second",base:["seconds_1","seconds_5"],step:15},{id:"seconds_30",name:"second",base:["seconds_1","seconds_2","seconds_5","seconds_15"],step:30},{id:"minutes_1",name:"minute",step:1},{id:"minutes_5",name:"minute",base:["minutes_1"],step:5},{id:"minutes_15",name:"minute",base:["minutes_1","minutes_5"],step:15},{id:"minutes_30",name:"minute",base:["minutes_1","minutes_5","minutes_15"],step:30},{id:"hours_1",name:"hour",step:1},{id:"hours_6",name:"hour",base:["hours_1"],step:6},{id:"hours_12",name:"hour",base:["hours_1","hours_6"],step:12},{id:"days_1",name:"day",step:1},{id:"days_5",name:"day",base:["days_1"],step:5},{id:"weeks_1",name:"week",step:1},{id:"weeks_2",name:"week",base:["weeks_1"],step:2},{id:"days_15",name:"day",base:["days_1","days_5"],step:15,continuousOnly:true},{id:"months_1",condition:h.notCheck(h.sameMonth),name:"month",step:1},{id:"weeks_10",name:"week",base:["weeks_1","weeks_2"],step:10,continuousOnly:true},{id:"months_3",name:"month",base:["months_1"],step:3},{id:"quarters_1",name:"quarter",step:1},{id:"quarters_2",condition:h.notCheck(h.sameYear),name:"quarter",base:["quarters_1"],step:2},{id:"halfyears_1",name:"halfyear",step:1},{id:"quarters_3",name:"quarter",condition:h.sameYear,base:["quarters_1"],step:3},{id:"years_1",name:"year",step:1},{id:"years_5",name:"year",base:["years_1"],step:5}]};w.prototype.initLevelDict=function(){this.levelDict={second:{period:e.ONE_SECOND,format:function(t,i,a,r,o,n,l,s){var u=e.createDateInstance(t);var c;if(!s&&h.shouldUseShortFormat("second",t,i,a,o,n,l)){c="ss''"}else{c="hh:mm:ss"}return{text:p.format(u,c,a),format:c}},visible:true,values:h.getValuesFunc("seconds"),same:e.isSameSecond},minute:{period:e.ONE_MINUTE,format:"hh:mm",visible:function(e){return e.indexOf("second")<0},values:h.getValuesFunc("minutes"),same:e.isSameMinute},hour:{period:e.ONE_HOUR,format:"hh:00",visible:function(e){return e.indexOf("minute")<0&&e.indexOf("second")<0},values:h.getValuesFunc("hours"),same:e.isSameHour},day:{period:e.ONE_DAY,format:function(t,i,a,r,o,n,l,s){var u=e.createDateInstance(t);var c;if(!s&&h.shouldUseShortFormat("day",t,i,a,o,n,l)){c="d"}else{var d=D.indexOf(g.get())>-1?m.get("IDS_DAY"):"";c="MMM d"+d}return{text:p.format(u,c,a),format:c}},visible:true,values:h.getValuesFunc("days"),same:e.isSameDay},week:{period:e.ONE_WEEK,format:function(t,i,a,r,o){var n=e.createDateInstance(t);var l=e.getWeek(n,a,o.weekConfig);if(o.weekConfig&&o.weekConfig.type==="Gregorian"&&o.weekConfig.region==="US"){if(l===1&&e.getMonth(n,a)===11){n=e.createDateInstance(e.getFullYear(n,a)+1,0,1)}}var s=p.format(n,"Week",a);if(s===p.DEFAULT_FORMATTED_VALUE){if(e.getMonth(n,a)===0&&l>=52){return"W1"}else{return"W"+l}}return s},visible:true,values:h.getValuesFunc("weeks"),same:e.isSameWeek},month:{period:e.ONE_MONTH,format:"MMM",visible:function(e){return e.indexOf("day")<0},values:h.getValuesFunc("months"),same:e.isSameMonth},quarter:{period:e.ONE_QUARTER,format:function(t,i,a){var r=e.createDateInstance(t);var o=p.format(r,"Quarter",a);if(o===p.DEFAULT_FORMATTED_VALUE){var n=a?r.getUTCMonth():r.getMonth();return"Q"+(Math.floor(n/3)+1)}return o},visible:true,values:h.getValuesFunc("quarters"),same:e.isSameQuarter},halfyear:{period:e.HALF_YEAR,format:function(t,i,a){var r=e.createDateInstance(t);var o=a?r.getUTCMonth():r.getMonth();return o<6?"H1":"H2"},visible:true,values:h.getValuesFunc("halfyears"),same:e.isSameHalfYear},year:{period:e.ONE_YEAR,format:function(t,i,a,r,o){var n=e.createDateInstance(t);var l=a?n.getUTCFullYear():n.getFullYear();var s=r;var u=s.length;if(u===2&&s[0]==="week"||u===3&&s[0]==="day"&&s[1]==="week"||o.weekConfig&&o.weekConfig.type==="Gregorian"&&o.levels.indexOf("week")>-1){var c=a?n.getUTCMonth():n.getMonth();if(c===11){var h=e.getWeek(t,a,o.weekConfig);if(h===1){l++}}}return l},visible:true,values:h.getValuesFunc("years"),same:e.isSameYear}}};w.prototype.normalizePadding=function(e){return Math.round(e)};w.prototype.setHasNegativeValue=function(e){this._hasNegativeValue=e;return this};w.prototype.update=function(e){if(this._data&&this._properties.get("visible")&&this._isSpaceEnough()){var t=this._getTicksAndLabels(this._realSize.width,this._size.width,e);this._renderTicksAndLabels(t)}};w.prototype._getAxisColor=function(){var e=this._properties;var t=e.get("color");if(this._hasNegativeValue&&e.origin.get("plotArea.gridline.zeroLine.unhighlightAxis")){t=e.origin.get("plotArea.gridline.color")}return t};w.prototype._renderTicksAndLabels=function(t){if(!t){return}var i=this._properties;var a=this._size.width;var r=this._size.height;var o=this._position;var n=t.ticks;var s=t.labels;var u=t&&t.labelLevel?t.labelLevel.step:1;var h=this._properties.get("label.forceToShowFirstLastData");var p=function(a,r,o){var n=r.value,l;if(t.level==="week"&&r.layers[0].level==="week"){var s=e.truncate(n,r.layers[0].level,undefined,i.origin),u=e.ceil(n,r.layers[0].level,undefined,i.origin);var c=e.createDateInstance(s).getYear();var h=e.createDateInstance(u).getYear();if(c!==h){n=e.truncate(u,a.level,undefined,i.origin)}}n=e.truncate(n,a.level,undefined,i.origin);l=e.ceil(n,a.level,undefined,i.origin);if(g._isColumnLike&&t.displayMode==="CONTINUOUS"){l=e.truncate(l,t.level,undefined,i.origin)}return{min:n,max:l}};var d;if(!this._properties.get("label.showFirstLastDataOnly")){var f=s.length,g=this;var m=c.getScale(this._data.getDomain(),this._realSize.width);for(var y=0;y<f;y++){var _=s[y];_.layers[0].id="0-"+_.value;_.layers[0].range={min:_.value,max:e.ceil(_.value,_.layers[0].level,undefined,i.origin)};if(u===1){if(h&&(_.isFirstData||_.isLastData)){d=e.floor(_.layers[0].range.min,_.layers[0].level,undefined,i.origin);_.layers[0].rectX=m(d);_.layers[0].range.min=d}else{_.layers[0].rectX=m(_.layers[0].range.min)}_.layers[0].rectWidth=m(_.layers[0].range.max)-_.layers[0].rectX}for(var A=1;A<_.layers.length;A++){var b=_.layers[A];b.id=A+"-"+_.value;if(v.isNonEmptyString(b.text)){var x=p(b,_,y);b.range=x;if(h&&(_.isFirstData||_.isLastData)){d=e.floor(x.min,b.level,undefined,i.origin);b.rectX=m(d);b.range.min=d}else{b.rectX=m(x.min)}b.rectWidth=m(x.max)-b.rectX;for(var S=A-1;S>=0;S--){if(_.layers[S].range&&x.min>=_.layers[S].range.min&&x.max<_.layers[S].range.max){_.layers[S].range.max=x.max;if(_.layers[S].hasOwnProperty("rectX")){_.layers[S].rectWidth=m(_.layers[S].range.max)-_.layers[S].rectX}}}}}}}var D=this.runtime().effectManager();if(i.get("axisTick.visible")&&this._tickGroupNode){var w=this._properties.get("color");l.drawTicks(this._tickGroupNode,n,a,r,o,i,w,D)}if(i.get("label.visible")&&this._labelGroupNode){l.drawLabels(this,s,a,r,o,i,D,t.displayMode,u,t.level)}this._lockLabels(t.labels)};w.prototype._lockLabels=function(e){if(!this._labelGroupNode||e.layerCount<=1){return}var t=this._properties.get("label.showFirstLastDataOnly");if(t){return}var i=0;var a=this._labelGroupNode.node().querySelectorAll(".v-label");var r=a.length?a.length:0;var o=e.offset||0;var n,l;function s(t,i){var a=e[t];var r=a&&a.layers;return r&&r[i]&&r[i].text}for(l=0;l<e.layerCount-1;++l){var u=null;var c=null;var h=null;var p=false;for(n=0;n<r;++n){var d=e[n];u=a[n].querySelectorAll(".v-label-upperLevel")[l];if(u){u.removeAttribute("dx")}var f=s(n,l+1);if(d.layers[0].right-o>i&&!p){p=1;if(f){u=a[n].querySelectorAll(".v-label-upperLevel")[l];h=d}else if(v.isNumber(c)&&c>=0){u=a[c].querySelectorAll(".v-label-upperLevel")[l]}if(u){var g=s(n+1,l+1);var m=parseFloat(u.getAttribute("x"));if(m<i){if(!g){u.setAttribute("dx",i-m)}else if(h){var y=a[n].querySelectorAll(".v-label-baseLevel")[0];var _=parseFloat(y.getAttribute("x"));var A=_+d.layers[0].width/2;var b=A-h.layers[l+1].width/2;if(b>i){u.setAttribute("dx",i-m)}else{u.setAttribute("dx",b-m)}}}}}if(!p&&f){c=n;h=d}}}};w.prototype.isExistingItem=function(e,t){var i=false;var a;for(a=0;a<e.length;a++){if(f.deepEqual(e[a],t)){i=true;break}}return i};w.prototype.normalizeVBCArray=function(e,t){var i;var a=f.clone(e);i=[];var r;for(r=0;r<a.length;r++){if(!a[r].callback){i.push(a[r])}}if(t){for(r=0;r<t.length;r++){if(t[r].vbcContext.color&&t[r].rawData&&t[r].rawData.timeAxis&&t[r].rawData.timeAxis[0]){var o={};o.start=t[r].rawData.timeAxis[0].parsedValue;o.end=t[r].rawData.timeAxis[0].parsedValue;o.color=t[r].vbcContext.color;if(!this.isExistingItem(i,o)){i.push(o)}}}}return i};w.prototype.renderValueBasedColorLine=function(i){var a=this._ticksAndLabels;var r=this._lineSelection;if(r){var o=this._properties;var l=this._size.width;var s=this._size.height;var u=this.runtime().effectManager();if(this._isSupportVBCAxisLine&&o.get("axisLine.visible")&&l>0&&s>0){var h=r.select("."+x.LINE_GROUP);if(!h.node()){h=r.append("g").attr("class",x.LINE_GROUP)}var p=0;if(a&&a.labels&&a.labels.offset){p=a.labels.offset}else if(a&&a.ticks&&a.ticks.offset){p=a.ticks.offset}var d=this._data.getDomain();var f=c.getScale(d,this._realSize.width);var g=o.origin.get("general.defaultTimePeriodColor");var m=o.origin.get("general.timePeriodStyle");if(m&&m.length){if(i){m=this.normalizeVBCArray(m,i);this._cachedVBCStyleArray=m.slice()}else{if(!this._cachedVBCStyleArray.length){this._cachedVBCStyleArray=this.normalizeVBCArray(m)}m=this._cachedVBCStyleArray.slice()}var y;var _;var A;var b;n.cleanVBCAxisLines(h);var S;for(y=0;y<m.length;y++){if(m[y]&&v.isExist(m[y].start)&&v.isExist(m[y].end)){var D=m[y].start;var w=m[y].end;if(D===t.PLOTAREA.LAST_DATAPOINT||w===t.PLOTAREA.FIRST_DATAPOINT){w=m[y].start;D=m[y].end}if(D===t.PLOTAREA.FIRST_DATAPOINT||w===t.PLOTAREA.LAST_DATAPOINT){if(!S){S=d.slice();if(a&&a.context){if(a.context.dataBound&&a.context.dataBound.length>=2){S=a.context.dataBound.slice()}else if(a.context.domain){S=a.context.domain.slice()}}}if(D===t.PLOTAREA.FIRST_DATAPOINT){D=S[0]}if(w===t.PLOTAREA.LAST_DATAPOINT){w=S[1]}}var C=e.createDateInstance(D).getTime();var T=e.createDateInstance(w).getTime();if(!v.isNumber(C)||!v.isNumber(T)){continue}var z;if(C>T){z=C;C=T;T=z}var L=e.levelComparator.bind(this);a.context.levels.sort(L);var P=a.context.levels[0];var k=this.levelDict[P].period;C=e.truncate(C,P,a.context.utc,o.origin,a.context.weekConfig)-k/2;T=e.truncate(T,P,a.context.utc,o.origin,a.context.weekConfig)+k/2;_=f(C)-p;A=f(T)-p;if(_>l||A<0){continue}if(_<0){_=0}if(A>l){A=l}b=m[y].color||g;n.drawVBCAxis(h,_,A,b,o,u)}}}}}};w.prototype._renderAxisLine=function(e,t){if(e){var i=this._properties;var a=this._size.width;var r=this._size.height;if(i.get("axisLine.visible")&&a>0&&r>0){var n=e.select("."+x.LINE_GROUP);if(!n.node()){n=e.append("g").attr("class",x.LINE_GROUP)}var l=this._isVertical()?r:a;var s=[0,l];var u=i.get();var c=this.runtime().effectManager();var h=this._position;u.color=this._getAxisColor();o.drawLines(n,s,a,r,h,u,c);this._ticksAndLabels=t;this._lineSelection=e;this.renderValueBasedColorLine()}}};w.prototype.scroll=function(e){var t=this._properties;var i=-e.x;var a=this._ticksAndLabels;var o=Math.abs(this._scrollOffset-i);o=r.preciseSimple(o);if(this._isHorizontal()&&a){this._scrollOffset=i;c.updateTicksAndLabels(a,{offset:i,limit:[i,i+this._size.width],showFirstLastDataOnly:t.get("label.showFirstLastDataOnly")});this._renderTicksAndLabels(a);this._renderAxisLine(this._selection,a)}};w.prototype.render=function(e){this._selection=e;d.drawBound(e,this._size.width,this._size.height,null,true);e.select("g."+x.LINE_GROUP).remove();e.select("g."+x.TICK_GROUP).remove();e.select("g."+x.LABEL_GROUP).remove();var t=s.drawClippath(d3.select(e.node().parentNode),this._size.width+2,this._size.height+2,-1,-1);e.attr("clip-path","url(#"+t+")");var i=this._properties;if(this._data&&i.get("visible")){var a=null;var r=this._position;var o=this._size.width;var n=this._size.height;var l=this.runtime().effectManager();if(i.get("label.visible")){t=s.drawClippath(e,o+2,n+2,-1,-1,"labels");a=e.append("g").attr("clip-path","url(#"+t+")");this._labelGroupNode=a.append("g").attr("class",x.LABEL_GROUP)}var u=this._getTicksAndLabels(this._realSize.width,o);this._renderAxisLine(e,u);if(i.get("axisTick.visible")){t=s.drawClippath(e,o+2,n+2,-1,-1,"ticks");a=e.append("g").attr("clip-path","url(#"+t+")");this._tickGroupNode=a.append("g").attr("class",x.TICK_GROUP)}this._renderTicksAndLabels(u);if(u){e.datum({level:u.level})}}};w.prototype.getPreferredSize=function(e){var i={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{interval:0,type:t.SPACING_TYPE.STEP}]};var a=this._properties;if(this._data&&a.get("visible")&&this._isHorizontal()){var o=this._data;var n=o.getRange();var l=Math.abs(n[0]-n[1]);var s=y;var u=e?e.width:this._size.width||l;var c=this._getTicksAndLabels(l,u);if(c){this._realSize.width=c.width;if(a.get("label.visible")){var h=this._properties.get("label.style");var p=this._measureTextSize("1",h).height;s+=p*Math.max(c.labels.layerCount,2)}}i.minWidth=u;i.maxWidth=u;i.minHeight=s;i.maxHeight=s;i.spacings=[{interval:s,type:t.SPACING_TYPE.STEP}]}var d=r.preciseObject(i);this._updatePfdSize(d);return d};w.prototype.getRealSize=function(){return{width:this._realSize.width,height:this._realSize.height}};w.prototype.destroy=function(){w.superclass.destroy.apply(this,arguments);this._ticksAndLabels=null;this._tickGroupNode=null;this._labelGroupNode=null;this._findLevelMemory=null};w.prototype._getTicksAndLabels=function(e,t,i){var a=this._properties;var r=this._allowInterval&&a.get("interval.unit");var o=this._data.getDomain();var n=this._data.getDataBound();var l=u.getZoomRange(a.origin,o);var s=l[0];var h=l[1];var p=u.isZoomRangeValid(s,h,o);var d=u.isRangeIncomplete(l);var f=a.get("levelConfig");var v=f&&f.week;var g=this.runtime().statusManager();if(g.get("zooming")){r=null}else if(this._isLineChart&&p&&d){var m="minlevel";r=r||m}else if(p){r=null}var y=Math.min(this._scrollOffset,e-t);var _=this._ticksAndLabels?this._ticksAndLabels.labelLevel:null;this._findLevelMemory=this._findLevelMemory||{};t=t||e;this._ticksAndLabels=c.getTicksAndLabels({dataBound:n,domain:o,width:e,offset:y,limit:[y,y+t],levels:g.get("timeLevels"),labelStyle:a.get("label.style"),weekConfig:v,config:f,combinationConfig:a.get("combinationConfig"),intervalUnit:r,intervalNumber:a.get("interval.number"),intervalPivot:a.get("interval.keyLabel"),utc:a.origin.get("general.showAsUTC"),isColumnLike:this._isColumnLike,showFirstLastDataOnly:a.get("label.showFirstLastDataOnly"),forceToShowFirstLastData:a.get("label.forceToShowFirstLastData"),prevLv:_,zoomType:i,findLevelMemory:this._findLevelMemory,timeBodyCtx:this});return this._ticksAndLabels};w.prototype.getAvailableLayersNumber=function(){var e=0;if(this._data&&this._properties.get("visible")&&this._isSpaceEnough()){e=1}return e};w.prototype.getActiveLevels=function(){return this._ticksAndLabels&&this._ticksAndLabels.labels.allLevels};w.prototype.getActiveLabels=function(){return this._ticksAndLabels&&this._ticksAndLabels.labels};w.prototype.getRange=function(){if(this._ticksAndLabels&&this._ticksAndLabels.context){return[this._ticksAndLabels.context.start,this._ticksAndLabels.context.end]}};w.prototype.getTimeValueFormat=function(t){var i=t;if(v.isString(t)){i=this._properties.origin.get("general.showAsUTC")?new Date(t).getTime():e.createDateInstance(t).getTime()}else if(e.isDateValid(t)){i=t.getTime()}if(!this._data||isNaN(i)||!v.isNumber(i)){return[]}if(!this._ticksAndLabels){this._getTicksAndLabels(this._realSize.width,this._size.width)}var a=this._ticksAndLabels;return this.getValueFormatForTooltip(i,a.context,a.labelLevel?a.labelLevel.name:null)};w.prototype.getCellPosition=function(e){var t=this._ticksAndLabels.labels,i;for(var a=0;a<t.length;a++){var r=t[a].layers;for(var o=0;o<r.length;o++){var n=r[o];if(n.id===e){var l=c.getScale(this._data.getDomain(),this._realSize.width);if(n.range){var s=l(n.range.min),u=l(n.range.max);i={x:s,width:u-s}}break}}if(i){break}}return i};w.prototype.getScale=function(){return this._data};w.prototype.isOnlyShowingFirstAndLastLabel=function(){return this._properties.get("label.showFirstLastDataOnly")};w.prototype.getValueFormatForTooltip=function(e,t,i){return h.getTimeValueFormat(e,t,i,this)};w.prototype.fixLevelGap=function(e){c.fixLevelGap(e,this)};w.prototype.isForceCategoryForMinLevel=function(t,i,a){var r=e.levelComparator.bind(this);var o=a;if(!o){var n=this.runtime().statusManager();o=n.get("timeLevels");if(o){o.sort(r)}}var l=false;if(o&&t){l=this._isMultiplySeriesColumn&&i===1&&r(t,o[0])===0}return l};return w});define("sap/viz/chart/components/axis/sub/FiscalAxisBody",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/TimeAxisBody","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/axis/sub/TimeAxisCommon","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/FormatManager"],function(e,t,i,a,r,o,n,l,s){var u=function(e,t){u.superclass.constructor.apply(this,arguments);this.minCategoryLevel=i.FISCAL.PERIOD;var a=this.maxCategoryLevel.step;this.maxCategoryLevel={name:i.FISCAL.YEAR,step:a};this._isSupportVBCAxisLine=false};e.extend(u,t);u.prototype.normalizeDomain=function(e){if(l.isArray(e)&&e.length>1){var t=e[0];var i=e[1];if(!isNaN(t)&&!isNaN(i)&&isFinite(t)&&isFinite(i)){return t<=i?[t,i]:[i,t]}}return null};u.prototype.initLevelList=function(){this.levelList={};this.levelList[i.FISCAL.PERIOD]=a.clone(r.levelList[i.FISCAL.PERIOD]);this.levelList[i.FISCAL.YEAR]=a.clone(r.levelList[i.FISCAL.YEAR])};u.prototype.initLevelStore=function(){this.levelStore=[{id:"fiscal_period_1",name:"fiscal_period",step:1},{id:"fiscal_period_2",name:"fiscal_period",base:["fiscal_period_1"],step:2},{id:"fiscal_period_4",name:"fiscal_period",base:["fiscal_period_1","fiscal_period_2"],step:4},{id:"fiscal_year_1",name:"fiscal_year",step:1},{id:"fiscal_year_5",name:"fiscal_year",base:["fiscal_year_1"],step:5}]};u.prototype.initLevelDict=function(){var e=this._properties.origin;this.levelDict={fiscal_period:{period:i.FISCAL.ONE_FISCAL_PERIOD,format:function(t,i){if(i&&i.isOriginalFiscalStamp){return n.fiscalStampToObj(t,e).fiscalPeriod}else{return n.quantityToFiscal(t,e).fiscalPeriod}},visible:true,values:o.getValuesFunc("fiscal_periods",this),same:n.isSameFiscalPeriod},fiscal_year:{period:i.FISCAL.ONE_FISCAL_YEAR,format:function(t,i){if(i&&i.isOriginalFiscalStamp){return n.fiscalStampToObj(t,e).fiscalYear}else{return n.quantityToFiscal(t,e).fiscalYear}},visible:true,values:o.getValuesFunc("fiscal_years",this),same:n.isSameFiscalYear.bind(this)}}};u.prototype.normalizePadding=function(e){return e};u.prototype.getValueFormatForTooltip=function(e,t,i){var n=a.extend(true,[],r.normalizeLevels(t.levels,this));if(i){i=r.normalizeLevelName(i);if(i&&n.indexOf(i)===-1){n.push(i);n.sort(r.levelComparator.bind(this))}}var l=o.getPrevInfo(null,null);var s;var u;var c=[];var h;for(h=n.length-1;h>=0;h--){s=o.getCurrentInfo(e,n[h],n,null);u=this.formatFiscalLabel(s,l,t);c.push(u.text)}return c};u.prototype.formatFiscalLabel=function(e,t,i){var a=e.value;var r=e.levelName;var n=e.labelLevels;var u=t&&t.prevValue;var c=i.config;var h=c&&c[r]?c[r][o.FORMAT_CONFIG_FIELD]:null;var p=i.timeBodyCtx.levelDict[r]&&i.timeBodyCtx.levelDict[r].format;var d;var f;var v={};v.isOriginalFiscalStamp=true;if(l.isFunction(h)){f=h(a,u,false,n.slice());if(f){d={format:h,text:f}}}else if(l.isString(h)){f=s.format(a,h);if(f){if(f instanceof Date){f=h}d={format:h,text:f}}}if(!d){if(l.isString(p)){f=s.format(a,p);if(f instanceof Date){f=p}d={format:p,text:f}}else if(l.isFunction(p)){var g=p(a,v);if(l.isPlainObject(g)){d=g}else{d={format:p,text:g}}}}if(l.isString(d)){d={text:d}}d.text=l.isNumber(d.text)?d.text.toString():d.text;return d};u.prototype.fixLevelGap=function(e){e.sort(r.levelComparator.bind(this))};return u});define("sap/viz/chart/components/accessibility/TimeAxisNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i){function a(e){a.superclass.constructor.apply(this,arguments);this._timeLabels={};this._cells=this.label2cells(e.cells)}var r=3*24*36e5;e.extend(a,t);var o=a.prototype;o.label2cells=function(e){var t=[],i=[];for(var a=0;a<e.length;a++){var r=e[a].layers;for(var o=0;o<r.length;o++){var n=r[o];if(n.hasOwnProperty("rectX")&&n.text){if(!t[o]){t[o]=[];i[o]=0}t[o].push(n);n.index={row:o,col:i[o]++};this._timeLabels[n.id]={};this._timeLabels[n.id].index=n.index}}}return t};o.init=function(){};o.destroy=function(){a.superclass.destroy.apply(this,arguments);this._cells=null;this._categoryLabels=null};o.up=function(e,t){return this.getFirstChildCell(e,t)};o.down=function(e){return this.getParentCell(e)};o.left=function(e){return this.getSiblingCell(e,-1)};o.right=function(e){return this.getSiblingCell(e,1)};o.getCell=function(e){if(!this._timeLabels[e]){return null}var t=this._timeLabels[e].index;return this._cells[t.row][t.col]||null};o.getSiblingCell=function(e,t){var i;if(!this._timeLabels[e]){i={row:parseInt(e.split("-")[0]),col:0};return this._cells[i.row][i.col]}else{i=this._timeLabels[e].index}var a=this._cells[i.row][i.col+t];return a?a:null};o.getFirstChildCell=function(e,t){if(!this._timeLabels[e]){return null}var i=this._timeLabels[e].index;var a=this._cells[i.row-1];if(!a){return null}var o=function(e,i,a){if(i[a].rectX+t.x>=0){return i[a]}else{if(i[a+1]&&i[a+1].range.min<e.range.max){return i[a+1]}else{return i[a]}}};var n=this._cells[i.row][i.col],l;for(var s=0;s<a.length;++s){if(a[s].level==="week"){var u=a[s].range.min+r;if(n.range.min<=a[s].range.min&&u<=n.range.max||n.range.min<=u&&a[s].range.max<=n.range.max){return o(n,a,s)}}else{if(a[s].range.min>=n.range.min&&a[s].range.max<=n.range.max){return o(n,a,s)}}}};o.getParentCell=function(e){if(!this._timeLabels[e]){return null}var t=this._timeLabels[e].index;var i=this._cells[t.row+1];if(!i){return null}var a=this._cells[t.row][t.col];for(var o=0;o<i.length;o++){if(a.level==="week"){var n=a.range.min+r;if(a.range.min>=i[o].range.min&&n<=i[o].range.max||n>=i[o].range.min&&a.range.max<=i[o].range.max){return i[o]}}else{if(a.range.min>=i[o].range.min&&a.range.max<=i[o].range.max){return i[o]}}}};o.getFirstStartPoint=function(){var e=this._cells[0]?0:1;var t=this._cells[e]&&this._cells[e].length||0;for(var i=0;i<t;i++){if(this._cells[e][i]&&this._cells[e][i].text){return this._cells[e][i]}}return{id:null}};o.updateCells=function(e){this._timeLabels={};this._cells=this.label2cells(e)};o.findCell=function(e,t){if(!(e&&e.id)){return null}var i=e.id.split("-");var a=i[0],r=i[1];if(!this._cells[a]){a++}if(!this._cells[a]){return null}for(var o,n=0,l=this._cells[a].length;n<l;n++){o=this._cells[a][n];if(e.id===o.id||r>=o.range.min&&r<o.range.max){return o}}return null};return a});define("sap/viz/chart/components/axis/TimeAxis",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/scales/TimeScale","sap/viz/chart/components/axis/sub/TimeAxisBody","sap/viz/chart/components/axis/sub/FiscalAxisBody","sap/viz/framework/common/util/FiscalUtil","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/TimeAxisNavigator","sap/viz/chart/components/util/ChartConstants"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f){var v="measureNames";var g=function(e,t){g.superclass.constructor.apply(this,arguments);var i;if(n.isFiscal(t.rawData)){this._isFiscal=true;i=new o(e,t)}else{i=new r(e,t)}this.setChild("axisBody",i,{order:1,priority:2,offset:0})};t.extend(g,i);g.prototype.addARIATag=function(e){e.attr("role","listbox")};g.prototype._updateSubModules=function(e){var t=this.getChild("axisBody").module;t.setSize({width:this._size.width});var i;if(e.x===this._prevScaleX||!this._prevScaleX){i="noChange"}else if(e.x>this._prevScaleX){i="zoomIn"}else{i="zoomOut"}this._prevScaleX=e.x;t.setRealSize(this._realSize);t.update(i)};g.prototype.setData=function(e,t){g.superclass.setData.call(this,e);if(h.isExist(t)){this._hasNegativeValue=t}if(e.scale){var i=e.scale;this._scale=new a(i.getDomain(),[0,1],undefined,{dataBound:i.getDataBound()})}};g.prototype.setHasNegativeValue=function(e){this._hasNegativeValue=e;var t=this.getChild("axisBody").module;t.setHasNegativeValue(this._hasNegativeValue);return this};g.prototype._updateData=function(e){g.superclass._updateData.apply(this,arguments);if(!this._scale){return}if(this._isVertical()){this._scale.setRange([e.height,0])}else{this._scale.setRange([0,e.width])}var t=this.getChild("axisBody").module;t.setData(this._scale);t.setHasNegativeValue(this._hasNegativeValue)};g.prototype._constructTitle=function(e,t){var i=e.map(function(e){return e.name||e.id}).join(" / ");var a={};a.isHidden=false;a.text=i;t.push(a);return i};g.prototype.isVisible=function(){var e=this.properties();return e.visible===true};g.prototype.isLabelVisible=function(){var e=this.properties();return this._bodyLayersNumber>0&&e.label.visible};g.prototype.getFiscalUnitLabels=function(){var t=[];if(this._isFiscal){t.push(s.get("IDS_FISCALYEAR"));if(n.extractUnitType(this._properties.origin)===e.FISCAL.UNITTYPE_YEARPERIOD){t.push(s.get("IDS_FISCALPERIOD"))}}return t};g.prototype.getFormatTimeValue=function(e){var t=this.getChild("axisBody").module;var i=t.getTimeValueFormat(e);var a=i[0]===""?null:i[0];var r=i[1]===""?null:i[1];var o={};if(this._isFiscal){o.fiscalyear=a;o.fiscalperiod=r}else{o.day=a;o.time=r}return o};g.prototype.supportFixedLayout=true;g.prototype._setupLayout=function(t){g.superclass._setupLayout.call(this,t);var i=this.getChild(e.AXIS.SCROLLBAR_NAME);var a=this._properties.origin.get("plotArea.scrollbar.visible");if(i&&a===false){i.module.isExist(false)}};g.prototype.isByBound=function(){return true};p.register(f.TIMEAXIS_NAVIGATOR,null,d);return g});define("sap/viz/chart/components/datalabels/ScatterDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils"],function(e,t,i){function a(e,t){a.superclass.constructor.apply(this,arguments);this._labelPosition="up"}e.extend(a,t);var r=a.prototype;r._hasTimeAxis=function(){return!!this._data.timeAxis};r._getDataLabelInfo=function(e){var t=this._hasTimeAxis()?"valueAxis":"valueAxis2";var a=this._data;var r=i.getContextByDataModel(e,a);var o=a[t].metaData[0].id;return{key:o,value:r[o]}};return a});define("sap/viz/chart/components/renderers/ScatterRenderer",["sap/viz/framework/common/util/SVG","sap/viz/chart/components/util/DrawUtil"],function(e,t){function i(i){var a=e.createSVGNode("path");var r=i.graphic;var o=r.opacity;if(o>1||o<0){o=.8}var n=r.fillOpacity;if(n>1||n<0){n=1}if(r.shape==="circle"&&i.isBigData){a=e.createSVGNode("circle");a.setAttribute("fill",r.fill);a.setAttribute("r",r.width/2);if(r.fill!=="transparent"){a.setAttribute("stroke-width",r.borderWidth);a.setAttribute("stroke",r.borderColor);a.setAttribute("opacity",o);if(n!=null){a.setAttribute("fill-opacity",n)}}return a}var l={drawingEffect:r.drawingEffect,fillColor:r.fill,graphType:r.shape,direction:"vertical",rx:r.width/2,ry:r.height/2,borderWidth:r.borderWidth,node:a,opacity:o,fillOpacity:n,borderColor:r.borderColor};if(i.graphic.pattern){l.patternEffect=i.graphic.pattern}t.drawGraph(l,i.effectManager);return a}i.expose={renderer:i};return i});define("sap/viz/chart/components/plots/ProjectionHelper",["sap/viz/framework/common/util/oo"],function(e){var t=1;var i=6;var a=Math.abs;var r={};function o(){}o.prototype.init=function(e,t){this._rx=e;this._ry=t};function n(){}e.extend(n,o);n.prototype.init=function(e,t){this._rxSquare=e*e;this._rySquare=t*t;this._rxrySquare=this._rxSquare*this._rySquare;this._isCircle=this._rxSquare===this._rySquare};n.prototype.isInRange=function(e,t){return this._isCircle?e*e+t*t<=this._rxSquare:e*e*this._rySquare+t*t*this._rxSquare<=this._rxrySquare};function l(){}e.extend(l,o);l.prototype.init=function(e,t){this._rx=e;this._ry=t;this._rxry=e*t};l.prototype.isInRange=function(e,t){e=a(e);t=a(t);return this._rx*t+this._ry*e<=this._rxry};function s(){}e.extend(s,o);s.prototype.init=function(e,t){this._2ry=t*2;this._rxry=e*t;this._rx=e};s.prototype.isInRange=function(e,t){e=a(e);return this._rx*t+this._2ry*e<=this._rxry};function u(){}e.extend(u,o);u.prototype.init=function(e,t){this._2ry=t*2;this._rxry=e*t;this._rx=e};u.prototype.isInRange=function(e,t){e=a(e);return this._2ry*e-this._rx*t<=this._rxry};function c(){}e.extend(c,o);c.prototype.init=function(e,t){this._2rx=e*2;this._rxry=e*t;this._ry=t};c.prototype.isInRange=function(e,t){t=a(t);return this._2rx*t-this._ry*e<=this._rxry};function h(){}e.extend(h,o);h.prototype.init=function(e,t){this._2rx=e*2;this._rxry=e*t;this._ry=t};h.prototype.isInRange=function(e,t){t=a(t);return this._2rx*t+this._ry*e<=this._rxry};function p(){}e.extend(p,o);p.prototype.init=function(e,t){this._9ry=9*t;this._8ry=8*t;this._6rx=6*e;var i=e*t;this._3rxry=3*i;this._2rxry=2*i};p.prototype.isInRange=function(e,t){e=a(e);t=a(t);var i=this._6rx*t;return this._9ry*e-this._3rxry<=i&&i<=this._8ry*e+this._2rxry};function d(){}e.extend(d,o);d.prototype.init=function(e,t){this._dx=e/3;this._dy=t/3};d.prototype.isInRange=function(e,t){return a(e)<=this._dx||a(t)<=this._dy};function f(){}e.extend(f,o);f.prototype.isInRange=function(e,t){return a(e)<=this._rx&&a(t)<=this._ry};function v(e){this._projectorClz=e}e.extend(v,o);v.prototype.init=function(e,t,i){this._outer=new this._projectorClz;this._outer.init(e,t);this._inner=new this._projectorClz;this._inner.init(e-i,t-i)};v.prototype.isInRange=function(e,t){return!this._inner.isInRange(e,t)&&this._outer.isInRange(e,t)};var g={circle:new n,diamond:new l,triangleUp:new s,triangleDown:new u,triangleLeft:new c,triangleRight:new h,intersection:new p,cross:new d,square:new f,negative_circle:new v(n),negative_diamond:new v(l),negative_triangleUp:new v(s),negative_triangleDown:new v(u),negative_triangleLeft:new v(c),negative_triangleRight:new v(h),negative_intersection:new v(p),negative_cross:new v(d),negative_square:new v(f)};function m(e){var t=e.shape;if(t=="circle"&&!e.negativeValue){t="square"}t=e.negativeValue===true?"negative_"+t:t;return t}function y(e,t,i){var a=m(e);var o=r[a];o=o&&o[t];return o&&o[i]}function _(e,t,i){var a=m(e);var o=r[a]=e[a]||{};o=o[t]=o[t]||{};var n=o[i]=[];return n}function A(e,t,i){var a=m(e);var r=y(e,t,i);if(!r){var o=g[a];if(o){o.init(t,i,e.borderWidth);r=_(e,t,i);r.length=(t*2+1)*(i*2+1)*2;var n=0;for(var l=-t;l<=t;++l){for(var s=-i;s<=i;++s){if(o.isInRange(l,s)){r[n++]=l;r[n++]=s}}}r.length=n}}return r}function b(e,a,r){var o=[];r=r||{};e=o.width=Math.round(e);a=o.height=Math.round(a);o.layerLimit=r.layerLimit>0?parseInt(r.layerLimit):t;o.visibleThreshold=r.visibleThreshold>0?parseInt(r.visibleThreshold):i;var n=o.length=e*a;for(;n--;){o[n]=0}return o}function x(e,t,i,a,r,o){var n=e.width;var l=e.height;var s=e.layerLimit;if(t.shape=="circle"&&!!!t.negativeValue){r=o=Math.round(o/Math.SQRT2)}var u=A(t,r,o);var c=i-r;var h=i+r;var p=a-o;var d=a+o;var f=[];var v;var g,m,y;var _,b;if(c<0){c=0;v=true}if(h>n){h=n;v=true}if(p<0){p=0;v=true}if(d>l){d=l;v=true}if(u){var x=u.length;for(g=0;g<x;g+=2){if(!v){_=i+u[g];b=a+u[g+1];if(_>=c&&_<=h&&b>=p&&b<=d){y=_*l+b;if(e[y]<s){f.push(y)}}}}}else{for(g=c;g<=h;++g){var S=g*l;var D=S+d;for(y=S+p;y<=D;++y){if(e[y]<s){f.push(y)}}}}if(f.length>=e.visibleThreshold){for(g=f.length;g--;){e[f[g]]++}return true}return false}return{createPixelBoard:b,isAreaVisible:x}});define("sap/viz/chart/components/decorator/HitTestDecorator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/decorator/BaseHitTestDecorator","sap/viz/chart/components/util/HitTestUtils"],function(e,t,i){var a=i.isInCircle;var r=i.isInRect;var o=function(){o.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(e){var t=this._dataPointContext,i=e.left,o=e.top;var n;var l=this.getSize();var s=this._offset;var u=-s.x;var c=-s.y;var h=this._selection.select(".v-plot-bound").node();var p=h.getBoundingClientRect().width/l.width;if(e.hasOwnProperty("width")&&e.hasOwnProperty("height")){var d=e.width,f=e.height;var v=l.width;if(p!=1){v*=p;u*=p;c*=p}n=t.filter(function(e){var t=e.data.translate.slice();if(p!=1){t[0]*=p;t[1]*=p}var a=[i+u,o+c];return t[0]>=u&&t[0]<=v+u&&r(t,a,d,f)})}else{n=t.filter(function(e){return a(e.data.translate,[i,o],4)})}return n}};e.extend(o,t);return o});define("sap/viz/chart/components/accessibility/ScatterDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(e,t){function i(){i.superclass.constructor.apply(this,arguments);this._vSortedDatapoint=[];this._hSortedDatapoint=[]}e.extend(i,t);var a=i.prototype;a.init=function(){if(this._series){for(var e=0;e<this._series.length;e++){for(var t=0;t<this._series[e].length;t++){this._vSortedDatapoint.push(this._series[e][t]);this._hSortedDatapoint.push(this._series[e][t])}}if(this._renderType.match(/^timeseries/)){this._hSortedDatapoint.sort(function(e,t){return e.timeAxis[0].parsedValue-t.timeAxis[0].parsedValue});this._vSortedDatapoint.sort(function(e,t){return e.valueAxis-t.valueAxis})}else{this._hSortedDatapoint.sort(function(e,t){return e.valueAxis-t.valueAxis});this._vSortedDatapoint.sort(function(e,t){return e.valueAxis2-t.valueAxis2})}}};a.getFirstStartPoint=function(){if(this._series){for(var e=0;e<this._series.length;e++){for(var t=0;t<this._series[e].length;t++){if(this._isValidDataItem(this._series[e][t])){return this._series[e][t].dp}}}}return null};a.up=function(e){return this._move(e,1)};a.down=function(e){return this._move(e,-1)};a.left=function(e){return this._move(e,-1,true)};a.right=function(e){return this._move(e,1,true)};a.destroy=function(){i.superclass.destroy.apply(this,arguments);this._vSortedDatapoint=null;this._hSortedDatapoint=null};a._isValidDataItem=function(e){return e&&e.valueAxis&&(e.valueAxis2||e.timeAxis)};a._move=function(e,t,i){var a=i?this._hSortedDatapoint:this._vSortedDatapoint;var r=this.getDataPoint(e);var o=this.locate(r.address());var n=a.indexOf(o)+t;var l=a[n];var s=a.length;while(n>=0&&n<s&&!l){n+=t;l=a[n]}return l?l.dp:null};return i});define("sap/viz/chart/components/trendline/mixin/scatterPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/trendline/mixin/columnPlot","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/trendline/Trendline"],function(e,t,i,a){function r(){}e.extend(r,t);var o=r.prototype;o._rasterizeTrendData=function(e,t){var i=e.raw;return!t?i:i.map(function(e){return{x:e.y,y:e.x}})};o._getTrendlineRange=function(e,t){var i=e.raw,a=t?"y":"x",r=t?this._realSize.height:this._realSize.width,o=i[0][a],n=i[0][a];i.forEach(function(e){var t=e[a];o=o<t?o:t;n=n>t?n:t});return{start:o,end:n,step:(n-o)/r}};o._trendlineValueDomain=function(e,t){var i={valueAxis:[],valueAxis2:[]};this._getTrendLines(e);if(!this._trendlines){return[]}i=this._trendlines.reduce(function(e,i){if(!i){return e}var r=i.series,o=a.Utils.seriesAxisHasTime(r),n="valueAxis",l,s,u=i.raw;if(t){u=i.raw.filter(function(e){return e.x>=t[0]&&e.x<=t[1]})}if(!o){var c=u.map(function(e){return e.x});l=[Math.min.apply(null,c),Math.max.apply(null,c)];s=e[n].concat(l);e[n]=[Math.min.apply(null,s),Math.max.apply(null,s)];n="valueAxis2";l=a.domainPerTrendline(i.fx,u);s=e[n].concat(l);e[n]=[Math.min.apply(null,s),Math.max.apply(null,s)]}else{l=a.domainPerTrendline(i.fx,u);s=e[n].concat(l);e[n]=[Math.min.apply(null,s),Math.max.apply(null,s)]}return e},i);if(i.valueAxis.length===0){delete i.valueAxis}if(i.valueAxis2.length===0){delete i.valueAxis2}return i};o._val2PosFns=function(e,t,i){var a=this._xHandlers[0],r=this._yHandlers[0],o=this._realSize.width,n=this._realSize.height,l=function(e){var t=a._scale.scale(e);return t*o},s=function(e){var t=r._scale.scale(e);return(1-t)*n};return i?{x:s,y:l}:{x:l,y:s}};o._expandTrendlineXRange=function(e){a.expandTimeAxisDomain(e,this._trendlines)};return r});define("sap/viz/chart/components/plots/ScatterPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/datalabels/ScatterDataLabels","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/model/DataPointInfo","sap/viz/chart/components/plots/model/Series","sap/viz/chart/components/renderers/GridlineRenderer","sap/viz/chart/components/renderers/ScatterRenderer","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/plots/ProjectionHelper","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/decorator/HitTestDecorator","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/chart/util/PropertyUtils","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/ScatterDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/trendline/mixin/scatterPlot","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D,w,C){var T=10,z=4,L=32,P="#ffffff",k="circle",E=1,I=4e6;var O=Math.min,R=Math.max;var N=i.CSS.CLASS;var M=function(e,t){this._renderType=t.renderType;M.superclass.constructor.apply(this,arguments);this._dataPointRenderer=c;this._markerSize=null;this._shapePalette=null;this._dpStrokeVisible=null;this._dpStrokeColor=null;this._dpOpacity=null;this._drawingEffect=null;this._markerSizeDirty=true;this._dpStrokeColorDirty=true;this._bigDataThreshold=1e4;this._syncHighlightThreshold=4e3;this._dataPointContext=[]};e.extend(M,o);var B=M.prototype;B.setLastSeries=function(e,t){var i=this._series;var a=i.length;if(!a){return}var r=a;while(r--){var o=i[r];if(d.deepEqual(e,o.getContext())){if(r!==a-1){var n=i[a-1];i[a-1]=o;i[r]=n;if(t){this.refresh()}}break}}};B.refresh=function(){var e=this._series;for(var t=e.length;t--;){var i=e[t].getDataPoints();for(var a=i.length;a--;){var r=i[a];if(r){r.setNode(null)}}}var o=this._selection.node().querySelector("."+N.DATAPOINT_GROUP);var n=o.getAttribute("fill-opacity");var l=o.parentNode;l.removeChild(o);o=h.create("g");o.setAttribute("class",N.DATAPOINT_GROUP);this._showDatapoints(o);this._postRender(o);if(n){o.setAttribute("fill-opacity",n);o.setAttribute("stroke-opacity",n)}l.appendChild(o);var s=this._selection.node().querySelector("."+N.DATALABEL_GROUP);if(s){l=s.parentNode;l.removeChild(s)}this._drawDataLabels(d3.select(l),o)};B.destroy=function(){M.superclass.destroy.call(this);this._dataPointRenderer=null;this._markerSize=null;this._shapePalette=null;this._dpStrokeVisible=null;this._dpStrokeColor=null;this._dpOpacity=null;this._drawingEffect=null;this._markerSizeDirty=true;this._dpStrokeColorDirty=true;this._timeField=null};B._getDataLabels=function(e,t){return new r(t,{name:e})};B._getXHandlers=function(){var e=this._getBottomAxisName();var t={isHorizontal:true,alignment:"right"};var i=this._hasTimeAxis()?n.getTimeScaleHandler(e,t):n.getValueScaleHandler(e,t);return[i]};B.isDisableSyncHightlight=function(){return this._hasTimeAxis()&&this.getDataPointCount()>this._syncHighlightThreshold};B._getYHandlers=function(){var e=this._getLeftAxisName();return[n.getValueScaleHandler(e,{isHorizontal:false})]};B._getAxisPosition=function(e,t,i,a){var r=e[0];var o=r.id;var n={index:i,seriesIndex:t,dataHandler:this._dataHandler[o]};return r.scale(a[o],n)};B.getDataPointCount=function(){var e=0;var t=this._getSeries();for(var i=0;i<t.length;i++){var a=t[i];e+=a?a.length:0}return e};B._drawDatapoints=function(e){var t=this._getSeries();for(var i in this._dataHandler){if(this._dataHandler[i].reset){this._dataHandler[i].reset()}}var a=this._properties;this._markerSize=a.get("markerSize");this._markerSizeDirty=true;this._shapePalette=a.get("shapePalette");this._dpStrokeVisible=a.get("dataPoint.stroke.visible");this._dpStrokeColor=a.get("dataPoint.stroke.color");this._dpStrokeColorDirty=true;this._dpOpacity=a.get("dataPoint.opacity");this._drawingEffect=a.get("drawingEffect");var r=0;var o;var n;var l;var u;var c;var p;var d;var f;var v;var g=t.length;var m;var _=this.getDataPointCount();this._isBigData=_>this._bigDataThreshold&&this._realSize.width*this._realSize.height<I;var A=this._dataPointContext;for(o=0;o<g;o++){l=t[o];if(!l){continue}u=null;m=l.length;for(n=0;n<m;n++){c=l[n];if(!c){continue}d=this._getPosition(o,n,c);if(!d){continue}u=u||new s;f=this._buildWrapperConfig(c,d);v=this._buildData(f);p=this._createDataPoint(o,n,f,v,d,r,c);u.setDataPoint(n,p);A[c.dp.id]=f;r++}if(u){u.setContext(y.buildSeriesContext(this._data,o,["color","shape"]))}this._series[o]=u}if(this._series.every(function(e){return e==null})){this._series=[]}var b=h.create("g");b.setAttribute("class",N.DATAPOINT_GROUP);this._showDatapoints(b);this._postRender(b);e.node().appendChild(b);this._drawDataLabels(e,b)};B._buildWrapperConfig=function(e,t,i){var a;if(this.isBigDataMode()&&i==null){var r=this._getShape(e);var o=this._getMarkerSize();a={rawData:e,graphic:{width:o,height:o,borderWidth:E,shape:r},data:{translate:[t.x,t.y]}}}else{var n=i||e.dp.context();a=M.superclass._buildWrapperConfig.call(this,e,t,n)}if(this._data.timeAxis){a.timeField=this._getTimeField()}if(this._isBigData){a.isBigData=true}return a};B._preShowDatapoints=function(){var e=this._realSize;var t=this._series;var i=this._properties;var a=f.createPixelBoard(e.width,e.height,{layerLimit:1,visibleThreshold:6});for(var r=t.length;r--;){var o=t[r].getDataPoints();for(var n=o.length;n--;){var l=o[n];if(l){var s=l.getPosition();var u=Math.round(s.x);var c=Math.round(s.y);var h=l.getConfig().graphic;var p=h.borderWidth/2;var d=Math.round(h.width/2+p);var v=Math.round(h.height/2+p);var g=f.isAreaVisible(a,h,u,c,d,v);l.setVisible(g)}}}};B._showDatapoints=function(e){if(this.isBigDataMode()){this._preShowDatapoints()}this._renderDataPoints(e)};B._renderDataPoints=function(e){var t=this._series;var i=t.length;var a=this._dataPointContext;for(var r=0;r<i;r++){var o=this._getDataPointRenderer(r);if(!o){continue}var n=t[r];if(!n){continue}var l=n.getDataPoints();var s=l.length;for(var u=0;u<s;u++){var c=l[u];if(!c){continue}var h=c.getConfig().rawData;if(h){var p=c.getPosition();var d=this._buildWrapperConfig(h,p,h.dp.context());var f=this._buildData(d);c.setConfig(d);c.setData(f);a[h.dp.id]=d}if(!c.isVisible()){continue}var v=this._drawDataPoint(o,c);c.setNode(v);if(v){e.appendChild(v)}}}};B.isBigDataMode=function(){return this._isBigData};B.update=function(e){this._applyChanges();this._dataLabels.setSize(this._realSize);var t=this._selection.select(".v-plot-main");this._drawGridlines(this._selection);this._updateDatapoints(t)};B._redrawReferenceLine=function(e){};B.scroll=function(e){this._setOffset(e);if(!this._selection){return}if(!this._isInTrellis){var t=this._selection.select("g.v-plot-main");var i="translate("+this._offset.x+", "+this._offset.y+")";t.node().setAttribute("transform",i)}this._redrawReferenceLine(e);this._repositionReferenceLine();this.renderTrendlines(this._selection);if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};B._updateDatapoints=function(e){for(var t in this._dataHandler){if(this._dataHandler[t].reset){this._dataHandler[t].reset()}}var i=this._series;for(var a=i.length;a--;){var r=i[a];if(!r){continue}var o=this._getDataPointRenderer(a);if(!o){continue}var n=i[a].getDataPoints();for(var l=n.length;l--;){var s=n[l];if(!s){continue}var u=s.getRawData();if(!u){continue}var c=this._getPosition(a,l,u);if(!c){continue}s.setPosition(c);var h=s.getConfig();h.data.translate=[c.x,c.y];if(!s.isVisible()){continue}var p=s.getNode();if(!p){continue}this._updateDatapoint(p,o,h,c)}}var d=e.selectAll("."+N.DATAPOINT)[0];this._dataLabels.updatePosition(e,d)};B._updateDatapoint=function(e,t,i,r){if(t.update&&a.isFunction(t.update)){t.update(e,i)}if(r.hasOwnProperty("x")&&r.hasOwnProperty("y")){e.setAttribute("transform","translate("+r.x+", "+r.y+")")}};B._createDataPoint=function(e,t,a,r,o,n,s,u){var c=new l(e,t,null,-1);c.init(a,n,r,s&&s.dp&&s.dp.id?s.dp.id:i.NULL_VALUE,u);c.setPosition(o);c.setRawData(s);return c};B._drawGridlines=function(e){var a=this._realSize;var r=i.DIRECTION.HORIZONTAL;var o=this._properties.proxy("gridline");var n=[a.height,0];var l=this._getLeftAxisName();var s=this._data[l];var c=new t(s.scale.getDomain(),n);c.setTickHint(s.tickHint);u.drawValueGridline(e,a.width,a.height,c,o,r,this.runtime().effectManager())};B._getDataHandler=function(){return this._hasTimeAxis()?{valueAxis:g.getHandler()}:{valueAxis:g.getHandler(),valueAxis2:g.getHandler()}};B.getDataPointPosition=function(e,t){var i=this._data.series[e][t];var a=this._getPosition(e,t,i);a.height=0;return a};B._getMarkerSize=function(){if(!this._markerSizeDirty){return this._markerSize}var e=this._markerSize;if(!(a.isExist(e)&&z<=e&&e<=L)){e=T}this._markerSizeDirty=false;this._markerSize=e;return e};B._getBorderColor=function(){if(!this._dpStrokeColorDirty){return this._dpStrokeColor}var e;if(this._dpStrokeVisible===true){e=this._dpStrokeColor}else{e=P}this._dpStrokeColorDirty=false;this._dpStrokeColor=e;return e};B._getColor=function(e){var t=null;if(this._data.color){var i=e.color;if(i&&i.length){var a=b.getBubbleDepth(this._properties,"colorDepth",i);i=i.slice(0,a)}t=this._data.color.scale.scale(i)}return t};B._getShape=function(e){var t;if(e.hasOwnProperty("shape")){var i=e.shape;if(i&&i.length){var a=b.getBubbleDepth(this._properties,"shapeDepth",i);i=i.slice(0,a)}t=this._data.shape.scale.scale(i)}else{var r=this._shapePalette||[];t=r.length?r[0]:k}return t};B._buildConfig=function(e,t,i){var a=this._properties;var r=this._getColor(e);var o=this._getShape(e);var n=this._getMarkerSize();var l=this._getBorderColor();var s={graphic:{drawingEffect:this._drawingEffect,fill:r,shape:o,width:n,height:n,borderColor:l,borderWidth:E,opacity:this._dpOpacity},data:{color:r,shape:o,translate:[t.x,t.y]},ctx:i,effectManager:this._effectManager};return s};B._buildData=function(e){var t=e.graphic;var i={color:t.fill,shape:t.shape,borderColor:t.borderColor};if(this._data.timeAxis){i.timeField=e.timeField=this._getTimeField()}return i};(new m).decorate(M);B._hasTimeAxis=function(){return/timeseries/.test(this._renderType)};B._getBottomAxisName=function(){return this._hasTimeAxis()?"timeAxis":"valueAxis"};B._getLeftAxisName=function(){return this._hasTimeAxis()?"valueAxis":"valueAxis2"};B._getTimeField=function(){if(!this._timeField&&this._data&&this._data.timeAxis){this._timeField=this._data.timeAxis.metaData.map(function(e){return e.id})}return this._timeField};B._recordPlotWindow=function(){var e=this._properties.get("window"),t=this.getVisibleRange();if(t.x||t.y){this.runtime().statusManager().set("plotArea.window",e)}};B.getVisibleRange=function(){var e={};var t=!this._properties.origin.get("interaction.noninteractiveMode");if(t){var a=this._properties.get("window.start")||{},r=this._properties.get("window.end")||{},o,n,l;var s=function(e){if(this._hasTimeAxis()){n=this._data.timeAxis.scale.getDomain();l=this._data.valueAxis.scale.getDomain()}else{n=this._data.valueAxis.scale.getDomain();l=this._data.valueAxis2.scale.getDomain()}var t=e;if(e===i.PLOTAREA.FIRST_DATAPOINT){if(this._hasTimeAxis()){t={timeAxis:n[0],valueAxis:l[0]}}else{t={valueAxis:n[0],valueAxis2:l[0]}}}else if(e===i.PLOTAREA.LAST_DATAPOINT){if(this._hasTimeAxis()){t={timeAxis:n[1],valueAxis:l[1]}}else{t={valueAxis:n[1],valueAxis2:l[1]}}}return t};var u=p.startEndConvertor(a,r,this._properties.origin);a=s.call(this,u.start);r=s.call(this,u.end);if(this._hasTimeAxis()){if(a.hasOwnProperty("timeAxis")||r.hasOwnProperty("timeAxis")){o=this._data.timeAxis.scale.getDomain();var c=C.createDateInstance(a.timeAxis).getTime();var h=C.createDateInstance(r.timeAxis).getTime();e.x=_.visibleRangeTransform(o,c,h)}if(a.hasOwnProperty("valueAxis")||r.hasOwnProperty("valueAxis")){o=this._data.valueAxis.scale.getDomain();e.y=_.visibleRangeTransform(o,a.valueAxis,r.valueAxis)}}else{if(a.hasOwnProperty("valueAxis")||r.hasOwnProperty("valueAxis")){o=this._data.valueAxis.scale.getDomain();e.x=_.visibleRangeTransform(o,a.valueAxis,r.valueAxis)}if(a.hasOwnProperty("valueAxis2")||r.hasOwnProperty("valueAxis2")){o=this._data.valueAxis2.scale.getDomain();e.y=_.visibleRangeTransform(o,a.valueAxis2,r.valueAxis2)}}}return e};B.isHorizontal=function(){return this._options.isHorizontal===true};x.register(D.DATAPOINT_NAVIGATOR,D.TIMESCATTER,S);x.register(D.DATAPOINT_NAVIGATOR,D.SCATTER,S);(new w).inject(M.prototype);return M});define("sap/viz/chart/components/datalabels/BubbleDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/ScatterDataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/DataUtils"],function(e,t,i,a,r,o,n,l,s){var u="bubbleWidth";var c="color";var h="regionColor";var p="shape";var d="regionShape";var f=function(e,t){f.superclass.constructor.apply(this,arguments);this._labelPosition="inside";this._needDateFormat=false};e.extend(f,t);var v=f.prototype;v.destroy=function(){f.superclass.destroy.call(this);this._labelPosition=null;this._timeBindingId=null;this._datalabel_type=null;this._needDateFormat=false};v.getBound=function(){var e;if(this._isTrellis){e={left:0-this._trellisPadding.left,width:this._trellisCellSize.width,top:0-this._trellisPadding.top,height:this._trellisCellSize.height}}else{e=f.superclass.getBound.call(this)}return e};v.setTimeBindingId=function(e){this._timeBindingId=e};v._isPrimary=function(e){return this._hasTimeAxis()?e==="timeAxis":e==="valueAxis"};v._isSecondary=function(e){return this._hasTimeAxis()?e==="valueAxis":e==="valueAxis2"};v._getDataLabelInfo=function(e){var t=i.getContextByDataModel(e,this._data);this._datalabel_type=this._properties.get("type");if(this._datalabel_type===h){this._datalabel_type=c}else if(this._datalabel_type===d){this._datalabel_type=p}var a,r;if(this._data.hasOwnProperty(this._datalabel_type)&&this._data[this._datalabel_type].metaData){a=this._data[this._datalabel_type].metaData[0].id;r=t[a];if(r===null){r=undefined}return{key:a,value:r}}else{if(this._data.hasOwnProperty(u)&&this._data[u].metaData){a=this._data[u].metaData[0].id;r=t[a];return{key:a,value:r===null?undefined:r}}return{key:null,value:undefined}}};v._buildDataLabelText=function(e,t,i,a){return r.buildDataLabelText(this._properties,e,t,i,a,g.bind(this),y.bind(this),m.bind(this))};function g(e){var t=e.get("type");var i;if(t==="color"||t==="shape"){i=[t]}else if(this._isPrimary(t)&&(this._hasTimeAxis()||this._timeBindingId)){i=["date"];this._needDateFormat=true}else{i=["value"]}return i}function m(e,t){var i="";var r,o,l;if(this._data.hasOwnProperty(this._datalabel_type)&&this._data[this._datalabel_type].metaData){r=this._data[this._datalabel_type].metaData;l=r?r.length:0}for(var u=0;u<l;u++){o=e[r[u].id+s.DIMENSION_DISPLAYNAME_SUFFIX]||e[r[u].id];i+=n.isString(o)||!n.isNaN(o)?o:a.get("IDS_ISNOVALUE");if(u<l-1){i+="-"}}return i}function y(e,t,i){var r=e.get("type");var o;if(r==="color"||r==="shape"){o=t[0]}else if((r==="valueAxis"||r==="valueAxis2"||r==="bubbleWidth")&&this._needDateFormat){o=t[0]}else{o=n.isNaN(i.value)?a.get("IDS_ISNOVALUE"):t[0]}return o}v._processDataLabelRendererConfig=function(e,t){var i=this._fixBBoxWhenInvisible(t),a=this._properties.get("style"),r;var l=this._properties.get("respectShapeWidth");if(l){if(this._isPrimary(this._datalabel_type)&&!this._timeBindingId||this._isSecondary(this._datalabel_type)||this._datalabel_type===u){var s=a.fontSize;if(!n.isNaN(s)){s+="px"}var c=o.fastMeasure(e.text,s,a.fontWeight,a.fontFamily);if(c.width>i.width){e.text=""}return}var h={};var p=this.runtime().envManager();h.reverseDots=p&&p.reverseDots();r=o.ellipsis(e.text,undefined,i.width,e.styles.cssString,h);if(r!==e.text&&r.indexOf("...")>=0&&r.length<6){r=""}e.text=r}};var _=3;v.hideConditional=function(e){var t=e.length;for(var i=0;i<t;++i){var a=e[i];var r=a.center;for(var o=i+1;o<t;++o){var n=e[o].center;var s=l.getData(e[o].dataPoint).width/2+_;if((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)<=s*s){a.skip=true;break}}}f.superclass.hideConditional.call(this,e)};v.sortDataLabelInfos=function(e){};return f});define("sap/viz/chart/scales/SizeScaleUtil",["sap/viz/framework/common/util/NumberUtils"],function(e){var t=4;var i=10;var a={build:function(e,a,r){var o;if(e){if(e<0){e=i}o=e<=a?e:i}var n=r[0],l=r[1];var s=r.withNoValue?r.withNoValue:false;return function(e){if(isNaN(e)||isNaN(l)&&isNaN(n)){return o?o:t}if(n===l){if(s){return a}else{return i}}var r;if(o){if(l>n&&e>=n&&e<=l){r=Math.pow((Math.abs(e)-n)/(l-n),.5)*(a-o)+o}else{r=o}}else{r=Math.pow(Math.abs(e)/l,.5)*a}return r>t?r:t}}};return a});define("sap/viz/chart/components/plots/BubblePlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/plots/ScatterPlot","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/components/plots/model/DataPointInfo","sap/viz/chart/components/plots/model/Series","sap/viz/chart/components/renderers/ScatterRenderer","sap/viz/chart/components/datalabels/BubbleDataLabels","sap/viz/chart/scales/SizeScaleUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/plots/ProjectionHelper","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/BoundingBoxUtils"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v){function g(e,t){g.superclass.constructor.apply(this,arguments);this._seletedSeries=[];this._semanticMgr.setUseSemanticPattern(true);if(this._renderType&&this._renderType.indexOf("time")>-1){this._bigDataThreshold=Infinity}}e.extend(g,a);var m=4;var y=1;var _=g.prototype;_.setSizeScale=function(e){this._widthScale=e};_.getWidthScale=function(){return this._widthScale};_._getOrderMap=function(){return this._data.orderMap};_.setLastSeries=function(e,t){var i=this._series;var a=i.length;if(!a){return}var r=a;while(r--){var o=i[r];if(f.deepEqual(e,o.getContext())){var n=this._seletedSeries.indexOf(r);if(n!==-1){this._seletedSeries.splice(n,1)}this._seletedSeries.push(r);if(t&&a>1){this.refresh()}break}}};_.destroy=function(){g.superclass.destroy.call(this);this._widthScale=null;this._seletedSeries=[]};var A=function(e,t){return t-e};_._getSortedSeries=function(){var e=this._getOrderMap();var t=this._series;var i;i=Object.getOwnPropertyNames(e);i.sort(A);return i};_._buildConfig=function(e,t,i){var a=g.superclass._buildConfig.apply(this,arguments);var r=m;if(e.hasOwnProperty("bubbleWidth")){r=Math.max(m,this._widthScale(e.bubbleWidth))}a.graphic.width=r;a.graphic.height=r;a.graphic.opacity=this._dpOpacity;return a};_._getFillColorConfig=function(e,t,i,a){var r=a.bubbleWidth<0;this._semanticMgr.setUseSemanticPattern(!r);g.superclass._getFillColorConfig.apply(this,arguments);if(r){e.graphic.fillOpacity=0;e.graphic.opacity=1;e.graphic.borderColor=e.graphic.fill}e.data.negativeValue=r;this._semanticMgr.setUseSemanticPattern(true);return e};_._buildWrapperConfig=function(e,t,i){var a;if(this._isBigData&&i==null){var r=this._getShape(e);var o=m;var n=false;if(e.hasOwnProperty("bubbleWidth")){o=Math.max(m,this._widthScale(e.bubbleWidth));n=e.bubbleWidth<0}a={graphic:{width:o,height:o,borderWidth:y,shape:r},data:{negativeValue:n,translate:[t.x,t.y]}}}else{a=g.superclass._buildWrapperConfig.apply(this,arguments)}return a};_._showDatapoints=function(e){if(this._isBigData){this._renderBigVolumeDataPoints(e)}else{this._renderDataPoints(e)}};_._renderBigVolumeDataPoints=function(e){var t=this._realSize;var i=this._properties;var a=this._series;var r=this._dataPointContext;var o,n,l;var s=d.createPixelBoard(t.width,t.height,{layerLimit:1,visibleThreshold:6});var u=this._getSortedSeries();var c=this._getOrderMap();var h,p=u.length;var f=this._properties.get("showNegativeValues");var v,g,m;var y,_,A,b;for(o=p;o>=0;o--){if(o===p){m=this._seletedSeries}else{m=c[u[o]]}h=m.length;for(n=h-1;n>=0;n--){v=m[n];if(o!==p&&this._seletedSeries.length>0&&this._seletedSeries.indexOf(v)!==-1){continue}g=a[v];if(!g){continue}A=this._getDataPointRenderer(v);if(!A){continue}y=g.getDataPoints();_=y.length;for(l=0;l<_;l++){b=y[l];if(b){var x=b.getRawData();if(!x){continue}var S=b.getConfig();if(!f&&S.data.negativeValue||S.data.isNoValue){b.setVisible(false)}else{var D=b.getPosition();var w=Math.round(D.x);var C=Math.round(D.y);var T=S.graphic;var z=Math.round(T.width/2+T.borderWidth);var L=Math.round(T.height/2+T.borderWidth);T.negativeValue=S.data.negativeValue;var P=d.isAreaVisible(s,T,w,C,z,L);b.setVisible(P);if(P){S=this._buildWrapperConfig(x,D,x.dp.context());b.setConfig(S);var k=this._buildData(S);r[x.dp.id]=S;b.setData(k);var E=this._drawDataPoint(A,b);b.setNode(E);if(E){e.insertBefore(E,e.firstChild)}}}}}}}};_._getDataLabels=function(e,t){return new c(t,{name:e})};_.getDataPointPosition=function(e,t){var i=g.superclass.getDataPointPosition.apply(this,arguments);var a=this._data.series[e][t];if(this._widthScale){i.r=this._widthScale(a.bubbleWidth)}return i};_._drawDataPoint=function(e,t){var i=this._properties.get("showNegativeValues");var a=t.getConfig();if(false===i&&a.data.negativeValue){return null}if(true===a.data.isNoValue){return null}return g.superclass._drawDataPoint.apply(this,arguments)};_._buildData=function(e){var t=g.superclass._buildData.apply(this,arguments);var i=e.graphic;t.width=i.width;t.height=i.width;t.fillOpacity=i.fillOpacity;if(i.pattern){t.pattern=i.pattern}return t};_._postRender=function(e){g.superclass._postRender.apply(this,arguments);if(this._isBigData){return}var t=e.querySelectorAll("."+n.CSS.CLASS.DATAPOINT);var i=t.length;var a=[];var r=0;for(r=0;r<i;++r){a.push({index:r,dp:t.item(r)})}a.sort(function(e,t){var i=p.getData(t.dp).width-p.getData(e.dp).width;if(i===0){i=e.index-t.index}return i});for(r=0;r<a.length;++r){e.appendChild(a[r].dp)}};_._updateDatapoint=function(e,t,i,a){var r=this._properties.get("showNegativeValues");if(false===r&&i.data.negativeValue){return}if(true===i.data.isNoValue){return}return g.superclass._updateDatapoint.call(this,e,t,i,a)};_.hitTest=function(e){var t=this._dataPointContext,i=e.x,a=e.y;var r;var o=this.getSize();var n=this._offset;var l=-n.x;var s=-n.y;var u=this._selection.select(".v-plot-bound").node();var c=u.getBoundingClientRect().width/u.getBBox().width;var h=this._properties.get("showNegativeValues");if(e.hasOwnProperty("width")&&e.hasOwnProperty("height")){var p=e.width,d=e.height;var f=o.width;if(c!=1){f*=c}r=t.filter(function(e){if(!h&&e.data.negativeValue){return false}var t=e.data.translate.slice();if(c!=1){t[0]*=c;t[1]*=c}var r={left:t[0]-e.graphic.width/2-e.graphic.borderWidth,top:t[1]-e.graphic.height/2-e.graphic.borderWidth,width:e.graphic.width+2*e.graphic.borderWidth,height:e.graphic.height+2*e.graphic.borderWidth};var o={left:i+l,top:a+s,width:p,height:d};return v.intersects(r,o)})}else{r=t.filter(function(e){if(!h&&e.data.negativeValue){return false}var t=e.data.translate.slice();if(c!=1){t[0]*=c;t[1]*=c}var r={left:t[0]-e.graphic.width/2-e.graphic.borderWidth,top:t[1]-e.graphic.height/2-e.graphic.borderWidth,width:e.graphic.width+2*e.graphic.borderWidth,height:e.graphic.height+2*e.graphic.borderWidth};var o={x:i+l,y:a+s};return v.contains(r,o)})}return r};return g});define("sap/viz/chart/components/renderers/TimeReferenceLineRenderer",["sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/renderers/ReferenceLineRenderer","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Math","sap/viz/chart/components/axis/sub/TimeAxisBodyHelper","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o,n,l,s){var u=e.extend({},t);var c=i.REF_LINE_DASH_TYPE_ARRAY;var h="timeAxis";var p=function(e,t){var i=e;var r=[];var o;var n;var l;var s=-t.xOffset;var u=0;for(n=0;n<i.length;n++){for(l=0;l<2;l++){if(l<1){u=i[n].y}else{s=i[n].loc}o=[s,u];r.push(o)}}return a.outputPath(r)};var d=function(e,t){var i=[];var a;var r=-Number.MAX_VALUE;var o=parseFloat(t);for(a=0;a<e.length;a++){if(e[a]&&l.isExist(e[a].date)&&l.isExist(e[a].value)){var n=s.createDateInstance(e[a].date).getTime();if(!isNaN(n)&&!isNaN(parseFloat(e[a].value))&&n>r){i.push({value:o,timeStamp:n});o=parseFloat(e[a].value);r=n}}}i.push({value:o,timeStamp:Number.MAX_VALUE});return i};u._combineConfig=function(e,i,a){var r=i.defaultStyle;var o=i.width;var s=i.height;var u=i.isPercentage;var c=i.xHandlers;var p=i.props;var f=t._combineConfig(e,i);if(e.changePoints&&l.isArray(e.changePoints)&&e.changePoints.length>0){var v=d(e.changePoints,e.value);if(v){f.variety=[];var g;var m;var y=this._searchAxisHandler(c,h).getDomain();var _=n.getScale(y,f.realWidth);var A=this._calculatePosition(u,a,e.value);var b=(1-A)*f.realHeight;var x;for(m=0;m<v.length;m++){g={};A=this._calculatePosition(u,a,v[m].value);g.y=(1-A)*f.realHeight-b;g.loc=_(v[m].timeStamp);if(g.loc<0){g.loc=0}else if(g.loc>f.realWidth){g.loc=f.realWidth}if(f.variety.length===0||g.loc>x){f.variety.push(g);x=g.loc}}}}return f};u._isInvisiblePosition=function(e,i){return t._isInvisiblePosition(e)&&!(i.changePoints&&l.isArray(i.changePoints)&&i.changePoints.length>0)};u._drawReferenceLine=function(e,r,o,n,s,u,h){if(e.variety&&l.isArray(e.variety)&&e.variety.length>0){var d=a.create("g",o);d.setAttribute("class","v-referenceline v-referenceline-"+r);d.setAttribute("transform","translate("+e.xOffset+","+0+")");var v=a.create("path",d);v.setAttribute("stroke",e.strokeColor);v.setAttribute("stroke-width",e.strokeWidth);v.setAttribute("shape-rendering","crispEdges");var g=f(e,u);var m=p(g,e);v.setAttribute("d",m);v.setAttribute("fill","none");if(i.GRIDLINE_TYPE.DASHED===e.lineType||i.GRIDLINE_TYPE.DOTTED===e.lineType){var y=v.cloneNode(true);y.setAttribute("stroke","transparent");d.appendChild(y);v.setAttribute("stroke-dasharray",c)}else if(i.GRIDLINE_TYPE.INCISED===e.lineType){v.setAttribute("stroke","#ffffff")}}else{t._drawReferenceLine(e,r,o,n,s,u,h)}};var f=function(e,t){var i=[];var a=-e.xOffset;var r=a+t;var o;for(o=0;o<e.variety.length;o++){if(e.variety[o].loc>a){i.push(e.variety[o])}if(e.variety[o].loc>=r){e.variety[o].loc=r;break}}return i};var v=function(e,t,i,a){var r=t.label.textSize;var o=f(t,i.width);var n=0;if(e){n=o.length-1}var l=o[n].y;var s=(1-i.pos)*a+l-r.height/2;var u=s;if(t.realHeight){u=(1-i.pos)*t.realHeight+l-r.height/2}if(u<=0){s+=r.height/2}else if(u>=t.realHeight-r.height){s-=r.height/2}return s};u._drawLabel=function(e){var i=t._buildLabelObj(e);var a=e.height;var r=e.combinedConfig;if(r.variety&&l.isArray(r.variety)&&r.variety.length>0){var o=false;if(e.axisLayout[e.key]==="right"){o=true}i.rect.y=v(o,r,e,a);i.candidateRect.y=v(!o,r,e,a)}t._layoutAndUpdateLabelDOM(e,i);return i};return u});define("sap/viz/chart/components/plots/TimeSeriesPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/renderers/TimeReferenceLineRenderer"],function(e,t){var i=function(i){var a=function(e,t){a.superclass.constructor.apply(this,arguments)};e.extend(a,i);a.prototype.getReferenceLineRenderer=function(){return t};a.prototype.zoom=function(e){this.update(e)};a.prototype._redrawReferenceLine=function(e){this._drawReferenceLine(e)};a.prototype.update=function(e){if(this._selection){a.superclass.update.apply(this,arguments);this._drawReferenceLine(e);this._repositionReferenceLine()}};return a};return i});define("sap/viz/chart/components/plots/YYPlotFactory",["jquery","sap/viz/chart/components/plots/BubblePlot","sap/viz/chart/components/plots/ScatterPlot","sap/viz/chart/components/plots/TimeSeriesPlot"],function(e,t,i,a){var r={bubble:{plotClazz:t},scatter:{plotClazz:i},time_bubble:{plotClazz:t},timeseries_scatter:{plotClazz:a(i),options:{}},timeseries_bubble:{plotClazz:a(t),options:{}}};return{getPlotClazz:function(e){var t=r[e];return t&&t.plotClazz}}});define("sap/viz/chart/components/axis/sub/TimeValueAxisBody",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o,n,l,s){var u=function(){u.superclass.constructor.apply(this,arguments)};e.extend(u,t);u.prototype._getTicksToRender=function(){var e=this._data,t=e.getDomain();return this._getAllLabels(null,e,true).filter(function(e){return e.value>=t[0]&&e.value<=t[1]}).map(function(e){return e.value})};u.prototype.drawTicks=function(e,t,i,a,r,o,l){return n.drawTicks(e,t,i,a,r,o,l,true)};u.prototype._getFixedTicksLabels=function(e,t){e.forEach(function(e){e.text=i.isNonEmptyString(e.text)?e.text:r.get("IDS_ISNOVALUE")});return e.filter(function(e){return e.value>=t[0]&&e.value<=t[1]})};u.prototype._getAllLabels=function(e,t,i){var a=this._properties.get("axisTick.fixedTicks"),r=t.getDomain(),o=[];if(a&&a.length>0){o=this._getFixedTicksLabels(a,r)}else{var n=t.timeUnit,u=t.timeUnitGap,c=t.tickNum,h=s.createDateInstance(r[0]);var p=function(e){return l.format(s.createDateInstance(e),n.format)},d=function(e){return l.format(s.createDateInstance(e),"dd/mm/yyyy hh:mm")};h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0);for(var f=0,v;f<c;f++){v=s.createDateInstance(h.getTime());n.set.apply(v,[n.get.apply(h,[])+f*u]);o.push({text:p(v),value:v.getTime()})}var g=t.getDomainFixed();if(g[0]){o[0].text=d(s.createDateInstance(o[0].value))}if(g[1]){o.push({value:r[1],text:d(s.createDateInstance(r[1]))})}}this._setLabelsPosition(o,t);if(!i){return this._filterLabels(o)}return o};u.prototype._filterLabels=function(e){var t=[];if(e.length>1){t=o.calculateLabelsToDrawHelper(e);if(t.length<=1||t.length===2&&o.isOverLapped(t[0],t[1])){t=[]}}else if(e.length===1){t=e}return t};u.prototype.formatTickValue=function(e,t,i,a){var r=e;var o=a.getDomainFixed();if(o[0]){r=l.format(s.createDateInstance(e),"dd/mm/yyyy hh:mm")}else{r=l.format(s.createDateInstance(e),a.timeUnit.format)}return r};return u});define("sap/viz/chart/components/axis/TimeValueAxis",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/sub/TimeValueAxisBody","sap/viz/chart/components/scrollbar/Scrollbar"],function(e,t,i,a,r){var o=function(t,o){i.superclass.constructor.apply(this,arguments);this.setChild("axisBody",new a(t,o),{order:1,priority:2,offset:0});this.setChild(e.AXIS.SCROLLBAR_NAME,new r(t,{name:"plotArea.scrollbar"}),{order:2,priority:0,offset:0});this._isPercentageMode=false};t.extend(o,i);o.prototype.setData=function(e){o.superclass.setData.apply(this,arguments);if(e&&e.scale){this._scale.tickNum=e.scale.tickNum;this._scale.timeUnit=e.scale.timeUnit;this._scale.timeUnitGap=e.scale.timeUnitGap}};return o});define("sap/viz/chart/components/zoom/YYZoomer",["sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/zoom/ZoomLimit","sap/viz/framework/common/util/oo"],function(e,t,i){function a(){a.superclass.constructor.apply(this,arguments)}i.extend(a,e);a.prototype.direction=function(){return"xy"};a.prototype._calcZoomLimit=function(e,i){var a=t.Regular(e,i),r=e.plot.getVisibleRange(),o=r.x?r.x.ratio:0,n=r.y?r.y.ratio:0;var l=a[0],s=Math.max(a[1],o,n);return{x:{min:l,max:s},y:{min:l,max:s}}};return a});define("sap/viz/chart/components/zoom/TimeYZoomer",["sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/zoom/ZoomLimit","sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r,o){function n(){n.superclass.constructor.apply(this,arguments)}i.extend(n,e);n.prototype.direction=function(){var e=this._modules.main._renderType;if(!this.enabled()){return""}else{switch(e){case"timeseries_waterfall":case"timeseries_line":case"timeseries_column":case"timeseries_stacked_column":case"timeseries_100_stacked_column":case"timeseries_combination":case"timeseries_bullet":return this._modules.isHorizontal?"y":"x";case"timeseries_bubble":case"timeseries_scatter":return"xy";default:return n.superclass.direction.call(this)}}};n.prototype.zoom=function(e,t,i,a){this._status.set("zooming",true);return n.superclass.zoom.call(this,e,t,i,a)};n.prototype._calcZoomLimit=function(e,i){if(!(e.main.isColumnLike&&e.main.isColumnLike())){var n=e.main,l=e.plot,s=n.getChild("timeAxis").module,u=n._properties.get("plotArea.window"),c=n.getData().timeAxis.scale.getDomain(),h=c[1]-c[0],p,d=Math.min(l.getSize().width*.7,250);if(u){var f=c[0],v=c[1];if(a.isExist(u.start)){if(a.isNumber(u.start)){f=Number(u.start)}else if(a.isNumber(r.createDateInstance(u.start).getTime())){f=r.createDateInstance(u.start).getTime()}}if(a.isExist(u.end)){if(a.isNumber(u.end)){v=Number(u.end)}else if(a.isNumber(r.createDateInstance(u.end).getTime())){v=r.createDateInstance(u.end).getTime()}}if(v>f){p=h/(v-f)}}var g=s.getChild("axisBody").module.getActiveLevels(),m=g&&g.length>0?g[0]:"day",y=l.getSize().width;var _=r["ONE_"+m.toUpperCase()];if(!_){if(m===o.FISCAL.PERIOD){_=o.FISCAL.ONE_FISCAL_PERIOD}else if(m===o.FISCAL.YEAR){_=o.FISCAL.ONE_FISCAL_YEAR}}var A=d/_*h/y;if(!a.isExist(p)||p<A){p=A}return{x:{min:1,max:p},y:{min:1,max:p}}}else{var b={x:{},y:{}},x=t.Bar(e,i);b.x.min=x[0];b.x.max=x[1];b.y.min=x[0];b.y.max=x[1];return b}};return n});define("sap/viz/chart/components/plotareas/YYPlotArea",["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/XYContainer","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/TimeAxis","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/chart/components/plots/YYPlotFactory","sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/axis/TimeValueAxis","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataUtils","sap/viz/chart/scales/TimeScale","sap/viz/chart/components/zoom/YYZoomer","sap/viz/chart/components/zoom/TimeYZoomer","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/trendline/Trendline"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S){function D(e){var t,i,a=e._plot;if(a._hasTimeAxis()){t="timeAxis";i="valueAxis"}else{t="valueAxis";i="valueAxis2"}function r(){return y.offsetInValue({h:e._data[t].scale,v:e._data[i].scale},e.getOffset(),a.getRealSize())}function o(r){var o=e._data[t].scale,n=e._data[i].scale,l=a.getRealSize(),s={};if(!isNaN(r.x)){s.x=-o.scale(r.x)*l.width}if(!isNaN(r.y)){s.y=-(1-n.scale(r.y))*l.height}e.scroll(s)}return{get:r,set:o}}function w(e,t){this._rawData=t&&t.rawData&&t.rawData.dataModel&&t.rawData.dataModel._rawData;w.superclass.constructor.apply(this,arguments);this._init();e.statusManager().add("plot.offsetInValue",{serializable:false,get:D(this).get,set:D(this).set})}e.extend(w,t);var C=w.prototype;C._init=function(e){var t=this.runtime();this._plot=n.create(this._renderType,o.getPlotClazz(this._renderType),t);this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));this.setChild("plot",this._plot,{position:"center"});this.setLayoutSequence(["left","right","bottom","top"]);var l=!this._properties.get("interaction.noninteractiveMode");if(this._hasTimeAxis()){this._bottomAxis=new a(t,{name:"timeAxis",allowInterval:false,hasScrollbar:l,rawData:this._rawData});this._leftAxis=new i(t,{name:"valueAxis"});this.setChild("timeAxis",this._bottomAxis,{position:"bottom"});this.setChild("valueAxis",this._leftAxis,{position:"left"})}else{if(this.isTimeBased()){this._bottomAxis=new u(t,{name:"valueAxis"});this._plot._dataLabels.setTimeBindingId("valueAxis")}else{this._bottomAxis=new i(t,{name:"valueAxis",hasScrollbar:l})}this._leftAxis=new i(t,{name:"valueAxis2"});this.setChild("valueAxis",this._bottomAxis,{position:"bottom"});this.setChild("valueAxis2",this._leftAxis,{position:"left"})}if(l){this._hScrollbar=this._bottomAxis.getChild(p.AXIS.SCROLLBAR_NAME).module;this._vScrollbar=new r(t,{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"})}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:[this._bottomAxis],y:[this._leftAxis]}})};C._preRender=function(){w.superclass._preRender.apply(this,arguments);this._setValueAxisRange()};C._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};C.getDisplayedTimeDomain=function(){if(this._bottomAxis.getName()==="timeAxis"){var e=this.getChildrenByPosition("center")[0];var t=e.getRealSize();var i=e.getSize();var a=false;var r=this._plot.getOffset();var o=false;if(this._data.rawData&&this._data.rawData.dataModel&&this._data.rawData.dataModel._rawData){o=A.isFiscal(this._data.rawData.dataModel._rawData)}return c.getTimeAxisDomain(i,r,t,this.getData().timeAxis.scale.getDomain(),a,o)}return null};C._setValueAxisRange=function(){var e=this._plot.getSize();var t=this._plot.getRealSize();var i=this._plot.getVisibleRange();if(!i.x&&!i.y){return}var a={},r={};if(i.x){a.x=i.x.ratio;r.x=i.x.delta*e.width*a.x}if(i.y){a.y=i.y.ratio;r.y=-(e.height*(a.y-1)+i.y.delta*e.height*a.y)}this.zoom(a);this.scroll(r)};C.destroy=function(){var e=this._data;var t=this.runtime().statusManager();if(t.get("valueAxisScaleDomain")){if(e&&e.valueAxis&&!e.valueAxis.scale.isFixed()&&e.valueAxis.scale.getDomainChanged()){e.valueAxis.scale.setDomain(t.get("valueAxisScaleDomain"))}t.remove("valueAxisScaleDomain")}if(t.get("valueAxis2ScaleDomain")){if(e&&e.valueAxis2&&!e.valueAxis2.scale.isFixed()&&e.valueAxis2.scale.getDomainChanged()){e.valueAxis2.scale.setDomain(t.get("valueAxis2ScaleDomain"))}t.remove("valueAxis2ScaleDomain")}w.superclass.destroy.call(this);this._plot=null;this._bottomAxis=null;this._leftAxis=null};C.getPlot=function(){return this._plot};C.isTimeBased=function(){return this._renderType==="time_bubble"};C._hasTimeAxis=function(){return/timeseries/.test(this._renderType)};C.isScatter=function(){return this._renderType==="scatter"};C.setData=function(e){w.superclass.setData.apply(this,arguments);this.updateValueScale();this._plot.setData(this._data)};function T(e,t,i,a){var r=c.updateScatterValueAxis(e,[0,t*.8],p.BUBBLE.DEFAULT_WIDTH_RATIO,a);r.scale.setRange([0,1]);e.scale=r.scale;e.tickHint=r.tickHint;i.setData(e)}function z(e,t,i,a){var r=p.BUBBLE.DEFAULT_WIDTH_RATIO;var o=e.scale;var n=o.getDomain().slice();var l=o.getDomainFixed();var s;if(n[1]===n[0]){s=b.getPeriod(a)/2}else{s=(n[1]-n[0])*r}if(!l[0]){n[0]-=s}if(!l[1]){n[1]+=s}e.scale=new f(n,o.getRange(),o.getDomainFixed(),{dataBound:o.getDataBound()});i.setData(e)}C._adjustScale=function(){var e=this._data;var t=this._hasTimeAxis();var i=e.valueAxis;var a=e.valueAxis2;var r=this.runtime().statusManager();var o=function(e){e.setZeroAdjusted(true);e.setDomainChanged(false)};if(i&&i.scale.isFixed()||a&&a.scale.isFixed()){o(i.scale);if(!t){o(a.scale)}return}var n=this._properties.get("plotArea.adjustScale");if(!_.isExist(n)||!n){o(i.scale);if(!t){o(a.scale)}return}i.scale.setZeroAdjusted(false);if(!t){a.scale.setZeroAdjusted(false)}var l=this._roughSize.width;var s=this._roughSize.height;var u=this._renderType;var h=null;var d=null;var f=r.get("valueAxisScaleDomain");if(!f){return}var v;if(!t){h=i.scale.getDomainFixed();d=a.scale.getDomainFixed();v=r.get("valueAxis2ScaleDomain");if(!v){return}}else{d=i.scale.getDomainFixed()}var g=function(e,t,i,a,r){var o=c.updateScatterValueAxis(e,t,p.BUBBLE.DEFAULT_WIDTH_RATIO,false);var n=e.scale;var l=n.getRange();var s=n.getDomain().slice();n.setRange(t);var u=o.scale.getDomain().slice();n.setDomain(u);var h;var d=i[1]<=0?Math.round(n.scale(u[1])):Math.round(n.scale(u[0]));var f=false;var v=1.2;if(i[0]<0&&i[1]<=0){if(Math.round(n.scale(i[1]))+a>=d){f=true}}else{if(Math.round(n.scale(i[0]))-d<=a*v){f=true}}var g=function(e,t,i){if(t&&i){return e/(t[1]-t[0])*(i[1]-i[0])}return e};if(f){if(i[1]>0){if(i[0]!==0){h=u[0]-g(a*r,t,u)}else{h=g(-a*r,t,i)}if(n.scale(i[1]-i[0])<n.scale(Math.abs(h))){h=-u[1]*1/8}n.setDomain([h,i[1]])}else if(i[0]===0&&i[1]===0){h=-u[1]*1/8;n.setDomain([h,u[1]])}else{h=u[1]+a*r;n.setDomain([i[0],h])}n.setDomainChanged(true)}else{n.setDomain(s)}n.setRange(l)};var m;var y=0;if(u.indexOf("scatter")>-1){var A=10;y=1;if(!t&&!h[0]){m=[0,l];g(i,m,f,A,y)}if(!d[0]){m=[0,s];g(t?i:a,m,t?f:v,A,y)}}else if(u.indexOf("bubble")>-1){var b;b=Math.min(s,l);b*=p.BUBBLE.DEFAULT_WIDTH_RATIO;var x=Math.pow(1,.5)*b/2;y=2;if(!t&&!h[0]){m=[0,l*.8];g(i,m,f,x,y)}if(!d[0]){m=[0,s];g(t?i:a,m,t?f:v,x,y)}}};C.updateValueScale=function(){var e=this._data;var t=this._roughSize.width;var i=this._roughSize.height;var a=this.runtime().statusManager();if(e&&t>0&&i>0){if(!a.get("valueAxisScaleDomain")){a.add("valueAxisScaleDomain",e.valueAxis.scale.getDomain().slice())}if(!this._hasTimeAxis()&&!a.get("valueAxis2ScaleDomain")){a.add("valueAxis2ScaleDomain",e.valueAxis2.scale.getDomain().slice())}this._adjustScale();var r=this._hasTimeAxis();var o=this.runtime().statusManager().get("timeLevels");var n=o?o[0]:"day";if(r){z(e.timeAxis,t,this._bottomAxis,n);T(e.valueAxis,i,this._leftAxis)}else{var l=this.isTimeBased();T(e.valueAxis,t,this._bottomAxis,l);T(e.valueAxis2,i,this._leftAxis)}var s=.8;var u={valueAxis:[0,t*s],valueAxis2:[0,i*s]};var c=S.updateValueScale(this._plot,u,e);if(c){Object.keys(c).forEach(function(a){if(r){T({values:e.valueAxis.values,scale:c[a].scale},i,this._leftAxis)}else if(a==="valueAxis"){var o=this.isTimeBased();T({values:e.valueAxis.values,scale:c[a].scale},t,this._bottomAxis,o)}else{T({values:e.valueAxis2.values,scale:c[a].scale},i,this._leftAxis)}e[a]=x.extend(true,{},e[a],c[a])},this)}if(r&&e&&e.timeAxis&&e.timeAxis.scale){var h=e.timeAxis.scale;var p=h.getDomain();var d=x.extend(true,[],p);this._plot._expandTrendlineXRange(d);if(p&&p[1]<d[1]){e.timeAxis.scale=new f(d,h.getRange(),h.getDomainFixed(),{dataBound:h.getDataBound()});z(e.timeAxis,t,this._bottomAxis,n)}}}};C._configLayout=function(){var e=this._scrollbarExistence();if(this._vScrollbar){this._vScrollbar.isExist(e.v)}if(this._hScrollbar){this._hScrollbar.isExist(e.h)}return w.superclass._configLayout.apply(this,arguments)};C._scrollbarExistence=function(){var e=this.getZoomer().enabled();var t=this.getZoomer().direction()||"",i=e&&t.indexOf("x")!==-1,a=e&&t.indexOf("y")!==-1;var r=this._properties.get("plotArea.window.start")||{},o=this._properties.get("plotArea.window.end")||{},n=this._hasTimeAxis();var l=A.startEndConvertor(r,o,this._properties.origin);r=l.start;o=l.end;if(!i){if(n){i=r.hasOwnProperty("timeAxis")||o.hasOwnProperty("timeAxis")}else{i=!(isNaN(r.valueAxis)&&isNaN(o.valueAxis))}}if(!a){if(n){a=!(isNaN(r.valueAxis)&&isNaN(o.valueAxis))}else{a=!(isNaN(r.valueAxis2)&&isNaN(o.valueAxis2))}}return{h:i,v:a}};C._getZoomer=function(){if(this._hasTimeAxis()){return new g(this)}else{return new v(this)}};return w});define("sap/viz/chart/chains/YYChains",["sap/viz/chart/chains/ChainUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/BaseChains","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/binding/BindingManager","sap/viz/chart/chains/SeriesContext"],function e(t,i,a,r,o,n){var l={};var s=["GetDimensionsFromFlattable","GetContext","OnBindingFinished","OnBindingStart"];l=a.extend("yy",s);var u=function(e,a,r,o,l,s){var u=[],c=[],h=[],p=[],d=[];var f=s&&s.allowEmptyMeasure;var v="context";var g="addition";var m={};a.forEach(function(e){if(o[e]){c.push(o[e]);h.push(e)}});r.forEach(function(e){if(o[e]){p.push(o[e]);d.push(e)}});var y=t.dpInitializer(l);var _=t.getArrayLength(c);var A=t.generateIndexArray(_);var b,x,S,D,w,C,T,z;S=A.length;T=p.length;var L=r.filter(function(e){return e!=="bubbleWidth"});for(x=0;x<S;x++){var P=A[x];if(!i.isExist(P)){continue}b=y();w=P.length;for(D=0;D<w;D++){b[h[D]]=c[D].rowArray[P[D]]}var k;for(C=0;C<T;C++){z=p[C].values;if(!i.isExist(z)){b[d[C]]=undefined;continue}k=0;for(D=0;D<w;D++){if(f||i.isExist(z[P[D]])){z=z[P[D]];k++}}b[d[C]]=z}var E=t.processYYSeriesContext(o.context,P);if(E){b[v]=E}var I=t.processYYSeriesContext(o.additionInfo,P);if(I){b[g]=I}if(k===w||P===0){var O=t.generateNum(_,P);u[O]=u[O]||[];if(i.isArray(b[d[0]])){for(D=0,w=b[d[0]].length;D<w;++D){var R={};var N=false;for(var M in b){if(i.isExist(b[M])){if(r.indexOf(M)>-1){R[M]=b[M][D]}else if(M===v){R[M]=R[M]||[];var B=b[M];for(var V=0;V<B.length;++V){R[M].push(B[V][D])}}else{R[M]=b[M]}if(L.indexOf(M)>-1&&!i.isExist(R[M])){N=true}}}if(f||!N){u[O].push(R);if(R.hasOwnProperty("bubbleWidth")&&i.isNumber(R.bubbleWidth)){m[R.bubbleWidth]=m[R.bubbleWidth]||[];m[R.bubbleWidth].push(O)}}}}else if(f||L.every(function(e,t){return i.isExist(b[e])})){u[O].push(b)}}}o.series=u.filter(function(e){return e});o.seriesContext=n(u,h,c,p);o.orderMap=m};l.yyGetBindingSeries=t.generateSeriesGetter(u);l.yyGetMeasuresFromFlattable=function(e,i,a,o,n,s){l.parsedData=t.getData(e,o,l.parsedData);var u=/bubbleWidth/.test(s);var c=t.handleMeasure(e,i,a,l.parsedData,l.multiDimensionIndex,{enableDuplicated:n});var h=r.transpose(c.measureArray);var p=0,d=h.length;var f=Array(d);for(;p<d;++p){var v=h[p];var g=Infinity,m=-Infinity;for(var y=0,_=v.length;y<_;++y){var A=v[y];if(A==null){if(u){A=0}else{continue}}if(u&&A<0){A=v[y]=-A}g=Math.min(g,A);m=Math.max(m,A)}f[p]=[g,m]}var b=t.buildMetaData(e,i);var x={values:c.multiArray,range:f,metaData:b};return x};Object.keys(l).forEach(function(e){o.registerChain(e,l[e])});return l});define("sap/viz/chart/scales/ShapeScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/DataUtils"],function(e,t,i){var a=function(e,t){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.ShapeScale";this._name=null;this._type="shape";this._initScale()};e.extend(a,t);a.prototype._initScale=function(){if(this._scale===undefined){this._scale=d3.scale.ordinal();var e=[];for(var t=0,a=this._domain.length;t<a;t++){e.push(i.valuesToString(this._domain[t]))}var r=[].concat(this._range);this._range=r.splice(0,e.length>0?e.length:1);this._scale.domain(e).range(this._range)}};a.prototype.scale=function(e){if(e){return this._scale(i.valuesToString(e))}else{return this._scale(e)}};return a});define("sap/viz/chart/scales/ShapeScaleProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleRepository","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/ShapeScale","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/util/PropertyUtils","sap/viz/chart/scales/ScaleUtil"],function(e,t,i,a,r,o,n,l){var s=r.transpose;var u=l.generateUniqueDomain;var c=function(t,r,o,l,c,h){c=c||{};var p=c.seriesType,d=c.role;var f=o.get(r);var v=f?f.palette:null;if(!e.isExist(t)){return new a([],v)}if(!e.isExist(o.getDefault(r))){o.add(r,{serializable:true,defaultValue:{feed:r,type:"shape",palette:i.SHAPE}})}var g=[];if(t.values){if(p==="yy"){var m=n.getBubbleDepth(l.origin,"plotArea.shapeDepth",t.values);var y=l.get("legend.ignoreNoValue");g=u(t.values,m,t.metaData,t.rowArray,h,y,"shape")}else{g=s(t.values)}}if(!v){v=i.SHAPE}l.origin.add("plotArea.shapePalette",{defaultValue:i.SHAPE,serializable:false,get:function(){return v}});if(g!=null){return new a(g,v)}};t["shapeScale"]=c});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForScatter",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n,l,s){var u=["info/timeseries_scatter","info/timeseries_bubble"];var c=["info/bubble","info/scatter","info/time_bubble"].concat(u);c=r.addTrellisType(c);var h=e.CSS.CLASS;function p(e){var t=1,i;if(f(e)&&/scale/.test(e.getAttribute("transform"))){i=e.querySelector("circle")||e.querySelector("rect")||e.querySelector("ellipse")||e.querySelector("line")||e.querySelector("polyline")||e.querySelector("polygon")||e.querySelector("path");if(i){var a=i.getBoundingClientRect();var r=i.getBBox();t=r.width/a.width}}return t}function d(e){return a.getData(e).fillOpacity===0}function f(e){return n.hasClass(e,"v-datapoint")||n.hasClass(e,"v-datapoint-marker")||n.hasClass(e,"v-lines")}var v=function(e,i,r,o){var n=a.getData(i).color;var l;if(t.isFunction(r)){l=r(n)}else if(t.isString(r)){l=e.parseColorProperty(r,n)}l=l||n;if(o){var s=a.getData(i);l=e.register({drawingEffect:o,fillColor:l,direction:"vertical",graphType:s.shape,radius:s.r,patternEffect:s.pattern})}return l};function g(e,t,r,o,n){var l,s;if(r.stroke.visible===true||d(t)){if(d(t)){l=v(e,t,r.color)}else{l=v(e,t,r.stroke.color)}s=i.getWidth(r.stroke.width,o,n)}else{l=a.getData(t).borderColor;s=1}var u=t.querySelector("path")||t.querySelector("circle");if(u){u.setAttribute("stroke",l);u.setAttribute("stroke-width",s)}var c=t.querySelector("rect.v-highlight-bound");if(c){c.removeAttribute("stroke");c.removeAttribute("stroke-width");c.removeAttribute("stroke-dasharray");c.removeAttribute("shape-rendering")}}function m(e,i,a,r,o){var n=a.opacity;if(!t.isExist(a.opacity)){n=1}i.setAttribute("fill-opacity",n);var l=i.querySelector("path")||i.querySelector("circle");if(l){l.setAttribute("stroke-opacity",n);if(!r){var s=v(e,i,a.color,o);l.setAttribute("fill",s)}}}var y=[{id:"selectDataPoint_scatter",triggerEvent:{name:"selectDataPoint",supportedChartTypes:c},handler:function(e,a){var r=i.turnToArray(e.data.targets);var n=a.getProperties();var l={color:n.get("interaction.selected.color"),opacity:n.get("interaction.selected.opacity"),stroke:n.get("interaction.selected.stroke")};var s=t.isExist(n.get("plotArea.markerRenderer"));var u=n.get("plotArea.drawingEffect");var c=a.getEffectManager();if(a.isBigDataMode()){var h=a.getNodes(a.NodeType.DATA_POINT,false);r=o.findByDataPointIds(h,r)}var d={name:e.name,data:{targets:r}};a.fireEvent(d,true);for(var f=r.length;f--;){var v=r[f];var y=p(v);g(c,v,l,1,y);m(c,v,l,s,u)}}},{id:"deselectDataPoint_scatter",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:c},handler:function(e,a){var r=i.turnToArray(e.data.targets);var n=a.getProperties();var l;if(e.data.isAnyOtherSelected){l={color:n.get("interaction.deselected.color"),opacity:n.get("interaction.deselected.opacity"),stroke:n.get("interaction.deselected.stroke")}}else{l={color:n.get("plotArea.dataPoint.color"),stroke:n.get("plotArea.dataPoint.stroke")}}var s=t.isExist(n.get("plotArea.markerRenderer"));var u=n.get("plotArea.drawingEffect");var c=a.getEffectManager();if(a.isBigDataMode()){var h=a.getNodes(a.NodeType.DATA_POINT,false);r=o.findByDataPointIds(h,r);r=[].slice.call(r)}var d={name:e.name,data:{targets:r}};a.fireEvent(d,true);r.forEach(function(e){var t=p(e);g(c,e,l,1,t);m(c,e,l,s,u)})}},{id:"hoverOnDataPoint_scatter",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o=a.getProperties();var n=o.get("interaction.hover");var l=t.isExist(o.get("plotArea.markerRenderer"));var s=o.get("plotArea.drawingEffect");var u=a.getEffectManager();r.forEach(function(t){var i=p(t);if(!e.data.byKeyboard){g(u,t,n,2,i)}m(u,t,n,l,s)})}},{id:"unhoverOnDataPoint_scatter",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o=a.getProperties();var n;var l=t.isExist(o.get("plotArea.markerRenderer"));var s=o.get("plotArea.drawingEffect");var u=a.getEffectManager();r.forEach(function(e){var t=p(e);if(d3.select(e).classed(h.DATAPOINTSELECTED)){n=o.get("interaction.selected")}else{if(a.shouldUseDeselectedColor()){n=o.get("interaction.deselected")}else{n=o.get("plotArea.dataPoint");delete n.opacity}}g(u,e,n,1,t);m(u,e,n,l,s)})}},{id:"hover_range_selection_scatter",triggerEvent:{name:"hover",supportedChartTypes:u,targets:"v-m-action-layerrange"},handler:function(e,t){l.showDetailForRangeSelectionWhenHover(e,t)}},{id:"clearPlot_scatter",triggerEvent:{name:"clearPlot",supportedChartTypes:c},handler:function(e,i){i.fireEvent(e,true);var a=i.getNodes(i.NodeType.DATA_POINT,false);if(!a||!a.length){return}var r=i.getProperties();var o;var n=e.data.rangeSelection;var l=n&&n!=="clear";if(e.data.isGray||l){o={color:r.get("interaction.deselected.color"),stroke:r.get("interaction.deselected.stroke")};if(!l){o.opacity=r.get("interaction.deselected.opacity")}}else{o={color:r.get("plotArea.dataPoint.color"),stroke:r.get("plotArea.dataPoint.stroke")}}var s=t.isExist(r.get("plotArea.markerRenderer"));var u=r.get("plotArea.drawingEffect");var c=i.getEffectManager();a.forEach(function(e){var t=p(e);g(c,e,o,1,t);m(c,e,o,s,u)})}},{id:"click_on_non_selection_scatter",triggerEvent:{name:"click",supportedChartTypes:c,excludeTargets:i.getDeselAllExTargets()},handler:function(e,t){l.clickOnNonSelection(e,t,u)}},{id:"clearPlot_time_scatter",triggerEvent:{name:"clearPlot",supportedChartTypes:u},handler:function(e,t){l.clearForTime(e,t)}},{id:"update_range_selection_effect_scatter",triggerEvent:{targets:"v-m-action-layerrange",name:"down",supportedChartTypes:u},handler:function(e,t){l.updateRangeEffect(e,t)}},{id:"recover_range_selection_effect_scatter",triggerEvent:{targets:"v-m-action-layerrange",name:"up",supportedChartTypes:u},handler:function(e,t){l.recoverRangeEffect(e,t)}}];s.registerAll(y)});define("sap/viz/chart/views/YYChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/legend/ColorLegend","sap/viz/chart/components/legend/SizeLegend","sap/viz/chart/components/plotareas/YYPlotArea","sap/viz/chart/scales/SizeScaleUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/YYChains","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/scales/ShapeScaleProcessor","sap/viz/chart/behavior/config/DataPointBehaviorConfigForScatter"],function(e,t,i,a,r,o,n,l,s,u){function c(e,t){c.superclass.constructor.apply(this,arguments);this._supportLazyRender=true}e.extend(c,t);var h=c.prototype;h.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments)}c.superclass.setSize.apply(this,arguments)};h._isBubble=function(){return/bubble/.test(this._renderType)};h._getLegendDefinition=function(){if(this._isBubble()){return[a,i]}return[i]};h._getLegendModuleKey=function(){if(this._isBubble()){return["sizeLegend","legend"]}return["legend"]};h._getDataItems=function(){return["valueAxis","timeAxis","valueAxis2","bubbleHeight","bubbleWidth","color","shape","dataFrame","series","transparent","trellisRow","trellisColumn","orderMap","seriesContext"]};h._createPlotContainer=function(e){this._plotArea=new r(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this._plot=this._plotArea.getPlot();this.setChild("main",this._plotArea,{priority:3})};h._configLayout=function(){if(this._isBubble()){this._applySizeScale()}return c.superclass._configLayout.apply(this,arguments)};h._applySizeScale=function(e){var t=this._data.bubbleWidth.scale;var i=t.getDomain();var a=i[0],r=i[1];var s;if(n.isNoValue(r)&&n.isNoValue(a)){s=[null]}else if(r===a){if(!i.withNoValue){s=[r]}else{s=[r,null]}}else{if(!i.withNoValue&&!i.withMiddleValue){s=[r,a]}else if(!i.withNoValue&&i.withMiddleValue){s=[r,(r+a)/2,a]}else if(i.withNoValue&&!i.withMiddleValue&&i.withZeroValue){s=[r,a]}else if(i.withNoValue&&!i.withMiddleValue&&!i.withZeroValue){s=[r,(r+a)/2,null]}else{s=[r,(r+a)/2,i.withZeroValue?0:null]}}var u=parseInt(this._properties.get("plotArea.minMarkerSize"));var c=null;var h=this.getChild(l.LEGEND_GROUP.KEY).module;c=Math.min(this._size.height,this._size.width);c*=l.BUBBLE.DEFAULT_WIDTH_RATIO;var p=o.build(u,c,i);var d=h.getChild("sizeLegend").module;d.setData({labels:s,scale:p});this._plot.setSizeScale(p)};h.calculatePaddingInPX=function(e){var t=c.superclass.calculatePaddingInPX.apply(this,arguments);if(e.get("title.visible")===false&&e.get("valueAxis.visible")===true){this.changePaddingTop(e,t)}return t};return c});define("sap/viz/chart/metadata/bindings/YYBindings",[],function e(){var t=[{id:"dataFrame",name:"IDS_DATA_FRAME",type:"Dimension",min:0,max:1,acceptMND:false,role:"frame.data"},{id:"trellisColumn",name:"IDS_TRELLIS_COLUMN",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"trellis.columnCategory"},{id:"trellisRow",name:"IDS_TRELLIS_ROW",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"trellis.rowCategory"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"mark.color"},{id:"shape",name:"IDS_SHAPE",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"mark.shape"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:1,role:"layout.value"},{id:"valueAxis2",name:"IDS_VALUE_AXIS2",type:"Measure",min:1,max:1,role:"layout.secondValue"},{id:"bubbleWidth",name:"IDS_BUBBLESIZE",type:"Measure",min:1,max:1,role:"mark.size"}];return t});define("sap/viz/chart/components/plotareas/XYYPlotArea",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/plotareas/XYPlotArea","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/datalabels/BarDataLabels","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/plotareas/UpdateByTrendlineUtil"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f){var v=function(e,t){v.superclass.constructor.apply(this,arguments)};i.extend(v,a);v.prototype._getPlotOptions=function(){return{isDualValueAxis:true}};v.prototype.setData=function(e){v.superclass.setData.apply(this,arguments);this._applyDefaultProperties(e)};v.prototype._applyDefaultProperties=function(e){var t=this.runtime().semanticManager();if(t.isOverrideMode()&&t.shouldChangeColor()){var i=this._properties.get("categoryAxis.title.style.color","templateValue");if(!this._properties.has("valueAxis.title.style.color","value")){this._properties.set("valueAxis.color",i,true,"templateValue")}if(!this._properties.has("valueAxis2.title.style.color","value")){this._properties.set("valueAxis2.color",i,true,"templateValue")}}else{this._properties.setDefault("valueAxis.color",e.color.scale.getRange()[0]);this._properties.setDefault("valueAxis2.color",e.color2.scale.getRange()[0]);this._properties.setDefault("valueAxis.title.applyAxislineColor",true)}};v.prototype._init=function(){var e={};e.valueAxisScrollbar=false;e.valueAxisPosition="top";v.superclass._init.apply(this,[e]);var i=this._plot.isHorizontal();var a=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(["bottom","top",this.allOrNone.bind(this),"left","right"]);this._valueAxis2=new r(this.runtime(),{name:"valueAxis2",hasScrollbar:a,valueAxes:this._valueAxes});this.setChild("valueAxis2",this._valueAxis2,{position:"bottom"});if(a){this._hScrollbar=this._valueAxis2.getChild(t.AXIS.SCROLLBAR_NAME).module}}else{this.setLayoutSequence(["left","right",this.allOrNone.bind(this),"bottom","top"]);this._valueAxis2=new r(this.runtime(),{name:"valueAxis2",hasScrollbar:a,valueAxes:this._valueAxes});this.setChild("valueAxis2",this._valueAxis2,{position:"right"});if(a){this._vScrollbar=this._valueAxis2.getChild(t.AXIS.SCROLLBAR_NAME).module;this.getChild("scrollbar").module.destroy();this.removeChild("scrollbar")}}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);this._valueAxis2.setPercentageMode(true)}this._zoomer.init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis,this._valueAxis2]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis,this._valueAxis2]},isHorizontal:i})};v.prototype.updateValueScale=function(){var e=this._data;var t=this._roughSize.width;var i=this._roughSize.height;if(!e||t<=0||i<=0){return e}var a=[0,1];var r=this._plot.isHorizontal();if(r){a[1]=t}else{a[1]=i}a[1]*=.8;var o,n,c=e;if(this._isPercentageChart()){o=this._calcPercentageValueAxisScale(a);["","2"].forEach(function(t){var i="valueAxis"+t;o.metaData=e[i].metaData;e[i].tickHint=o.tickHint;this["_"+i].setData(o)},this)}else{if(this._isAdjustValueScaleForTopLabel()){var v=this._properties.get("plotArea.dataLabel");var g=this._properties.get("plotArea.primaryScale.fixedRange");var m=this._data.valueAxis.scale;var y=this._data.valueAxis2.scale;var _=m.getDomain().slice();var A=y.getDomain().slice();var b=v.formatString;var x,S,D;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){S=this._data.valueAxis.metaData[0].id;D=this._data.valueAxis.metaData[0].formatString}b=b?b:D;var w={key:S};o=this._calcValueAxisScale("valueAxis",a);n=this._calcValueAxisScale("valueAxis2",a);if(!(g||m.getDomainFixed()[1]||y.getDomainFixed()[1])&&(v.visible||v.showTotal)&&(_||A)){var C=[null,null];if(this._isStackedChart()&&v.showTotal){if(this._plot.isHorizontal()){x=h.getFirstFormatPattern(b,w)}var T;var z={decimalFormatString:u.getDecimalFormatString(u.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};if(_[1]>0){T=u.format(d.preciseSimple(_[1]),x,v.unitFormatType,z);C[1]=s.fastMeasure(T,v.style.fontSize,v.style.fontWeight,v.style.fontFamily,v.style.fontStyle)}if(_[0]<0){T=u.format(d.preciseSimple(_[0]),x,v.unitFormatType,z);C[0]=s.fastMeasure(T,v.style.fontSize,v.style.fontWeight,v.style.fontFamily,v.style.fontStyle)}o=this._calcValueAxisScale("valueAxis",a,l.extendDomainForDataLabel(_,a,C,this._plot.isHorizontal()));C=[null,null];if(A[1]>0){T=u.format(d.preciseSimple(A[1]),x,v.unitFormatType,z);C[1]=s.fastMeasure(T,v.style.fontSize,v.style.fontWeight,v.style.fontFamily,v.style.fontStyle)}if(A[0]<0){T=u.format(d.preciseSimple(A[0]),x,v.unitFormatType,z);C[0]=s.fastMeasure(T,v.style.fontSize,v.style.fontWeight,v.style.fontFamily,v.style.fontStyle)}n=this._calcValueAxisScale("valueAxis2",a,l.extendDomainForDataLabel(A,a,C,this._plot.isHorizontal()))}if(!this._isStackedChart()&&v.visible&&(_&&(_[1]>0||_[0]<0)||A&&(A[1]>0||A[0]<0))){if(this._isColumnChart()){var L=s.fastMeasure("M",v.style.fontSize,v.style.fontWeight,v.style.fontFamily,v.style.fontStyle);if(_[1]>0){C[1]=L}if(_[0]<0){C[0]=L}o=this._calcValueAxisScale("valueAxis",a,l.extendDomainForDataLabel(_,a,C,r));C=[null,null];if(A[1]>0){C[1]=L}if(A[0]<0){C[0]=L}n=this._calcValueAxisScale("valueAxis2",a,l.extendDomainForDataLabel(A,a,C,r))}else{if(_[1]>0){C[1]=p.getLabelSize(this._data.series,_[1],this._properties,b)}if(_[0]<0){C[0]=p.getLabelSize(this._data.series,_[0],this._properties,b)}o=this._calcValueAxisScale("valueAxis",a,l.extendDomainForDataLabel(_,a,C,r));C=[null,null];if(A[1]>0){C[1]=p.getLabelSize(this._data.series,A[1],this._properties,b,"valueAxis2")}if(A[0]<0){C[0]=p.getLabelSize(this._data.series,A[0],this._properties,b,"valueAxis2")}n=this._calcValueAxisScale("valueAxis2",a,l.extendDomainForDataLabel(A,a,C,r))}}}}else{o=this._calcValueAxisScale("valueAxis",a);n=this._calcValueAxisScale("valueAxis2",a)}l.syncTicks(o.scale,n.scale);var P=o.autoScale;var k=n.autoScale;l.syncTicks(P,k);o.scale.setAutoDomain(P.getDomain());n.scale.setAutoDomain(k.getDomain());var E={valueAxis:o,valueAxis2:n};[o,n].forEach(function(t,i){var a="valueAxis"+(i?"2":"");e[a].scale=t.scale;t.tickHint=e[a].tickHint=t.scale._tickHint;e[a].scale.setRange([0,1]);var r=E[a];r.metaData=e[a].metaData;this["_"+a].setData(r)},this);c=this._cloneData(E)}c=f.call(this,c,a);return c};function g(){}return v});define("sap/viz/chart/chains/XYYChains",["sap/viz/chart/chains/BaseChains","sap/viz/framework/binding/BindingManager"],function e(t,i){var a={};var r=["GetDimensionsFromFlattable","GetMeasuresFromFlattable","GetBindingSeries","GetContext","OnBindingFinished","OnBindingStart"];a=t.extend("xyy",r);Object.keys(a).forEach(function(e){i.registerChain(e,a[e])});return a});define("sap/viz/chart/views/XYYChartView",["jquery","sap/viz/framework/common/util/oo","sap/viz/chart/views/XYChartView","sap/viz/chart/components/plotareas/XYYPlotArea","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/XYYChains","sap/viz/chart/scales/FrameScaleProcessor"],function e(t,i,a,r,o,n){var l=function(e,t){l.superclass.constructor.apply(this,arguments)};i.extend(l,a);l.prototype._getDataItems=function(){return["valueAxis","valueAxis2","categoryAxis","color","color2","dataFrame","series","trellisRow","trellisColumn","seriesContext"]};l.prototype._createPlotContainer=function(e){this._plotArea=new r(this.runtime(),{renderType:this._renderType,valueAxisIndex:this._valueAxisIndex});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};l.prototype.changePaddingTop=function(e,t){var i=e.get("valueAxis.label.style");var a=o.canvasMeasure("",i["fontSize"],i["fontWeight"],i["fontFamily"]).height;var r=e.get("valueAxis2.label.style");var l=0;if(r){l=o.canvasMeasure("",r["fontSize"],r["fontWeight"],r["fontFamily"]).height}if(n.isExist(t.propertyPaddingInPX)&&t.propertyPaddingInPX<Math.min(a,l)/2){t.propertyPaddingTopInPX=Math.max(a,l)/2}if(n.isExist(t.propertyPaddingTopInPX)&&t.propertyPaddingTopInPX<Math.min(a,l)/2){t.propertyPaddingTopInPX=Math.max(a,l)/2}};l.prototype._getSeriesSettings=function(){var e=l.superclass._getSeriesSettings.call(this);if(e){e.forEach(function(e,t){if(this._renderType.match(/stacked/)){e.stack="stacked_"+this._data.series[t].measureMeta[0]}}.bind(this))}return e};return l});define("sap/viz/chart/metadata/bindings/XYYBindings",[],function e(){var t=[{id:"dataFrame",name:"IDS_DATA_FRAME",type:"Dimension",min:0,max:1,acceptMND:false,role:"frame.data"},{id:"trellisColumn",name:"IDS_TRELLIS_COLUMN",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.columnCategory"},{id:"trellisRow",name:"IDS_TRELLIS_ROW",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.rowCategory"},{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"layout.category"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"valueAxis2",name:"IDS_VALUE_AXIS2",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.secondValue"}];return t});define("sap/viz/chart/scales/RGBA",[],function e(){function t(e,t,i,a,r){this.r=e;this.g=t;this.b=i;this.a=a;this.signForOpacity=r}t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a,this.signForOpacity)};t.prototype.toHex=function(){return d3.rgb(this.r,this.g,this.b).toString()};t.prototype.toString=function(){if(this.a<=1&&this.signForOpacity===true){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}else if(this.a<1){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}else{return this.toHex()}};t.prototype.from=function(e,t){var i=d3.rgb(0,0,0),a=1,r;if(t){a=t;r=true}if(e!==undefined&&typeof e==="object"){if(e.rgb){i=e.rgb()}else{i=e}}else if(typeof e==="string"){e=e.toLowerCase();var o,n,l;if(e.indexOf("rgba")>=0){o=e.substring(e.indexOf("(")+1);n=o.lastIndexOf(",");l=o.indexOf(")");if(n>=0&&l>=0){var s="rgb("+o.substring(0,n)+")";a=parseFloat(o.substring(n+1,l));i=d3.rgb(s)}}else if(e.indexOf("hsla")>=0){o=e.substring(e.indexOf("(")+1);n=o.lastIndexOf(",");l=o.indexOf(")");if(n>=0&&l>=0){var u="hsl("+o.substring(0,n)+")";a=parseFloat(o.substring(n+1,l));i=d3.hsl(u).rgb()}}else if(e.indexOf("hsl")>=0){i=d3.hsl(e).rgb()}else if(e.indexOf("#")>=0){var c,h,p;if(e.length===4){c=e.charAt(1);c+=c;h=e.charAt(2);h+=h;p=e.charAt(3);p+=p}else if(e.length===7){c=e.substring(1,3);h=e.substring(3,5);p=e.substring(5,7)}c=parseInt(c,16);h=parseInt(h,16);p=parseInt(p,16);i=d3.rgb(c,h,p)}else{i=d3.rgb(e)}}this.r=i.r;this.g=i.g;this.b=i.b;this.a=a;this.signForOpacity=r;return this};t.prototype.toGray=function(){var e=this.r,t=this.g,i=this.b,a,r;if(e===t&&t===i){a=Math.round(e+(255-e)*.6)}else{a=Math.round((e*299+t*587+i*114+500)/1e3)}r=this.clone();r.r=a;r.g=a;r.b=a;return r};t.prototype.increaseBrightness=function(e){var t=this.r,i=this.g,a=this.b,r,o,n,l;if(!isNaN(e)){if(e>=0){r=Math.round(t+(255-t)*e/100);o=Math.round(i+(255-i)*e/100);n=Math.round(a+(255-a)*e/100)}else{r=Math.round(t*(100+e)/100);o=Math.round(i*(100+e)/100);n=Math.round(a*(100+e)/100)}l=this.clone();l.r=r;l.g=o;l.b=n}return l};return t});define("sap/viz/chart/components/util/FillPatternUtils",["sap/viz/framework/common/util/SVG","sap/viz/chart/scales/RGBA"],function e(t,i){var a="v-m-root";var r="defs-diagonalHatch";var o="diagonalHatch-";var n={};n.getPatternId=function(e){var t=new i;e=t.from(e).toHex();return"url(#"+o+e.replace(/#/,"")+")"};n.patternize=function(e,n,l){var s=n;while(!s.getAttribute("class")||s.getAttribute("class").indexOf(a)===-1){s=s.parentNode}var u=s.querySelector("#"+r);if(!u){u=t.create("defs");u.setAttribute("id",r);s.appendChild(u)}var c;if(e){var h=new i;e=h.from(e).toHex();c=o+e.replace(/#/,"")}else{e=l.substr(("url(#"+o).length,6);c=o+e;e="#"+e}var p=s.querySelector("#"+c);if(!p){var d=t.create("path");p=t.create("pattern");d.setAttribute("d","M2,0L5,0L0,5L0,2L2,0 M7,2L7,5L5,7L2,7L7,2");d.setAttribute("fill",e);d.setAttribute("fill-opacity",1);p.setAttribute("id",c);p.setAttribute("patternUnits","userSpaceOnUse");p.setAttribute("width",7);p.setAttribute("height",7);p.appendChild(d);u.appendChild(p)}return"url(#"+c+")"};return n});define("sap/viz/chart/scales/BulletColorScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ColorScale","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/scale/ScaleOptionFactory","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils"],function(e,t,i,a,r,o,n,l){var s={actualValues:"plotArea.actualColor",additionalValues:"plotArea.additionalColor",forecastValues:"plotArea.forecastColor",targetValues:"plotArea.target.valueColor"};function u(e,t,i,a){v(i,a,t);this._metaIds=i.metaData&&i.metaData.map(function(e){return e.id}).concat("measureNames")||["measureNames"];i.sharedRuntimeColorScale=h(i.sharedRuntimeColorScale,"type",this._metaIds);this._scales=c(e.rowArray,i,t);this._scaleMap={};for(var r=0;r<this._scales.length;r++){var o=this._scales[r].id;this._scaleMap[o]=this._scales[r].scale}u.superclass.constructor.apply(this,arguments)}e.extend(u,t);u.prototype.scale=function(e,t){if(arguments.length===1||!t){return u.superclass.scale.apply(this,arguments)}else{return this._scaleMap[t].scale(e)}};u.prototype._initScale=function(){var e=[],t=[];this._scales.forEach(function(i){var a=i.scale;a.getDomain().forEach(function(i){e.push(i);t.push(a.scale(i))})});this._domain=e;this._range=t;this._scale=d3.scale.ordinal();this._scale.domain(this._domain.map(i.valuesToString)).range(this._range);this._constructRuntimeColorScale()};u.prototype.getDomain=function(e){if(e){return this._scaleMap[e]&&this._scaleMap[e].getDomain()}else{return u.superclass.getDomain.apply(this,arguments)}};u.prototype._constructRuntimeColorScale=function(){var e=this._scales;function t(t){var i=[];for(var r=0;r<e.length;++r){var o=e[r].scale[t]().results;for(var n=0;n<o.length;++n){var l=a.extend(true,{type:e[r].id},o[n]);i.push(l)}}return i}this._runtimeColorScale={feed:"color",fields:this._metaIds,results:t("runtimeColorScale")};this._mergedRuntimeColorScale={feed:"color",fields:this._metaIds,results:t("mergedRuntimeColorScale")}};function c(e,t,i){var a=t.mnds;var r=a.actualValues.length;return Object.keys(a).map(function(o){var l=a[o];var u=i.get(s[o]);if(!n.isArray(u)){u=[u]}var c=t.sharedRuntimeColorScale[o];return{id:o,scale:g(o,e,l,u,r,c,t.noValueIndex)}})}function h(e,i,a){var r=t.findMatchRuntimeScale(e,a);if(!r){return{}}else{return r.results.reduce(function(e,t){var a=t[i]||"actualValues";if(!e[a]){e[a]={feed:"color",results:[]}}e[a].results.push(t);return e},{})}}var p=["actualValues","additionalValues","forecastValues","targetValues"];var d=p.length;function f(e,t){return!t||t.indexOf(e)===-1||t.indexOf(e+1)===-1||t.indexOf(e+2)===-1||t.indexOf(e+3)===-1}function v(e,t,i,a){if(!t){return}if(!t.getDefault("color")){var r={serializable:true,defaultValue:{feed:"color",type:"color",actualColor:o.COLOR.BULLET.ActualColor,additionalColor:o.COLOR.BULLET.AdditionalColor}};if(!e.isTime){r["defaultValue"]["forecastColor"]=o.COLOR.BULLET.ForecastColor}t.add("color",r)}function n(e,a){var r="plotArea."+e;if(i.origin.has(r)){i.origin.add(r,{defaultValue:a,serializable:false,get:function(){var i=t.get("color");if(i&&i[e]){return i[e]}else{var r=t.get("color","templateValue");return r&&r[e]||a}}})}}n("actualColor",o.COLOR.BULLET.ActualColor);n("additionalColor",o.COLOR.BULLET.AdditionalColor);n("forecastColor",o.COLOR.BULLET.ForecastColor)}function g(e,i,a,r,o,n,l){var s=[],u=[];var c;var h=0;var v=[];if(n&&n.results){n.results.forEach(function(e){var t=e.scaleResult.index%r.length;v[t]=r[t];h=t+1})}if(!i){for(var g=0;g<o;++g){if(f(g*d,l)){c=g*d+p.indexOf(e);if(!l||l.indexOf(c)===-1){s.push([a[g]]);u.push(r[h%r.length])}h++}}}else{i.forEach(function(t,i){for(var n=0;n<o;n++){if(f((i*o+n)*d,l)){c=(i*o+n)*d+p.indexOf(e);if((!l||l.indexOf(c)===-1)&&a[n]){s.push(t.concat(a[n]));u.push(r[h%r.length])}h++}}})}u=v.concat(u);return new t(s,u,{needRuntimeColorScales:true,sharedRuntimeColorScale:n})}r.register("bullet","color",function(e,t,i,a,r,o){var n=["actualValues","additionalValues","targetValues"];if(o.indexOf("time")===-1){n.push("forecastValues")}e.mnds=n.reduce(function(e,i){e[i]=(t[i]().metaData||[]).map(function(e){return e.id});return e},{})});return u});define("sap/viz/chart/components/legend/BulletLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/ColorScale","sap/viz/chart/components/legend/ColorLegend","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/FillPatternUtils","sap/viz/framework/scale/ColorShapeScaleMerger","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/scales/BulletColorScale"],function(e,t,i,a,r,o,n,l,s,u,c){var h=l.CSS.CLASS.LEGENDITEM;var p=l.CSS.CLASS.BULLETLEGENDITEM;var d="#aaaaaa";var f=function(){f.superclass.constructor.apply(this,arguments)};var v=["actualColor","additionalColor","forecastColor"],g=[true,true,false];e.extend(f,i);f.prototype.setData=function(e){this._data=e;this._series=e.color||this._createSeries(e);this._colorShapeScale=null;return this};function m(e,t){for(var i=0;i<e.length;++i){if(e[i].color.hasOwnProperty(t)&&e[i].color[t]){return true}}return false}f.prototype._createSeries=function(e){var t="actualValues,additionalValues,forecastValues,targetValues".split(",").reduce(function(t,i){if(e[i]){t[i]=e[i].metaData.map(function(e){return e.name||e.id})}return t},{});return{scale:new c([],this._properties.parentLevel,{mnds:t})}};f.prototype._createColorScale=function(){var e=this._properties.parentLevel;var i=this.runtime().semanticManager();var a=A(i);var r=a.scale;var o=this._data.actualValues.metaData.length;var n=i.isOverrideMode()&&r&&r._others&&r._others.properties&&r._others.properties.color;var l=m(a.range,"actualColor")||n&&!!r._others.properties.color["actualColor"];var s=m(a.range,"additionalColor")||n&&!!r._others.properties.color["additionalColor"];var c=m(a.range,"forecastColor")||n&&!!r._others.properties.color["forecastColor"];var h;for(h=0;h<a.range.length;h++){var p=a.range[h];if(p.color&&p.pattern){if(!p.color["actualColor"]&&p.pattern["actualColor"]){p.color["actualColor"]=d}if(!p.color["additionalColor"]&&p.pattern["additionalColor"]){p.color["additionalColor"]=d}if(!p.color.hasOwnProperty("forecastColor")&&p.pattern["forecastColor"]){delete p.pattern["forecastColor"];delete a.domain[h]["forecastColor"]}}}if(!i.isOverrideMode()){l=false;s=false;c=false}var f,y,_;var S=this._series;var D=b(this._data.targetValues,S.scale,S,o,"targetValues"),w=x(e,D),C;f=b(this._data.actualValues,S.scale,S,o,"actualValues");if(!s){y=b(this._data.additionalValues,S.scale,S,o,"additionalValues")}if(!c){_=b(this._data.forecastValues,S.scale,S,o,"forecastValues")}var T={domain:[],range:[]};for(h=0;h<f.domain.length;++h){if(!l&&f.domain[h]){T.domain.push(f.domain[h]);T.range.push(f.range[h])}if(!s&&y&&y.domain[h]){T.domain.push(y.domain[h]);T.range.push(y.range[h])}if(!c&&_&&_.domain[h]){T.domain.push(_.domain[h]);T.range.push(_.range[h])}}var z=-1,L=[],P=[];if(a.scale&&!a.scale._hideSemanticLegend){for(h=0;h<a.domain.length;++h){for(var k=0;k<v.length;++k){if(a.domain[h].hasOwnProperty(v[k])){var E=T.domain,I=T.range;if(!i.isOverrideMode()){E=L;I=P;z++}E.push([a.domain[h][v[k]]]);if(a.range[h].pattern&&a.range[h].pattern[v[k]]&&g[k]){I.push({color:a.range[h].color[v[k]],pattern:a.range[h].pattern[v[k]]})}else{I.push(a.range[h].color[v[k]])}}}}}if(!i.isOverrideMode()){T.domain=L.concat(T.domain);T.range=P.concat(T.range)}T.domain=T.domain.concat(w.domain);T.range=T.range.concat(w.range);var O=this._series.scale.getDomain("targetValues");var R=this._data.targetValues;if(R&&R.metaData&&R.metaData.length&&O&&O.length>0){var N=e.get("legend.label.text.target");if(N===null||N===""){N=u.get("IDS_TARGET")}if(this._data.targetValues.metaData.length>1){T.domain.push(N)}else{T.domain.push(this._data.targetValues.metaData[0].name||this._data.targetValues.metaData[0].id)}T.range.push(e.get("plotArea.target.valueColor"))}var M=new t(T.domain,T.range);var B=[];if(S&&S.metaData){B=B.concat(S.metaData)}B.push({id:"measureNames",type:"Dimension",values:[{id:"id",name:"name"},{id:"id1",name:"name1"}]});return{semSplitIndex:z,metaData:B,scale:M,rowArray:T.domain}};f.prototype.render=function(e,t){if(this._colorShapeScale&&this._colorShapeScale._colorScales){var i=this._colorShapeScale._colorScales;if(i&&i[0]&&i[0].scale){var r=i[0].scale.getRange();var n=r.length;for(var l=0;l<n;++l){if(r[l]&&!a.isPlainObject(r[l])&&r[l].indexOf("url")!==-1){r[l]=o.patternize(null,e.node(),r[l])}}}}f.superclass.render.apply(this,arguments);e.selectAll("g."+h).classed(p,true).classed(h,false)};var y={actualValues:"v-primary",additionalValues:"v-additional",forecastValues:"v-forecast",targetValues:"v-target"};function _(e,t){if(e.length!==t.length){return false}for(var i=0;i<e.length-1;i++){if(!r.deepEqual(e[i],t[i])){return false}}return true}f.prototype._calcDomain=function(e,t){var i=f.superclass._calcDomain.apply(this,arguments);var a=this._series.scale._mergedRuntimeColorScale.results;var r={};for(var o=0;o<i.length;o++){var n=i[o];delete n.bulletClass;if(n.ctx.measureNamesId){for(var l=0;l<a.length;l++){if(r[l]){continue}var s=a[l];var u=s.dataContext[s.dataContext.length-1];var c=n.ctx.measureNamesId===u;if(c&&_(n.val,s.dataContext)){var h=s.type;n.bulletClass=y[h];r[l]=true;break}}}else if(o===i.length-1){n.bulletClass="v-target"}}return i};f.prototype._initColorShapeScale=function(){if(this._colorShapeScale){return}var e=this.runtime().markManager(),t=this._createColorScale(),i=new n(e);i._isBullet=true;i._bindingInfo={actualValues:this._data.actualValues,forecastValues:this._data.forecastValues,additionalValues:this._data.additionalValues,targetValues:this._data.targetValues};i.addColorScale(t);i.merge();var a=this._series.scale.getDomain("targetValues");var r=this._data.targetValues.metaData;for(var o,s=0,u=i.getLength();s<u;s++){o=i.getItem(s);if(s<=t.semSplitIndex){o.isSemanticItem=true}if(s===u-1&&a&&a.length>0&&r&&r.length>0){o.shape=this._options&&this._options.options&&this._options.options["targetLineDirection"]===l.DIRECTION.HORIZONTAL?"horizontal-target-line":"vertial-target-line"}else{o.shape="square"}}this._colorShapeScale=i;this.setBindingFields(i.getBindingFields())};function A(e){if(e.hasDataPointColorStyle()){var t=e.getDataPointColorScale(true);if(a.isArray(t)&&t.length===0){return{domain:[],range:[],scale:null}}else if(t.hasValidOthers()){var i=t.getDomain();var r=t.getRange();var o=[];var n=[];var l=i.length;for(var s=0;s<l-1;++s){o.push(i[s]);n.push(r[s])}var u={};var c={color:{},pattern:{}};var h=false;for(var p in i[l-1]){if(i[l-1][p]!==null){h=true;u[p]=i[l-1][p];c.color[p]=r[l-1].color[p];if(r[l-1].pattern){c.pattern[p]=r[l-1].pattern[p]}}}if(h){o.push(u);n.push({color:c.color,pattern:c.pattern})}return{domain:o,range:n,scale:t}}else{return{domain:t.getDomain(),range:t.getRange(),scale:t}}}else{return{domain:[],range:[],scale:null}}}function b(e,t,i,a,r){var o=[],n=[];var l=0;var s;function c(i,a,l){if(a<e.metaData.length&&t.hasDomain(i.concat(e.metaData[a].id))){o.push(l.concat(e.metaData[a].name||e.metaData[a].id));n.push(t.scale(i.concat(e.metaData[a].id),r))}else{++o.length;n.push(undefined)}}if(e&&e.metaData){if(i&&i.metaData&&i.metaData.length>0){var h=i.rowArray;for(var p=0;p<h.length;++p){var d=[];d.push(h[p][0]===null?u.get("IDS_ISNOVALUE"):h[p][0]);for(var f=1;f<h[p].length;++f){d.push(h[p][f]===null?u.get("IDS_ISNOVALUE"):h[p][f])}for(s=0;s<a;++s){c(h[p],s,d);++l}}}else{for(s=0;s<a;++s){c([],s,[])}}}var v=o.length;var g=n.length;while(g<v){n.push(n[v%g]);g++}return{domain:o,range:n.slice(0,o.length)}}function x(e,t){var i=e.get("plotArea.gap.visible"),a=e.get("plotArea.gap.type"),r=e.get("legend.label.text.positiveGap"),n=e.get("plotArea.gap.positiveColor"),l=e.get("legend.label.text.negativeGap"),c=o.getPatternId(s.convertColor(e.get("plotArea.gap.negativeColor"))),h=[],p=[];if(r===null||r===""){r=u.get("IDS_ABOVE_IS_GOOD")}if(l===null||l===""){l=u.get("IDS_BELOW_IS_BAD")}if(i&&t.domain.length>0){if(a==="both"){h.push([r]);h.push([l]);p.push(n);p.push(c)}else if(a==="positive"){h.push([r]);p.push(n)}else if(a==="negative"){h.push([l]);p.push(c)}}return{domain:h,range:p}}f.prototype._adjustRendererOption=function(e){e.isBullet=true};f.prototype.destroy=function(){f.superclass.destroy.call(this);this._data=null;this._colorShapeScale=null};return f});define("sap/viz/chart/components/accessibility/BulletDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(e,t,i){function a(){a.superclass.constructor.apply(this,arguments);this._dataPointIndexTable=[];this._setupDataPointsMap()}e.extend(a,i);var r=a.prototype;r._setupDataPointsMap=function(){if(!this._series||!this._series[0]){return}var e,t,i,a;var r=this._series[0].length;var o=this._series.every(function(e){return e===r});if(this._isTimeBullet&&!o){var n={};var l=[];for(e=0;e<this._series.length;e++){var s=this._series[e];for(t=0;t<s.length;t++){i=this._series[e][t];if(i&&i.dp){a=i.timeAxis[0].parsedValue;if(!n[a]){n[a]=[];l.push(a)}n[a].push(i.dp)}}}l.sort();for(e=0;e<l.length;e++){a=l[e];var u=n[a];for(t=0;u&&t<u.length;t++){this._dataPointIndexTable.push(u[t])}}}else{for(var c=0;c<r;c++){for(var h=0;h<this._series.length;h++){i=this._series[h][c];if(i&&i.dp){this._dataPointIndexTable.push(i.dp)}}}}};r.destroy=function(){a.superclass.destroy.apply(this,arguments);this._dataPointIndexTable=null};r.left=function(e){return this._isVerticalRender?this.getPrevDataPointInSeries(e):this.getPrevDataPointInSeries(e)};r.right=function(e){return this._isVerticalRender?this.getNextDataPointInSeries(e):this.getNextDataPointInSeries(e)};r.up=function(e){return this._isVerticalRender?this.getPrevDataPointInSeries(e):this.getPrevDataPointInSeries(e)};r.down=function(e){return this._isVerticalRender?this.getNextDataPointInSeries(e):this.getNextDataPointInSeries(e)};r.getPrevDataPointInSeries=function(e){var t=null;if(this._dataPointIndexTable){var i=this._dataPointIndexTable.indexOf(this.getDataPoint(e));i--;t=this._dataPointIndexTable[i];while(!t&&--i>-1){t=this._dataPointIndexTable[i]}}return t};r.getNextDataPointInSeries=function(e){var t=null;if(this._dataPointIndexTable){var i=this._dataPointIndexTable.indexOf(this.getDataPoint(e));i++;t=this._dataPointIndexTable[i];while(!t&&++i<this._dataPointIndexTable.length){t=this._dataPointIndexTable[i]}}return t};r.getFirstStartPoint=function(){if(this._series){return this._dataPointIndexTable[0]}else{return null}};return a});define("sap/viz/chart/components/plots/BulletPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/DataHandler","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/renderers/BarRenderer","sap/viz/chart/components/util/FillPatternUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/ValueScale","sap/viz/chart/components/renderers/GridlineRenderer","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/BulletDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_){var A={PRIMARYONLY:.7143,PRIMARYWIDTH:.5714};var b=c.MIN_FILL_SIZE;var x=function(e,t){t=t||{isHorizontal:true};x.superclass.constructor.apply(this,arguments);this._semanticMgr.setUseSemanticPattern(true)};e.extend(x,i);x.prototype._getCategoryWidth=function(){return this._data.categoryAxis.scale.getRangeBand()*(this.isHorizontal()?this._realSize.height:this._realSize.width)};x.prototype._getScaleValue=function(e){return this._data.actualValues.scale.scale(e)*(this.isHorizontal()?this._realSize.width:this._realSize.height)};x.prototype.isHorizontal=function(){return this._options.isHorizontal===true};x.prototype.update=function(e){this._applyChanges();var t=this._selection.select(".v-plot-main");this._drawGridlines(t);this._updateDatapoints(t)};function S(e,t,i){if(u.isNoValue(t)||u.isNoValue(i)){return false}if(e==="both"&&t!=i){return true}else if(e==="positive"&&t>i){return true}else if(e==="negative"&&t<i){return true}else{return false}}x.prototype._categoryCount=function(){return this._data.categoryAxis.rowArray.length};x.prototype.getPreferredSize=function(){var e=this._properties;var t=this.isHorizontal();var i=this._getCategoryRange()||this._getTimeRange();var a=this._data.series.length;var r={size:t?"height":"width",pos:t?"y":"x"};var o=!!this._data.timeAxis;var n=this._isRangeIncomplete;var l=!e.origin.get("interaction.noninteractiveMode");function s(){return!o&&i&&!n(i)&&l}var u=l&&!s()&&(e.get("isFixedDataPointSize")||n(i));if(u||s()){var c=this.__fixedBarSize();var h=c.max;var p=c.min;var d=this.__barSizeRatio();var f=c.max*d;var v=this._categoryCount();var g=this._size[r.size]/v;if(u){var m=p*((a-1)/8+a+2/3);if(g<m){this._realSize[t?"height":"width"]=m*v}if(n(i)&&this._shiftOffsetForIncompleteRange(i,v)){return this._realSize}}if(s()){var y=i[1]-i[0]+1;var _=(t?this._size.height:this._size.width)/y;if(_>f){if(g<f){var A=this._size[r.size]/f;if(A>v-i[0]){i[0]=v-A}this._realSize[r.size]=f*v}else{i[0]=0}}else{this._realSize[r.size]=this._size[r.size]*v/y}this._offset[r.pos]=-i[0]/v*this._realSize[r.size]}}return this._realSize};x.prototype._generatePath=function(e,i){var a=[];var r=1.5;if(this.isHorizontal()){if(e.width===0){r=0}if(i>=0){a.push([0,r]);a.push([e.width-r,r]);a.push([e.width-r,e.height-r]);a.push([0,e.height-r])}else{a.push([e.width,r]);a.push([r,r]);a.push([r,e.height-r]);a.push([e.width,e.height-r])}}else{if(e.height===0){r=0}if(i>=0){a.push([r,e.height]);a.push([r,r]);a.push([e.width-r,r]);a.push([e.width-r,e.height])}else{a.push([r,0]);a.push([r,e.height-r]);a.push([e.width-r,e.height-r]);a.push([e.width-r,0])}}return t.generatePath({points:a})};x.prototype._pathStrokeWidth=function(e){if(e&&e[e.measureNames]===0){return 0}return 3};x.prototype._drawGridlines=function(e){var t=this._realSize;var i=this.isHorizontal();var a=i?c.DIRECTION.VERTICAL:c.DIRECTION.HORIZONTAL;var r=this._properties.proxy("gridline");var o=i?[0,t.width]:[t.height,0];var n=this._gridlineScale=new h(this._data.actualValues.scale.getDomain(),o);n.setTickHint(this._data.actualValues.tickHint);p.drawValueGridline(e,t.width,t.height,n,r,a,this._effectManager)};x.prototype._updateBulletBar=function(e,t){var i=t.width<1&&t.width!==0?1:t.width;var a=t.height<1&&t.height!==0?1:t.height;e.setAttribute("width",i);e.setAttribute("height",a);if(t.stroke){var r=this.isHorizontal()?a:i;var o=r>t.strokeWidth+1?t.strokeWidth:r-1;if(o>=1){e.setAttribute("stroke",t.stroke);e.setAttribute("stroke-width",t.strokeWidth)}else{e.removeAttribute("stroke");e.removeAttribute("stroke-width")}}return e};x.prototype._updateBulletNoFillBar=function(e,t,i){e.setAttribute("stroke",t.fill);e.setAttribute("stroke-width",isNaN(t.pathStrokeWidth)?3:t.pathStrokeWidth);e.setAttribute("d",i);return e};x.prototype._updateBulletLine=function(e,t){e.setAttribute("x1",""+t.x1);e.setAttribute("x2",""+t.x2);e.setAttribute("y1",""+t.y1);e.setAttribute("y2",""+t.y2);e.setAttribute("stroke-width",t.width);return e};x.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("categoryAxis.color")};x.prototype._drawZeroLine=function(e){var t=this._realSize;var i=this.isHorizontal()?c.DIRECTION.VERTICAL:c.DIRECTION.HORIZONTAL;p.drawZeroLine(e,t.width,t.height,this._gridlineScale,this._properties,i,this._getDefaultZeroLineColor())};x.prototype._drawDatapoints=function(e){this._renderDatapoints(e,false);this._drawZeroLine(e)};x.prototype._updateDatapoints=function(e){this._renderDatapoints(e,true);this._drawZeroLine(e)};function D(e,t,i,a){var r=e[a+"Color"]||t.scale(i.color.concat(i[a]),a+"Values");return n.convertColor(r)}x.prototype._adjustColorDomain=function(e,t,i){var a=e.actualValues;var r=e.additionalValues;var o=e.forecastValues;if(!u.isNoValue(a)){i.actual=this._data.actualValues.metaData[t].id}if(!u.isNoValue(r)){i.additional=this._data.additionalValues.metaData[t].id}if(!u.isNoValue(o)){i.forecast=this._data.forecastValues.metaData[t].id}return i};x.prototype._getInitialColorDomain=function(e,t,i){if(e&&e.metaData){t.color=e.rowArray[parseInt(i/this._data.actualValues.metaData.length)]}return t};var w=2.5,C=.5;x.prototype._renderOnePoint=function(e,i,a,r,o,c){var h=e.dp&&e.dp.context();var p=e.dp&&e.dp.additionCtx();var d;var g;var m;var y;var _=this._data.color.scale;var A,x;var T=this._properties.get("target.shadowColor");var z=0,L;var P=r.isUpdate;var k=this._properties.get("markerRenderer")||l;var E=this._realSize;var I=b;if(r.horizontal){r.x=0}else{r.y=0}var O=this._getScaleValue(0);var R=O;function N(){var e=Math.abs(y-R);if(e<I&&F!==0){e=I;if(F>0&&!r.horizontal){y=R+I}else if(F<0&&r.horizontal){y=R-I}}return e}function M(){return F>0?R:y}function B(){return F>0?E.height-y:E.height-R}function V(){c.max=Math.max(c.max,y);c.min=Math.min(c.min,y);c.max=Math.max(c.max,R);c.min=Math.min(c.min,R)}var F=e.forecastValues;if(!u.isNoValue(F)){y=this._getScaleValue(F);if(r.horizontal){r.width=N();r.height=r.realBarSize;r.x=M();r.y=r.categoryPos}else{r.height=N();r.width=r.realBarSize;r.x=r.categoryPos;r.y=B()}V();d=this._semanticMgr.analyzeDataPoint(["color","forecastColor"],h,true,p);g=((d||{}).properties||{}).color||{};r.fill=D(g,_,i,"forecast");if(P){A=o.querySelector(".v-forecast");A=this._updateBulletBar(A,r)}else{A=k({ctx:h,graphic:r,effectManager:this._effectManager,horizontal:r.horizontal,defaultRender:{render:l},currCate:e,bulletType:"forecastValue",bulletClass:"v-forecast",measures:i});A.setAttribute("class","v-forecast");o.appendChild(A)}A.setAttribute("transform","translate("+r.x+", "+r.y+")");a.color["v-forecast"]={color:r.fill}}if(this._strokeProp&&this._strokeProp.visible){r.stroke=this._strokeProp.color;r.strokeWidth="1px"}if(r.horizontal){r.y=r.categoryPos+r.primaryOffset;r.height=r.primaryPercentage*r.realBarSize;r.width=0}else{r.x=r.categoryPos+r.primaryOffset;r.width=r.primaryPercentage*r.realBarSize;r.height=0}F=e.actualValues;if(!u.isNoValue(F)){y=this._getScaleValue(F);if(r.horizontal){r.width=N();r.x=M()}else{r.height=N();r.y=B()}d=this._semanticMgr.analyzeDataPoint(["color","actualColor"],h,true,p);m=this._semanticMgr.analyzeDataPoint(["pattern","actualColor"],h,true,p);g=((d||{}).properties||{}).color||{};r.fill=D(g,_,i,"actual");r.pattern=m&&m.properties&&m.properties.pattern&&m.properties.pattern.actualColor;if(r.pattern==="noFill"){L=this._generatePath(r,F);r.pathStrokeWidth=this._pathStrokeWidth(h);r.bgColor=this._getBackgroundColor()}if(P){A=o.querySelector(".v-primary");if(r.pattern==="noFill"){x=o.querySelector(".v-primary-noFill");x=this._updateBulletBar(x,r);A=this._updateBulletNoFillBar(A,r,L)}else{A=this._updateBulletBar(A,r)}}else{A=k({ctx:h,graphic:r,path:L,effectManager:this._effectManager,horizontal:r.horizontal,defaultRender:{render:l},currCate:e,bulletType:"actualValue",bulletClass:"v-primary",measures:i});A.setAttribute("class","v-primary");o.appendChild(A);if(r.pattern==="noFill"){var H=v.clone(r);delete H.bgColor;delete H.drawingEffect;delete H.pattern;H.fill="transparent";x=k({graphic:H});if(x){o.appendChild(x)}x.setAttribute("class","v-primary-noFill")}}A.setAttribute("transform","translate("+r.x+", "+r.y+")");if(x){x.setAttribute("transform","translate("+r.x+", "+r.y+")")}a.color["v-primary"]={color:r.fill,strokeWidth:A.getAttribute("stroke-width"),pathStrokeWidth:r.pathStrokeWidth,pattern:r.pattern};if(a.color["v-primary"]["pattern"]){a.color["v-primary"]["patternURL"]=A.getAttribute("fill")}z=y;V()}F=e.additionalValues;if(!u.isNoValue(F)){F=+F;if(!u.isNoValue(e.actualValues)&&e.additionalValues*e.actualValues>0){F+=+e.actualValues;R=z}if(e.actualValues===0){I+=b}y=this._getScaleValue(F);V();if(r.horizontal){r.width=N();r.x=M()}else{r.height=N();r.y=B()}d=this._semanticMgr.analyzeDataPoint(["color","additionalColor"],h,true,p);m=this._semanticMgr.analyzeDataPoint(["pattern","additionalColor"],h,true,p);g=((d||{}).properties||{}).color||{};r.fill=D(g,_,i,"additional");r.pattern=m&&m.properties&&m.properties.pattern&&m.properties.pattern.additionalColor;if(P){A=o.querySelector(".v-additional");A=this._updateBulletBar(A,r)}else{A=k({ctx:h,graphic:r,effectManager:this._effectManager,horizontal:r.horizontal,defaultRender:{render:l},currCate:e,bulletType:"additionalValue",bulletClass:"v-additional",measures:i});A.setAttribute("class","v-additional");o.appendChild(A)}A.setAttribute("transform","translate("+r.x+", "+r.y+")");a.color["v-additional"]={color:r.fill,strokeWidth:A.getAttribute("stroke-width"),pattern:r.pattern};if(a.color["v-additional"]["pattern"]){a.color["v-additional"]["patternURL"]=A.getAttribute("fill")}}var U;if(!u.isNoValue(e.targetValues)){y=U=this._getScaleValue(e.targetValues);V();if(this._properties.get("gap.visible")&&S(this._properties.get("gap.type"),z,U)&&!u.isNoValue(e.actualValues)){var W=e.targetValues>e.actualValues;if(r.pattern){delete r.pattern}if(r.horizontal){r.width=W?U-z-w:z-U;r.height=r.realBarSize*r.primaryPercentage;r.x=W?z:U+C;r.y=r.categoryPos+r.primaryOffset}else{r.width=r.realBarSize*r.primaryPercentage;r.height=W?U-z-w:z-U-C;r.x=r.categoryPos+r.primaryOffset;r.y=W?this._realSize.height-U+w:this._realSize.height-z}var G=n.convertColor(this._properties.get("gap.positiveColor"));var Y=n.convertColor(this._properties.get("gap.negativeColor"));if(P){A=o.querySelector(".v-gap");A=this._updateBulletBar(A,r)}else{r.fill=W?s.patternize(Y,r.parent):G;A=l({graphic:r,effectManager:W?null:this._effectManager,horizontal:r.horizontal});A.setAttribute("class","v-gap");o.appendChild(A)}A.setAttribute("transform","translate("+r.x+", "+r.y+")");a.color["v-gap"]={color:W?Y:G,strokeWidth:A.getAttribute("stroke-width")};if(Math.abs(z-U)<=2){A.style.display="none"}else{A.style.display=null}}var X=2;var j={};var Z=0;if(T!==""){Z=1}if(U>=0&&U<X+Z){U=X+Z}if(Z>0){if(r.horizontal){j.x1=U-X-Z/2;j.x2=j.x1;j.y1=r.categoryPos;j.y2=r.categoryPos}else{j.y1=this._realSize.height-U+X;j.y2=j.y1;j.x1=r.categoryPos;j.x2=r.categoryPos}j.width=Z;if(P){A=o.querySelector(".v-target-shadow");A=this._updateBulletLine(A,j)}else{A=t.create("line");A=this._updateBulletLine(A,j);A.setAttribute("stroke",T);if(!f.isMobile()){A.setAttribute("shape-rendering","crispEdges")}A.setAttribute("class","v-target-shadow");o.appendChild(A)}}if(r.horizontal){j.x1=U-X/2;j.x2=j.x1;j.y1=r.categoryPos;j.y2=r.categoryPos+r.realBarSize}else{j.y1=this._realSize.height-U+X/2;j.y2=j.y1;j.x1=r.categoryPos;j.x2=r.categoryPos+r.realBarSize}j.width=X;if(P){A=o.querySelector(".v-target");A=this._updateBulletLine(A,j)}else{A=t.create("line");A=this._updateBulletLine(A,j);A.setAttribute("stroke",this._properties.get("target.valueColor"));A.setAttribute("class","v-target");if(!f.isMobile()){A.setAttribute("shape-rendering","crispEdges")}o.appendChild(A)}}};x.prototype._getDataLabels=function(e){return null};function T(e,i){var a=t.create("g");a.setAttribute("class",i);e.node().appendChild(a);return a}x.prototype._renderDatapoints=function(e,i){var a=this.isHorizontal();var n=this._data.series;var s=this._data.color;var h;var p=A.PRIMARYONLY;if(this._data.forecastValues&&this._data.forecastValues.metaData&&this._data.forecastValues.metaData.length>0){p=A.PRIMARYWIDTH}var d;if(i){d=e.select("."+c.CSS.CLASS.DATAPOINT_GROUP).node()}else{d=T(e,c.CSS.CLASS.DATAPOINT_GROUP)}var f;var v;var g;var m={color:[]};var y=0;var _,b;var x,S;var D=this._categoryPosFn();var w=this.__barSize();var C=w*(1-p)/2;var z;var L=this._getScaleValue(0);var P=.15*w;var k=this._data.actualValues.scale.getDomain();var E=Number(k[0]<0);var I=Number(k[1]>0);for(var O=0;O<n.length;++O){x=n[O];var R=x.rIndex==null?O:x.rIndex;var N=R%this._data.actualValues.metaData.length;m=this._getInitialColorDomain(s,m,R);for(y=0;y<x.length;++y){h=this._getExtraData(O,y);S=x[y]||{};f=!u.isNoValue(S.actualValues)||!u.isNoValue(S.additionalValues)||!u.isNoValue(S.targetValues)||!u.isNoValue(S.forecastValues);z={min:L,max:Number.NEGATIVE_INFINITY};if(i){v=o.find(d,y)}else{v=t.create("g");v.setAttribute("class",c.CSS.CLASS.DATAPOINT+" "+c.CSS.CLASS.MORPHABLEDATAPOINT+" "+c.CSS.CLASS.DATAPOINTDEFAULT)}g={horizontal:a,realBarSize:w,isUpdate:i,primaryOffset:C,primaryPercentage:p,parent:e.node()};g.categoryPos=D(O,y);m=this._adjustColorDomain(S,N,m);h.actual=m.actual;h.additional=m.additional;h.forecast=m.forecast;h.target=this._data.targetValues&&this._data.targetValues.metaData&&this._data.targetValues.metaData.id;this._renderOnePoint(S,m,h,g,v,z);delete g.stroke;delete g.strokeWidth;if(f&&z.max!==Number.NEGATIVE_INFINITY){var M=this._getItemMinMax(y,O,true);var B=z.max;var V=B-z.min;V+=(E+I)*P;if(a){if(B>this._realSize.width){B=this._realSize.width}g.width=V;g.height=w;g.y=g.categoryPos;g.x=z.min-E*P}else{if(B>this._realSize.height){B=this._realSize.height}g.width=w;g.height=V;g.x=g.categoryPos;g.y=this._realSize.height-B-I*P}g.fill="transparent";if(i){_=v.querySelector(".v-eventArea");_=this._updateBulletBar(_,g)}else{_=l({graphic:g,effectManager:this._effectManager});_.setAttribute("class","v-eventArea");_.setAttribute("stroke","transparent");v.appendChild(_)}_.setAttribute("transform","translate("+g.x+", "+g.y+")");b=S.dp;o.setDataPointId(v,b.id);o.setDataId(v,y);r.setContext(v,b.context());r.setAdditionCtx(v,b.additionCtx());r.setData(v,h);d.appendChild(v)}}}};x.prototype.getRealSizeByFixedDPSize=function(e){return e*this.__barSizeRatio()*this._categoryCount()};x.prototype._getItemMinMax=function(e,t,i){var a=(this._data.series[t]||[])[e];var r=a["actualValues"];var o=a["additionalValues"];var n=a["forecastValues"];var l=d.isNumber(r)&&d.isNumber(o)?o+r:undefined;var s=[r,o,l,n,0];if(i){s.push(a["targetValues"])}s=s.filter(d.isNumber);var u=Math.min.apply(null,s);var c=Math.max.apply(null,s);return{max:c,min:u}};x.prototype.getDataPointPosition=function(e,t){e=e||0;var i=this._getItemMinMax(t,e);var a=this._getScaleValue(i.max);var r=this._getScaleValue(i.min);var o=a-r;var n=this._categoryPosFn()(e,t);var l=this.__barSize();if(this.isHorizontal()){return{x:r,y:n,height:l,width:o}}else{return{y:this._realSize.height-a,width:l,x:n,height:o}}};x.prototype._categoryPosFn=function(){var e=this.__barSizeRatio();var t=this._getCategoryWidth(),i=this.__barSize(t,e),a=(t-i*e)/2,r=i/3;return function(e,o){return e*(i*9/8)+r+o*t+a}};x.prototype.__barSize=function(e,t){var i=e||this._getCategoryWidth(),a=t||this.__barSizeRatio(),r=this.__fixedBarSize();return Math.min(i/a,r.max)};x.prototype.__barSizeRatio=function(){return(this._data.series.length-1)/8+this._data.series.length+2/3};x.prototype.__fixedBarSize=function(){var e=this._properties;var t=e.get("dataPointSize.min")||e.getDefault("dataPointSize.min"),i=e.get("dataPointSize.max")||e.getDefault("dataPointSize.max");if(t>i){i=e.getDefault("dataPointSize.max");t=e.getDefault("dataPointSize.min")}return{min:Math.min(t,i),max:i}};x.prototype._getExtraData=function(e,t){return{color:{}}};x.prototype.getZoomLevel=function(){if(this.isHorizontal()){return this._realSize.height/this._size.height}else{return this._realSize.width/this._size.width}};x.prototype.destroy=function(){x.superclass.destroy.call(this);this._gridlineScale=null;this._realSize=null};m.register(_.DATAPOINT_NAVIGATOR,_.BULLET,y);return x});define("sap/viz/chart/components/plotareas/BulletPlotArea",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/plotareas/XYPlotArea","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/plots/BulletPlot","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/util/TextUtils"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f){var v=function(e,t){this._valueAxisPosition=e.propertyManager().get("valueAxis.layout.position");if(["top","bottom"].indexOf(this._valueAxisPosition)===-1){this._valueAxisPosition=e.propertyManager().getDefault("valueAxis.layout.position")}v.superclass.constructor.apply(this,arguments)};i.extend(v,o);v.prototype._init=function(){this._plot=s.create(this._renderType,u,this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var e=this._plot.isHorizontal();var i=!this._properties.get("interaction.noninteractiveMode");if(e){this.setLayoutSequence(["bottom","top","left","right"]);this._categoryAxis=new l(this.runtime(),{name:"categoryAxis"});this.setChild("categoryAxis",this._categoryAxis,{position:"left"});this._valueAxis=new n(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:this._valueAxisPosition});if(i){this._hScrollbar=new h(this.runtime(),{name:"plotArea.scrollbar"});this.setChild("scrollbar2",this._hScrollbar,{position:"bottom"})}}else{this.setLayoutSequence(["left","right","bottom","top"]);this._categoryAxis=new l(this.runtime(),{name:"categoryAxis",hasScrollbar:i});this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});if(i){this._hScrollbar=this._categoryAxis.getChild(t.AXIS.SCROLLBAR_NAME).module}this._valueAxis=new n(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"})}if(i){this._vScrollbar=new h(this.runtime(),{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"})}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:e?[this._valueAxis]:[this._categoryAxis],y:e?[this._categoryAxis]:[this._valueAxis]},isHorizontal:e})};v.prototype.updateValueScale=function(){var e=this._data;var t=this._roughSize.width;var i=this._roughSize.height;if(!e||t<=0||i<=0){return e}var a=[0,1];if(this._plot.isHorizontal()){a[1]=t}else{a[1]=i}a[1]*=.8;var r;var o=e;var n=[this._data.actualValues.minValue,this._data.actualValues.maxValue];if(n[0]===0&&n[1]===0){n=null}r=this._calcValueAxisScale("actualValues",a,n);e.actualValues.scale=r.scale;e.actualValues.tickHint=r.tickHint;e.actualValues.scale.setRange([0,1]);this._valueAxis.setData(e.actualValues);return o};v.prototype._isHorizontal=function(){return this._plot.isHorizontal()};return v});define("sap/viz/chart/chains/BulletChains",["sap/viz/chart/chains/BaseChains","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/binding/BindingManager","sap/viz/framework/common/util/BulletUtils","sap/viz/chart/chains/ChainUtils"],function(e,t,i,a,r,o,n){var l=["GetDimensionsFromFlattable","GetContext","OnBindingFinished","OnBindingStart"];var s=e.extend("bullet",l);function u(e,t,a,r,n){var l=r.color?r.color.rowArray.length:1,s=r.actualValues.metaData.length,u=r.categoryAxis.rowArray.length;var c=[];for(var h=0;h<l;h++){for(var p=0;p<s;p++){var d=[];c.push(d);for(var f=0;f<u;f++){var v=a.reduce(function(e,t){var a;if(!r.color){a=r[t].values[f][p]}else{a=r[t].values[f][h]}if(!i.isExist(a)){e[t]=undefined}else if(i.isArray(a)){e[t]=a[p]}else{e[t]=a}return e},{});d.push(v)}}}if(n){c.trellisRow=n.trellisRow;c.trellisColumn=n.trellisColumn}r.series=c;o.bulletSetMinMax(r)}s.bulletGetBindingSeries=n.generateSeriesGetter(u);s.bulletGetMeasuresFromFlattable=function(e,t,i,r,o,l){var u=n.getMetadata(e).fields;s.parsedData=n.getData(e,r,s.parsedData);for(var c=0;c<t.length;c++){for(var h=0;h<u.length;h++){if(t[c]===u[h].id){var p=n.handleMeasure(e,t,i,s.parsedData,s.multiDimensionIndex,{isBullet:true});var d=p.measureArray;var f=a.transpose(d);var v=f.map(function(e){return a.extent(e)});var g=n.buildMetaData(e,t);var m=p.multiArray;var y={values:m,categorySum:n.sumByCategory(m),range:v,metaData:g};return y}}}return null};Object.keys(s).forEach(function(e){r.registerChain(e,s[e])});return s});define("sap/viz/chart/dynamicScales/BulletDyScaleProcessor",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/DynamicScaleRepository","sap/viz/chart/dynamicScales/StackedDyScaleProcessor"],function(e,t,i,a){function r(e,t,i,a){r.superclass.constructor.apply(this,arguments);this._mainValue="actualValues"}e.extend(r,a);["bullet","vertical_bullet","timeseries_bullet"].forEach(function(e){i[e]=r});r.prototype.getValue=function(e){var i=[e.actualValues,e.additionalValues,e.forecastValues,e.targetValues].filter(t.isNumber);return Math.min.apply(null,i)};return r});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForBullet",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ColorUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/components/util/ChartTypeUtils"],function(e,t,i,a,r,o,n,l,s){var u=["info/bullet","info/vertical_bullet","info/trellis_bullet","info/trellis_vertical_bullet"];var c=["info/timeseries_bullet"];var h=u.concat(c);var p=4;var d=e.CSS.CLASS;var f=function(e,i,n){var l,u;var c=a.getData(i);var h=c.color;var p=i.querySelector(".v-forecast");var d=c.isZeroValue;var f=e._getRenderType();var g=s.getChartTypeProperty(f).isVerticalRender;var m,y,_={};o.extend(true,_,e.getProperties().get("interaction."+n.bStatus));_.name="interaction."+n.bStatus;var A=e.getProperties().get(_.name);var b=e.isHorizontal()?"width":"height";if(n.bShow){if(_.stroke.visible===true||n.bKeyboard){var S=e.getProperties().get("interaction.keyboard");S.color=e.getEffectManager().register({fillColor:S.color});S.isZeroValue=d;S.isVerticalRender=g;S.isAllValueNegative=c.isAllValueNegative;S.isZeroOnFirstTab=c.isZeroOnFirstTab;if(p){if(n.bKeyboard){x(e,i,p,S,h)}else{v(e,i,p,A,"#999999",n.bSelected)}}var D=true;for(y in h){if(h.hasOwnProperty(y)){var w=d3.select(i).select("."+y);var C=a.getData(w.node())||{};if(parseFloat(w.attr(b))!==0&&!C.reshaped){D=false;break}}}for(y in h){if(h.hasOwnProperty(y)&&y!=="v-forecast"){l=h[y];if(l.pattern==="noFill"){m=i.querySelector("."+y+"-noFill")}else{m=i.querySelector("."+y)}if(m){if(n.bKeyboard||D){x(e,i,m,S,h)}else{var T=r.fromCSSColor(h[y].color.toLowerCase());if(T){T.r=parseInt(T.r*.7,10);T.g=parseInt(T.g*.7,10);T.b=parseInt(T.b*.7,10);v(e,i,m,A,T.toString(),n.bSelected)}}}}}}}else{var z=e.getProperties().get("plotArea.dataPoint.stroke");if(p){p.removeAttribute("stroke");p.removeAttribute("stroke-width");p.removeAttribute("stroke-dasharray");p.removeAttribute("shape-rendering")}for(y in h){if(h.hasOwnProperty(y)){l=h[y];if(l.pattern==="noFill"){m=i.querySelector("."+y+"-noFill");u=1}else{m=i.querySelector("."+y);u=h[y].strokeWidth}if(m){var L=a.getData(m)||{};if(L.reshaped){m.setAttribute(b,"0")}m.removeAttribute("stroke-dasharray");m.removeAttribute("shape-rendering");if(l.strokeWidth){if(z&&z.visible===true){m.setAttribute("stroke",z.color)}else{m.setAttribute("stroke","#ffffff")}m.setAttribute("stroke-width",u)}else{m.removeAttribute("stroke");m.removeAttribute("stroke-width")}}}}}i.setAttribute("fill-opacity",t.isExist(A)&&t.isExist(A.opacity)?A.opacity:1);i.setAttribute("stroke-opacity",t.isExist(A)&&t.isExist(A.opacity)?A.opacity:1)};function v(e,t,a,r,o,n){var l=i.getColors(e,t,r.stroke.color,o);if(l.customizedColor){a.setAttribute("stroke",l.customizedColor)}else{a.setAttribute("stroke",l.defaultColor)}a.setAttribute("stroke-width",n?i.getWidth(r.stroke.width,1):i.getWidth(r.stroke.width,2));a.removeAttribute("stroke-dasharray");a.removeAttribute("shape-rendering")}function g(e,t,i){var r=a.getData(e)||{};if(r.reshaped){e.setAttribute("width",0)}if(i.isZeroOnFirstTab){if(parseFloat(e.getAttribute("width"))===0){e.setAttribute("width",p);r.reshaped=true;t.x=i.isAllValueNegative?-1:1}}a.setData(e,r);return t}function m(e,t,i){var r=a.getData(e)||{};if(r.reshaped){e.setAttribute("height",0)}if(i.isZeroOnFirstTab){if(parseFloat(e.getAttribute("height"))===0){e.setAttribute("height",p);r.reshaped=true;t.y=i.isAllValueNegative?1:-1}}a.setData(e,r);return t}function y(e){var t=e.lastIndexOf("(");var i=e.lastIndexOf(")");return e.substr(t+1,i-t-1)}function _(e,i,r){var o=e.getAttribute("transform").split("scale")[0];var n={x:1,y:1};if(t.isExist(e.getAttribute("transform").split("scale")[1])){var l=y(e.getAttribute("transform").split("scale")[1]);if(l.indexOf(",")<0){n={x:parseFloat(l),y:parseFloat(l)}}else{n={x:parseFloat(l.split(",")[0]),y:parseFloat(l.split(",")[1])}}}var s=i.isVerticalRender?m:g;n=s(e,n,i);var u=A(e,r);var c=t.isExist(A(e,r));if(c){if(t.isExist(u)){if(u.getAttribute("transform").indexOf("scale")<0){e.setAttribute("transform",o+"scale"+"("+n.x+","+n.y+")")}}var h=a.getData(e)||{};if(h.reshaped){e.setAttribute("fill","none")}}return e}function A(e,t){var i=e.previousSibling||e.nextSibling;if(t){if(d3.select(i).attr("class")in t){return i}}return e}function b(e,t,i){if(t.isZeroValue){var r=d3.select(e).attr("class")==="v-forecast";if(!r){var o=t.isVerticalRender?"height":"width";var n=a.getData(e)||{};if(parseFloat(A(e,i).getAttribute(o))===0||n.reshaped){_(e,t,i)}}}return e}function x(e,t,a,r,o){var n=i.getColors(e,t,r.color);b(a,r,o);a.setAttribute("stroke",n.customizedColor);a.setAttribute("stroke-width",i.getWidth(r.width,1));a.setAttribute("stroke-dasharray","1, 1");a.setAttribute("shape-rendering","crispEdges")}var S=[{id:"selectDataPoint_bullet",triggerEvent:{name:"selectDataPoint",supportedChartTypes:h},handler:function(e,t){t.fireEvent(e,true);var a=i.turnToArray(e.data.targets);a.forEach(function(e){if(t.getProperties().get("interaction.selected.stroke.visible")===true){f(t,e,{bShow:true,bSelected:true,bStatus:"selected"})}else{f(t,e,{bShow:false,bSelected:false,bStatus:"default"})}})}},{id:"deselectDataPoint_bullet",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:h},handler:function(e,t){t.fireEvent(e,true);var a=i.turnToArray(e.data.targets);a.forEach(function(i){if(e.data.isAnyOtherSelected){if(t.getProperties().get("interaction.deselected.stroke.visible")===true){f(t,i,{bShow:true,bSelected:true,bStatus:"deselected"})}else{f(t,i,{bShow:false,bSelected:true,bStatus:"deselected"})}}else{f(t,i,{bShow:false,bSelected:true,bStatus:"default"})}})}},{id:"hoverOnDataPoint_bullet",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:h},handler:function(e,t){t.fireEvent(e,true);var a=i.turnToArray(e.data.targets);a.forEach(function(i){f(t,i,{bShow:true,bSelected:false,bStatus:"hover",bKeyboard:!!e.data.byKeyboard})})}},{id:"unhoverOnDataPoint_bullet",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:h},handler:function(e,t){t.fireEvent(e,true);var a=i.turnToArray(e.data.targets);a.forEach(function(e){if(d3.select(e).classed(d.DATAPOINTSELECTED)){var i=t.getProperties().get("interaction.selected.stroke.visible");if(i===true){f(t,e,{bShow:true,bSelected:true,bStatus:"selected"})}else{f(t,e,{bShow:false,bSelected:true,bStatus:"selected"})}}else{var a=t.getStatus("selectedDataPoints");if(a.length){if(t.getProperties().get("interaction.deselected.stroke.visible")===true){f(t,e,{bShow:true,bSelected:true,bStatus:"deselected"})}else{f(t,e,{bShow:false,bSelected:true,bStatus:"deselected"})}}else{f(t,e,{bShow:false,bSelected:true,bStatus:"default"})}}})}},{id:"clearPlot_bullet",triggerEvent:{name:"clearPlot",supportedChartTypes:h},handler:function(e,t){t.fireEvent(e,true);var i=t.getNodes(t.NodeType.DATA_POINT,false);if(!i||!i.length){return}var a=e.data.isGray;i.forEach(function(e){if(a){f(t,e,{bShow:true,bSelected:true,bStatus:"deselected"})}else{f(t,e,{bShow:false,bSelected:false,bStatus:"default"})}})}},{id:"click_on_non_selection_bullet",triggerEvent:{name:"click",supportedChartTypes:h,excludeTargets:i.getDeselAllExTargets()},handler:function(e,t){n.clickOnNonSelection(e,t,c)}},{id:"clearPlot_time_bullet",triggerEvent:{name:"clearPlot",supportedChartTypes:c},handler:function(e,t){n.clearForTime(e,t)}},{id:"hover_range_selection_bullet",triggerEvent:{name:"hover",supportedChartTypes:c,targets:"v-m-action-layerrange"},handler:function(e,t){n.showDetailForRangeSelectionWhenHover(e,t)}},{id:"update_range_selection_effect_bullet",triggerEvent:{targets:"v-m-action-layerrange",name:"down",supportedChartTypes:c},handler:function(e,t){n.updateRangeEffect(e,t)}},{id:"recover_range_selection_effect_bullet",triggerEvent:{targets:"v-m-action-layerrange",name:"up",supportedChartTypes:c},handler:function(e,t){n.recoverRangeEffect(e,t)}}];l.registerAll(S);return S});define("sap/viz/chart/views/BulletChartView",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/views/ChartView","sap/viz/chart/components/legend/BulletLegend","sap/viz/chart/components/plotareas/BulletPlotArea","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ScalesFactory","sap/viz/chart/scales/BulletColorScale","sap/viz/chart/chains/BulletChains","sap/viz/chart/dynamicScales/BulletDyScaleProcessor","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBullet"],function e(t,i,a,r,o,n,l,s,u,c){s.register("bullet","color",u);var h=function(e,t){h.superclass.constructor.apply(this,arguments);this._supportLazyRender=true};t.extend(h,a);h.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments)}h.superclass.setSize.apply(this,arguments)};h.prototype._getDataItems=function(){return["actualValues","additionalValues","color","categoryAxis","targetValues","forecastValues","series","trellisRow","trellisColumn"]};h.prototype._createPlotContainer=function(e){this._plotArea=new o(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};h.prototype._getLegendDefinition=function(){return[r]};h.prototype._getLegendInitOptions=function(){return[{noFillSupport:true,targetLineDirection:/vertical_bullet|timeseries_bullet/.test(this._options.renderType)?i.DIRECTION.HORIZONTAL:i.DIRECTION.VERTICAL}]};h.prototype.calculatePaddingInPX=function(e){var t=h.superclass.calculatePaddingInPX.apply(this,arguments);if(e.get("title.visible")===false&&this._plotArea&&(this._plotArea._isHorizontal&&l.isExist(this._plotArea._isHorizontal())&&this._plotArea._isHorizontal()!==true)&&e.get("valueAxis.visible")===true){this.changePaddingTop(e,t)}return t};return h});define("sap/viz/chart/metadata/bindings/BulletBindings",[],function e(){var t=[{id:"trellisColumn",name:"IDS_TRELLIS_COLUMN",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.columnCategory"},{id:"trellisRow",name:"IDS_TRELLIS_ROW",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.rowCategory"},{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"layout.category"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"mark.color"},{id:"actualValues",name:"IDS_PRIMARY_VALE",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"additionalValues",name:"IDS_ADDITIONAL_VALE",type:"Measure",min:0,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"targetValues",name:"IDS_TARGETVALUES",type:"Measure",min:0,max:Number.POSITIVE_INFINITY,role:"mark.target"},{id:"forecastValues",name:"ID_FORECAST_VALUES",type:"Measure",min:0,max:Number.POSITIVE_INFINITY,role:"mark.forecast",description:"This is deprecated"}];return t});define("sap/viz/chart/components/datalabels/PieDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/ArrayUtils"],function e(t,i,a,r,o,n,l,s,u,c,h,p){var d="measureNames";var f=function(e,t){f.superclass.constructor.apply(this,arguments)};t.extend(f,i);f.prototype._getDataLabelInfo=function(e){var t=d3.select(e.childNodes[0]).datum();var i=(t.endAngle-t.startAngle)/(2*Math.PI);var r=a.getContext(e);var o=this._data.size.metaData;var n=r[d]||o[0].id;var l;for(var s=0;s<o.length;++s){if(o[s].id===n){l=o[s].name;break}}return{key:n,value:r[n],name:l,percentage:i<1e-6?0:i}};f.prototype._showProperty=function(e){if(!this._data||!this._data.color||!this._data.color.metaData){return false}var t=this._data.color.metaData;for(var i=0;i<t.length;i++){if(e===t[i].id&&!t[i].hidden){return true}}return false};f.prototype._buildDataLabelText=function(e,t,a,r,o){if(t.value===0&&!this.drawZero(o)){return null}return i.buildDataLabelText(this._properties,e,t,a,r,v,g,m.bind(this))};function v(e){var t=e.get("type");var i;if(t==="color"){i=["color"]}else if(t==="value"){i=["value"]}else if(t==="percentage"){i=["percentage"]}else{i=["color","percentage"]}return i}function g(e,t){var i=e.get("type");var a;if(i==="color"||i==="value"||i==="percentage"){a=t[0]}else{a=t[1]?t[0]+"   ("+t[1]+")":t[0]}return a}function m(e,t){var i=null;if(e&&t){if(t.key){var a=t.key;if(e.hasOwnProperty(a)){var o=0,n;for(var l in e){if(e.hasOwnProperty(l)&&l!==a&&this._showProperty(l)){if(l===d){if(!t.keepMND){continue}n=t.name||e[l]}else{n=e[l+r.DIMENSION_DISPLAYNAME_SUFFIX]||e[l]}if(o===0){i=n}else{i=i+"/"+n}o++}}}}}return i}f.prototype.removeExtraDataOfDataPoint=function(e,t){var i=t;if(e&&t){if(e.getData&&e.setData){var a=e.getData(t);if(a&&a.decoras){delete a.decoras;e.setData(t,a);i=t}}}return i};f.prototype._isKeepMND=function(){var e=this._data.color.metaData;var t=this._data.color.values;var i=false;var a=0;for(var r=0;r<e.length;++r){if(!e[r].hidden){++a}if(e[r].id===d){var o=p.unique(t[r],function(e){return e?e.toString():false});if(o&&o.length<2){i=true}}}return!(a>1&&i)};f.prototype.setExtraDataOfDataPoint=function(e,t,i){var a=t;if(e&&t&&i){if(e.getData&&e.setData){var r=e.getData(t);if(!r||o.isPlainObject(t)){r={}}r.decoras=i;e.setData(t,r);a=t}}return a};f.prototype.getLabelLineOffset=function(e){return e*u.DATALABEL.PIE_LINE_LABEL_OFFSET};f.prototype._reverseLineModeLocation=function(e,t,i){var a=this.getLabelLineOffset(t)+u.DATALABEL.PIE_LINE_OFFSET;var r={};r.x=i.x;r.y=i.y+i.height/2;if(e>0&&e<=Math.PI){r.x-=a}else{r.x+=i.width;r.x+=a}return r};f.prototype._adjustLineModeLocation=function(e,t,i,a,r){var o=this.getLabelLineOffset(i)+u.DATALABEL.PIE_LINE_OFFSET;var n={};n.x=t;n.y=a;if(e>0&&e<=Math.PI){n.x+=r.width/2;n.x+=o}else{n.x-=r.width/2;n.x-=o}return n};f.prototype._adjustOutsideLocation=function(e,t,i,a,r){var o={};o.x=i;o.y=a;if(e>=0&&e<=Math.PI/8||e>Math.PI/8*15&&e<=2*Math.PI){o.y-=r.height/2}else if(e>Math.PI/8&&e<=Math.PI/4){o.y-=r.height/2;o.x+=r.width/2}else if(e>Math.PI/4&&e<=Math.PI/4*3){o.x+=r.width/2}else if(e>Math.PI/4*3&&e<=Math.PI/8*7){o.y+=r.height/2;o.x+=r.width/2}else if(e>Math.PI/8*7&&e<=Math.PI/8*9){o.y+=r.height/2}else if(e>Math.PI/8*9&&e<=Math.PI/4*5){o.y+=r.height/2;o.x-=r.width/2}else if(e>Math.PI/4*5&&e<=Math.PI/4*7){o.x-=r.width/2}else{o.y-=r.height/2;o.x-=r.width/2}o.x+=this.getLabelLineOffset(t)*Math.sin(e);o.y-=this.getLabelLineOffset(t)*Math.cos(e);return o};f.prototype.renderDataLabelLine=function(e){var t;if(e.length>0){var i;i=c.getData(e[0].dataPoint);t=i.r;if(this.getLocationMode(t)===u.DATALABEL.LOCATIONMODE_LINE){var a;for(a=0;a<e.length;a++){var r=0;var o=0;i=c.getData(e[a].dataPoint);var n=d3.select(e[a].node).text();if(!n||n.length<=0){continue}var s=l.getBBox(e[a].node);var h=this._reverseLineModeLocation(i.midAngle,t,s);var p={};p.x=-e[a].originalCenterX+h.x;p.y=-e[a].originalCenterY+h.y;var d={};d.x=p.x+i.r*Math.sin(i.midAngle);d.y=p.y-i.r*Math.cos(i.midAngle);var f={};f.y=h.y;f.x=h.x;if(i.midAngle>0&&i.midAngle<=Math.PI){f.x+=u.DATALABEL.PIE_LINE_OFFSET}else{f.x-=u.DATALABEL.PIE_LINE_OFFSET}var v="M"+d.x+" "+d.y;v+=" L"+h.x+" "+h.y;v+=" L"+f.x+" "+f.y;var g=this._properties.get("line.color");d3.select(e[a].node).append("path").attr("d",v).attr("stroke",g).attr("fill","none").attr("stroke-width","1")}}}};f.prototype.getRadiusPercentage=function(e){var t=this._properties.get("distance");var i=this._properties.getDefault("distance")+1;var a=.5;var r=false;if(o.isString(t)&&t.indexOf("px")>=0){r=true}t=parseFloat(t);if(o.isNumber(t)){i=a;if(t>=0){if(r){i=(e+t)/e}else{i=1+t}}}return i};f.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=this._properties.get("distance");i=parseFloat(i);return i>=0};f.prototype._computeDataLabelTranslate=function(e,t,i,a){var r=d3.select(e.childNodes[0]).datum();var o=r.startAngle;var n=r.endAngle;var l=r.innerRadius;var s=r.outerRadius;var c=this.getRadiusPercentage(s);var h=(o+n)/2;var p=Math.sin(h-Math.PI/2);var d=Math.cos(h-Math.PI/2);var f,v;if(this._options.isDonut){var g;if(c<1){g=l+c*(s-l)}else{g=c*s}f=g*d;v=g*p}else{f=c*s*d;v=c*s*p}var m=[];m.originalCenterX=f;m.originalCenterY=v;var y;if(this.getLocationMode(s)===u.DATALABEL.LOCATIONMODE_OUTSIDE){y=this._adjustOutsideLocation(h,s,f,v,a);f=y.x;v=y.y}else if(this.getLocationMode(s)===u.DATALABEL.LOCATIONMODE_LINE){y=this._adjustLineModeLocation(h,f,s,v,a);f=y.x;v=y.y}f+=t.e;v+=t.f;m[0]=f-(a.x+a.width/2);m[1]=v-(a.y+a.height/2);return m};f.prototype.getLocationMode=function(e){var t=this.getRadiusPercentage(e);var i=this._properties.get("line.visible");var a=u.DATALABEL.LOCATIONMODE_INSIDE;if(t>=1){if(i){a=u.DATALABEL.LOCATIONMODE_LINE}else{a=u.DATALABEL.LOCATIONMODE_OUTSIDE}}return a};f.prototype.sortDataLabelInfos=function(e){e.sort(function(e,t){var i=e.info.value-t.info.value;return i})};f.prototype.truncateText=function(e){var t;if(e.length>0){var i;i=c.getData(e[0].dataPoint);t=i.r;if(this.getLocationMode(t)===u.DATALABEL.LOCATIONMODE_INSIDE){var a=this._properties.get("type");if(a==="percentage"||a==="value"){return}for(var r=e.length-1;r>=0;r--){var o=e[r].dataPoint;var s=e[r].node;var p=o.getBoundingClientRect();var d=s.getElementsByTagName("text");if(!d||d.length===0){continue}d=d[0];var f=d.textContent;var v=this._getStyle(o);var g={};var m=this.runtime().envManager();g.reverseDots=m&&m.reverseDots();if(a==="color"){n.ellipsis(f,d,p.width,v.cssString,g)}else{var y=f.split(" ")[0];var _=y.substr(0,3)+"...";var A=f.substring(y.length);var b=n.canvasMeasure(A,v["font-size"],v["font-weight"],v["font-family"]).width;var x=n.canvasMeasure(_,v["font-size"],v["font-weight"],v["font-family"]).width;var S=p.width-b;var D=n.ellipsis(y,d,S>x?S:x,v.cssString,g);d.textContent=D+A}var w=l.getBBox(s);var C=h.getTransformToElement(o,o.parentNode.parentNode);var T=this._computeDataLabelTranslate(o,C,this._labelPosition,w);s.setAttribute("transform","translate("+T[0]+","+T[1]+")");var z=T[0],L=T[1];e[r].left=z+w.x;e[r].right=z+w.x+w.width}}}};return f});define("sap/viz/chart/components/renderers/PieRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics"],function(e,t){var i=function(i){var a=i.graphic;var r=e.create("path");var o=0;if(a.innerRadius){o=a.innerRadius}var n=d3.svg.arc().innerRadius(o).outerRadius(a.outerRadius).startAngle(a.startAngle).endAngle(a.endAngle)();var l=i.effectManager.register({drawingEffect:a.drawingEffect,graphType:"sector",direction:"vertical",radius:a.outerRadius,fillColor:a.color});r.setAttribute("fill",l);r.setAttribute("d",n);if(a.stroke){r.setAttribute("stroke",a.stroke);r.setAttribute("stroke-width",a.strokeWidth)}t.setContext(r,{innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle});return r};i.expose={renderer:i};return i});define("sap/viz/chart/components/util/ContextUtil",["sap/viz/framework/common/util/Constants"],function e(t){var i={isEqualArray:function(e,t){if(!e||!t){return false}var i=true;if(e.length===t.length&&t.length>0){for(var a=0;a<e.length;a++){if(e[a]!==t[a]){i=false;break}}}else{i=false}return i},getUniqueFieldName:function(e){if(!e){return null}var t=null;if(e.hasOwnProperty("id")){t=e.id}else if(e.hasOwnProperty("name")){t=e.name}return t},getContextObjByFieldsArray:function(e,t){if(!e||!t||e&&e.length<1||t&&t.length<1){return null}var a=null;if(e&&t){var r=e.length;var o=t.length;if(r>=o&&o>0){for(var n=0;n<r;n++){var l=e[n];if(l&&l.length>0){var s=false;for(var u=0;u<l.length;u++){var c=l[u];if(c&&c.length>0&&c.length===o){if(i.isEqualArray(c,t)){s=true}else{if(s){for(var h=0;h<o;h++){if(!a){a={}}if(t[h]){a[t[h]]=l[u][h]}}break}}}else{break}}if(s){break}}else{break}}}}return a},filterDimensionContext:function(e,t){if(!e||!t){return null}var i=null;if(e.length>0){for(var a in t){if(t.hasOwnProperty(a)){if(!i){i={}}var r=true;for(var o=0;o<e.length;o++){if(a===e[o]){e.splice(o,1);r=false;break}}if(!r){continue}i[a]=t[a]}}}return i},getDimensionKeyAndValueString:function(e){if(!e){return null}var t=null;if(e&&typeof e==="object"){var i=0;for(var a in e){if(e.hasOwnProperty(a)){var r=a+"="+e[a];if(r){++i;if(i>1){t=t+"&"+r}else{t=r}}}}}return t},getDimensionKeyAndValueStringFromAxes:function(e,t){if(!e||!e._data||!e._fields){return null}var a=null;if(e._data.length>0&&e._fields.length>0&&t<e._data.length){var r=e._fields.length;var o=e._fields;var n=e._data;if(n[t]&&n[t].val){var l=0;var s=null;var u=null;var c=i.getUniqueFieldName(o[l]);for(;l<r;l++){if(o[l]&&c){if(!a){a={}}u=c;s=n[t].val[l];a[u]=s}}}}return a},isEmptyObj:function(e){if(!e){return true}var t=true;if(e){for(var i in e){if(e.hasOwnProperty(i)){t=false;break}}}return t},getHighlightContextIndexOfAxes:function(e,t){if(!e||!t||i.isEmptyObj(t)){return-1}var a=-1;if(e&&e._data&&e._data.length>0&&e._fields&&e._fields.length>0){var r=e._fields;var o=r.length;var n=0;var l=e._data;var s=this.getDimensionKeyAndValueString(t);var u=function(e,t){var a=null;for(var r=0;r<o;r++){var n=i.getUniqueFieldName(e._fields[r]);if(n){var l=n+"="+e._data[t].val[r];if(r>0){a=a+"&"+l}else{a=l}}}return a};if(l&&l.length>0&&o){for(;n<l.length;n++){if(s===u(e,n)){a=n;break}}}}return a},equalCtx:function(e,t){var i=Object.keys(e),a=Object.keys(t);return i.length>0&&i.every(function(i){return e[i]===t[i]})},match:function(e,t){if(!e){return false}if(!Array.isArray(e)){e=[e]}return e.some(function(e){if(!e){return true}return i.equalCtx(e,t)})},getContextInfo:function(e,t){var a=e;if(!Array.isArray(t)){t=[t]}var r;for(var o=0,n=t.length;o<n;o++){var l=t[o],s=l.ctx,u=l.paras;if(!s){r=u}}var c=this._parameters,h,p=-1,d,f;for(var v=0,g=t.length;v<g;v++){var m=t[v],y=m.ctx,_=m.paras;if(!y){f=v}else if(i.match(y,a)){d=0;for(var A in y){if(y.hasOwnProperty(A)){d++}}if(p<d){p=d;f=v}}}if(t[f]){return t[f].paras}return r},getContextDisplayKey:function(e){return e+".d"},getContextValueKey:function(e){return e+".v"},getContextDisplayValue:function(e){return e&&e.hasOwnProperty("d")?e["d"]:e&&e.hasOwnProperty("v")?e["v"]:undefined},getContextValue:function(e){return e&&e.hasOwnProperty("v")?e["v"]:undefined},enableDisplayContext:function(e){var t=false;if(e){for(var i in e){if(e.hasOwnProperty(i)&&e.hasOwnProperty(i+".d")){t=true;break}}}return t},enableObjectContext:function(e){var t=false;if(e){for(var i in e){if(e.hasOwnProperty(i)&&(e.hasOwnProperty(i+".d")||e.hasOwnProperty(i+".parsedValue"))){t=true;break}}}return t},equalCtxWithoutDisplayName:function(e,t,i){var a=true;for(var r in e){if(e.hasOwnProperty(r)){for(var o=0;o<i.length;o++){if(r===i[o].id){if(e[r]!==t[o]){a=false}break}}if(o>=i.length){a=false;break}}}return a},equalCtxWithColorDomain:function(e,t,i){var a=true;var r=e.length;var o=0;for(var n in t){if(t.hasOwnProperty(n)){for(var l=0;l<i.length;l++){if(n===i[l].id){if(t[n]===e[l]){o++}break}}}}return r===o},equalCtxExtend:function(e,t,a){if(!i.enableObjectContext(e)){return i.equalCtxWithColorDomain(t,e,a)}var r=false;if(e&&t&&a&&a.length===t.length){if(t.length>0){var o=null;var n=null;var l=null;var s=null;var u=-1;var c={};var h=null;var p=null;var d=null;r=a.every(function(a){o=a.id;n=a.type;var r=false;if(n==="Dimension"){u++;h=i.getContextDisplayKey(o);if(e.hasOwnProperty(o)){s=e[o];c=t[u];d=i.getContextValue(c);if(s!==undefined&&d!==undefined&&s!==null&&d!==null){r=s===d}}}return r})}}return r},getContextDisplayNames:function(e){var t=[];if(e&&e.length){e.forEach(function(e){if(e&&e.hasOwnProperty("id")&&e.hasOwnProperty("type")&&e.type==="Dimension"){t.push(i.getContextDisplayKey(e.id))}})}return t},getContextRawValue:function(e){var i=null;if(e){for(var a in e){if(e.hasOwnProperty(a)&&a!==t.BINDING.CONTEXT_ID_NAME){if(!i){i=e[a]}else{i+="/"+e[a]}}}}return i},getDisplayValueOfContext:function(e,t){if(!i.enableObjectContext(e)){return i.getContextRawValue(e)}var a=null;if(e&&t&&t.length>0){t.forEach(function(t){var r=t.id;var o=i.getContextDisplayKey(r);var n=e[r];if(e.hasOwnProperty(o)){n=e[o]}if(n!=null){a=!a?n:a+"/"+n}})}return a}};return i});define("sap/viz/chart/components/accessibility/PieDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ColumnDataPointNavigator"],function(e,t){function i(){i.superclass.constructor.apply(this,arguments);this._isAllValueNegative=false;this._allDataPoints=[];this._setupDataPointsMap()}e.extend(i,t);var a=i.prototype;a._setupDataPointsMap=function(){if(this._series){var e=0;var t=this._series.length;for(var i=0;i<t;i++){if(this._series[i][0].size<0){e++}}this._isAllValueNegative=e===t;for(var a=0;a<t;a++){if(!this._isAllValueNegative&&this._series[a][0].size<0){continue}else{this._allDataPoints.push(this._series[a][0].dp)}}}};a.getFirstStartPoint=function(){for(var e=0;e<this._series.length;e++){if(!this._isAllValueNegative&&this._series[e][0].size<0){continue}else{return this._series[e][0].dp}}};return i});define("sap/viz/chart/components/plots/PiePlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/datalabels/PieDataLabels","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/renderers/PieRenderer","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/ContextUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/format/FormatManager","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/PieDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y){var _=function(e,t){_.superclass.constructor.apply(this,arguments);this._dataPointRenderer=l};t.extend(_,o);_.prototype.destroy=function(){_.superclass.destroy.call(this);this._dataPointRenderer=null;this._padding=null;this._outerRadius=null;this._innerRadius=null;this._dataSeries=null;this._pieLayout=null};_.prototype._getDataHandler=function(){return{size:new L}};_.prototype._getDataLabels=function(e,t){var i=s.extend({},this._options);i.name=e;return new r(t,i)};_.prototype._applyChanges=function(){var e=this._size.width,t=this._size.height;this._padding=S(e,t);this._outerRadius=this.calculateOuterRadius(e,t,null);this._innerRadius=this._options.isDonut?C(this._outerRadius,this._properties.get("innerRadiusRatio")):0;var i=true,a=[];var r=[];this._dataSeries=[];for(var o=0;o<this._data.series.length;o++){if(this._data.series[o]&&this._data.series[o][0]){r[o]=this._data.series[o][0].size;if(r[o]>0){i=false}}}for(o=0;o<r.length;o++){var n=r[o];if(u.isNoValue(n)||n<0&&!i){continue}a.push(n);this._dataSeries.push(this._data.series[o])}this._pieLayout=d3.layout.pie().sort(null)(a)};_.prototype._getSeries=function(){return this._dataSeries};_.prototype._applyDataPointRenderer=function(e,t){var i=this._properties.get("markerRenderer");if(i){return i(t,l.expose)}else{return _.superclass._applyDataPointRenderer.apply(this,arguments)}};_.prototype._drawDataPoint=function(e,t){var i=_.superclass._drawDataPoint.apply(this,arguments);var a=t.getConfig();if(a.isMatchedHighlightContext!==undefined&&a.isMatchedHighlightContext!==true){i.setAttribute("fill-opacity",1);i.setAttribute("class","")}return i};_.prototype.isFlexibleLayout=function(){return true};_.prototype._postRender=function(e){var t=this._size.width/2;var i=this._options&&this._options.inTrellis;var r=this.runtime().statusManager().get("legendGroup.isHorizontal");var o=i||r?this._size.height/2:this._outerRadius*x+this._padding;if(this.isFlexibleLayout()){o=this._size.height/2;if(o>t&&!(r&&this._properties.get("alignment.vertical")==="center")){o=t}}e.setAttribute("transform","translate("+t+", "+o+")");if(this._options.isDonut&&this._highlightContext){var n=p.getDisplayValueOfContext(this._highlightContext,this._data.color.metaData);var l=(this._highlightContextPosition.endAngle-this._highlightContextPosition.startAngle)/(2*Math.PI);var s=this._properties.get("dataLabel.formatString");var u=this._properties.get("dataLabel.type");var c,d;var f=false;if(this._data&&this._data.size&&this._data.size.metaData){c=this._data.size.metaData[0].id;d=this._data.size.metaData[0].formatString}if(!s){s=d;if(h.isArray(s)&&u==="percentage"){s=s[1]}}var g={key:c,value:l};var m=a.getFirstFormatPattern(s,g);m=m?m:v.getPercentagePattern(1);var y=v.format(l,m);var _={centerName:n,centerValue:y,properties:this._properties.get()};e.appendChild(z.call(this,_,this._highlightContext))}};_.prototype._computeDataLabelTranslate=function(e,t,i,a){var r=d3.select(e.childNodes[0]).datum();var o=r.startAngle;var n=r.endAngle;var l=r.innerRadius;var s=r.outerRadius;var u=(o+n)/2;var c=Math.sin(u-Math.PI/2);var h=Math.cos(u-Math.PI/2);var p,d;if(this._options.isDonut){p=(l+s)/2*h;d=(l+s)/2*c}else{p=.5*s*h;d=.5*s*c}p+=t.e;d+=t.f;return[p-(a.x+a.width/2),d-(a.y+a.height/2)]};_.prototype._getPosition=function(e,t,i){var a=this._pieLayout[e];if(isNaN(a.startAngle)||isNaN(a.endAngle)){a=null}return a};_.prototype._buildData=function(e){var t=e.graphic;var i;if(this._data.size.totalSum===0){i=1}else{i=e.rawData.size/this._data.size.totalSum}return{color:t.color,midAngle:t.startAngle/2+t.endAngle/2,startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,r:t.outerRadius,shape:"sector",percentage:i}};_.prototype._buildConfig=function(e,t,i){var a=this._data.color.scale.scale(e.color);var r;if(this._options.isDonut){var o=this._properties.get("highlight.highlightContext");if(o&&o.length>0){o=o[0];r=p.equalCtx(o,i);if(r===true){this._highlightContext=o;if(this._highlightContextPosition){this._highlightContextPosition.data+=t.data;this._highlightContextPosition.value+=t.value;this._highlightContextPosition.endAngle=t.endAngle}else{this._highlightContextPosition=t}}else{a=this._properties.get("highlight.unhighlightSliceColor")}}}return{graphic:{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:this._innerRadius,outerRadius:this._outerRadius,color:a,drawingEffect:this._properties.get("drawingEffect")},ctx:i,isMatchedHighlightContext:r,effectManager:this._effectManager}};var A=6,b=2.414;var x=1.08;var S=function(e,t){var i;var a=Math.min(e,t);if(a<A*2){if(a<A/4*2){if(a<A/8*2){i=0}else{i=A/8}}else{i=A/4}}else{i=A}return i};var D=function(e,t){return(e/2-t)/x};var w=function(e,t){var i=Math.max(e/2/(1+1/b),t*b);return Math.min(i,e/2-t)};_.prototype.calculateOuterRadius=function(e,t,i){var a=this._padding;if(this.isFlexibleLayout()){var r=this._properties.get("radius");if(!(h.isNumber(r)&&r>=0&&r<=.5)){r=this._properties.getDefault("radius")}return Math.min(t*r,e*r)}else{if(i){return Math.min(t/2,e/2)}return Math.min(D(t,a),w(e,a))}};var C=function(e,t){if(!h.isNaN(t)){return e*t}return e/b};var T=function(e,t,a,r){var o=20;var n=document.createTextNode(t);var l=i.create("tspan");var s=a&&a.hasOwnProperty("fontSize")?parseFloat(a["fontSize"])/2:o/2;l.setAttribute("class",r);l.appendChild(n);e.appendChild(l);return{node:l,offset:s}};var z=function(e,t){var a="v-donut-centername",r="v-donut-centervalue",o="centerName",n="centerValue",l="highlight";var s=6;var u=e.properties;var c=i.create("text");var h,d,v=0,g=0;var m,y;var _,A=u.highlight.contextInfos;if(A&&A.length>0){for(var b=0;b<A.length;b++){if(p.equalCtx(A[b].ctx,t)){_=A[b].paras.color;break}}}var x=0;var S=0;if(u.highlight.centerName.visible){y=u[l][o]["style"];m=T(c,e.centerName,y,a);if(m){h=m.node;v=m.offset;x=f.fastMeasure(e.centerName,y["fontSize"],y["fontWeight"],y["fontFamily"],y["fontStyle"]).width;h.style.fill=y["color"]||_;h.style.fontFamily=y["fontFamily"];h.style.fontSize=y["fontSize"];h.style.fontWeight=y["fontWeight"];h.style.fontStyle=y["fontStyle"]}}if(u.highlight.centerValue.visible){y=u[l][n]["style"];m=T(c,e.centerValue,y,r);if(m){d=m.node;g=m.offset;S=f.fastMeasure(e.centerValue,y["fontSize"],y["fontWeight"],y["fontFamily"],y["fontStyle"]).width;d.style.fill=y["color"]||_;d.style.fontFamily=y["fontFamily"];d.style.fontSize=y["fontSize"];d.style.fontWeight=y["fontWeight"];d.style.fontStyle=y["fontStyle"]}}if(h){h.setAttribute("x",-x/2);h.setAttribute("y",v-g-s/2)}if(d){d.setAttribute("x",-S/2);d.setAttribute("y",v+g+s/2)}var D=null;var w=this.runtime().envManager();if(w){D=w.textAnchor()}c.setAttribute("text-anchor",D);return c};var L=function(){};L.prototype.reset=function(){this._sum=0};L.prototype.getBase=function(e,t){return this._sum};L.prototype.add=function(e,t){this._sum+=t;return this._sum};L.prototype.destroy=function(){this._sum=null};g.register(y.DATAPOINT_NAVIGATOR,y.PIE,m);return _});define("sap/viz/chart/chains/PieChains",["sap/viz/chart/chains/BaseChains","sap/viz/chart/chains/YYChains","sap/viz/framework/binding/BindingManager"],function e(t,i,a){var r={};var o=["GetDimensionsFromFlattable","GetMeasuresFromFlattable","GetContext","OnBindingFinished","OnBindingStart"];r=t.extend("pie",o);r.pieGetBindingSeries=i.yyGetBindingSeries;Object.keys(r).forEach(function(e){a.registerChain(e,r[e])});return r});define("sap/viz/chart/dynamicScales/PieDyScaleProcessor",["sap/viz/framework/common/util/oo","sap/viz/framework/scale/DynamicScaleRepository","sap/viz/chart/dynamicScales/BaseColumnDyScaleProcessor"],function(e,t,i){function a(e,t,i,r){a.superclass.constructor.apply(this,arguments);this._mainValue="size"}t["pie"]=a;t["donut"]=a;e.extend(a,i);return a});define("sap/viz/chart/behavior/config/PieBehaviorHelper",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics"],function(e,t){function i(e,t,i,a,r){e=d3.select(e);var o=d3.transform(e.attr("transform"));if(!e.attr("inPos")){e.attr("inPos",o.translate.join(","))}if(!e.attr("outPos")){e.attr("outPos",[o.translate[0]+t,o.translate[1]+i].join(","))}var n=a?e.attr("inPos"):e.attr("outPos");if(!r){e=e.transition()}e.attr("transform","translate("+n+")")}var a=function(a,r){if(!e.isArray(a)){a=[a]}a.forEach(function(e){if(e.parentNode.childNodes.length>1){var a=d3.select(e);var o=t.getData(a.node());if(o){var n=o.decoras;var l=0,s=0;var u=o.midAngle;var c=o.r;var h;h=.05*c;l=h*Math.sin(u);s=-h*Math.cos(u);a.attr("transform","translate("+l+","+s+")");a.attr("translateOffsetX",l);a.attr("translateOffsetY",s);if(n&&(!a.attr("offsetDone")||a.attr("offsetDone")==="false")){i(n,l,s,false,r)}a.attr("offsetDone",true)}}})};var r={selectDataPoint:a,deselectDataPoint:function(a){if(!e.isArray(a)){a=[a]}a.forEach(function(a){var r=d3.select(a);if(r){if(r.attr("offsetDone")==="true"){r.attr("transform","translate(0,0)");var o=r.attr("translateOffsetX");var n=r.attr("translateOffsetY");var l=t.getData(r.node());var s=l.decoras;if(s&&o&&n){if(e.isNumber(o)&&e.isNumber(n)){i(s,-Number(o),-Number(n),true)}}r.attr("offsetDone",false)}}})}};return r});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForPie",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/PieBehaviorHelper","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n,l,s,u){var c=["info/pie","info/donut"];c=r.addTrellisType(c);var h=e.CSS.CLASS;var p=[{id:"selectDataPoint_pie",triggerEvent:{name:"selectDataPoint",supportedChartTypes:c},handler:function(e,r){r.fireEvent(e,true);var o=i.turnToArray(e.data.targets);var n=r.getProperties().get("interaction.selected");o.forEach(function(e){d3.select(e).selectAll("."+h.PIE_HOVER_STROKE).remove();var a=s.getData(e);i.drawStroke(r,e,"path",n.stroke,1,undefined,a);i.drawFill(r,e,"path",n,t.isExist(r.getProperties().get("plotArea.markerRenderer")))});a.selectDataPoint(o,e.data.disableAnimation)}},{id:"deselectDataPoint_pie",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:c},handler:function(e,r){r.fireEvent(e,true);var o=i.turnToArray(e.data.targets);var n;o.forEach(function(a){if(e.data.isAnyOtherSelected){n=r.getProperties().get("interaction.deselected")}else{n=r.getProperties().get("plotArea.dataPoint")}var o=s.getData(a);i.drawStroke(r,a,"path",n.stroke,1,undefined,o);i.drawFill(r,a,"path",n,t.isExist(r.getProperties().get("plotArea.markerRenderer")))});a.deselectDataPoint(o)}},{id:"hoverOnDataPoint_pie",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=a.getStatus("hoveringLegend");if(!r){a.fireEvent("processUnhighlight")}var n=i.turnToArray(e.data.targets);var u=a.getProperties();var c=u.get("interaction.hover");var p=2;var d=parseFloat(i.getWidth(c.stroke.width,2));n.forEach(function(r){i.drawFill(a,r,"path",c,t.isExist(u.get("plotArea.markerRenderer")));if(d3.select(r).classed(h.DATAPOINTSELECTED)&&!s.getData(r).isZeroValue||!c.stroke.visible||d===0){return}var o=s.getData(r);var n=o.r;var f=o.startAngle;var v=o.endAngle;var g=1/(2*n);var m=n+p;var y=m+d;var _,A;if(e.data.byKeyboard){_=u.get("interaction.keyboard");_.color=a.getEffectManager().register({fillColor:_.color})}else{A=i.getColors(a,r,c.stroke.color)}d3.select(r.parentNode).selectAll("."+h.ZEROVALUEHOVER).remove();if(o.isZeroValue&&o.isZeroOnFirstTab){var b=l.create("path");if(e.data.byKeyboard){b.setAttribute("stroke",_.color)}else{b.setAttribute("stroke",A.customizedColor||A.defaultColor)}var x=parseFloat(c.stroke.width/2)||1;var S=x+", "+x;var D=l.create("g");D.setAttribute("class",h.ZEROVALUEHOVER);b.setAttribute("class",h.PIE_HOVER_STROKE);var w=o.innerRadius;var C=[{x:w*Math.sin(v),y:-w*Math.cos(v)},{x:n*Math.sin(v),y:-n*Math.cos(v)}];var T=d3.svg.line().x(function(e){return e.x}).y(function(e){return e.y})(C);b.setAttribute("d",T);b.setAttribute("stroke-width",parseFloat(c.stroke.width)/2+"px");b.setAttribute("stroke-dasharray",S);D.appendChild(b);r.parentNode.appendChild(D)}else{var z=l.create("path");if(e.data.byKeyboard){z.setAttribute("fill",_.color)}else{z.setAttribute("fill",A.customizedColor||A.defaultColor)}z.setAttribute("class",h.PIE_HOVER_STROKE);var L;if(!u.get("plotArea.dataPoint.stroke.visible")){L=d3.svg.arc().innerRadius(m).outerRadius(y).startAngle(f).endAngle(v)()}else{L=d3.svg.arc().innerRadius(m).outerRadius(y).startAngle(f+g).endAngle(v-g)()}z.setAttribute("d",L);r.appendChild(z)}});if(!a.isTrellis()&&!r){a.fireEvent("cleanLegendHoverEffect");var f=o.getCorrespondingLegendItem(e.data.targets,a);if(f){a.fireEvent("highlightLegendItem",{currentTarget:f})}}}},{id:"unhoverOnDataPoint_pie",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=t.isArray(e.data.targets)?e.data.targets[0]:e.data.targets;var o=t.isExist(r)?r.parentNode:undefined;d3.select(o).selectAll("."+h.ZEROVALUEHOVER).remove();var n=i.turnToArray(e.data.targets);var l;n.forEach(function(e){d3.select(e).selectAll("."+h.PIE_HOVER_STROKE).remove();if(d3.select(e).classed(h.DATAPOINTSELECTED)){l=a.getProperties().get("interaction.selected")}else{var r=a.getStatus("selectedDataPoints");if(r.length){l=a.getProperties().get("interaction.deselected")}else{l=a.getProperties().get("plotArea.dataPoint")}}i.drawStroke(a,e,"path",l.stroke,1);i.drawFill(a,e,"path",l,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}},{id:"clearPlot_pie",triggerEvent:{name:"clearPlot",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=a.getNodes(a.NodeType.DATA_POINT,false);if(!r||!r.length){return}var o;var n=e.data.isGray;r.forEach(function(e){d3.select(e).selectAll("."+h.PIE_HOVER_STROKE).remove();if(n){o=a.getProperties().get("interaction.deselected")}else{o=a.getProperties().get("plotArea.dataPoint")}var r=s.getData(e);i.drawStroke(a,e,"path",o.stroke,1,undefined,r);i.drawFill(a,e,"path",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}},n.getDeselectEvent("click_on_non_selection_pie",c,i.getDeselAllExTargets())];u.registerAll(p);return p});define("sap/viz/chart/views/PieChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plots/PiePlot","sap/viz/chart/components/plots/PlotHelper","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/chart/components/util/ContextUtil","sap/viz/chart/chains/PieChains","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/dynamicScales/PieDyScaleProcessor","sap/viz/chart/behavior/config/DataPointBehaviorConfigForPie"],function e(t,i,a,r,o,n,l){var s=function(e,t){s.superclass.constructor.apply(this,arguments);this._supportLazyRender=true};t.extend(s,i);s.prototype._getDataItems=function(){return["size","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn"]};s.prototype._createPlotContainer=function(e){var t=this.runtime();this._plotArea=r.create(this._renderType,a,t,null);t.zoneManager().add(o.plot(this._plotArea));t.zoneManager().add(n.plot(this._plotArea));this.setChild("plot",this._plotArea,{priority:3})};s.prototype.render=function(e){var t=this._properties.get("plotArea.highlight.contextInfos");if(t&&t.length>0){for(var i=0;i<t.length;i++){for(var a=0;a<this._data.color.scale._domain.length;a++){if(l.equalCtxExtend(t[i].ctx,this._data.color.scale._domain[a],this._rawData.dataModel._color.metaData)){this._data.color.scale._range[a]=t[i].paras.color}}}}if(this._options.chartType.indexOf("donut")>=0){var r=this._properties.get("plotArea.highlight.highlightContext");if(r&&r.length>0){r=r[0];var o=this._properties.get("plotArea.highlight.unhighlightSliceColor");for(var n=0;n<this._data.color.scale._domain.length;n++){if(!l.equalCtxExtend(r,this._data.color.scale._domain[n],this._rawData.dataModel._color.metaData)){this._data.color.scale._range[n]=o}}}}s.superclass.render.apply(this,arguments)};return s});define("sap/viz/chart/metadata/bindings/PieBindings",[],function e(){var t=[{id:"dataFrame",name:"IDS_DATA_FRAME",type:"Dimension",min:0,max:1,acceptMND:false,role:"frame.data"},{id:"size",name:"IDS_SIZE",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,role:"mark.color",acceptMND:true}];return t});define("sap/viz/chart/components/renderers/TreeMapDimensionLabelRenderer",["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/Constants"],function(e,t,i,a,r,o){var n=function(e){var t=e.data;var a=e.styles;var r=e.props;var n=i.superFastMeasure(t.label,t.fontSize||a.fontSize,a.fontWeight,a.fontFamily);if(t.tempLabelsSize){n=t.tempLabelsSize}var l=n.height;var s=n.width;var u=0;if(l>t.height){u=-1}else{if(r.labelPosition==="topleft"){var c=i.superFastMeasure("M...",t.fontSize||a.fontSize,a.fontWeight,a.fontFamily);u=t.width-(2*o.TREE_MAP.LEFT_PADDING+2*(t.levelNum-t.level-1)*e.borderWidth);if(u<=c.width){u=t.width-(o.TREE_MAP.LEFT_PADDING+(t.levelNum-t.level-1)*e.borderWidth)}}else{u=t.width}}return u};var l=function(e){var t=e.data;var i=e.padding;if(e.props.labelPosition==="topleft"){return e.isLeafItem?o.TREE_MAP.LEFT_PADDING+2*(t.levelNum-t.level-1)*i:t.left+i+o.TREE_MAP.LEFT_PADDING+2*(t.levelNum-t.level-1)*i}else{return e.isLeafItem?t.width/2-t.realLabelWidth/2:t.left+t.width/2-t.realLabelWidth/2}};var s=function(e){var t=e.data;var a=e.props;var r=e.styles;var n;if(t.labelHeight!==undefined){n=t.labelHeight}else{n=i.fastMeasure(t.label,r.fontSize,r.fontWeight,r.fontFamily).height}if(t.children.length===0){if(a.labelPosition==="topleft"){var l=i.superFastMeasure(t.label,t.fontSize||r.fontSize,r.fontWeight,r.fontFamily);var s=a.dataLabel.visible?l.height+t.labelHeight:l.height;var u=e.isLeafItem?0:t.top;if(o.TREE_MAP.TOP_PADDING+s>t.height){if(s>t.height){return-t.labelYPos}else{return u-t.labelYPos+t.height-s}}else{return u+o.TREE_MAP.TOP_PADDING-t.labelYPos}}return e.isLeafItem?t.height/2-(n/2+t.labelYPos):t.top+t.height/2+n/2-t.labelYPos/2}else{return t.top+n/2-t.labelYPos/2}};var u=function(t){var a=t.data;var r=t.styles;var o="font-size:"+r.fontSize+";";o+="font-weight:"+r.fontWeight+";";o+="font-family:"+r.fontFamily+";";var l="";a.realLabelWidth=0;if(a.showLabel){if(!a.label){a.label=""}var s=i.ellipsis(a.label,e.create("text"),n(t),o,t.ellipsisOptions);a.realLabelWidth=s.realLength;l=s.text;if(!t.isLeafItem&&l!==a.label){var u=d3.select(this.parentNode).select(".v-labelarea");if(u.select("title").empty()){u.append("title").text(a.label)}}}return l};var c=function(e){var t;var i=e.data;if(i.children.length===0){t="white"}else{if(i.level===i.levelNum-1){t="white"}else if(i.levelNum-i.level===6){t="white"}else if(i.levelNum-i.level===5){t="white"}else if(i.levelNum-i.level===4){t="white"}else if(i.levelNum-i.level===3){t="#595959"}else{t="#464646"}}return t};var h=function(e,t){var i=l(t);var a=s(t);if(t.isLeafItem){e.setAttribute("x",i);e.setAttribute("y",a);e.setAttribute("class","v-treemapdatalabel v-dimensionlabel v-treemapdimensionlabel");e.setAttribute("text-anchor",t.textAnchor)}else{e.setAttribute("x",i);e.setAttribute("y",a);e.setAttribute("text-anchor",t.textAnchor);e.setAttribute("class","v-dimensionlabel v-treemapdimensionlabel v-nonLeafDimensionLabel")}};var p=function(e){var t,i;var o=e.data;var n=r.convertColor(o.color)||"0x000000";var l=e.props;if(l.dimensionLabel.style.color){t=l.dimensionLabel.style.color}else{if(e.isLeafItem){if(l.dataLabel.visible&&l.dataLabel.style.color){if(l.dataLabel.style.colorRange==="outside"){t=a.getDataLabelColor(n)}else{t=l.dataLabel.style.color}}else{t=a.getDataLabelColor(n)}}else{t=c(e)}}return t};var d=function(t){var i=e.create("text");var a=t.styles;var r=a.color?a.color:p(t);i.setAttribute("fill",r);i.setAttribute("font-size",a.fontSize);i.setAttribute("stroke","none");i.setAttribute("font-weight",a.fontWeight);i.setAttribute("font-style",a.fontStyle);i.setAttribute("font-family",a.fontFamily);i.setAttribute("fill-opacity",1);i.setAttribute("aria-hidden","true");i.value=t.data.label;i.textContent=u(t);h(i,t);return i};d.getPreferedSize=function(e){var t=e.styles;var a=i.fastMeasure(e.minLabel,t.fontSize,t.fontWeight,t.fontFamily);return a};d.expose={renderer:d,getPreferedSize:d.getPreferedSize};return d});define("sap/viz/chart/components/plots/treemap/DataHandler",["sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/renderers/TreeMapDimensionLabelRenderer"],function e(t,i,a,r){var o=function(e,t,i,a,o){var n=function(e,t,o,l){var s=0;var u;for(u=0;u<e.length;u++){s+=e[u].val}var h=function(e,t){var i=0;if(t.val!==e.val){i=e.val-t.val}return i};var p;for(var d=0;d<e.length-1;d++){for(u=e.length-1;u>d;u--){if(h(e[u],e[u-1])>0){p=e[u-1];e[u-1]=e[u];e[u]=p}}}var f={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0};var v={left:0,top:0,width:0,height:0,weight:0,vertical:false};for(u=0;u<e.length;u++){c(e,u,s,f,v,t)}var g;for(g=0;g<e.length;g++){if(!e[g].left){e[g].left=0}if(!e[g].top){e[g].top=0}if(!e[g].width||e[g].width<0){e[g].width=0}if(!e[g].height||e[g].height<0){e[g].height=0}var m,y="",_;if(e[g].label){m=e[g].label.toString();if(m.length>0){_=m[0];y=_.concat("...")}}var A;var b=e[g].children.length===0;var x=l&&l.renderer||r;var S=e[g].ctx;S.level=e[g].level;var D={minLabel:y,ctx:S,styles:i};A=x.getPreferedSize(D,r.expose);if(!A){A=r.getPreferedSize(D)}e[g].labelHeight=A.height;e[g].labelWidth=A.width;e[g].labelYPos=A.y;e[g].needMoreHeightToShowLabel=false;if(e[g].labelHeight<e[g].height&&e[g].labelWidth<e[g].width){e[g].showLabel=true}else{e[g].showLabel=false;if(e[g].labelHeight>=e[g].height&&e[g].val>0){e[g].needMoreHeightToShowLabel=true}}}var w=true;for(g=0;g<e.length;g++){if(e[g].level===e[g].levelNum-1){if(!e[g].needMoreHeightToShowLabel){w=false;break}}else{w=false}}var C=function(t){if(e[t].level!==e[t].levelNum-1){e[t].showLabel=false}L.top=e[t].top+a*2;L.left=e[t].left+a*2;L.width=e[t].width-a*2-a;L.height=e[t].height-a*2-a};if(!w){for(u=0;u<e.length;u++){if(e[u].children.length>0){var T=true;if(!o){T=false}var z=e[u].labelHeight;var L={};L.top=e[u].top+a*2+z;L.left=e[u].left+a*2;L.width=e[u].width-a*2-a;L.height=e[u].height-a*2-a-z;if(!T){C(u)}w=n(e[u].children,L,T,l);if((w||!e[u].showLabel)&&T){C(u);w=n(e[u].children,L,false,l)}}}}return w};var l=function(e){var t;if(e.height>e.width){t=e.height/e.width}else{t=e.width/e.height}t=Math.floor(t*1e3);return t};var s=function(e,t,i,a,r){var o=0;var n={};if(i){if(r.vertical){n.width=r.width*(t/(a.weight+t));n.height=r.height*((a.weight+t)/r.weight)}else{n.height=r.height*(t/(a.weight+t));n.width=r.width*((a.weight+t)/r.weight)}o=l(n);for(var s=0;s<a.items.length;s++){var u=a.items[s];var c={};if(r.vertical){c.width=a.width*(e[u].val/(a.weight+t));c.height=r.height*((a.weight+t)/r.weight)}else{c.height=a.height*(e[u].val/(a.weight+t));c.width=r.width*((a.weight+t)/r.weight)}var h=l(c);if(o<h){o=h}}}else{o=a.worstRadio}return o};var u=function(e,t){var i={};i.weight=t.weight-e.weight;if(t.width===e.width){i.left=t.left;i.top=e.top+e.height;i.width=t.width;i.height=t.height-e.height}else{i.left=e.left+e.width;i.top=t.top;i.width=t.width-e.width;i.height=t.height}return i};var c=function(e,t,i,a,r,o){if(t===0){e[t].left=o.left;e[t].top=o.top;if(o.width>o.height){e[t].height=o.height;e[t].width=o.width*(e[t].val/i);r.vertical=false}else{e[t].width=o.width;e[t].height=o.height*(e[t].val/i);r.vertical=true}a.left=o.left;a.top=o.top;a.width=e[t].width;a.height=e[t].height;a.weight=e[t].val;a.items.push(t);a.worstRadio=l(a);r.left=o.left;r.top=o.top;r.width=o.width;r.height=o.height;r.weight=i}else if(t===e.length-1){var n=u(a,r);e[t].left=n.left;e[t].top=n.top;e[t].width=n.width;e[t].height=n.height}else{var c=s(e,e[t].val,true,a,r);var h=s(e,e[t].val,false,a,r);if(c<h){a.worstRadio=c;a.items.push(t);a.weight+=e[t].val;if(r.vertical){a.height=r.height*(a.weight/r.weight)}else{a.width=r.width*(a.weight/r.weight)}for(var p=0;p<a.items.length;p++){var d=a.items[p];if(r.vertical){e[d].width=a.width*(e[d].val/a.weight);e[d].height=r.height*(a.weight/r.weight);e[d].top=a.top;if(p===0){e[d].left=a.left}else{e[d].left=e[d-1].left+e[d-1].width}}else{e[d].height=a.height*(e[d].val/a.weight);e[d].width=r.width*(a.weight/r.weight);e[d].left=a.left;if(p===0){e[d].top=a.top}else{e[d].top=e[d-1].top+e[d-1].height}}}}else{var f=u(a,r);r.left=f.left;r.top=f.top;r.width=f.width;r.height=f.height;r.weight=f.weight;if(r.width>r.height){r.vertical=false}else{r.vertical=true}a.left=r.left;a.top=r.top;a.weight=e[t].val;if(r.vertical){a.width=r.width;a.height=r.height;if(r.weight>=e[t].val){a.height*=e[t].val/r.weight}}else{a.height=r.height;a.width=r.width;if(r.weight>=e[t].val){a.width*=e[t].val/r.weight}}a.worstRadio=l(a);a.items=[];a.items.push(t);e[t].width=a.width;e[t].height=a.height;e[t].top=a.top;e[t].left=a.left}}};var h={};h.top=0;h.left=0;h.width=t.width;h.height=t.height;var p=n(e,h,true,o);if(p){n(e,h,false,o)}};var n=["#f9f9f9","#e3e3e3","#bfbfbf","#989898","#717171"],l;function s(e,t){return n[e-t-1]}function u(e,t,i,r,o){if(!e){return[]}var n=[],c,h,p=0,d;l=t;for(c in e){if(e.hasOwnProperty(c)){d=e[c];h=d.dp.context();n[p]={colorValue:d.color,ctx:h,children:u(d.children,t+1,i,h,o),label:a.getLabelText(d.title),val:+d.weight>0?+d.weight:0,level:t,rawdata:d};n[p].color=d.children?s(l,t):i.color.scale.scale(d.color);n[p].levelNum=l+1;if(o&&o.visible===true){n[p].stroke=o.color;n[p].strokeWidth="1px"}p++}}return n}function c(e){var t;for(t=0;t<e.length;t++){var i=[];i.push(e[t].val);i.push(e[t].colorVal);e[t].val=i;if(e[t].children.length>0){c(e[t].children)}}}return function(e,t,i,a,r,n){var l=u(e.series,0,e,{},n);o(l,t,i,a,r);c(l);return l}});define("sap/viz/chart/components/datalabels/TreeMapDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DOM","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/ObjectUtils"],function e(t,i,a,r,o,n,l,s,u,c){var h=function(e,t){h.superclass.constructor.apply(this,arguments);this._labelPosition=t.labelPosition;this._borderWidth=t.borderWidth;this._enableTextCallback=false};t.extend(h,a);h.prototype._getDataLabelInfo=function(e){var t=r.getContext(e);var i=this._data.weight.metaData[0].id;return{key:i,value:t[i]}};h.prototype._computeDataLabelTranslate=function(e,t,i,a,r){var n=false;if(e.childNodes[1]&&e.childNodes[1].textContent){n=true;var l=o.getBBox(e.childNodes[1]);if(i==="topleft"){t.f+=l.y+l.height}else{t.f+=l.height/2}}return this._computeDataLabelPosition(t,this._fixBBoxWhenInvisible(e),i,a,r,n)};h.prototype._computeDataLabelPosition=function(e,t,i,a,r,o){if(r.val<=0){return null}var l,s;var u=t.x+e.e;var c=t.y+e.f;if(i==="topleft"){l=u+n.TREE_MAP.LEFT_PADDING+2*(r.ctx.levelNum-r.ctx.level-1)*this._borderWidth;if(o){s=c-a.y}else{if(n.TREE_MAP.TOP_PADDING+a.height>t.height){if(a.height>t.height){s=c-a.y}else{s=c-a.y+t.height-a.height}}else{s=c+n.TREE_MAP.TOP_PADDING-a.y}}}else{l=u+t.width/2-(a.x+a.width/2);if(o){s=c+t.height/2-a.y}else{s=c+t.height/2-a.y/2}}return[l,s]};h.prototype.hideConditional=function(e){var t;for(t=e.length-1;t>=0;t--){var a=e[t].dataPoint;var r=e[t].node;var o=r.getBoundingClientRect();var l=a.getBoundingClientRect();var s=this._labelPosition==="topleft"?l.width-n.TREE_MAP.LEFT_PADDING:l.width;if(e[t].textRealWidth>s||o.bottom>l.bottom||o.top<l.top||o.left<l.left||o.right>l.right){i.remove(r);e.splice(t,1)}}return h.superclass.hideConditional.apply(this,arguments)};h.prototype.isTextTruncated=function(){return this._enableTextCallback&&this._properties.get("truncationBehavior")==="truncate"};h.prototype.isDataLabelOutOfDataPoint=function(e,t){var i=false;if(!this.isTextTruncated()){i=h.superclass.isDataLabelOutOfDataPoint.apply(this,arguments)}return i};h.prototype._buildDataLabelText=function(e,t,i,a,r){var o=this.runtime().statusManager().get("data.unit")||{};var n=this._properties.get("text");if(n){this._enableTextCallback=true;var l=c.extend(true,{},{units:o},i);delete l.level;delete l.levelNum;delete l.realLabelWidth;return this._properties.get("text").call(this,l)}else{return h.superclass._buildDataLabelText.apply(this,arguments)}};h.prototype.truncateText=function(e){var t;if(this.isTextTruncated()){for(t=e.length-1;t>=0;t--){var i=e[t].dataPoint;var a=e[t].node;var l=a.firstChild;var c=this._getStyle(i);var h={};var p=this.runtime().envManager();h.reverseDots=p&&p.reverseDots();h.needRealLength=true;var d=i.getBoundingClientRect();var f=a.textContent;var v=this._labelPosition==="topleft"?d.width-n.TREE_MAP.LEFT_PADDING:d.width;e[t].textRealWidth=s.ellipsis(f,l,v,c.cssString,h).realLength;var g=o.getBBox(a);var m=u.getTransformToElement(i,i.parentNode);var y={val:e[t].info.value,ctx:r.getContext(i)};var _=this._computeDataLabelTranslate(i,m,this._labelPosition,g,y);a.setAttribute("transform","translate("+_[0]+","+_[1]+")");e[t].left=_[0];e[t].right=e[t].left+e[t].textRealWidth}}};return h});define("sap/viz/chart/components/accessibility/HeatMapDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(e,t){function i(){i.superclass.constructor.apply(this,arguments);this._datapointMap=[]}e.extend(i,t);var a=i.prototype;a.init=function(){if(this._series){var e=[];var t=0;for(t=0;t<this._series.length;t++){for(var i=0;i<this._series[t].length;i++){if(this._series[t][i]){e.push(this._series[t][i])}}}if(e.length>0){e.sort(function(e,t){return e.y-t.y});var a=e[0];var r=null;var o=0;var n=0;var l=0;for(t=1;t<e.length+1;t++){r=e[t];if(r&&Math.floor(a.y)===Math.floor(r.y)){l++;continue}else{l++;this._datapointMap[o]=e.slice(n,l);o++;n=l;a=r}}for(t=0;t<this._datapointMap.length;t++){this._datapointMap[t].sort(function(e,t){return e.x-t.x})}}}};a.getFirstStartPoint=function(){if(this._series){for(var e=0;e<this._series.length;e++){for(var t=0;t<this._series[e].length;t++){if(this._series[e][t]){return this._series[e][t].dp}}}}return null};a.up=function(e){return this._move(e,-1)};a.down=function(e){return this._move(e,1)};a.left=function(e){return this._move(e,-1,true)};a.right=function(e){return this._move(e,1,true)};a.destroy=function(){i.superclass.destroy.apply(this,arguments);this._datapointMap=null};a._move=function(e,t,i){var a=this.getDataPoint(e);var r=this.locate(a.address());var o=-1,n=-1;for(var l=0;l<this._datapointMap.length;l++){o=this._datapointMap[l].indexOf(r);if(o>-1){n=l;break}}if(i){o+=t}else{n+=t}return this._datapointMap[n]&&this._datapointMap[n][o]?this._datapointMap[n][o].dp:null};return i});define("sap/viz/chart/components/accessibility/TreeMapDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/HeatMapDataPointNavigator"],function(e,t){var i=1;var a=-1;var r=2;var o=-2;var n=function(e){return-e};var l=function(e,t){for(var i=0;i<e.length;i++){if(e[i].children.length>0){l(e[i].children,t)}if(e[i].val[0]!==0){t.push(e[i])}}};function s(e){s.superclass.constructor.apply(this,arguments);this._datapointMap=[];this._borderWidth=e.borderWidth;this.previousDpID=0;this.previousOperation=0;l(e.treeRect,this._datapointMap)}e.extend(s,t);var u=s.prototype;u.init=function(){var e;for(var t=0;t<this._datapointMap.length;t++){if(this._datapointMap[t].children.length>0){this._datapointMap[t].height=this._datapointMap[t].labelHeight;e=this._datapointMap[t].levelNum-this._datapointMap[t].level-1;if(this._borderWidth===1){this._datapointMap[t].left+=2*e;this._datapointMap[t].width-=3*e}}}};u.getFirstStartPoint=function(){for(var e=0;e<this._datapointMap.length;e++){if(this._datapointMap[e].children.length===0){return this._datapointMap[e].rawdata.dp}}};u.getDataPointInfo=function(e){for(var t=0;t<this._datapointMap.length;t++){var i=this._datapointMap[t].rawdata.dp.id;if(i===parseInt(e)){return this._datapointMap[t]}}};u.getDataPoint=function(e){return this.getDataPointInfo(e).rawdata.dp};u.getCandidate=function(e,t,r,o){for(var n=0;n<this._datapointMap.length;n++){if(this._datapointMap[n].showLabel===true||this._datapointMap[n].levelNum-this._datapointMap[n].level==1){if(o===i||o===a){if(this._datapointMap[n].left<=e.left&&e.left<this._datapointMap[n].left+this._datapointMap[n].width){t.push(this._datapointMap[n])}if(this._datapointMap[n].left>e.left&&this._datapointMap[n].left<e.left+e.width){r.push(this._datapointMap[n])}}else{if(this._datapointMap[n].top<=e.top&&e.top<this._datapointMap[n].top+this._datapointMap[n].height){t.push(this._datapointMap[n])}if(this._datapointMap[n].top>e.top&&this._datapointMap[n].top<e.top+e.height){r.push(this._datapointMap[n])}}}}};u.getDistance=function(e,t,n){var l;if(n===a){l=e.top-(t.top+t.height)}else if(n===i){l=t.top-(e.top+e.height)}else if(n===o){l=t.left-(e.left+e.width)}else if(n===r){l=e.left-(t.left+t.width)}return l};u.getMinDistanceAndDp=function(e,t,i,a){var r=t;var o=null;var n;for(var l=0;l<e.length;l++){n=this.getDistance(e[l],i,a);if(n>=0&&n<r){r=n;o=e[l].rawdata.dp}}return{minDistance:r,closestDp:o}};u.move=function(e,t){var r;if(this.previousOperation===n(t)){r=this.getDataPoint(this.previousDpID)}else{var o=this.getDataPointInfo(e);var l=[];var s=[];var u;if(t===i||t===a){u=o.height+o.top}else{u=o.width+o.left}this.getCandidate(o,l,s,t);var c=this.getMinDistanceAndDp(l,u,o,t);var h=this.getMinDistanceAndDp(s,u,o,t);if(c.minDistance<=h.minDistance){r=c.closestDp}else{r=h.closestDp}}if(r){this.previousDpID=e;this.previousOperation=t}return r};u.up=function(e){return this.move(e,i)};u.down=function(e){return this.move(e,a)};u.left=function(e){return this.move(e,o)};u.right=function(e){return this.move(e,r)};u.destroy=function(){s.superclass.destroy.apply(this,arguments);this._datapointMap=null};return s});define("sap/viz/chart/components/plots/treemap/TreeMapPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/treemap/DataHandler","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/chart/components/datalabels/TreeMapDataLabels","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/SVG","sap/viz/chart/components/renderers/TreeMapDimensionLabelRenderer","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/TreeMapDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_){var A="v-treemap",b="v-treemapitem",x={fontSize:"12px",fontWeight:"normal",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif"};var S=function(e,t){S.superclass.constructor.apply(this,arguments);this._redrawAll=true;this._rects=null;e.zoneManager().add(c.plot(this));e.zoneManager().add(h.plot(this));this._borderWidth=1;this.runtime().statusManager().add("treeRect")};t.extend(S,o);S.prototype.destroy=function(){S.superclass.destroy.call(this);this._redrawAll=null;this._properties=null;this._borderWidth=null;this._rects=null;if(this._dimensionLabels&&this._dimensionLabels.destroy){this._dimensionLabels.destroy()}this._dimensionLabels=null};S.prototype._applyChanges=function(){this._redrawAll=true;this._borderWidth=this._properties.get("border.visible")?1:0;var e=this._properties.get().dimensionLabel;if(e&&e.style){x=e.style;this._labelVisibility=e.visible}if(e&&e.renderer){this._dimensionLabels=e}var t=this._properties.get("dataPoint.stroke");var i=x["fontSize"];var a=x["fontWeight"];var r=x["fontFamily"];var o=x["fontStyle"];var s=x["color"];var u={fontSize:i,fontWeight:a,fontFamily:r,fontStyle:o,color:s};this._rects=n(this._data,this._size,u,this._borderWidth,e,t);var c=l.extend(true,[],this._rects);this.runtime().statusManager().set("treeRect",c)};S.prototype._drawDatapoints=function(e){var t=this._rects;if(this._redrawAll){e.selectAll("*").remove()}var a=e;var r=e.selectAll("g."+u.CSS.CLASS.DATAPOINT_GROUP);if(!i.isExist(r[0][0])){r=e.append("g").attr("class",u.CSS.CLASS.DATAPOINT_GROUP)}var o=this._properties.get();this._drawTreeMapItems(r,t,this._redrawAll,0,this._borderWidth,this._effectManager,this._randomSuffix,o);var n;if(this._redrawAll){n=e.append("g").attr("class","v-element").attr("visibility","hidden");n.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");n.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");n.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");n.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(n){n.attr("visibility","hidden")}}this._redrawAll=false;this._clearReduntantDataFromCtx(e);this._drawTreeMapDataLabels(e)};S.prototype._drawTreeMapDataLabels=function(e){var t=e.node();var i=d3.select(t);var a=i.select(".v-datapoint-group");if(!a.empty()){this._drawDataLabels(i,a.node())}};S.prototype._clearReduntantDataFromCtx=function(e){var t=e.select(".v-datapoint-group");if(t.empty()){return}var i=t.node().querySelectorAll("g");for(var a=0,r=i.length;a<r;a++){var o=d3.select(i[a]).datum();if(o!==undefined){delete o["children"];delete o["val"];delete o["ctx"];delete o["rawdata"];delete o["height"];delete o["width"];delete o["left"];delete o["top"];delete o["labelHeight"];delete o["labelWidth"];delete o["showLabel"];delete o["needMoreHeightToShowLabel"];delete o["color"];delete o["colorValue"];delete o["label"];delete o["stroke"];delete o["strokeWidth"];delete o["labelYPos"];delete o["fontSize"]}}};function D(e,t,i){e.each(function(e){var a=t._buildWrapperConfig(e.rawdata,{width:e.width,height:e.height},e.ctx,i);var o=t._buildData(a);e.color=o.color;s.setData(this,o);r.setDataPointId(this,e.rawdata.dp.id)})}S.prototype._drawTreeMapItems=function(e,t,i,a,r,o,n,u){if(t.length<=0){return}var c=null;var h=this.runtime().envManager();if(h){c=h.textAnchor()}var p={};p.reverseDots=h&&h.reverseDots();p.needRealLength=true;var d=t[0].children.length===0;if(i){e=e.append("g").attr("class",A+"level"+t[0].level)}else{e=e.select("."+A+"level"+t[0].level)}var v=[];for(var m=0;m<t.length;m++){if(t[m].level===a){var y=t[m].ctx;l.extend(true,t[m],y);if(d&&t[m].val[0]===0){continue}v.push(t[m])}}var _=e.attr("class");var S=e.selectAll("."+_+" > ."+b);S=S.data(v);var w=S.enter();var C;var T=function(e){var t=e.attr("x",function(e){return e.left+r}).attr("class","v-labelarea v-mbc-axis-item v-axis-item").attr("y",function(e){return e.top+r}).attr("width",function(e){return e.width-2*r>0?e.width-2*r:0}).attr("height",function(e){return e.showLabel?e.labelHeight:0}).attr("opacity",0).attr("shape-rendering","crispEdges").attr("fill-opacity",1);t.each(function(e){this.labelContexts=e.ctx});return t};var z=function(e){var t=e.attr("x",function(e){return d?0:e.left+r}).attr("class",function(e){return d?"v-item":"v-item"}).attr("y",function(e){return d?0:e.top+r}).attr("width",function(e){return e.width-2*r>0?e.width-2*r:0}).attr("height",function(e){return e.height-2*r>0?e.height-2*r:0}).attr("fill",function(e){var t={drawingEffect:"normal",fillColor:f.convertColor(e.color)};return o.register(t)}).attr("shape-rendering","crispEdges").attr("stroke",function(e){return d?e.stroke:undefined}).attr("stroke-width",function(e){return d?e.strokeWidth:undefined});if(!d){t.attr("fill-opacity",1)}return t};var L=this;var P=function(e,t){var i=L._dimensionLabels;if(t){var a=i&&i.renderer||g;var o;for(o=0;o<e[0].length;o++){var n=s.getContext(e[0][o]);var l=x["fontSize"];var h=x["fontWeight"];var f=x["fontFamily"];var v=x["fontStyle"];var m=x["color"];var y={fontSize:l,fontWeight:h,fontFamily:f,fontStyle:v,color:m};var _={ctx:n.ctx,data:n,styles:y,props:u,ellipsisOptions:p,isLeafItem:d,textAnchor:c,borderWidth:L._borderWidth,padding:r};var A=a(_,g.expose);if(A){s.setContext(A,n.ctx);e[0][o].appendChild(A)}}}};var k,E,I;var O={disableSemantic:false};if(i){var R=b;if(d){R+=" v-datashape v-datapoint v-morphable-datapoint"}C=w.append("g").attr("class",R);if(d){C.attr("transform",function(e){return"translate("+(e.left+r)+","+(e.top+r)+")"});D(C,this,O)}I=C.append("rect");z(I);if(d){I.attr("id",function(e,t){return"HM"+e.index+n})}else{k=C.append("rect");T(k)}P(C,this._labelVisibility)}var N=function(e,t,l){var s=d3.select(e);this._drawTreeMapItems(s,s.datum().children,i,a+1,r,o,n,u)}.bind(this);if(!d){D(C,this,O)}C.each(function(e,t){N(this,e,t,O)});return C};S.prototype._getDataLabels=function(e,t){var i=this._properties.get("labelPosition");var a=this._properties.get("border.visible")?1:0;return new p(t,{name:e,labelPosition:i,borderWidth:a})};S.prototype.render=function(e){var t=this._size.width,i=this._size.height;this._size.width=t<0?0:t;this._size.height=i<0?0:i;S.superclass.render.apply(this,arguments)};m.register(_.DATAPOINT_NAVIGATOR,_.TREEMAP,y);return S});define("sap/viz/chart/components/accessibility/MBCLegendNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ColorLegendNavigator"],function(e,t){function i(e){i.superclass.constructor.apply(this,arguments)}e.extend(i,t);return i});define("sap/viz/chart/scales/QuantizeScaleUtil",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/ColorUtils"],function e(t,i,a,r,o){function n(e){var t=1;while(e+t===e){t*=10}return t}var l={getColorScale:function(e,t,l,d,f){var v;var g={};var m=o.fromCSSColor(i.convertColor(d.startColor)).toString();var y=o.fromCSSColor(i.convertColor(d.endColor)).toString();var _=i.convertColor(d.nullColor);var A=e;var b=t;if(!l){if(d.palette&&d.palette.length){g.range=d.palette}else if(y){g.range=[y]}}if(e===undefined&&t===undefined||e===Number.MAX_VALUE&&t===-Number.MAX_VALUE){if(l){v=d3.scale.ordinal().domain([[]]).range([d.nullColor]);v.domainInfo=[{}];g.nullColor=_}}else{var x=null;var S=d.numOfSegments;var D;var w;if(d.palette&&d.palette.length>=S){D=d.palette.slice(0,S);if(S===1){D.push(d.palette[0])}x=d3.scale.quantize().domain([e,t]).range(D);w=d3.scale.linear().domain([e,t]).range(D).nice().domain();x.domain(w)}else{if(d.palette.length>0&&e===t){D=d.palette.slice(0,d.palette.length);x=d3.scale.quantize().domain([e,t]).range(D);w=d3.scale.linear().domain([e,t]).range(D).nice().domain();x.domain(w)}else{x=d3.scale.linear().domain([e,t]).range([m,y]).nice()}}var C=[],T,z;if(s(d.legendValues,S)){C=d.legendValues.slice(0,S+1)}else{if(d.type==="quantile"){var L=0,P=[];for(T=0,z=f.length;T<z;T++){if(a.isArray(f[T])){P=P.concat(f[T])}else{P.push(f[T])}}P=P.sort(function(e,t){return e-t}).filter(function(e){return e!==null});while(++L<S){C[L-1]=p(P,L/S)}C=r.unique([Math.floor(P[0])].concat(C)).concat([Math.ceil(P[P.length-1])])}else{var k=x.domain();var E=c(k[0]),I=c(k[1]);var O=E>I?E:I;O++;var R=x.domain();R=u(R,O);e=R[0];t=R[1];if(e===t){S=1}var N=t-e,M,B=0,V;if(N/S>1){if(N%S===0){M=h(N/S,O+1);B=c(M);for(T=0;T<S+1;T++){C.push(e+h(T*M,B))}}else{M=Math.ceil(N/S);B=c(M);V=Math.floor(e/M)*M;if(V===0||V+M*S<t){V=e}for(T=0;T<S+1;T++){C.push(V+h(T*M,B))}}}else{V=e;M=h(N/S,O+1);B=c(M);for(T=0;T<S;T++){C.push(V+h(T*M,B))}C.push(h(t,B))}for(T=0,z=C.length;T<z;T++){C[T]=h(C[T],B)}M=n(C[0]);while(e<C[0]){C[0]-=M}M=n(C[C.length-1]);while(t>C[C.length-1]){C[C.length-1]+=M}}}if(!(d.palette&&d.palette.length)){S=C.length-1}x.domain([0,S===1?1:S-1]);var F=[],H=[],U=[];for(T=0,z=C.length-1;T<z;T++){F.push([C[T],C[T+1]]);H.push(x(T));U.push({isLeftOpen:false,isRightOpen:true,isAscending:true})}U[z-1].isRightOpen=false;var W=false;var G=false;if(d.legendValues&&d.legendValues.length>0){var Y=d.legendValues.length-1;if(d.numOfSegments&&d.numOfSegments<d.legendValues.length){Y=d.numOfSegments-1}W=A<d.legendValues[0];G=b>d.legendValues[Y]}var X,j,Z;if(e<F[0][0]){if(W){F.splice(0,1)}F.unshift([-Number.MAX_VALUE,F[0][0]]);if(W){U.splice(0,1)}U.unshift({isLeftOpen:false,isRightOpen:true,isAscending:true})}if(t>F[F.length-1][1]){if(G){F.pop()}F.push([F[F.length-1][1],Number.MAX_VALUE]);if(G){U.pop()}U.push({isLeftOpen:true,isRightOpen:true,isAscending:true})}g.domain=F;g.range=H;g.domainInfo=U;g.legendValues=F;if(l){g.nullColor=d.nullColor}}return g},getScale:function(e,t,i,a,r){return l.getColorScale(e,t,false,{numOfSegments:i,startColor:a,endColor:r})}};l.fillContexts2DomainInfo4MBC=function(e,i,a,r){if(e){var o=e.domain,n;var l=e.domainInfo,s;var u,c,h,p,d,f;var v;for(var g=-1;++g<i.length;){f=a?a(i[g]):i[g].val;for(var m=-1;++m<o.length;){n=o[m];s=l[m];if(t.isNoValue(f)){u=n.length===0}else if(n.length>0){c=n[0];h=s.isLeftOpen;p=n[1];d=s.isRightOpen;u=(f<c||!h&&f===c)&&(f>p||!d&&f===p)||(f>c||!h&&f===c)&&(f<p||!d&&f===p)}if(u){s.dpPaths=s.dpPaths||[];v=r?r(i[g]):i[g].ctx.path;s.dpPaths.push(v);break}}}}};var s=function(e,t){var i;if(!e||!t){return false}if(e.length<t+1){return false}for(i=0;i<t+1;i++){if(isNaN(e[i])){return false}}for(i=0;i<t+1;i++){if(e[i]>=e[i+1]){return false}}return true};var u=function(e,t){for(var i=0,a=e.length;i<a;i++){e[i]=h(e[i],t)}return e};var c=function(e){var t=e.toString().split(".");return t.length>1?t[1].length:0};var h=function(e,t){return Math.round(Math.pow(10,t)*e)/Math.pow(10,t)};var p=function(e,t){var i=(e.length-1)*t+1,a=Math.floor(i),r=+e[a-1],o=i-a;return o?r+o*(e[a]-r):r};l.isLegendValuesValid=s;return l});define("sap/viz/chart/components/legend/MBCLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/BaseLegend","sap/viz/chart/components/legend/ColorLegend","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/MBCLegendNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/scales/QuantizeScaleUtil"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v){var g={width:14,maxHeight:34,minHeight:12};var m={height:14,defaultWidth:36,maxWidth:36,minWidth:14};var y={noValuePadding:18,valuePadding:8,markerPaddingRight:.5,maxValueSpace:1.6,minValueSpace:.5};var _=1,A=5;var b=function(e,t){b.superclass.constructor.apply(this,arguments);var i=this._properties.get();this._mbcLA_width=400;this._mbcLA_height=200;this._mbcLA_valueLabelFont=i.label.style;this._mbcLA_wrap=undefined;this._mbcLA_chartData=undefined;this._mbcLA_colors=[];this._mbcLA_markerSize={width:12,height:12};this._mbcLA_paddingBottom=1;this._mbcLA_selectedItem=[];this._mbcLA_textInfos=null;this._mbcLA_perferredSize=null;this._mbcLA_nullLabelIndex=-1;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_effectManager=this.runtime().effectManager();this._mbcLA_styleManager=i;this._mbcLA_style={};this._mbcLA_style.clickedshadow=i.mouseDownShadow.color;this._need_calTextSize=false;this._cells=[];this._type="MBCLegend"};t.extend(b,a);b.prototype._addDefaultProperties=function(){b.superclass._addDefaultProperties.call(this);this._properties.add({formatString:null,unitFormatType:null,drawingEffect:"normal",hovershadow:{color:"#cccccc"},mouseDownShadow:{color:"#808080"},onlyShowStartEndLabel:false})};b.prototype.syncProperties=function(){this._mbcLA_valueLabelFont=this._properties.get("label.style");this._mbcLA_styleManager=this._properties.get();this._formatString=this._mbcLA_styleManager.formatString;this._onlyShowStartEndLabel=this._properties.get("onlyShowStartEndLabel")};b.prototype.setData=function(e){if(!e){return}this.syncProperties();m.maxWidth=m.defaultWidth;if(e.color){this._bindingFields=e.color.metaData}this._mbcLA_colors=[];if(e.color&&e.color.scale&&e.color.scale._range){var t;for(t=0;t<e.color.scale._range.length;t++){this._mbcLA_colors.push(e.color.scale._range[t])}}var i=e.color.range,a,r,o,l=e.color.metaData,s=u.extend(true,[],e.color.scale._legendValues);this._mbcLA_chartData=[];if(!l||!l.length||!i.length||!i[0]||!i[0].length){return}var c=i[0][0],h=i[0][1],p=l[0].id;this._measureName=l[0].name;a=c<=h?true:false;if(s&&s.length){if(a){s=s.reverse()}for(r=0,o=s.length;r<o;r++){var d={measureName:p};d[p]={min:s[r][0],openmax:s[r][1]};if(r===0){d[p].max=s[r][1]}this._mbcLA_chartData.push({ctx:d,val:s[r][0]});if(r===0){this._mbcLA_chartData[0].val1=s[r][1];if(Math.abs(s[r][1])===Number.MAX_VALUE){this._mbcLA_chartData[r].val1=undefined}}if(r===o-1&&Math.abs(s[r][0])===Number.MAX_VALUE){if(o>1){this._mbcLA_chartData[r].val=undefined}}}}var f=function(e){var t,i;for(t=0;t<e.length;t++){if(n.isArray(e[t])){if(e[t].length!==e[0].length){return true}for(i=0;i<e[t].length;i++){if(e[t][i]===null||isNaN(e[t][i])){return true}}}else{if(e[t]===null||isNaN(e[t])){return true}}}return false};var v=e.color.values;var g=f(v);if(g){this._mbcLA_chartData.push({ctx:{measureName:p,and:function(e){return e[p]===null||isNaN(e[p])}},val:"N/A"});this._mbcLA_colors.push(e.color.scale.scale(null))}this._need_calTextSize=true};b.prototype.isInSemanticMode=function(){var e=this.runtime().semanticManager();return e.hasDataPointColorStyle()&&e.isOverrideMode()};b.prototype.render=function(e,t){if(this.isInSemanticMode()){e.selectAll("g.v-mbc-content").remove();a.prototype.render.apply(this,arguments);e.selectAll("g.v-content").classed("v-color-content",true);return}e.selectAll("g.v-color-content").remove();i.prototype.render.apply(this,arguments);if(!this.isVisible()){e.selectAll("g.v-content").remove();return this}this._cells=[];var r=this;this.syncProperties();var n=this._parent=e;var l=n.selectAll("g.v-content").data(["content"]);l.enter().append("g").classed("v-content v-mbc-content",true);l.exit().remove();l.attr("transform","translate(0, "+this._pos.y+")");var s=l.selectAll("g.v-groups").data(["groups"]);s.enter().append("g").classed("v-groups",true).classed("v-label",true).classed("viz-legend-valueLabel",true);s.attr("role","listbox");s.exit().remove();this._tempGroups=s;var u=function(e){var t={marker:[],label:[],ticker:[]},i=0,a=0,n=r._mbcLA_colors.map(h.convertColor),l,s,u,c,p;var d=y.markerPaddingRight*r._mbcLA_textHeight;var f=r._mbcLAfn_calTextSize();var g=f.textSize;var m=f.tValueWidth;n=n.reverse();if(r._mbcLA_nullLabelIndex!==-1){var b=n.shift();n.push(b)}u=e.length;var x=u>0&&e[u-1].val==="N/A";if(r._orientation==="top"||r._orientation==="bottom"){d=d+r._getValuePaddingDelta(d);var S=r._properties._props["legend.onlyShowStartEndLabel"];if(S&&S.value===undefined){var D=r._runtime._scaleMgr.get("color");if(D&&D.legendValues){if(!v.isLegendValuesValid(D.legendValues,D.numOfSegments)){r._onlyShowStartEndLabel=true}}}if(m&&g[0].visibility_tVal!=="hidden"){i=m/2-_/2}l=r._mbcLA_markerSize.width+r._mbcLA_paddingBottom;var w=r._mbcLA_markerSize.height+d-r._mbcLA_textY;var C=r._mbcLA_markerSize.height+(d-A)/2;for(s=0;s<u;s++){c=e[s].val;p=e[s].val1;if(c==="N/A"&&u>1){var T=y.valuePadding;if(g[s-1].visibility!=="hidden"){T+=g[s-1].width/2}if(g[s-1].width!==0){T-=_/2}i=i-r._mbcLA_paddingBottom+T}t.marker.push({x:i,y:a,color:n[s],val:e[s].val,ctx:e[s].ctx});if(p!==undefined){t.label.push({val:p,x:0,y:w,visibility:g[s].visibility_tVal});t.ticker.push({val:p,x1:i+_/2,x2:i+_/2,y1:C,y2:C+A,visibility:g[s].visibility_tVal})}if(!(r._onlyShowStartEndLabel&&s<u-(x?2:1))){if(c!==undefined){if(c==="N/A"){t.label.push({val:o.get("IDS_ISNOVALUE"),x:i,y:w,visibility:g[s].visibility})}else{var z=i+l-(s===u-(x?2:1)?r._mbcLA_paddingBottom+_/2:_/2);t.label.push({val:c,x:z-g[s].width/2,y:w,visibility:g[s].visibility});t.ticker.push({val:c,x1:z,x2:z,y1:C,y2:C+A,visibility:g[s].visibility})}}}i=i+l}}else{l=r._mbcLA_markerSize.height+r._mbcLA_paddingBottom;var L=r._mbcLA_markerSize.width+d;for(s=0;s<u;s++){c=e[s].val;p=e[s].val1;if(c==="N/A"&&u>1){a=a+y.noValuePadding}var P=a;if(c!=="N/A"){P=a+r._mbcLA_textHeight/2}t.marker.push({x:i,y:P,color:n[s],val:c,ctx:e[s].ctx});if(p!==undefined){t.label.push({val:p,x:L,y:-r._mbcLA_textY,visibility:g[s].visibility_tVal})}if(c!==undefined){if(!(r._onlyShowStartEndLabel&&s<u-(x?2:1))){if(c==="N/A"){t.label.push({val:o.get("IDS_ISNOVALUE"),x:L,y:a-r._mbcLA_textY/2-r._mbcLA_paddingBottom+l/2,visibility:g[s].visibility})}else{t.label.push({val:c,x:L,y:a+l-r._mbcLA_textY-r._mbcLA_paddingBottom,visibility:g[s].visibility})}}}a=a+l}}return t};e.each(function(){r._mbcLAfn_setupThemeStyleDef();r._mbcLAfn_calMarkerSize({width:r._mbcLA_width,height:r._mbcLA_height-r._pos.y});var e=r._mbcLA_chartData,t,i=0,a,o,n=y.markerPaddingRight*r._mbcLA_textHeight;var l=r._tempGroups;r._mbcLA_wrap=l;var s=l.selectAll("rect.v-indicatedRect");if(s.empty()){s=l.append("rect").attr("class","v-indicatedRect v-hovershadow")}s.attr("visibility","hidden");if(r._orientation==="top"||r._orientation==="bottom"){s.attr("width",r._mbcLA_markerSize.width+2).attr("height",r._mbcLA_markerSize.height+4)}else{s.attr("width",r._mbcLA_markerSize.width+4).attr("height",r._mbcLA_markerSize.height+2)}var c=u(e);var h=l.selectAll("rect.v-marker").data(c.marker);h.exit().remove();h.enter().append("rect");h.attr("class",function(e,t){return"v-marker v-mbc-legend-item ID_"+t});h.attr("legendlabel-id",function(e,t){r._cells.push([{id:t}]);return t});if(r.isSelectable()){h.attr("aria-posinset",function(e,t){return t+1}).attr("aria-setsize",c.marker.length).attr("role","option")}h.attr("width",r._mbcLA_markerSize.width).attr("height",r._mbcLA_markerSize.height).attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("fill",function(e){var t={drawingEffect:"normal",fillColor:e.color};var i=r._mbcLA_effectManager.register(t);return i});var p=r._mbcLA_nullLabelIndex===-1?c.label.length:c.label.length-1;var d=l.selectAll("text").data(c.label);d.exit().remove();d.enter().append("text");d.text(function(e){return r._getLabelValue(e.val)});d.attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("visibility",function(e){return e.visibility});var f=null;var v=r.runtime()&&r.runtime().envManager();if(v){f=v.textAnchor()}d.attr("text-anchor",f);var g=r._mbcLA_styleManager.label.style;l.attr("font-family",g["fontFamily"]).attr("font-size",g["fontSize"]).attr("font-weight",g["fontWeight"]).attr("fill",g.color).attr("font-style",g["fontStyle"]);var m=l.selectAll("line").data(c.ticker);m.exit().remove();if(r._orientation==="top"||r._orientation==="bottom"){m.enter().append("line");m.attr("x1",function(e){return e.x1}).attr("x2",function(e){return e.x2}).attr("y1",function(e){return e.y1}).attr("y2",function(e){return e.y2}).attr("visibility",function(e){return e.visibility}).attr("stroke-width",_).attr("stroke",g.color)}})};b.prototype._getValuePaddingDelta=function(e){var t=9;return e<t?t-e:0};b.prototype._updateHeight=function(e){var t=this._tempGroups;var i=true;t.selectAll("text").each(function(e){i=i&&e.visibility==="hidden"});if(i&&this._mbcLA_perferredSize.height>this._mbcLA_perferredSize.minHeight){var a=e.getAttribute("height");e.setAttribute("height",a-(y.markerPaddingRight*this._mbcLA_textHeight+this._mbcLA_textHeight))}};b.prototype.highlight=function(e){if(e.__data__){var t=this._mbcLA_wrap.selectAll(".v-indicatedRect");var i=e.__data__;if(i.x!==undefined&&i.y!==undefined){t.attr("class","v-indicatedRect v-mbc-legend-item v-hovershadow").attr("visibility","visible").attr("fill",this._mbcLA_style.hovershadow.fill);if(this._orientation==="top"||this._orientation==="bottom"){t.attr("x",i.x-1).attr("y",i.y-2)}else{t.attr("x",i.x-2).attr("y",i.y-1)}}}};b.prototype._shouldInitColorShapeScale=function(){return!this._colorShapeScale||!this._colorScale};b.prototype.hasData=function(){if(this.isInSemanticMode()){this._initColorShapeScale();return this._colorShapeScale&&this._colorShapeScale.getLength()>0}return!!(this._mbcLA_chartData&&this._mbcLA_chartData.length)};b.prototype.unhighlight=function(e){if(this._mbcLA_wrap){this._mbcLA_wrap.selectAll(".v-indicatedRect").attr("visibility","hidden")}};b.prototype.selected=function(e){if(e.__data__){var t=this._mbcLA_wrap.selectAll(".v-indicatedRect");var i=e.__data__;if(i.x!==undefined&&i.y!==undefined){t.attr("class","v-indicatedRect v-mbc-legend-item v-hovershadow-mousedown").attr("visibility","visible").attr("fill",this._mbcLA_style.clickedshadow);if(this._orientation==="top"||this._orientation==="bottom"){t.attr("x",i.x-1).attr("y",i.y-2)}else{t.attr("x",i.x-2).attr("y",i.y-1)}}}};b.prototype.setSize=function(e){b.superclass.setSize.apply(this,arguments);this.width(e.width);this.height(e.height)};b.prototype.width=function(e){b.superclass.width.apply(this,arguments);var t=[].slice.call(arguments);if(t.length<1||t[0]===undefined){this._properties.set("width",this._mbcLA_width);return this._mbcLA_width}this._mbcLA_width=e;this._properties.set("width",this._mbcLA_width);return this};b.prototype.height=function(e){b.superclass.height.apply(this,arguments);var t=[].slice.call(arguments);if(t.length<1||t[0]===undefined){this._properties.set("height",this._mbcLA_height);return this._mbcLA_height}this._mbcLA_height=e;this._properties.set("height",this._mbcLA_height);return this};b.prototype.setOrientation=function(e){if(!arguments.length){return this._orientation}if(e&&e!==this._orientation){this._mbcLA_markerSize={width:12,height:12}}this._orientation=e;this._need_calTextSize=true;return this};b.prototype.getPreferredSize=function(e,t){this.syncProperties();return b.superclass.getPreferredSize.apply(this,arguments)};b.prototype._getBodyPreferredSize=function(e){if(this.isInSemanticMode()){return a.prototype._getBodyPreferredSize.apply(this,arguments)}var t=0,i=0,o=0,n=0;if(this._mbcLA_chartData&&this._mbcLA_chartData.length&&this._need_calTextSize){this._mbcLAfn_setupThemeStyleDef();var l=r.fastMeasure("M",this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_textHeight=l.height;this._mbcLA_textY=l.y;var s=this._mbcLAfn_calTextSize();var u=s.maxValueWidth;var c=s.textSize;var h=this._mbcLA_chartData.length;if(s.maxNumValueWidth>m.maxWidth){m.maxWidth=s.maxNumValueWidth+y.valuePadding}if(this._orientation==="top"||this._orientation==="bottom"){var p=this._mbcLAfn_calLegendWidthFromMarkerWidth(m.maxWidth);i=p.height;t=p.width;p=this._mbcLAfn_calLegendWidthFromMarkerWidth(m.minWidth);o=p.height;n=p.width}else{t=this._mbcLA_markerSize.width+y.markerPaddingRight*this._mbcLA_textHeight+u;n=this._mbcLA_markerSize.width+y.markerPaddingRight*this._mbcLA_textHeight+(c[0].width>c[h-1].width?c[0].width:c[h-1].width);if(this._mbcLA_nullLabelIndex!==-1){i=(g.maxHeight+this._mbcLA_paddingBottom)*h+y.noValuePadding-this._mbcLA_paddingBottom;o=(g.minHeight+this._mbcLA_paddingBottom)*h+y.noValuePadding-this._mbcLA_paddingBottom}else{i=(g.maxHeight+this._mbcLA_paddingBottom)*h+this._mbcLA_textHeight-this._mbcLA_paddingBottom;o=(g.minHeight+this._mbcLA_paddingBottom)*h+this._mbcLA_textHeight-this._mbcLA_paddingBottom}}this._mbcLA_perferredSize={minHeight:o,minWidth:n,width:t,height:i,maxWidth:t,maxHeight:i}}else{this._mbcLA_perferredSize={minHeight:0,minWidth:0,width:0,height:0,maxWidth:0,maxHeight:0}}return this._mbcLA_perferredSize};b.prototype._mbcLAfn_calTextSize=function(){var e=-1,t=-1,i=[],a=0,n=this._mbcLA_chartData,l,s,u,c;var h=n.length;var p=h;if(this._need_calTextSize){this._mbcLA_nullLabelIndex=-1;if(h>0&&n[h-1].val==="N/A"){p=h-1}for(u=0;u<h;u++){if(n[u].val==="N/A"){i[u]=r.fastMeasure(o.get("IDS_ISNOVALUE"),this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_nullLabelIndex=u}else{l=n[u].val;if(l!==undefined){l=this._getLabelValue(n[u].val);i[u]=r.fastMeasure(l,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily)}else{i[u]={width:0,height:0}}s=n[u].val1;if(s!==undefined){s=this._getLabelValue(s);c=r.fastMeasure(s,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);if(this._orientation==="top"||this._orientation==="bottom"){a=c.width;if(a>t){t=a}}else{if(c.width>i[u].width){i[u]=c}}}if(i[u].width>t){t=i[u].width}}if(i[u].width>e){e=i[u].width}}if(this._onlyShowStartEndLabel){var d=i[p-1].width;t=a>d?a:d}this._mbcLA_textInfos={maxValueWidth:e,maxNumValueWidth:t,textSize:i,tValueWidth:a};this._need_calTextSize=false}return this._mbcLA_textInfos};b.prototype._mbcLAfn_calMarkerSize=function(e){if(!this.hasData()){return false}var t=this._mbcLA_chartData.length,i=0,a,r,o,n;this._mbcLA_minimized=false;var l=y.maxValueSpace*this._mbcLA_textHeight;var s=y.minValueSpace*this._mbcLA_textHeight;var u=this._mbcLAfn_calTextSize().textSize;if(this._orientation==="top"||this._orientation==="bottom"){a=e.width;var c=m.maxWidth;var h=m.minWidth;var p=-1;var d=this._mbcLAfn_calLegendWidthFromMarkerWidth(c);if(d.width<=a){i=c}else{d=this._mbcLAfn_calLegendWidthFromMarkerWidth(h);if(d.width>=a){i=h}else{while(c-h>1){p=h+(c-h)/2;d=this._mbcLAfn_calLegendWidthFromMarkerWidth(p);if(Math.abs(d.width-a)<1){h=p;break}else if(d.width>a){c=p}else{h=p}}i=h;d=this._mbcLAfn_calLegendWidthFromMarkerWidth(i);if(d.isAllHidden&&i>m.defaultWidth){i=m.defaultWidth}}}}else{a=e.height;var f=false;var v;if(this._mbcLA_textHeight>g.maxHeight){f=true}if(this._mbcLA_nullLabelIndex!==-1){i=(a-this._mbcLA_paddingBottom*(t-1)-y.noValuePadding-(f?this._mbcLA_textHeight-g.maxHeight:0))/t}else{i=(a-this._mbcLA_paddingBottom*(t-1)-this._mbcLA_textHeight)/t}if(i>g.maxHeight){i=g.maxHeight}if(i<this._mbcLA_textHeight){f=true}if(f){this._mbcLA_minimized=true}for(n=0;n<u.length;n++){if(this._mbcLA_minimized){u[n].visibility="hidden"}else{u[n].visibility="visible"}}u[0].visibility_tVal="visible";if(this._mbcLA_nullLabelIndex!==-1){u[this._mbcLA_nullLabelIndex].visibility="visible";v=u.length-1}else{v=u.length}if(v>0){if(u[v-1].height===0){u[v-2].visibility="visible"}else{u[v-1].visibility="visible"}}}if(this._orientation==="top"||this._orientation==="bottom"){this._mbcLA_markerSize.width=i;this._mbcLA_markerSize.height=m.height}else{this._mbcLA_markerSize.width=g.width;this._mbcLA_markerSize.height=i}};b.prototype._mbcLAfn_setupThemeStyleDef=function(){var e=this._mbcLA_styleManager.label.style;var t=false;if(e){if(e["fill"]&&e["fill"]!==this._mbcLA_valueLabelFont.color){this._mbcLA_valueLabelFont.color=e["fill"]}if(e["fontFamily"]&&e["fontFamily"]!==this._mbcLA_valueLabelFont.fontfamily){this._mbcLA_valueLabelFont.fontfamily=e["fontFamily"];t=true}if(e["fontSize"]&&e["fontSize"]!==this._mbcLA_valueLabelFont.fontsize){this._mbcLA_valueLabelFont.fontsize=e["fontSize"];t=true}if(e["fontWeight"]&&e["fontWeight"]!==this._mbcLA_valueLabelFont.fontweight){this._mbcLA_valueLabelFont.fontweight=e["fontWeight"];t=true}if(t){this._need_calTextSize=true}}};b.prototype.getActiveLevels=function(){return this._cells};b.prototype.destroy=function(){b.superclass.destroy.apply(this,arguments);if(this._mbcLA_wrap){this._mbcLA_wrap.remove();this._mbcLA_wrap=null}this._need_calTextSize=null;this._mbcLA_perferredSize=null;this._mbcLA_styleManager=null;this._mbcLA_effectManager=null;this._mbcLA_selectedItem=null;this._mbcLA_chartData=null;this._mbcLA_nullLabelIndex=null;this._mbcLA_width=null;this._mbcLA_height=null;this._mbcLA_valueLabelFont=null;this._mbcLA_colors=null;this._mbcLA_markerSize=null;this._mbcLA_paddingBottom=null;this._mbcLA_textInfos=null;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_style=null;this._cells=null};b.prototype._mbcLAfn_calLegendWidthFromMarkerWidth=function(e){var t=0,i=0,a=0,r=2;var o,n,l,s;var u=this._mbcLAfn_calTextSize();var c=u.textSize;var h=u.tValueWidth;var p=this._mbcLA_chartData.length,d=p;var f=false;if(this._mbcLA_nullLabelIndex!==-1){t=c[this._mbcLA_nullLabelIndex].width;d=p-1}if(this._onlyShowStartEndLabel){a=(e+this._mbcLA_paddingBottom)*d-this._mbcLA_paddingBottom;if(d*e-(h+c[d-1].width)/2<r){c[0].visibility_tVal="hidden";c[d-1].visibility="hidden"}else{a+=h/2+c[d-1].width/2}}else{for(var v=0;v!==d;v++){if(v===0){l=e-(h+c[v].width)/2}else{s=e-(c[v].width+c[v-1].width)/2;if(l>s){l=s}}}for(v=0;v!==d;v++){if(l<r){c[v].visibility="hidden"}else{c[v].visibility="visible"}}if(this._mbcLA_nullLabelIndex!==-1){c[this._mbcLA_nullLabelIndex].visibility="visible"}if(d>0){a=(e+this._mbcLA_paddingBottom)*d-this._mbcLA_paddingBottom;if(h!==0){a-=_/2;c[0].visibility_tVal="visible";o=-1}else{c[0].visibility="visible";o=0}if(c[d-1].width!==0){a-=_/2;n=d-1}else{n=d-2}c[n].visibility="visible";var g=e*(n-o);var A=h!==0?h:c[0].width;var b=c[n].width;if(o===n){if(c[o].width+2*r>d*e){c[o].visibility="hidden"}}else if(g-(A+b)/2<r){c[n].visibility="hidden";f=true;if(h!==0){c[0].visibility_tVal="hidden"}else{c[0].visibility="hidden"}}else{a+=h/2+c[d-1].width/2}}}if(this._mbcLA_nullLabelIndex!==-1){a+=y.valuePadding+(t>e?t:e)}var x=y.markerPaddingRight*this._mbcLA_textHeight;i=m.height+x+this._mbcLA_textHeight;i=i+this._getValuePaddingDelta(x);return{width:a,height:i,isAllHidden:f}};b.prototype._getLabelValue=function(e){e=e===null?o.get("IDS_ISNOVALUE"):e;var t=this._properties.get();var i=null;if(this._bindingFields&&this._bindingFields.length){i=this._bindingFields[0].formatString;if(n.isArray(i)){i=i[0]}}var a=t.unitFormatType;var r={decimalFormatString:l.getDecimalFormatString(l.SUPPORT_CUSTOM_COMPONENTS.MBCLegend)};e=l.format(e,this._formatString||i,a,r);return e};b.prototype._getTitleText=function(){var e="";var t=this._properties.get("title.text");if(n.isString(t)){e=t}else{e=this._measureName}return e};p.register(f.MBCLEGEND_NAVIGATOR,null,d);return b});define("sap/viz/chart/scales/QuantizeScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants"],function(e,t,i,a){var r=function(e){this.__className="sap.viz.scale.QuantizeScale";this._name=null;this._type="quantize";this._domain=e.domain;this._range=e.range;this._nullColor=e.nullColor;this._legendValues=e.legendValues;this._domainInfo=e.domainInfo;this._defaultColors=a.COLOR.SAPColorSingleAxis;this._initScale()};e.extend(r,t);r.prototype._initScale=function(){if(this._scale===undefined){this._scale=d3.scale.ordinal();if(this._domain){this._scale.domain(this._domain)}if(this._range){this._scale.range(this._range)}else{this._scale.range(this._defaultColors)}}};r.prototype.scale=function(e){if(i.isNoValue(e)){if(this._nullColor){return this._nullColor}}var t,a,r,o,n;if(this._domain){for(a=0;a<this._domain.length;a++){r=this._domain[a];o=this._domainInfo[a];n=false;if(a===this._domain.length-1||this._domain[a+1].length===0){t=r;break}if(e>r[0]&&e<r[1]){n=true}else if(!o.isLeftOpen&&e===r[0]){n=true}else if(!o.isRightOpen&&e===r[1]){n=true}if(n){t=r;break}if(e>=r[0]&&e<r[1]){t=r;break}}return this._scale(t)}else{return this._scale.range()[0]}};r.prototype.getLegendValues=function(){return this._legendValues};r.prototype.destroy=function(){r.superclass.destroy.call(this);this._nullColor=null;this._legendValues=null;this._domainInfo=null;this._defaultColors=null};return r});define("sap/viz/chart/scales/QuantizeScaleProcessor",["sap/viz/framework/scale/ScaleRepository","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/QuantizeScaleUtil","sap/viz/chart/scales/QuantizeScale","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o,n){e.quantizeScale=function(e,l,s,u,c){c=c||{};var h=c.seriesType,p=c.role;var d=n.clone(e.values||[],true),f=[],v=false;var g=function(e){for(var t=0;t<e.length;t++){if(i.isArray(e[t])){if(e[t].length!==e[0].length){v=true}g(e[t])}else{if(e[t]===null||isNaN(e[t])){v=true}else if(f.indexOf(+e[t])<0){f.push(+e[t])}}}};g(d);var m,y;if(f.length===1){m=f[0];y=f[0]}else if(f.length===0){m=undefined;y=undefined}else{m=t.min(f);y=t.max(f)}var _=s.get(l);var A=_&&_.palette?_.palette:a.TREE_MAP.PALETTE;var b=_&&_.startColor?_.startColor:a.TREE_MAP.START_COLOR;var x=_&&_.endColor?_.endColor:a.TREE_MAP.END_COLOR;var S=_&&_.legendValues?_.legendValues:a.TREE_MAP.LEGEND_VALUES;var D=_&&_.maxNumOfSegments||9;var w=s.getDefault(l);var C={feed:l,type:"quantize",palette:a.TREE_MAP.PALETTE,startColor:a.TREE_MAP.START_COLOR,endColor:a.TREE_MAP.END_COLOR,nullColor:a.TREE_MAP.NULL_COLOR,numOfSegments:a.TREE_MAP.DEFAULT_TICKS,legendValues:a.TREE_MAP.LEGEND_VALUES};if(!i.isExist(w)){s.add(l,{serializable:true,defaultValue:C})}else{s.set(l,n.extend({},C,w),1,"templateValue")}u.origin.add("plotArea.colorPalette",{defaultValue:a.TREE_MAP.PALETTE,serializable:false,get:function(){return A}});u.origin.add("plotArea.startColor",{defaultValue:a.TREE_MAP.START_COLOR,serializable:false,get:function(){return b}});u.origin.add("plotArea.endColor",{defaultValue:a.TREE_MAP.END_COLOR,serializable:false,get:function(){return x}});u.origin.add("plotArea.legendValues",{defaultValue:a.TREE_MAP.LEGEND_VALUES,serializable:false,get:function(){return S}});var T=n.extend({},s.get(l));var z=s.getDefault(l);if(!T){T=z}else{T.numOfSegments=T.numOfSegments;T.legendValues=T.legendValues||z.legendValues;T.nullColor=T.nullColor||z.nullColor;T.startColor=T.startColor||z.startColor;T.endColor=T.endColor||z.endColor;T.palette=T.palette||z.palette;if(!i.isNumber(T.numOfSegments)){T.numOfSegments=z.numOfSegments}else if(T.numOfSegments>D){T.numOfSegments=D}else if(T.numOfSegments<2){T.numOfSegments=2}}var L=r.getColorScale(m,y,v,T,e.values);var P=L.legendValues;if(P&&P.length>0){var k=[];for(var E=0;E<P.length;E++){k.push(P[E][0]);if(E===P.length-1){k.push(P[E][1])}}u.setDefault("plotArea.autoLegendValues",k)}if(L.domain!==null){return new o(L)}}});define("sap/viz/chart/chains/TreeChains",["sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/BaseChains","sap/viz/framework/common/util/DataUtils","sap/viz/framework/binding/BindingManager"],function e(t,i,a,r){var o={};var n=["GetDimensionsFromFlattable","GetMeasuresFromFlattable","GetContext","OnBindingFinished","OnBindingStart"];o=i.extend("treemap",n);var l=function(e){var i=e.title.rowArray;var r=i.length;var o={};var n=e.weight?e.weight.values:[];var l=e.color?e.color.values:[];var s=e.context?e.context.values:[];for(var u=0;u<r;u++){var c,h=i[u].length,p=i[u],d;h=p.length;c=o;for(var f=0;f<h;f++){d=a.getDimensionValue(p[f]);if(!c[d]){c[d]={title:p[f]}}c=c[d];if(f!==h-1){c.weight=c.weight||0;c.weight+=+n[u]>0?+n[u]:0;if(!c.children){c.children={}}c=c.children}else{c.weight=n[u];c.color=l[u];c.context=[];if(t.isArray(c.weight)){c.weight=c.weight[0]}if(t.isArray(c.color)){c.color=c.color[0]}for(var v=0;v<s.length;++v){c.context.push(s[v][u])}}}}return o};var s=function(e){var t={};t.hierarchy=e.title?e.title.metaData:[];t.color=e.color?e.color.metaData:[];t.weight=e.weight?e.weight.metaData:[];return t};o.treemapGetBindingSeries=function(e,t,i,a,r,o){var n=l(a);a.series=n;var u=s(a);return{data:n,metaData:u}};Object.keys(o).forEach(function(e){r.registerChain(e,o[e])});return o});define("sap/viz/chart/behavior/config/AxisBehaviorConfigForTreeMap",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o,n){var l=t.BEHAVIOR,s="v-axis-item",u="v-nonLeafDimensionLabel",c=e.CSS.CLASS,h="info/treemap",p="#cccccc",d="#808080";function f(e){var i=e.getProperties().get("interaction.selectability");if(!i){return false}var a=i.mode.toUpperCase();var r=e.getNodes(e.NodeType.TREE_MAP_ITEM);if(!i.axisLabelSelection||a===t.SELECTION_MODE.NONE||a===t.SELECTION_MODE.SINGLE||!r.node()){return false}else{return true}}var v=function(e,t){var i=r.getContext(e.data.currentTarget);i=a.extend({},i);delete i.level;delete i.levelNum;delete i.realLabelWidth;return o.getDataPointIds(i,t)};var g=[{id:"hover_on_axis_label_treemap",triggerEvent:{name:"hover",targets:s,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}t.fireEvent("processUnhighlight");d3.select(e.data.currentTarget).attr("fill",p).attr("opacity",e.data.byKeyboard?0:1).classed(c.HOVER_SHADOW,true);var i=v(e,t);t.fireEvent("processHighlight",{targets:i})}},{id:"hover_on_non_axis_label_treemap",triggerEvent:{name:"hover",excludeTargets:[s,e.CSS.CLASS.MBCLEGENDITEM,e.CSS.CLASS.LEGENDITEM],supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}t.fireEvent("processUnhighlight")}},{id:"hover_on_non_leaf_dimension_label_treemap",triggerEvent:{name:"hover",targets:u,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}t.fireEvent("processUnhighlight");d3.select(e.data.currentTarget.previousElementSibling).attr("fill",p).attr("opacity",1).classed(c.HOVER_SHADOW,true);var i=v(e,t);t.fireEvent("processHighlight",{targets:i})}},{id:"click_on_non_leaf_dimension_label_treemap",triggerEvent:{name:"click",targets:u,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}var i=r.getContext(e.data.currentTarget.previousElementSibling);i=a.extend({},i);delete i.level;delete i.levelNum;delete i.realLabelWidth;var n=o.getDataPointIds(i,t);t.fireEvent("processSelection",{targets:n,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});t.fireEvent("processMultipleSelectionTooltip",{targets:n,point:e.data.point})}},{id:"cleanAxisHoverEffect_treemap",triggerEvent:{name:"cleanAxisHoverEffect",supportedChartTypes:h},handler:function(e,t){t.getNodes(t.NodeType.AXIS_ITEM).attr("opacity","0").classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,false)}},{id:"click_on_axis_label_treemap",triggerEvent:{name:"click",targets:s,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}var i=v(e,t);t.fireEvent("processSelection",{targets:i,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});t.fireEvent("processMultipleSelectionTooltip",{targets:i,point:e.data.point})}},{id:"down_on_axis_label_treemap",triggerEvent:{name:"down",targets:s,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}d3.select(e.data.currentTarget).attr("fill",d).attr("opacity",1).classed(c.FOCUS_SHADOW,true).classed(c.HOVER_SHADOW,false)}},{id:"down_on_non_leaf_dimension_label_treemap",triggerEvent:{name:"down",targets:u,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}d3.select(e.data.currentTarget.previousElementSibling).attr("fill",d).attr("opacity",1).classed(c.FOCUS_SHADOW,true).classed(c.HOVER_SHADOW,false)}},{id:"up_on_axis_label_treemap",triggerEvent:{name:"up",targets:s,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}if(i.isMobile()){d3.select(e.data.currentTarget).attr("fill",p).attr("opacity",0).classed(c.HOVER_SHADOW,true).classed(c.FOCUS_SHADOW,false)}else{d3.select(e.data.currentTarget).attr("fill",p).attr("opacity",1).classed(c.HOVER_SHADOW,true).classed(c.FOCUS_SHADOW,false)}}},{id:"up_on_non_leaf_dimension_label_treemap",triggerEvent:{name:"up",targets:u,supportedChartTypes:h},handler:function(e,t){if(!f(t)){return}if(i.isMobile()){d3.select(e.data.currentTarget.previousElementSibling).attr("fill",p).attr("opacity",0).classed(c.HOVER_SHADOW,true).classed(c.FOCUS_SHADOW,false)}else{d3.select(e.data.currentTarget.previousElementSibling).attr("fill",p).attr("opacity",1).classed(c.HOVER_SHADOW,true).classed(c.FOCUS_SHADOW,false)}}}];n.registerAll(g);return g});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForTreeMap",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r,o){var n=["info/treemap"];n=a.addTrellisType(n);var l=e.CSS.CLASS;var s=[{id:"selectDataPoint_tree",triggerEvent:{name:"selectDataPoint",supportedChartTypes:n},handler:function(e,a){if(e.data.targets[0]&&e.data.targets[0].parentNode){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o=a.getProperties().get("interaction.selected");r.forEach(function(e){i.drawStroke(a,e,"rect",o.stroke,1);i.drawFill(a,e,"rect",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}}},{id:"deselectDataPoint_tree",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:n},handler:function(e,a){if(e.data.targets[0]&&e.data.targets[0].parentNode){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o;r.forEach(function(r){if(e.data.isAnyOtherSelected){o=a.getProperties().get("interaction.deselected")}else{o=a.getProperties().get("plotArea.dataPoint")}i.drawStroke(a,r,"rect",o.stroke,1);i.drawFill(a,r,"rect",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}}},{id:"hoverOnDataPoint_tree",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:n},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o=a.getProperties().get("interaction.hover");r.forEach(function(r){if(!e.data.byKeyboard){i.drawStroke(a,r,"rect",o.stroke,2)}i.drawFill(a,r,"rect",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}},{id:"unhoverOnDataPoint_tree",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:n},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o;r.forEach(function(e){if(d3.select(e).classed(l.DATAPOINTSELECTED)){o=a.getProperties().get("interaction.selected")}else{var r=a.getStatus("selectedDataPoints");if(r.length){o=a.getProperties().get("interaction.deselected")}else{o=a.getProperties().get("plotArea.dataPoint")}}i.drawStroke(a,e,"rect",o.stroke,1);i.drawFill(a,e,"rect",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}},{id:"clearPlot_tree",triggerEvent:{name:"clearPlot",supportedChartTypes:n},handler:function(e,a){a.fireEvent(e,true);var r=a.getNodes(a.NodeType.DATA_POINT,false);if(!r||!r.length){return}var o=e.data.isGray;var n;r.forEach(function(e){if(o){n=a.getProperties().get("interaction.deselected")}else{n=a.getProperties().get("plotArea.dataPoint")}i.drawStroke(a,e,"rect",n.stroke,1);i.drawFill(a,e,"rect",n,t.isExist(a.getProperties().get("plotArea.markerRenderer")))})}},r.getDeselectEvent("click_on_non_selection_tree",n,i.getDeselAllExTargets())];o.registerAll(s)});define("sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/AlignToUtil"],function(e,t,i,a,r,o,n,l){var s=t.BEHAVIOR,u=e.CSS.CLASS;var c=function(){};c.prototype={standAloneInitialized:function(e,t){t.getProperties().origin.add({legend:{mouseDownShadow:{color:"#808080"},hoverShadow:{color:"#cccccc"}},interaction:{selectability:{legendSelection:true}}})},hover:function(t,i){if(!n.isLegendTriggerable(i,i.NodeType.MBC_LEGEND_ITEM)){return}i.fireEvent("processUnhighlight");if(t.data.byKeyboard){var r=i.getProperties().get("interaction.keyboard");r.color=i.getEffectManager().register({fillColor:r.color});d3.select(t.data.currentTarget).attr("stroke",r.color).attr("stroke-width",r.width).attr("stroke-dasharray","1, 1").attr("shape-rendering","crispEdges")}else{d3.select(t.data.currentTarget).attr("stroke",n.getColorProperty(i,"legend.hoverShadow",e.MBCLEGEND.HOVER_SHADOW_COLOR)).attr("stroke-width",e.MBCLEGEND.VISIBLE_STROKE_WIDTH).attr("stroke-dasharray",undefined).attr("shape-rendering",undefined).classed(u.HOVER_SHADOW,true)}if(!t.data.byKeyboard){n.resetMBCLegendSelectionEffect(i)}var l=a.extend({},o.getContext(t.data.currentTarget).ctx);delete l.measureName;var s=this._getTargets(l,t,i);i.fireEvent("processHighlight",{targets:s})},syncSelectedMBCLegendItems:function(e,t){n.updateCorrespondingSelectedLegendItems(t,true)},nonHover:function(e,t){if(!n.isLegendTriggerable(t,t.NodeType.MBC_LEGEND_ITEM)||!n.isLegendTriggerable(t,t.NodeType.LEGEND_ITEM)){return}t.fireEvent("processUnhighlight")},cleanMBCHoverEffect:function(e,t){t.getNodes(t.NodeType.MBC_LEGEND_ITEM).classed(u.HOVER_SHADOW,false).classed(u.FOCUS_SHADOW,false).attr("stroke-width",0).attr("stroke-dasharray",undefined).attr("shape-rendering",undefined);n.resetMBCLegendSelectionEffect(t)},click:function(e,t){if(!n.isLegendTriggerable(t,t.NodeType.MBC_LEGEND_ITEM)){return}var i=a.extend({},o.getContext(e.data.currentTarget).ctx);delete i.measureName;var s=this._getTargets(i,e,t);t.fireEvent("processSelection",{targets:s,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});var u=r.parent(e.data.target,".v-groups");var c=l.getMBCTooltipData(e,t,s,e.data.target,u);t.fireEvent("processMultipleSelectionTooltip",c)},_getTargets:function(e,t,i){return n.getDataPointIds(e,i)},mouseDown:function(t,i){if(!n.isLegendTriggerable(i,i.NodeType.MBC_LEGEND_ITEM)){return}var a=n.getColorProperty(i,"legend.mouseDownShadow",e.MBCLEGEND.HOVER_SHADOW_MOUSE_DOWN_COLOR);n.resetMBCLegendSelectionEffect(i);d3.select(t.data.currentTarget).attr("stroke",a).attr("stroke-width",e.MBCLEGEND.VISIBLE_STROKE_WIDTH).classed(u.FOCUS_SHADOW,true)},mouseUp:function(t,a){if(!n.isLegendTriggerable(a,a.NodeType.MBC_LEGEND_ITEM)){return}var r=n.getColorProperty(a,"legend.hoverShadow",e.MBCLEGEND.HOVER_SHADOW_COLOR);if(i.isMobile()){d3.select(t.data.currentTarget).attr("stroke",null).attr("stroke-width",null).classed(u.FOCUS_SHADOW,false)}else{d3.select(t.data.currentTarget).attr("stroke",r).attr("stroke-width",e.MBCLEGEND.VISIBLE_STROKE_WIDTH).classed(u.FOCUS_SHADOW,false)}n.resetMBCLegendSelectionEffect(a)}};return c});define("sap/viz/chart/behavior/config/MBCLegendBehaviorConfig",["sap/viz/framework/common/util/Constants","sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/config/SelectionTreeUtil","sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o){var n="v-mbc-legend-item";var l=[{id:"mbcLegendBehaviorDefinition",handler:t,handlerType:"class",supportedChartTypes:["info/treemap","info/heatmap","info/tagcloud"],triggerEvent:[{name:"standAloneInitialized",method:"standAloneInitialized"},{name:"hover",targets:n,method:"hover"},{name:"hover",excludeTargets:[n,e.CSS.CLASS.AXIS.LABEL_SELECTION,e.TREE_MAP.NON_LEAF_DIMENSION_LABEL],method:"nonHover"},{name:"cleanMBCHoverEffect",excludeTargets:n,method:"cleanMBCHoverEffect"},{name:"click",targets:n,method:"click"},{name:"syncSelectedMBCLegendItems",excludeTargets:n,method:"syncSelectedMBCLegendItems"},{name:"down",targets:n,method:"mouseDown"},{name:"up",targets:n,method:"mouseUp"}]}];var s=function(){};r.extend(s,t);s.prototype.click=function(e,t){if(a.isSelectable(t,"MBC")){s.superclass.click.apply(this,arguments)}};var u=o.clone(l,true);u[0].handler=s;i.registerAll(l,u);return l});define("sap/viz/chart/views/TreeChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plots/treemap/TreeMapPlot","sap/viz/chart/components/legend/MBCLegend","sap/viz/chart/scales/QuantizeScaleProcessor","sap/viz/chart/chains/TreeChains","sap/viz/chart/behavior/config/AxisBehaviorConfigForTreeMap","sap/viz/chart/behavior/config/DataPointBehaviorConfigForTreeMap","sap/viz/chart/behavior/config/MBCLegendBehaviorConfig"],function e(t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments)};t.extend(o,i);o.prototype._getDataItems=function(){return["title","weight","color","series"]};o.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime(),{name:"plotArea"});this.setChild("plot",this._plotArea,{priority:3})};o.prototype._getLegendDefinition=function(){return[r]};return o});define("sap/viz/chart/metadata/bindings/TreeBindings",[],function e(){var t=[{id:"title",name:"IDS_TITLE",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,role:"layout.tree",acceptMND:false},{id:"color",name:"IDS_COLOR",type:"Measure",min:0,max:1,role:"mark.quantizeColor"},{id:"weight",name:"IDS_WEIGHT",type:"Measure",min:1,max:1,role:"layout.value"}];return t});define("sap/viz/chart/components/axis/ReversedCategoryAxis",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/CategoryScale","sap/viz/chart/components/axis/CategoryAxis","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments)};e.extend(o,i);o.prototype.setData=function(e,i){o.superclass.setData.apply(this,arguments);if(e.scale){var r=a.clone(e.scale.getDomain());this._scale=new t(r.reverse(),[0,1])}};o.prototype.render=function(e){o.superclass.render.apply(this,arguments);if(this.getParent()&&this.getParent().node()){var t=this.getParent().node();r.setContext(t,{name:this.getName()})}};o.prototype.destroy=function(){o.superclass.destroy.call(this);this._scale=null};return o});define("sap/viz/chart/components/datalabels/HeatMapDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/TypeUtils"],function e(t,i,a,r,o){var n=function(e,t){n.superclass.constructor.apply(this,arguments);this._ignoreEmptyDataLabel=true};t.extend(n,i);n.prototype._getDataLabelInfo=function(e){var t=a.getContext(e);var i=this._data.color.metaData[0].id;return{key:i,value:o.isExist(t[i])?t[i]:null}};n.prototype._computeDataLabelTranslate=function(e,t,i,a,o){var n=false;if(e.childNodes[1]&&e.childNodes[1].textContent){n=true;t.f+=r.getBBox(e.childNodes[1]).height/2}return this._computeDataLabelPosition(t,this._fixBBoxWhenInvisible(e),i,a,o,n)};n.prototype._computeDataLabelPosition=function(e,t,i,a,r,o){var n,l;var s=t.x+e.e;var u=t.y+e.f;n=s+t.width/2-(a.x+a.width/2);if(o){l=u+t.height/2-a.y}else{l=u+t.height/2-a.y/2}return[n,l]};n.prototype.hideConditional=function(e){var t;for(t=e.length-1;t>=0;t--){var i=e[t].dataPoint;var a=e[t].node;var r=a.getBoundingClientRect();var o=i.getBoundingClientRect();if(r.width>o.width||r.bottom>o.bottom){if(a&&a.parentNode){a.parentNode.removeChild(a)}e.splice(t,1)}}return n.superclass.hideConditional.apply(this,arguments)};return n});define("sap/viz/chart/components/plots/HeatMapPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/renderers/BarRenderer","sap/viz/chart/components/datalabels/HeatMapDataLabels","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/framework/common/util/SVG","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/HeatMapDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A){var b={fontSize:"12px",fontWeight:"normal",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif",fontStyle:"normal"};var x=function(e,t){x.superclass.constructor.apply(this,arguments);e.zoneManager().add(s.plot(this));e.zoneManager().add(u.plot(this));this._ellipsisText=[]};t.extend(x,i);x.prototype._getXHandlers=function(){return[r.getCategoryScaleHandler("categoryAxis",{isHorizontal:true,itemScaleHandler:a.get(true,{forBar:false})})]};x.prototype._getYHandlers=function(){return[r.getCategoryScaleHandler("categoryAxis2",{isHorizontal:false,itemScaleHandler:a.get(true,{forBar:false})})]};x.prototype.setData=function(e){this._isOnlyOneCategory=false;if(!e.categoryAxis2||!e.categoryAxis2.metaData){this._isOnlyOneCategory=true}e._isOnlyOneCategory=this._isOnlyOneCategory;x.superclass.setData.apply(this,arguments)};x.prototype._applyChanges=function(){x.superclass._applyChanges.apply(this,arguments);this._borderWidth=this._properties.get("border.visible")?1:0;var e=this._properties.get("dimensionLabel");if(e&&e.style){b=e.style;this._dimensionLabelVisible=e.visible;var t=this._semanticMgr;this._dimensionLabelSemantic=t.hasRuleForProp("dimensionLabel")||t.othersStyleHas("dimensionLabel")}if(e&&e.renderer){this._dimensionLabels=e}};x.prototype._calculatePreferredLayout=function(){var e=this._size;var t=e.height;var i=e.width;var a=this._getSeries()[0];var r=-Number.MAX_VALUE;var o;var n;var l;var s;var u;var c=[];var h;var p=this._borderWidth;if(this._isOnlyOneCategory){if(a.length==1){o=t;n=i;s=1;l=1}else{for(l=1;l<=a.length;l++){o=t/l;s=Math.ceil(a.length/l);n=i/s;u=s*l-a.length;h=(o-n)*(o-n);if(h<1){h=1}if(u===0&&h===0){r=1+1}else if(u===0&&h!==0){r=1+1/h}else if(u!==0&&h===0){r=1+1}else{r=1+1/h}c.push({iRow:l,iCol:s,rHeight:o,rWidth:n,varianceRec:h,emptyCellNum:u,score:r})}var d=0;var f=-1;for(var v=0;v<c.length;v++){if(c[v].score>d){d=c[v].score;f=v}}o=c[f].rHeight;n=c[f].rWidth;s=c[f].iCol;l=c[f].iRow}for(var g=0;g<a.length;g++){a[g].width=n-2*p;a[g].height=o-2*p;a[g].x=n*(g%s)+p;a[g].y=o*Math.floor(g/s)+p}}else{s=this._data.categoryAxis.rowArray.length;l=this._data.categoryAxis2.rowArray.length;o=t/l;n=i/s;for(var m=0;m<a.length;m++){a[m].width=n-p;a[m].height=o-p;a[m].x=n*Math.floor(m/l)+p/2;a[m].y=o*(m%l)+p/2}}return a};x.prototype._buildWrapperConfig=function(e){var t=this._getColor(e);var i={graphic:{width:e.width,height:e.height,fill:t,opacity:1},ctx:e.dp.context(),effectManager:this._effectManager,categoryAxis:e.categoryAxis};if(this._strokeProp&&this._strokeProp.visible&&i.graphic){i.graphic.stroke=this._strokeProp.color;i.graphic.strokeWidth="1px"}i=this._getFillColorConfig(i,i.ctx,e.options,e);if(i.graphic.fill){i.graphic.fill=f.convertColor(i.graphic.fill)}if(i.graphic.color){i.graphic.color=f.convertColor(i.graphic.color)}return i};x.prototype._drawDimensionLabel=function(e){var t;var i="";var a=e.categoryAxis;var r;for(t=0;t<a.length;t++){if(a[t]){i+=g.getLabelText(a[t])+" / "}else{i+="null /"}}i=i.slice(0,i.length-2);var o={};var n=this.runtime().envManager();o.reverseDots=n&&n.reverseDots();var l=b["fontSize"];var s=b["fontWeight"];var u=b["fontFamily"];var c=b["fontStyle"];var h=b["color"];var f={fontSize:l,fontWeight:s,fontFamily:u,fontStyle:c,color:h};var v={ctx:e.ctx,text:i,styles:f,defaultColor:"#ffffff",dpSize:{width:e.graphic.width,height:e.graphic.height},isMeasureText:true,background:e.graphic.fill,dataLabelColor:this._properties.get("dataLabel.style.color"),ellipsisText:this._ellipsisText,ellipsisOptions:o,colorRange:this._properties.get("dataLabel.style.colorRange")};if(this._dimensionLabels&&this._dimensionLabels.renderer){r=this._dimensionLabels.renderer(v,S.expose)}if(!r&&this._showDimensionLabelFor(v.ctx)){var m=this._semanticMgr;var y;if(m.hasRuleForProp("dataLabel")){y=m.analyzeDataPointForProperty(v.ctx,"dataLabel",false,{})}if(y){v.dataLabelVisible=y.dataLabel}else{v.dataLabelVisible=this._properties.get("dataLabel.visible")}r=S(v)}if(r){p.setContext(r,v.ctx);var _=d.getTextBBox(r);var A=d3.select(r).attr("class","v-dimensionlabel v-heatmapdimensionlabel").attr("fill-opacity","1").attr("x",v.dpSize.width/2-_.width/2).attr("y",v.dpSize.height/2-(_.height/2+_.y));var x=null;if(n){x=n.textAnchor()}A.attr("text-anchor",x)}return r};x.prototype._showDimensionLabelFor=function(e){if(this._dimensionLabelSemantic){var t=this._semanticMgr;var i=t.analyzeDataPointForProperty(e,"dimensionLabel");if(i){return i.dimensionLabel}}return this._dimensionLabelVisible};function S(e){var t;var i=e.styles["fontSize"];var a=e.styles["fontWeight"];var r=e.styles["fontFamily"];var o=e.styles["fontStyle"];var n=e.styles["color"];if(!n&&e.dataLabelVisible){if(e.colorRange==="outside"){n=m.getDataLabelColor(e.background)}else{n=e.dataLabelColor}}if(!n){n=m.getDataLabelColor(e.background)}i=d.validateFontStyle(i);a=d.validateFontStyle(a);var l=0;var s=d.superFastMeasure(e.text,i,a,r);if(s.height>e.dpSize.height){l=-1}else{t=c.create("text");l=e.dpSize.width;var u="font-size:"+i+";";u+="font-weight:"+a+";";u+="font-family:"+r+";";u+="font-style:"+o+";";u+="fill:"+n+";";var h=null;for(var p=0;p<e.ellipsisText.length;p++){var f=e.ellipsisText[p];if(e.text.indexOf(f)===0){h=e.text.length>f.length?f+"...":f;break}}if(h){t.textContent=h;if(h!==e.text){t.appendChild(document.createElementNS(t.namespaceURI,"title")).textContent=e.text}e.text=h}else{e.text=d.ellipsis(e.text,t,l,u,e.ellipsisOptions);if(e.text.length>0){var v=e.text.indexOf("...");var g=3;if(e.ellipsisOptions.reverseDots){e.ellipsisText.push(v<0?e.text:e.text.substring(g))}else{e.ellipsisText.push(v<0?e.text:e.text.substring(0,v))}}}d3.select(t).attr("font-size",i).attr("font-weight",a).attr("font-family",r).attr("font-style",o).attr("fill",n)}return t}S.expose={renderer:S};x.prototype._drawDatapoint=function(e){var t=c.create("g");var i=o(e);t.appendChild(i);return t};x.prototype._drawOneCategoryDataPoint=function(e){var t=c.create("g");var i=o(e);var a=this._drawDimensionLabel(e);t.appendChild(i);if(a){t.appendChild(a)}return t};x.prototype._filterHidden=function(e){var t=this._data.categoryAxis.metaData.map(function(e){return e.hidden});if(t.length>0){e.forEach(function(e){e.categoryAxis=t.reduce(function(t,i,a){return i?t:t.concat(e.categoryAxis[a])},[])})}return e};x.prototype._drawDatapoints=function(e){var t=this._filterHidden(this._calculatePreferredLayout());var i,a;this._dataPointRenderer=this._isOnlyOneCategory?this._drawOneCategoryDataPoint:this._drawDatapoint;var r,o,n,s,u;var d=c.create("g");d.setAttribute("class",l.CSS.CLASS.DATAPOINT_GROUP);this._ellipsisText=[];var f={disableSemantic:false};for(o=0;o<t.length;o++){s=t[o];s.options=f;u=this._buildWrapperConfig(s);u.twoDirection=true;r=this._dataPointRenderer(u);h.setDataId(r,o);h.setDataPointId(r,s.dp.id);p.setContext(r,u.ctx);p.setData(r,{color:u.graphic.fill,strokeWidth:r.querySelector("rect").getAttribute("stroke-width")});r.setAttribute("class",l.CSS.CLASS.DATAPOINT+" "+l.CSS.CLASS.MORPHABLEDATAPOINT+" "+l.CSS.CLASS.DATAPOINTDEFAULT);r.setAttribute("transform","translate("+s.x+","+s.y+")");d.appendChild(r)}e.node().appendChild(d);this._drawHeatMapDataLabels(e)};x.prototype.destroy=function(){x.superclass.destroy.call(this);this._dataPointRenderer=null;this._borderWidth=null;this._properties=null;this._isOnlyOneCategory=null;if(this._dimensionLabels&&this._dimensionLabels.destroy){this._dimensionLabels.destroy()}this._dimensionLabels=null;this._ellipsisText=null};x.prototype._drawHeatMapDataLabels=function(e){var t=e.select(".v-datapoint-group");if(!t.empty()){this._drawDataLabels(e,t.node())}};x.prototype._getDataLabels=function(e,t){return new n(t,{name:e})};y.register(A.DATAPOINT_NAVIGATOR,A.HEATMAP,_);return x});define("sap/viz/chart/components/plotareas/XXPlotArea",["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/XYContainer","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/components/axis/ReversedCategoryAxis","sap/viz/chart/components/plots/HeatMapPlot"],function e(t,i,a,r,o){var n=function(e,t){n.superclass.constructor.apply(this,arguments);this._init()};t.extend(n,i);n.prototype._init=function(){this._plot=new o(this.runtime(),{name:"plotArea"});this._categoryAxis=new a(this.runtime(),{name:"categoryAxis"});this._categoryAxis2=new r(this.runtime(),{name:"categoryAxis2"});this.setLayoutSequence(["left","right","bottom","top"]);this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});this.setChild("categoryAxis2",this._categoryAxis2,{position:"left"});this.setChild("plot",this._plot,{position:"center"})};n.prototype.setData=function(e){n.superclass.setData.apply(this,arguments);var t=false;if(!e.categoryAxis2||!e.categoryAxis2.scale){this._categoryAxis2=null;t=true}else{this._categoryAxis2.setData(e.categoryAxis2)}this._categoryAxis.setData(e.categoryAxis);this._categoryAxis.isAxisBodyOptional(t);this._plot.setData(e)};n.prototype.destroy=function(){n.superclass.destroy.call(this);this._plot=null;this._categoryAxis=null;this._categoryAxis2=null};return n});define("sap/viz/chart/chains/XXChains",["sap/viz/chart/chains/BaseChains","sap/viz/framework/binding/BindingManager"],function e(t,i){var a={};var r=["GetDimensionsFromFlattable","GetMeasuresFromFlattable","GetContext","OnBindingFinished","OnBindingStart"];a=t.extend("xx",r);a.xxGetBindingSeries=function(e,t,i,a,r,o){var n=[];var l=n[0]=[];var s,u,c,h,p;var d=a.context,f=d&&d.metaData?d.metaData[0]:undefined,v=d&&d.values&&d.values.length>0?d.values:undefined,g=d&&f&&v;if(!a.categoryAxis2||!a.categoryAxis2.values){c=a.categoryAxis.rowArray.length;for(s=0;s<c;s++){p={categoryAxis:a.categoryAxis.rowArray[s],color:a.color.values[s]};if(g){p.context=[v[0][s]]}l.push(p)}}else{c=a.categoryAxis.rowArray.length;h=a.categoryAxis2.rowArray.length;for(s=0;s<c;s++){for(u=h-1;u>-1;u--){p={categoryAxis:a.categoryAxis.rowArray[s],categoryAxis2:a.categoryAxis2.rowArray[u],color:a.color.values[s][u]};if(g){p.context=[];for(var m=0;m<v.length;++m){p.context.push(v[m][s][u])}}l.push(p)}}}a.series=n};Object.keys(a).forEach(function(e){i.registerChain(e,a[e])});return a});define("sap/viz/chart/views/XXChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plotareas/XXPlotArea","sap/viz/chart/components/legend/MBCLegend","sap/viz/chart/scales/QuantizeScaleProcessor","sap/viz/chart/chains/XXChains","sap/viz/chart/behavior/config/MBCLegendBehaviorConfig"],function e(t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments)};t.extend(o,i);o.prototype._getLegendDefinition=function(){return[r]};o.prototype._getDataItems=function(){return["categoryAxis","categoryAxis2","series","color"]};o.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime());this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};return o});define("sap/viz/chart/metadata/bindings/XXBindings",[],function e(){var t=[{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"layout.category"},{id:"categoryAxis2",name:"IDS_CATEGORY_AXIS2",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"layout.secondCategory"},{id:"color",name:"IDS_COLOR",type:"Measure",min:1,max:1,role:"mark.quantizeColor"}];return t});define("sap/viz/chart/components/datalabels/StackedCombinationDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/StackedDataLabels","sap/viz/chart/components/util/CombinationDataLabelUtil","sap/viz/chart/components/datalabels/LineDataLabels","sap/viz/chart/components/datalabels/CombinationDataLabels"],function(e,t,i,a,r,o,n){var l=function(e,t){l.superclass.constructor.apply(this,arguments);this.isHorizontal=t.isHorizontal;this._labelPosition="outside";this._stackedLabelPosition="inside";this._lineLabelPosition="outside"};e.extend(l,a);l.prototype._computeDataLabelPosition=function(e,t,r,n,l,s){if(i.getData(s).type!=="line"){return a.prototype._computeDataLabelPosition.apply(this,arguments)}else{return o.prototype._computeDataLabelPosition.apply(this,arguments)}};l.prototype._computeDataLabelTranslate=function(e){if(i.getData(e).type!=="line"){return a.prototype._computeDataLabelTranslate.apply(this,arguments)}else{return o.prototype._computeDataLabelTranslate.apply(this,arguments)}};l.prototype.hideConditional=function(e,i){var a;var r;var o=new Array(i.length);for(a=0;a<i.length;a++){o[a]=i[a].getBoundingClientRect()}for(a=e.length-1;a>=0;a--){var n=e[a];var s=n.node;var u=s.getBoundingClientRect();var c=n.dataPoint;var h=this.indexOfDataLabelIntersectDataPoints(u,o,i,c);if(h!==-1){t.remove(s);e.splice(a,1)}}return l.superclass.hideConditional.apply(this,arguments)};l.prototype.allowIntersectionCheck=function(e){var t=i.getData(e).type;var a=false;if(t=="line"){a=true}return a};l.prototype.getDataLabelDefaultPosition=function(e){if(i.getData(e).type=="line"){this._labelPosition=this._lineLabelPosition}else{this._labelPosition=this._stackedLabelPosition}};l.prototype.drawZero=function(e){if(i.getData(e).type=="line"){return true}else{return false}};l.prototype.intersectResult=function(e,t,i,a){return r.isIntersectedHelper.call(this,e,t,i,a)};l.prototype.isDataLabelOutOfDataPoint=n.prototype.isDataLabelOutOfDataPoint;return l});define("sap/viz/chart/components/accessibility/StackedCombinationDataPointNavigator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/accessibility/BaseDataPointNavigator","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator"],function(e,t,i,a,r){function o(e){o.superclass.constructor.apply(this,arguments);this._dataShapes=null;this._seriesTypeLookup=[];this._stackedColumnNavigator=null;this._lineNavigator=null;this._lineSortedDPInCategory=[];this._barDPInCategory=[];this._stackedSeries=[];this._lineSeries=[];this._initSubComponent(e)}e.extend(o,i);var n=o.prototype;n._initSubComponent=function(e){if(this._series){this._setupSeriesTypeTable();for(var t=0;t<this._seriesTypeLookup.length;t++){if(this._seriesTypeLookup[t]===this._constants.BAR){this._stackedSeries.push(this._series[t]);this._lineSeries.push(undefined)}else{this._stackedSeries.push(undefined);this._lineSeries.push(this._series[t])}}var i={isVerticalRender:e.isVerticalRender,dataModel:e.dataModel,series:this._stackedSeries,isCombination:true};this._stackedColumnNavigator=new a(i);var o={isDual:e.isDual,isVerticalRender:e.isVerticalRender,dataModel:e.dataModel,series:this._lineSeries,propertyManager:e.propertyManager};this._lineNavigator=new r(o)}};n.destroy=function(){o.superclass.destroy.apply(this,arguments);if(this._stackedColumnNavigator){this._stackedColumnNavigator.destroy()}if(this._lineNavigator){this._lineNavigator.destroy()}this._stackedColumnNavigator=null;this._lineNavigator=null;this._stackedSeries=null;this._lineSeries=null;this._lineSortedDPInCategory=null;this._barDPInCategory=null};n.left=function(e){return this._DPRouter(e,this._constants.LEFT)};n.right=function(e){return this._DPRouter(e,this._constants.RIGHT)};n.up=function(e){return this._DPRouter(e,this._constants.UP)};n.down=function(e){return this._DPRouter(e,this._constants.DOWN)};function l(e){return e&&!e.ignore}n._DPRouter=function(e,t){var i=this.getDataPoint(e);var a=null;if(i){var r=this.getDataPoint(e).address();s.call(this,r[0]);var o=this._getSeriesType(i);if(o===this._constants.BAR){switch(t){case this._constants.UP:a=this._stackedColumnNavigator.up(e);if(this._isVerticalRender&&!l(a)){a=this._getFirstDPByTypeInCategory(this._constants.LINE,r[0])}break;case this._constants.DOWN:a=this._stackedColumnNavigator.down(e);break;case this._constants.LEFT:a=this._stackedColumnNavigator.left(e);break;case this._constants.RIGHT:a=this._stackedColumnNavigator.right(e);if(!this._isVerticalRender&&!l(a)){a=this._getFirstDPByTypeInCategory(this._constants.LINE,r[0])}break}}else if(o===this._constants.LINE){switch(t){case this._constants.UP:a=this._lineNavigator.up(e);break;case this._constants.DOWN:a=this._lineNavigator.down(e);if(this._isVerticalRender&&!l(a)){a=this._getFirstDPByTypeInCategory(this._constants.BAR,r[0])}break;case this._constants.LEFT:a=this._lineNavigator.left(e);if(!this._isVerticalRender&&!l(a)){a=this._getFirstDPByTypeInCategory(this._constants.BAR,r[0])}break;case this._constants.RIGHT:a=this._lineNavigator.right(e);break}}}return a};n._getFirstDPByTypeInCategory=function(e,t){var i=e===this._constants.BAR?this._barDPInCategory[t]:this._lineSortedDPInCategory[t];for(var a=0;a<i.length;a++){if(l(i[a])){return i[a]}}return null};n._getLastDPByTypeInCategory=function(e,t){var i=e===this._constants.BAR?this._barDPInCategory[t]:this._lineSortedDPInCategory[t];for(var a=i.length-1;a>-1;a--){if(l(i[a])){return i[a]}}return null};function s(e){if(!this._sortedDataPointsByDirection[e]){this.dataPointValueSortInCategory(e)}if(!this._lineSortedDPInCategory[e]){this._lineSortedDPInCategory[e]=[];for(var t=0;t<this._sortedDataPointsByDirection[e].length;t++){var i=this._sortedDataPointsByDirection[e][t];if(this._seriesTypeLookup[i.address()[1]]===this._constants.LINE){this._lineSortedDPInCategory[e].push(i)}}}if(!this._barDPInCategory[e]){this._barDPInCategory[e]=[];var a=this.getColumn(e);for(var r=0;r<a.length;r++){if(this._seriesTypeLookup[a[r].address()[1]]===this._constants.BAR){this._barDPInCategory[e].push(a[r])}}}}n._getLineShortestDPInCategory=function(e,t){var i=this.getDataPoint(e);var a=null;var r=-1;var o=i.address();var n=o[0];var l=this._lineSortedDPInCategory[n].indexOf(i);if(l===-1){return this._lineSortedDPInCategory[n][0]}else{if(t===this._constants.UP||t===this._constants.RIGHT){r=l+1}else if(t===this._constants.DOWN||t===this._constants.LEFT){r=l-1}}if(r>-1&&r<this._lineSortedDPInCategory[n].length){a=this._lineSortedDPInCategory[n][r]}else{}return a};return o});define("sap/viz/chart/components/plots/StackedCombinationPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DOM","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/plots/BasePlot","sap/viz/chart/components/plots/BaseLinePlot","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/chart/components/renderers/StackedBarRenderer","sap/viz/chart/components/renderers/LineRenderer","sap/viz/chart/components/renderers/SmoothLineRenderer","sap/viz/chart/components/util/DrawUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/LineRendererUtil","sap/viz/chart/components/datalabels/StackedCombinationDataLabels","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/StackedCombinationDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D,w,C){var T="line";var z="bar";var L=function(e,t){L.superclass.constructor.apply(this,arguments);this._barCategoryAxis=u.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:this._getItemScaleHandler()});this._categoryScaleHandler=this._barCategoryAxis;this._lineDataHandler=c.getHandler();this._stackDataHandler=this._getDataHandler();this._drawZeroLineBeforeDatapoints=true;var i=this.runtime().semanticManager();i.setUseSemanticPattern(true);i.setUseSemanticDPLineStyle(true);this._attachMarkManager();this._markerPropName="line.marker";this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));this._options.isCombination=true;var a=t&&t.isDualValueAxis;if(a){this.dataShapeSecondaryAxisPW=this._properties.watch("dataShape.secondaryAxis",this._onDataShapeChange.bind(this))}this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._lineRenderer=null;this._defaultLineRenderer=b.getDefaultRenderer(this._properties.get("line.isSmoothed"))};t.extend(L,s);L.prototype._isSupportBarPathGenerator=function(){return true};L.prototype.destroy=function(){this.dataShapePrimaryAxisPW.remove();this.dataShapePrimaryAxisPW=null;if(this.dataShapeSecondaryAxisPW){this.dataShapeSecondaryAxisPW.remove();this.dataShapeSecondaryAxisPW=null}this.lineMarkerShapePW.remove();this.lineMarkerShapePW=null;L.superclass.destroy.call(this);this._barCategoryAxis=null;this._categoryScaleHandler=null;this._realSize=null;this._markerD=null;this._lineDataHandler=null;this._stackDataHandler=null;this._reversedSeries=null;this._lineRenderer=null;this._dpPlotNode=null;this._dpParentNode=null;this._extendSize=null};L.prototype._createMainNode=d.prototype._createMainNode;L.prototype._getClipPathAttribute=d.prototype._getClipPathAttribute;L.prototype.zoom=d.prototype.zoom;L.prototype.scroll=d.prototype.scroll;L.prototype._isNeedSimplifyLine=function(){return false};L.prototype._getItemScaleHandler=function(){var e;var t=this._getBarProperties();if(this._options.isDualValueAxis){var i=this._properties.get("dataShape.primaryAxis").indexOf("bar")>-1;var a=this._properties.get("dataShape.secondaryAxis").indexOf("bar")>-1;if(i&&a){t.valueAxis=["valueAxis","valueAxis2"];e=h.get(false,t);delete t.valueAxis}else{e=h.get(false,t)}}else{e=h.get(false,t)}this._itemScaleHandler=e;return e};L.prototype._attachMarkManager=function(){var e=this.runtime().markManager();var t=this._properties.get("dataShape.primaryAxis");var i=this._getMarkerShape();var a=this._properties.parentLevel;var r=[];e.lock();e.setMode("combination");var o=[];o.push(t);r.push(P.call(this,t,i,a));if(this._options&&this._options.isDualValueAxis){var n=this._properties.get("dataShape.secondaryAxis");r.push(P.call(this,n,i,a));o.push(n)}e.setShape(r,i);e.setSeriesShape(o)};function P(e,t,i){var a=[];if(!e||!e.length){return a}for(var r=0;r<e.length;r++){if(e[r]===T){a.push(t)}else{var o=this._getLegendMarkerShape();a.push(o)}}return a}L.prototype._onDataShapeChange=function(){this._attachMarkManager()};L.prototype._getCategoryScaleHandlers=function(e){return[u.getCategoryScaleHandler("categoryAxis",{isHorizontal:e,itemScaleHandler:h.get(false),alignment:"center"})]};L.prototype._getSeriesRenderer=function(){return new f(this._drawLine.bind(this),this._updateLine.bind(this))};L.prototype._applyChanges=function(){L.superclass._applyChanges.apply(this,arguments);var e=this._data["categoryAxis"].scale;var t=this.isHorizontal()?this._realSize.height:this._realSize.width;this._barCategoryAxis.init(e,this._data.series.length,t)};L.prototype._preRender=function(){L.superclass._preRender.apply(this,arguments);this._generateMarkerPath();this._lineRenderer=null};L.prototype._getDataShape=function(e){this._reversedSeries=this._reversedSeries||this._getSeries();var t=this._reversedSeries[e];var i=null;for(var a=0;a<t.length;a++){i=t[a];if(i){break}}if(i){var r="dataShape.primaryAxis";if(!i.hasOwnProperty("valueAxis")){r="dataShape.secondaryAxis"}var o=this._properties.get(r);if(!(o instanceof Array)){o=this._properties.get(r,"defaultValue")}var n;if(i.color){n=i.color.mndIndex}else if(i.color2){n=i.color2.mndIndex}else{n=-1}if(o[n]!==T&&o[n]!==z){o[n]=T}return o[n]}return T};L.prototype._getXPosition=function(e,t,i){var a=this._getDataShape(e)===T;if(this.isHorizontal()){if(a){this._dataHandler={valueAxis:this._lineDataHandler}}else{this._dataHandler=this._stackDataHandler}var r=L.superclass._getXPosition.apply(this,arguments);if(a){return[r[0]+r[1],r[1]]}else{return r}}else{if(a){return L.superclass._getXPosition.apply(this,arguments)}else{return this._getAxisPosition([this._barCategoryAxis],e,t,i)}}};L.prototype._adjustPosition=function(e,t){var i=this._getDataShape(t)===T;if(!i){L.superclass._adjustPosition.apply(this,arguments)}};L.prototype._getYPosition=function(e,t,i){var a=this._getDataShape(e)===T;if(!this.isHorizontal()){if(a){this._dataHandler={valueAxis:this._lineDataHandler}}else{this._dataHandler=this._stackDataHandler}var r=L.superclass._getYPosition.apply(this,arguments);return r}else{if(a){return L.superclass._getYPosition.apply(this,arguments)}else{return this._getAxisPosition([this._barCategoryAxis],e,t,i)}}};L.prototype.getLineRenderer=function(){if(!this._lineRenderer){var e=this._properties;this._lineRenderer=b.getRenderer(e.get("line.lineRenderer"),e.get("line.isSmoothed"))}return this._lineRenderer};L.prototype._isLineVisible=function(){return this._properties.get("line.visible")};L.prototype._drawLine=function(e,t,i,a){if(this._getDataShape(i)!==T){return 0}var r=this._data.series.length-1-i;d.prototype._drawLine.apply(this,[e,t,r,a]);return 1};L.prototype._updateLine=function(e,t,i){this._drawLine(e,t,i,true)};L.prototype._updateDatapoint=function(e,t,i,a){L.superclass._updateDatapoint.apply(this,arguments);if(a.hasOwnProperty("x")&&a.hasOwnProperty("y")){var o=r.getData(e).translate;if(o){o[0]=a.x;o[1]=a.y}}};L.prototype._buildConfig=function(e,t,i){var a=L.superclass._buildConfig.apply(this,arguments);a.graphic.d=this._markerD;if(!this._properties.get("line.marker.visible")){a.graphic.opacity=0}return a};L.prototype._getDataPointRenderer=function(e){if(e==null||this._getDataShape(e)!==T){this._isLineMarker=false;return L.superclass._getDataPointRenderer.apply(this,arguments)}else{this._isLineMarker=true;return this._customMarkerRenderer||v}};L.prototype._getDataLabels=function(e,t){var i=a.extend({},this._options);i.name=e;return new x(t,i)};L.prototype._getPatternConfig=d.prototype._getPatternConfig;L.prototype._updateDatapoints=function(e){var t=this._reversedSeries=this._getSeries();var i=t.length;var a;a=e.select("."+o.CSS.CLASS.DATAPOINT_GROUP).node();var l;for(var s in this._stackDataHandler){if(this._stackDataHandler[s].reset){this._stackDataHandler[s].reset()}}this._lineDataHandler.reset();if(this._seriesRenderer){this._seriesRenderer.resetDataPoints()}var u;var c=0;var h=[],p;for(var d=0;d<i;d++){var f=t[d];if(!f){continue}l=this._getDataPointRenderer(d);if(!l){continue}var m=this._getDataShape(d)===T;var y=this.getSeriesDPStyle(this._reversedSeries?i-d-1:d,null,m);for(var _=0;_<f.length;_++){var b=f[_];if(!b){continue}var x=this._getPosition(d,_,b);if(!x){continue}u=c++;var S=this._getDPOptions(y,m,b);var D=this._buildWrapperConfig(b,x,b.dp.context(),S);D.seqId=u;var w=this._buildData(D);if(m){D.isLineMarker=true;var C=this._createDataPoint(d,_,D,w,x,u,b);var z;if(!this._isBigData){z=this._drawDataPoint(l,C,true);var L=r.getData(z);if(!L){L={}}L.seriesIndex=b.dp._addr[1];L.itemIndex=b.dp._addr[0];r.setData(z,L)}var P=A.find(a,u);if(P){this._updateDatapoint(P,l,D,x);C.setNode(P)}else if(z){a.appendChild(z);C.setNode(z)}if(this._seriesRenderer){this._seriesRenderer.updateDataPoint(d,_,D,x,z)}}else{D.isLineMarker=false;p=h[_]=h[_]||{configs:[],positions:[],currentIds:[],dataPoints:[],addrs:[]};if(!p.node){var k=A.find(a,u);var E=k;while((E=E.parentNode)&&!n.hasClass(E,o.CSS.CLASS.STACK)){}p.node=E}p.configs.push(D);p.dataPoints.push(b.dp);p.addrs.push([d,_]);p.positions.push(x);p.currentIds.push(u)}this._pushDataPointContext(D)}}this._dataPointRenderer=g;l=this._getDataPointRenderer();for(var I=0;I<h.length;I++){if(h[I]){p=h[I];var O=this._drawCategory(p,l,[])}}this._dataPointRenderer=v;if(this._seriesRenderer){this._seriesRenderer.update(a)}var R=e.selectAll("."+o.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(e,R)};L.prototype._drawDataPoint=function(e,t,i){if(i){var a=p.prototype._drawDataPoint.apply(this,arguments);var o=t.getData();o.shape=this._getMarkerShape();r.setData(a,o);a.setAttribute("combination-marker","true");return a}else{return L.superclass._drawDataPoint.apply(this,arguments)}};L.prototype._getDPOptions=function(e,t,i){return{seriesStyle:e,seriesType:t?"line":"bar"}};L.prototype._drawDatapoints=function(e){var t=this._reversedSeries=this._getSeries();var a=t.length;var n=e.node().querySelector("."+o.CSS.CLASS.DATAPOINT_GROUP);if(!n){n=i.create("g");n.setAttribute("class",o.CSS.CLASS.DATAPOINT_GROUP);e.node().appendChild(n)}var l;if(this._seriesRenderer){this._seriesRenderer.init(a)}for(var s in this._stackDataHandler){if(this._stackDataHandler[s].reset){this._stackDataHandler[s].reset()}}this._lineDataHandler.reset();var u;var c=0;var h=[],p;for(var d=0;d<a;d++){var f=t[d];if(!f){continue}var m=this._getDataShape(d)===T;var y=this.getSeriesDPStyle(this._reversedSeries?a-d-1:d,null,m);l=this._getDataPointRenderer(d);if(!l){continue}for(var _=0;_<f.length;_++){var A=f[_];if(!A){continue}var b=this._getPosition(d,_,A);if(!b){continue}u=c++;var x=this._getDPOptions(y,m,A);var S=this._buildWrapperConfig(A,b,A.dp.context(),x);S.seqId=u;var D=this._buildData(S);if(m){S.isLineMarker=true;if(this.allowBreakLine(S.rawData.dp)){b=null;continue}var w=this._createDataPoint(d,_,S,D,b,u,A);this._dataPointRenderer=v;var C;if(!this._isBigData){C=this._drawDataPoint(l,w,true);var z=r.getData(C);z=z||{};z.seriesIndex=A.dp._addr[1];z.itemIndex=A.dp._addr[0];r.setData(C,z);w.setNode(C)}if(C||this._isBigData){if(this._seriesRenderer){this._seriesRenderer.addDataPoint(d,_,S,b,C)}else if(C){n.appendChild(C)}}}else{p=h[_]=h[_]||{configs:[],positions:[],currentIds:[],dataPoints:[],addrs:[]};p.data=p.data||[];p.data.push(D);S.isLineMarker=false;S.isStacked=true;p.configs.push(S);p.dataPoints.push(A.dp);p.addrs.push([d,_]);p.positions.push(b);p.currentIds.push(u)}this._pushDataPointContext(S)}}this._dataPointRenderer=g;l=this._getDataPointRenderer();for(var L=0;L<h.length;L++){p=h[L];if(!p){continue}var P=this._drawCategory(p,l,[]);if(P.children){for(var k=0;k<P.children.length;k++){P.children[k].setAttribute("combination-column","true")}}if(P){n.appendChild(P)}}this._dataPointRenderer=v;if(this._seriesRenderer){this._seriesRenderer.render(n)}this._postRender(n);this._dataLabels._gridlineScale=this._gridlineScale;this._drawDataLabels(e,n)};L.prototype._renderNode=d.prototype._renderNode;L.prototype._buildWrapperConfig=function(e,t,i,a){var r=L.superclass._buildWrapperConfig.apply(this,arguments);r.graphic.shape=this._getMarkerShape();return r};L.prototype.update=function(){L.superclass.update.apply(this,arguments);d.prototype._updateLightLine.apply(this,arguments)};L.prototype.getSeriesStyle=function(){var e=d.prototype.getSeriesStyle.apply(this,arguments);e.isCombination=true;return e};L.prototype._buildSeriesContext=function(e){return l.buildSeriesContext(this._data,e,["color","color2","trellisColumn","trellisRow"])};L.prototype._pushDataPointContext=function(){};L.prototype.allowBreakLine=function(e){return false};S.registerClazz("stacked_combination",L);S.registerClazz("horizontal_stacked_combination",L);D.register(C.DATAPOINT_NAVIGATOR,C.STACKED_COMBINATION,w);return L});define("sap/viz/chart/metadata/bindings/XYYCombinationBindings",[],function e(){var t=[{id:"dataFrame",name:"IDS_DATA_FRAME",type:"Dimension",min:0,max:1,acceptMND:false,role:"frame.data"},{id:"trellisColumn",name:"IDS_TRELLIS_COLUMN",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.columnCategory"},{id:"trellisRow",name:"IDS_TRELLIS_ROW",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"trellis.rowCategory"},{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"layout.category"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"valueAxis2",name:"IDS_VALUE_AXIS2",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.secondValue"}];return t});define("sap/viz/chart/components/trendline/mixin/timeLinePlot",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/trendline/mixin/scatterPlot","sap/viz/chart/components/trendline/Trendline"],function(e,t,i,a){function r(){}t.extend(r,i);r.prototype._getTrendLineContainer=function(t,i){var a=i.querySelector("."+e.CSS.CLASS.DATAPOINT_GROUP);if(a){i.insertBefore(t,a)}else{i.appendChild(t)}};return r});define("sap/viz/chart/components/plots/TimePlotHelper",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil"],function(e,t){var i={};i.getVisibleRange=function(e){var t;if(e._needLazyRender()){var i=e.getData().timeAxis.scale;var a=i.getDomain();var r=-e._offset.x/e._realSize.width*(a[1]-a[0])+a[0];var o=a[0]+e._visibleBound.x/e._realSize.width*(a[1]-a[0]);t={min:r,max:o}}return t};i.getDataPointRange=function(e,t){var i=0,a=e.length-1;var r={min:i,max:a};if(t){var o=[];var n=0;for(var l=i;l<=a;++l){if(e[l]){o[n++]=l}}a=n-1;var s,u;var c=i;while(i<a){s=Math.floor((i+a)/2);u=e[o[s]].getRawData();if(u.timeAxis[0].parsedValue<t.min){i=s+1;c=s}else{a=s-1}}r.min=i=o[c];c=a=n-1;while(i<a){s=Math.floor((i+a)/2);u=e[o[s]].getRawData();if(u.timeAxis[0].parsedValue>t.max){a=s-1;c=s}else{i=s+1}}r.max=o[c]}return r};return i});define("sap/viz/chart/components/plots/TimeLinePlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/components/plots/LinePlot","sap/viz/chart/components/plots/model/DataPointInfo","sap/viz/chart/components/plots/model/Series","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/util/SeriesUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/renderers/TimeReferenceLineRenderer","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/decorator/HitTestDecorator","sap/viz/chart/components/trendline/mixin/timeLinePlot","sap/viz/chart/components/plots/TimePlotHelper"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g){var m=function(e,t){m.superclass.constructor.apply(this,arguments);this._dataPointContext=[];this._calloutInfo=[]};e.extend(m,a);m.prototype._buildData=function(e){var t=m.superclass._buildData.apply(this,arguments);t.timeField=this._data.timeAxis.metaData.map(function(e){return e.id});e.timeField=t.timeField;return t};m.prototype.getReferenceLineRenderer=function(){return h};m.prototype._getCategoryScaleHandlers=function(){return[l.getTimeScaleHandler("timeAxis",{isHorizontal:true})]};m.prototype._getCategoryCount=function(){var e=this._data.timeAxis;return e&&e.rowArray?e.rowArray.length:1};m.prototype._buildWrapperConfig=function(e,t,i,a){a=a?a:{};var r;var o=a.markerSize||this._properties.get("marker.size")||this._properties.get("line.marker.size");var n=a.markerShape||this._properties.get("marker.shape")||this._properties.get("line.marker.shape");var l;if(this._isBigData){var s=e.transparent||0;var c=t.width;var h=t.height;var d=p.convertColor(a.color);r={graphic:{width:c,height:h,drawingEffect:this._drawingEffect||a.drawingEffect||this._properties.get("drawingEffect"),fill:a&&a.seriesStyle&&a.seriesStyle.color?p.convertColor(a.seriesStyle.color):d,opacity:1-s,shape:n,size:o},data:{color:d,width:c,height:h,translate:[t.x,t.y]},effectManager:this._effectManager,rawData:e,horizontal:this.isHorizontal(),dataId:e.dp.id};if(this._isCombination){l=e.dp&&e.dp.context()?e.dp.context():u.NULL_VALUE;r.ctx=l}if(this._calloutInfo&&this._calloutInfo.length){r.graphic.d=this._markerD}}else{l=e.dp&&e.dp.context()?e.dp.context():u.NULL_VALUE;r=m.superclass._buildWrapperConfig.call(this,e,t,l,a);r.graphic.size=o}return r};m.prototype._preRender=function(){var e=this._series;m.superclass._preRender.apply(this,arguments);this._series=e||this._series||[];this._resetDataPoints()};m.prototype._postRender=function(){m.superclass._postRender.apply(this,arguments);this._repositionReferenceLine()};m.prototype.setCalloutInfo=function(e){this._calloutInfo=e};m.prototype._getVisibleRange=function(){return g.getVisibleRange(this)};m.prototype._hideDataPoints=function(e,t){if(!this._isBigData){return m.superclass._hideDataPoints.apply(this,arguments)}else{e.forEach(function(e){if(e){var t=e.getNode();i.remove(t);e.setNode(null)}})}};m.prototype.isDrawDataPointForCallout=function(e){var t=false;var i;for(i=0;i<this._calloutInfo.length;i++){if(this._calloutInfo[i].dpId===e){t=true;break}}return t};m.prototype._getDataPointRange=function(e,t){return g.getDataPointRange(e,t)};m.prototype._showDataPoints=function(){this._preShowDataPoints();var e=[];var t=this._data.timeAxis.metaData.map(function(e){return e.id});this._dataPointContext=[];this._seriesRenderer.resetDataPoints();var i=this._getMarkerShape();var a={color:null,markerShape:i,markerSize:this._properties.get("marker.size"),drawingEffect:this._properties.get("drawingEffect")};var r=this._getVisibleRange();var o=u.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get("dataPoint.invalidity"))<=0;for(var n=0;n<this._series.length;n++){var l=this.getSeriesDPStyle(n,null,true);var s=this._series[n];if(!s){continue}var c=this._getDataPointRenderer(n);if(!c){continue}var h=null;var p=s.getDataPoints();var d=this._getDataPointRange(p,r);this._hideDataPoints(p,d);d=d||{min:0,max:p.length-1};for(var f=d.min;f<=d.max;f++){var v=p[f];if(!v){continue}var g=this._getDataPointPosition(v);if(!g||isNaN(g.x)){continue}var m=v.getId();var y=null;var _=v.getConfig();var A=v.getRawData();if(!h){h=this._getColor(A)}if(o&&A.dp.ignore){g=null;if(!_){_={graphic:{fill:h}}}}else{if(!_){a.color=h;a.seriesStyle=l;_=this._buildWrapperConfig(A,g,null,a);_.timeField=t;_.seriesIndex=n;_.itemIndex=f;_.seqId=m}this._dataPointContext[A.dp.id]=_;if(!this._isBigData||this.isDrawDataPointForCallout(A.dp.id)){var b=v.getData();if(!b){b=this._buildData(_);v.init(_,m,b,A.dp.id)}y=v.getNode();if(y){this._updateDatapoint(y,c,_,g)}else{y=this._drawDataPoint(c,v);v.setNode(y)}if(y){e.push(y)}}}this._seriesRenderer.addDataPoint(n,f,_,g,y)}}return e};m.prototype.destroy=function(){m.superclass.destroy.call(this);this._dataPointContext=null;this._calloutInfo=null};m.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color")};m.prototype._calMarkProps=function(){var e=this._getSeries();var t=s.getMaxSeriesLength(e);var i=s.isBigDensityMode(this._realSize.width,t);this._isBigData=i;var a=this._properties.get("marker.hoverOnlyMode");this._isMarkerVisible=this._properties.get("marker.visible");if(!a){this._isBigData=false;if(i){this._isMarkerVisible=false}}};m.prototype.isBigDataMode=function(){this._calMarkProps();return this._isBigData};m.prototype.getDataPointGraphicFromLineRenderer=function(e){if(this._lineRenderer.getGraphic){var t=this._lineRenderer.getGraphic(e);return t}};m.prototype.getDataPointsRenderInfo=function(){var e=this._lineRenderer;var t=this._lineRenderer.getGraphic?function(t){var i=t.rawData.dp.context();var a=t.data;var r=e.getGraphic(i);if(r&&r.color){a=c.extend({},a,{color:r.color})}return a}:function(e){return e.data};return this._dataPointContext&&this._dataPointContext.filter(function(e){return!!e}).map(function(e){var i=t(e);return{dataId:e.dataId,seriesIndex:e.seriesIndex,itemIndex:e.itemIndex,graphic:e.graphic,data:i,context:e.rawData.dp.context(),width:e.graphic.size,height:e.graphic.size}})};m.prototype._shiftOffsetForIncompleteRange=function(){};m.prototype.mappingDataPointInfo=function(e){var t=this._dataPointContext[e];if(t==null){return null}return t};(new f).decorate(m);(new v).inject(m.prototype);return m});define("sap/viz/chart/components/trendline/mixin/timeColumnPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/trendline/mixin/scatterPlot","sap/viz/chart/components/trendline/Trendline"],function(e,t,i){function a(){}e.extend(a,t);return a});define("sap/viz/chart/components/plots/TimeColumnPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/components/plots/ColumnPlot","sap/viz/chart/components/plots/model/DataPointInfo","sap/viz/chart/components/plots/model/Series","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/util/SeriesUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/renderers/TimeReferenceLineRenderer","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/plots/BarWidthUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/trendline/mixin/timeColumnPlot","sap/viz/chart/components/plots/TimePlotHelper"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y){var _=function(e,t){_.superclass.constructor.apply(this,arguments);this._dataPointContext=[]};e.extend(_,a);_.prototype._buildData=function(e){var t=_.superclass._buildData.apply(this,arguments);t.timeField=this._data.timeAxis.metaData.map(function(e){return e.id});e.timeField=t.timeField;return t};_.prototype.getReferenceLineRenderer=function(){return h};_.prototype._getBarProperties=function(){if(!this._barInfoProperties){var e=this._barInfoProperties=v.getBarProperties(this._properties.origin);var t=this._properties.origin;var i=this.runtime().statusManager().get("timeLevels");e.isHorizontal=true;e.minTimeLevel=i.length?i[0]:["day"];e.showAsUTC=t.get("general.showAsUTC")}return this._barInfoProperties};_.prototype._getCategoryScaleHandlers=function(){var e=this._getBarProperties();this._categoryScaleHandler=l.getTimeScaleHandler("timeAxis",e);return[this._categoryScaleHandler]};_.prototype._getCategoryCount=function(){return this._calcCount?this._calcCount-1:1};_.prototype._preRender=function(){var e=this._series;_.superclass._preRender.apply(this,arguments);this._series=e||this._series||[];this._resetDataPoints()};_.prototype._postRender=function(){_.superclass._postRender.apply(this,arguments);this._repositionReferenceLine()};_.prototype.destroy=function(){_.superclass.destroy.call(this);this._dataPointContext=null};_.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color")};_.prototype.getRealSizeByFixedDPSize=function(e){var t=_.superclass.getRealSizeByFixedDPSize.call(this,e,this._getColumnCount(),this._getCategoryCount());return t};_.prototype._getRangeTick=function(){var e=this.getData().timeAxis.scale;var t=e.getDomain();if(t[0]===Infinity&&t[1]===-Infinity){return 0}var i=this._getBarProperties();var a=i.minTimeLevel;a=g.isArray(a)?a[0]:a;var r=i.showAsUTC;var o=f.truncate(t[0],a,r,this._properties.origin);var n=f.truncate(t[1],a,r,this._properties.origin);if(o===n){n=f.nextDateByLevel(n,a,r,this._properties.origin)}this._calcCount=f.getTickNumberByLevel(a,o,n,r,this._properties.origin)};_.prototype._getVisibleRange=function(){return y.getVisibleRange(this)};_.prototype._getDataPointRange=function(e,t){return y.getDataPointRange(e,t)};_.prototype._getColumnWidthRatio=function(){this._getRangeTick();var e=v.getBarInfo(this._getColumnCount(),this._getBarProperties()).barWidth/(this._calcCount-1);return e};_.prototype._getColumnWidth=function(){return this._getColumnWidthRatio()*this._size.width};_.prototype.getPreferredSize=function(){var e=this._getColumnWidthRatio();this._categoryScaleHandler.updateBarWidth(this._getColumnWidthRatio(),this._getBarProperties().innerGroupSpacing*e,this._getColumnCount());return _.superclass.getPreferredSize.call(this)};_.prototype._updateBarWidth=function(e){var t=e/this._size.width;this._categoryScaleHandler.updateBarWidth(t,this._getBarProperties().innerGroupSpacing*t,this._getColumnCount())};_.prototype._shiftOffsetForIncompleteRange=function(){};_.prototype._adjustPosition=function(e,t){_.superclass._adjustPosition.apply(this,arguments);var i=this._properties.get("dataPointSize.max");if(g.isNumber(i)&&e.width>i){e.x=e.x+e.width/2-i/2;e.width=i}};(new m).inject(_.prototype);return _});define("sap/viz/chart/components/decorator/HitTestCombDecorator",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/chart/components/decorator/BaseHitTestDecorator","sap/viz/chart/components/util/HitTestUtils"],function(e,t,i,a,r){var o=r.isInCircle;var n=r.isInRect;var l=r.isInRectWithRatio;var s=function(){s.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(e,a){var r=this._dataPointContext,s=e.left,u=e.top;var c;var h=this;var p=this._selection.select(".v-plot-bound").node();var d=p.getBoundingClientRect().width/p.getBBox().width;if(e.hasOwnProperty("width")&&e.hasOwnProperty("height")){var f=e.width;var v=e.height;var g=this.getSize();var m=this._offset;var y=-m.x;var _=-m.y;e.left=e.left+y;e.top=e.top+_;var A=g.width;var b=g.height;if(d!=1){A*=d;b*=d}var x={left:y,top:_,width:A,height:b};if(!i.intersects(x,e)){return[]}e=i.intersection(x,e);c=r.filter(function(t){var a=t.seriesIndex;var r=h.getDataPointShape(a);if(r==="bar"){var o=t.position;var l={left:o.x,top:o.y,width:o.width,height:o.height};if(d!=1){l.left*=d;l.top*=d;l.width*=d;l.height*=d}return i.intersects(l,x)&&i.intersects(l,e)}else{var c=t.data.translate.slice();if(d!=1){c[0]*=d;c[1]*=d}return c[0]>=y&&c[0]<=A+y&&n(c,[s+y,u+_],f,v)}})}else{c=r.filter(function(t){var i=t.seriesIndex;var a=h.getDataPointShape(i);if(a==="bar"){return l(e,t.position,d)}else{return o(t.data.translate,[s,u],4)}})}if(a){t.stableSort(c,function(e,t){var i=h.getDataPointShape(e.seriesIndex)==="bar"?1:0;var a=h.getDataPointShape(t.seriesIndex)==="bar"?1:0;return i-a})}return c}};e.extend(s,a);return s});define("sap/viz/chart/components/plots/TimeStackedColumnPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/ColumnPlot","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/StackedPlotHelper"],function(e,t,i,a,r,o){var n=function(e,t){n.superclass.constructor.apply(this,arguments)};e.extend(n,i);n.prototype._getColor=t.prototype._getColor;n.prototype._adjustPosition=a.prototype._adjustPosition;n.prototype._drawDatapoints=a.prototype._drawDatapoints;n.prototype._updateDatapoints=a.prototype._updateDatapoints;n.prototype._needValidEmptyAxisData=a.prototype._needValidEmptyAxisData;n.prototype._showDataPoints=a.prototype._showDataPoints;n.prototype._drawCategory=a.prototype._drawCategory;n.prototype._getDataHandler=a.prototype._getDataHandler;n.prototype._getSeries=a.prototype._getSeries;n.prototype._generatePath=a.prototype._generatePath;n.prototype._getDataLabels=a.prototype._getDataLabels;n.prototype._removeEmptyStacks=a.prototype._removeEmptyStacks;n.prototype._getVisibleRange=function(){return o.getVisibleRange(this,i)};n.prototype._pushDataPointContext=function(e){if(e){this._dataPointContext[e.dataId]=e}};n.prototype._getCategoryScaleHandlers=function(){var e=this._getBarProperties();e.forSingleBar=true;this._categoryScaleHandler=r.getTimeScaleHandler("timeAxis",e);return[this._categoryScaleHandler]};n.prototype._getColumnWidthRatio=function(){var e=this._getBarProperties();var t=e.barSpacing;this._getRangeTick();var i=1/(this._calcCount-1)/(1+t);return i};n.prototype._getColumnCount=function(){return 1};return n});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForComb",["sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler"],function(e,t,i,a,r,o,n,l,s){var u=["info/timeseries_combination","info/dual_timeseries_combination"];var c=["info/timeseries_stacked_combination"];var h=c.concat(u);var p=s.setMakerOpacity;function d(e,t){var i=t.getDataModel();var a=t.getModule("main.plot");var r=[],o=[];for(var n=0;n<e.length;n++){var l=e[n];var s=i.getDataPoint(l);if(s){var u=a.getDataPointShape(s);if(u==="line"){o.push(l)}else if(u==="bar"){r.push(l)}}}return{bar:r,line:o}}function f(t,a){var r=a.getModule("main.plot");var o=a.getDataModel();var n=e.turnToArray(t);var l=[],s=[];n.forEach(function(e){var t=i.getDataPointId(e);var a=o.getDataPoint(t);var n=r.getDataPointShape(a);if(n==="line"){s.push(e)}else{l.push(e)}});return{bar:l,line:s}}function v(e,t){var i=e.data.targets;var a=f(e.data.targets,t);e.data.targets=a.bar;s.selectOnBarOnNormalMode(e,t);e.data.targets=a.line;s.selectOnLineOnNormalMode(e,t);e.data.targets=i}var g=[{id:"selectDataPoint_comb",triggerEvent:{name:"selectDataPoint",supportedChartTypes:u},handler:function(e,t){if(t.isBigDataMode()){s.selectOnCombinationDuringBigData(e,t)}else{v(e,t)}}},{id:"selectDataPoint_stacked_comb",triggerEvent:{name:"selectDataPoint",supportedChartTypes:c},handler:function(e,t){if(t.isBigDataMode()){var a=e.data.targets;var r=d(e.data.targets,t);e.data.targets=i.getNodeDom(r.bar,t);s.selectOnBarOnNormalMode(e,t);e.data.targets=r.line;s.selectOnLineDuringBigData(e,t);e.data.targets=a}else{v(e,t)}}},{id:"hoverOnDataPoint_comb",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:u},handler:function(e,t){if(t.isBigDataMode()&&!t.isTrellis()){s.highlightOnCombDuringBigData(e,t)}else{s.hoverEffectDuringNormalMode(e,t)}}},{id:"hoverOnDataPoint_stack_comb",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:c},handler:function(e,t){if(t.isBigDataMode()&&!t.isTrellis()){var a=e.data.targets;var r=t.getStatus("selectedDataPoints");var o=r.concat(e.data.targets);var n=d(e.data.targets,t);e.data.targets=i.getNodeDom(n.bar,t);s.hoverEffectDuringNormalMode(e,t);n=d(o,t);e.data.targets=n.line;s.selectOnLineDuringBigData(e,t);e.data.targets=a}else{s.hoverEffectDuringNormalMode(e,t)}}},{id:"unhoverOnDataPoint_comb_big_data",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:u},handler:function(e,t){if(t.isBigDataMode()&&!t.isTrellis()){s.unhighlightOnCombDuringBigData(e,t)}else{s.unhoverEffectDuringNormalMode(e,t)}}},{id:"unhoverOnDataPoint_stk_comb_big_data",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:c},handler:function(e,t){if(t.isBigDataMode()&&!t.isTrellis()){var a=e.data.targets;var r=d(e.data.targets,t);e.data.targets=i.getNodeDom(r.bar,t);s.unhoverEffectDuringNormalMode(e,t);var o=t.getStatus("selectedDataPoints");var n=d(o,t);e.data.targets=n.line;s.selectOnLineDuringBigData(e,t);e.data.targets=a}else{s.unhoverEffectDuringNormalMode(e,t)}}},{id:"deselectDataPoint_comb",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:h},handler:function(t,a){if(a.isBigDataMode()){return}a.fireEvent(t,true);var o=e.turnToArray(t.data.targets);var l;var u=a.getProperties();var c;var h=r.isExist(u.get("plotArea.markerRenderer"));var d=a.getModule("main.plot");var f=a.getDataModel();o.forEach(function(r){var o=i.getDataPointId(r);var v=f.getDataPoint(o);var g=d.getDataPointShape(v);var m=1;if(t.data.isAnyOtherSelected){l=u.get("interaction.deselected")}else{l=u.get("plotArea.dataPoint");var y=n.getData(r);if(y){m=y.strokeWidth}}if(g==="line"){i.unhighlight(r);c=s.getLineRenderer(a,r);s.renderLightLine(a,r,false,c);e.drawStroke(a,r,"path, rect",l.stroke,m);e.drawFill(a,r,"path, rect",l,h,true);p(a,r)}else{e.drawStroke(a,r,"rect",l.stroke,m);e.drawFill(a,r,"rect, path",l,h)}})}},{id:"clearPlot_comb",triggerEvent:{name:"clearPlot",supportedChartTypes:h},handler:function(t,a){a.fireEvent(t,true);a._getDecorationLayer().clear();var l=t.data.isGray;var u=t.data.rangeSelection;var c=u&&u!=="clear";var h=a.getProperties();var d=h.get("interaction.deselected");s.cleanLine(t,a);var f=a.getNodes(a.NodeType.DATA_POINT,false);if(!f||!f.length){s.cleanBar(t,a);return}var v=a.getModule("main.plot");var g=a.getDataModel();var m=r.isExist(h.get("plotArea.markerRenderer"));f.forEach(function(t){var s=1;if(l||c){if(c){d=o.extend(true,{},d);d.opacity=1}}else{d=h.get("plotArea.dataPoint");var u=n.getData(t);if(u){s=u.strokeWidth;s=r.isExist(s)?s:1}}var f=i.getDataPointId(t);var y=g.getDataPoint(f);var _=v.getDataPointShape(y);if(_==="line"){e.drawStroke(a,t,"path, rect",d.stroke,s);e.drawFill(a,t,"path, rect",d,m,true);p(a,t)}else{e.drawStroke(a,t,"rect",d.stroke,s);e.drawFill(a,t,"rect, path",d,m)}})}}];l.registerAll(g);return g});define("sap/viz/chart/components/plots/TimeCombinationPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/TimeLinePlot","sap/viz/chart/components/plots/CombinationPlot","sap/viz/chart/components/plots/BaseLinePlot","sap/viz/chart/components/plots/LinePlot","sap/viz/chart/components/plots/model/Series","sap/viz/chart/components/util/BarSeriesUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/decorator/HitTestCombDecorator","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/LineRendererUtil","sap/viz/chart/components/util/DrawUtil","sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/behavior/config/DataPointBehaviorConfigForComb"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m){var y="line";var _="bar";var A=function(e,t){A.superclass.constructor.apply(this,arguments);this._isCombination=true;this._isBigData=false;var i=this.runtime().semanticManager();i.setUseSemanticPattern(true);i.setUseSemanticDPLineStyle(true);this._attachMarkManager();this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._isInTrellis=false;this._markerPropName="line.marker";this._defaultLineRenderer=v.getDefaultRenderer(this._properties.get("line.isSmoothed"));this._isFlexibleStack=false};e.extend(A,a);A.prototype._isSupportBarPathGenerator=function(){return true};A.prototype._applyScroll=function(){return r.prototype._applyScroll.apply(this,arguments)};A.prototype._getPatternConfig=n.prototype._getPatternConfig;A.prototype._isLineVisible=function(){return this._properties.get("line.visible")};A.prototype.getLineRenderer=function(){if(!this._lineRenderer){var e=this._properties;this._lineRenderer=v.getRenderer(e.get("line.lineRenderer"),e.get("line.isSmoothed"))}return this._lineRenderer};A.prototype._renderNode=r.prototype._renderNode;A.prototype._preShowDataPoints=function(){var e=this._offset;var t=e.hasOwnProperty("x")?e.x:0;var i=e.hasOwnProperty("y")?e.y:0;if(this._positionInWindow){t+=this._positionInWindow.hasOwnProperty("x")?this._positionInWindow.x:0;i+=this._positionInWindow.hasOwnProperty("y")?this._positionInWindow.y:0}var r=this._getMaxVisibleSize();this._visibleBound={x:r.width-t,y:r.height-i};var o=this._isBigData;a.prototype._preShowDataPoints.apply(this,arguments);if(o!==this._isBigData){for(var n=0;n<this._series.length;n++){var l=this._getDataShape(n);if(l===_){var s=this._series[n];var u=s.getDataPoints();for(var c=0;c<u.length;c++){this._hideNode(u,c)}}}}this._isMarkerVisible=this._isBigData?false:this._properties.get("line.marker.visible")};A.prototype._preRender=function(){l.prototype._preRender.apply(this,arguments);return a.prototype._preRender.apply(this,arguments)};A.prototype._buildData=function(e){var t=this._getDataShape(e.seriesIndex);var i;if(t===_){i=a.prototype._buildData.apply(this,arguments);i.type=_}else{i=r.prototype._buildData.apply(this,arguments);i.type=y}return i};A.prototype._buildConfig=function(e,t,i){var o=this.getDataPointShape(e.dp);if(o===_){return a.prototype._buildConfig.apply(this,arguments)}else{return r.prototype._buildConfig.apply(this,arguments)}};A.prototype._buildWrapperConfig=function(e,t,i,o){var n=this.getSeriesIndex(e.dp);var l=this._getDataShape(n);var s;if(l===_){o.seriesType="bar";s=a.prototype._buildWrapperConfig.apply(this,arguments);s["isLineMarker"]=false}else if(l===y){if(!e.hasOwnProperty("transparent")){e.transparent=this._isMarkerVisible?0:1}o.seriesType="line";s=r.prototype._buildWrapperConfig.apply(this,arguments);s.graphic.opacity=this._properties.get("line.marker.visible")?1:0;s.graphic.d=s.graphic.d||this._markerD;s["isLineMarker"]=true;s.data.width=0}var u=e.dp&&e.dp.context()?e.dp.context():f.NULL_VALUE;s.ctx=u;return s};A.prototype.getDataPointShape=function(e){if(c.isNumber(arguments[0])){return this._getDataShape(arguments[0])}else{return this._getDataShape(e._addr[1])}};A.prototype._createMainNode=n.prototype._createMainNode;A.prototype._getClipPathAttribute=n.prototype._getClipPathAttribute;A.prototype.zoom=n.prototype.zoom;A.prototype.scroll=n.prototype.scroll;A.prototype._isNeedSimplifyLine=function(){return false};A.prototype._getDataShape=function(e){return(this._data.series[e].rIndex||e)===0?_:y};A.prototype.getSeriesStyle=function(){return r.prototype.getSeriesStyle.apply(this,arguments)};A.prototype._getColor=function(e){return o.prototype._getColor.apply(this,arguments)};A.prototype._attachMarkManager=function(){var e=this.runtime().markManager();var t=["bar","line","line"];var i=this._getMarkerShape();var a=this._properties.parentLevel;var r=[];e.lock();e.setMode("combination");var n=[];n.push(t);r.push(o.processMark.call(this,t,i,a));if(this._options&&this._options.isDualValueAxis){var l=["line","line","line"];r.push(o.processMark.call(this,l,i,a));n.push(l)}e.setShape(r,i);e.setSeriesShape(n)};A.prototype._onDataShapeChange=function(){this._attachMarkManager()};A.prototype._getSeriesRenderer=function(){return new h(this._drawLine.bind(this),this._updateLine.bind(this))};A.prototype._adjustPosition=function(e,t){var i=this._getDataShape(t);if(i===_){a.prototype._adjustPosition.apply(this,arguments)}else{}};A.prototype._getXPosition=function(e,t,i){var o=this._getDataShape(e)===y;if(o){return r.superclass._getXPosition.apply(this,arguments)}else{return a.prototype._getXPosition.apply(this,arguments)}};A.prototype._getYPosition=function(e,t,i){return o.prototype._getYPosition.apply(this,arguments)};A.prototype._drawLine=function(e,t,i,a){if(this._getDataShape(i)!==y){u.drawBarSeries(e,t,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);return 0}n.prototype._drawLine.apply(this,[e,t,i,a]);return 1};A.prototype._updateLine=function(e,t,i){var a=this._getDataShape(i);if(a===_){u.updateBarSeries(e,t,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData)}else{this._drawLine(e,t,i,true)}};A.prototype._buildSeriesContext=function(e){return n.prototype._buildSeriesContext.apply(this,arguments)};A.prototype.isMarkerVisible=function(){return this._isMarkerVisible};A.prototype._getDataLabels=function(){return o.prototype._getDataLabels.apply(this,arguments)};A.prototype._drawDataPoint=function(e,t){var i=t._seriesIndex;var o=this._getDataShape(i);if(o===_){return a.prototype._drawDataPoint.apply(this,arguments)}else{return r.prototype._drawDataPoint.apply(this,arguments)}};A.prototype._hideDataPoints=function(e,t){var i;if(!t){t=r.prototype._getVisibleRange.call(this,e);t=r.prototype._getDataPointRange.call(this,e,t)}if(e[0]&&this._getDataShape(e[0].getSeriesIndex())===y){for(i=0;i<e.length;i++){this._hideNode(e,i)}this._lightLineOutOfRange(e,t)}else{this._columnOutOfRange(e,t)}};A.prototype.update=function(){A.superclass.update.apply(this,arguments);this._updateLightLine()};A.prototype._updateLightLine=function(){n.prototype._updateLightLine.apply(this,arguments)};A.prototype._lightLineOutOfRange=function(e,t){o.prototype._lightLineOutOfRange.apply(this,arguments)};A.prototype._updateDatapoints=function(){return o.prototype._updateDatapoints.apply(this,arguments)};A.prototype._updateDatapoint=function(e,t,i,o){var n=i.seriesIndex;var l=this._getDataShape(n);if(l===_){return a.prototype._updateDatapoint.apply(this,arguments)}else{return r.prototype._updateDatapoint.apply(this,arguments)}};A.prototype._getDataPointRenderer=function(e){return o.prototype._getDataPointRenderer.apply(this,arguments)};A.prototype.destroy=function(){a.prototype.destroy.apply(this,arguments);o.prototype.destroy.apply(this,arguments)};A.prototype._getAxisPosition=function(e,t,i,r){return a.prototype._getAxisPosition.call(this,e,t,i,r,this._getDataShape(t))};A.prototype._getFillColorConfig=function(){return o.prototype._getFillColorConfig.apply(this,arguments)};A.prototype._useSemanticPattern=function(){return o.prototype._useSemanticPattern.apply(this,arguments)};A.prototype._getColumnWidthRatio=m.prototype._getColumnWidthRatio;A.prototype._getCategoryScaleHandlers=m.prototype._getCategoryScaleHandlers;A.prototype._getColumnCount=function(){return 1};(new p).decorate(A);return A});define("sap/viz/chart/components/decorator/HitTestBulletDecorator",["sap/viz/framework/common/util/oo","sap/viz/chart/components/decorator/BaseHitTestDecorator","sap/viz/chart/components/util/HitTestUtils"],function(e,t,i){var a=i.inRange;var r=function(){r.superclass.constructor.apply(this,arguments);this._decos.hitTestForRangeSelection=function(e){if(!e.hasOwnProperty("start")&&!e.hasOwnProperty("end")){return null}var t=[];var i=this._data.actualValues.scale._domain;this._data.series.forEach(function(r){var o=r.filter(function(t){var r=t.timeAxis[0].parsedValue||t.timeAxis[0].value;return a(r,e["start"],e["end"])&&a(t.actualValues,i[0],i[1])});t=t.concat(o)});return t.map(function(e){return e.dp.id})}};e.extend(r,t);return r});define("sap/viz/chart/components/plots/TimeBulletPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/BulletPlot","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/decorator/HitTestBulletDecorator"],function(e,t,i,a,r,o){function n(){n.superclass.constructor.apply(this,arguments)}e.extend(n,t);n.prototype.update=function(e){if(!this._selection){return}n.superclass.update.apply(this,arguments)};n.prototype.setData=function(){n.superclass.setData.apply(this,arguments);this._data.categoryAxis=this._data.timeAxis};n.prototype._getCategoryWidth=function(){return this._getColumnWidthRatio()*this.getRealSize().width};n.prototype._getCategoryCount=function(){var e=this.getData().timeAxis.scale,t=e.getDomain();if(t[0]===Infinity&&t[1]===-Infinity){return null}var i=this._getBarProperties();var r=a.truncate(t[0],i.minTimeLevel,i.utc,this._properties.origin),o=a.truncate(t[1],i.minTimeLevel,i.utc,this._properties.origin);if(r===o){o=a.nextDateByLevel(o,i.minTimeLevel,i.utc,this._properties.origin)}return{range:e.scale(o)-e.scale(r),count:a.getTickNumberByLevel(i.minTimeLevel,r,o,i.utc,this._properties.origin)-1}};n.prototype._getColumnWidthRatio=function(){var e=this._getCategoryCount();return e?e.range/e.count:0};n.prototype._getExtraData=function(){var e=n.superclass._getExtraData();e.timeField=[this._data.timeAxis.metaData[0].id];return e};n.prototype._categoryPosFn=function(){var e=this._data.series,t=this._data.timeAxis.scale,i=this.isHorizontal()?this._realSize.height:this._realSize.width,a=this.__barSize()/2;return function(r,o){var n=e[r][o];if(n){if(e.length>1){return i*t.scale(n.timeAxis)+2*a*(r-e.length/2)}else{return i*t.scale(n.timeAxis)-a}}else{return null}}};n.prototype.sizeByFixedDPSize=function(e){var t=this._getCategoryCount();var i=n.superclass.sizeByFixedDPSize.apply(this,arguments);return i/t.range};n.prototype._categoryCount=function(){var e=this._getCategoryCount();return e?e.count:0};n.prototype._getBarProperties=function(){return{minTimeLevel:(this.runtime().statusManager().get("timeLevels")||[])[0]||["day"],utc:this._properties.origin.get("general.showAsUTC")}};n.prototype.scroll=function(e){n.superclass.scroll.apply(this,arguments);if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};n.prototype._getCategoryRange=function(){return null};n.prototype._shiftOffsetForIncompleteRange=function(){return null};n.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color")};(new o).decorate(n);return n});define("sap/viz/chart/components/plots/TimeStackedPercentagePlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/plots/PercentagePlot"],function e(t,i,a){var r=function(e,t){r.superclass.constructor.apply(this,arguments);this._isPercent=true};t.extend(r,i);r.prototype._getDataHandler=a.prototype._getDataHandler;r.prototype._total=a.prototype._total;r.prototype._getPosition=function(e,t,i){var a=this._total(t,i);if(!a){return null}return r.superclass._getPosition.apply(this,arguments)};r.prototype._buildWrapperContext=a.prototype._buildWrapperContext;r.prototype._buildWrapperConfig=function(e,t,i,a){i=this._buildWrapperContext(e,i);return r.superclass._buildWrapperConfig.apply(this,[e,t,i,a])};r.prototype._buildData=function(e){var t=r.superclass._buildData.apply(this,arguments);t.percentageValue=e.ctx.percentage;return t};r.prototype._drawGridlines=a.prototype._drawGridlines;r.prototype._getDataLabels=a.prototype._getDataLabels;return r});define("sap/viz/chart/components/datalabels/WaterfallDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/datalabels/DataLabels","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/GeometryUtils"],function(e,t,i,a,r,o,n,l){var s=t.CSS.CLASS.DATALABEL+" "+t.CSS.CLASS.MORPHABLELABEL,u=t.CSS.CLASS.DATALABEL_GROUP_RECAP,c="g";var h=8;var p=2;var d="data-id";var f=[0,2,1];var v=function(e,t){v.superclass.constructor.apply(this,arguments);this._labelPosition="waterfall";this._recapLabelsGroupNode=null};e.extend(v,o);v.prototype.verticalLabelOffset=t.DATALABEL.VERTICAL_LABEL_OFFSET;v.prototype.horizontalLabelOffset=t.DATALABEL.HORIZONTAL_LABEL_OFFSET;v.prototype._getStyle=function(e){var t=this._properties;var i=v.superclass._getStyle.apply(this,arguments);if(e){var a=r.getContext(e);if(a&&a.isCumulative){i["font-weight"]="bold";i["cssString"]="fill:"+i.fill+";font-family:"+t.get("style.fontFamily")+";font-size:"+t.get("style.fontSize")+";font-weight:"+"bold"+";font-style:"+t.get("style.fontStyle")+";"}}return i};v.prototype.hideConditional=function(e,o){var n,s=new Array(o.length);for(n=0;n<o.length;n++){s[n]=o[n].getBoundingClientRect()}var u;if(this._recapLabelsGroupNode){u=[];var c=this._dataShapesGroupNode;var h=this._recapLabelsGroupNode.querySelectorAll("."+t.CSS.CLASS.DATALABEL);var p=h.length;for(n=0;n<p;n++){var d=h[n];var f=a.getData(d).id;var g=r.find(c,f);if(g){var m=a.getData(g).recap;if(m){var y=a.getContext(d).val;var _=/translate\((.*)\)/g.exec(d.getAttribute("transform"))[1].replace(/\s+/g,",").split(",");_[0]=parseFloat(_[0]);_[1]=parseFloat(_[1]);var A=l.getBBox(d);u.push({info:{value:y},node:d,dataPoint:g,left:_[0]+A.x,right:_[0]+A.x+A.width,top:_[1]+A.y,bottom:_[1]+A.y+A.height,x:m.x,y:m.y})}}}u.sort(function(e,t){return e.x-t.x})}var b=u?e.concat(u):e;for(n=b.length-1;n>=0;n--){var x=b[n];var S=x.node;var D=S.getBoundingClientRect();var w=x.dataPoint;var C=this.indexOfDataLabelIntersectDataPoints(D,s,o,w,x.info.value);if(C!==-1){i.remove(S);b.splice(n,1)}}return v.superclass.hideConditional.call(this,b)};v.prototype.sortDataLabelInfos=function(e){var t,i,a,o;var n=this;if(this._data.waterfallTypeScale){e.sort(function(e,l){t=r.getContext(e.node);a=n._data.waterfallTypeScale.scale(t?t.Type:null);i=r.getContext(l.node);o=n._data.waterfallTypeScale.scale(i?i.Type:null);return f.indexOf(a)-f.indexOf(o)})}};v.prototype._computeDataLabelTranslate=function(e,i,a,r,o){var n=v.superclass._computeDataLabelTranslate.apply(this,arguments);if(this._horizontal){var l=this._fixBBoxWhenInvisible(e,o&&o.dpBBox);var s=l.x+i.e;var u=this.getBound();var c=t.DATALABEL.BOUND_OFFSET;var h=r.width+c;if(o.val<0&&s-r.x-u.left<h&&u.width+u.left-(s+l.width)>=h){n[0]=s+l.width+this.horizontalLabelOffset;if(n[0]+r.x+r.width>u.width+u.left){n[0]=u.width+u.left-c-r.width-r.x}}}return n};var g=100;v.prototype._computeDataLabelPosition=function(e,t,i,a,r,o){var n,l;var s=t.x+e.e;var u=t.y+e.f;var c;if(this._horizontal){c=this.horizontalLabelOffset}else{if(this._size.height<g){c=this.verticalLabelOffset*.2}else{c=this.verticalLabelOffset}}if(this._horizontal){l=u+t.height/2-(a.y+a.height/2);if(r.val>=0){n=s+t.width+c}else{n=s-(a.x+a.width)-c}}else{n=s+t.width/2-(a.x+a.width/2);if(r.val>=0){l=u-(a.y+a.height);if(l+a.y<0){l=-a.y-c}else{l=l+c}}else{l=u+t.height-a.y;if(l+a.height+a.y>r.plotSize.height){l=r.plotSize.height-(a.y+a.height)+c}else{l=l-c}}}return[n,l]};v.prototype.indexOfDataLabelIntersectDataPoints=function(e,t,i,a,r){var o=-1;var n;for(n=0;n<t.length;n++){var l=t[n];if(!(e.left>l.right||e.right<l.left||e.top>l.bottom||e.bottom<l.top)){o=n;break}}return o};v.prototype.render=function(e,t){t=t||r.findAll(this._dataShapesGroupNode)||[];this._plotSelection=e;var i=this._beforeRender(t);this._render(e,i);var a=r.findAll(e.node());this._renderRecapLabels(e,a);this._afterRender(e)};v.prototype._renderRecapLabels=function(e,i){var o=this._properties;if(!o.origin.get("plotArea.dataLabel.showRecap")){return}this._recapLabels=[];var l=e.node();var h=l.querySelector("."+u);if(!h){h=n.create(c,l);h.setAttribute("class",u);this._recapLabelsGroupNode=h}var p=h.querySelectorAll("."+t.CSS.CLASS.DATALABEL);var d=null;var f=this.runtime().envManager();if(f){d=f.textAnchor()}h.setAttribute("text-anchor",d);var v=o.get("renderer")||y;var g=this._getStyle();for(var m in g){if(g.hasOwnProperty(m)){h.setAttribute(m,g[m])}}var _=o.get("formatString");var A,b;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){A=this._data.valueAxis.metaData[0].id;b=this._data.valueAxis.metaData[0].formatString}var x=_?_:b;var S=this._runtime.statusManager().get("dynamicScale");for(var D=0,w=i.length;D<w;D++){var C=i[D];var T=r.getDataPointId(C);var z=r.findByDataRecapIds(p,T);if(z.length){continue}var L=r.getDataId(C);var P=a.getData(C).recap;if(!P){continue}var k={key:A,value:P.value,dynamicScale:S};var E=this._buildDataLabelText(x,k,null,false,C);z=n.create("g",h);r.setDataRecapId(z,T);z.setAttribute("class",s);a.setData(z,{id:L});var I={val:k.value,text:E,info:k,styles:g,horizontal:this._horizontal};var O=v(I);if(O){z.appendChild(O)}a.setContext(z,{val:k.value})}};v.prototype.updatePosition=function(e,o){var n=e,l=e.node();var s=n.select("."+u);if(s.node()){var c=this._dataShapesGroupNode;var h=[];var p=s.node().querySelectorAll("."+t.CSS.CLASS.DATALABEL);for(var d=0,f=p.length;d<f;d++){var g=p[d];var y=a.getData(g).id;var _=r.find(c,y);if(!_){i.remove(g);continue}var A=a.getData(_).recap;if(!A){i.remove(g);continue}h.push(y);var b=m(g,A);g.setAttribute("transform","translate("+b[0]+","+b[1]+")")}if(o){var x=o.filter(function(e){return h.indexOf(r.getDataId(e))===-1});if(x.length){this._renderRecapLabels(e,r.findAll(c))}}}v.superclass.updatePosition.apply(this,arguments)};v.prototype._afterRender=function(e,o,n){if(this._recapLabelsGroupNode){var l=this._dataShapesGroupNode;var s=this._recapLabelsGroupNode.querySelectorAll("."+t.CSS.CLASS.DATALABEL);var u=function(e,t,a,o,n){var l,s,u;if(a.basePos==="end"||a.basePos==="start"){l=r.find(e,a.basePosId)}else if(a.nearBasePos){l=r.find(e,a.nearBasePosId)}else{return}if(!l){i.remove(t);return}s=l.getBoundingClientRect();if((a.basePos==="end"||a.nearBasePos==="right")&&o.right>=s.left){n[0]-=o.right-s.left+p}else if((a.basePos==="start"||a.nearBasePos==="left")&&o.left<=s.right){n[0]+=s.right-o.left+p}t.setAttribute("transform","translate("+n[0]+","+n[1]+")")};for(var c=0,h=s.length;c<h;c++){var d=s[c];var f=a.getData(d).id;var g=r.find(l,f);if(!g){i.remove(d);continue}var y=a.getData(g).recap;if(!y){i.remove(d);continue}var _=m(d,y);d.setAttribute("transform","translate("+_[0]+","+_[1]+")");var A=d.getBoundingClientRect();if(y.basePos){u(l,d,y,A,_)}else{_[0]-=A.width/2+p;d.setAttribute("transform","translate("+_[0]+","+_[1]+")")}}}v.superclass._afterRender.apply(this,arguments)};function m(e,t){var i=l.getBBox(e);var a=t.x-.5*i.width,r;if(t.position==="up"){r=t.y-h}else{r=t.y-i.y+h}return[a,r]}function y(e){var t=n.create("text");t.textContent=e.text;return t}return v});define("sap/viz/chart/util/WaterfallUtils",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/CSSUtils","sap/viz/framework/common/util/Constants"],function(e,t,i,a){var r={};r.WATERFALLTYPE="waterfallType";var o=a.CSS.CLASS.WATERFALL_LINKLINE;var n=a.CSS.CLASS.WATERFALL_RECAP;var l=a.RECAP.WIDTH;var s=a.RECAP.PADDING;r.Key2Type=[{key:"subtotal",type:2},{key:"total",type:1},{key:"",type:0}];r.scale=function(t,i){if(e.isString(t)){t=t.trim().split(":")[0].toLowerCase().trim()}for(var a in i){if(i[a].key===t){return i[a].type}}return 0};r.joinLines=function(e,t){var i,a;if(t){e.sort(function(e,t){return e.x1!==t.x1?e.x1-t.x1:e.y1-t.y1});for(i=0;i<e.length;i++){if(!a){a=e[i]}else{if(a.x1===e[i].x1){if(a.y2<e[i].y1){a=e[i]}else{if(a.y2<e[i].y2){a.y2=e[i].y2}e[i].skip=true}}else{a=e[i]}}}}else{e.sort(function(e,t){return e.y1!==t.y1?e.y1-t.y1:e.x1-t.x1});for(i=0;i<e.length;i++){if(!a){a=e[i]}else{if(a.y1===e[i].y1){if(a.x2<e[i].x1){a=e[i]}else{if(a.x2<e[i].x2){a.x2=e[i].x2}e[i].skip=true}}else{a=e[i]}}}}};r.drawLines=function(e,u,c,h,p,d){if(e.length===0){return}if(p){r.joinLines(e,c)}var f=1;var v=u.get("linkline.color");var g=u.get("linkline.size");var m=v;var y=u.get("linkline.type");var _=y==a.LINE_TYPE.DASHED||y===a.LINE_TYPE.DOTTED?"stroke-dasharray:6":"";for(var A=0;A<e.length;A++){if(e[A]){if(!e[A].skip){var b=t.create("line");b.setAttribute("class",o);b.setAttribute("stroke",v);b.setAttribute("stroke-opacity",f);b.setAttribute("stroke-width",g);i.setDOMStyle(b,_);b.setAttribute("pointer-events","none");b.setAttribute("x1",e[A].x1);b.setAttribute("y1",e[A].y1);b.setAttribute("x2",e[A].x2);b.setAttribute("y2",e[A].y2);h.appendChild(b)}if(e[A].recap&&d>=s*2+l){var x=t.createSVGNode("circle");x.setAttribute("class",n);x.setAttribute("fill-opacity",f);x.setAttribute("fill",m);x.setAttribute("r",l/2);x.setAttribute("cx",e[A].recap.x);x.setAttribute("cy",e[A].recap.y);h.appendChild(x)}}}};return r});define("sap/viz/chart/components/plots/WaterFallPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/SVG","sap/viz/chart/components/plots/BaseColumnPlot","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/datalabels/WaterfallDataLabels","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/util/WaterfallUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_){var A=function(e,t){A.superclass.constructor.apply(this,arguments);this._dpGap=0};t.extend(A,r);A.prototype._isSupportNoFill=function(){return false};var b=.5;var x=m.CSS.CLASS.WATERFALL_LINKLINE;var S="v-wtf-linklinegroup";A.prototype.setData=function(e){if(e&&e.waterfallType&&e.waterfallType.scale){e.waterfallTypeScale=e.waterfallType.scale}A.superclass.setData.apply(this,arguments);return this};A.prototype.render=function(e){var t=this._size.width,i=this._size.height;this._size.width=t<0?0:t;this._size.height=i<0?0:i;A.superclass.render.apply(this,arguments)};A.prototype._getDataHandler=function(){return{valueAxis:l.getWTFHandler()}};A.prototype._getXYPosition=function(e,t,i,a,r){return a.scale({value:i.valueAxis,total:i.total,base:i.base},{index:t,seriesIndex:e,dataHandler:r})};A.prototype._getXPosition=function(e,t,i){var a=this._xHandlers[0];return this._getXYPosition(e,t,i,a)};A.prototype._getYPosition=function(e,t,i){var a=this._yHandlers[0];return this._getXYPosition(e,t,i,a)};A.prototype._getValueScaleHandlers=function(e){return[n.getWTFScaleHandler("valueAxis",{isHorizontal:this.isHorizontal()})]};A.prototype._showDataPoints=function(e){this._preShowDataPoints();var t=[];this._dataPointContext=[];if(this._seriesRenderer){this._seriesRenderer.resetDataPoints()}this._selection.selectAll("."+S).remove();var i=a.create("g");i.setAttribute("class",S);var r=this._getVisibleRange();var o,n,l;for(o=0;o<this._series.length;o++){n=this._series[o];if(!n){continue}var s=this._getDataPointRenderer(o);if(!s){continue}l=n.getDataPoints();var u=this._getDataPointRange(l,r);this._hideDataPoints(l,u);for(var c=u.min;c<=u.max;c++){var h=l[c];if(!h){continue}var p=h.getRawData();var d=this._getDataPointPosition(h);if(!d){continue}var f=false;var v=h.getConfig();if(!v){f=true;var g=p.dp&&p.dp.context()?p.dp.context():m.NULL_VALUE;var y=p.timeAxis&&p.timeAxis[0]&&p.timeAxis[0].parsedValue;v=this._buildWrapperConfig(p,d,g,{timeValue:y})}this._dataPointContext.push(v);var _=h.getData();if(!_){f=true;var A=h.getId();_=this._buildData(v);h.init(v,A,_,p.dp&&p.dp.id?p.dp.id:m.NULL_VALUE)}var b=h.getNode();if(b){if(f){this._updateDatapoint(b,s,v,d);t.push(b)}}else{b=this._drawDataPoint(s,h);h.setNode(b);if(b){t.push(b)}}if(this._seriesRenderer){this._seriesRenderer.addDataPoint(o,c,v,d,b)}else if(!b.parentNode){e.appendChild(b)}}}if(!this._seriesRenderer){this._drawLine(i,this._series,r)}e.appendChild(i);return t};A.prototype._getSeriesDataPoint=function(e,t){return{valueAxis:0,total:0,base:0}};A.prototype._getGap=function(e,t){var i;var a;var r=this.getRealSize();var o;if(this.isHorizontal()){a=this._yHandlers[0];i=this._getYPosition.bind(this);o=r.height}else{a=this._xHandlers[0];i=this._getXPosition.bind(this);o=r.width}if(a._scale.getDomain().length>1){var n=this._getSeriesDataPoint(e,t);var l=this._getSeriesDataPoint(e,t+1);if(!l){return undefined}var s=i(0,0,n);var u=i(0,1,l);o=u[0]-s[0]}return o};A.prototype._getHorizontalLine=function(e,t,i,a){var r,o,n;var l;var s=b;var u=this._dpGap;var c=u-e.height;r={y1:Math.round(e.y-c/2),y2:Math.round(e.y+e.height)};o={y1:Math.round(e.y),y2:Math.round(e.y+e.height+c/2)};if(1===i){l=!t?Math.round(e.x+e.width):Math.round(e.x+s);r.x1=r.x2=o.x1=o.x2=l}else if(2===i){n={y1:Math.round(e.y-u*a),y2:Math.round(e.y+e.height)};l=!t?Math.round(e.x+e.width):Math.round(e.x+s);r.x1=r.x2=o.x1=o.x2=l;l=!t?Math.round(e.x):Math.round(e.x+e.width+s);n.x1=n.x2=l}else{l=!t?Math.round(e.x):Math.round(e.x+e.width+s);r.x1=r.x2=l;l=!t?Math.round(e.x+e.width):Math.round(e.x+s);o.x1=o.x2=l}return{lLine:r,rLine:o,subLine:n}};A.prototype._getVerticalLine=function(e,t,i,a){var r,o,n;var l;var s=b;var u=this._dpGap;var c=u-e.width;r={x1:Math.round(e.x-c/2),x2:Math.round(e.x+e.width)};o={x1:Math.round(e.x),x2:Math.round(e.x+e.width+c/2)};if(1===i){l=!t?Math.round(e.y):Math.round(e.y+e.height+s);r.y1=r.y2=o.y1=o.y2=l}else if(2===i){n={x1:Math.round(e.x-u*a),x2:Math.round(e.x+e.width)};l=!t?Math.round(e.y):Math.round(e.y+e.height+s);r.y1=r.y2=o.y1=o.y2=l;l=!t?Math.round(e.y+e.height):Math.round(e.y+s);n.y1=n.y2=l}else{l=!t?Math.round(e.y+e.height):Math.round(e.y+s);r.y1=r.y2=l;l=!t?Math.round(e.y):Math.round(e.y+e.height+s);o.y1=o.y2=l}return{lLine:r,rLine:o,subLine:n}};A.prototype._getWaterFallTypeScale=function(e){return this._data.waterfallType.scale.scale(e)};A.prototype._getChildNumScale=function(e){return this._data.waterfallType.scale.childrenNum(e)};A.prototype._drawLine=function(e,t,i){t=t[0].getDataPoints();var a=this._properties.get("linkline.visible");if(!a){return}this._dpGap=this._getGap(0,0);var r=[];var o;for(var n=i.min;n<=i.max;n++){var l=t[n];if(!l||l.getRawData().valueAxis===null){continue}var s=l.getConfig();var u=l.getPosition();var c=s.ctx[s.ctx.measureNames]<0;var h=l.getRawData().waterfallType;var p=this._getWaterFallTypeScale(h);var d=this._getChildNumScale(h);if(this.isHorizontal()){o=this._getHorizontalLine(u,c,p,d)}else{o=this._getVerticalLine(u,c,p,d)}if(!o){continue}if(l.getItemIndex()!==0){r.push(o.lLine)}if(l.getItemIndex()!==this._data.series[0].length-1){r.push(o.rLine)}if(2===p){r.push(o.subLine)}}y.drawLines(r,this._properties,this.isHorizontal(),e,true)};A.prototype._buildWrapperConfig=function(e,t,i){var a=A.superclass._buildWrapperConfig.apply(this,arguments);if(this._semanticMgr.hasDataPointColorStyle()){if(this._semanticMgr.isOverrideMode()){return a}else if(a.hasOwnProperty("isOthers")&&a.graphic.fill){return a}}var r=this._properties.get("dataPoint.color.isSemanticColoring");var o,n,l;if(r===false){var s=this._properties.get("colorPalette");o=n=a.data.color||s[0]}else{o=this._properties.get("dataPoint.color.positive");n=this._properties.get("dataPoint.color.negative")}o=_.convertColor(o);n=_.convertColor(n);l=this._properties.get("dataPoint.color.total");l=_.convertColor(l);var u=this._getWaterFallTypeScale(e.waterfallType);a.graphic.fill=1===u?l:e.valueAxis>=0?o:n;return a};A.prototype._getDataLabels=function(e,t){this._datalabels=new f(t,{name:e,horizontal:this.isHorizontal()});return this._datalabels};A.prototype._adjustPosition=function(e,t){var i=this.isHorizontal();if(i&&e.width<0){e.width=e.width>-1?1:Math.abs(e.width);e.x-=e.width+.5}if(!i&&e.height<0){e.height=e.height>-1?1:Math.abs(e.height);e.y-=e.height+.5}};A.prototype.destroy=function(){A.superclass.destroy.call(this);this._dpGap=null};return A});define("sap/viz/chart/components/plots/TimeWaterFallPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/WaterFallPlot","sap/viz/chart/util/WaterfallUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/renderers/TimeReferenceLineRenderer","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f){var v=function(e,t){v.superclass.constructor.apply(this,arguments);this._isSyncValueAxis=this.runtime().propertyManager().get("interaction.syncValueAxis")||false;this._visibleRange=null};t.extend(v,a);v.prototype._getXPosition=i.prototype._getXPosition;v.prototype._getBarProperties=i.prototype._getBarProperties;v.prototype._getColumnWidth=i.prototype._getColumnWidth;v.prototype._getVisibleRange=i.prototype._getVisibleRange;v.prototype._getDataPointRange=i.prototype._getDataPointRange;v.prototype.getPreferredSize=i.prototype.getPreferredSize;v.prototype._updateBarWidth=i.prototype._updateBarWidth;v.prototype._getStartEnd=i.prototype._getStartEnd;v.prototype._getWaterFallTypeScale=function(e){return 0};v.prototype._getChildNumScale=function(e){return 0};v.prototype.getReferenceLineRenderer=function(){return u};v.prototype._buildData=i.prototype._buildData;v.prototype.getRealSizeByFixedDPSize=i.prototype.getRealSizeByFixedDPSize;v.prototype._getSeriesDataPoint=function(e,t){return this._data.series[e][t]};v.prototype._getConnectionLine=function(e,t,i,a){var r={};if(!a){return undefined}r.skip=false;r.x1=e.x;r.x2=a.x+a.width;if(t){r.y1=e.y+e.height;r.y2=e.y+e.height}else{r.y1=e.y;r.y2=e.y}return r};v.prototype._getRecapDate=function(e,t,i,a){var r=false;if(this._data.rawData&&this._data.rawData.dataModel&&this._data.rawData.dataModel._rawData){r=n.isFiscal(this._data.rawData.dataModel._rawData)}var l;var s=e.getRawData().timeAxis[0].parsedValue;var u;if(r){u=o.nextDateByLevel(s,t,i,a);l=.5*(s+u)}else{u=o.ceil(s,t,i,a);l=Math.ceil(.5*(s+u))}return l};v.prototype._drawLine=function(e,t,i){var a=this._properties.get("linkline.visible");var o=this._properties.origin.get("plotArea.dataLabel.showRecap");if(!a&&!o){return}var n=this.getData().valueAxis.values;var s=this.getData().timeAxis._sortedTimeStampSet;var u=[];var p,d,v,g;var m=0;var y=t.length;var _=y-1;var A=this.getRealSize().width;var b=this.getData().timeAxis.scale;var x,S,D=null,w=null,C,T;var z,L,P,k,E,I;var O=this._getBarProperties();var R=O.minTimeLevel;var N=this._properties.origin.get("general.showAsUTC");var M=this._properties.origin;var B=function(e,t,i){var a=e.getDataPoints();var r;if(i){r=i.getDataPoints()}var o=function(e,t){var i=f.bisearch(e,t,function(e){return e?e.getRawData().timeAxis[0].parsedValue:0});return e[i]&&e[i].getRawData().timeAxis[0].parsedValue===t?e[i]:null};return{dataPoint:o(a,s[t]),nearDataPoint:r?o(r,s[t]):null}};if(o){for(var V=0;V<y;V++){if(t[V]){v=t[V].getDataPoints();for(var F=0;F<v.length;F++){g=v[F];if(g){L=this._getDataPointPosition(g);d=y===1?L.width*O.barSpacing:L.width*O.groupSpacing;break}}}}for(C=0;C<=s.length&&!D;C++){for(T=m;T<=_&&!D;T++){if(t[T]){D=B(t[T],C).dataPoint}}}if(D){z=D.getConfig();if(z){L=D.getPosition();P=z.ctx[z.ctx.measureNames]<0;var H={};H.skip=false;H.x1=0;H.x2=L.x+L.width;if(P){H.y1=L.y;H.y2=L.y}else{H.y1=L.y+L.height;H.y2=L.y+L.height}u.push(H)}}}for(C=0;C<s.length-1;C++){var U=null,W,G,Y=null;for(T=_;T>=m&&!U;T--){if(t[T]){G=B(t[T],C,t[T-1]);U=G.dataPoint;Y=G.nearDataPoint}}if(!U||!U.getNode()){continue}z=U.getConfig();if(!z){continue}L=U.getPosition();P=z.ctx[z.ctx.measureNames]<0;var X={seriesIndex:T,itemIndex:C};var j=null,Z=null;for(var q=C+1;q<s.length&&!j;q++){for(T=m;T<=_&&!j;T++){if(t[T]){G=B(t[T],q,t[T+1]);j=G.dataPoint;Z=G.nearDataPoint}}}x=this._getRecapDate(U,R,N,M);var K=j?j.getPosition():undefined;k=l.getData(U.getNode());if(K){p=this._getConnectionLine(L,P,X,K);if(!a){p.skip=true}u.push(p)}else{p={skip:true}}if(o){E=b.scale(x)*A;I=P?L.y+L.height:L.y;p.recap={x:E,y:I};var Q=U.getRawData().valueAxis,$=j?j.getRawData().valueAxis:null;k.recap={x:E,y:I,value:h.preciseSimple(U.getRawData().total),position:Q>=0&&$<0?"up":"down"};if(Q<0&&$<0){k.recap.basePos="end";k.recap.basePosId=j.getId()}else if(Q>=0&&$>=0){k.recap.basePos="start";k.recap.basePosId=U.getId()}else{k.recap.basePos="middle";var J=Y?Y.getRawData().valueAxis:0;var ee=Z?Z.getRawData().valueAxis:0;var te=function(e,t,i){e.recap.nearBasePos=t;e.recap.nearBasePosId=i.getId()};if(Q>=0&&$<0){if((J<0&&Math.abs(J)<=Q||J>=0)&&ee>Math.abs($)){te(k,"right",Z)}else if(J<0&&Math.abs(J)>Q&&ee<=Math.abs($)){te(k,"left",Y)}}else{if((J<=0||J>0&&J<=Math.abs(Q))&&ee<0&&Math.abs(ee)>$){te(k,"right",Z)}else if((ee>=0||ee<0&&Math.abs(ee)<=$)&&J>Math.abs(Q)){te(k,"left",Y)}}}l.setData(U.getNode(),k)}}if(o){for(C=s.length-1;C>=0;C--){for(T=_;T>=m;T--){if(t[T]){w=B(t[T],C).dataPoint}if(w){break}}if(w){break}}if(w&&w.getNode()){z=w.getConfig();if(z){L=w.getPosition();P=z.ctx[z.ctx.measureNames]<0;x=this._getRecapDate(w,R,N,M);var ie={};ie.skip=false;ie.x1=L.x;ie.x2=A;if(P){ie.y1=L.y+L.height;ie.y2=L.y+L.height}else{ie.y1=L.y;ie.y2=L.y}u.push(ie);E=ie.x2-c.RECAP.WIDTH/2;I=ie.y1;ie.recap={x:E,y:I};k=l.getData(w.getNode());k.recap={x:E,y:I,value:h.preciseSimple(w.getRawData().total),position:P?"down":"up",startId:w.getId(),endId:null};l.setData(w.getNode(),k)}}}r.drawLines(u,this._properties,this.isHorizontal(),e,false,d)};v.prototype._shiftOffsetForIncompleteRange=i.prototype._shiftOffsetForIncompleteRange;v.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color")};v.prototype._drawDatapoints=function(e,t){v.superclass._drawDatapoints.apply(this,arguments);this._addtionalInfo=t;this.renderAddition()};v.prototype._updateDatapoints=function(e){v.superclass._updateDatapoints.apply(this,arguments);this.renderAddition()};v.prototype.scroll=function(e){v.superclass.scroll.apply(this,arguments);this.renderAddition()};v.prototype.renderAddition=function(){return this._addtionalInfo&&this._addtionalInfo.timeAxis&&this._addtionalInfo.timeAxis.renderAddition&&this._addtionalInfo.timeAxis.renderAddition(this._dataPointContext)};v.prototype._preShowDataPoints=function(e){v.superclass._preShowDataPoints.apply(this,arguments);this._endOfPeriodArray=[];var t;for(t=0;t<this._series.length;t++){var i=this._series[t];if(i){var a=i.getDataPoints();for(var r=0;r<a.length;r++){var o=a[r];if(!o){continue}var n=o.getRawData();var l=n.timeAxis[0].parsedValue;this._endOfPeriodArray[l]=n.total}}}};v.prototype._buildWrapperConfig=function(e,t,i,a){var r=this.runtime().statusManager();var o=r.get(c.RECAP.RECAP_KEY);if(d.isExist(o)){delete i[o]}else{r.add(c.RECAP.RECAP_KEY,o)}if(this._properties.origin.get("plotArea.dataLabel.showRecap")){o=this._properties.origin.get("plotArea.dataLabel.recapTitle")||p.get("IDS_END_OF_PERIOD","en");if(this._endOfPeriodArray&&a&&this._endOfPeriodArray[a.timeValue]){i[o]=this._endOfPeriodArray[a.timeValue]}else{i[o]=e.total}r.set(c.RECAP.RECAP_KEY,o)}var n=v.superclass._buildWrapperConfig.apply(this,arguments);var l=e&&!e.isNullValue?e.dp.additionCtx():{};n.vbcContext={};n.vbcContext.color=this._semanticMgr.analyzeValueBasedColor(i,l);return n};v.prototype.destroy=function(){v.superclass.destroy.call(this);this._isSyncValueAxis=null;this._visibleRange=null};v.prototype._getRangeTick=i.prototype._getRangeTick;v.prototype._getColumnWidthRatio=i.prototype._getColumnWidthRatio;v.prototype._getCategoryScaleHandlers=i.prototype._getCategoryScaleHandlers;v.prototype._getCategoryCount=i.prototype._getCategoryCount;return v});define("sap/viz/chart/components/plots/TimeStackedCombinationPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/TimeCombinationPlot","sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/plots/StackedCombinationPlot","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/StackedPlotHelper","sap/viz/chart/components/plots/DataHandler","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,a,r,o,n,l,s){var u="line";var c="bar";var h=function(e,t){h.superclass.constructor.apply(this,arguments);this._lineDataHandler=n.getHandler();this._stackDataHandler=this._getDataHandler();this._drawZeroLineBeforeDatapoints=true;this._attachMarkManager();this._markerPropName="line.marker";this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));this._options.isCombination=true;this._lineRenderer=null;this._isDrawDp=true};e.extend(h,t);var p=h.prototype;var d=["_adjustPosition","_attachMarkManager","_buildConfig","_getColor","_getDataHandler","_getDataPointRenderer","_drawCategory","_drawDataPoint","_drawLine","_updateLine","_updateDatapoint","_getSeries","getSeriesStyle","_getDataHandler","_generatePath","_getDataLabels","_getDataShape","_getYPosition","isMarkerVisible","_needValidEmptyAxisData","_removeEmptyStacks"];d.forEach(function(e){p[e]=a.prototype[e]});p._pushDataPointContext=i.prototype._pushDataPointContext;p._getCategoryScaleHandlers=i.prototype._getCategoryScaleHandlers;p._getColumnWidthRatio=i.prototype._getColumnWidthRatio;p._getColumnCount=i.prototype._getColumnCount;p._showDataPoints=function(){};p._updateDatapoints=function(){this._preShowDataPoints();a.prototype._updateDatapoints.apply(this,arguments)};p._preShowDataPoints=function(){this._dataPointContext=[];h.superclass._preShowDataPoints.apply(this,arguments)};p._drawDatapoints=function(e){this._initSeries();this._preShowDataPoints();a.prototype._drawDatapoints.apply(this,arguments)};p._buildData=function(e){var t=a.prototype._buildData.apply(this,arguments);t.timeField=this._data.timeAxis.metaData.map(function(e){return e.id});e.timeField=t.timeField;return t};p._buildWrapperConfig=function(e,t,i,a){var r=h.superclass._buildWrapperConfig.apply(this,arguments);r.graphic.shape=this._getMarkerShape();r.position=t;if(!s.isExist(r.graphic.fill)){r.graphic.fill=this._getColor(e)}r.seriesIndex=this.getSeriesIndex(e.dp);return r};p._getVisibleRange=function(){return o.getVisibleRange(this,t)};p.allowBreakLine=function(e){return l.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get("dataPoint.invalidity"))<=0&&e.ignore};p._createDataPoint=function(e,t,i,r,o,n,s){var u;var c=this._series[e];var h=c.getDataPoints();if(h){u=h[t];u.init(i,n,r,s.dp&&s.dp.id?s.dp.id:l.NULL_VALUE);u.setPosition(o);u.setRawData(s)}else{u=a.prototype._createDataPoint.apply(this,arguments)}return u};p.getSeriesIndex=function(e){return this._series.length-e._addr[1]-1};p.getDataPointShape=function(e){var t;if(s.isNumber(e)){t=e}else{t=this._series.length-e._addr[1]-1}return this._getDataShape(t)};p.getSeriesStyle=function(e,t,i){e=t||i?e:this._series.length-e-1;return h.superclass.getSeriesStyle.call(this,e,t)};p._getDPOptions=function(e,t,i){var r=a.prototype._getDPOptions.apply(this,arguments);r.color=this._getColor(i);return r};return h});define("sap/viz/chart/components/plots/TYPlotFactory",["jquery","sap/viz/chart/components/plots/TimeLinePlot","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/TimeCombinationPlot","sap/viz/chart/components/plots/TimeBulletPlot","sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/plots/TimeStackedPercentagePlot","sap/viz/chart/components/plots/TimeWaterFallPlot","sap/viz/chart/components/plots/TimeStackedCombinationPlot"],function(e,t,i,a,r,o,n,l,s){var u={timeseries_line:{plotClazz:t},timeseries_column:{plotClazz:i},timeseries_stacked_column:{plotClazz:o},timeseries_100_stacked_column:{plotClazz:n},timeseries_combination:{plotClazz:a},dual_timeseries_combination:{plotClazz:a},timeseries_bullet:{plotClazz:r},timeseries_waterfall:{plotClazz:l},timeseries_stacked_combination:{plotClazz:s}};return{getPlotClazz:function(e){var t=u[e];return t&&t.plotClazz}}});define("sap/viz/chart/components/plotareas/TimeYPlotArea",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/callout/CalloutContainer","sap/viz/chart/components/plotareas/XYPlotArea","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/TimeAxis","sap/viz/chart/components/plots/TYPlotFactory","sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/scales/TimeScale","sap/viz/chart/components/zoom/TimeYZoomer","sap/viz/chart/components/plots/TimeWaterFallPlot","sap/viz/chart/components/zoom/ZoomLimit","sap/viz/chart/components/util/SeriesUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/trendline/Trendline"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D,w,C){var T=function(e,t){this._rawData=t&&t.rawData&&t.rawData.dataModel&&t.rawData.dataModel._rawData;this._isTruncatedWindowInput=false;T.superclass.constructor.apply(this,arguments)};var z=_.preciseSimple;var L=g.isNumber;t.extend(T,o);T.prototype._getValueAxis=function(e){return e.valueAxis};T.prototype.destroy=function(){T.superclass.destroy.apply(this,arguments)};T.prototype._init=function(t,i){this._plot=u.create(this._renderType,s.getPlotClazz(this._renderType),this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var a=!this._properties.get("interaction.noninteractiveMode")||!this.isColumnLike()&&!!this._properties.get("timeAxis.interval.unit");this.setLayoutSequence(["left","right","bottom","top"]);var o=i&&i.rawData&&i.rawData.dataModel;this._categoryAxis=new l(this.runtime(),{name:"timeAxis",hasScrollbar:a,isColumnLike:this.isColumnLike(),isMultiplySeriesColumn:this.isMultiplySeriesColumn(o),isKeepMinimalLevelContinuousTicks:this.isKeepMinimalLevelContinuousTicks(o),isLineChart:this._isLineChart(),rawData:this._rawData});this.setChild("timeAxis",this._categoryAxis,{position:"bottom"});if(a){this._hScrollbar=this._categoryAxis.getChild(e.AXIS.SCROLLBAR_NAME).module}this._valueAxis=new n(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});if(this._properties.get("plotArea.callout.left")){this._leftCallouts=new r(this.runtime(),{name:"plotArea.callout",position:"left"});this.setChild("leftCallouts",this._leftCallouts,{position:"left",priority:1,unique:true})}if(this._properties.get("plotArea.callout.top")){this._topCallouts=new r(this.runtime(),{name:"plotArea.callout",position:"top"});this.setChild("topCallouts",this._topCallouts,{position:"top"})}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true)}this.getZoomer().init({main:this,plot:this._plot,isHorizontal:false})};T.prototype.extractCalloutInfo=function(){var e=[];for(var t in this._children){if(this._children.hasOwnProperty(t)){var i=this._children[t].module;if(i._callouts){e=e.concat(i._callouts)}}}return e};T.prototype._postLayout=function(e){T.superclass._postLayout.apply(this,arguments);var t=this.extractCalloutInfo();for(var i in this._children){if(this._children.hasOwnProperty(i)){var a=this._children[i].module;if(a.setCalloutInfo){a.setCalloutInfo(t)}}}};T.prototype.getAddtionalInfo=function(e){var t;if(e instanceof x){var i;var a=this.getChild("timeAxis");if(a){i=a.module}t={};t.timeAxis=i}return t};T.prototype._hasScrollbar=function(){var e=T.superclass._hasScrollbar.apply(this,arguments);return e||!this.isColumnLike()&&!!this._properties.get("timeAxis.interval.unit")};T.prototype._preRender=function(){var e=this._data.timeAxis.scale;var t=e.getDomain();var i=this._getZoomRange(t);if(!this._plot.isHorizontal()){if(this.isColumnLike()){var a=this._plot.getPreferredSize();if(this._hasScrollbar()){this._categoryAxis.setRealSize(a)}}else{if(this._categoryAxis.isVisible()){var r=this._categoryAxis.getChild("axisBody").module.getRealSize().width;if(r>0){this._realSize.width=r;this._plot.setRealSize({width:r})}}}}o.superclass._preRender.apply(this,arguments);var n=this._valueAxis._scale.getDomain();this._runtime.statusManager().add("globalDomain",{value:[n[0],n[1]],readonly:true});this._applyTransform(t,i)};T.prototype._getZoomRange=function(e){function t(e){var t=e;if(g.isExist(t)){t=m.createDateInstance(t).getTime();t=parseInt(t)}return t}var i=this._properties;var a=h.getZoomRange(i,e);var r=t(a[0]);var o=t(a[1]);if(L(r)&&r<e[0]){r=e[0]}if(L(o)&&o>e[1]){o=e[1]}return[r,o]};T.prototype._applyTransform=function(e,t){this._isTruncatedWindowInput=false;function i(){if(isNaN(a)||a<e[0]){a=e[0]}if(isNaN(r)||r>e[1]){r=e[1]}}var a=t[0];var r=t[1];var o=h.isRangeIncomplete(t);var n=h.isZoomRangeValid(a,r,e);var l,s;if(n&&o){l=this.runtime().statusManager().get("plot.transform.scale");var u=this._plot._getBarProperties().minTimeLevel;var c=m.getPeriod(u)/2;var p={};if(!L(a)){a=r-Math.abs(e[0]-e[1])/l.x;if(this.isColumnLike()){a+=c}i();p["alignStart"]=e[0];p["alignEnd"]=r+c}else{if(this.isColumnLike()){a-=c}i();p["alignStart"]=a;p["alignEnd"]=e[1]}s=-Math.abs((e[0]-a)/(e[0]-e[1]));if(this._applyOffserAndZoom(s,l,p)){return}else{P(t,e)}}a=t[0];r=t[1];o=h.isRangeIncomplete(t);n=h.isZoomRangeValid(a,r,e);if(n&&!o){i();if(this.isColumnLike()){this._isTruncatedWindowInput=true;var d=this._truncateAndExtendWindowInput(a,r);a=d[0];r=d[1];i()}if(a>=r){a=e[0];r=e[1]}l=Math.abs((e[0]-e[1])/(a-r));l={x:l,y:l};s=-Math.abs((e[0]-a)/(e[0]-e[1]))}else{l=this.runtime().statusManager().get("plot.transform.scale");s=0}if(l){this._applyOffserAndZoom(s,l)}};function P(e,t){if(!g.isExist(e[0])){e[0]=t[0]}if(!g.isExist(e[1])){e[1]=t[1]}return e}T.prototype._applyOffserAndZoom=function(e,t,i){var a={x:1,y:1};var r={x:0,y:0};var o=this.getChildrenByPosition("center")[0];var n=o.getSize();var l=o.getRealSize();var s=o.isHorizontal()?"y":"x";var u=o.isHorizontal()?"height":"width";a[s]=t[s];r[s]=z(e*n[u]*t[s]);if(i){var c=z(-r[s]+n[u]);var h=this._convertPositionIntoTimeStemp(c);var p=this._convertPositionIntoTimeStemp(-r[s]);if(L(i["alignStart"])&&p<i["alignStart"]){return false}else if(L(i["alignEnd"])&&h>i["alignEnd"]){return false}}this.zoom(a);if(this._properties.get("interaction.syncValueAxis")||r.x||r.y){this.scroll(r)}return true};T.prototype._convertPositionIntoTimeStemp=function(e){var t=this.getChildrenByPosition("center")[0];var i=t.getRealSize();var a=t.isHorizontal()?i.height:i.width;return Math.round(t._data.timeAxis.scale._scale.invert(e/a))};T.prototype._setAxisData=function(e){this._categoryAxis.setData(e.timeAxis,f.hasNegativeValue(e))};function k(e,t,i){if(e===Infinity&&t===-Infinity){return[e,t]}var a=e;var r=t;var o;var n=i.minTimeLevel;n=g.isArray(n)?n[0]:n;var l=i.showAsUTC;if(i.labelTruncate){a=m.truncate(e,n,l,i.origin);r=m.truncate(t,n,l,i.origin)}if(i.hasOwnProperty("linePadding")){o=i.linePadding}else{o=m.getPeriod(n)/2}a-=o;r+=o;return[a,r]}T.prototype._updateTrendLineAxis=function(e){if(e&&e.timeAxis&&e.timeAxis.scale){var t=e.timeAxis.scale;var i=t.getDomain();var a=w.extend(true,[],i);this._plot._expandTrendlineXRange(a);if(a&&a.length>1&&a[1]>i[1]){if(this._isLineChart()){this._timeOriginalDomain=a}else if(this.isColumnLike()){var r=this._plot._getBarProperties();a[1]+=m.getPeriod(r.minTimeLevel)/2}e.timeAxis.scale=new A(a,t.getRange(),t.getDomainFixed(),{dataBound:t.getDataBound()})}}};T.prototype._updateTimeScale=function(e,t,i){var a=e.scale;var r=a.getDomain();if(i.recoverDomain){r=this._timeOriginalDomain}i.origin=this._properties.origin;var o=k(r[0],r[1],i);e.scale=new A(o,a.getRange(),a.getDomainFixed(),{dataBound:a.getDataBound()});t.setData(e)};T.prototype._truncateAndExtendWindowInput=function(e,t){var i=this._plot._getBarProperties();i.origin=this._properties.origin;return k(e,t,i)};T.prototype.zoom=function(e){T.superclass.zoom.apply(this,arguments);if(this._isLineChart()){var t=this._properties.origin;if(!t.get("plotArea.marker.visible")){return}var i=this._data;var a=i.timeAxis.scale.getDomainFixed();if(a[0]||a[1]){return}var r=this.getChildrenByPosition("center")[0];if(!r){return}var o={};if(this._timeSeriesMaxLength!==0&&D.isBigDensityMode(r.getRealSize().width,this._timeSeriesMaxLength)){o.linePadding=0;o.recoverDomain=true;this._updateTimeScale(i.timeAxis,this._categoryAxis,o);return}var n=i.timeAxis.scale.getDomain();var l=this._timeOriginalDomain;var s=t.get("plotArea.marker.size")+2;o.showAsUTC=t.get("general.showAsUTC");if(l[1]===l[0]){var u=this.runtime().statusManager().get("timeLevels");var c=u.length?u[0]:["day"];o.linePadding=m.getPeriod(c)/2}else{var h=(l[1]-l[0])/r.getRealSize().width;var p=this._categoryAxis.getChild("axisBody").module;o.linePadding=p.normalizePadding(h*s)}o.recoverDomain=e.x!==1;o.labelTruncate=false;if(e.x!==1||(n[0]===l[0]||n[1]===l[1])){this._updateTimeScale(i.timeAxis,this._categoryAxis,o)}}};T.prototype._adjustTimeDomain=function(){var e=this._data;var t=this._roughSize.width;var i=this._roughSize.height;if(e&&t>0&&i>0){var a={};if(this.isColumnLike()){a=this._plot._getBarProperties();a.labelTruncate=true;a.recoverDomain=false;this._updateTimeScale(e.timeAxis,this._categoryAxis,a)}else if(this._isLineChart()){this._timeOriginalDomain=e.timeAxis.scale.getDomain();this._timeSeriesMaxLength=D.getMaxSeriesLength(e.series)}}};T.prototype.updateValueScale=function(){this._adjustTimeDomain();return T.superclass.updateValueScale.apply(this,arguments)};T.prototype._updateValueScaleDomain=function(e){this._lastValueDomain=e;var t=this._data;var i=this._roughSize.width;var a=this._roughSize.height;if(!t||i<=0||a<=0){return false}var r=[0,1];if(this._plot.isHorizontal()){r[1]=i}else{r[1]=a}r[1]*=.8;var o=this._getValueAxis(this._data).scale;var n=o.getDomain().slice();var l;var s;o.setDomain(e);if(this._isAdjustValueScaleForTopLabel()){l=this._calcValueScaleWithTopLabel(r);s=l.scale.getDomain();this._valueAxis.setData(l,true);this._plot.getData().valueAxis=l}else{l=c.calcScale(o,r,{keepAutoScale:true,isLineChart:this._isLineChart()});s=l.scale.getDomain();o.setDomain(s);o.setRange([0,1]);var u=this._getValueAxis(t);u.tickHint=l.tickHint;this._valueAxis.setData(u,true)}return n[0]!==s[0]||n[1]!==s[1]};T.prototype._getValueRange=function(e,t,i,a){function r(e){return e.timeAxis[0].parsedValue}var o=Infinity;var n=-Infinity;var l=2;if(L(a.min)){o=a.min;l--}if(L(a.max)){n=a.max;l--}var s=/timeseries.*stacked_column/.test(this._renderType);var u=/timeseries.*stacked_combination/.test(this._renderType);var c=s||u;var h=/timeseries_waterfall/.test(this._renderType);if(l){var p=false;var f=[];var v,m,y,_,A=e.length;var b,x,S,D;for(v=0;v<A;++v){b=e[v];if(!b.length){f[v]=null;continue}var w=b,C=[];if(c){w=[];for(y=0,_=0;y<b.length;y++){if(b[y]){w[_]=b[y];C[_]=y;_++}}}x=d.bisearch(w,t,r);if(c){x=C[x]||x}x=Math.min(x,b.length-1);S=d.bisearch(w,i,r);if(c){S=C[S]||S}S=Math.min(S,b.length-1);if(b[x]&&t>r(b[x])){x++}if(b[S]&&r(b[S])>i){S--}if(x>S){f[v]=null}else{f[v]=[x,S];p=true}}var T=this.getData().valueAxis;var z,P;if(s){z=T&&T.range;if(z&&z.length>0){for(v=x;v<z.length&&v<=S;v++){P=z[v];o=Math.min(o,P[0]);n=Math.max(n,P[1])}}}else if(u&&T){var k=T.stackedRange;var E=T.lineRange;var I=k.length>=E.length?k:E;var O=k.length<E.length?k:E;for(v=x;v<I.length&&v<=S;v++){var R=I[v][0];var N=I[v][1];if(O[v]){R=Math.min(R,O[v][0]);N=Math.max(N,O[v][1])}o=Math.min(o,R);n=Math.max(n,N)}}else if(h){var M=this.getData().timeAxis._sortedTimeStampSet;var B=this.getChild("plot");if(B){B.module._visibleRange={min:x,max:S}}if(M){if(!p){x=0;S=M.length-1}var V=0,F=null;for(v=x;v<M.length&&v<=S;v++){for(m=0;m<e.length;m++){var H=e[m][d.bisearch(e[m],M[v],function(e){return e?e.timeAxis[0].parsedValue:0})];if(!H||H.timeAxis[0].parsedValue!==M[v]){continue}if(!F){F=H}V=H.base+H.valueAxis;o=Math.min(o,V);n=Math.max(n,V)}}o=Math.min(o,F.base);n=Math.max(n,F.base)}}else{for(v=0;v<A;++v){b=e[v];if(p){var U=f[v];if(!U){continue}x=U[0];S=U[1]}else{x=0;S=b.length-1}for(m=x;m<=S;++m){D=this._getItemMinMax(b[m],a.feed);if(!g.isNaN(D.min)){o=Math.min(o,D.min)}if(!g.isNaN(D.max)){n=Math.max(n,D.max)}}}}}if(o===Infinity&&n===-Infinity){return null}if(o===0&&n===0){n=1}return[o,n]};T.prototype._getItemMinMax=function(e,t){return{min:e[t],max:e[t]}};T.prototype._isAdjustValueScaleForTopLabel=function(){var e=this._properties.get("plotArea.dataLabel.position")||this._properties.getDefault("plotArea.dataLabel.position");return e==="outside"};T.prototype.getDisplayedTimeDomain=function(){var e=this.getChildrenByPosition("center")[0];var t=e.getRealSize();var i=e.getSize();var a=e.isHorizontal();var r=this._plot.getOffset();var o=false;if(this._data.rawData&&this._data.rawData.dataModel&&this._data.rawData.dataModel._rawData){o=y.isFiscal(this._data.rawData.dataModel._rawData)}return c.getTimeAxisDomain(i,r,t,this._data.rawData.scales.timeAxis.getDomain(),a,o)};T.prototype._scroll=function(e){var t=this.getChildrenByPosition("center")[0];var i=t.getRealSize();var a=t.getSize();var r=t.isHorizontal();if(this._properties.get("interaction.syncValueAxis")&&(r&&i.height>=a.height||!r&&i.width>=a.width)){var o=this._data.rawData;var n=o.dataModel;var l=o.scales;var s=false;if(n&&n._rawData){s=y.isFiscal(n._rawData)}var u=c.getTimeAxisDomain(a,e,i,this._data.timeAxis.scale.getDomain(),r,s);var h=this._getValueAxis(l);var p=this._getValueRange(n.series(),u[0],u[1],h.getOption());if(p==null){p=h.getDomain()}p=C.getValueScaleDomain(this._plot,p,n,u);var d=this._updateValueScaleDomain(p);if(d){var v=this.getChild("timeAxis").module;v.setHasNegativeValue(f.domainWithNegativeValue(p));this.getChild("valueAxis").module.update()}}this._plot.update(e);T.superclass._scroll.apply(this,arguments)};T.prototype._getZoomer=function(){return new b(this)};T.prototype.isColumnLike=function(){return/column|combination|waterfall/.test(this._renderType)};T.prototype.isMultiplySeriesColumn=function(e){var t=false;if(this.isColumnLike()&&e){var i=/timeseries.*stacked_column/.test(this._renderType);var a=/combination/.test(this._renderType);if(!i&&!a){var r=e.series&&e.series();if(r&&r.length>1){t=true}}}return t};T.prototype.isKeepMinimalLevelContinuousTicks=function(e){var t=true;if(this.isColumnLike()&&e){t=false;if(/timeseries_waterfall/.test(this._renderType)){var i=e.series&&e.series();if(i&&i.length===1){t=true}}}return t};T.prototype._getFormatTime=function(e){var t=this._categoryAxis.getFormatTimeValue(e);var i=t.day||"";if(t.day&&t.time){i+=" "+t.time}else if(t.time){i=t.time}return i};T.prototype._getDataRange=function(e,t){var i={start:{},end:{},displayValues:{start:e,end:t}};var a=this.getData().timeAxis;var r=a&&a.scale;if(r){var o=r.getDomain();var n=Math.floor(o[0]+(o[1]-o[0])*e/100);var l=Math.ceil(o[0]+(o[1]-o[0])*t/100);var s=a.metaData[0].id;i.displayValues.start=this._getFormatTime(n);i.displayValues.end=this._getFormatTime(l);i["start"][s]=n;i["end"][s]=l}return i};return T});define("sap/viz/chart/scales/TimeScaleUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a){var r={getDomainInfo:function(r,o){var n=[];var l=i.getDimensionParsedValue;r.forEach(function(e){var t=e.length;if(t){if(!e._sorted){for(var i=0;i<t;++i){if(!e[i]){continue}n.push(l(e[i].timeAxis[0]))}}else{var a=0;for(a=0;a<e.length;a++){if(e[a]){break}}n.push(l(e[a].timeAxis[0]),l(e[t-1].timeAxis[0]))}}});var s=t.extent(n);var u=s[0]==null?Infinity:s[0];var c=s[1]==null?-Infinity:s[1];var h=[u,c];var p=u,d=c;var f=false,v=false;var g=o&&o.allowEqual;if(e.isExist(o)){if(e.isExist(o.start)){if(e.isNumber(o.start)){f=true;p=Number(o.start)}else if(e.isNumber(a.createDateInstance(o.start).getTime())){f=true;p=a.createDateInstance(o.start).getTime()}}if(e.isExist(o.end)){if(e.isNumber(o.end)){v=true;d=Number(o.end)}else if(e.isNumber(a.createDateInstance(o.end).getTime())){v=true;d=a.createDateInstance(o.end).getTime()}}var m=p<d;if(g){m=p<=d}if(m){u=p;c=d}else{f=false;v=false}}return{domain:[Number(u),Number(c)],dataBound:h,domainFixed:[f,v]}}};return r});define("sap/viz/chart/scales/TimeScaleProcessor",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleRepository","sap/viz/framework/scale/ScaleUtil","sap/viz/chart/scales/TimeScale","sap/viz/chart/scales/TimeScaleUtil","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,a,r,o){var n=function(t,o,n,l,s,u,c){if(!e.isExist(n.getDefault(o))){n.add(o,{serializable:true,defaultValue:{feed:o,start:"auto",end:"auto"}})}var h=n.get(o);if(s&&s.allowEqual){h=i.truncateScaleOption(s,h,l)}var p=r.getDomainInfo(s.series,h);var d=new a(p.domain,[0,1],p.domainFixed,{dataBound:p.dataBound});return d};t["timeScale"]=n});define("sap/viz/chart/chains/SeriesIterator",[],function(){function e(e,t){var i=e;var a=t;if(e.length>t.length){i=t;a=e}var r={};var o,n;for(o=0,n=i.length;o<n;++o){r[i[o]]=true}var l=[];for(o=0,n=a.length;o<n;++o){if(r[a[o]]){l.push(a[o])}}return l}function t(e,t){this._seriesBinds=e;this._seriesMeta=t;this._init(e)}var i=t.prototype;i.hasNext=function(){return this._index<this._maxIndex-1};i.next=function(){if(!this.hasNext()){return null}this._increasePivot();var t=this._pivots;var i=this._seriesBinds;var a=this._seriesMeta;var r=null;var o=[];var n;for(var l=0,s=this._bindsLength;l<s;++l){if(!i[l].rowArray){continue}var u=i[l].rowArray[t[l]];n=u.mndIndex;r=r==null?u.reference:e(r,u.reference);o.push({key:a[l],value:u})}var c={index:this._index,reference:r,data:o};if(n!=null){c.mndIndex=n}return c};i._init=function(e){var t=[];var i=1;for(var a=0,r=e.length;a<r;a++){var o=e[a].rowArray||e[a].metaData;var n=o.length;t.push(n);i*=n}this._maxIndex=i;this._bindsLength=r;this._lengthArr=t;this._pivots=t.map(function(){return 0});this._pivots[r-1]=-1;this._index=-1};i._increasePivot=function(){this._index++;var e=this._pivots;var t=this._lengthArr;for(var i=e.length;i--;){e[i]++;if(e[i]<t[i]){break}else{e[i]=0}}};return t});define("sap/viz/chart/chains/TYChains",["sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/ChainUtils","sap/viz/chart/chains/SeriesIterator","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/chains/BaseChains","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/binding/BindingManager","sap/viz/chart/chains/SeriesContext"],function e(t,i,a,r,o,n,l,s,u,c,h,p){var d={};var f="Dimension";var v=["GetDimensionsFromFlattable","OnBindingFinished","getContext"];d=n.extend("ty",v);d.tyOnBindingStart=function(){d.parsedData=null;d.multiDimensionIndex=null};d.tyGetBindingSeries=function(e,t,i,a,r,o,n){y(e,t,i,a,o,n)};function g(e,t){for(var i=0,a=t.length;i<a;i++){if(t[i].id===e){return i}}return-1}function m(e,t,i,a,r){var o;if(t){e.context=[];for(o=0;o<t.length;++o){e.context.push(t[o][a][r])}}if(i){e.addition=[];for(o=0;o<i.length;++o){e.addition.push(i[o][a][r])}}}function y(e,o,n,h,f,v){var y=[];var _=[];var A=[];var b;var x=[];var S=[];var D;var w;var C;var T=[];var z=[];var L;var P;var k,E,I,O;var R=h.seriesType==="bullet";var N,M,B;var V,F;var H=false;var U=null;var W=v&&v.errorOnDuplicate;var G=v&&v.isTimeStacked;f.some(function(e){if(e.sort===true){H=true;U=e.id;return true}return false});for(k=0;k<o.length;++k){var Y=o[k];L=h[Y];if(L){if(Y==="timeAxis"){b=L;D=Y}else{_.push(L);x.push(Y)}T.push(Y)}}var X=-1;for(k=0;k<n.length;++k){M=n[k];L=h[M];if(L){if(M==="bubbleWidth"){X=k}S.push(M);A.push(L);z.push(M)}}var j=v&&v.allowEmptyMeasure;var Z=_.length;var q;var K;var Q,$,J;var ee=h.context?h.context.values:null;var te=h.additionInfo&&h.additionInfo.values;var ie;if(G){ie=i.getAvailableCategories(A,_)}var ae=R?h.actualValues.metaData.length:1;if(Z===0){for(var re=0;re<ae;re++){C=[];C._mndIndex=re;if(b&&b.values&&b.values.length){var oe=b.values[0];if(v&&v.isTimeStacked){oe.sort(function(e,t){if(e&&t){return e.parsedValue-t.parsedValue}else if(!e){return-1}else if(!t){return 1}})}for(var ne=0;ne<oe.length;ne++){P={};var le=oe[ne];for($=0;$<S.length;++$){F=A[$];if(v&&v.isTimeStacked){w=F.values[ne]}else{w=F.values[ne][re]}q=X===$?true:t.isExist(w);if(t.isExist(le)&&(q||v.allowEmptyMeasure)){if(!P[D]){P[D]=[le]}P[S[$]]=w==null?w:+w;if(!q){if(R){P.isNullValue=true}if(v.breakOnEmptyMeasure){P._break=true}}m(P,ee,te,ne,0)}}if(!t.isEmptyObject(P)){if(R){P._cateIndex=ne}C.push(P)}}}y.push(C)}}else{N=i.parseData(e,b.metaData[0].id,d.parsedData);M=S.map(function(t){return h[t].metaData.map(function(t){return i.parseData(e,t.id,d.parsedData)})});K=M.map(function(e){return e[0]});var se;if(R&&ae>1){se=new a(_.concat(A[0]),x.concat(S[0]))}else{se=new a(_,x)}var ue=0;while(se.hasNext()){var ce=se.next();C=y[ce.index]=[];var he=M;var pe=S;if(H){C._mndIndex=0}if(ce.hasOwnProperty("mndIndex")){var de=ce.mndIndex;var fe=g(de,A[0].metaData);_[0].rowArray[se._index].mndIndex=fe;C._mndIndex=fe;he=[M[0][fe]]}else{if(!R){he=K}else{he=M.map(function(e){return e[ue%ae]}).filter(function(e){return!!e})}}B=ce.reference;if(B.length>0&&G){var ve=B.map(function(e){return{index:e,value:N[e]}});if(ve){c.stableSort(ve,function(e,t){if(e.value===t.value&&W){l.error(u.getLogMessage("IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL"))}if(!e.value||!t.value){return-1}if(e.value.parsedValue===t.value.parsedValue&&W){l.error(u.getLogMessage("IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL"))}return e.value.parsedValue-t.value.parsedValue});ve.map(function(e,t){B[t]=e.index})}}var ge=ce.data;for(k=0,I=B.length;k<I;++k){Q=B[k];w=he.map(function(e){return e[Q]});q=w.every(function(e,i){if(i===X){return true}return t.isExist(e)});if(t.isExist(N[Q])&&(j||q)){P={};if(R&&!q){var me=w.every(function(e,i){return!t.isExist(e)});if(me){P.isNullValue=true}}P[D]=[N[Q]];pe.forEach(function(e,t){P[e]=w[t]});ge.forEach(function(e){P[e.key]=e.value});if(!q&&v.breakOnEmptyMeasure){P._break=true}if(!G){m(P,ee,te,Q,0);C.push(P)}else{if(v.dataShapes&&v.dataShapes[C._mndIndex]==="line"){C.push(P)}else{C[ie[ue][k]]=P}var ye=ie[ue][k];m(P,ee,te,ye,ue)}if(!t.isEmptyObject(P)){if(R){P._cateIndex=Q}}}}ue++}}h.dimensions=T;h.measures=z;h.series=y;h.seriesContext=p(y,x,_,A);if(!H){return}var _e=[];var Ae=r.getDimensionParsedValue;var be=function(e,t){return Ae(e[U][0])-Ae(t[U][0])};for(k=y.length;k--;){C=y[k];if(!G||Z===0){c.stableSort(C,be);C._sorted=true}if(!s.isFiscal(e)){C._sorted=true}var xe=_e[C._mndIndex]=_e[C._mndIndex]||[Infinity,-Infinity];var Se=null;for(E=C.length;E--;){var De=C[E];var we=C[E-1];var Ce=Se===null?Ae(De[D][0]):Se;Se=we&&Ae(we[D][0]);if(G&&!De){continue}var Te=De[S];if(Ce===Se){if(W){l.error(u.getLogMessage("IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL"))}if(!t.isExist(we[S])){we[S]=Te}C.splice(E,1)}else{xe[0]=Math.min(xe[0],Te);xe[1]=Math.max(xe[1],Te)}}}if(h.valueAxis2){h.valueAxis2.range=_e}else if(h.valueAxis){h.valueAxis.range=_e}}d.tyGetMeasuresFromFlattable=function(e,t,a,r,o,n,l){d.parsedData=i.getData(e,r,d.parsedData,l);var s=[],u=[];var h=/bubbleWidth/.test(n);for(var p=0;p<t.length;p++){var f=s[p]=i.parseData(e,t[p],d.parsedData);if(h){f=f.slice();f.forEach(function(e,t){if(e==null){f[t]=0}if(e<0){f[t]=-e}})}u[p]=c.extent(f.filter(function(e){return e!=null}).map(function(e){return+e}))}if(a.length!==s.length&&s.length>1){s=[s[s.length-1]];t=[t[t.length-1]];u=[u[u.length-1]]}return{values:c.transpose(s),metaData:i.buildMetaData(e,t),range:u}};Object.keys(d).forEach(function(e){h.registerChain(e,d[e])});return d});define("sap/viz/chart/behavior/config/handler/TimeLassoBehaviorHandler",["sap/viz/framework/common/util/oo","sap/viz/chart/behavior/config/handler/LassoBehaviorHandler","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/interaction/Constants"],function(e,t,i,a,r,o,n){var l=function(){};e.extend(l,t);l.prototype.processTimeRange=function(e,t){if(t.getStatus("rangeSelection")){var i=t.getModule("main.plot");var a=i.getRealSize();var n=i.getSize();var l=i.getOffset();var s=t.getBBox(t.BoxType.PLOT_BOUND_NODE);var u=t.getBBox(t.BoxType.RANGE_SELECTION);var c=t.getTransformScaleRatio();u.width=u.width/s.width*n.width;var h={x:l.x-(u.left-s.left)/s.width*n.width,y:0};var p=t.getExtendTimeRange();h.x*=c.x;h.y*=c.y;a.width*=c.x;a.height*=c.y;var d=false;var f=t.getDataModel();if(f&&f._rawData){d=o.isFiscal(f._rawData)}var v=r.getTimeAxisDomain(u,h,a,p,i.isHorizontal(),d);if(d){v[0]=parseInt(o.quantityToFiscal(Math.round(v[0]),t.getProperties()).fiscalString);v[1]=parseInt(o.quantityToFiscal(Math.round(v[1]),t.getProperties()).fiscalString);e.data.isConvertedFiscalStamp=true}else{v[0]=Math.round(v[0]/100)*100;v[1]=Math.round(v[1]/100)*100}t.setStatus("rangeDomain",v);t.fireEvent("showDetail",e.data)}};l.prototype.refreshTimeRange=function(e,t){var i=t.getProperties().get("interaction.selectability.mode");var a=i?i.toUpperCase():i;var r=t.getProperties().get("interaction.selectability.plotLassoMode");if(!(r!=="range"||!t.getStatusManager().get("interaction.holdSelection")||a===n.SELECTION_MODE.NONE||a===n.SELECTION_MODE.SINGLE)){this._lassoDecoration.rangeRecover(e)}t._rootNode.node().style.cursor="default"};l.prototype.rangeRecover=function(e,t){this._lassoDecoration.rangeRecover(e)};l.prototype.changeRangeEffect=function(e,t){this._lassoDecoration.changeRangeEffect(e)};l.prototype._getStartEnd=function(e,t){var i=e.getDataModel();if(i&&i._rawData&&o.isFiscal(i._rawData)){t.start=o.fiscalToQuantity(t.start,e.getProperties());t.end=o.fiscalToQuantity(t.end,e.getProperties())}return t};l.prototype._postProcessTargets=function(e,t){t=l.superclass._postProcessTargets.apply(this,arguments);var r=e.getProperties().get("interaction.selectByTimeAxisGroup");if(r){var o=[];t.forEach(function(t){if(o.indexOf(t)===-1){var r=e.getNodes(e.NodeType.DATA_POINT_GROUP,false)[0];var n=i.findByDataPointId(r,t);var l=a.getDataPointsByTimeField(n,e).map(function(e){return i.getDataPointId(e)});o=o.concat(l)}});if(o.length>0){t=o}}return t};return l});define("sap/viz/chart/behavior/config/TimeLassoBehaviorConfig",["sap/viz/chart/behavior/config/handler/TimeLassoBehaviorHandler","sap/viz/framework/interaction/BehaviorManager"],function(e,t){var i="v-m-root";var a=["info/timeseries_line","info/timeseries_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_stacked_combination","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];var r=[{id:"timeLassoBehaviorDefinition",handler:e,handlerType:"class",triggerEvent:[{name:"standAloneInitialized",method:"standAloneInitialized"},{name:"afterBehaviorLoaded",method:"initialized"},{name:"beforeBehaviorUnloaded",method:"unloadClear"},{name:"lassostart",targets:i,supportedChartTypes:a,excludeTargets:"v-m-scrollbarThumb",method:"lassoStart"},{name:"lassomove",supportedChartTypes:a,targets:i,method:"lassoMove"},{name:"lassoend",supportedChartTypes:a,targets:i,method:"lassoEnd"},{name:"afterChartRendered",targets:i,method:"refreshTimeRange",supportedChartTypes:a},{name:"rangeRecover",targets:i,method:"rangeRecover",supportedChartTypes:a},{name:"timeRangeChanged",targets:i,method:"processTimeRange",supportedChartTypes:a},{name:"changeRangeEffect",targets:i,method:"changeRangeEffect",supportedChartTypes:a}]}];t.registerAll(r);return r});define("sap/viz/chart/views/TimeYChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plotareas/TimeYPlotArea","sap/viz/chart/components/legend/CombinationLegend","sap/viz/chart/components/legend/LineLegend","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/TextUtils","sap/viz/chart/scales/TimeScaleProcessor","sap/viz/chart/chains/TYChains","sap/viz/chart/dynamicScales/StackedDyScaleProcessor","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function e(t,i,a,r,o,n,l,s){var u=function(e,t){u.superclass.constructor.apply(this,arguments);this._supportLazyRender=true};t.extend(u,i);u.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments)}u.superclass.setSize.apply(this,arguments)};u.prototype._getDataItems=function(){return["valueAxis","timeAxis","color","series","seriesContext"]};u.prototype._getLegendInitOptions=function(){return[{noFillSupport:true}]};u.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};u.prototype.isBar=function(){return this._renderType.search(/bar|column/)!==-1&&!/timeseries.*column/.test(this._renderType)};u.prototype.isCombination=function(){return this._renderType.search(/combination/)!==-1};u.prototype.isLine=function(){return this._renderType.indexOf("line")!==-1};u.prototype._getLegendDefinition=function(){if(this.isCombination()){return[r]}else if(this.isLine()){return[o]}else{return u.superclass._getLegendDefinition.apply(this,arguments)}};u.prototype._getLegendInitOptions=function(){if(this.isBar()){return[{noFeeding:true,noFillSupport:true}]}else{return[{noFillSupport:true}]}};u.prototype.calculatePaddingInPX=function(e){var t=u.superclass.calculatePaddingInPX.apply(this,arguments);if(e.get("title.visible")===false&&e.get("valueAxis.visible")===true){this.changePaddingTop(e,t)}return t};return u});define("sap/viz/chart/metadata/bindings/TimeYBindings",[],function e(){var t=[{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:true,role:"layout.time"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"}];return t});define("sap/viz/chart/components/plotareas/TimeBulletPlotArea",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plotareas/TimeYPlotArea","sap/viz/chart/components/plotareas/BulletPlotArea","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,a){function r(){r.superclass.constructor.apply(this,arguments)}e.extend(r,t);r.prototype.isColumnLike=function(){return true};r.prototype._getValueAxis=function(e){return e.actualValues};r.prototype._getItemMinMax=function(e){var t=e["actualValues"];var i=e["additionalValues"];var r=e["targetValues"];var o=a.isNumber(t)&&a.isNumber(i)?i+t:undefined;var n=[t,i,o,r].filter(a.isNumber);var l=n.length>0?Math.min.apply(null,n):undefined;var s=n.length>0?Math.max.apply(null,n):undefined;return{min:l,max:s}};r.prototype.updateValueScale=function(){var e=this._data;var t=this._roughSize.width;var a=this._roughSize.height;if(this.isColumnLike()&&e&&t>0&&a>0){this._updateTimeScale(e.timeAxis,this._categoryAxis,{minTimeLevel:(this.runtime().statusManager().get("timeLevels")||[])[0]||["day"],showAsUTC:this.properties("general.showAsUTC")})}return i.prototype.updateValueScale.apply(this,arguments)};return r});define("sap/viz/chart/chains/TBulletChains",["sap/viz/chart/chains/BaseChains","sap/viz/chart/chains/TYChains","sap/viz/chart/chains/BulletChains","sap/viz/framework/common/util/BulletUtils","sap/viz/framework/binding/BindingManager"],function e(t,i,a,r,o){var n={};n=t.extend("tBullet",[]);Object.keys(i).forEach(function(e){var t=e.replace(/^ty/,"tBullet");n[t]=i[e]});n.tBulletGetBindingSeries=function(e,t,a,o,n,l,s){i.tyGetBindingSeries(e,t,a,o,n,l,s);r.bulletSetMinMax(o)};n.tBulletGetMeasuresFromFlattable=a.bulletGetMeasuresFromFlattable;Object.keys(n).forEach(function(e){o.registerChain(e,n[e])});return n});define("sap/viz/chart/views/TimeBulletChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/BulletChartView","sap/viz/chart/components/plotareas/TimeBulletPlotArea","sap/viz/chart/scales/BulletColorScale","sap/viz/chart/chains/TBulletChains","sap/viz/chart/scales/TimeScaleProcessor","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function(e,t,i,a){var r=function(){r.superclass.constructor.apply(this,arguments)};e.extend(r,t);r.prototype._getDataItems=function(){return["actualValues","additionalValues","color","series","timeAxis","targetValues","forecastValues"]};r.prototype._createPlotContainer=function(){this._plotArea=new i(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};r.prototype._dataChanged=function(){if(this._data&&!this._data.color){this._data.color=this._createSeries(this._data)}r.superclass._dataChanged.apply(this,arguments)};r.prototype._createSeries=function(e){var t="actualValues,additionalValues,forecastValues,targetValues".split(",").reduce(function(t,i){if(e[i]&&e[i].metaData){t[i]=e[i].metaData.map(function(e){return e.name||e.id})}return t},{});return{scale:new a([],this.runtime()._propertyMgr,{mnds:t})}};return r});define("sap/viz/chart/metadata/bindings/TimeBulletBindings",[],function(){return[{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:true,role:"layout.time"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"mark.color"},{id:"actualValues",name:"IDS_PRIMARY_VALE",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"additionalValues",name:"IDS_ADDITIONAL_VALE",type:"Measure",min:0,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"targetValues",name:"IDS_TARGETVALUES",type:"Measure",min:0,max:Number.POSITIVE_INFINITY,role:"mark.target"}]});define("sap/viz/chart/metadata/bindings/TimeYCombinationBindings",[],function e(){var t=[{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:true,configurable:false,role:"layout.time"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:1,max:1,MNDOnly:true,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:2,max:Number.POSITIVE_INFINITY,role:"layout.value"}];return t});define("sap/viz/chart/components/plotareas/TimeYYPlotArea",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/plotareas/TimeYPlotArea","sap/viz/chart/components/plotareas/XYYPlotArea","sap/viz/chart/components/plots/TYPlotFactory","sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/datalabels/BarDataLabels","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/chart/components/axis/TimeAxis"],function(e,t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m){var y=function(e,t){y.superclass.constructor.apply(this,arguments)};t.extend(y,a);var _=y.prototype;_._getPlotOptions=function(){return{isDualValueAxis:true}};_.setData=function(e){y.superclass.setData.apply(this,arguments);this._applyDefaultProperties(e)};_._applyDefaultProperties=function(e){r.prototype._applyDefaultProperties.apply(this,arguments)};_.allOrNone=function(e,t){r.prototype.allOrNone.apply(this,arguments)};_._init=function(){this._plot=n.create(this._renderType,o.getPlotClazz(this._renderType),this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var t=!this._properties.get("interaction.noninteractiveMode");this.setLayoutSequence(["left","right",this.allOrNone.bind(this),"bottom","top"]);this._categoryAxis=new m(this.runtime(),{name:"timeAxis",hasScrollbar:t,isColumnLike:this.isColumnLike(),rawData:this._rawData});this.setChild("timeAxis",this._categoryAxis,{position:"bottom"});this._valueAxis=new l(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});this._valueAxis2=new l(this.runtime(),{name:"valueAxis2"});this.setChild("valueAxis2",this._valueAxis2,{position:"right"});if(t){this._hScrollbar=this._categoryAxis.getChild(e.AXIS.SCROLLBAR_NAME).module}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);this._valueAxis2.setPercentageMode(true)}this.getZoomer().init({main:this,plot:this._plot,isHorizontal:false})};_._preRender=function(){y.superclass._preRender.apply(this,arguments);this._runtime.statusManager().add("globalDomain2",{value:this._valueAxis2._scale.getDomain(),readonly:true})};_.updateValueScale=function(){this._adjustTimeDomain();return r.prototype.updateValueScale.call(this)};_._updateValueScaleDomain=function(e,t){var i=this._data;var a=this._roughSize.width;var r=this._roughSize.height;if(!i||a<=0||r<=0){return false}var o=[0,1];if(this._plot.isHorizontal()){o[1]=a}else{o[1]=r}o[1]*=.8;var n=i[t].scale;var l=n.getDomain().slice();n.setDomain(e);var u=s.calcScale(n,o,{keepAutoScale:true,isLineChart:this._isLineChart()});e=u.scale.getDomain();n.setDomain(e);i[t].tickHint=u.tickHint;i[t].scale.setRange([0,1]);this["_"+t].setData(i[t],true);return l[0]!==e[0]||l[1]!==e[1]};_._scroll=function(e){var t=this.getChildrenByPosition("center")[0];var i=t.getRealSize();var r=t.getSize();var o=t.isHorizontal();if(this._properties.get("interaction.syncValueAxis")&&(o&&i.height>r.height||!o&&i.width>r.width)){var n=this._data.rawData;var l=n.dataModel;var u=n.scales;var c=false;if(l&&l._rawData){c=g.isFiscal(l._rawData)}var h,p=s.getTimeAxisDomain(r,e,i,this._data.timeAxis.scale.getDomain(),o,c);var f=this._getValueRange(l.series().filter(function(e){for(var t=0;t<e.length;t++){if(e[t]){return e[t].hasOwnProperty("valueAxis")}}return false}),p[0],p[1],u.valueAxis.getOption());if(f==null){f=u.valueAxis.getDomain()}var v=this._updateValueScaleDomain(f,"valueAxis");if(v){h=this.getChild("timeAxis").module;h.setHasNegativeValue(d.domainWithNegativeValue(f));this.getChild("valueAxis").module.update()}var m=this._getValueRange(l.series().filter(function(e){for(var t=0;t<e.length;t++){if(e[t]){return e[t].hasOwnProperty("valueAxis2")}}return false}),p[0],p[1],u.valueAxis2.getOption());if(m==null){m=u.valueAxis2.getDomain()}var y=this._updateValueScaleDomain(m,"valueAxis2");if(y){h=this.getChild("timeAxis").module;h.setHasNegativeValue(d.domainWithNegativeValue(m));this.getChild("valueAxis2").module.update()}}this._plot.update(e);a.superclass._scroll.apply(this,arguments)};return y});define("sap/viz/chart/views/TimeYYChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/TimeYChartView","sap/viz/chart/components/plotareas/TimeYYPlotArea","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/scales/ShapeScaleProcessor","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function e(t,i,a){var r=function(e,t){r.superclass.constructor.apply(this,arguments)};t.extend(r,i);r.prototype._getDataItems=function(){return["valueAxis","valueAxis2","timeAxis","color","color2","series"]};r.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};return r});define("sap/viz/chart/metadata/bindings/TimeYYBindings",[],function e(){var t=[{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:true,configurable:false,role:"layout.time"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:1,max:1,MNDOnly:true,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"valueAxis2",name:"IDS_VALUE_AXIS2",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.secondValue"}];return t});define("sap/viz/chart/metadata/bindings/TimeYStackedCombinationBindings",[],function e(){var t=[{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:true,role:"layout.time"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:2,max:Number.POSITIVE_INFINITY,role:"layout.value"}];return t});define("sap/viz/chart/metadata/bindings/YYTimeBindings",[],function e(){var t=[{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"mark.color"},{id:"shape",name:"IDS_SHAPE",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:false,role:"mark.shape"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:1,role:"layout.value"},{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:false,role:"layout.time"},{id:"bubbleWidth",name:"IDS_BUBBLESIZE",type:"Measure",min:1,max:1,role:"mark.size"}];return t});define("sap/viz/chart/components/datalabels/StackedWaterfallDataLabels",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/datalabels/DataLabels"],function(e,t,i,a,r,o){var n=[0,1];var l=function(e,t){l.superclass.constructor.apply(this,arguments);this._labelPosition="stackedWaterfall"};e.extend(l,o);l.prototype.verticalLabelOffset=-3;l.prototype.horizontalLabelOffset=6;l.prototype._getStyle=function(e){var t=this._properties;var i=l.superclass._getStyle.apply(this,arguments);var a=r.getContext(e);if(a&&a.hasOwnProperty("Type")&&this._data.waterfallTypeScale.scale(a.Type)!==0){i["font-weight"]="bold";i["cssString"]="fill:"+i.fill+";font-family:"+t.get("style.fontFamily")+";font-size:"+t.get("style.fontSize")+";font-weight:"+"bold"+";font-style:"+t.get("style.fontStyle")+";"}return i};l.prototype.hideConditional=function(e){for(var t=e.length-1;t>=0;t--){var a=e[t];var o=a.node;var n=r.getContext(o);var s=this._data.waterfallTypeScale.scale(n?n.Type:null);if(this.isDataLabelOutOfDataPoint(o,a)&&s!==1){i.remove(o);e.splice(t,1)}}return l.superclass.hideConditional.apply(this,arguments)};l.prototype.sortDataLabelInfos=function(e){var t,i,a,o;var l=this;e.sort(function(e,s){t=r.getContext(e.node);a=l._data.waterfallTypeScale.scale(t?t.Type:null);i=r.getContext(s.node);o=l._data.waterfallTypeScale.scale(i?i.Type:null);return n.indexOf(a)-n.indexOf(o)})};l.prototype._computeDataLabelPosition=function(e,t,i,a,r,o){var n,l;var s=t.x+e.e;var u=t.y+e.f;var c=this._horizontal?this.horizontalLabelOffset:this.verticalLabelOffset;if(this._horizontal){l=u+t.height/2-(a.y+a.height/2);if(this._data.waterfallTypeScale.scale(r.ctx.Type)!==0){n=s+t.width+c}else{n=s+t.width/2-(a.x+a.width/2)}}else{n=s+t.width/2-(a.x+a.width/2);if(this._data.waterfallTypeScale.scale(r.ctx.Type)!==0){l=u-(a.y+a.height);if(l+a.y<0){l=-a.y-c}else{l=l+c}}else{l=u+t.height/2-(a.y+a.height/2)}}return[n,l]};l.prototype.drawZero=function(e){return false};return l});define("sap/viz/chart/components/plots/StackedWaterFallPlot",["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/SVG","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/plots/WaterFallPlot","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/plots/DataHandler","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/datalabels/StackedWaterfallDataLabels","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/util/WaterfallUtils"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b){var x=function(e,t){x.superclass.constructor.apply(this,arguments)};t.extend(x,r);x.prototype._isSupportNoFill=function(){return false};var S=.5;var D=y.CSS.CLASS.WATERFALL_LINKLINE;x.prototype.setData=function(e){if(e&&e.waterfallType&&e.waterfallType.scale){e.waterfallTypeScale=e.waterfallType.scale}x.superclass.setData.apply(this,arguments);return this};x.prototype.render=function(e){var t=this._size.width,i=this._size.height;this._size.width=t<0?0:t;this._size.height=i<0?0:i;x.superclass.render.apply(this,arguments)};x.prototype._getDataHandler=function(){return{valueAxis:s.getSTKWTFHandler()}};x.prototype._getXPosition=function(e,t,i){var a=this._dataHandler;var r=this._xHandlers[0];return o.prototype._getXYPosition.call(this,e,t,i,r,a[r.id])};x.prototype._getYPosition=function(e,t,i){var a=this._dataHandler;var r=this._yHandlers[0];return o.prototype._getXYPosition.call(this,e,t,i,r,a[r.id])};x.prototype._getValueScaleHandlers=function(e){return[l.getWTFScaleHandler("valueAxis",{isHorizontal:this.isHorizontal()})]};x.prototype._drawDatapoints=function(e){var t={validAxisData:this._needValidEmptyAxisData()};w.call(this,e,t)};x.prototype._updateDatapoints=function(e){var t={updateOnly:true,validAxisData:this._needValidEmptyAxisData()};w.call(this,e,t)};function w(e,t){var i=false;var r=false;if(t&&t.hasOwnProperty("updateOnly")){i=t.updateOnly}if(t&&t.hasOwnProperty("validAxisData")){r=t.validAxisData}var o=this._getSeries();var n=o.length;var l;if(i){l=e.select("."+y.CSS.CLASS.DATAPOINT_GROUP).node()}else{l=a.create("g");l.setAttribute("class",y.CSS.CLASS.DATAPOINT_GROUP)}if(!i&&this._seriesRenderer){this._seriesRenderer.init(n)}for(var s in this._dataHandler){if(this._dataHandler[s].reset){this._dataHandler[s].reset()}}var u;var c=0;var h=[],p;this._selection.selectAll("."+D).remove();var d=a.create("g");for(var f=0;f<n;f++){var v=o[f];if(!v){continue}var g=null;for(var A=0;A<v.length;A++){var b=v[A];if(!b){continue}if(r===true){var x=b.valueAxis===undefined||b.valueAxis===null;var S=b.valueAxis2===undefined||b.valueAxis2===null;if(x&&S){continue}}var w=this._getPosition(f,A,b);if(!w){continue}u=c++;var C=b.dp.context();if(C[C.measureNames]===null){C[C.measureNames]=b.valueAxis}var T=this._buildWrapperConfig(b,w,C);if(!g){g="valueAxis"}h[A]=h[A]||{};p=h[A][g]=h[A][g]||{configs:[],positions:[],currentIds:[],dataPoints:[]};if(i){if(!p.node){var z=m.find(l,u);var L=z;while((L=L.parentNode)&&!_.hasClass(L,y.CSS.CLASS.STACK)){}p.node=L}}else{var P=this._buildData(T);p.data=p.data||[];p.data.push(P)}p.configs.push(T);p.dataPoints.push(b.dp);p.positions.push(w);p.currentIds.push(u)}}var k=this._getDataPointRenderer(f);for(var E=0;E<h.length;E++){var I=h[E];for(var O in I){if(I.hasOwnProperty(O)){p=I[O];if(!p){continue}var R=this._drawCategory(p,k,[]);if(R){l.appendChild(R)}}}}if(h.length>1){this._drawLine(d,h)}l.appendChild(d);if(!i){this._postRender(l);e.node().appendChild(l);this._dataLabels._gridlineScale=this._gridlineScale;this._drawDataLabels(e,l)}else{var N=e.selectAll("."+y.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(e,N)}}x.prototype._getGap=function(){var e,t;if(this.isHorizontal()){e=this._getYPosition(0,0,{valueAxis:0,total:0,base:0});t=this._getYPosition(0,1,{valueAxis:0,total:0,base:0});return t[0]-e[0]}else{e=this._getXPosition(0,0,{valueAxis:0,total:0,base:0});t=this._getXPosition(0,1,{valueAxis:0,total:0,base:0});return t[0]-e[0]}};x.prototype._getHorizontalLine=function(e,t,i,a,r){var o,n,l;var s;var u=S;var c=e.length-1;var h=e[0];var p=t[0];var d=this._getGap();var f=d-p.height;var v=h.ctx[h.ctx.measureNames]<0;if(1===i||2===i){h=e[c];p=t[c];v=h.ctx[h.ctx.measureNames]<0;s=!v?Math.round(p.x+p.width):Math.round(p.x+u);if(a!==0){o={y1:Math.round(p.y-f/2),y2:Math.round(p.y+p.height)};o.x1=o.x2=s}if(a!==this._data.series[0].length-1){n={y1:Math.round(p.y),y2:Math.round(p.y+p.height+f/2)};n.x1=n.x2=s}if(i===2){h=e[0];p=t[0];v=h.ctx[h.ctx.measureNames]<0;l={y1:Math.round(p.y-d*r),y2:Math.round(p.y+p.height)};s=!v?Math.round(p.x):Math.round(p.x+p.width+u);l.x1=l.x2=s}}else{if(a!==0){o={y1:Math.round(p.y-f/2),y2:Math.round(p.y+p.height)};s=!v?Math.round(p.x):Math.round(p.x+p.width+u);o.x1=o.x2=s}h=e[c];p=t[c];v=h.ctx[h.ctx.measureNames]<0;if(a!==this._data.series[0].length-1){n={y1:Math.round(p.y),y2:Math.round(p.y+p.height+f/2)};s=!v?Math.round(p.x+p.width):Math.round(p.x+u);n.x1=n.x2=s}}return{lLine:o,rLine:n,subLine:l}};x.prototype._getVerticalLine=function(e,t,i,a,r){var o,n,l;var s;var u=S;var c=e.length-1;var h=e[0];var p=t[0];var d=this._getGap();var f=d-p.width;var v=h.ctx[h.ctx.measureNames]<0;if(1===i||i===2){h=e[c];p=t[c];v=h.ctx[h.ctx.measureNames]<0;s=!v?Math.round(p.y):Math.round(p.y+p.height+u);if(a!==0){o={x1:Math.round(p.x-f/2),x2:Math.round(p.x+p.width)};o.y1=o.y2=s}if(a!==this._data.series[0].length-1){n={x1:Math.round(p.x),x2:Math.round(p.x+p.width+f/2)};n.y1=n.y2=s}if(i===2){h=e[0];p=t[0];v=h.ctx[h.ctx.measureNames]<0;l={x1:Math.round(p.x-d*r),x2:Math.round(p.x+p.width)};s=!v?Math.round(p.y+p.height):Math.round(p.y+u);l.y1=l.y2=s}}else{if(a!==0){o={x1:Math.round(p.x-f/2),x2:Math.round(p.x+p.width)};s=!v?Math.round(p.y+p.height):Math.round(p.y+u);o.y1=o.y2=s}h=e[c];p=t[c];v=h.ctx[h.ctx.measureNames]<0;if(a!==this._data.series[0].length-1){n={x1:Math.round(p.x),x2:Math.round(p.x+p.width+f/2)};s=!v?Math.round(p.y):Math.round(p.y+p.height+u);n.y1=n.y2=s}}return{lLine:o,rLine:n,subLine:l}};x.prototype._drawLine=function(e,t){var i=this._properties.get("linkline.visible");if(!i){return}var a=[];var r;var o,n;for(o=0;o<t.length;o++){var l=t[o];for(var s in l){if(l.hasOwnProperty(s)){n=l[s];if(!n){continue}var u=n.configs;var c=true;for(var h=0;h<u.length;h++){if(null!==u[h].ctx[u[h].ctx.measureNames]){c=false;break}}if(c){continue}var p=null;var d=this._data.waterfallType.values;if(d&&d.hasOwnProperty(o)){if(A.isArray(d[o])){p=d[o][d[o].length-1]}else{p=d[o]}}var f=this._data.waterfallType.scale.scale(p);var v=this._getChildNumScale(p);if(this.isHorizontal()){r=this._getHorizontalLine(u,n.positions,f,o,v)}else{r=this._getVerticalLine(u,n.positions,f,o,v)}if(r.lLine){a.push(r.lLine)}if(r.rLine){a.push(r.rLine)}if(2===f){a.push(r.subLine)}}}}b.drawLines(a,this._properties,this.isHorizontal(),e,true)};x.prototype._getDataLabels=function(e,t){this._datalabels=new v(t,{name:e,horizontal:this.isHorizontal()});return this._datalabels};x.prototype._buildWrapperConfig=function(e,t,i){var a=x.superclass._buildWrapperConfig.apply(this,arguments);var r=this._data.waterfallType.scale.scale(e.waterfallType);if(1===r&&!a.matchSemantic){var o=this._properties.get("dataPoint.color.total");var n=this._effectManager;if(o&&n.isColorProp(o)){a.graphic.fill=n.parseColorProperty(o,a.graphic.fill)}else{a.graphic.fill=o}}return a};x.prototype._getChildNumScale=function(e){return this._data.waterfallType.scale.childrenNum(e)};return x});define("sap/viz/chart/components/plots/WaterFallPlotFactory",["jquery","sap/viz/chart/components/plots/WaterFallPlot","sap/viz/chart/components/plots/StackedWaterFallPlot"],function(e,t,i){var a={waterfall:{plotClazz:t},stacked_waterfall:{plotClazz:i},horizontal_waterfall:{plotClazz:t},horizontal_stacked_waterfall:{plotClazz:i}};return{getPlotClazz:function(e){var t=a[e];return t&&t.plotClazz}}});define("sap/viz/chart/components/axis/renderer/WaterfallCategoryBodyRenderer",["sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer","sap/viz/framework/common/util/oo"],function(e,t,i){var a=function(){a.superclass.constructor.apply(this,arguments)};i.extend(a,t);a.prototype._createLabelStyle=function(t,i){a.superclass._createLabelStyle.apply(this,arguments);this._propStyleTotal=e.clone(this._propStyle);this._propStyleTotal.fontWeight="bold"};a.prototype._getLabelStyle=function(t,i){if(t&&t._waterfallType!==undefined&&t._waterfallType!==0){return e.clone(this._propStyleTotal)}return a.superclass._getLabelStyle.apply(this,arguments)};return a});define("sap/viz/chart/components/axis/sub/WaterfallCategoryAxisBody",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/axis/sub/CategoryAxisBody","sap/viz/chart/components/axis/renderer/WaterfallCategoryBodyRenderer"],function(e,t,i,a){var r=function(){r.superclass.constructor.apply(this,arguments);this.setBodyRenderer(new a)};e.extend(r,i);r.prototype._buildLayers=function(e){var i=r.superclass._buildLayers.apply(this,arguments);if(e._waterfallType&&i&&i.length>0&&i[i.length-1].cells){var a=e._waterfallType.values;if(a){var o=a.length;var n=i[i.length-1].cells;for(var l=0;l<n.length;l++){var s=null;if(t.isArray(a[l])){for(var u=0;u<a[l].length;u++){if(a[l][u]!==undefined){s=a[l][u];break}}}else{s=a[l]}n[l]._waterfallType=e._waterfallType.scale.scale(l<o?s:null)}}}return i};r.prototype.getLayoutCellsConfig=function(){var e=r.superclass.getLayoutCellsConfig.apply(this,arguments);if(e&&e.propStyle){e.propStyle.fontWeight="bold";if(e.propParentStyle){e.propParentStyle.fontWeight="bold"}}return e};return r});define("sap/viz/chart/components/axis/WaterfallCategoryAxis",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/components/axis/sub/WaterfallCategoryAxisBody"],function(e,t,i){var a=function(e,t){a.superclass.constructor.apply(this,arguments)};e.extend(a,t);a.prototype.setData=function(e,t){if(e&&e.hasOwnProperty("categoryAxis")){a.superclass.setData.call(this,e.categoryAxis,t);this._hasNegativeValue=t;if(e.categoryAxis.scale){this._scale=e.categoryAxis.scale;this._scale._waterfallType=e.waterfallType}}};a.prototype._setAxisBody=function(e,t){this.setChild("axisBody",new i(e,t),{order:1,priority:2,offset:0})};return a});define("sap/viz/chart/components/plotareas/WaterfallPlotArea",["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/WaterFallPlotFactory","sap/viz/chart/components/plotareas/XYPlotArea","sap/viz/chart/components/axis/WaterfallCategoryAxis","sap/viz/framework/common/util/DataUtils"],function e(t,i,a,r,o){var n=.8;var l=function(e,t){l.superclass.constructor.apply(this,arguments)};t.extend(l,a);l.prototype._setAxisData=function(e){this._categoryAxis.setData(e,o.hasNegativeValue(e))};l.prototype._isAdjustValueScaleForTopLabel=function(){return true};l.prototype._getCategoryAxisClass=function(){return r};l.prototype._isHorizontal=function(){return this._renderType.indexOf("horizontal")>-1};l.prototype._getPlotClazz=function(e){return i.getPlotClazz(e)};return l});define("sap/viz/chart/components/legend/WaterFallLegend",["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/ColorLegend","sap/viz/chart/components/legend/LineLegend","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/ColorScale","sap/viz/framework/scale/ColorShapeScaleMerger","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/StatusConstants","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,a,r,o,n,l,s,u){var c=a.CSS.CLASS.LEGENDITEM,h="v-legend-element";var p=["positiveValue","negativeValue","total"];var d="measureNames";var f=function(e,t){f.superclass.constructor.apply(this,arguments);this._labelText={total:null,positiveValue:null,negativeValue:null};this._legendColor={total:null,positiveValue:null,negativeValue:null};this._isSemanticColoring=null;this._colorPalette=null;this._validItems=null;this._recapVisible=null};e.extend(f,t);function v(e,t){var i;if(t&&t.valueAxis&&t.valueAxis.metaData&&t.valueAxis.metaData[0]){i=t.valueAxis.metaData[0].id}else{return}var a=[];var o=[];var n=[];var l,s;var u=e._validItems;var c=false;for(var h=0;h<u.length;h++){l=u[h];if(e._isSemanticColoring||l==="total"){n.push(e._legendColor[l]);o.push([e._labelText[l]])}else{if(n.indexOf(e._colorPalette[0])<0){n.push(e._colorPalette[0])}if(!c){e._validItems=e._validItems.filter(function(e){return e==="total"});e._validItems.unshift(i);o.push([i]);c=true}}}if(!e._isSemanticColoring&&t.color){a.push(t.color)}else{var p=new r(o,n),f=[{id:d,type:"Dimension",values:t.valueAxis.metaData}];a.push({scale:p,metaData:f})}e.setColorScale(a)}function g(e,t){e.sort(function(e,i){return t.indexOf(e)-t.indexOf(i)});return e}f.prototype._initColorShapeScale=function(){f.superclass._initColorShapeScale.apply(this,arguments);var e=this.runtime().semanticManager();var t,i;if(!(e.hasDataPointColorStyle()&&e.isOverrideMode())&&this._colorShapeScale){var a=this._colorShapeScale.getLength();var r=this._validItems;var o=0;for(var n=0;n<a;n++){if(!this._colorShapeScale.getItem(n).isSemanticItem){t=r[o++];i=this._buildLegendContext(t);this._colorShapeScale.setContext(n,i)}}}};f.prototype._constructTitle=function(e){var t="",i=this.runtime().semanticManager(),a=i.isOverrideMode()&&i.hasDataPointColorStyle();if(this._isSemanticColoring&&!a){var r=e[0];if(r.values.length>1){t=n.get("IDS_DEFAULTMND")}else{var o=r.values[0];t=o.name||o.id}}else{t=f.superclass._constructTitle.apply(this,arguments)}return t};f.prototype.render=function(e,t){this._getLegendProperties();v(this,this._data);f.superclass.render.apply(this,arguments)};f.prototype._getLegendProperties=function(){this._labelText.total=this._properties.get("label.text.total")||n.get("IDS_SEMANTICTOTAL");var e=this._properties.get("label.text.positiveValue");if(e===null||e===""){e=n.get("IDS_INCREASING")}this._labelText.positiveValue=e;var t=this._properties.get("label.text.negativeValue");if(t===null||t===""){t=n.get("IDS_DECREASING")}this._labelText.negativeValue=t;this._legendColor.total=this._properties.origin.get("plotArea.dataPoint.color.total");this._legendColor.positiveValue=this._properties.origin.get("plotArea.dataPoint.color.positive");this._legendColor.negativeValue=this._properties.origin.get("plotArea.dataPoint.color.negative");this._isSemanticColoring=this._properties.origin.get("plotArea.dataPoint.color.isSemanticColoring");this._colorPalette=this._properties.origin.get("plotArea.colorPalette");this._recapVisible=this._properties.origin.get("plotArea.dataLabel.showRecap");this._recapColor=this._properties.origin.get("plotArea.linkline.color")};f.prototype.setData=function(e){this._data=e;this._getLegendProperties();this._validItems=this._getShownLegendItem(e);v(this,e);return this};f.prototype._buildLegendContext=function(e){var t=[];var i=1;var a=this._data.categoryAxis&&this._data.categoryAxis.metaData;var r;for(r=0;a&&r<a.length;++r){if(a[r].id==="measureNames"&&a[r].values.length>1){i=a[r].values.length}}a=this._data.valueAxis.metaData;var o=this._data.waterfallType?this._data.waterfallType.metaData:undefined;var n=o&&o[0]?o[0].id:undefined;var s={};if(n){if(e==="total"){s[n]="total"}else{s[n]={notEqual:"total"}}}if(this._isSemanticColoring){for(r=0;r<i;++r){var u=l.extend(true,{},s);if(e==="positiveValue"){u[a[r].id]={min:0}}else if(e==="negativeValue"){u[a[r].id]={openmax:0}}t.push(u)}}else{t.push(s)}return t};f.prototype._getShownLegendItem=function(e){var t=e._dataPoints;var i,a,r,o,n,l;var s=[];var u=this._data.waterfallType?this._data.waterfallType.metaData:undefined;var c=u&&u[0]?u[0].id:undefined;for(var h in t){if(t.hasOwnProperty(h)){if(s.length===3){break}a=t[h];if(a){r=a.context();i=r.measureNames;o=c?r[c]:undefined;l=r[i];if(l>=0&&o!=="total"){n="positiveValue"}else if(l<0&&o!=="total"){n="negativeValue"}else if(o==="total"){n="total"}if(s.indexOf(n)===-1){s.push(n)}}}}if(!this._isSemanticColoring&&s.indexOf("total")<0){return[]}s=g(s,p);return s};f.prototype._buildColorShapeScale=function(e){var t=f.superclass._buildColorShapeScale.apply(this,arguments);var i=this._properties.origin.get("plotArea.dataLabel.recapTitle")||n.get("IDS_END_OF_PERIOD");if(this._recapVisible){t._items.push({color:this._recapColor,data:[i],shape:"squareWithLine"})}return t};f.prototype._isShowWideMarker=function(){return this._recapVisible};f.prototype._getMarkerWidth=i.prototype._getMarkerWidth;f.prototype._calcMetaInfo=i.prototype._calcMetaInfo;f.prototype._createGroupItems=function(e,t){f.superclass._createGroupItems.apply(this,arguments);if(this._data.timeAxis){e.selectAll("g."+c).classed(c,false)}};f.prototype.destroy=function(){f.superclass.destroy.apply(this,arguments);this._labelText=null;this._legendColor=null;this._validItems=null};f.prototype.statusChanged=function(e){if(e===s.LOCALE_CHANGED){this._colorShapeScale=null;this._getLegendProperties();v(this,this._data)}};return f});define("sap/viz/chart/scales/WaterFallTypeScale",["sap/viz/framework/common/util/oo","sap/viz/chart/scales/BaseScale","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/util/WaterfallUtils","sap/viz/framework/common/util/DataUtils"],function(e,t,i,a,r){var o=r.DIMENSION_VALUE;var n=function(e,t,i){n.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.WaterFallTypeScale";this._name=null;this._type="wtfType";i=i||{};this._key2Type=a.Key2Type;this._initScale()};e.extend(n,t);n.prototype._initScale=function(){this._scale=d3.scale.ordinal();this._scale.domain(this._domain).range(this._range);this._isReset=false};n.prototype.getDomain=function(){if(this._scale===undefined||this._isReset===true){this._initScale()}return this._domain};n.prototype.getRange=function(){if(this._scale===undefined||this._isReset===true){this._initScale()}return this._range};var l=function(e){var t=e;if(e&&e.hasOwnProperty(o)){t=e[o]}return t};n.prototype.scale=function(e){return a.scale(l(e),this._key2Type)};n.prototype.childrenNum=function(e){var t=this.scale(e);if(t!==2){return 0}var i=parseInt(l(e).split(":")[1].trim());return i};return n});define("sap/viz/chart/scales/WaterScaleProcessor",["sap/viz/chart/scales/WaterFallTypeScale","sap/viz/framework/scale/ScaleDataParseFactory","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleRepository"],function(e,t,i,a,r){var o=function(e,t,o){var n=e["valueAxis"]();var l,s;var u=/timeseries.*waterfall/.test(t);if(u){s=null}else{l=e["waterfallType"]();s=l.values}var c=n.values;var h=n.categorySum;var p=e["series"]();var d={isStacked:/stacked_/.test(t)?true:false};var f=r.waterfallScale(n,"waterfallType",null,null,d);var v=parseFloat(o.propertyManager().get("plotArea.startValue"))||0;var g,m,y,_=v,A=0,b=[v],x=[];var S,D;var w,C=[];var T=function(){if(c[m]&&g.valueAxis===null){if(a.isArray(c[m])){g.valueAxis=c[m][y]}else{g.valueAxis=c[m]}}var e=+g.valueAxis||0;if(e===0){g.valueAxis=0}g.total=g.base+(u?e:h[m]);if(!x.hasOwnProperty(m)){x[m]=g.total}if(b.hasOwnProperty(m)){b[m]+=e}else{b[m]=g.base+e}};if(!u){for(m=0;m<c.length;m++){if(a.isArray(c[m])){S=c[m][c[m].length-1];D=s?s[m][s[m].length-1]:null;if(1===f.scale(D)){if(S===null){h[m]=0;for(y=m-1;y>=0;y--){D=s[y][s[y].length-1];h[m]+=h[y];if(1===f.scale(D)){break}}c[m][c[m].length-1]=h[m]}else{h[m]=S}}}else{D=s?s[m]:null;if(1===f.scale(D)){if(c[m]===null){h[m]=0;for(y=m-1;y>=0;y--){D=s[y];h[m]+=h[y];if(1===f.scale(D)){break}}c[m]=h[m]}else{h[m]=+c[m]}}}}w=c;for(m=0;m<w.length;m++){for(y=p.length-1;y>=0;y--){g=p[y][m]||{};h[m]=h[m]||0;D=s?s[m]:null;if(a.isArray(D)){D=D[D.length-1]}if(m===0){g.base=0}else{if(1===f.scale(D)){g.base=0}else if(2===f.scale(D)){g.base=x[m-1]-h[m]}else{g.base=x[m-1]}}T();_=Math.min(_,b[m]);A=Math.max(A,b[m])}}}else{var z=e["timeAxis"]();var L=z.values[0];if(L){L=L.map(function(e){return e?e.parsedValue:null});L=L.filter(function(e){return e});L=i.unique(L);L.sort(function(e,t){return e-t});z._sortedTimeStampSet=L;for(m=0;m<L.length;m++){for(y=0;y<p.length;y++){var P=p[y][i.bisearch(p[y],L[m],function(e){return e?e.timeAxis[0].parsedValue:0})];if(!P||P.timeAxis[0].parsedValue!==L[m]){if(!b.hasOwnProperty(m)){b[m]=g?g.base+g.valueAxis:0}continue}g=P;C[m]=(C[m]||0)+g.valueAxis;if(m===0&&y===0){g.base=v}else{g.base=y===0?b[m-1]:b[m]}T();_=Math.min(_,b[m]);A=Math.max(A,b[m])}}}}if(C.length>0){n.categorySum=C}n.range=[[_,A]];return e};r["waterfallScale"]=function(t,i,a,r,o){var n=t&&t.values?t.values.slice(0):[];var l=[0,1];var s=new e(n,l,o);return s};t.register("waterfall","valueAxis",o)});define("sap/viz/chart/chains/WaterFallChains",["sap/viz/chart/chains/BaseChains","sap/viz/chart/chains/ChainUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/util/WaterfallUtils","sap/viz/chart/chains/TYChains","sap/viz/framework/binding/BindingManager"],function e(t,i,a,r,o,n,l,s){var u={};var c=["GetDimensionsFromFlattable","GetContext","OnBindingFinished","OnBindingStart"];u=t.extend("waterfall",c);var h=function(e,t,a,o,l,s){var u=[];var c="categoryAxis";var h=o[c];var p,d;if(h){var f=[],v=[],g=[],m=[];var y="context";t.filter(function(e){return e!==c}).forEach(function(e){if(o[e]){f.push(o[e]);v.push(e)}});a.forEach(function(e){if(o[e]){g.push(o[e]);m.push(e)}});var _=i.dpInitializer(l);var A=i.getArrayLength(f);var b=i.generateIndexArray(A);s=s||{};var x=n.Key2Type;var S,D,w;for(p=0;p<b.length;p++){u[p]=new Array(h.rowArray.length);for(var C=0,T=h.rowArray.length;C<T;C++){S=_();var z=true;for(d=0;d<b[p].length;d++){var L=f[d].rowArray[b[p][d]];if(L.mndIndex){var P=L.mndIndex;var k=o[v[d]].metaData;var E=k[L.indexOf(P)];if(E&&E.values){var I=E.values;for(D=0;D<I.length;D++){if(I[D].id==P){L.mndIndex=D;break}}}}S[v[d]]=L}for(D=0;D<g.length;D++){if(r.isExist(g[D].values)&&g[D].values[C]!==undefined){w=g[D].values[C];for(d=0;d<b[p].length;d++){if(w[b[p][d]]!==undefined){w=w[b[p][d]]}}if(r.isArray(w)){z=false}else{S[m[D]]=w}}else{z=false}}var O=false;for(var R in S){if(R===n.WATERFALLTYPE&&n.scale(S[R],x)>0||R!==n.WATERFALLTYPE&&m.indexOf(R)>-1&&S[R]!==null){O=true;break}}if(!z||!O){continue}var N=i.processSeriesContext(o.context,C,b[p]);if(N){S.context=N}var M=i.processSeriesContext(o.additionInfo,C,b[p]);if(M){S.addition=M}var B=i.generateNum(A,b[p]);u[B]=u[B]||[];u[B][C]=S}}}o.series=u.filter(function(e){return e})};u.waterfallGetBindingSeries=i.generateSeriesGetter(h);var p=function(e){var t=[],i,a,o,n,l;var s=0;for(a=0,n=e.length;a<n;a++){var u=0;i=e[a];if(r.isArray(i)){for(o=0,l=i.length;o<l;o++){if(r.isArray(i[o])||!r.isNumber(i[o])){continue}if(u===0){u=+i[o]}else{u+=+i[o]}}}else{u=+i}t[a]=u}return t};var d=function(e){var t=[],i,a,o,n;var l=0;for(a=0,o=0,n=e.length;a<n;a++){var s=0;i=e[a];if(r.isArray(i)){for(var u=0;u<i.length;++u){if(!r.isNumber(i[u])){continue}s+=+i[u]}}else{s=+i}t[o++]=s}return t};u.waterfallGetMeasuresFromFlattable=function(e,i,a,r,o,n,s,u){var c=u&&u.isTimeWaterFall?l.tyGetMeasuresFromFlattable.apply(t,arguments):t.GetMeasuresFromFlattable.apply(t,arguments);if(u&&u.isTimeWaterFall){c.categorySum=d(c.values)}else{c.categorySum=p(c.values)}return c};Object.keys(u).forEach(function(e){s.registerChain(e,u[e])});return u});define("sap/viz/chart/views/WaterFallChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/XYChartView","sap/viz/chart/components/plotareas/WaterfallPlotArea","sap/viz/chart/components/legend/WaterFallLegend","sap/viz/chart/scales/WaterScaleProcessor","sap/viz/chart/chains/WaterFallChains"],function e(t,i,a,r){var o=function(e,t){o.superclass.constructor.apply(this,arguments)};t.extend(o,i);o.prototype._getDataItems=function(){return["valueAxis","categoryAxis","waterfallType","series"]};o.prototype._getLegendInitOptions=function(){return[null]};o.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};o.prototype._getLegendDefinition=function(){return[r]};o.prototype._getLegendInitOptions=function(){return[{noFeeding:true}]};return o});define("sap/viz/chart/views/TimeWaterFallChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/TimeYChartView","sap/viz/chart/views/WaterFallChartView","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function e(t,i,a){var r=function(e,t){r.superclass.constructor.apply(this,arguments)};t.extend(r,i);r.prototype._getLegendDefinition=a.prototype._getLegendDefinition;r.prototype._getLegendInitOptions=function(){return[null]};return r});define("sap/viz/chart/metadata/bindings/TimeYColumnBindings",[],function e(){var t=[{id:"timeAxis",name:"IDS_TIME_AXIS",type:"Dimension",min:1,max:1,acceptMND:false,continuous:true,sort:true,role:"layout.time"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"},{id:"color",name:"IDS_COLOR",type:"Dimension",min:0,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"mark.color"}];return t});define("sap/viz/chart/metadata/bindings/WaterFallBindings",[],function e(){var t=[{id:"categoryAxis",name:"IDS_CATEGORY_AXIS",type:"Dimension",min:1,max:Number.POSITIVE_INFINITY,acceptMND:true,role:"layout.category"},{id:"waterfallType",name:"IDS_WATERFALLTYPE",type:"Dimension",min:0,max:1,acceptMND:false,role:"mark.waterfallType",description:"Not recommend to use together with MND enabled on category axis"},{id:"valueAxis",name:"IDS_VALUE_AXIS",type:"Measure",min:1,max:Number.POSITIVE_INFINITY,role:"layout.value"}];return t});define("sap/viz/chart/layout/RadarLayout",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/oo","sap/viz/chart/layout/BaseLayout"],function e(t,i,a,r){var o={height:{max:"maxHeight",fix:"height"},width:{max:"maxWidth",fix:"width"}};var n={left:"width",right:"width",top:"height",bottom:"height"};var l={left:"height",right:"height",top:"width",bottom:"width"};var s=0;var u=1;var c=2;var h=3;var p=1/3;var d=1/3;function f(){f.superclass.constructor.apply(this,arguments);this.config.add({padding:[0,0,0,0],rootWidth:0,rootHeight:0,layoutSequence:[]})}a.extend(f,r);f.prototype.layout=function(e){var a={};var r=this.config;var f=0;var m=r.get("totalWidth");var y=r.get("totalHeight");var _=r.get("rootWidth");var A=r.get("rootHeight");var b={width:r.get("rootWidth"),height:r.get("rootHeight")};var x=r.get("padding");var S=r.get("layoutSequence");var D=m-(x[u]+x[h]);var w=y-(x[s]+x[c]);D=D>0?D:0;w=w>0?w:0;var C;var T,z,L;var P;var k;var E={};for(var I in e){if(e.hasOwnProperty(I)){C=e[I];P=C.option;k=P.position;E[k]={module:C.module,option:{position:k,padding:{paddingTop:v(P.paddingTop),paddingBottom:v(P.paddingBottom),paddingLeft:v(P.paddingLeft),paddingRight:v(P.paddingRight)},maxWidth:g(P.maxWidth)?P.maxWidth:p,maxHeight:g(P.maxHeight)?P.maxHeight:d,width:g(P.width)?P.width:null,height:g(P.height)?P.height:null}}}}var O=[];for(f=0;f<S.length;++f){k=S[f];if(i.isFunction(k)){O.push(k);continue}C=E[k];if(C){O.push(C)}}if(!E.center){throw"Cannot solve layout without plot"}var R={width:_?_:D,height:A?A:w};var N={width:D,height:w,x:x[u],y:x[s]};var M={center:false};var B=O.length;for(f=0;f<B;f++){T=O[f];if(i.isFunction(T)){T(a,N);continue}z={};a[T.module.alias]=z;P=T.option;var V=T.module;k=P.position;if(k==="center"||k==="left"){continue}var F=n[k];var H=l[k];z.padding=P.padding;var U={width:0,height:0};U.height+=z.padding.paddingTop+z.padding.paddingBottom;U.width+=z.padding.paddingLeft+z.padding.paddingRight;var W={},G=P[o[F].fix],Y=T.module.properties().visible===true&&G!==null?t.getSizeValue(G,R[F]):undefined;if(Y===undefined){if(i.isFunction(V.getPreferredSize)){var X=t.getSizeValue(P[o[F].max],R[F]);X=X>N[F]?N[F]:X;W[H]=N[H];W[F]=X;L=V.getPreferredSize(W)[F]+U[F];X=L>X?X:L;N[F]=N[F]-X;z[F]=X}else{z[F]=0}}else{Y=Y>N[F]?N[F]:Y;if(i.isFunction(V.getPreferredSize)){W[H]=N[H];W[F]=Y;V.getPreferredSize(W)}N[F]=N[F]-Y;z[F]=Y}}for(f=0;f<B;f++){T=O[f];if(!T){continue}else if(i.isFunction(T)){T(a,N);continue}z=a[T.module.alias];if(!z.hasOwnProperty("width")){z.width=N.width}else if(!z.hasOwnProperty("height")){z.height=N.height}switch(T.option.position){case"top":N.y=N.y+z.height;break}}var j,Z=0;for(f=0;f<B;f++){T=O[f];if(i.isFunction(T)){T(a,N);continue}else if(T){P=T.option;z=a[T.module.alias];switch(P.position){case"top":z.x=N.x;z.y=N.y-z.height;break;case"left":var q=T.module.getLabelHeight({width:N.width,height:N.height});j=T.module;N.height=N.height-q/2;N.y=N.y+q/2;break;case"bottom":z.x=N.x;z.y=N.y+N.height;break;case"right":z.x=N.x+N.width;z.y=N.y;break;case"center":z=a[T.module.alias]={};z.x=N.x;z.y=N.y;z.width=N.width;z.height=N.height;Z=T.module.calculateRadius({width:N.width,height:N.height});break}if(!i.isPlainObject(z.padding)){z.padding=P.padding}if(P.position==="top"){z.y+=z.padding.paddingTop}z.height-=z.padding.paddingTop+z.padding.paddingBottom;z.width-=z.padding.paddingLeft+z.padding.paddingRight;N.height=N.height>0?N.height:0;N.width=N.width>0?N.width:0}}z=a[j.alias];L=j.getPreferredSize({width:Z,height:Z});z.height=Z;z.width=L["width"];z.y=N.y+N.height/2-Z;z.x=N.x+N.width/2-L["bodySize"];return a};function v(e){var t=parseFloat(e);if(isNaN(t)){t=0}return t}function g(e){var t=parseFloat(e);return i.isNumber(t)&&t>=0}return f});define("sap/viz/chart/components/container/RadarContainer",["sap/viz/framework/common/util/oo","sap/viz/chart/layout/RadarLayout","sap/viz/chart/components/container/XYContainer"],function(e,t,i){var a=function(e,i){a.superclass.constructor.apply(this,arguments);this.setLayoutAlgorithm(new t)};e.extend(a,i);a.prototype._renderSub=function(){var e=this._layoutSequence||["left","right","bottom","top"];if(e.indexOf("center")<0){e.push("center")}var t=this._selections;var i=function(e){e.render(t[e.alias])};for(var a=0;a<e.length;a++){this.getChildrenByPosition(e[a]).forEach(i)}};a.prototype._initRenderBase=function(e){this._selections={};for(var t in this._children){if(this._children.hasOwnProperty(t)){if(this._selections[t]==null){if(this._children[t].option.position==="center"){this._selections[t]=e.insert("g",":first-child").attr("class","v-m-"+t)}else{this._selections[t]=e.append("g").attr("class","v-m-"+t)}}}}};return a});define("sap/viz/chart/components/axis/sub/RadarValueAxisBody",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/util/ClippathUtil","sap/viz/framework/common/util/DataGraphics"],function(e,t,i,a,r,o,n){var l=5;var s=6;var u=i.CSS.CLASS.AXIS;var c=function(){c.superclass.constructor.apply(this,arguments)};e.extend(c,t);c.prototype.getLabelHeight=function(){var e=this._properties.get();var t=e.label&&e.label.style;if(e.visible){var i=this._measureTextSize("100",t);return i.height}return 0};c.prototype.render=function(e){var t=this._properties.get();var i=this._size.width;var r=this._size.height;a.drawBound(e,i,r,null,true);e.select("g."+u.LABEL_GROUP).remove();if(this._data&&t.visible){var n=this._position;var c=this._data;var h=c.getRange();var p=null;if(this._isSpaceEnough()){var d=this._getTicksToRender();var f=this._getAllLabels(d,c);var v;if(t.label.visible&&f.length){var g=this.getPadding(this._data);var m={x:0,y:0,width:this._size.width,height:this._size.height};var y=this._getWidestLabel(f)+s+l;var _=0;if(this._isVertical()){m.y-=g.start;m.height+=g.start+g.end;_=y-m.width;if(this._noReLayout&&_>0){m.width+=_;m.x-=_}}else{m.x-=g.start;m.width+=g.start+g.end;_=y-m.height;if(this._noReLayout&&_>0){m.height+=_;m.y-=_}}v=o.drawClippath(e,m.width+2,m.height+2,m.x-1,m.y-1,"labels");p=e.append("g").attr("clip-path","url(#"+v+")");this._labelGroupNode=p.append("g").attr("class",u.LABEL_GROUP);this.drawLabels(this._labelGroupNode,c,f,i,r,n,t,this._options,this.runtime().effectManager());var A=c.getDomain()}}}};return c});define("sap/viz/chart/layout/RadarAxisLayout",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/AxisLayout"],function(e,t,i,a,r){var o=t.DIRECTION.HORIZONTAL;var n=t.DIRECTION.VERTICAL;var l=t.AXIS.SPACING_TO_ROUGH;var s=t.AXIS.SPACING_MAX_IN_PX;var u=function(){u.superclass.constructor.apply(this,arguments)};e.extend(u,r);u.prototype.getPreferredSize=function(e){var t=this.config;var r=t.get("totalWidth");var n=t.get("totalHeight");var u=t.get("position");var d=t.get("sizeFn");var f=t.get("offsetFn");var v=this._dictToArray(e);var g=t.get("rootWidth");var m=t.get("rootHeight");var y=t.get("roughWidth");var _=t.get("roughHeight");var A=[];var b=0;var x=0,S=0;var D=p(v,t);var w=D.length;var C=c(u);var T=C===o;var z=T?"height":"width";var L=T?"width":"height";var P=h(u,r,n);var k=a.isVertical(u)?r:n;var E,I,O,R,N,M,B,V;V=Math.min(y,_);if(T){N="maxWidth";M="minHeight";B=g}else{N="maxHeight";M="minWidth";B=m}var F=false;for(;b<w&&!F;++b){E=D[b];var H=f(E,B);var U=l*V;R=Math.min(H,U);R=Math.min(R,s);var W={};W[L]=k-x-R;W[z]=P;I=d(E,W);if(Math.ceil(I[M])<=Math.ceil(P)&&I[N]&&i.preciseSimple(x+R+I[N])<=i.preciseSimple(k)){x+=R+I[N];if(E.option&&E.option.axisBody){S=I[N]}}else if(I[N]!==0){F=true}}var G=0,Y=0;if(T){G=x;Y=P}else{G=P;Y=x}return{width:G,height:Y,bodySize:S}};function c(e){if(e===t.POSITION.TOP||e===t.POSITION.BOTTOM){return n}else{return o}}function h(e,t,i){return a.isVertical(e)?i:t}function p(e,t){return e.slice().sort(t.get("sortPriorityFn"))}return u});define("sap/viz/chart/components/axis/RadarValueAxis",["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/RadarValueAxisBody","sap/viz/chart/scales/ValueScale","sap/viz/chart/layout/RadarAxisLayout","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/chart/components/container/UIContainer","sap/viz/chart/components/util/BoundUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/PropertyZoneUtil"],function(e,t,i,a,r,o,n,l,s,u,c,h){var p="Axis Title";var d=function(e,i){d.superclass.constructor.apply(this,arguments);var o=this._properties;this._showTitle=o.get("title.visible");this._roughSize={width:0,height:0};this._bodyLayersNumber=-1;var l=this;["height","width"].forEach(function(e){var t={set:function(e,t){if(e===null||parseFloat(e)>=0){return e}else{return t.value}}},i={layout:{}};i.layout[e]=t;o.add(i)});var s={};s[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],t,i,a,r,o,n,s;if(l._properties.get("title.visible")&&l._selections&&l._selections["axisTitle"]&&l._selections["axisTitle"].length>0){i=l._selections["axisTitle"].node().getBoundingClientRect();if(i.width>1.5&&i.height>1.5){r=[[]];r[0].push([i.left,i.top]);r[0].push([i.right,i.top]);r[0].push([i.right,i.bottom]);r[0].push([i.left,i.bottom]);e.push({name:l._name+" title",bound:r})}}if(l._parent&&l._parent.select(".v-m-axisBody").node()){var u=l._parent.select(".v-m-axisBody").node();var c=u.getAttribute("clip-path");if(c&&c.length>0){c=c.replace(/\s/g,"");var p=/^url\(/;c=c.replace(p,"");c=c.replace(/\)$/,"");c=c.replace(/^\"/,"");c=c.replace(/\"$/,"");u=l._parent.select(c).node()}n=u.getBoundingClientRect();if(c&&c.length>0){if(n.width===0&&n.height===0){var d=u.querySelector("rect");if(d){n=d.getBoundingClientRect()}}}if(n.width>1.5||n.height>1.5){a={left:n.left,right:n.right,top:n.top,bottom:n.bottom};o=[[]];o[0].push([a.left,a.top]);o[0].push([a.right,a.top]);o[0].push([a.right,a.bottom]);o[0].push([a.left,a.bottom]);e.push({name:l._name,bound:o})}s=l._parent.node().ownerSVGElement}h.calcOffsetFromChart(s,e);return e}};e.zoneManager().add({tempPropertyZone:s});this.setLayoutAlgorithm(new a);this._scale=null;this._bindingFields=[];if(this._showTitle){this.setChild("axisTitle",new n(e,i),{order:1,priority:2,offset:r.AXIS.SPACING_TO_ROOT})}this._position=null;this._parent=null;this.runtime().graphicModel().registerExposedModule(i.name);this.setChild("axisBody",new t(e,i),{order:2,priority:1,offset:0,axisBody:true});var u,c,p,f,v,g;v="primaryScale";u="plotArea."+v+".autoMinValue";c="plotArea."+v+".autoMaxValue";p="plotArea."+v+".minValue";f="plotArea."+v+".maxValue";g="plotArea."+v+".fixedRange";this._properties.origin.add(u,{defaultValue:[],readonly:true,serializable:false,get:function(){return l._scale?l._scale.getAutoDomain()?l._scale.getAutoDomain()[0]:l._scale.getDomain()[0]:undefined}});this._properties.origin.add(c,{defaultValue:[],readonly:true,serializable:false,get:function(){return l._scale?l._scale.getAutoDomain()?l._scale.getAutoDomain()[1]:l._scale.getDomain()[1]:undefined}});this._properties.origin.add(p,{defaultValue:[],readonly:true,serializable:false,get:function(){if(l._scale&&l._scale.getDomainFixed()[0]){return l._scale.getDomain()[0]}return null}});this._properties.origin.add(f,{defaultValue:[],readonly:true,serializable:false,get:function(){if(l._scale&&l._scale.getDomainFixed()[1]){return l._scale.getDomain()[1]}return null}});this._properties.origin.add(g,{defaultValue:[],readonly:true,serializable:false,get:function(){if(l._scale&&l._scale.getDomainFixed()){var e=l._scale.getDomainFixed();var t=e[0];var i=e[1];if(!t&&!i){return false}return true}return false}})};e.extend(d,l);d.prototype.getLabelHeight=function(e){return this.getChild("axisBody").module.getLabelHeight()};d.prototype.getMaxZoomRatio=function(){var e=this._scale.getTickHint();if(e>=1){return e}else{return Number.MAX_VALUE}};d.prototype.setScale=function(e){if(e.scale){this._scale=new i(e.scale.getDomain(),[0,1],e.scale.getDomainFixed());this._scale.setAutoDomain(e.scale.getAutoDomain());this._scale.setTickHint(e.tickHint)}};d.prototype.setData=function(e,t){if(e.metaData){var i=e.metaData;this._bindingFields=[];for(var a=0,r=i.length;a<r;++a){var o={id:i[a].id,name:i[a].name};if(i[a].values){var n={};i[a].values.forEach(function(e){n[e.id]=e.name});o.values=n}this._bindingFields.push(o)}}this._noReLayout=t;this.setScale(e)};d.prototype.getPadding=function(e){var t=this.getChild("axisBody");if(!t||!e){return{start:0,end:0}}return t.module.getPadding(e)};d.prototype._updateData=function(e){if(this._showTitle){this.getChild("axisTitle").module.setData(this._getTitle())}this._scale.setRange([e.height,0]);this.getChild("axisBody").module.setData(this._scale,this._noReLayout)};d.prototype._constructTitle=function(e,t){var i=e.map(function(e){return e.name||e.id}).join(" & ");var a={};a.isHidden=false;a.text=i;t.push(a);return i};d.prototype.zoom=function(e){if(e){this._realSize.width=this._size.width*e.x;this._realSize.height=this._size.height*e.y;this._updateData(this._getSizeInfo())}this._updateSubModules()};d.prototype.update=function(){this._updateData(this._getSizeInfo());this._updateSubModules()};d.prototype._updateSubModules=function(){if(this.getChild("axisBody")){this.getChild("axisBody").module.update()}};d.prototype.setPosition=function(e){var t,i;this._position=e;for(var a in this._children){if(this._children.hasOwnProperty(a)){var n=this.getChild(a).module;n.setPosition(this._position);if(a==="axisTitle"){t=this.properties();i=this.getChild(a).option;if(t.visible&&o.isHorizontal(i.position)?parseFloat(t.layout.height)>=0:parseFloat(t.layout.width)>=0){i.offsetType=r.AXIS.FIX_LAYOUT_TYPE}}}}return this};d.prototype._getTitle=function(){var e={};e.text="";e.isCustomized=false;e.items=[];var t="";var i=this._properties.get("title.text");if(c.isString(i)){t=i;e.isCustomized=true}else if(this._bindingFields){t=this._constructTitle(this._bindingFields,e.items)}else{t=p;e.isCustomized=true}e.text=t;return e};d.prototype.getParent=function(){if(this._parent){return this._parent.select("g."+r.CSS.CLASS.AXIS.CONTAINER)}else{return null}};d.prototype.render=function(e){this._parent=e;d.superclass.render.apply(this,arguments);s.drawBound(e,this._size.width,this._size.height,undefined,true);var t=e.select("g."+r.CSS.CLASS.AXIS.CONTAINER);if(this._size.width>0||this._size.height>0){if(!t.node()){delete this._selections;this._selections=null;t=e.append("g").attr("class",r.CSS.CLASS.AXIS.CONTAINER)}this._initRenderBase(t);this.layout();if(this.getChild("axisBody")){var i=this.getChild("axisBody").module.getAvailableLayersNumber();this._bodyLayersNumber=i;if(this._showTitle){this.getChild("axisTitle").module.setTitleHiddenItems(i)}}this._renderSub()}this.appendSynonymClass(e);e.node().style.pointerEvents="none"};d.prototype.isVisible=function(){return this._bodyLayersNumber>0};d.prototype.setChild=function(e,t,i){d.superclass.setChild.apply(this,arguments);if(t.setPosition&&i.position){t.setPosition(i.position)}};d.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo())};d.prototype._setupLayout=function(e){this._updateData(e);var t=u.getPositiveInt;var i=this._properties.origin;var a=this.calculatePaddingInPX(i,this._roughSize.width,this._roughSize.height);var r=t(a.propertyPaddingInPX,a.constantPaddingInPX);var o=t(a.propertyPaddingTopInPX,r);var n=t(a.propertyPaddingRightInPX,r);var l=t(a.propertyPaddingBottomInPX,r);var s=t(a.propertyPaddingLeftInPX,r);var c=this._layoutAlgorithm.config;c.set({position:this._position,rootWidth:this._roughSize.width-(n+s),rootHeight:this._roughSize.height-(o+l),roughWidth:this._roughSize.width,roughHeight:this._roughSize.height});if(e.hasOwnProperty("width")){c.set("totalWidth",e.width)}if(e.hasOwnProperty("height")){c.set("totalHeight",e.height)}};d.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo())};d.prototype._getSizeInfo=function(e){var t={width:this._size.width,height:this._size.height};if(e){if(e.width){t.width=e.width}if(e.height){t.height=e.height}}else if(this._realSize.width>this._size.width||this._realSize.height>this._size.height){if(this._isHorizontal()){t.width=this._realSize.width}else{t.height=this._realSize.height}}return t};d.prototype._postLayout=function(){var e=this._layoutResult;var t=this._selections;for(var i in this._children){if(this._children.hasOwnProperty(i)){var a=this._children[i].module;var r=t?t[i]:null;var o=e[i];a.setSize({width:o.width,height:this._size.height});a.setRealSize({width:o.width,height:o.height});if(a.layout){a.layout()}if(r){r.attr("transform","translate("+o.x+","+o.y+")")}}}};d.prototype.getPreferredSize=function(e){this._setupLayout(this._getSizeInfo(e));var t=this._layoutAlgorithm.getPreferredSize(this._children);return u.preciseObject(t)};d.prototype._renderSub=function(){for(var e in this._children){if(this._children.hasOwnProperty(e)){this.getChild(e).module.render(this._selections[e])}}};d.prototype.appendSynonymClass=function(e,t){var i="v-m-yAxis";e.classed(i,true)};d.prototype.setRoughSize=function(e){if(e.width!=null){this._roughSize.width=e.width}if(e.height!=null){this._roughSize.height=e.height}};d.prototype.destroy=function(){d.superclass.destroy.call(this);this._scale=null;this._bindingFields=null;this._showTitle=null;this._parent=null;this._position=null};d.prototype.supportFixedLayout=true;return d});define("sap/viz/chart/components/renderers/RadarRenderer",["sap/viz/framework/common/util/SVG"],function(e){var t=function(t){var r=t.graphic;var o=e.create("path");var n=i(t.points);var l=a(t);var s=r.visible?r.opacity:0;o.setAttribute("d",n);o.setAttribute("fill-opacity",s);o.setAttribute("fill",l.fill);o.style.pointerEvents="none";if(r.strokeVisible){o.setAttribute("stroke-width",r.strokeWidth);o.setAttribute("stroke",l.color);o.setAttribute("stroke-linejoin","round")}if(t.filterId){o.setAttribute("filter","url(#"+t.filterId+")")}return o};t.update=function(e,t){};function i(e){var t;var i;for(var a=0;a<e.length;a++){if(e[a]&&e[a].position){t=t?t+"L":"M";if(t==="M"){i="L"+e[a].position.x+","+e[a].position.y}t+=e[a].position.x+","+e[a].position.y}}t+=i;return t}var a=function(e){var t={};t.fill=e.effectManager.register({drawingEffect:e.graphic.drawingEffect,fillColor:e.graphic.fill});t.color=e.effectManager.register({drawingEffect:e.graphic.drawingEffect,fillColor:e.graphic.color});return t};return t});define("sap/viz/chart/components/util/RadarSeriesUtil",["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/renderers/RadarRenderer","sap/viz/framework/common/util/Constants"],function(e,t,i,a){var r={drawNet:function(r,o,n,l,s,u,c,h){u.line.color=t.convertColor(u.line.color);u.area.color=t.convertColor(u.area.color);var p=u.area.hasOwnProperty("visible")?u.area.visible:c.visible;var d=u.area.opacity||c.opacity;var f={graphic:{visible:p,color:u.line.color,fill:u.area.color,opacity:d,strokeVisible:h.visible,strokeWidth:h.width},points:o,effectManager:l,ctx:s};var v=i(f);v.setAttribute("class",a.CSS.CLASS.RADAR_NET);e.setData(v,{seriesIndex:n,color:f.graphic.color,pointSum:o.filter(function(e){return Boolean(e)}).length,fill:f.graphic.fill,visibility:p?"visible":"hidden",opacity:d});e.setContext(v,s);r.insertBefore(v,r.firstChild)}};return r});define("sap/viz/chart/components/datalabels/RadarDataLabels",["sap/viz/framework/common/util/oo","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o){var n=[[1,4,3,2],[2,3,4,1],[3,2,1,4],[4,1,2,3]];var l=4;var s=function(e,t){s.superclass.constructor.apply(this,arguments);this._labelsPool=[]};e.extend(s,t);s.prototype.render=function(e){if(this._isTrellis){this._bound={left:this._trellisPadding.left,right:this._realSize.width-this._trellisPadding.right,top:this._trellisPadding.top,bottom:this._realSize.height-this._trellisPadding.bottom}}else{this._bound={left:0,right:this._realSize.width,top:0,bottom:this._realSize.height}}s.superclass.render.apply(this,arguments)};s.prototype._render=function(e,t){this._labelsPool=o.extend(true,[],this._runtime.statusManager().get("polarAxisLabelRenderInfo"));s.superclass._render.apply(this,arguments)};s.prototype.setCenter=function(e){if(e===undefined){return}this._center=e};s.prototype._computeDataLabelPosition=function(e,t,i,a,r){var o,n;switch(i){case 1:o=e-r.width+a.x;n=t+a.y;break;case 2:o=e-a.x;n=t+a.y;break;case 3:o=e-a.x;n=t+r.height;break;case 4:o=e-r.width+a.x;n=t+r.height;break}var l={x:o,y:n,width:r.width,height:r.height};if(this._overlap(l)||this._outPlot(l)){l.overlap=true}return l};s.prototype._overlap=function(e){function t(e,t){var i=e.x<t.x?e:t;var a=e.x<t.x?t:e;var r=e.y-e.height<t.y-t.height?e:t;var o=e.y-e.height<t.y-t.height?t:e;return(i.x+i.width>a.x||i.x===a.x)&&(r.y>o.y-o.height||r.y-r.height===o.y-o.height)}function i(e){var t={x:e.x,y:e.y-1,height:e.height-2,width:e.width};return t}var a;for(var r=0;r<this._labelsPool.length;r++){a=t(i(e),i(this._labelsPool[r]));if(a){return true}}return false};s.prototype._outPlot=function(e){if(e.x>this._bound.left&&e.x+e.width<this._bound.right&&e.y-e.height>this._bound.top&&e.y<this._bound.bottom){return false}return true};s.prototype._computeDataLabelTranslate=function(e,t,i,a,r){var o=this._properties.get("hideWhenOverlap");var n=this._fixBBoxWhenInvisible(e,r&&r.dpBBox);var s=t.e;var u=t.f;var c=this._judgeQuadrant(s,u);var h;for(var p=0;p<l;p++){i=this._getLabelPosition(c,p);h=this._computeDataLabelPosition(s,u,i,n,a);if(!h.overlap||p===l-1&&!o){this._labelsPool.push(h);var d=[h.x,h.y];this._forceInner(d,a);return d}}return};s.prototype._getLabelPosition=function(e,t){return n[e][t]};s.prototype._judgeQuadrant=function(e,t){var i=Math.floor(this._center.x);var a=Math.floor(this._center.y);e=Math.floor(e);t=Math.floor(t);if(e<i&&t<=a){return 0}else if(e>=i&&t<=a){return 1}else if(e>=i&&t>a){return 2}else if(e<i&&t>a){return 3}};s.prototype.destroy=function(){t.superclass.destroy.call(this);this._center=null;this._labelsPool=null;this._size=null;this._bound=null};return s});define("sap/viz/chart/components/axis/sub/PolarAxisTitle",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/NumberUtils"],function(e,t,i,a,r,o,n,l,s,u,c){var h="Axis Title";var p="measureNames";var d=e.CSS.CLASS.AXIS;var f=function(e,t){f.superclass.constructor.apply(this,arguments);var i=this;if(!t.inTrellis){var a={};a[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],t,a,r,o,n,l,u;if(i._properties.get("polarAxis.title.visible")&&i._selection){a=i._selection.node().getBoundingClientRect();if(a.width>1.5&&a.height>1.5){o=[[]];o[0].push([a.left,a.top]);o[0].push([a.right,a.top]);o[0].push([a.right,a.bottom]);o[0].push([a.left,a.bottom]);e.push({name:i._name+" title",bound:o})}}s.calcOffsetFromChart(u,e);return e}};e.zoneManager().add({tempPropertyZone:a})}};t.extend(f,i);f.prototype.setData=function(e){if(e.metaData){var t=e.metaData;this._bindingFields=[];for(var i=0,a=t.length;i<a;++i){var r={id:t[i].id,name:t[i].name};if(t[i].values){var o={};t[i].values.forEach(function(e){o[e.id]=e.name});r.values=o}this._bindingFields.push(r)}}f.superclass.setData.apply(this,[this._getTitle()])};f.prototype.setTitleHiddenItems=function(){this.visibleItemsNumber=this._bindingFields.length};f.prototype._getTitle=function(){var e={};e.text="";e.isCustomized=false;e.items=[];var t="";var i=this._properties.get("title.text");if(a.isString(i)){t=i;e.isCustomized=true}else if(this._bindingFields){t=this._constructTitle(this._bindingFields,e.items)}else{t=h;e.isCustomized=true}e.text=t;return e};f.prototype._constructTitle=function(e,t){var i=e.map(function(e){var t=e.name||e.id;if(t===p){t=r.get("IDS_DEFAULTMND")}return t});t.splice(0,t.length);var a="";var o="";for(var n=0;n<i.length;n++){if(n===0){o=i[n]}else{o=" / "+i[n]}a+=o;var l={};l.isHidden=false;l.text=o;t.push(l)}return a};f.prototype.render=function(e){this._selection=e;f.superclass.render.apply(this,arguments)};f.prototype.destroy=function(){this._runtime.zoneManager().remove("tempPropertyZone."+this._name);f.superclass.destroy.call(this)};return f});define("sap/viz/chart/components/plots/RadarPlot",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/SVG","sap/viz/chart/components/plots/BaseColumnPlot","sap/viz/chart/components/plots/ItemScaleHandler","sap/viz/chart/components/plots/ScaleHandler","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/PathRenderer","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/util/RadarSeriesUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/renderers/GridlineRenderer","sap/viz/framework/common/util/DataUtils","sap/viz/chart/components/util/TextUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/BuildLayerUtil","sap/viz/chart/components/datalabels/RadarDataLabels","sap/viz/chart/components/axis/sub/PolarAxisTitle","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/chart/components/plots/BaseLinePlot","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/LineDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function e(t,i,a,r,o,n,l,s,u,c,h,p,d,f,v,g,m,y,_,A,b,x,S,D,w){var C=5;var T=50;var z=C+T;var L=7;var P=2*(C+T)+L;var k=function(e,t){k.superclass.constructor.apply(this,arguments);this._dataPointRenderer=u;this._markerPropName="marker";this._markerD=null;this._branchAngles=[];this._center=null;this._radius=null;this._branchTitileSize=null;this._resetLabelCache();if(this._properties.get("polarAxis.title.visible")){this._axisTitle=new A(e,{name:"plotArea.polarAxis",inTrellis:t.inTrellis})}this.runtime().markManager().setMode("dual");this.runtime().markManager().lock();this._attachMarkRestrict();var i=this.runtime().semanticManager();i.setUseSemanticPattern(true);i.bindSeriesStyleProperty(this._name+".seriesStyle")};t.extend(k,o);k.prototype._attachMarkRestrict=function(){var e=this._getMarkerShape();var t=this.runtime().markManager();t.setShape([e],e)};k.prototype._renderNode=x.prototype._renderNode;k.prototype.destroy=function(){k.superclass.destroy.call(this);this._dataPointRenderer=null;this._markerD=null;this._branchAngles=null;this._center=null;this._radius=null;this._branchLabels=null;this._branchLabelHeight=null;this._branchLabelWidth=null;this._truncatedBranchLabels=null;this._hideBranchLabels=null;this._labelContext=null;this._branchTitileSize=null;this._polarAxisLabelRenderInfo=null;if(this._axisTitle){this._axisTitle.destroy();this._axisTitle=null}};k.prototype._getDataLabels=function(e,t){return new _(t,{name:e})};k.prototype._resetLabelCache=function(){this._branchLabels=[];this._branchLabelHeight=[];this._branchLabelWidth=[];this._truncatedBranchLabels=[];this._hideBranchLabels=[];this._labelContext=[]};k.prototype._getValueScaleHandlers=function(e){return[l.getPerfectValueScaleHandler("valueAxis",{isHorizontal:e})]};k.prototype._getCategoryScaleHandlers=function(e){this._categoryScaleHandler=l.getPolarScaleHandler("categoryAxis",{isHorizontal:e,itemScaleHandler:n.get(false)});return[this._categoryScaleHandler]};k.prototype._buildData=function(e){return{color:e.graphic.fill,trellisInfo:e.trellisInfo}};k.prototype._buildWrapperConfig=function(e,t,i){var a=k.superclass._buildWrapperConfig.apply(this,arguments);var r;if(e.trellisColumn){r=r||"";e.trellisColumn.forEach(function(e){r+=v.getDimensionValue(e)+"."})}if(e.trellisRow){r=r||"";e.trellisRow.forEach(function(e){r+=v.getDimensionValue(e)+"."})}a.trellisInfo=r;return a};k.prototype.calculateRadius=function(e){var t=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initXHandler(this._xHandlers,this._data,0,t);var i=this._xHandlers[0].categorySum();for(var a=0;a<i;a++){var r=this._getXPosition(0,a,0);this._branchAngles[a]=r[0]}this._center={x:e.width/2,y:e.height/2};this._radius=e.width>e.height?e.height/2:e.width/2;var o=this._properties.get("polarAxis.label");this._branchLabelStyle=o.style;if(o.visible&&this._radius>z){this._calculateBranchLabels(e)}return this._radius};k.prototype._applyChanges=function(){this._resetLabelCache();if(this._axisTitle){var e=this._axisTitle.getPreferredSize(this._realSize);this._branchTitileSize={width:e.maxWidth>this._realSize.width?this._realSize.width:e.maxWidth+1,height:e.maxHeight>this._realSize.height?this._realSize.height:e.maxHeight}}var t={width:this._realSize.width,height:this._realSize.height};if(this._branchTitileSize){var i=this._realSize.height-this._branchTitileSize.height;if(i<P){i=this._realSize.height;this._branchTitileSize.height=0;this._branchTitileSize.width=0}t.height=i}this.calculateRadius(t);var a=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initYHandler(this._yHandlers,this._data,this._radius,a)};k.prototype._calculateBranchLabels=function(e){var t=[];this._data.categoryAxis.metaData.forEach(function(e){t.push(e.id)});this._bindingFields=b.getBindingFields(this._data.categoryAxis.metaData)||this._bindingFields;var i=y.mergeLabels(this,this._data.categoryAxis.scale.getDomain(),t);this.buildLabelsText(i[0].cells,"");this._center={x:e.width/2,y:e.height/2+L/2};var a,r;var o=e.width/2,n=e.height/2-L/2;var l=o>n?n:o;for(var s=0;s<this._branchAngles.length;s++){var u=g.fastMeasure(this._branchLabels[s],this._branchLabelStyle.fontSize,this._branchLabelStyle.fontWeight,this._branchLabelStyle.fontFamily);a=a>=u.height?a:u.height;this._branchLabelHeight.push(u.height);this._branchLabelWidth.push(u.width);var c=Math.abs(Math.sin(this._branchAngles[s]));var h=Math.abs(Math.cos(this._branchAngles[s]));if(c){r=(o-u.width)/c;l=l<r?l:r}if(h){r=(n-u.height)/h;l=l<r?l:r}if(l<z){l=z;var p=o-z*c;if(p<this._branchLabelWidth[s]){this._branchLabelWidth[s]=p;this._truncatedBranchLabels[s]=true}else{this._hideBranchLabels[s]=true}}}this._radius=l-C};k.prototype._getPosition=function(e,t,i){var a=this._getXPosition(e,t,i);var r=this._getYPosition(e,t,i);if(isNaN(a[0])||isNaN(a[1])||isNaN(r[0])||isNaN(r[1])){return null}return{angle:a[0],distance:this._radius-r[0]}};k.prototype._convertPosition=function(e){var t=e.distance*Math.sin(e.angle);var i=e.distance*Math.cos(e.angle);e.x=this._center.x-t;e.y=this._center.y-i;return e};k.prototype._buildConfig=function(e,t,i,a){var r=this._getColor(e);this._convertPosition(t);var o=this._isMarkerVisible?1:0;return{graphic:{width:0,height:t.distance,drawingEffect:this._properties.get("drawingEffect"),fill:r,opacity:o,d:this._markerD},data:{color:r,width:0,height:t.distance,translate:[t.x,t.y]},ctx:i,effectManager:a||this._effectManager}};k.prototype._preRender=function(){k.superclass._preRender.apply(this,arguments);this._isMarkerVisible=this._properties.get("marker.visible");this._generateMarkerPath()};k.prototype._getSeriesRenderer=function(){return new s(this._drawNet.bind(this),this._updateNet.bind(this))};k.prototype._updateNet=function(){};k.prototype._drawNet=function(e,t,i){var a=this._properties.get("area"),r=this._properties.get("line"),o=this.runtime().effectManager(),n=c.buildSeriesContext(this._data,i,["color","color2","trellisColumn","trellisRow"]);h.drawNet(e,t,i,o,n,this._getlineAreaConfig(this._data,i,n),a,r)};k.prototype._getlineAreaConfig=function(e,t,i){var a=this._semanticMgr;var r={line:{},area:{}};var o=a.analyzeSeriesStyle(i,"line");if(o&&o.line&&o.line.color){r.line.color=o.line.color}else if((a.hasDataPointColorStyle()||a.hasDataPointLineStyle())&&a.isOverrideMode()&&a.shouldChangeColor()){r.line.color=a.getOthersStyle("color").properties.color}else{var n=c.getSeriesScaleInfo(e,t,["color"]);if(n){r.line.color=e[n.field].scale.scale(n.domain)}else{r.line.color=e.color.scale.getRange()[0]}}r.area.color=r.line.color;o=a.analyzeSeriesStyle(i,"area");if(o&&o.area){var l=o.area;if(l.hasOwnProperty("color")){r.area.color=l.color}if(l.hasOwnProperty("opacity")){r.area.opacity=l.opacity}if(l.hasOwnProperty("visible")){r.area.visible=l.visible}}return r};k.prototype._drawBranchLabels=function(){this._polarAxisLabelRenderInfo=[];var e=r.create("g");e.setAttribute("class",p.CSS.CLASS.AXIS.CONTAINER);var t=this._radius+C;var a=Number(this._branchLabelStyle.fontSize.match(/\d+/));for(var o=0;o<this._branchAngles.length;o++){if(this._hideBranchLabels[o]||!this._branchLabelWidth[o]){continue}var n=this._branchAngles[o];var l=this._convertPosition({angle:n,distance:t});if(n===0){l.x-=this._branchLabelWidth[o]/2;l.y-=this._branchLabelHeight[o]/2+L}else if(n===Math.PI){l.x-=this._branchLabelWidth[o]/2}else if(n>0&&n<Math.PI){l.x-=this._branchLabelWidth[o]}l.y+=this._branchLabelHeight[o]/2;var s=r.create("g");s.setAttribute("class",p.CSS.CLASS.AXIS.LABEL_SELECTION);if(this._trellisContext!==undefined){i.extend(true,this._labelContext[o],this._trellisContext)}d.setContext(s,this._labelContext[o]);var u=r.create("text");var c=r.create("rect");u.setAttribute("class",p.CSS.CLASS.RADAR_BRANCH_LABEL);u.setAttribute("x",l.x);u.setAttribute("y",l.y);u.setAttribute("font-size",this._branchLabelStyle.fontSize);u.setAttribute("font-weight",this._branchLabelStyle.fontWeight);u.setAttribute("font-family",this._branchLabelStyle.fontFamily);u.setAttribute("font-style",this._branchLabelStyle.fontStyle);u.setAttribute("fill",this._branchLabelStyle.color);var h=null;var f=this.runtime().envManager();if(f){h=f.textAnchor()}var v={};v.reverseDots=f&&f.reverseDots();u.setAttribute("text-anchor",h);var y=m.convertToCss(this._branchLabelStyle);if(this._truncatedBranchLabels[o]){g.ellipsis(this._branchLabels[o],u,this._branchLabelWidth[o],y,v)}else{u.textContent=this._branchLabels[o]}c.setAttribute("fill","transparent");c.setAttribute("x",l.x);c.setAttribute("y",l.y-this._branchLabelHeight[o]+1);c.setAttribute("height",this._branchLabelHeight[o]);c.setAttribute("width",this._branchLabelWidth[o]);c.setAttribute("class",p.CSS.CLASS.AXIS.BACKGROUND_RECT);this._polarAxisLabelRenderInfo.push({x:l.x,y:l.y,height:this._branchLabelHeight[o],width:this._branchLabelWidth[o]});s.appendChild(c);s.appendChild(u);e.appendChild(s)}this._dataLabels.setSize(this._realSize);return e};k.prototype.renderBranches=function(e){var t=this._properties.get("polarAxis");if(t.visible===false){return}var i=this._xHandlers[0].categorySum();var a=r.create("g");a.setAttribute("class",p.CSS.CLASS.RADAR_BRANCH_GROUP);var o=r.create("g");o.setAttribute("class",p.CSS.CLASS.RADAR_BRANCH_AXIS_GROUP);if(t.axisLine.visible){for(var n=0;n<i;n++){var l=r.create("line");l.setAttribute("class",p.CSS.CLASS.RADAR_BRANCH_AXIS);l.setAttribute("stroke",t.color);l.setAttribute("stroke-width",t.axisLine.size);var s=this._convertPosition({angle:this._branchAngles[n],distance:this._radius});l.setAttribute("x1",this._center.x);l.setAttribute("y1",this._center.y);l.setAttribute("x2",s.x);l.setAttribute("y2",s.y);o.appendChild(l)}a.appendChild(o)}if(t.label.visible&&this._radius>=T){var u=this._drawBranchLabels();a.appendChild(u)}if(e.node().childNodes[0]){e.node().insertBefore(a,e.node().childNodes[0])}else{e.node().appendChild(a)}var c=this._polarAxisLabelRenderInfo;this._runtime.statusManager().add({polarAxisLabelRenderInfo:{get:function(){return c}}})};k.prototype._updateNegativeDatapoint=function(e,t){};k.prototype._drawGridlines=function(e){var t=this._properties.get("gridline");var i=[0,this._radius];var a=this._gridlineScale=this._getGridLineScale(i);f.drawRadarGridLine(e,this._center,this._branchAngles,a,t);this.renderBranches(e);this._dataLabels.setCenter(this._center)};k.prototype.buildLabelsText=function(e,t){for(var i=0;i<e.length;i++){if(e[i].children&&e[i].children.length){this.buildLabelsText(e[i].children,t+e[i].text+"/")}else{var a=t+e[i].text;this._branchLabels.push(t+e[i].text);this._labelContext.push(e[i])}}};k.prototype.setTrellisContext=function(e){this._trellisContext=e};_.prototype.hideConditional=function(){return};k.prototype.render=function(e){k.superclass.render.apply(this,arguments);if(this._axisTitle){var t={x:0,y:this._realSize.height-this._branchTitileSize.height};var i={height:this._branchTitileSize.height,width:this._realSize.width};this._axisTitle.setSize(i);var a=e.append("g").attr("class","v-m-polarAxis");a.attr("transform","translate("+t.x+", "+t.y+")");this._axisTitle.setTitleHiddenItems();this._axisTitle.render(a)}};k.prototype.setData=function(e){k.superclass.setData.apply(this,arguments);if(this._axisTitle){this._axisTitle.setData(e.categoryAxis,v.hasNegativeValue(e))}};S.register(w.DATAPOINT_NAVIGATOR,w.RADAR,D);return k});define("sap/viz/chart/components/plotareas/RadarPlotArea",["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/RadarContainer","sap/viz/chart/components/axis/RadarValueAxis","sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/plots/RadarPlot","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/framework/common/util/DataUtils"],function e(t,i,a,r,o,n,l,s){var u=function(e,t){u.superclass.constructor.apply(this,arguments);this._init()};t.extend(u,i);u.prototype._getPlotOptions=function(){return this._options};u.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete()}};u.prototype._registerZoneManager=function(e,t){if(!t||!t.inTrellis){u.superclass._registerZoneManager.call(this,e)}};u.prototype._init=function(){this._plot=r.create(this._renderType,o,this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));this.setLayoutSequence(["bottom","top","left","right","center"]);this._valueAxis=new a(this.runtime(),{name:"plotArea.valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"})};u.prototype.destroy=function(){u.superclass.destroy.call(this);this._plot=null;this._hScrollbar=null;this._valueAxis=null};u.prototype._calcValueAxisScale=function(e,t,i){var a=this._data[e].scale;return n.calcScale(a,t,{domain:i})};u.prototype.setData=function(e){u.superclass.setData.apply(this,arguments);var t=this.updateValueScale();if(t){this._plot.setData(t)}};u.prototype.setTrellisContext=function(e){this._plot.setTrellisContext(e)};u.prototype.updateValueScale=function(){var e=this._data;var t=this._roughSize.width;var i=this._roughSize.height;if(!e||t<=0||i<=0){return e}var a=[0,1];a[1]=i;a[1]*=.8;var r;if(this._options.inTrellis){if(this._data.valueAxis._scaleCalculated){this._valueAxis.setData(e.valueAxis);return e}else{this._data.valueAxis._scaleCalculated=true}}r=this._calcValueAxisScale("valueAxis",a);e.valueAxis.scale=r.scale;e.valueAxis.tickHint=r.tickHint;e.valueAxis.scale.setRange([0,1]);this._valueAxis.setData(e.valueAxis);return e};u.prototype.setSize=function(e){var t=u.superclass.setSize.apply(this,arguments);if(this._options.inTrellis){this.setRoughSize(e);var i=this.updateValueScale();if(i){this._plot.setData(i)}}return t};u.prototype._hasScrollbar=function(){return!!this._properties.get("plotArea.isFixedDataPointSize")||!!this._properties.get("plotArea.window.start")||!!this._properties.get("plotArea.window.end")};u.prototype._preRender=function(){var e={x:0,y:0};if(this._hasScrollbar()){e=this._plot.getOffset()}u.superclass._preRender.apply(this,arguments);if(e.x||e.y){this.scroll(e)}};u.prototype._configLayout=function(){var e=this.getZoomer();var t=false,i=false;if(e){t=true;i=true}if(this._hasScrollbar()){t=true;i=true;this.runtime().statusManager().add("plotRealSize",{value:this._plot.getPreferredSize()})}if(this._vScrollbar){this._vScrollbar.isExist(t)}if(this._hScrollbar){this._hScrollbar.isExist(i)}return u.superclass._configLayout.apply(this,arguments)};u.prototype._cloneData=function(e){var t={};var i=this._data;for(var a in i){if(i.hasOwnProperty(a)){t[a]=i[a]}}for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}return t};u.prototype.drawTrellisDataLabels=function(e,t){this._plot.drawTrellisDataLabels(e,t)};return u});define("sap/viz/chart/behavior/config/AxisBehaviorConfigForRadar",["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,a,r){var o="v-axis-item",n=e.CSS.CLASS,l=["info/radar"],s="plotArea.polarAxis";l=i.addTrellisType(l);function u(e){var i=e.getProperties().get("interaction.selectability");if(!i){return false}var a=i.mode?i.mode.toUpperCase():i.mode;var r=e.getNodes(e.NodeType.AXIS_ITEM);if(!i.axisLabelSelection||a===t.SELECTION_MODE.NONE||a===t.SELECTION_MODE.SINGLE||!r.node()){return false}else{return true}}var c=[{id:"hover_on_axis_label_radar",triggerEvent:{name:"hover",targets:o,supportedChartTypes:l},handler:function(e,t){if(!u(t)){return}t.fireEvent("cleanAxisHoverEffect");var i=t.getProperties().get(s+".hoverShadow.color");if(i){d3.select(e.data.currentTarget).select("rect").attr("fill",e.data.byKeyboard?"transparent":i).classed(n.HOVER_SHADOW,true)}}},{id:"down_on_axis_label_radar",triggerEvent:{name:"down",targets:o,supportedChartTypes:l},handler:function(e,t){if(!u(t)){return}t.fireEvent("cleanAxisHoverEffect");var i=t.getProperties().get(s+".mouseDownShadow.color");if(i){d3.select(e.data.currentTarget).select("rect").attr("fill",i).classed(n.HOVER_SHADOW,false).classed(n.FOCUS_SHADOW,true)}}},{id:"up_on_axis_label_radar",triggerEvent:{name:"up",targets:o,supportedChartTypes:l},handler:function(e,t){if(!u(t)){return}var i=t.getNodes(t.NodeType.AXIS_ITEM_BACKGROUND);i.attr("fill","transparent").classed(n.FOCUS_SHADOW,false);if(a.isMobile()){i.classed(n.HOVER_SHADOW,false)}else{var r=t.getProperties().get(s+".hoverShadow.color");if(r){d3.select(e.data.currentTarget).select("rect").attr("fill",r).classed(n.HOVER_SHADOW,true)}}}}];r.registerAll(c);return c});define("sap/viz/chart/behavior/config/DataPointBehaviorConfigForRadar",["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/Constants"],function(e,t,i,a,r,o,n,l,s,u){var c=["info/radar"];c=r.addTrellisType(c);var h="v-datapoint";var p="v-datalabel";var d=e.CSS.CLASS;var f=d.RADAR_NET;function v(e,t,i,a){if(!e.length){return}if(!i&&o.getData(e[0]).trellisInfo){var r=g(e);for(var n in r){if(r.hasOwnProperty(n)){v(r[n],t,true,a)}}return}var l=A(t,t.NodeType.DATA_POINT_GROUP,e[0]);var s=l.querySelectorAll("."+f);var u=m(e);for(var c in u){if(u.hasOwnProperty(c)&&u[c]){y(t,parseInt(c),u[c],a,s)}}}function g(e){var t={};for(var i=0;i<e.length;i++){var a=o.getData(e[i]).trellisInfo;t[a]=t[a]||[];t[a].push(e[i])}return t}function m(e){var t=[];for(var i=0;i<e.length;i++){var a=o.getData(e[i]);t[a.seriesIndex]=t[a.seriesIndex]||[];t[a.seriesIndex].push(e[i])}return t}function y(e,t,i,a,r){var n;var l=e.getProperties().get("plotArea.line");if(r&&r.length>0){[].slice.apply(r).every(function(r){var s=o.getData(r);if(s.seriesIndex!==t){return true}if(a){if(i&&s.pointSum===i.length){n=e.getProperties().get("interaction.selected");if(d3.select(r).classed(d.DATAPOINTSELECTED)){return false}else{d3.select(r).classed(d.DATAPOINTSELECTED,true)}var u={fill:s.fill,visible:s.visibility==="visible"};_(e,r,n.area,u);if(l.visible===true){r.setAttribute("stroke-opacity",1)}else{r.setAttribute("stroke-opacity",0)}}else{if(l.visible!==true){r.setAttribute("stroke-opacity",0)}else{r.removeAttribute("stroke-opacity")}}}else{n=e.getProperties().get("interaction.deselected");if(d3.select(r).classed(d.DATAPOINTSELECTED)){d3.select(r).classed(d.DATAPOINTSELECTED,false)}else{return false}_(e,r,n.area)}return true})}}function _(e,t,a,r){var o=i.getColors(e,t,a.color);var n=r?r.visible:e.getProperties().get("plotArea.area.visible");var l=o.customizedColor||r&&r.fill||o.defaultColor;o=o.customizedColor||o.defaultColor;t.setAttribute("fill",l);t.setAttribute("stroke",o);if(n){if(a.opacity){t.setAttribute("fill-opacity",a.opacity)}}else{t.setAttribute("fill-opacity",0)}}function A(e,t,i){if(i){var a=e.getNodes(t,false);var r;a.forEach(function(e){if(e.contains&&e.contains(i)){r=e}else if(e.compareDocumentPosition&&!!(e.compareDocumentPosition(i)&16)){r=e}});return r}return null}var b=[{id:"selectDataPoint_radar",triggerEvent:{name:"selectDataPoint",supportedChartTypes:c},handler:function(e,r){var o=i.turnToArray(e.data.targets);r.fireEvent(e,true);var n=r.getProperties().get("interaction.selected");o.forEach(function(e){var o=d3.select(e);o.classed(d.DATAPOINTDEFAULT,false);o.classed(d.DATAPOINTSELECTED,true);a.highlight(e);i.drawStroke(r,e,"path",n.stroke,1);i.drawFill(r,e,"path",n,t.isExist(r.getProperties().get("plotArea.markerRenderer")),true)});v(o,r,false,true)}},{id:"deselectDataPoint_radar",triggerEvent:{name:"deselectDataPoint",supportedChartTypes:c},handler:function(e,a){if(!e.data.targets||e.data.targets.length<=0){return}a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o;if(e.data.isAnyOtherSelected){o=a.getProperties().get("interaction.deselected")}else{o=a.getProperties().get("plotArea.dataPoint");if(!a.getProperties().get("plotArea.marker.visible")){o.opacity=0}}r.forEach(function(e){var r=d3.select(e);if(!r){return}r.classed(d.DATAPOINTSELECTED,false);i.drawStroke(a,e,"path",o.stroke,1);i.drawFill(a,e,"path",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")),true)});if(e.data.isAnyOtherSelected){v(r,a,false,false)}}},{id:"hoverOnDataPoint_radar",triggerEvent:{name:"hoverOnDataPoint",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o=a.getProperties().get("interaction.hover");r.forEach(function(e){i.drawStroke(a,e,"path",o.stroke,2);i.drawFill(a,e,"path",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")),true)})}},{id:"unhoverOnDataPoint_radar",triggerEvent:{name:"unhoverOnDataPoint",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=i.turnToArray(e.data.targets);var o;r.forEach(function(e){if(d3.select(e).classed(d.DATAPOINTSELECTED)){o=a.getProperties().get("interaction.selected")}else{var r=a.getStatus("selectedDataPoints");if(r.length){o=a.getProperties().get("interaction.deselected")}else{o=a.getProperties().get("plotArea.dataPoint")}if(!a.getProperties().get("plotArea.marker.visible")){o.opacity=0}}i.drawStroke(a,e,"path",o.stroke,1);i.drawFill(a,e,"path",o,t.isExist(a.getProperties().get("plotArea.markerRenderer")),true)})}},{id:"clearPlot_radar",triggerEvent:{name:"clearPlot",supportedChartTypes:c},handler:function(e,a){a.fireEvent(e,true);var r=a.getNodes(a.NodeType.DATA_POINT,false);if(!r||!r.length){return}var n,l=e.data.isGray;if(l){n=a.getProperties().get("interaction.deselected")}else{n=a.getProperties().get("plotArea.dataPoint")}if(!a.getProperties().get("plotArea.marker.visible")){n.opacity=0}r.forEach(function(e){i.drawStroke(a,e,"path",n.stroke,1);i.drawFill(a,e,"path",n,t.isExist(a.getProperties().get("plotArea.markerRenderer")),true)});var s=a.getProperties().get("plotArea.area.visible");if(l){n=a.getProperties().get("interaction.deselected.area")}else{n=a.getProperties().get("plotArea.area")}var u=a.getNodes(a.NodeType.RADAR_NET,false);var c=a.getProperties().get("plotArea.line");u.forEach(function(e){if(d3.select(e).classed(d.DATAPOINTSELECTED)){d3.select(e).classed(d.DATAPOINTSELECTED,false)}var t=o.getData(e);var r;var u=s?n.opacity:0;if(t.visibility==="visible"){if(!l){u=t.opacity}else{u=n.opacity}r=t.fill}else if(t.visibility==="hidden"){u=0}var h=i.getColors(a,e,n.color);if(l&&h.customizedColor){e.setAttribute("fill",h.customizedColor);e.setAttribute("stroke",h.customizedColor)}else{e.setAttribute("fill",r||h.defaultColor);e.setAttribute("stroke",h.defaultColor)}if(c.visible!==true){e.setAttribute("stroke-opacity",0)}else{e.removeAttribute("stroke-opacity")}e.setAttribute("fill-opacity",u)})}},n.getDeselectEvent("click_on_non_selection_radar",c,i.getDeselAllExTargets())];l.registerAll(b);return b});define("sap/viz/chart/views/RadarChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plotareas/RadarPlotArea","sap/viz/chart/behavior/config/AxisBehaviorConfigForRadar","sap/viz/chart/behavior/config/DataPointBehaviorConfigForRadar"],function e(t,i,a){var r=function(e,t){r.superclass.constructor.apply(this,arguments);this._supportLazyRender=true};t.extend(r,i);r.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments)}r.superclass.setSize.apply(this,arguments)};r.prototype._getLegendInitOptions=function(){return[{noFillSupport:true}]};r.prototype._getDataItems=function(){return["valueAxis","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn"]};r.prototype._createPlotContainer=function(e){this._plotArea=new a(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3})};return r});define("sap/viz/chart/metadata/properties/chartTypes",[],function(){return["DEFAULT","100_dual_stacked_bar","100_dual_stacked_column","mekko","100_mekko","horizontal_mekko","100_horizontal_mekko","100_stacked_bar","100_stacked_column","100_area","100_horizontal_area","bar","bullet","vertical_bullet","timeseries_bullet","column","combination","dual_bar","dual_column","dual_horizontal_line","dual_line","dual_stacked_bar","dual_stacked_column","horizontal_combination","horizontal_line","line","area","horizontal_area","timeseries_line","timeseries_column","timeseries_combination","dual_timeseries_combination","timeseries_stacked_combination","timeseries_stacked_column","timeseries_100_stacked_column","stacked_bar","stacked_column","pie","donut","scatter","bubble","time_bubble","timeseries_scatter","timeseries_bubble","treemap","heatmap","tagcloud","number","radar","trellis_100_dual_stacked_bar","trellis_100_dual_stacked_column","trellis_100_stacked_bar","trellis_100_stacked_column","trellis_100_area","trellis_100_horizontal_area","trellis_bar","trellis_column","trellis_combination","trellis_combinationEx","trellis_dual_bar","trellis_dual_column","trellis_dual_horizontal_line","trellis_dual_line","trellis_dual_stacked_bar","trellis_dual_stacked_column","trellis_horizontal_combination","trellis_horizontal_line","trellis_horizontal_area","trellis_line","trellis_area","trellis_stacked_bar","trellis_stacked_column","trellis_pie","trellis_scatter","trellis_bubble","trellis_donut","stacked_combination","horizontal_stacked_combination","dual_stacked_combination","dual_horizontal_stacked_combination","dual_combination","dual_horizontal_combination","waterfall","stacked_waterfall","timeseries_waterfall","horizontal_waterfall","horizontal_stacked_waterfall","trellis_radar","combinationEx"]});define("sap/viz/chart/metadata/properties/metadata",["sap/viz/chart/metadata/properties/chartTypes","sap/viz/chart/metadata/properties/PropertyLoader"],function(e,t){function i(e,i){var a;var n=t.getProperties(e);if(n){a={};for(var l in n){if(n.hasOwnProperty(l)){var s=n[l];if(!o(s)){s={defaultValue:s}}r(l,s,a)}}}return a}function a(e){return"info/"+e}function r(e,t,i){var a=e.split(".");var r=i;for(var o=0;o<a.length;++o){var n=a[o];if(o<a.length-1){r[n]=r[n]||{children:{}};r=r[n].children}else{r[n]=t}}}function o(e){return Object.prototype.toString.call(e)==="[object Object]"&&(e.hasOwnProperty("defaultValue")||e.hasOwnProperty("readonly")||e.hasOwnProperty("serializable"))}var n={};var l=e.map(function(e){return a(e)});return{get:function(e){if(arguments.length){var t=n[e];if(!t){t=i(e);if(l.indexOf(e)>-1){n[e]=t}}return t}else{for(var a=0;a<l.length;++a){var r=l[a];n[r]=n[r]||i(r)}return n}}}});define("scaleDefs",[],function e(){var t=["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"];var i=[["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]];var a=["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E"];var r=["#A7BFE5","#CFF9AA","#FFFF91","#FFE0AC","#FF9DAF","#BBA6D5","#6DC8E6","#E9FF7C","#FFFF9F","#FFAC8B","#D983B7","#3396E4","#40DB74","#FFEA50","#FF8953","#E560A1","#6F69C1"];var o=["#D5DADC"];var n={palette:{defaultValue:t}};var l={palette:{defaultValue:i}};var s={palette:{defaultValue:[[t,i[0]],i[1]]}};var u={palette:{defaultValue:t}};var c={palette:{defaultValue:t}};var h={ActualColor:{defaultValue:a},AdditionalColor:{defaultValue:r},ForecastColor:{defaultValue:o}};var p={ActualColor:{defaultValue:a},AdditionalColor:{defaultValue:r}};var d={palette:{defaultValue:["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"]}};var f={min:{defaultValue:"auto"},max:{defaultValue:"auto"},type:{defaultValue:"linear"}};var v={min:{defaultValue:"auto"},max:{defaultValue:"auto"},type:{defaultValue:"linear"}};var g={start:{defaultValue:"auto"},end:{defaultValue:"auto"}};var m={type:{defaultValue:"linear"},min:{defaultValue:"auto"},max:{defaultValue:"auto"}};var y={type:{defaultValue:"linear"},min:{defaultValue:"auto"},max:{defaultValue:"auto"}};var _={domain:{defaultValue:[]}};var A={palette:{defaultValue:[]},startColor:{defaultValue:"#C2E3A9"},endColor:{defaultValue:"#73C03C"},legendValues:{defaultValue:[]},numOfSegments:{defaultValue:5},maxNumOfSegments:{defaultValue:9,access:"internal"},nullColor:{defaultValue:"#E0E0E0"}};var b={};var x={feed:"color",properties:n};var S={feed:"valueAxis",properties:v};var D={feed:"dataFrame",properties:_};var w={feed:"valueAxis2",properties:f};var C={feed:"color",properties:l};var T={feed:"color",properties:s};var z={feed:"valueAxis",properties:m};var L={feed:"valueAxis2",properties:y};var P={feed:"shape",properties:d};var k={feed:"timeAxis",properties:g};var E={feed:"color",properties:A};var I=[{feed:"actualValues",properties:m},{feed:"color",properties:h}];var O=[k,{feed:"actualValues",properties:m},{feed:"color",properties:p}];var R=[S,x,D];var N=[S,x];var M=[x,D];var B=[S,w,C,D];var V=[S,w,T];var F=[z,L,x,P];var H=F.concat(D);var U=[{feed:"color",properties:c}];var W=U.concat(D);var G=[S,x];var Y=[S,w,C];var X=[C,D];var j=[z,x,k];var Z=j.concat(w);var q=[S,{feed:"waterfallType",properties:b}];var K=[S,x,k];var Q=q.concat(x);var $=[z,x,k,P];var J=[S,x,k];var ee=J.concat(w);var te={column:R,donut:W,pie:W,bar:R,line:R,area:R,stacked_column:R,stacked_bar:R,"100_stacked_bar":M,"100_stacked_column":M,"100_area":M,"100_horizontal_area":M,mekko:N,horizontal_mekko:N,"100_mekko":N,"100_horizontal_mekko":N,combination:R,stacked_combination:R,horizontal_stacked_combination:R,dual_bar:B,dual_column:B,dual_line:B,scatter:H,bubble:H,trellis_column:G,trellis_donut:U,trellis_pie:U,trellis_bar:G,trellis_line:G,trellis_area:G,trellis_100_area:[x],trellis_100_horizontal_area:[x],trellis_stacked_column:G,trellis_stacked_bar:G,trellis_100_stacked_bar:[x],trellis_100_stacked_column:[x],trellis_combination:G,trellis_dual_bar:Y,trellis_dual_column:Y,trellis_dual_line:Y,trellis_scatter:F,trellis_bubble:F,horizontal_line:R,horizontal_area:R,trellis_horizontal_line:G,trellis_horizontal_area:G,horizontal_combination:R,trellis_horizontal_combination:[S,{feed:"color",properties:u}],dual_horizontal_line:B,trellis_dual_horizontal_line:Y,"100_dual_stacked_column":X,trellis_100_dual_stacked_column:X,"100_dual_stacked_bar":X,trellis_100_dual_stacked_bar:[C],dual_stacked_column:B,trellis_dual_stacked_column:Y,dual_stacked_bar:B,trellis_dual_stacked_bar:Y,treemap:[E],heatmap:[E],number:[],tagcloud:[E,D],time_bubble:[z,L,x,P,D],bullet:I,vertical_bullet:I,timeseries_bullet:O,dual_combination:B,dual_stacked_combination:B,dual_horizontal_combination:B,dual_horizontal_stacked_combination:B,timeseries_line:j,timeseries_column:[z,x,k],timeseries_combination:J,timeseries_stacked_combination:J,dual_timeseries_combination:ee,timeseries_scatter:$,timeseries_bubble:$,waterfall:q,timeseries_waterfall:K,horizontal_waterfall:q,stacked_waterfall:Q,horizontal_stacked_waterfall:Q,radar:[S,x,D],trellis_radar:[S,x],combinationEx:V,trellis_combinationEx:V,timeseries_stacked_column:[z,x,k],timeseries_100_stacked_column:[x,k]};return te});define("sap/viz/chart/metadata/properties/ScaleLoader",["scaleDefs","sap/viz/framework/common/util/ObjectUtils"],function(e,t){var i=t.clone(e);var a=function(e){var t=[];var i=0;if(e){for(i=0;i<e.length;++i){var a=e[i];t[i]={};for(var r in a){if(a.hasOwnProperty(r)){t[i][r]=a[r]}}if(t[i].hasOwnProperty("properties")){delete t[i].properties;for(var o in a.properties){if(a.properties.hasOwnProperty(o)){t[i][o]=a.properties[o]}}}}}return t};return{addScales:function(e){i=t.extend(true,{},i,e)},getScale:function(e){return a(i[e])}}});define("sap/viz/chart/metadata/metadata",["sap/viz/chart/metadata/properties/metadata","sap/viz/framework/common/lang/LangManager","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/metadata/properties/ScaleLoader"],function e(t,i,a,r,o){var n=function(e){if(e.search("info/")!=-1){var t=e.slice(5);return t}else{return e}};var l=function(e){if(!e){return}var t=r.clone(e);for(var i=0;i<t.length;i++){delete t[i].name}return t};var s=function(e){var a=n(e.type);if(e.isBuiltIn){e.bindings=l(e.bindings)}e.properties=t.get(e.type);e.scales=o.getScale(a);e.name=i.get(e.name)||e.name;return e};var u={get:function(e){var t=a.getMetadata(e);if(t){return s(t)}return t},getAll:function(){var e=a.getAllMetadata();for(var t in e){if(e.hasOwnProperty(t)){s(e[t])}}return e}};return u});define("sap/viz/api/metadata/Viz",["sap/viz/chart/metadata/metadata","exports"],function e(t,i){var a={get:function(e){if(arguments.length){var i=t.get(e);return i}else{var a=t.getAll();return a}}};return a});define("sap/viz/chart/components/legend/ExtensionColorLegend",["sap/viz/chart/components/legend/ColorLegend","sap/viz/framework/common/util/oo","sap/viz/chart/scales/ColorScale"],function(e,t,i){var a=function(){a.superclass.constructor.apply(this,arguments);var e=this;this._runtime.eventDispatcher().on("addEventListener.colorLegend",function(){e.addEventListener.apply(e,arguments[0])});this._runtime.eventDispatcher().on("removeEventListener.colorLegend",function(){e.removeEventListener.apply(e,arguments[0])});this._eventMap={};this.initEvent()};t.extend(a,e);var r=["selectionChanged"];a.prototype.initEvent=function(){var e={};for(var t in r){if(r.hasOwnProperty(t)){e[r[t]]={}}}this._eventMap=e};a.prototype.registerEvent=function(){var e=function(e){for(var t in this._eventMap["selectionChanged"]){if(this._eventMap["selectionChanged"].hasOwnProperty(t)){this._eventMap["selectionChanged"][t].call(this,e)}}}.bind(this);this._runtime.eventDispatcher().on("legendSelection",e)};a.prototype.render=function(){a.superclass.render.apply(this,arguments);this.registerEvent()};a.prototype._buildData=function(e){var t=e.color||this._properties.origin.get("plotArea.colorPalette");var a=e.data;var r=e.metadata;var o=[];var n=[];a.forEach(function(e){o.push([e]);var t=[e];t.mndIndex=-1;n.push(t)});var l=new i(o,t);return{color:{scale:l,metaData:r,rowArray:n}}};a.prototype.setData=function(e,t){if(t){var i=this._buildData(e);a.superclass.setData.call(this,i)}else{a.superclass.setData.call(this,e)}};a.prototype.addEventListener=function(e,t,i,a){var r=function(){t.apply(i,arguments)};if(this._eventMap[e]){this._eventMap[e][t]=r}};a.prototype.removeEventListener=function(e,t,i){if(!!this._eventMap[e][t]){delete this._eventMap[e][t]}};return a});define("sap/viz/chart/components/extension/componentWrapper/BaseWrapper",["sap/viz/framework/common/util/TypeUtils"],function(e){var t=function(e,t){this._evtDispatch=t;this._supportedEvent=[];this._properties=e._properties};t.prototype.properties=function(t){if(arguments.length===0||arguments.length===1&&e.isString(t)){return this._properties.get.apply(this._properties,arguments)}this._properties.set.apply(this._properties,arguments)};t.prototype.addEventListener=function(e,t,i,a){if(this._supportedEvent.indexOf(e)>-1){this._evtDispatch.addEventListener(e,t,i,a)}};t.prototype.removeEventListener=function(e,t,i){this._evtDispatch.removeEventListener(e,t,i)};t.prototype.supportedEvent=function(){return this._supportedEvent};return t});define("sap/viz/chart/components/extension/componentWrapper/TitleWrapper",["sap/viz/framework/common/util/oo","sap/viz/chart/components/extension/componentWrapper/BaseWrapper"],function(e,t){var i=function(){i.superclass.constructor.apply(this,arguments)};e.extend(i,t);return i});define("sap/viz/chart/components/extension/componentWrapper/LegendWrapper",["sap/viz/framework/common/util/oo","sap/viz/chart/components/extension/componentWrapper/BaseWrapper"],function(e,t){var i=function(e,t){i.superclass.constructor.apply(this,arguments);this._properties=e._properties.origin.proxy("legend");this._supportedEvent=["selectionChanged"]};e.extend(i,t);return i});define("sap/viz/chart/components/extension/BuiltInComponentWrapper",["sap/viz/chart/components/extension/componentWrapper/TitleWrapper","sap/viz/chart/components/extension/componentWrapper/LegendWrapper","sap/viz/framework/extension/Constants"],function(e,t,i){var a={title:e,legendGroup:t};var r=function(e,t){if(!a[e._name]){return null}var r=new a[e._name](e,t);r.name=i.ModuleName[e._name];return r};return{createWrapper:r}});define("sap/viz/chart/components/plots/ExtensionPlot",["sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/oo","sap/viz/framework/extension/DataModelToCSVUtil","sap/viz/chart/components/extension/BuiltInComponentWrapper","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,a,r,o,n,l,s){var u=function(e,t){if(!r.isFunction(this.getDefintion)){return}var i=this.getDefintion();u.superclass.constructor.apply(this,arguments);e.zoneManager().add(o.plot(this));e.zoneManager().add(n.plot(this));var a=this.runtime().semanticManager();a.bindDataPointProperty(this._name+".dataPointStyle");this._semanticMgr=a;this.Viz=new i;this._rawdata={};this._supportTooltip=true;this._originalSize={};var l=this;this._properties.origin.add(i.metadata.properties,true);if(i.metadata.events&&r.isArray(i.metadata.events)){i.metadata.events.forEach(function(e){l._exposeMoreEvents(e)})}this._exposeMoreEvents("initialized");this._exposeMoreEvents("renderComplete");this.Viz.dispatchEvent=function(e,t){c.call(l,e,t)};var s=this.Viz;window.setTimeout(function(){if(this._runtime){this._runtime.statusManager().add("interaction.selectedDataPoints",{serializable:false,set:function(e){e.success=s.setSelection(e.items)},get:function(){return s.getSelection()}})}}.bind(this),0);this._buildTooltip();v.call(this,this._properties.origin);this._changes={}};t.extend(u,e);u.prototype.renderTo=function(){return"DIV"};u.prototype._buildModuleWrapper=function(e){var t={};for(var i in e){if(e.hasOwnProperty(i)){var r=e[i].module;var o=a.createWrapper(r,this);if(o&&o.name){t[o.name]=o;(function(e){o.setData=function(t){e.setData(t,true)}})(r)}}}return t};u.prototype._buildTooltip=function(){var e=this.Viz;var t=this.getDefintion();var i=this;e.showTooltip=function(e){i._runtime.eventDispatcher().fire("showTooltip",e)};e.hideTooltip=function(e){i._runtime.eventDispatcher().fire("hideTooltip",e)}};u.prototype.addEventListener=function(){this._runtime.eventDispatcher().fire("addEventListener",arguments)};u.prototype.removeEventListener=function(){this._runtime.eventDispatcher().fire("removeEventListener",arguments)};u.prototype.setBuiltInComponent=function(e){this._builtInComponents=e;this._builtInComponents=this._buildModuleWrapper(e)};u.prototype.changes=function(e){if(arguments.length>0){this._changes=e}else{return this._changes}};u.prototype.updateBuiltInComponents=function(){if(this.Viz&&this.Viz.updateBuiltInComponents){this.Viz.updateBuiltInComponents(this._builtInComponents,this._changes)}};u.prototype.render=function(e){u.superclass.render.apply(this,arguments);this._selection=e;if(this.Viz){h.call(this,e);var t=this._properties.origin.get("plotArea.colorPalette")||l.COLOR.SAPColorSingleAxis;this.Viz.colorPalette=function(){return t};this._originalProperties=this._properties.origin.get();var i=this._size;this._originalSize=s.clone(i);this.Viz.size=function(){return i};if(this.Viz.init&&!this._initialized){this.Viz.init();this._initialized=true}if(this.Viz.render){this.Viz.render(this._builtInComponents,this._changes)}}};u.prototype.destroy=function(){u.superclass.destroy.apply(this,arguments);if(this.Viz.destroy){this.Viz.destroy()}this.Viz=undefined};u.prototype.setRawData=function(e){this._rawdata=e;d.call(this,e.bindings);f.call(this,e.scales);p.call(this,e.data)};var c=function(e,t){window.setTimeout(function(){if(this._eventDispatch&&this._eventDispatch[e]){this._eventDispatch[e](t)}}.bind(this),0)};u.prototype.propertyZone=function(){return this.Viz.propertyZone(this._properties._prefix)};u.prototype.feedingZone=function(){return this.Viz.feedingZone()};u.prototype.exportContent=function(e){return this.Viz.exportToSVGString&&this.Viz.exportToSVGString(e)};u.prototype.supportExportToContentType=function(){return!!this.Viz.exportToSVGString};var h=function(e){this.Viz.container=function(){return e}};var p=function(e){var t=e;if(this.getDefintion().metadata.dataType==="csv"){t=i(e,this._rawdata.bindings)}if(this.Viz.data){this.Viz.data(t)}else{this.Viz.data=function(){return t}}};var d=function(e){if(this.Viz.bindings){this.Viz.bindings(e)}else{this.Viz.bindings=function(){return e}}};var f=function(e){if(this.Viz.scales){this.Viz.scales(e)}else{this.Viz.scales=function(){return e}}var t=this._semanticMgr;this.Viz.getSemanticColor=function(e){return t.analyzeDataPoint("color",e)}};var v=function(e){this.Viz.properties=function(t){if(arguments.length===0||arguments.length===1&&r.isString(t)){return e.get.apply(e,arguments)}e.set.apply(e,arguments)}};return u});define("sap/viz/chart/behavior/ExtensionBehavior",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/chart/behavior/config/SelectionUtil"],function(e,t,i,a,r,o,n,l){var s=a.get("default").clone();var u=function(){};e.extend(u,o);var c=function(){};e.extend(c,n);c.prototype.click=function(e,t,a){if(!l.isLegendTriggerable(t,t.NodeType.LEGEND_ITEM)){return}var r=i.getContext(e.data.currentTarget).ctx;t.fireExternalEvent("legendSelection",r)};var h=s.getActionById("legendBehaviorDefinition");h.setHandler(c);a.register("ExtensionBehavior",s);a.addBehaviorType("ExtensionBehavior")});define("sap/viz/chart/views/ExtensionChartView",["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/framework/extension/Constants","sap/viz/chart/components/legend/ExtensionColorLegend","sap/viz/chart/behavior/config/tooltip/Tooltip","sap/viz/chart/components/plots/ExtensionPlot","sap/viz/chart/behavior/ExtensionBehavior","sap/viz/framework/common/util/ObjectUtils","require"],function(e,t,i,a,r,o,n,l,s){function u(e){switch(e.name){case i.ModuleName.title:return{id:"title",place:e.properties&&e.properties.position||"top",properties:e.properties||{}};case i.ModuleName.legend:return{id:"legend",place:e.properties&&e.properties.position||"right",properties:e.properties||{}}}}var c=function(){this._supportTooltip=true;this._needDispatchTooltipEvent=false;this._changes=false;this._dataItem=[];this.viz=this.getDefintion().metadata;this.plot=h(this.getDefintion());this.childrens=[];this.childrens.push(this.plot);if(this.viz.builtInComponents){for(var e in this.viz.builtInComponents){if(this.viz.builtInComponents.hasOwnProperty(e)){this.childrens.push(u(this.viz.builtInComponents[e]))}}}if(this.viz.bindingDefinition){this._dataItem=p(this.viz.bindingDefinition)}c.superclass.constructor.apply(this,arguments);this.id=this.viz.id};function h(t){var i=function(){i.superclass.constructor.apply(this,arguments)};e.extend(i,o);i.prototype.getDefintion=function(){return t};return i}e.extend(c,t);var p=function(e){return e.map(function(e){return e.id})};c.prototype.renderTo=function(){return"DIV"};c.prototype._dataChanged=function(){this._resetPlotContainer()};c.prototype._createChildren=function(){var e=this;var t=2;this.childrens.forEach(function(i){if(i.id==="title"){e._createTitle(i.place);e._properties.proxy("title").setDefault(i.properties)}else if(i.id==="legend"){e._createLegendGroup(i.place);e._properties.proxy("legend").setDefault(i.properties);if(i.properties.position){e._properties.add("legend.position",i.properties.position)}}else{var a=new i(e.runtime(),{name:"plotArea",supportTooltip:e._supportTooltip});e.setChild("plot",a,{priority:++t})}});this._createBackground();this._createTooltip();if(this.getChild("plot")){var i=this.getChild("plot").module;if(i.setBuiltInComponent){i.setBuiltInComponent(this._children)}}if(this.getChild(this._getLegendGroupModuleKey())){this._properties.origin.add({"interaction.selectability.plotLassoSelection":{defaultValue:false,serializable:false,readonly:true},"interaction.selectability.legendSelection":{defaultValue:true,serializable:false,readonly:true}})}else{this._needDispatchTooltipEvent=true;this._exposeMoreEvents("showTooltip");this._exposeMoreEvents("hideTooltip")}};c.prototype.render=function(){if(!this._size.width||!this._size.height){return}if(this.getChild("plot")&&this.getChild("plot").module&&this.getChild("plot").module.changes){var e=this.getChild("plot").module;e.changes(this._changes);if(e.updateBuiltInComponents){e.updateBuiltInComponents()}}if(this._properties.get("interaction.behaviorType")!=="DesignTimeBehavior"&&this.getChild(this._getLegendGroupModuleKey())){this._properties.origin.setDefault({"interaction.behaviorType":"ExtensionBehavior"})}var t=this._properties.get("legend.position");if(t){this.getChild("legendGroup").module.setDefaultPosition(t)}c.superclass.render.apply(this,arguments);if(this._selections&&this._selections.plot&&this._selections.plot.node){var i=this._selections.plot.node();i.parentNode.appendChild(i)}};c.prototype._getLegendDefinition=function(){return[a]};c.prototype._createTooltip=function(){if(!this._tooltipModule){this._tooltipModule=new r(this._properties.origin);this._runtime.eventDispatcher().on("showTooltip.extension",function(e){if(this._properties.get("interaction.behaviorType")!=="DesignTimeBehavior"){this._tooltipModule.showTooltip({container:e.container,mode:e.mode,position:e.position,data:l.extend(true,[],e.data)});if(this._needDispatchTooltipEvent){this._eventDispatch["showTooltip"](e)}}}.bind(this));this._runtime.eventDispatcher().on("hideTooltip.extension",function(e){if(this._properties.get("interaction.behaviorType")!=="DesignTimeBehavior"){this._tooltipModule.hideTooltip(e);if(this._needDispatchTooltipEvent){this._eventDispatch["hideTooltip"](e)}}}.bind(this))}};c.prototype.changes=function(e){if(arguments.length>0){this._changes=e}else{return this._changes}};c.prototype.setChild=function(e,t,i){t.alias=e;if(!this._children[e]){this._children[e]={}}this._children[e].module=t;this._children[e].option=i?i:{};return this};c.prototype.enableInteraction=function(){if(!this.getChild(this._getLegendGroupModuleKey())){return false}return true};c.prototype._updateData=function(){c.superclass._updateData.apply(this,arguments);if(this._data){for(var e in this._children){if(this._children.hasOwnProperty(e)){if(this.getChild(e).module.setRawData&&this._rawData.dataModel._rawData){this.getChild(e).module.setRawData({data:this._rawData.dataModel._rawData,bindings:this._rawData.bindings,scales:this._rawData.scales})}}}}};c.prototype.exportContent=function(e){return this._children["plot"].module.exportContent(e)};c.prototype.supportExportToContentType=function(){return this._children["plot"].module.supportExportToContentType()};c.prototype._getDataItems=function(){return this._dataItem};c.prototype._dispatchInitialized=function(){if(this._eventDispatch){this._eventDispatch.ready();var e=this.getChild("plot");if(e.module&&e.module._eventDispatch){var t=function(){if(!this._initialized){this._initialized=true;window.setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete()}},0)}}.bind(this);e.module._eventDispatch.on("renderComplete.renderExtensionComplete",t);e.module._eventDispatch.on("initialized.renderExtensionComplete",t)}}};return c});(function(){var e=define&&define.__autoLoad;if(e&&e.length){define.__autoLoad=[];require(e)}})();(function(e){var t=sap.bi.framework.declareBundle({id:"sap.viz.chart",components:e});(t.components||[]).forEach(function(e){e.instance=e.instance||{};window._cvom_kernel.register(e)})})(function(){var e="sap.viz.impls";var t={resources:[{key:"sap.viz.api.env.Template.loadPaths",path:"./resources/chart/templates"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/chart/langs"},{key:"sap.viz.api.env.Language.loadPaths",path:"./resources/framework/langs"}]};var i="sap/viz/chart/views/";var a="sap/viz/chart/metadata/bindings/";return[{id:"info/bar",provide:e,instance:{view:i+"XYChartView",renderType:"bar",plot:"sap/viz/chart/components/plots/ColumnPlot",family:"xy",name:"IDS_BARCHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/stacked_bar",provide:e,instance:{view:i+"XYChartView",renderType:"stacked_bar",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xy",name:"IDS_STACKEDBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/100_stacked_bar",provide:e,instance:{view:i+"XYChartView",renderType:"100_stacked_bar",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xy",name:"IDS_PERCENTAGESTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/column",provide:e,instance:{view:i+"XYChartView",renderType:"column",family:"xy",name:"IDS_VERTICALBARCHART",plot:"sap/viz/chart/components/plots/ColumnPlot",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/stacked_column",provide:e,instance:{view:i+"XYChartView",renderType:"stacked_column",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xy",name:"IDS_STACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/100_stacked_column",provide:e,instance:{view:i+"XYChartView",renderType:"100_stacked_column",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xy",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/line",provide:e,instance:{view:i+"XYChartView",renderType:"line",plot:"sap/viz/chart/components/plots/LinePlot",family:"xy",name:"IDS_LINECHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/area",provide:e,instance:{view:i+"XYChartView",plot:"sap/viz/chart/components/plots/AreaPlot",renderType:"area",family:"xy",name:"IDS_AREACHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/horizontal_area",provide:e,instance:{view:i+"XYChartView",renderType:"horizontal_area",plot:"sap/viz/chart/components/plots/AreaPlot",family:"xy",name:"IDS_HORIZONTALAREACHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/100_area",provide:e,instance:{view:i+"XYChartView",renderType:"100_area",family:"xy",name:"IDS_PERCENTAGEAREACHART",plot:"sap/viz/chart/components/plots/PercentageAreaPlot",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/100_horizontal_area",provide:e,instance:{view:i+"XYChartView",renderType:"100_horizontal_area",plot:"sap/viz/chart/components/plots/PercentageAreaPlot",family:"xy",name:"IDS_PERCENTAGEHORIZONTALAREACHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t},{id:"info/combination",provide:e,instance:{view:i+"XYChartView",renderType:"combination",family:"xy",name:"IDS_COMBINATIONCHART",plot:"sap/viz/chart/components/plots/CombinationPlot",vender:"sap.viz",bindings:a+"CombinationBindings"},customProperties:t},{id:"info/bubble",provide:e,instance:{view:i+"YYChartView",renderType:"bubble",family:"yy",name:"IDS_BUBBLECHART",vender:"sap.viz",bindings:a+"YYBindings"},customProperties:t},{id:"info/time_bubble",provide:e,instance:{view:i+"YYChartView",renderType:"time_bubble",family:"yy",name:"IDS_TIMEBUBBLECHART",vender:"sap.viz",bindings:a+"YYBindings"},customProperties:t},{id:"info/scatter",provide:e,instance:{view:i+"YYChartView",renderType:"scatter",family:"yy",name:"IDS_SCATTERCHART",vender:"sap.viz",bindings:a+"YYBindings"},customProperties:t},{id:"info/dual_column",provide:e,instance:{view:i+"XYYChartView",renderType:"column",plot:"sap/viz/chart/components/plots/ColumnPlot",family:"xyy",name:"IDS_DUALVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/dual_stacked_column",provide:e,instance:{view:i+"XYYChartView",renderType:"stacked_column",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xyy",name:"IDS_DUALSTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/100_dual_stacked_column",provide:e,instance:{view:i+"XYYChartView",renderType:"100_stacked_column",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xyy",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/dual_bar",provide:e,instance:{view:i+"XYYChartView",renderType:"bar",plot:"sap/viz/chart/components/plots/ColumnPlot",family:"xyy",name:"IDS_DUALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/dual_stacked_bar",provide:e,instance:{view:i+"XYYChartView",renderType:"stacked_bar",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xyy",name:"IDS_DUALSTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/100_dual_stacked_bar",provide:e,instance:{view:i+"XYYChartView",renderType:"100_stacked_bar",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xyy",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/dual_line",provide:e,instance:{view:i+"XYYChartView",renderType:"line",plot:"sap/viz/chart/components/plots/LinePlot",family:"xyy",name:"IDS_DUALLINECHART",vender:"sap.viz",bindings:a+"XYYBindings"},customProperties:t},{id:"info/bullet",provide:e,instance:{view:i+"BulletChartView",renderType:"bullet",family:"bullet",name:"IDS_BULLETCHART",vender:"sap.viz",bindings:a+"BulletBindings"},customProperties:t},{id:"info/vertical_bullet",provide:e,instance:{view:i+"BulletChartView",renderType:"vertical_bullet",family:"bullet",name:"IDS_VERTICALBULLETCHART",vender:"sap.viz",bindings:a+"BulletBindings"},customProperties:t},{id:"info/pie",provide:e,instance:{view:i+"PieChartView",renderType:"pie",family:"pie",name:"IDS_PIECHART",vender:"sap.viz",bindings:a+"PieBindings"},customProperties:t},{id:"info/donut",provide:e,instance:{view:i+"PieChartView",renderType:"donut",family:"pie",name:"IDS_DONUTCHART",vender:"sap.viz",bindings:a+"PieBindings"},customProperties:t},{id:"info/treemap",provide:e,instance:{view:i+"TreeChartView",renderType:"treemap",family:"treemap",name:"IDS_TREEMAPCHART",vender:"sap.viz",bindings:a+"TreeBindings"},customProperties:t},{id:"info/heatmap",provide:e,instance:{view:i+"XXChartView",renderType:"heatmap",family:"xx",name:"IDS_HEATMAPCHART",vender:"sap.viz",bindings:a+"XXBindings"},customProperties:t},{id:"info/stacked_combination",provide:e,instance:{view:i+"XYChartView",renderType:"stacked_combination",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",family:"xy",name:"IDS_STACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},customProperties:t},{id:"info/horizontal_stacked_combination",provide:e,instance:{view:i+"XYChartView",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",renderType:"horizontal_stacked_combination",family:"xy",name:"IDS_HORIZONTALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},customProperties:t},{id:"info/dual_stacked_combination",provide:e,instance:{view:i+"XYYChartView",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",renderType:"stacked_combination",family:"xyy",name:"IDS_DUALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},customProperties:t},{id:"info/dual_horizontal_stacked_combination",provide:e,instance:{view:i+"XYYChartView",renderType:"horizontal_stacked_combination",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",family:"xyy",name:"IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},customProperties:t},{id:"info/dual_combination",provide:e,instance:{view:i+"XYYChartView",renderType:"combination",plot:"sap/viz/chart/components/plots/CombinationPlot",family:"xyy",name:"IDS_DUALCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},customProperties:t},{id:"info/dual_horizontal_combination",provide:e,instance:{view:i+"XYYChartView",renderType:"horizontal_combination",plot:"sap/viz/chart/components/plots/CombinationPlot",family:"xyy",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},customProperties:t},{id:"info/timeseries_line",provide:e,instance:{view:i+"TimeYChartView",renderType:"timeseries_line",family:"ty",name:"IDS_TIMELINECHART",vender:"sap.viz",bindings:a+"TimeYBindings"},customProperties:t},{id:"info/timeseries_column",provide:e,instance:{view:i+"TimeYChartView",renderType:"timeseries_column",family:"ty",name:"IDS_TIMESERIESCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},customProperties:t},{id:"info/timeseries_bullet",provide:e,instance:{view:i+"TimeBulletChartView",renderType:"timeseries_bullet",family:"tBullet",name:"IDS_TIMESERIESBULLETCHART",vender:"sap.viz",bindings:a+"TimeBulletBindings"},customProperties:t},{id:"info/timeseries_combination",provide:e,instance:{view:i+"TimeYChartView",renderType:"timeseries_combination",family:"ty",name:"IDS_TIMESERIESCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYCombinationBindings"},customProperties:t},{id:"info/dual_timeseries_combination",provide:e,instance:{view:i+"TimeYYChartView",renderType:"timeseries_combination",family:"tyy",name:"IDS_DUALTIMESERIESCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYYBindings"},customProperties:t},{id:"info/timeseries_stacked_combination",provide:e,instance:{view:i+"TimeYChartView",renderType:"timeseries_stacked_combination",plot:"sap/viz/chart/components/plots/TimeStackedCombinationPlot",family:"ty",name:"IDS_TIMESERIESSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYStackedCombinationBindings"},customProperties:t},{id:"info/timeseries_stacked_column",provide:e,instance:{view:i+"TimeYChartView",renderType:"timeseries_stacked_column",family:"ty",name:"IDS_TIMESERIESSTACKEDCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},customProperties:t},{id:"info/timeseries_100_stacked_column",provide:e,instance:{view:i+"TimeYChartView",renderType:"timeseries_100_stacked_column",family:"ty",name:"IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},customProperties:t},{id:"info/timeseries_scatter",provide:e,instance:{view:i+"YYChartView",renderType:"timeseries_scatter",family:"ty",name:"IDS_TIMESERIESSCATTERCHART",vender:"sap.viz",bindings:a+"YYTimeBindings"},customProperties:t},{id:"info/timeseries_bubble",provide:e,instance:{view:i+"YYChartView",renderType:"timeseries_bubble",family:"ty",name:"IDS_TIMESERIESBUBBLECHART",vender:"sap.viz",bindings:a+"YYTimeBindings"},customProperties:t},{id:"info/timeseries_waterfall",provide:e,instance:{view:i+"TimeWaterFallChartView",renderType:"timeseries_waterfall",family:"ty",name:"IDS_TIMESERIESWATERFALLCHART",vender:"sap.viz",bindings:a+"TimeYColumnBindings"},customProperties:t},{id:"info/waterfall",provide:e,instance:{view:i+"WaterFallChartView",renderType:"waterfall",family:"waterfall",name:"IDS_WATERFALLCHART",vender:"sap.viz",bindings:a+"WaterFallBindings"},customProperties:t},{id:"info/horizontal_waterfall",provide:e,instance:{view:i+"WaterFallChartView",renderType:"horizontal_waterfall",family:"waterfall",name:"IDS_HORIZONTALWATERFALLCHART",vender:"sap.viz",bindings:a+"WaterFallBindings"},customProperties:t},{id:"info/radar",provide:e,instance:{view:i+"RadarChartView",renderType:"radar",family:"radar",name:"IDS_RADARCHART",vender:"sap.viz",bindings:a+"XYBindings"},customProperties:t}]}());(function(){try{var e=require("sap/viz/framework/core/ChartViewRegistry");if(e&&e.registerAll){e.registerAll()}}catch(e){}})();(function(e){e.define=sap.viz.moduleloader.originalDefine;e.require=sap.viz.moduleloader.originalRequire;e.requirejs=sap.viz.moduleloader.originalRequirejs})(this);(function(e){var sap=e.sap;var t=sap&&sap.viz;if(t){e.__sap_v3={};for(var i in t){if(i==="api"||i==="extapi"){if(jQuery&&jQuery.extend){e.__sap_v3[i]=jQuery.extend(true,{},t[i])}else{e.__sap_v3[i]=t[i]}}else{e.__sap_v3[i]=t[i]}}if(e.__sap_metadata){sap.viz.api.metadata=e.__sap_metadata}}})(this);(function(e){var t=sap.viz;var i=e.__sap_v2;var a=e.__sap_v3;function r(e,t){var i;var a;var r=1;var o={v2:2,v3:3};return function(n,l){return function(){r*=o[n];a=l?arguments:a;i=l?i:arguments;if(r%(o.v2*o.v3)===0){var s=a&&t?t:e;if(s){s.apply(this,s===t?a:i)}r=1}}}}if(i&&a){t.api=jQuery.extend(true,{},i.api,a.api);t.extapi=jQuery.extend(true,{},i.extapi,a.extapi);t.v2=i;t.v3=a;t.extapi.Flow=a.extapi.Flow;t.api.data.CrosstableDataset=i.api.data.CrosstableDataset;t.api.data.FlatTableDataset=i.api.data.FlatTableDataset;if(i.extapi.env.Resource&&i.extapi.env.Resource.path){var o=i.extapi.env.Resource.path();for(var n in o){a.extapi.env.Resource.path(n,o[n])}}var l={};var s={};var u={};if(i.api.env.Format&&i.api.env.Format.numericFormatter){var c=i.api.env.Format.numericFormatter();a.api.env.Format.numericFormatter(c)}if(i.api.env.Format&&i.api.env.Format.useDefaultFormatter){var h=i.api.env.Format.useDefaultFormatter();a.api.env.Format.useDefaultFormatter(h)}t.api.core.createViz=function(e){var i=sap.viz.api.metadata.Viz.get(e.type)?"v3":"v2";return t[i].api.core.createViz(e)};t.api.core.loadViz=function(e,i){var a=JSON.parse(JSON.stringify(e));var r=sap.viz.api.metadata.Viz.get(param.type)?"v3":"v2";return t[r].api.core.loadViz(e,i)};t.api.env.Language.set=function(e,i,a){var o=r(i,a);t.v2.api.env.Language.set(e,o("v2"),o("v2",true));t.v3.api.env.Language.set(e,o("v3"),o("v3",true))};t.api.env.Locale.set=function(e,i,a){var o=r(i);t.v2.api.env.Locale.set(e,o("v2"));t.v3.api.env.Locale.set(e,o("v3"),a)};t.api.env.Format.numericFormatter=function(e){t.v2.api.env.Format.numericFormatter(e);t.v3.api.env.Format.numericFormatter(e)};t.api.env.Format.useDefaultFormatter=function(e){t.v2.api.env.Format.useDefaultFormatter(e);t.v3.api.env.Format.useDefaultFormatter(e)};t.api.env.Resource.path=function(e,i){t.v2.api.env.Resource.path.apply(t.v2.api.env.Resource,arguments);return t.v3.api.env.Resource.path.apply(t.v3.api.env.Resource,arguments)};t.api.env.Template.set=function(e,i,a){var o=r(i,a);t.v2.api.env.Template.set(e,o("v2"),o("v2",true));t.v3.api.env.Template.set(e,o("v3"),o("v3",true))};t.api.env.Template.load=function(e,i,a){var r=2;function o(){if(--r===0&&i){i.apply(this,arguments)}}t.v2.api.env.Template.load(e,o);t.v3.api.env.Template.load(e,o,a)};t.extapi.env.Template.isRegistered=function(e){return t.v3.extapi.env.Template.isRegistered(e)};t.extapi.env.Language.register=function(e){t.v2.extapi.env.Language.register(e);t.v3.extapi.env.Language.register(e)};t.extapi.env.Language.get=function(){t.v2.extapi.env.Language.get();return t.v3.extapi.env.Language.get()};t.extapi.env.Language.addListener=function(e){var i=r(e);var a=i("v2");var o=i("v3");u[e]={v2:a,v3:o};t.v2.extapi.env.Language.addListener(a);return t.v3.extapi.env.Language.addListener(o)};t.extapi.env.Language.removeListener=function(e){if(u[e]){t.v2.extapi.env.Language.removeListener(u[e].v2);return t.v3.extapi.env.Language.removeListener(u[e].v3)}};t.extapi.env.Language.getErrorMessage=function(e){t.v2.extapi.env.Language.getErrorMessage(e);return t.v3.extapi.env.Language.getErrorMessage(e)};t.extapi.env.Language.getResourceString=function(e){t.v2.extapi.env.Language.getResourceString(e);return t.v3.extapi.env.Language.getResourceString(e)};t.extapi.env.Locale.get=function(){t.v2.extapi.env.Locale.get();return t.v3.extapi.env.Locale.get()};t.extapi.env.Locale.addListener=function(e){var i=r(e);var a=i("v2");var o=i("v3");l[e]={v2:a,v3:o};t.v2.extapi.env.Locale.addListener(a);return t.v3.extapi.env.Locale.addListener(o)};t.extapi.env.Locale.removeListener=function(e){if(l[e]){t.v2.extapi.env.Locale.removeListener(l[e].v2);return t.v3.extapi.env.Locale.removeListener(l[e].v3)}};t.extapi.env.Template.get=function(){t.v2.extapi.env.Template.get();return t.v3.extapi.env.Template.get()};t.extapi.env.Template.current=function(){t.v2.extapi.env.Template.current();return t.v3.extapi.env.Template.current()};t.extapi.env.Template.getPackage=function(e){t.v2.extapi.env.Template.getPackage(e);return t.v3.extapi.env.Template.getPackage(e)};t.extapi.env.Template.addListener=function(e){var i=r(e);var a=i("v2");var o=i("v3");s[e]=s[e]||[];s[e].push({v2:a,v3:o,v:e});t.v2.extapi.env.Template.addListener(a);return t.v3.extapi.env.Template.addListener(o)};t.extapi.env.Template.register=function(e){t.v2.extapi.env.Template.register(e);t.v3.extapi.env.Template.register(e)};t.api.env.Template.addListener=function(e){var i=r(e);var a=i("v2");var o=i("v3");s[e]=s[e]||[];s[e].push({v2:a,v3:o,v:e});t.v2.api.env.Template.addListener(a);return t.v3.api.env.Template.addListener(o)};t.api.env.Template.removeListener=function(e){var i=s[e],a;if(i){for(var r=0;r<i.length;r++){if(i[r].v===e){t.v2.api.env.Template.removeListener(i[r].v2);a=t.v3.api.env.Template.removeListener(i[r].v3);i.splice(r,1);break}}}return a};t.extapi.env.Template.removeListener=function(e){var i=s[e],a;if(i){for(var r=0;r<i.length;r++){if(i[r].v===e){t.v2.extapi.env.Template.removeListener(i[r].v2);a=t.v3.extapi.env.Template.removeListener(i[r].v3);i.splice(r,1);break}}}return a};t.extapi.core.registerBundle=function(e){t.v2.extapi.core.registerBundle(e);return t.v3.extapi.core.registerBundle(e)}}if(sap&&sap.viz&&sap.viz.framework&&sap.viz.framework.core&&sap.viz.framework.core.ChartViewRegistry){delete sap.viz.framework.core.ChartViewRegistry;function p(e){for(var t in e){if(e.hasOwnProperty(t)){return false}}return true}if(p(sap.viz.framework.core)){delete sap.viz.framework.core}if(p(sap.viz.framework)){delete sap.viz.framework}}})(this);
},
	"sap/viz/libs/sap-viz-info-framework.js":function(){
/* SAP CVOM 4.0  <2012-2014> SAP SE. All rights reserved. Build Version 7.37.0-SNAPSHOT, Build Context cvom_html_bycheckin-master.64 */
(function(e){var t=r(["sap","viz","moduleloader"]);if(t.require){return}var i={};function r(t){var i=e;for(var r=0,a=t.length;r<a;r++){var n=t[r];if(!i.hasOwnProperty(n)){i[n]={}}i=i[n]}return i}function a(e,t,r){var n={id:e};if(!Array.isArray(t)){r=t;t=[]}else{var o;t=t.map(function(t){if(t[0]==="."){if(o==null){o=e.substring(0,e.lastIndexOf("/"))}t=o+t.substring(1)}return t});n["export"]=t.indexOf("exports")!==-1;if(n["export"]||t.indexOf("require")!==-1){a.__autoLoad.push(e)}}n.deps=t;n.callback=r;i[e]=n}a.__autoLoad=[];function n(e){return Object.prototype.toString.call(e)==="[object Function]"}function o(e,t){var r;if(t==="require"){var a=l.bind(null,e);a.toUrl=function(){return""};a.defined=function(t){return e.modules.hasOwnProperty(t)};r=a}else if(t!=="exports"){var n=e.modules;if(!n.hasOwnProperty(t)){var o=i[t];if(o){n[t]=s(e,o.deps,o.callback,o.id,o["export"]);delete i[t]}}r=n[t]}return r}function s(e,t,i,a,s){var l=t.map(o.bind(null,e));var u=i;if(n(u)){u=u.apply(null,l)}if(s&&a){var c=e.exportMap[a];var f=c?c.split("."):a.split("/");var m=r(f.slice(0,f.length-1));var p=f[f.length-1];if(m.hasOwnProperty(p)){var h=m[p];for(var d in u){if(u.hasOwnProperty(d)){h[d]=u[d]}}if(n(h)&&n(u)){h=u}}else{m[p]=u}}return u}function l(e,t,i){return Array.isArray(t)?s(e,t,i):o(e,t)}function u(e,t){var i=u.s.contexts._;return l(i,e,t)}u.s={contexts:{_:{}}};u.config=function(e){var t=e.context||"_";u.s.contexts[t]=u.s.contexts[t]||{id:e.context,modules:{},exportMap:e.exportMap||{}};var i=l.bind(null,u.s.contexts[t]);i.config=u.config;i.s=u.s;return i};t.define=a;t.require=u})(this);(function(){var e;if(window){sap=window.sap||{}}else{sap=sap||{}}if(sap){sap.common=sap.common||{}}if(sap.common){sap.common.globalization=sap.common.globalization||{}}sap.common.globalization.VERSION=function(){return"1.0.0"};sap.common.globalization.declare=function(e){if(!e){throw new Error("name required")}if(typeof e!="string"){throw new Error("name has to be a string")}if(e.charAt(0)=="."||e.charAt(e.length-1)=="."||e.indexOf("..")!=-1){throw new Error("illegal name: "+e)}e=e.split(".");var t=window;for(var i=0;i<e.length;i++){t[e[i]]=t[e[i]]||{};t=t[e[i]]}return t};sap.common.globalization.require=function(e){};sap.common.globalization.extend=function(e,t){var i=e.prototype;e.superclass=t.prototype;var r=function(){};r.prototype=t.prototype;e.prototype=new r;for(var a in i){if(i.hasOwnProperty(a)){e.prototype[a]=i[a]}}e.prototype.constructor=e;if(t.prototype.constructor==Object.prototype.constructor){t.prototype.constructor=t}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.NumericFormatManager");sap.common.globalization.require("sap.common.globalization.utils.NumberUtil");sap.common.globalization.require("sap.common.globalization.utils.BooleanUtil");sap.common.globalization.require("sap.common.globalization.utils.DataFormatUtils");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.numericFormat.FTUtil");sap.common.globalization.require("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");var e=sap.common.globalization.NumericFormatManager;e.DEFAULT_FORMAT_DATE_TIME="SAP_FORMAT_DEFAULT_DATE_TIME";e.DEFAULT_FORMAT_TIME="SAP_FORMAT_DEFAULT_TIME";e.DEFAULT_FORMAT_SHORT_DATE="SAP_FORMAT_DEFAULT_SHORT_DATE";e.DEFAULT_FORMAT_LONG_DATE="SAP_FORMAT_DEFAULT_LONG_DATE";e.DEFAULT_FORMAT_NUMBER="SAP_DEFAULT_NUMBER_FORMAT";e.DEFAULT_FORMAT_BOOLEAN="SAP_DEFAULT_BOOLEAN_FORMAT";e._formatsCache={};e.resetFormatsCache=function(){e._formatsCache={}};e.setPVL=function(t,i){var r=sap.common.globalization.GlobalizationPreference.getInstance().pvl();sap.common.globalization.GlobalizationPreference.getInstance().setPvl(t);var a=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(!r||a!=r){e._formatsCache={};if(!i){e.setCustomizedLocaleInfo(null)}}};e.getPVL=function(){return sap.common.globalization.GlobalizationPreference.getInstance().pvl()};e.setCustomizedLocaleInfo=function(e,t){if(t){delete e.dayStrings;delete e.shortDayStrings;delete e.monthStrings;delete e.shortMonthStrings;delete e.amPms}sap.common.globalization.numericFormat.FLocalization.getInstance().setCustomizedLocaleInfo(e)};e.getThousandSeparator=function(){return sap.common.globalization.GlobalizationNumericConstant.getDisplayThousandSeparator()};e.getDecimalSeparator=function(){return sap.common.globalization.GlobalizationNumericConstant.getDisplayDecimalSeparator()};e.formatToText=function(e,t,i,r,a){return this._format(e,t,false,i,r,a)};e.formatToTextWithColor=function(e,t,i,r,a){return this._format(e,t,true,i,r,a)};e.getFormattedColor=function(e){var t=undefined;if(e&&e.hasOwnProperty("color")){t=e.color}return t};e.getFormattedText=function(e){var t=e;if(e&&e.hasOwnProperty("text")){t=e.text}return t};e.getFormat=function(t){if(t==null||t==""){return null}if(!e._formatsCache){e._formatsCache=new Object}var i=e._formatsCache[t];var r=sap.common.globalization.defaultFormat;if(i==null){if(t==e.DEFAULT_FORMAT_SHORT_DATE||t==e.DEFAULT_FORMAT_LONG_DATE||t==e.DEFAULT_FORMAT_DATE_TIME||t==e.DEFAULT_FORMAT_TIME){var t;var a=r.CustomNumericFormatLocaleFactory.getInstance();switch(t){case e.DEFAULT_FORMAT_SHORT_DATE:var n=new r.DefaultShortDateFormatLocaleFactory;i=new sap.common.globalization.numericFormat.FT(n,a);t=n.getDefaultDateFormat();break;case e.DEFAULT_FORMAT_LONG_DATE:var o=new r.DefaultDateFormatLocaleFactory;i=new sap.common.globalization.numericFormat.FT(o,a);t=o.getDefaultDateFormat();break;case e.DEFAULT_FORMAT_DATE_TIME:var s=new r.DefaultDateTimeFormatLocaleFactory;i=new sap.common.globalization.numericFormat.FT(s,a);t=s.getDefaultDateFormat();break;case e.DEFAULT_FORMAT_TIME:default:var l=new r.DefaultTimeFormatLocaleFactory;i=new sap.common.globalization.numericFormat.FT(l,a);t=l.getDefaultDateFormat()}i.parse(t)}else{if(r.DefaultNumericFormatLocaleFactory.isDefaultNumberFormat(t)){var u=new r.DefaultNumericFormatLocaleFactory(t);var u;var c=u.getDefaultNumericFormat();i=new sap.common.globalization.numericFormat.FT(r.CustomDateFormatLocaleFactory.getInstance(),u);i.parse(c)}else{if(r.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat(t)){var f=new r.DefaultCurrencyFormatLocaleFactory(t);var m=f.getDefaultCurrencyFormat();i=new sap.common.globalization.numericFormat.FT(r.CustomDateFormatLocaleFactory.getInstance(),f);i.parse(m)}else{if(t==e.DEFAULT_FORMAT_BOOLEAN){i=new sap.common.globalization.numericFormat.FTBoolean;i.parse(t)}else{i=new sap.common.globalization.numericFormat.FT;i.parse(t)}}}}e._formatsCache[t]=i}return i};e._format=function(t,i,r,a,n,o){var s=t==null?"":t;var l=e.getFormat(i);var u=false;var c=NaN;var a=a==undefined?true:a;var f;var m=String(s);if(l){if(l.isParsedSuccess()==false&&n==true){m=t}else{l.color=undefined;var p=false;if(a){if(sap.common.globalization.utils.NumberUtil.isNumericValue(s)){p=true}}else{if(sap.common.globalization.utils.BaseUtils.isNumber(s)){p=true}}if(p||o){var h=o?s:Number(s);m=l.display(h);c=Number(l.color)}else{if(sap.common.globalization.utils.BooleanUtil.isBooleanValue(s)&&sap.common.globalization.numericFormat.FTUtil.isBooleanFT(l)){m=l.display(s)}else{if(s instanceof Date){m=l.display(s)}}}}}if(r&&!isNaN(c)){if(!f){f={}}f.color=c;f.text=m}else{f=m}return f};e.format=function(t,i){var r=e.getFormat(i);if(r==null){return t}return r.display(t)};e.SAP_PARAMETERS={};e.resetParameters=function(){e.SAP_PARAMETERS={}};e.setBooleanDisplayString=function(e,t){sap.common.globalization.GlobalizationBooleanConstant.BOOLEAN_STRING_TRUE=e;sap.common.globalization.GlobalizationBooleanConstant.BOOLEAN_STRING_FALSE=t}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.NumericFormatManager");sap.common.globalization.GlobalizationPreference=function(){this.__className="sap.common.globalization.GlobalizationPreference";this._preferredViewingLocale=null};var e=sap.common.globalization.GlobalizationPreference;e._instance=null;e.DOCUMENT_LOCALE="en";e.getInstance=function(){if(!e._instance){e._instance=new sap.common.globalization.GlobalizationPreference}return e._instance};e.resetInstance=function(){e._instance=new sap.common.globalization.GlobalizationPreference};e.prototype.pvl=function(){return this._preferredViewingLocale};e.prototype.setPvl=function(e){if(e!=this._preferredViewingLocale){this._preferredViewingLocale=e}};e.prototype.pvlIsoLanguageCode=function(){return this._getIsoLanguageCode(this.pvl())};e.prototype.documentLocale=function(){return e.DOCUMENT_LOCALE};e.prototype.documentIsoLanguageCode=function(){return this._getIsoLanguageCode(e.DOCUMENT_LOCALE)};e.prototype._getIsoLanguageCode=function(e){if(e){return String(e).split("_")[0]}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationBooleanConstant");var e=sap.common.globalization.GlobalizationBooleanConstant;e.BOOLEAN_STRING_TRUE="TRUE";e.BOOLEAN_STRING_FALSE="FALSE";e.getBooleanStrings=function(){return[e.BOOLEAN_STRING_TRUE,e.BOOLEAN_STRING_FALSE]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.GlobalizationNumericConstant=function(){this.__className="sap.common.globalization.GlobalizationNumericConstant"};var e=sap.common.globalization.GlobalizationNumericConstant;e._FORMAT_TYPE_NUMBER="number";e._FORMAT_TYPE_CURRENCY="currency";e._KEY_TYPE_NUMERIC="numeric";e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR="displayThousandsSeparator";e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR="displayDecimalSeparator";e._DEFAULT_FORMAT_STRING={af:{number:"#,##0.###",currency:"#,##0.00"},af_ZA:{},ar:{number:"#,##0.###",currency:" #,##0.00"},ar_AE:{},ar_BH:{},ar_DZ:{},ar_EG:{},ar_IQ:{},ar_JO:{},ar_KW:{},ar_LB:{},ar_LY:{},ar_MA:{},ar_OM:{},ar_QA:{currency:"#0.00"},ar_SA:{currency:"#0.00"},ar_SY:{currency:"#0.00"},ar_TN:{currency:"#0.00"},ar_YE:{currency:"#0.00"},az:{number:"#,##0.###",currency:" #,##0.00"},az_AZ:{},be:{number:"#,##0.###",currency:"#,##0.00"},be_BY:{},bg:{number:"#,##0.###",currency:"#,##0.00 "},bg_BG:{},bn:{number:"#,##,##0.###",currency:"#,##,##0.00;(#,##,##0.00)"},bn_IN:{},br:{number:"#,##0.###",currency:"#,##0.00"},bs:{number:"#,##0.###",currency:" #,##0.00"},bs_BA:{},ca:{number:"#,##0.###",currency:"#,##0.00 "},ca_ES:{},cs:{number:"#,##0.###",currency:"#,##0.00 "},cs_CZ:{},cy:{number:"#,##0.###",currency:"#,##0.00"},cy_GB:{},da:{number:"#,##0.###",currency:"#,##0.00 "},da_DK:{},de:{number:"#,##0.###",currency:"#,##0.00 "},de_AT:{currency:" #,##0.00"},de_BE:{},de_CH:{currency:" #,##0.00;-#,##0.00"},de_DE:{},de_LI:{currency:" #,##0.00"},de_LU:{},el:{number:"#,##0.###",currency:"#,##0.00 "},el_CY:{currency:"#,##0.00"},el_GR:{},en:{number:"#,##0.###",currency:"#,##0.00;(#,##0.00)"},en_AU:{currency:"#,##0.00"},en_BZ:{currency:"#,##0.00"},en_CA:{},en_GB:{currency:"#,##0.00"},en_HK:{},en_IE:{currency:"#,##0.00"},en_IN:{number:"#,##,##0.###",currency:"#,##,##0.00"},en_JM:{currency:"#,##0.00"},en_NZ:{currency:"#,##0.00"},en_PH:{},en_SG:{},en_TT:{currency:"#,##0.00"},en_US:{},en_VI:{},en_ZA:{currency:"#,##0.00"},en_ZW:{currency:"#,##0.00"},es:{number:"#,##0.###",currency:" #,##0.00"},es_AR:{},es_BO:{},es_CL:{currency:"#,##0.00;-#,##0.00"},es_CO:{},es_CR:{},es_DO:{},es_EC:{currency:"#,##0.00;-#,##0.00"},es_ES:{},es_GT:{},es_HN:{},es_MX:{},es_NI:{},es_PA:{},es_PE:{},es_PR:{},es_PY:{currency:" #,##0.00; -#,##0.00"},es_SV:{},es_UY:{currency:" #,##0.00;( #,##0.00)"},es_VE:{currency:"#,##0.00;-#,##0.00"},et:{number:"#,##0.###",currency:"#,##0.00 "},et_EE:{},eu:{number:"#,##0.###",currency:"#,##0.00 "},eu_ES:{},fa:{number:"#,##0.###;#,##0.###",currency:"#,##0.00 ;'-#,##0.00' "},fa_IR:{},fi:{number:"#,##0.###",currency:"#,##0.00 "},fi_FI:{},fo:{number:"#,##0.###",currency:"#,##0.00;-#,##0.00"},fo_FO:{},fr:{number:"#,##0.###",currency:"#,##0.00 "},fr_BE:{},fr_CA:{currency:"#,##0.00 ;(#,##0.00 )"},fr_CH:{currency:" #,##0.00;-#,##0.00"},fr_FR:{},fr_LU:{},fr_MC:{},gl:{number:"#,##0.###",currency:"#,##0.00 "},gl_ES:{},gu:{number:"#,##,##0.###",currency:" #,##,##0.00"},gu_IN:{},he:{number:"#,##0.###",currency:"#,##0.00 "},he_IL:{},hi:{number:"#,##,##0.###",currency:" #,##,##0.00"},hi_IN:{},hr:{number:"#,##0.###",currency:"#,##0.00 "},hr_HR:{},hu:{number:"#,##0.###",currency:"#,##0.00 "},hu_HU:{},hy:{number:"#0.###",currency:"#0.00 "},hy_AM:{},id:{number:"#,##0.###",currency:"#,##0.00"},id_ID:{},is:{number:"#,##0.###",currency:"#,##0.00 "},is_IS:{},it:{number:"#,##0.###",currency:" #,##0.00"},it_CH:{currency:" #,##0.00;-#,##0.00"},it_IT:{},ja:{number:"#,##0.###",currency:"#,##0.00"},ja_JP:{},ka:{number:"#,##0.###",currency:" #,##0.00"},ka_GE:{},kk:{number:"#,##0.###",currency:"#,##0.00 "},kk_KZ:{},kn:{number:"#,##,##0.###",currency:" #,##,##0.00"},kn_IN:{},ko:{number:"#,##0.###",currency:"#,##0.00"},ko_KR:{},kok:{number:"#,##,##0.###",currency:" #,##,##0.00"},kok_IN:{},lt:{number:"#,##0.###;#,##0.###",currency:"#,##0.00 "},lt_LT:{},lv:{number:"#,##0.###",currency:"#,##0.00 "},lv_LV:{},mk:{number:"#,##0.###;(#,##0.###)",currency:" #,##0.00"},mk_MK:{},ml:{number:"#,##,##0.###",currency:"#,##,##0.00"},ml_IN:{},mn:{number:"#,##0.###",currency:" #,##0.00"},mn_MN:{},mr:{number:"#,##,##0.###",currency:" #,##,##0.00"},mr_IN:{},ms:{number:"#,##0.###",currency:"#,##0.00;(#,##0.00)"},ms_BN:{currency:" #,##0.00"},ms_MY:{},mt:{number:"#,##0.###",currency:"#,##0.00"},mt_MT:{},nb:{number:"#,##0.###",currency:" #,##0.00"},nb_NO:{},nl:{number:"#,##0.###",currency:" #,##0.00; #,##0.00-"},nl_BE:{currency:"#,##0.00 "},nl_NL:{},nn:{number:"#,##0.###;#,##0.###",currency:"#,##0.00 "},nn_NO:{},pa:{number:"#,##,##0.###",currency:" #,##,##0.00"},pa_IN:{},pl:{number:"#,##0.###",currency:"#,##0.00 "},pl_PL:{},pt:{number:"#,##0.###",currency:"#,##0.00;(#,##0.00)"},pt_BR:{},pt_PT:{currency:"#,##0.00 "},ro:{number:"#,##0.###",currency:"#,##0.00 "},ro_RO:{},ru:{number:"#,##0.###",currency:"#,##0.00 "},ru_RU:{},ru_UA:{},se:{number:"#,##0.###",currency:" #,##0.00"},se_NO:{},sk:{number:"#,##0.###",currency:"#,##0.00 "},sk_SK:{},sl:{number:"#,##0.###",currency:"#,##0.00 "},sl_SI:{},sq:{number:"#,##0.###",currency:"#,##0.00"},sq_AL:{},sr:{number:"#,##0.###",currency:"#,##0.00 "},sr_BA:{},sr_CS:{},sv:{number:"#,##0.###;#,##0.###",currency:"#,##0.00 "},sv_FI:{},sv_SE:{},sw:{number:"#,##0.###",currency:"#,##0.00 "},sw_KE:{currency:"#,##0.00"},syr:{number:"#,##0.###",currency:" #,##0.00"},syr_SY:{},ta:{number:"#,##,##0.###",currency:" #,##,##0.00"},ta_IN:{},te:{number:"#,##,##0.###",currency:" #,##,##0.00"},te_IN:{},th:{number:"#,##0.###",currency:"#,##0.00;-#,##0.00"},th_TH:{},tn:{number:"#,##0.###",currency:"#,##0.00"},tn_ZA:{},tr:{number:"#,##0.###",currency:"#,##0.00 "},tr_TR:{},uk:{number:"#,##0.###",currency:"#,##0.00 "},uk_UA:{},uz:{number:"#,##0.###",currency:" #,##0.00"},uz_UZ:{},vi:{number:"#,##0.###",currency:"#,##0.00 "},vi_VN:{},xh:{number:"#,##0.###",currency:"#,##0.00"},xh_ZA:{},zh:{number:"#,##0.###",currency:"#,##0.00"},zh_CN:{},zh_HK:{},zh_MO:{},zh_SG:{},zh_TW:{},zu:{number:"#,##0.###",currency:"#,##0.00"},zu_ZA:{}};e._RESOURCE_MAP={af:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},af_ZA:{numeric:{}},ar:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ar_AE:{numeric:{}},ar_BH:{numeric:{}},ar_DZ:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_EG:{numeric:{}},ar_IQ:{numeric:{}},ar_JO:{numeric:{}},ar_KW:{numeric:{}},ar_LB:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_LY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_MA:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_OM:{numeric:{}},ar_QA:{numeric:{}},ar_SA:{numeric:{}},ar_SY:{numeric:{}},ar_TN:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ar_YE:{numeric:{}},az:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},az_AZ:{numeric:{}},be:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},be_BY:{numeric:{}},bg:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},bg_BG:{numeric:{}},bn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},bn_IN:{numeric:{}},br:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},bs:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},bs_BA:{numeric:{}},ca:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ca_ES:{numeric:{}},cs:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},cs_CZ:{numeric:{}},cy:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},cy_GB:{numeric:{}},da:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},da_DK:{numeric:{}},de:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},de_AT:{numeric:{}},de_BE:{},de_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},de_DE:{numeric:{}},de_LI:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},de_LU:{numeric:{}},el:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},el_CY:{numeric:{}},el_GR:{numeric:{}},en:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},en_AU:{numeric:{}},en_BZ:{numeric:{}},en_CA:{numeric:{}},en_GB:{numeric:{}},en_HK:{numeric:{}},en_IE:{numeric:{}},en_IN:{numeric:{}},en_JM:{numeric:{}},en_NZ:{numeric:{}},en_PH:{numeric:{}},en_SG:{numeric:{}},en_TT:{numeric:{}},en_US:{numeric:{}},en_VI:{numeric:{}},en_ZA:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},en_ZW:{numeric:{}},es:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_AR:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_BO:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CL:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CO:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_CR:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_DO:{numeric:{}},es_EC:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_ES:{numeric:{}},es_GT:{numeric:{}},es_HN:{numeric:{}},es_MX:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_NI:{numeric:{}},es_PA:{numeric:{}},es_PE:{numeric:{}},es_PR:{numeric:{}},es_PY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_SV:{numeric:{}},es_UY:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},es_VE:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},et:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},et_EE:{numeric:{}},eu:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},eu_ES:{numeric:{}},fa:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},fa_IR:{numeric:{}},fi:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},fi_FI:{numeric:{}},fo:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},fo_FO:{numeric:{}},fr:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},fr_BE:{numeric:{displayThousandsSeparator:"."}},fr_CA:{numeric:{}},fr_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},fr_FR:{numeric:{}},fr_LU:{numeric:{displayThousandsSeparator:"."}},fr_MC:{numeric:{}},gl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},gl_ES:{numeric:{}},gu:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},gu_IN:{numeric:{}},he:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},he_IL:{numeric:{}},hi:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},hi_IN:{numeric:{}},hr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},hr_HR:{numeric:{}},hu:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},hu_HU:{numeric:{}},hy:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},hy_AM:{numeric:{}},id:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},id_ID:{numeric:{}},is:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},is_IS:{numeric:{}},it:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},it_CH:{numeric:{displayThousandsSeparator:"'",displayDecimalSeparator:"."}},it_IT:{numeric:{}},ja:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ja_JP:{numeric:{}},ka:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ka_GE:{numeric:{}},kk:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},kk_KZ:{numeric:{}},kn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},kn_IN:{numeric:{}},ko:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ko_KR:{numeric:{}},kok:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},kok_IN:{numeric:{}},lt:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},lt_LT:{numeric:{}},lv:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},lv_LV:{numeric:{}},mk:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},mk_MK:{numeric:{}},ml:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ml_IN:{numeric:{}},mn:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mn_MN:{numeric:{}},mr:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mr_IN:{numeric:{}},ms:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ms_BN:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ms_MY:{numeric:{}},mt:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},mt_MT:{numeric:{}},nb:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},nb_NO:{numeric:{}},nl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},nl_BE:{numeric:{}},nl_NL:{numeric:{}},nn:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},nn_NO:{numeric:{}},pa:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},pa_IN:{numeric:{}},pl:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},pl_PL:{numeric:{}},pt:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},pt_BR:{numeric:{}},pt_PT:{numeric:{displayThousandsSeparator:""}},ro:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},ro_RO:{numeric:{}},ru:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},ru_RU:{numeric:{}},ru_UA:{numeric:{}},se:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},se_NO:{numeric:{}},sk:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},sk_SK:{numeric:{}},sl:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sl_SI:{numeric:{}},sq:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sq_AL:{numeric:{}},sr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},sr_BA:{numeric:{}},sr_CS:{numeric:{}},sv:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},sv_FI:{numeric:{}},sv_SE:{numeric:{}},sw:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},sw_KE:{numeric:{}},syr:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},syr_SY:{numeric:{}},ta:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},ta_IN:{numeric:{}},te:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},te_IN:{numeric:{}},th:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},th_TH:{numeric:{}},tn:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},tn_ZA:{numeric:{}},tr:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},tr_TR:{numeric:{}},uk:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},uk_UA:{numeric:{}},uz:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},uz_UZ:{numeric:{}},vi:{numeric:{displayThousandsSeparator:".",displayDecimalSeparator:","}},vi_VN:{numeric:{}},xh:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},xh_ZA:{numeric:{}},zh:{numeric:{displayThousandsSeparator:",",displayDecimalSeparator:"."}},zh_CN:{numeric:{}},zh_HK:{numeric:{}},zh_MO:{numeric:{}},zh_SG:{numeric:{}},zh_TW:{numeric:{}},zu:{numeric:{displayThousandsSeparator:"",displayDecimalSeparator:","}},zu_ZA:{numeric:{}}};e.getParseThousandSeparator=function(e){return","};e.getDisplayThousandSeparator=function(t){var t=t||null;if(t){if(e._resourceExist(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)){return e.getNumericResource(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)}else{return null}}return e._getAppropriateNumericResource(e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_THOUSANDS_SEPARATOR)};e.getParseDecimalSeparator=function(e){return"."};e.getDisplayDecimalSeparator=function(t){var t=t||null;if(t){if(e._resourceExist(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)){return e.getNumericResource(t,e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)}else{return null}}return e._getAppropriateNumericResource(e._KEY_TYPE_NUMERIC,e._KEY_TOKEN_DISPLAY_DECIMAL_SEPARATOR)};e.getParseCurrencySymbol=function(){return""};e.getDefaultNumberFormat=function(t){var t=t||null;if(t){if(e._formatExist(t,e._FORMAT_TYPE_NUMBER)){return e._getNumericFormat(t,e._FORMAT_TYPE_NUMBER)}else{return null}}return e._getAppropriateNumericFormat(e._FORMAT_TYPE_NUMBER)};e.getDefaultCurrencyFormat=function(t){var t=t||null;if(t){if(e._formatExist(t,e._FORMAT_TYPE_CURRENCY)){return e._getNumericFormat(t,e._FORMAT_TYPE_CURRENCY)}else{return null}}return e._getAppropriateNumericFormat(e._FORMAT_TYPE_CURRENCY)};e.getActualLocaleForDefaultCurrencyFormat=function(){return e.getActualLocaleForNumerFormat(e._FORMAT_TYPE_CURRENCY)};e.getActualLocaleForDefaultNumberFormat=function(){return e.getActualLocaleForNumerFormat(e._FORMAT_TYPE_NUMBER)};e.getActualLocaleForNumerFormat=function(t){var i=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e._formatExist(i,t)){return i}var r=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e._formatExist(r,t)){return r}var a=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e._formatExist(a,t)){return a}var n=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e._formatExist(n,t)){return n}return"en"};e._getAppropriateNumericFormat=function(t){return e._getNumericFormat(e.getActualLocaleForNumerFormat(t),t)};e._formatExist=function(t,i){return t&&i&&e._DEFAULT_FORMAT_STRING[t]&&e._DEFAULT_FORMAT_STRING[t][i]};e._getNumericFormat=function(t,i){return e._DEFAULT_FORMAT_STRING[t][i]};e._getAppropriateNumericResource=function(t,i){var r=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e._resourceExist(r,t,i)){return e.getNumericResource(r,t,i)}var a=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e._resourceExist(a,t,i)){return e.getNumericResource(a,t,i)}var n=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e._resourceExist(n,t,i)){return e.getNumericResource(n,t,i)}var o=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e._resourceExist(o,t,i)){return e.getNumericResource(o,t,i)}return e.getNumericResource("en",t,i)};e._resourceExist=function(t,i,r){return t&&i&&r&&e._RESOURCE_MAP[t]&&e._RESOURCE_MAP[t][i]&&e._RESOURCE_MAP[t][i][r]};e.getNumericResource=function(t,i,r){return e._RESOURCE_MAP[t][i][r]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.GlobalizationDateConstant=function(){this.__className="sap.common.globalization.defaultFormat.GlobalizationDateConstant"};var e=sap.common.globalization.GlobalizationDateConstant;e.FORMAT_TYPE_SHORTDATE="shortDate",e.FORMAT_TYPE_LONGDATE="longDate",e.FORMAT_TYPE_DATE_TIME="dateTime",e.FORMAT_TYPE_TIME="timeFormat",e.KEY_TYPE_DATE="date",e.KEY_TYPE_TIME="time",e.KEY_TOKEN_SHORT_DAY="shortDay",e.KEY_TOKEN_LONG_DAY="longDay",e.KEY_TOKEN_SHORT_MONTH="shortMonth",e.KEY_TOKEN_LONG_MONTH="longMonth",e.KEY_TOKEN_AM_PM="amPm",e.KEY_DATE_SEPARATOR="dateSeparator",e.KEY_TIME_SEPARATOR="timeSeparator",e.KEY_TOKEN_ABBREV_ERA="eraAbbr",e.DEFAULT_FORMAT_STRING={af:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},af_ZA:{},ar:{longDate:"dddd d MMMM yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"dd/MM/yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ar_AE:{},ar_BH:{},ar_DZ:{},ar_EG:{},ar_IQ:{},ar_JO:{},ar_KW:{},ar_LB:{},ar_LY:{},ar_MA:{},ar_OM:{},ar_QA:{},ar_SA:{},ar_SY:{},ar_TN:{},ar_YE:{},az:{longDate:"dddd, d, MMMM, yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},az_AZ:{},be:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d.M.yy;@",dateTime:"d.M.yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},be_BY:{},bg:{longDate:"dd MMMM yyyy, dddd;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},bg_BG:{},bn:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d/M/yy;@",dateTime:"d MMM, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},bn_IN:{},bs:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},bs_BA:{},ca:{longDate:'dddd d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ca_ES:{},cs:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yy;@",dateTime:"d.M.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},cs_CZ:{},cy:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},cy_GB:{},da:{longDate:'dddd "den" d. MMMM yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},da_DK:{},de:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},de_AT:{longDate:"dddd, dd. MMMM yyyy;@"},de_CH:{},de_DE:{},de_LI:{},de_LU:{},el:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"dd MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},el_GR:{},en:{longDate:"dddd, MMMM d, yyyy;@",shortDate:"M/d/yy;@",dateTime:"MMM d, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},en_AU:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d/MM/yy;@",dateTime:"dd/MM/yyyy h:mm:ss AM/PM;@"},en_BZ:{dateTime:"dd-MMM-yyyy h:mm:ss AM/PM;@"},en_CA:{shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd h:mm:ss AM/PM;@"},en_GB:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},en_IE:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},en_JM:{},en_NZ:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy h:mm:ss AM/PM;@"},en_PH:{},en_TT:{},en_US:{},en_VI:{},en_ZA:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy/MM/dd;@",dateTime:"dd MMM yyyy h:mm:ss AM/PM;@"},en_ZW:{longDate:"dddd dd MMMM yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"dd MMM, yyyy h:mm:ss AM/PM;@"},es:{longDate:'dddd d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},es_AR:{},es_BO:{},es_CL:{shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_CO:{shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_CR:{},es_DO:{},es_EC:{dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},es_ES:{},es_GT:{shortDate:"d/MM/yy;@",dateTime:"d/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},es_HN:{longDate:'dddd dd "de" MMMM "de" yyyy;@'},es_MX:{},es_NI:{},es_PA:{shortDate:"MM/dd/yy;@",dateTime:"MM/dd/yyyy HH:mm:ss;@"},es_PE:{shortDate:"d/MM/yy;@"},es_PR:{shortDate:"MM/dd/yy;@",dateTime:"MM/dd/yyyy HH:mm:ss;@"},es_PY:{},es_SV:{},es_UY:{},es_VE:{},et:{longDate:"dddd, d, MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},et_EE:{},eu:{longDate:'dddd, yyyy"eko" MMMM"ren" dd"a";@',shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},eu_ES:{},fa:{longDate:"dddd d MMMM yyyy;@",shortDate:"yy/M/d;@",dateTime:"yyyy/M/d H:mm:ss;@",timeFormat:"H:mm:ss;@"},fa_IR:{},fi:{longDate:"dddd d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy H.mm.ss;@",timeFormat:"H.mm.ss;@"},fi_FI:{},fo:{longDate:"dddd dd MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},fo_FO:{},fr:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},fr_BE:{shortDate:"d/MM/yy;@"},fr_CA:{shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd HH:mm:ss;@"},fr_CH:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yy;@"},fr_FR:{},fr_LU:{},fr_MC:{},gl:{longDate:"dddd dd MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},gl_ES:{},gu:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d-MM-yy;@",dateTime:"d MMM, yyyy hh:mm:ss AM/PM;@",timeFormat:"hh:mm:ss AM/PM;@"},gu_IN:{},he:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},he_IL:{},hi:{longDate:"dddd, d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"dd-MM-yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},hi_IN:{},hr:{longDate:"dddd, d. MMMM yyyy.;@",shortDate:"dd.MM.yyyy.;@",dateTime:"d.M.yyyy. HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},hr_HR:{},hu:{longDate:"yyyy. MMMM d., dddd;@",shortDate:"yyyy.MM.dd.;@",dateTime:"yyyy.MM.dd. H:mm:ss;@",timeFormat:"H:mm:ss;@"},hu_HU:{},hy:{longDate:"dddd, MMMM d, yyyy;@",shortDate:"MM/dd/yy;@",dateTime:"MMM d, yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},hy_AM:{},id:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},id_ID:{},is:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},is_IS:{},it:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd/MM/yy;@",dateTime:"dd/MMM/yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},it_CH:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d-MMM-yyyy HH.mm.ss;@"},it_IT:{},ja:{longDate:"yyyyMddddd;@",shortDate:"yy/MM/dd;@",dateTime:"yyyy/MM/dd H:mm:ss;@",timeFormat:"H:mm:ss;@"},ja_JP:{},ka:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ka_GE:{},kk:{longDate:'dddd, d MMMM yyyy "".;@',shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},kk_KZ:{},kn:{longDate:"dddd d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM yyyy hh:mm:ss AM/PM;@",timeFormat:"hh:mm:ss AM/PM;@"},kn_IN:{},ko:{longDate:"yyyy M d dddd;@",shortDate:"yy. M. d.;@",dateTime:"yyyy. M. d. AM/PM h:mm:ss;@",timeFormat:"AM/PM h:mm:ss;@"},ko_KR:{},kok:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},kok_IN:{},lt:{longDate:'yyyy "m". MMMM d "d".,dddd;@',shortDate:"yyyy-MM-dd;@",dateTime:"yyyy.MM.dd HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},lt_LT:{},lv:{longDate:'dddd, yyyy. "gada" d. MMMM;@',shortDate:"dd.MM.yy;@",dateTime:'yyyy. "gada" d. MMM HH:mm:ss;@',timeFormat:"HH:mm:ss;@"},lv_LV:{},mk:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd.M.yy;@",dateTime:"dd.M.yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mk_MK:{},ml:{longDate:"yyyy, MMMM d, dddd;@",shortDate:"dd/MM/yy;@",dateTime:"yyyy, MMM d h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ml_IN:{},mn:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mn_MN:{},mr:{longDate:"dddd d MMMM yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM yyyy h-mm-ss AM/PM;@",timeFormat:"h-mm-ss AM/PM;@"},mr_IN:{},ms:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ms_BN:{longDate:"dd MMMM yyyy;@",dateTime:"dd/MM/yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ms_MY:{},mt:{longDate:'dddd, d "ta" MMMM yyyy;@',shortDate:"dd/MM/yyyy;@",dateTime:"dd MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},mt_MT:{},nb:{longDate:"dddd d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d. MMM yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},nb_NO:{},nl:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},nl_BE:{shortDate:"d/MM/yy;@",dateTime:"d-MMM-yyyy HH:mm:ss;@"},nl_NL:{},nn:{longDate:"dddd d. MMMM yyyy;@",shortDate:"dd.MM.yy;@",dateTime:"d. MMM. yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},nn_NO:{},pa:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"dd/MM/yyyy;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},pa_IN:{},pl:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"dd-MM-yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},pl_PL:{},pt:{longDate:'dddd, d "de" MMMM "de" yyyy;@',shortDate:"dd/MM/yy;@",dateTime:"dd/MM/yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},pt_BR:{},pt_PT:{dateTime:'d "de" MMM "de" yyyy HH:mm:ss;@'},ro:{longDate:"dddd, d MMMM yyyy;@",shortDate:"dd.MM.yyyy;@",dateTime:"dd.MM.yyyy, HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},ro_RO:{},ru:{longDate:'dddd, d MMMM yyyy "".;@',shortDate:"dd.MM.yy;@",dateTime:"dd.MM.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},ru_RU:{},se:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},se_NO:{},sk:{longDate:"dddd, d. MMMM yyyy;@",shortDate:"d.M.yyyy;@",dateTime:"d.M.yyyy H:mm:ss;@",timeFormat:"H:mm:ss;@"},sk_SK:{},sl:{longDate:"dddd, dd. MMMM yyyy;@",shortDate:"d. MM. yy;@",dateTime:"d. MMM. yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},sl_SI:{},sq:{longDate:"dddd, dd MMMM yyyy;@",shortDate:"yy-MM-dd;@",dateTime:"yyyy-MM-dd h.mm.ss.AM/PM;@",timeFormat:"h.mm.ss.AM/PM;@"},sq_AL:{},sr:{longDate:"dddd, dd. MMMM yyyy.;@",shortDate:"d.M.yy.;@",dateTime:"dd.MM.yyyy. HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},sr_BA:{},sr_CS:{},sv:{longDate:"dddd d MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM yyyy HH.mm.ss;@",timeFormat:"HH.mm.ss;@"},sv_FI:{},sv_SE:{},sw:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},sw_KE:{},syr:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"y MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},syr_SY:{},ta:{longDate:"dddd, d MMMM, yyyy;@",shortDate:"d-M-yy;@",dateTime:"d MMM, yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},ta_IN:{},te:{longDate:"dddd d MMMM yyyy;@",shortDate:"dd-MM-yy;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},te_IN:{},th:{longDate:"dddd d MMMM G yyyy;@",shortDate:"d/M/yyyy;@",dateTime:"d MMM yyyy, H:mm:ss;@",timeFormat:"H:mm:ss;@"},th_TH:{},tn:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},tn_ZA:{},tr:{longDate:"dd MMMM yyyy dddd;@",shortDate:"dd.MM.yyyy;@",dateTime:"dd MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},tr_TR:{},uk:{longDate:'dddd, d MMMM yyyy "".;@',shortDate:"dd.MM.yy;@",dateTime:"d MMM yyyy HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},uk_UA:{},uz:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},uz_UZ:{},vi:{longDate:'dddd, "ngy" dd MMMM "nm" yyyy;@',shortDate:"dd/MM/yyyy;@",dateTime:"HH:mm:ss dd-MM-yyyy;@",timeFormat:"HH:mm:ss;@"},vi_VN:{},xh:{longDate:"dddd, yyyy MMMM dd;@",shortDate:"yyyy-MM-dd;@",dateTime:"yyyy MMM d HH:mm:ss;@",timeFormat:"HH:mm:ss;@"},xh_ZA:{},zh:{longDate:"yyyyMddddd;@",shortDate:"yy-M-d;@",dateTime:"yyyy-M-d AM/PMhh:mm:ss;@",timeFormat:"AM/PMhh:mm:ss;@"},zh_CN:{},zh_HK:{},zh_MO:{},zh_SG:{},zh_TW:{},zu:{longDate:"dddd dd MMMM yyyy;@",shortDate:"yyyy-MM-dd;@",dateTime:"d MMM yyyy h:mm:ss AM/PM;@",timeFormat:"h:mm:ss AM/PM;@"},zu_ZA:{}},e.RESOURCE_MAP={af:{date:{dateSeparator:"-",era:["voor Christus","na Christus"],eraAbbr:["v.C.","n.C."],shortDay:["So","Ma","Di","Wo","Do","Vr","Sa"],shortMonth:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longDay:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],longMonth:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]},time:{timeSeparator:":",amPm:["vm.","nm."]}},af_ZA:{date:{},time:{}},ar:{date:{dateSeparator:"/",era:[" ",""],eraAbbr:[".",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},ar_AE:{date:{},time:{}},ar_BH:{date:{},time:{}},ar_DZ:{date:{},time:{}},ar_EG:{date:{},time:{}},ar_IQ:{date:{},time:{}},ar_JO:{date:{shortDay:["","","","","","",""],shortMonth:[" ","","","","","","","",""," "," "," "],longMonth:[" ","","","","","","","",""," "," "," "]},time:{}},ar_KW:{date:{},time:{}},ar_LB:{date:{shortDay:["","","","","","",""],shortMonth:[" ","","","","","","","",""," "," "," "],longMonth:[" ","","","","","","","",""," "," "," "]},time:{}},ar_LY:{date:{},time:{}},ar_MA:{date:{},time:{}},ar_OM:{date:{},time:{}},ar_QA:{date:{shortDay:["","","","","","",""]},time:{}},ar_SA:{date:{shortDay:["","","","","","",""]},time:{}},ar_SY:{date:{shortDay:["","","","","","",""],shortMonth:[" ","","","","","","","",""," "," "," "],longMonth:[" ","","","","","","","",""," "," "," "]},time:{}},ar_TN:{date:{shortDay:["","","","","","",""]},time:{}},ar_YE:{date:{shortDay:["","","","","","",""]},time:{}},az:{date:{dateSeparator:"-",era:["eramzdan vvl","bizim eramzn"],eraAbbr:["e..","b.e."],shortDay:["B.","B.E.",".A.",".","C.A.","C","."],shortMonth:["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],longDay:["bazar","bazar ertsi","rnb axam","rnb","cm axam","cm","nb"],longMonth:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"]},time:{timeSeparator:":",amPm:["AM","PM"]}},az_AZ:{date:{},time:{}},be:{date:{dateSeparator:".",era:[" ..",".."],eraAbbr:[" ..",".."],eraNarrow:[" ..",".."],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:".",amPm:[" "," "]}},be_BY:{date:{},time:{}},bg:{date:{dateSeparator:".",era:["..",".."],eraAbbr:[". . ."," . ."],eraNarrow:["..."],shortDay:["","","","","","",""],shortMonth:[".",".","",".","","","",".",".",".",".","."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:[". .",". ."]}},bg_BG:{date:{},time:{}},bn:{date:{dateSeparator:"/",eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},bn_IN:{date:{},time:{}},bs:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["7","1","2","3","4","5","6"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["7","1","2","3","4","5","6"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},bs_BA:{date:{},time:{}},ca:{date:{dateSeparator:"/",eraAbbr:["aC","dC"],shortDay:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],shortMonth:["gen.","febr.","mar","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],longDay:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],longMonth:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"]},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},ca_ES:{date:{},time:{}},cs:{date:{dateSeparator:".",eraAbbr:["p.Kr.","po Kr."],shortDay:["ne","po","t","st","t","p","so"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],longMonth:["ledna","nora","bezna","dubna","kvtna","ervna","ervence","srpna","z","jna","listopadu","prosince"]},time:{timeSeparator:":",amPm:["dop.","odp."]}},cs_CZ:{date:{},time:{}},cy:{date:{dateSeparator:"-",era:["Cyn Crist","Oed Crist"],eraAbbr:["CC","OC"],eraNarrow:["C","O"],shortDay:["Sul","Llun","Maw","Mer","Iau","Gwen","Sad"],shortMonth:["Ion","Chwef","Mawrth","Ebrill","Mai","Meh","Gorff","Awst","Medi","Hyd","Tach","Rhag"],longDay:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],longMonth:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffenaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},time:{timeSeparator:":",amPm:["AM","PM"]}},cy_GB:{date:{},time:{}},da:{date:{dateSeparator:"/",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sn","man","tir","ons","tor","fre","lr"],shortMonth:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],longDay:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],longMonth:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},time:{timeSeparator:".",amPm:["f.m.","e.m."]}},da_DK:{date:{},time:{}},de:{date:{dateSeparator:".",era:["v. Chr.","n. Chr."],eraAbbr:["v. Chr.","n. Chr."],shortDay:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],shortMonth:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longDay:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],longMonth:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},time:{timeSeparator:":",amPm:["vorm.","nachm."]}},de_AT:{date:{shortMonth:["Jn","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longMonth:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},time:{}},de_CH:{date:{},time:{}},de_DE:{date:{},time:{}},de_LI:{date:{},time:{}},de_LU:{date:{},time:{}},el:{date:{dateSeparator:"/",era:["..",".."],eraAbbr:["..",".."],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["..",".."]}},el_GR:{date:{},time:{}},en:{date:{dateSeparator:"/",era:["Before Christ","Anno Domini"],eraAbbr:["BC","AD"],eraNarrow:["B","A"],shortDay:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortMonth:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],longMonth:["January","February","March","April","May","June","July","August","September","October","November","December"]},time:{timeSeparator:":",amPm:["AM","PM"]}},en_AU:{date:{dateSeparator:"/"},time:{}},en_BZ:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},en_CA:{date:{dateSeparator:"-"},time:{}},en_GB:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},en_IE:{date:{dateSeparator:"/"},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},en_JM:{date:{},time:{}},en_NZ:{date:{dateSeparator:"/"},time:{}},en_PH:{date:{},time:{}},en_TT:{date:{},time:{}},en_US:{date:{},time:{}},en_VI:{date:{},time:{}},en_ZA:{date:{dateSeparator:"/"},time:{}},en_ZW:{date:{dateSeparator:"/"},time:{}},es:{date:{dateSeparator:"/",era:["antes de Cristo","anno Dmini"],eraAbbr:["a.C.","d.C."],shortDay:["dom","lun","mar","mi","jue","vie","sb"],shortMonth:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],longDay:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],longMonth:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},time:{timeSeparator:":",amPm:["a.m.","p.m."]}},es_AR:{date:{},time:{amPm:["a.m.","p.m."]}},es_BO:{date:{},time:{}},es_CL:{date:{dateSeparator:"-"},time:{timeSeparator:":"}},es_CO:{date:{dateSeparator:"/"},time:{timeSeparator:":"}},es_CR:{date:{},time:{}},es_DO:{date:{},time:{}},es_EC:{date:{},time:{timeSeparator:":"}},es_ES:{date:{},time:{}},es_GT:{date:{dateSeparator:"/"},time:{}},es_HN:{date:{},time:{}},es_MX:{date:{},time:{}},es_NI:{date:{},time:{}},es_PA:{date:{dateSeparator:"/"},time:{}},es_PE:{date:{dateSeparator:"/"},time:{}},es_PR:{date:{dateSeparator:"/"},time:{}},es_PY:{date:{},time:{}},es_SV:{date:{},time:{}},es_UY:{date:{},time:{}},es_VE:{date:{},time:{}},et:{date:{dateSeparator:".",era:["enne meie aega","meie aja jrgi"],eraAbbr:["e.m.a.","m.a.j."],shortDay:["P","E","T","K","N","R","L"],shortMonth:["jaan","veebr","mrts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets"],longDay:["phapev","esmaspev","teisipev","kolmapev","neljapev","reede","laupev"],longMonth:["jaanuar","veebruar","mrts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},et_EE:{date:{},time:{}},eu:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["ig","al","as","az","og","or","lr"],shortMonth:["urt","ots","mar","api","mai","eka","uzt","abu","ira","urr","aza","abe"],longDay:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],longMonth:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"]},time:{timeSeparator:":",amPm:["AM","PM"]}},eu_ES:{date:{},time:{}},fa:{date:{dateSeparator:"/",era:["  ",""],eraAbbr:["..","."],eraNarrow:["",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["  ","  "]}},fa_IR:{date:{},time:{}},fi:{date:{dateSeparator:".",era:["ennen Kristuksen syntym","jlkeen Kristuksen syntymn"],eraAbbr:["eKr.","jKr."],shortDay:["su","ma","ti","ke","to","pe","la"],shortMonth:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","keskuuta","heinkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],longDay:["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],longMonth:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","keskuuta","heinkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"]},time:{timeSeparator:".",amPm:["ap.","ip."]}},fi_FI:{date:{},time:{}},fo:{date:{dateSeparator:"-",era:["fyrir Krist","eftir Krist"],eraAbbr:["BCE","CE"],eraNarrow:["f.Kr.","e.Kr."],shortDay:["sun","mn","ts","mik","hs","fr","ley"],shortMonth:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],longDay:["sunnudagur","mnadagur","tsdagur","mikudagur","hsdagur","frggjadagur","leygardagur"],longMonth:["januar","februar","mars","aprl","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},fo_FO:{date:{},time:{}},fr:{date:{dateSeparator:"/",era:["avant Jsus-Christ","aprs Jsus-Christ"],eraAbbr:["av. J.-C.","ap. J.-C."],shortDay:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],shortMonth:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],longDay:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],longMonth:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},time:{timeSeparator:":",amPm:["AM","PM"]}},fr_BE:{date:{dateSeparator:"/"},time:{}},fr_CA:{date:{dateSeparator:"-"},time:{}},fr_CH:{date:{dateSeparator:"."},time:{}},fr_FR:{date:{},time:{}},fr_LU:{date:{},time:{}},fr_MC:{date:{},time:{}},gl:{date:{dateSeparator:"/",era:["antes de Cristo","despois de Cristo"],eraAbbr:["a.C.","d.C."],shortDay:["Dom","Lun","Mar","Mr","Xov","Ven","Sb"],shortMonth:["Xan","Feb","Mar","Abr","Mai","Xu","Xul","Ago","Set","Out","Nov","Dec"],longDay:["Domingo","Luns","Martes","Mrcores","Xoves","Venres","Sbado"],longMonth:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuo","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"]},time:{timeSeparator:":",amPm:["AM","PM"]}},gl_ES:{date:{},time:{}},gu:{date:{dateSeparator:"-",era:[" ",""],eraAbbr:["BCE","CE"],eraNarrow:["  ",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["am","pm"]}},gu_IN:{date:{},time:{}},he:{date:{dateSeparator:"/",era:[" ",""],eraAbbr:["",""],shortDay:[" '"," '"," '"," '"," '"," '",""],shortMonth:["","","","","","","","","","","",""],longDay:[" "," "," "," "," "," "," "],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:['"','"']}},he_IL:{date:{},time:{}},hi:{date:{dateSeparator:"-",eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["AM","PM"]}},hi_IN:{date:{},time:{}},hr:{date:{dateSeparator:".",era:["Prije Krista","Poslije Krista"],eraAbbr:["pr.n.e.","AD"],shortDay:["ned","pon","uto","sri","et","pet","sub"],shortMonth:["01.","02.","03.","04.","05.","06.","07.","08.","09.","10.","11.","12."],longDay:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],longMonth:["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"]},time:{timeSeparator:":",amPm:["AM","PM"]}},hr_HR:{date:{},time:{}},hu:{date:{dateSeparator:".",era:["idszmtsunk eltt","idszmtsunk szerint"],eraAbbr:["i. e.","i. sz."],shortDay:["V","H","K","Sze","Cs","P","Szo"],shortMonth:["jan.","febr.","mrc.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec."],longDay:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"],longMonth:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december"]},time:{timeSeparator:":",amPm:["de.","du."]}},hu_HU:{date:{},time:{}},hy:{date:{dateSeparator:"/",eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},hy_AM:{date:{},time:{}},id:{date:{dateSeparator:"/",eraAbbr:["BCE","CE"],shortDay:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],shortMonth:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longDay:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],longMonth:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},id_ID:{date:{},time:{}},is:{date:{dateSeparator:".",eraAbbr:["fyrir Krist","eftir Krist"],eraNarrow:["f.k.","e.k."],shortDay:["sun","mn","ri","mi","fim","fs","lau"],shortMonth:["jan","feb","mar","apr","ma","jn","jl","g","sep","okt","nv","des"],longDay:["sunnudagur","mnudagur","rijudagur","mivikudagur","fimmtudagur","fstudagur","laugardagur"],longMonth:["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember"]},time:{timeSeparator:":",amPm:["f.h.","e.h."]}},is_IS:{date:{},time:{}},it:{date:{dateSeparator:"/",era:["a.C.","d.C"],eraAbbr:["aC","dC"],shortDay:["dom","lun","mar","mer","gio","ven","sab"],shortMonth:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],longDay:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],longMonth:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},time:{timeSeparator:".",amPm:["m.","p."]}},it_CH:{date:{dateSeparator:"."},time:{}},it_IT:{date:{},time:{}},ja:{date:{dateSeparator:"/",era:["",""],eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["","","","","","",""],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["",""]}},ja_JP:{date:{},time:{}},ka:{date:{dateSeparator:"-",era:[" "," "],eraAbbr:[" "," "],eraNarrow:[" "," "],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},ka_GE:{date:{},time:{}},kk:{date:{dateSeparator:".",eraAbbr:["BCE","CE"],shortDay:[".",".",".",".",".",".","."],shortMonth:[".",".",".",".",".",".",".",".",".",".",".","."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["AM","PM"]}},kk_KZ:{date:{},time:{}},kn:{date:{dateSeparator:"-",era:["."," "],eraAbbr:["BCE","CE"],shortDay:[".",".",".",".",".",".","."],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["am","pm"]}},kn_IN:{date:{},time:{}},ko:{date:{dateSeparator:". ",era:["",""],eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["","","","","","",""],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["",""]}},ko_KR:{date:{},time:{}},kok:{date:{dateSeparator:"-",eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["..",".."]}},kok_IN:{date:{},time:{}},lt:{date:{dateSeparator:"-",era:["prie Krist","po Kristaus"],eraAbbr:["pr. Kr.","po Kr."],shortDay:["Sk","Pr","An","Tr","Kt","Pn","t"],shortMonth:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd"],longDay:["sekmadienis","pirmadienis","antradienis","treiadienis","ketvirtadienis","penktadienis","etadienis"],longMonth:["sausio","vasario","kovo","balandio","gegus","birelio","liepos","rugpjio","rugsjo","spalio","lapkriio","gruodio"]},time:{timeSeparator:":",amPm:["priepiet","popiet"]}},lt_LT:{date:{},time:{}},lv:{date:{dateSeparator:".",era:["pirms msu ras","msu r"],eraAbbr:["p.m..","m.."],eraNarrow:["p.m..","m.."],shortDay:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],shortMonth:["janv.","febr.","marts","apr.","maijs","jn.","jl.","aug.","sept.","okt.","nov.","dec."],longDay:["svtdiena","pirmdiena","otrdiena","trediena","ceturtdiena","piektdiena","sestdiena"],longMonth:["janvris","februris","marts","aprlis","maijs","jnijs","jlijs","augusts","septembris","oktobris","novembris","decembris"]},time:{timeSeparator:":",amPm:["AM","PM"]}},lv_LV:{date:{},time:{}},mk:{date:{dateSeparator:".",eraAbbr:["...","."],shortDay:[".",".",".",".",".",".","."],shortMonth:[".",".",".",".","",".",".",".",".",".",".","."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},mk_MK:{date:{},time:{}},ml:{date:{dateSeparator:"/",era:[" "," "],eraAbbr:["..",".."],eraNarrow:["..",".."],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["am","pm"]}},ml_IN:{date:{},time:{}},mn:{date:{dateSeparator:"-",era:["  "," "],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},mn_MN:{date:{},time:{}},mr:{date:{dateSeparator:"-",era:["",""],eraAbbr:["...",".."],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:"-",amPm:["am","pm"]}},mr_IN:{date:{},time:{}},ms:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],shortMonth:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogos","Sep","Okt","Nov","Dis"],longDay:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],longMonth:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ms_BN:{date:{},time:{timeSeparator:":"}},ms_MY:{date:{},time:{}},mt:{date:{dateSeparator:"/",era:["Qabel Kristu","Wara Kristu"],eraAbbr:["QK","WK"],shortDay:["ad","Tne","Tli","Erb","am","im","Sib"],shortMonth:["Jan","Fra","Mar","Apr","Mej","un","Lul","Aww","Set","Ott","Nov","Di"],longDay:["Il-add","It-Tnejn","It-Tlieta","L-Erbga","Il-amis","Il-imga","Is-Sibt"],longMonth:["Jannar","Frar","Marzu","April","Mejju","unju","Lulju","Awwissu","Settembru","Ottubru","Novembru","Diembru"]},time:{timeSeparator:":",amPm:["QN","WN"]}},mt_MT:{date:{},time:{}},nb:{date:{dateSeparator:".",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sn.","man.","tir.","ons.","tor.","fre.","lr."],shortMonth:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],longDay:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],longMonth:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:".",amPm:["AM","PM"]}},nb_NO:{date:{},time:{}},nl:{date:{dateSeparator:"-",era:["Voor Christus","Anno Domini"],eraAbbr:["v. Chr.","n. Chr."],shortDay:["zo","ma","di","wo","do","vr","za"],shortMonth:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],longDay:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],longMonth:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},time:{timeSeparator:":",amPm:["AM","PM"]}},nl_BE:{date:{dateSeparator:"/"},time:{}},nl_NL:{date:{},time:{}},nn:{date:{dateSeparator:".",era:["f.Kr.","e.Kr."],eraAbbr:["f.Kr.","e.Kr."],shortDay:["s.","m.","ty.","on.","to.","fr.","la."],shortMonth:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],longDay:["sndag","mndag","tysdag","onsdag","torsdag","fredag","laurdag"],longMonth:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},time:{timeSeparator:".",amPm:["formiddag","ettermiddag"]}},nn_NO:{date:{},time:{}},pa:{date:{dateSeparator:"/",era:["",""],eraAbbr:["BCE","CE"],shortDay:[".",".",".",".",".",".","."],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},pa_IN:{date:{},time:{}},pl:{date:{dateSeparator:"-",era:["p.n.e.","n.e."],eraAbbr:["p.n.e.","n.e."],shortDay:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],shortMonth:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],longDay:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],longMonth:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"]},time:{timeSeparator:":",amPm:["AM","PM"]}},pl_PL:{date:{},time:{}},pt:{date:{dateSeparator:"/",era:["Antes de Cristo","Ano do Senhor"],eraAbbr:["a.C.","d.C."],shortDay:["dom","seg","ter","qua","qui","sex","sb"],shortMonth:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],longDay:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],longMonth:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},time:{timeSeparator:":",amPm:["AM","PM"]}},pt_BR:{date:{},time:{}},pt_PT:{date:{shortMonth:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longMonth:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},time:{amPm:["Antes do meio-dia","Depois do meio-dia"]}},ro:{date:{dateSeparator:".",era:["nainte de Hristos","dup Hristos"],eraAbbr:[".Hr.","d.Hr."],shortDay:["Du","Lu","Ma","Mi","Jo","Vi","S"],shortMonth:["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],longDay:["duminic","luni","mari","miercuri","joi","vineri","smbt"],longMonth:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},time:{timeSeparator:":",amPm:["AM","PM"]}},ro_RO:{date:{},time:{}},ru:{date:{dateSeparator:".",era:[" ..",".."],eraAbbr:[" ..",".."],shortDay:["","","","","","",""],shortMonth:[".",".","",".","","","",".",".",".",".","."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["AM","PM"]}},ru_RU:{date:{},time:{}},se:{date:{dateSeparator:"-",era:["ovdal Kristtusa","mael Kristtusa"],eraAbbr:["BCE","CE"],eraNarrow:["o.Kr.","m.Kr."],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},se_NO:{date:{},time:{}},sk:{date:{dateSeparator:".",eraAbbr:["pred n.l.","n.l."],shortDay:["ne","po","ut","st","t","pi","so"],shortMonth:["jan","feb","mar","apr","mj","jn","jl","aug","sep","okt","nov","dec"],longDay:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],longMonth:["janura","februra","marca","aprla","mja","jna","jla","augusta","septembra","oktbra","novembra","decembra"]},time:{timeSeparator:":",amPm:["dopoludnia","popoludn"]}},sk_SK:{date:{},time:{}},sl:{date:{dateSeparator:". ",era:["pred naim tetjem","nae tetje"],eraAbbr:["pr. n. t.","po Kr."],shortDay:["ned","pon","tor","sre","et","pet","sob"],shortMonth:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],longDay:["nedelja","ponedeljek","torek","sreda","etrtek","petek","sobota"],longMonth:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]},time:{timeSeparator:":",amPm:["dop.","pop."]}},sl_SI:{date:{},time:{}},sq:{date:{dateSeparator:"-",eraAbbr:["p.e.r.","n.e.r."],shortDay:["Die","Hn","Mar","Mr","Enj","Pre","Sht"],shortMonth:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gsh","Sht","Tet","Nn","Dhj"],longDay:["e diel","e hn","e mart","e mrkur","e enjte","e premte","e shtun"],longMonth:["janar","shkurt","mars","prill","maj","qershor","korrik","gusht","shtator","tetor","nntor","dhjetor"]},time:{timeSeparator:".",amPm:["PD","MD"]}},sq_AL:{date:{},time:{}},sr:{date:{dateSeparator:".",era:["  "," "],eraAbbr:[". . .",". "],eraNarrow:["...",".."],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:".",amPm:[" ",""]}},sr_BA:{date:{},time:{}},sr_CS:{date:{},time:{}},sv:{date:{dateSeparator:"-",era:["fre Kristus","efter Kristus"],eraAbbr:["f.Kr.","e.Kr."],shortDay:["sn","mn","tis","ons","tors","fre","lr"],shortMonth:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longDay:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],longMonth:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},time:{timeSeparator:".",amPm:["fm","em"]}},sv_FI:{date:{},time:{}},sv_SE:{date:{},time:{}},sw:{date:{dateSeparator:"-",era:["Kabla ya Kristo","Baada ya Kristo"],eraAbbr:["KK","BK"],shortDay:["Jpi","Jtt","Jnn","Jtn","Alh","Iju","Jmo"],shortMonth:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],longDay:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],longMonth:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"]},time:{timeSeparator:":",amPm:["AM","PM"]}},sw_KE:{date:{},time:{}},syr:{date:{dateSeparator:"-",shortDay:["1","2","3","4","5","6","7"],shortMonth:[" ","","","","","","","",""," "," "," "],longDay:["1","2","3","4","5","6","7"],longMonth:[" ","","","","","","","",""," "," "," "]},time:{timeSeparator:":",amPm:["AM","PM"]}},syr_SY:{date:{},time:{}},ta:{date:{dateSeparator:"-",era:[" "," "],eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:[".",".",".",".","","","",".",".",".",".","."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["am","pm"]}},ta_IN:{date:{},time:{}},te:{date:{dateSeparator:"-",era:[".","."],eraAbbr:["BCE","CE"],shortDay:["","","","","","",""],shortMonth:["","","","","","","","","","","",""],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["am","pm"]}},te_IN:{date:{},time:{}},th:{date:{dateSeparator:"/",era:["",""],eraAbbr:[" ..",".."],eraNarrow:[" .."],shortDay:[".",".",".",".",".",".","."],shortMonth:["..","..","..","..","..","..","..","..","..","..","..",".."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},th_TH:{date:{},time:{}},tn:{date:{dateSeparator:"-",era:["BC","AD"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},tn_ZA:{date:{},time:{}},tr:{date:{dateSeparator:".",era:["Milattan nce","Milattan Sonra"],eraAbbr:["M","MS"],shortDay:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"],shortMonth:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],longDay:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],longMonth:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"]},time:{timeSeparator:":",amPm:["AM","PM"]}},tr_TR:{date:{},time:{}},uk:{date:{dateSeparator:".",era:["  "," "],eraAbbr:[" ..",".."],shortDay:["","","","","","",""],shortMonth:[".",".",".",".",".",".",".",".",".",".",".","."],longDay:["","","","","","",""],longMonth:["","","","","","","","","","","",""]},time:{timeSeparator:":",amPm:["",""]}},uk_UA:{date:{},time:{}},uz:{date:{dateSeparator:"-",eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},uz_UZ:{date:{},time:{}},vi:{date:{dateSeparator:"/",eraAbbr:["tr. CN","sau CN"],shortDay:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],shortMonth:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],longDay:["Ch nht","Th hai","Th ba","Th t","Th nm","Th su","Th by"],longMonth:["thng mt","thng hai","thng ba","thng t","thng nm","thng su","thng by","thng tm","thng chn","thng mi","thng mi mt","thng mi hai"]},time:{timeSeparator:":",amPm:["SA","CH"]}},vi_VN:{date:{},time:{}},xh:{date:{dateSeparator:"-",era:["BC","umnyaka wokuzalwa kukaYesu"],eraAbbr:["BCE","CE"],shortDay:["1","2","3","4","5","6","7"],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["1","2","3","4","5","6","7"],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["AM","PM"]}},xh_ZA:{date:{},time:{}},zh:{date:{dateSeparator:"-",era:["",""],eraAbbr:["",""],shortDay:["","","","","","",""],shortMonth:["1","2","3","4","5","6","7","8","9","10","11","12"],longDay:["","","","","","",""],longMonth:["1","2","3","4","5","6","7","8","9","10","11","12"]},time:{timeSeparator:":",amPm:["",""]}},zh_CN:{date:{},time:{}},zh_HK:{date:{},time:{}},zh_MO:{date:{},time:{}},zh_SG:{date:{},time:{}},zh_TW:{date:{},time:{}},zu:{date:{dateSeparator:"-",eraAbbr:["BC","AD"],shortDay:["Son","Mso","Bil","Tha","Sin","Hla","Mgq"],shortMonth:["Jan","Feb","Mas","Apr","Mey","Jun","Jul","Aga","Sep","Okt","Nov","Dis"],longDay:["Sonto","Msombuluko","Lwesibili","Lwesithathu","uLwesine","Lwesihlanu","Mgqibelo"],longMonth:["Januwari","Februwari","Mashi","Apreli","Meyi","Juni","Julayi","Agasti","Septhemba","Okthoba","Novemba","Disemba"]},time:{timeSeparator:":",amPm:["AM","PM"]}},zu_ZA:{date:{},time:{}}};e.formatExist=function(t,i){return t&&i&&e.DEFAULT_FORMAT_STRING[t]&&e.DEFAULT_FORMAT_STRING[t][i]};e.getDefaultDateFormat=function(t,i){return e.DEFAULT_FORMAT_STRING[t][i]};e.getShortDay=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_DAY)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_DAY)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_DAY)};e.getLongDay=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_DAY)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_DAY)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_DAY)};e.getShortMonth=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_MONTH)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_MONTH)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_SHORT_MONTH)};e.getLongMonth=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_MONTH)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_MONTH)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_LONG_MONTH)};e.getDateSeparator=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_DATE_SEPARATOR)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_DATE_SEPARATOR).toString()}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_DATE_SEPARATOR).toString()};e.getTimeSeparator=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_TIME,e.KEY_TIME_SEPARATOR)){return e.getDateResource(t,e.KEY_TYPE_TIME,e.KEY_TIME_SEPARATOR).toString()}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_TIME,e.KEY_TIME_SEPARATOR).toString()};e.getAmPmToken=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_TIME,e.KEY_TOKEN_AM_PM)){return e.getDateResource(t,e.KEY_TYPE_TIME,e.KEY_TOKEN_AM_PM)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_TIME,e.KEY_TOKEN_AM_PM)};e.getAbbrevEraString=function(t){if(t){if(e.resourceExist(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_ABBREV_ERA)){return e.getDateResource(t,e.KEY_TYPE_DATE,e.KEY_TOKEN_ABBREV_ERA)}else{return null}}return e.getAppropriateDateResource(e.KEY_TYPE_DATE,e.KEY_TOKEN_ABBREV_ERA)};e.getDefaultShorDateFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_SHORTDATE)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_SHORTDATE).toString()}else{return""}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_SHORTDATE).toString()};e.getDefaultLongDateFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_LONGDATE)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_LONGDATE).toString()}else{return null}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_LONGDATE)};e.getDefaultDateTimeFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_DATE_TIME)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_DATE_TIME).toString()}else{return null}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_DATE_TIME).toString()};e.getDefaultTimeFormat=function(t){if(t){if(e.formatExist(t,e.FORMAT_TYPE_TIME)){return e.getDefaultDateFormat(t,e.FORMAT_TYPE_TIME).toString()}else{return null}}return e.getAppropriateDateFormat(e.FORMAT_TYPE_TIME).toString()};e.getAppropriateDateFormat=function(t){var i=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e.formatExist(i,t)){return e.getDefaultDateFormat(i,t).toString()}var r=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e.formatExist(r,t)){return e.getDefaultDateFormat(r,t).toString()}var a=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e.formatExist(a,t)){return e.getDefaultDateFormat(a,t).toString()}var n=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e.formatExist(n,t)){return e.getDefaultDateFormat(n,t).toString()}return e.getDefaultDateFormat("en",t).toString()};e.getAppropriateDateResource=function(t,i){var r=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(e.resourceExist(r,t,i)){return e.getDateResource(r,t,i)}var a=sap.common.globalization.GlobalizationPreference.getInstance().pvlIsoLanguageCode();if(e.resourceExist(a,t,i)){return e.getDateResource(a,t,i)}var n=sap.common.globalization.GlobalizationPreference.getInstance().documentLocale();if(e.resourceExist(n,t,i)){return e.getDateResource(n,t,i)}var o=sap.common.globalization.GlobalizationPreference.getInstance().documentIsoLanguageCode();if(e.resourceExist(o,t,i)){return e.getDateResource(o,t,i)}return e.getDateResource("en",t,i)};e.resourceExist=function(t,i,r){return t&&i&&r&&e.RESOURCE_MAP[t]&&e.RESOURCE_MAP[t][i]&&e.RESOURCE_MAP[t][i][r]};e.getDateResource=function(t,i,r){return e.RESOURCE_MAP[t][i][r]}})();(function(){sap.common.globalization.declare("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.GlobalizationNumericUtil=function(){this.__className="sap.common.globalization.GlobalizationNumericUtil"};sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry=function(e){switch(e){case"bn":case"bn_IN":case"en_IN":case"gu":case"gu_IN":case"hi":case"hi_IN":case"kn":case"kn_IN":case"kok":case"kok_IN":case"ml":case"ml_IN":case"mr":case"mr_IN":case"pa":case"pa_IN":case"ta":case"ta_IN":case"te":case"te_IN":return true;default:return false}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.NumericFormatManager");sap.common.globalization.numericFormat.FLocalization=function(){this.__className="sap.common.globalization.numericFormat.FLocalization";this._setDisplayLocaleInfo();this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null};var e=sap.common.globalization.numericFormat.FLocalization;e._defaultLocale="en";e._DayStrings=null;e._shortDayStrings=null;e._MonthStrings=null;e._shortMonthStrings=null;e._DateTimeCodes=null;e._NumericStrings=null;e._DateTimeStrings=null;e._CurrencySymbol=null;e._SAPCurrencySymbol=null;e._SAPDateString=null;e._SAPTimeString=null;e._SAPThousandsSeparator=null;e._SAPDecimalSeparator=null;e._SAPLongDay=null;e._SAPShortDay=null;e._SAPLongMonth=null;e._SAPShortMonth=null;e._AmPms=null;e._singleton=null;sap.common.globalization.numericFormat.FLocalization.prototype.replaceNBSP=function(e){if(e){var t="";var i=160;for(var r=0;r<e.length;++r){if(e.charCodeAt(r)==i){t+=" "}else{t+=e.charAt(r)}}e=t}return e};e.getInstance=function(){if(!e._singleton){e._initStrings();e._initializePvlDateStrings();e._initSAPGlobilizationStrings();e._singleton=new sap.common.globalization.numericFormat.FLocalization;e._singleton.IMSABBREVDAYNAME1=e._shortDayStrings.en[1]}return e._singleton};e.resetInstance=function(){e._resetAllStaticVars();e._initStrings();e._initializePvlDateStrings();e._initSAPGlobilizationStrings();e._singleton=new sap.common.globalization.numericFormat.FLocalization;e._singleton.IMSABBREVDAYNAME1=e._shortDayStrings.en[1]};var t={monthStrings:"_MonthStrings",shortMonthStrings:"_shortMonthStrings",dayStrings:"_DayStrings",shortDayStrings:"_shortDayStrings",dateTimeCodes:"_DateTimeCodes",numericStrings:"_NumericStrings",dateTimeStrings:"_DateTimeStrings",currencySymbol:"_CurrencySymbol",amPms:"_AmPms"};e.prototype._setDisplayLocaleInfo=function(){this.IMDateSeparator=e._DateTimeStrings.en[1];this.IMDayCode=e._DateTimeCodes.en[5];this.IMDecimalSeparator=e._NumericStrings.en[1];this.IMGeneralFormatName="General";this.IMHourCode=e._DateTimeCodes.en[3];this.IMMinuteCode=e._DateTimeCodes.en[1];this.IMMonthCode=e._DateTimeCodes.en[4];this.IMSABBREVDAYNAME1=e._shortDayStrings.en[1];this.IMSABBREVDAYNAME2=e._shortDayStrings.en[2];this.IMSABBREVDAYNAME3=e._shortDayStrings.en[3];this.IMSABBREVDAYNAME4=e._shortDayStrings.en[4];this.IMSABBREVDAYNAME5=e._shortDayStrings.en[5];this.IMSABBREVDAYNAME6=e._shortDayStrings.en[6];this.IMSABBREVDAYNAME7=e._shortDayStrings.en[7];this.IMSABBREVMONTHNAME1=e._shortMonthStrings.en[1];this.IMSABBREVMONTHNAME10=e._shortMonthStrings.en[10];this.IMSABBREVMONTHNAME11=e._shortMonthStrings.en[11];this.IMSABBREVMONTHNAME12=e._shortMonthStrings.en[12];this.IMSABBREVMONTHNAME2=e._shortMonthStrings.en[2];this.IMSABBREVMONTHNAME3=e._shortMonthStrings.en[3];this.IMSABBREVMONTHNAME4=e._shortMonthStrings.en[4];this.IMSABBREVMONTHNAME5=e._shortMonthStrings.en[5];this.IMSABBREVMONTHNAME6=e._shortMonthStrings.en[6];this.IMSABBREVMONTHNAME7=e._shortMonthStrings.en[7];this.IMSABBREVMONTHNAME8=e._shortMonthStrings.en[8];this.IMSABBREVMONTHNAME9=e._shortMonthStrings.en[9];this.IMSDAYNAME1=e._DayStrings.en[1];this.IMSDAYNAME2=e._DayStrings.en[2];this.IMSDAYNAME3=e._DayStrings.en[3];this.IMSDAYNAME4=e._DayStrings.en[4];this.IMSDAYNAME5=e._DayStrings.en[5];this.IMSDAYNAME6=e._DayStrings.en[6];this.IMSDAYNAME7=e._DayStrings.en[7];this.IMSMONTHNAME1=e._MonthStrings.en[1];this.IMSMONTHNAME10=e._MonthStrings.en[10];this.IMSMONTHNAME11=e._MonthStrings.en[11];this.IMSMONTHNAME12=e._MonthStrings.en[12];this.IMSMONTHNAME2=e._MonthStrings.en[2];this.IMSMONTHNAME3=e._MonthStrings.en[3];this.IMSMONTHNAME4=e._MonthStrings.en[4];this.IMSMONTHNAME5=e._MonthStrings.en[5];this.IMSMONTHNAME6=e._MonthStrings.en[6];this.IMSMONTHNAME7=e._MonthStrings.en[7];this.IMSMONTHNAME8=e._MonthStrings.en[8];this.IMSMONTHNAME9=e._MonthStrings.en[9];this.IMSecondCode=e._DateTimeCodes.en[2];this.IMTimeSeparator=e._DateTimeStrings.en[2];this.IMYearCode=e._DateTimeCodes.en[6];this.IMCurrencySymbol=e._CurrencySymbol.en[1];this.SAPDateSeparator=e._SAPDateString;this.SAPTimeSeparator=e._SAPTimeString;this.SAPCurrencySymbol=e._SAPCurrencySymbol;this.SAPDecimalSeparator=e._SAPDecimalSeparator;this.SAPThousandsSeparator=e._SAPThousandsSeparator;this.SAPLongDay=e._SAPLongDay;this.SAPShortDay=e._SAPShortDay;this.SAPLongMonth=e._SAPLongMonth;this.SAPShortMonth=e._SAPShortMonth;this.IMAMTOKEN=e._AmPms.en[1];this.IMPMTOKEN=e._AmPms.en[2];this._IMThousandsSeparator=this.replaceNBSP(e._NumericStrings.en[2])};e.prototype.setCustomizedLocaleInfo=function(i){if(i){var r;for(r in t){if(i.hasOwnProperty(r)){var a=t[r];this._setCustomizedLocaleInfoByType(a,i[r])}}}else{var n=sap.common.globalization.GlobalizationDateConstant;var o=sap.common.globalization.GlobalizationNumericConstant;this._setCustomizedLocaleInfoByType(t.dayStrings,n.getLongDay());this._setCustomizedLocaleInfoByType(t.shortDayStrings,n.getShortDay());this._setCustomizedLocaleInfoByType(t.monthStrings,n.getLongMonth());this._setCustomizedLocaleInfoByType(t.shortMonthStrings,n.getShortMonth());this._setCustomizedLocaleInfoByType(t.amPms,n.getAmPmToken());this._setCustomizedLocaleInfoByType(t.dateTimeStrings,[n.getDateSeparator(),n.getTimeSeparator()]);this._setCustomizedLocaleInfoByType(t.numericStrings,[o.getDisplayDecimalSeparator(),o.getDisplayThousandSeparator()]);this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null;this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;e._initializePvlDayStrings()}this._setDisplayLocaleInfo()};e.prototype._setCustomizedLocaleInfoByType=function(t,i){if(i&&i.length>0){var r;for(var a=0;a<i.length;a++){r=a+1;e[t]["en"][r]=i[a]}}};e._initStrings=function(){e._DayStrings={en:{1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Sunday"}};e._shortDayStrings={en:{1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"}};e._MonthStrings={en:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}};e._shortMonthStrings={en:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}};e._DateTimeCodes={en:{1:"m",2:"s",3:"h",4:"M",5:"D",6:"Y"}};e._NumericStrings={en:{1:".",2:","}};e._DateTimeStrings={en:{1:"/",2:":"}};e._CurrencySymbol={en:{1:"$",2:"$"}};e._AmPms={en:{1:"AM",2:"PM"}}};e._initSAPGlobilizationStrings=function(){var t=sap.common.globalization.NumericFormatManager;var i=t.SAP_PARAMETERS["BICSWS_DECIMAL"];i=i?i:t.SAP_PARAMETERS["SAP_decimal"];var r=t.SAP_PARAMETERS["BICSWS_THOUSANDSEPARATOR"];r=r?r:t.SAP_PARAMETERS["SAP_thousandSeparator"];var a=t.SAP_PARAMETERS["BICSWS_MONTHSLONG"];a=a?a:t.SAP_PARAMETERS["SAP_monthsLong"];var n=t.SAP_PARAMETERS["BICSWS_MONTHSSHORT"];n=n?n:t.SAP_PARAMETERS["SAP_monthsShort"];var o=t.SAP_PARAMETERS["BICSWS_DAYSLONG"];o=o?o:t.SAP_PARAMETERS["SAP_daysLong"];var s=t.SAP_PARAMETERS["BICSWS_DAYSSHORT"];s=s?s:t.SAP_PARAMETERS["SAP_daysShort"];var l=t.SAP_PARAMETERS["BICSWS_DATESEPARATOR"];l=l?l:t.SAP_PARAMETERS["SAP_dateSeparator"];var u=t.SAP_PARAMETERS["BICSWS_TIMESEPARATOR"];u=u?u:t.SAP_PARAMETERS["SAP_timeSeparator"];var c=t.SAP_PARAMETERS["SAP_s_g_n_FLocalization._CurrencySymbol"];var f;if(o){f=o.split(",");e._SAPLongDay=f;e._DayStrings.en[1]=f[0];e._DayStrings.en[2]=f[1];e._DayStrings.en[3]=f[2];e._DayStrings.en[4]=f[3];e._DayStrings.en[5]=f[4];e._DayStrings.en[6]=f[5];e._DayStrings.en[7]=f[6]}if(s){f=s.split(",");e._SAPShortDay=f;e._shortDayStrings.en[1]=f[0];e._shortDayStrings.en[2]=f[1];e._shortDayStrings.en[3]=f[2];e._shortDayStrings.en[4]=f[3];e._shortDayStrings.en[5]=f[4];e._shortDayStrings.en[6]=f[5];e._shortDayStrings.en[7]=f[6]}if(a){f=a.split(",");e._SAPLongMonth=f;e._MonthStrings.en[1]=f[0];e._MonthStrings.en[2]=f[1];e._MonthStrings.en[3]=f[2];e._MonthStrings.en[4]=f[3];e._MonthStrings.en[5]=f[4];e._MonthStrings.en[6]=f[5];e._MonthStrings.en[7]=f[6];e._MonthStrings.en[8]=f[7];e._MonthStrings.en[9]=f[8];e._MonthStrings.en[10]=f[9];e._MonthStrings.en[11]=f[10];e._MonthStrings.en[12]=f[11]}if(n){f=n.split(",");e._SAPShortMonth=f;e._shortMonthStrings.en[1]=f[0];e._shortMonthStrings.en[2]=f[1];e._shortMonthStrings.en[3]=f[2];e._shortMonthStrings.en[4]=f[3];e._shortMonthStrings.en[5]=f[4];e._shortMonthStrings.en[6]=f[5];e._shortMonthStrings.en[7]=f[6];e._shortMonthStrings.en[8]=f[7];e._shortMonthStrings.en[9]=f[8];e._shortMonthStrings.en[10]=f[9];e._shortMonthStrings.en[11]=f[10];e._shortMonthStrings.en[12]=f[11]}if(i){e._SAPDecimalSeparator=i}if(r){e._SAPThousandsSeparator=r}if(l){e._SAPDateString=l}if(u){e._SAPTimeString=u}if(c){e._SAPCurrencySymbol=c}};e.prototype.IMThousandsSeparator=function(e){if(arguments.length>=1){this._IMThousandsSeparator=this.replaceNBSP(e);return this}else{return this._IMThousandsSeparator}};e.prototype.getDateParseLocaleInfo=function(){if(!this._dateParseLocaleInfo){this._dateParseLocaleInfo=new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl;this._dateParseLocaleInfo.IMDateSeparator(this.IMDateSeparator);this._dateParseLocaleInfo.IMTimeSeparator(this.IMTimeSeparator)}return this._dateParseLocaleInfo};e.prototype.getDateDisplayLocaleInfo=function(){if(!this._dateDisplayLocaleInfo){this._dateDisplayLocaleInfo=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;this._dateDisplayLocaleInfo.IMDateSeparator(this.SAPDateSeparator);this._dateDisplayLocaleInfo.IMSDAYNAME1(this.IMSDAYNAME1);this._dateDisplayLocaleInfo.IMSDAYNAME2(this.IMSDAYNAME2);this._dateDisplayLocaleInfo.IMSDAYNAME3(this.IMSDAYNAME3);this._dateDisplayLocaleInfo.IMSDAYNAME4(this.IMSDAYNAME4);this._dateDisplayLocaleInfo.IMSDAYNAME5(this.IMSDAYNAME5);this._dateDisplayLocaleInfo.IMSDAYNAME6(this.IMSDAYNAME6);this._dateDisplayLocaleInfo.IMSDAYNAME7(this.IMSDAYNAME7);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME1(this.IMSABBREVDAYNAME1);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME2(this.IMSABBREVDAYNAME2);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME3(this.IMSABBREVDAYNAME3);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME4(this.IMSABBREVDAYNAME4);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME5(this.IMSABBREVDAYNAME5);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME6(this.IMSABBREVDAYNAME6);this._dateDisplayLocaleInfo.IMSABBREVDAYNAME7(this.IMSABBREVDAYNAME7);this._dateDisplayLocaleInfo.IMSMONTHNAME1(this.IMSMONTHNAME1);this._dateDisplayLocaleInfo.IMSMONTHNAME2(this.IMSMONTHNAME2);this._dateDisplayLocaleInfo.IMSMONTHNAME3(this.IMSMONTHNAME3);this._dateDisplayLocaleInfo.IMSMONTHNAME4(this.IMSMONTHNAME4);this._dateDisplayLocaleInfo.IMSMONTHNAME5(this.IMSMONTHNAME5);this._dateDisplayLocaleInfo.IMSMONTHNAME6(this.IMSMONTHNAME6);this._dateDisplayLocaleInfo.IMSMONTHNAME7(this.IMSMONTHNAME7);this._dateDisplayLocaleInfo.IMSMONTHNAME8(this.IMSMONTHNAME8);this._dateDisplayLocaleInfo.IMSMONTHNAME9(this.IMSMONTHNAME9);this._dateDisplayLocaleInfo.IMSMONTHNAME10(this.IMSMONTHNAME10);this._dateDisplayLocaleInfo.IMSMONTHNAME11(this.IMSMONTHNAME11);this._dateDisplayLocaleInfo.IMSMONTHNAME12(this.IMSMONTHNAME12);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME1(this.IMSABBREVMONTHNAME1);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME2(this.IMSABBREVMONTHNAME2);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME3(this.IMSABBREVMONTHNAME3);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME4(this.IMSABBREVMONTHNAME4);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME5(this.IMSABBREVMONTHNAME5);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME6(this.IMSABBREVMONTHNAME6);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME7(this.IMSABBREVMONTHNAME7);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME8(this.IMSABBREVMONTHNAME8);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME9(this.IMSABBREVMONTHNAME9);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME10(this.IMSABBREVMONTHNAME10);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME11(this.IMSABBREVMONTHNAME11);this._dateDisplayLocaleInfo.IMSABBREVMONTHNAME12(this.IMSABBREVMONTHNAME12);this._dateDisplayLocaleInfo.IMTimeSeparator(this.SAPTimeSeparator);this._dateDisplayLocaleInfo.IMAMTOKEN(this.IMAMTOKEN);this._dateDisplayLocaleInfo.IMPMTOKEN(this.IMPMTOKEN)}return this._dateDisplayLocaleInfo};e.prototype.numericParseLocaleInfo=function(){if(!this._numericParseLocaleInfo){this._numericParseLocaleInfo=new sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl(this._IMThousandsSeparator,this.IMDecimalSeparator,this.IMCurrencySymbol)}return this._numericParseLocaleInfo};e.prototype.numericDisplayLocaleInfo=function(){if(!this._numericDisplayLocaleInfo){var e=this.SAPThousandsSeparator?this.SAPThousandsSeparator:this._IMThousandsSeparator;var t=this.SAPDecimalSeparator?this.SAPDecimalSeparator:this.IMDecimalSeparator;var i=this.SAPCurrencySymbol?this.SAPCurrencySymbol:this.IMCurrencySymbol;this._numericDisplayLocaleInfo=new sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl(e,t,i)}return this._numericDisplayLocaleInfo};e._initializePvlDayStrings=function(){var t=sap.common.globalization.GlobalizationDateConstant.getLongDay();if(t){e._DayStrings.en[1]=t[1];e._DayStrings.en[2]=t[2];e._DayStrings.en[3]=t[3];e._DayStrings.en[4]=t[4];e._DayStrings.en[5]=t[5];e._DayStrings.en[6]=t[6];e._DayStrings.en[7]=t[0]}var i=sap.common.globalization.GlobalizationDateConstant.getShortDay();if(i){e._shortDayStrings.en[1]=i[1];e._shortDayStrings.en[2]=i[2];e._shortDayStrings.en[3]=i[3];e._shortDayStrings.en[4]=i[4];e._shortDayStrings.en[5]=i[5];e._shortDayStrings.en[6]=i[6];e._shortDayStrings.en[7]=i[0]}};e._initializePvlDateStrings=function(){var t=sap.common.globalization.GlobalizationPreference.getInstance().pvl();if(t&&!sap.common.globalization.utils.StringUtil.isBlankString(t)){e._initializePvlDayStrings();var i=sap.common.globalization.GlobalizationDateConstant.getLongMonth();if(i){e._MonthStrings.en[1]=i[0];e._MonthStrings.en[2]=i[1];e._MonthStrings.en[3]=i[2];e._MonthStrings.en[4]=i[3];e._MonthStrings.en[5]=i[4];e._MonthStrings.en[6]=i[5];e._MonthStrings.en[7]=i[6];e._MonthStrings.en[8]=i[7];e._MonthStrings.en[9]=i[8];e._MonthStrings.en[10]=i[9];e._MonthStrings.en[11]=i[10];e._MonthStrings.en[12]=i[11]}var r=sap.common.globalization.GlobalizationDateConstant.getShortMonth();if(r){e._shortMonthStrings.en[1]=r[0];e._shortMonthStrings.en[2]=r[1];e._shortMonthStrings.en[3]=r[2];e._shortMonthStrings.en[4]=r[3];e._shortMonthStrings.en[5]=r[4];e._shortMonthStrings.en[6]=r[5];e._shortMonthStrings.en[7]=r[6];e._shortMonthStrings.en[8]=r[7];e._shortMonthStrings.en[9]=r[8];e._shortMonthStrings.en[10]=r[9];e._shortMonthStrings.en[11]=r[10];e._shortMonthStrings.en[12]=r[11]}var a=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(a){e._AmPms.en[1]=a[0];e._AmPms.en[2]=a[1]}}};e._resetAllStaticVars=function(){e._DayStrings=null;e._shortDayStrings=null;e._MonthStrings=null;e._shortMonthStrings=null;e._DateTimeCodes=null;e._NumericStrings=null;e._DateTimeStrings=null;e._CurrencySymbol=null;e._SAPCurrencySymbol=null;e._SAPDateString=null;e._SAPTimeString=null;e._SAPThousandsSeparator=null;e._SAPDecimalSeparator=null;e._SAPLongDay=null;e._SAPShortDay=null;e._SAPLongMonth=null;e._SAPShortMonth=null;e._AmPms=null}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.BaseUtils");var e=sap.common.globalization.utils.BaseUtils;var t=0;sap.common.globalization.utils.BaseUtils.genUID=function(){if(!t){t=0}return"xgen_"+t++};var i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};sap.common.globalization.utils.BaseUtils.applyProperties=function(e,t){if(t!=null){var i=t.length;for(var r=0;r<i;r++){var a=t[r];if(a&&a!=null){this.applyObjectProperty(e,a.name,a.value)}}}};sap.common.globalization.utils.BaseUtils.applyObjectProperty=function(t,i,r){try{if(e.isFunction(t[i])){t[i](r)}else{if(t.hasOwnProperty(i)){t[i]=r}}}catch(e){if(console){console.log(e)}}};sap.common.globalization.utils.BaseUtils.getObjectProperty=function(t,i){try{if(e.isFunction(t[i])){return t[i]()}else{if(t.hasOwnProperty(i)){return t[i]}}}catch(e){if(console){console.log(e)}}};sap.common.globalization.utils.BaseUtils.type=function(e){return e==null?String(e):i[Object.prototype.toString.call(e)]||"object"};sap.common.globalization.utils.BaseUtils.isFunction=function(t){return e.type(t)==="function"};sap.common.globalization.utils.BaseUtils.isBoolean=function(t){return e.type(t)==="boolean"};sap.common.globalization.utils.BaseUtils.isString=function(t){return e.type(t)==="string"};sap.common.globalization.utils.BaseUtils.isArray=function(t){return e.type(t)==="array"};sap.common.globalization.utils.BaseUtils.isNumber=function(t){return e.type(t)==="number"};sap.common.globalization.utils.BaseUtils.isRegExp=function(t){return e.type(t)==="regexp"};sap.common.globalization.utils.BaseUtils.sortArrayOn=function(t,i,r){if(e.isArray(t)&&e.isString(i)){t.sort(function(e,t){return r?(e[i]<t[i])-(e[i]>t[i]):(e[i]>t[i])-(e[i]<t[i])})}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.UnitAbbreviations");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.UnitAbbreviations=function(){this.__className="sap.common.globalization.utils.UnitAbbreviations";this.thousands="K";this.millions="M";this.billions="B";this.trillions="T"};sap.common.globalization.utils.UnitAbbreviations.prototype.toObject=function(){return{thousands:this.thousands,millions:this.millions,billions:this.billions,trillions:this.trillions}};sap.common.globalization.utils.UnitAbbreviations.prototype.copyFromObject=function(e){if(!e){e={thousands:"K",millions:"M",billions:"B",trillions:"T"}}var t=false;for(attr in["thousands","millions","billions","trillions"]){if(sap.common.globalization.utils.BaseUtils.isString(e[attr])&&e[attr]!=this[attr]){this[attr]=e[attr];t=true}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.BooleanUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.BooleanUtil.isBooleanValue=function(e){if(sap.common.globalization.utils.BaseUtils.isBoolean(e)){return true}else{if(sap.common.globalization.utils.BaseUtils.isString(e)){return String(e).toLowerCase()=="true"||String(e).toLowerCase()=="false"}else{return false}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.ColorUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.ColorUtil.convertToHexString=function(e){if(e==null||!sap.common.globalization.utils.BaseUtils.isNumber(e)||isNaN(e)){return null}var t="#",i=["r","g","b"],r=sap.common.globalization.utils.ColorUtil.convertToRGBObject(e);for(var a=0,n=i.length;a<n;a++){var o=i[a],s=r[o].toString(16);if(s.length==1){t+="0"}t+=s}return t};sap.common.globalization.utils.ColorUtil.convertToRGBObject=function(e){if(e==null||!sap.common.globalization.utils.BaseUtils.isNumber(e)||isNaN(e)){return null}return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.DataFormatUtils");sap.common.globalization.require("sap.common.globalization.utils.ColorUtil");sap.common.globalization.utils.DataFormatUtils.decorateColorHTML=function(e,t){if(!isNaN(t)){return'<FONT COLOR="'+sap.common.globalization.utils.ColorUtil.convertToHexString(t)+'"/>'+e+"</FONT>"}return e};sap.common.globalization.utils.DataFormatUtils.DataFormatUtils=function(){throw new Error("Should not initialize DataFormatUtils.")}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.NumberUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.require("sap.common.globalization.utils.UnitAbbreviations");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.utils.NumberUtil.checkEquality=function(e,t,i){i=i||-5;if(e==t){return true}var r=Math.pow(10,i-1);var a=e-t;return a<r&&a>-r};sap.common.globalization.utils.NumberUtil.lessThanEqual=function(e,t,i){i=i||-5;return e<t||sap.common.globalization.utils.NumberUtil.checkEquality(e,t,i)};sap.common.globalization.utils.NumberUtil.greaterThanEqual=function(e,t,i){i=i||-5;return e>t||sap.common.globalization.utils.NumberUtil.checkEquality(e,t,i)};sap.common.globalization.utils.NumberUtil.getPrecision=function(e){var t=String(e);var i=t.length;var r=t.indexOf(".");var a=i-(r+1);return a};sap.common.globalization.utils.NumberUtil.roundToPrecision=function(e,t){var i=e.toString(10);var r=i.split(".");var a=r&&r.length>1?r[1].length:0;if(a<=t){return e}var n=Math.pow(10,t);return Math.round(e*n)/n};sap.common.globalization.utils.NumberUtil.roundToNearest=function(e,t,i){t=t||1;i=i||0;return Math.round((e+i)/t)*t-i};sap.common.globalization.utils.NumberUtil.abbreviate=function(e,t,i){var r=1e3;var a=1e6;var n=1e9;var o=1e12;t=t||null;i=i||1;if(!t){t=new sap.common.globalization.utils.UnitAbbreviations}var s="";var l=Math.abs(e);if(l>=o){e/=o;s=t.trillions}else{if(l>=n){e/=n;s=t.billions}else{if(l>=a){e/=a;s=t.millions}else{if(l>=r){e/=r;s=t.thousands}}}}e=sap.common.globalization.utils.NumberUtil.roundToPrecision(e,i);return String(e)+s};sap.common.globalization.utils.NumberUtil.parseNumber=function(e,t){var i=t;if(e!=null){var r=Number(e);if(isNaN(r)==false){i=r}}return i};sap.common.globalization.utils.NumberUtil.isNumericValue=function(e){if(sap.common.globalization.utils.BaseUtils.isNumber(e)&&!isNaN(e)){return true}else{if(sap.common.globalization.utils.BaseUtils.isString(e)){return sap.common.globalization.utils.StringUtil.isNumber(String(e))}else{return false}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.utils.StringUtil");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.utils.StringUtil.escapeEntities=function(e){if(e){e=e.split("&").join("&amp;");e=e.split("<").join("&lt;");e=e.split(">").join("&gt;");e=e.split('"').join("&quot;");e=e.split("'").join("&apos;")}return e};sap.common.globalization.utils.StringUtil.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")};sap.common.globalization.utils.StringUtil.isBlankString=function(e){if(e==null||!sap.common.globalization.utils.BaseUtils.isString(e)){return false}return sap.common.globalization.utils.StringUtil.trim(e)===""};sap.common.globalization.utils.StringUtil.isNumber=function(e){if(isNaN(Number(e))){return false}else{if(sap.common.globalization.utils.StringUtil.isBlankString(e)){return false}else{return true}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.");sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory";this._parseLocaleInfo=null;this._displayLocaleInfo=null};var e=sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory;e.prototype.getDateParseLocaleInfo=function(){if(!this._parseLocaleInfo){this._parseLocaleInfo=this.getPredefinedDateParseLocaleString()}return this._parseLocaleInfo};e.prototype.getDateDisplayLocaleInfo=function(){if(!this._displayLocaleInfo){this._displayLocaleInfo=this.getPredefinedDateDisplayLocaleString();this.applySAPDateTokensAndSeparators(this._displayLocaleInfo)}return this._displayLocaleInfo};e.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultLongDateFormat()};e.prototype.createFDate=function(){return new sap.common.globalization.numericFormat.FDefaultDate(this.getDateParseLocaleInfo(),this.getDateDisplayLocaleInfo())};e.prototype.getPredefinedDateParseLocaleString=function(){return new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl};e.prototype.getPredefinedDateDisplayLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;var t=sap.common.globalization.GlobalizationDateConstant.getLongDay();if(t){e.IMSDAYNAME1(t[1]);e.IMSDAYNAME2(t[2]);e.IMSDAYNAME3(t[3]);e.IMSDAYNAME4(t[4]);e.IMSDAYNAME5(t[5]);e.IMSDAYNAME6(t[6]);e.IMSDAYNAME7(t[0])}var i=sap.common.globalization.GlobalizationDateConstant.getShortDay();if(i){e.IMSABBREVDAYNAME1(i[1]);e.IMSABBREVDAYNAME2(i[2]);e.IMSABBREVDAYNAME3(i[3]);e.IMSABBREVDAYNAME4(i[4]);e.IMSABBREVDAYNAME5(i[5]);e.IMSABBREVDAYNAME6(i[6]);e.IMSABBREVDAYNAME7(i[0])}var r=sap.common.globalization.GlobalizationDateConstant.getLongMonth();if(r){e.IMSMONTHNAME1(r[0]);e.IMSMONTHNAME2(r[1]);e.IMSMONTHNAME3(r[2]);e.IMSMONTHNAME4(r[3]);e.IMSMONTHNAME5(r[4]);e.IMSMONTHNAME6(r[5]);e.IMSMONTHNAME7(r[6]);e.IMSMONTHNAME8(r[7]);e.IMSMONTHNAME9(r[8]);e.IMSMONTHNAME10(r[9]);e.IMSMONTHNAME11(r[10]);e.IMSMONTHNAME12(r[11])}var a=sap.common.globalization.GlobalizationDateConstant.getShortMonth();if(a){e.IMSABBREVMONTHNAME1(a[0]);e.IMSABBREVMONTHNAME2(a[1]);e.IMSABBREVMONTHNAME3(a[2]);e.IMSABBREVMONTHNAME4(a[3]);e.IMSABBREVMONTHNAME5(a[4]);e.IMSABBREVMONTHNAME6(a[5]);e.IMSABBREVMONTHNAME7(a[6]);e.IMSABBREVMONTHNAME8(a[7]);e.IMSABBREVMONTHNAME9(a[8]);e.IMSABBREVMONTHNAME10(a[9]);e.IMSABBREVMONTHNAME11(a[10]);e.IMSABBREVMONTHNAME12(a[11])}var n=sap.common.globalization.GlobalizationDateConstant.getAbbrevEraString();if(n&&n[1]){e.IMEraToken(n[1])}return e};e.prototype.applySAPDateTokensAndSeparators=function(e){var t=sap.common.globalization.numericFormat.FLocalization.getInstance();if(t.SAPShortDay){e.IMSABBREVDAYNAME1(t.SAPShortDay[0]);e.IMSABBREVDAYNAME2(t.SAPShortDay[1]);e.IMSABBREVDAYNAME3(t.SAPShortDay[2]);e.IMSABBREVDAYNAME4(t.SAPShortDay[3]);e.IMSABBREVDAYNAME5(t.SAPShortDay[4]);e.IMSABBREVDAYNAME6(t.SAPShortDay[5]);e.IMSABBREVDAYNAME7(t.SAPShortDay[6])}if(t.SAPLongDay){e.IMSDAYNAME1(t.SAPLongDay[0]);e.IMSDAYNAME2(t.SAPLongDay[1]);e.IMSDAYNAME3(t.SAPLongDay[2]);e.IMSDAYNAME4(t.SAPLongDay[3]);e.IMSDAYNAME5(t.SAPLongDay[4]);e.IMSDAYNAME6(t.SAPLongDay[5]);e.IMSDAYNAME7(t.SAPLongDay[6])}if(t.SAPShortMonth){e.IMSABBREVMONTHNAME1(t.SAPShortMonth[0]);e.IMSABBREVMONTHNAME2(t.SAPShortMonth[1]);e.IMSABBREVMONTHNAME3(t.SAPShortMonth[2]);e.IMSABBREVMONTHNAME4(t.SAPShortMonth[3]);e.IMSABBREVMONTHNAME5(t.SAPShortMonth[4]);e.IMSABBREVMONTHNAME6(t.SAPShortMonth[5]);e.IMSABBREVMONTHNAME7(t.SAPShortMonth[6]);e.IMSABBREVMONTHNAME8(t.SAPShortMonth[7]);e.IMSABBREVMONTHNAME9(t.SAPShortMonth[8]);e.IMSABBREVMONTHNAME10(t.SAPShortMonth[9]);e.IMSABBREVMONTHNAME11(t.SAPShortMonth[10]);e.IMSABBREVMONTHNAME12(t.SAPShortMonth[11])}if(t.SAPLongMonth){e.IMSMONTHNAME1(t.SAPLongMonth[0]);e.IMSMONTHNAME2(t.SAPLongMonth[1]);e.IMSMONTHNAME3(t.SAPLongMonth[2]);e.IMSMONTHNAME4(t.SAPLongMonth[3]);e.IMSMONTHNAME5(t.SAPLongMonth[4]);e.IMSMONTHNAME6(t.SAPLongMonth[5]);e.IMSMONTHNAME7(t.SAPLongMonth[6]);e.IMSMONTHNAME8(t.SAPLongMonth[7]);e.IMSMONTHNAME9(t.SAPLongMonth[8]);e.IMSMONTHNAME10(t.SAPLongMonth[9]);e.IMSMONTHNAME11(t.SAPLongMonth[10]);e.IMSMONTHNAME12(t.SAPLongMonth[11])}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var e=sap.common.globalization.defaultFormat;e.DefaultDateTimeFormatLocaleFactory=function(){e.DefaultDateTimeFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultDateTimeFormatLocaleFactory"};e.DefaultDateTimeFormatLocaleFactory=sap.common.globalization.extend(e.DefaultDateTimeFormatLocaleFactory,e.DefaultDateFormatLocaleFactory);e.DefaultDateTimeFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultDateTimeFormat()};e.DefaultDateTimeFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(t){e.DefaultDateTimeFormatLocaleFactory.superclass.applySAPDateTokensAndSeparators(t);var i=sap.common.globalization.numericFormat.FLocalization.getInstance();if(t&&i&&i.SAPTimeSeparator){t.IMTimeSeparator(i.SAPTimeSeparator)}};e.DefaultDateTimeFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var t=e.DefaultDateTimeFormatLocaleFactory.superclass.getPredefinedDateParseLocaleString();var i=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(i&&t){t.IMTimeSeparator(i)}return t};e.DefaultDateTimeFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var t=e.DefaultDateTimeFormatLocaleFactory.superclass.getPredefinedDateDisplayLocaleString();var i=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(i&&t){t.IMTimeSeparator(i)}var r=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(r&&t){t.IMAMTOKEN(r[0]);t.IMPMTOKEN(r[1])}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var e=sap.common.globalization.defaultFormat;e.DefaultShortDateFormatLocaleFactory=function(){e.DefaultShortDateFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultShortDateFormatLocaleFactory"};e.DefaultShortDateFormatLocaleFactory=sap.common.globalization.extend(e.DefaultShortDateFormatLocaleFactory,e.DefaultDateFormatLocaleFactory);e.DefaultShortDateFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultShorDateFormat()};e.DefaultShortDateFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(t){e.DefaultShortDateFormatLocaleFactory.superclass.applySAPDateTokensAndSeparators(t);var i=sap.common.globalization.numericFormat.FLocalization.getInstance();if(t&&i&&i.SAPDateSeparator){t.IMDateSeparator(i.SAPDateSeparator)}};e.DefaultShortDateFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var t=e.DefaultShortDateFormatLocaleFactory.superclass.getPredefinedDateParseLocaleString();var i=sap.common.globalization.GlobalizationDateConstant.getDateSeparator();if(i&&t){t.IMDateSeparator(i)}return t};e.DefaultShortDateFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var t=e.DefaultShortDateFormatLocaleFactory.superclass.getPredefinedDateDisplayLocaleString();var i=sap.common.globalization.GlobalizationDateConstant.getDateSeparator();if(i&&t){t.IMDateSeparator(i)}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo=function(){this.__className="sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo";this._trueString="";this._falseString=""};sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo.prototype.trueString=function(e){if(arguments.length>=1){this._trueString=e;return this}else{return this._trueString}};sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo.prototype.falseString=function(e){if(arguments.length>=1){this._falseString=e;return this}else{return this._falseString}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationPreference");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateForPVL");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");var e=sap.common.globalization.defaultFormat;e.CustomDateFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory";this._dateParseLocaleInfo=null;this._dateDisplayLocaleInfo=null};e.CustomDateFormatLocaleFactory._instance=null;e.CustomDateFormatLocaleFactory.getInstance=function(){if(!e.CustomDateFormatLocaleFactory._instance){e.CustomDateFormatLocaleFactory._instance=new e.CustomDateFormatLocaleFactory}return e.CustomDateFormatLocaleFactory._instance};e.CustomDateFormatLocaleFactory.prototype.getDateParseLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().getDateParseLocaleInfo()};e.CustomDateFormatLocaleFactory.prototype.getDateDisplayLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().getDateDisplayLocaleInfo()};e.CustomDateFormatLocaleFactory.prototype.createFDate=function(){var e=sap.common.globalization.GlobalizationPreference.getInstance().pvl()&&!sap.common.globalization.utils.StringUtil.isBlankString(sap.common.globalization.GlobalizationPreference.getInstance().pvl());if(e){return new sap.common.globalization.numericFormat.FDateForPVL(this.getDateParseLocaleInfo(),this.getDateDisplayLocaleInfo())}else{return new sap.common.globalization.numericFormat.FDate(null,this.getDateDisplayLocaleInfo())}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory=function(){this.__className="sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory"};var e=sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory;e._instance=null;e.getInstance=function(){if(!e._instance){e._instance=new sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory}return e._instance};e.prototype.getNumericParseLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().numericParseLocaleInfo()};e.prototype.getNumericDisplayLocaleInfo=function(){return sap.common.globalization.numericFormat.FLocalization.getInstance().numericDisplayLocaleInfo()};e.prototype.createFNumber=function(){return new sap.common.globalization.numericFormat.FNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo())}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl";this._IMDateSeparator=null;this._IMSMONTHNAME1=null;this._IMSMONTHNAME2=null;this._IMSMONTHNAME3=null;this._IMSMONTHNAME4=null;this._IMSMONTHNAME5=null;this._IMSMONTHNAME6=null;this._IMSMONTHNAME7=null;this._IMSMONTHNAME8=null;this._IMSMONTHNAME9=null;this._IMSMONTHNAME10=null;this._IMSMONTHNAME11=null;this._IMSMONTHNAME12=null;this._IMSABBREVMONTHNAME1=null;this._IMSABBREVMONTHNAME2=null;this._IMSABBREVMONTHNAME3=null;this._IMSABBREVMONTHNAME4=null;this._IMSABBREVMONTHNAME5=null;this._IMSABBREVMONTHNAME6=null;this._IMSABBREVMONTHNAME7=null;this._IMSABBREVMONTHNAME8=null;this._IMSABBREVMONTHNAME9=null;this._IMSABBREVMONTHNAME10=null;this._IMSABBREVMONTHNAME11=null;this._IMSABBREVMONTHNAME12=null;this._IMSDAYNAME1=null;this._IMSDAYNAME2=null;this._IMSDAYNAME3=null;this._IMSDAYNAME4=null;this._IMSDAYNAME5=null;this._IMSDAYNAME6=null;this._IMSDAYNAME7=null;this._IMSABBREVDAYNAME1=null;this._IMSABBREVDAYNAME2=null;this._IMSABBREVDAYNAME3=null;this._IMSABBREVDAYNAME4=null;this._IMSABBREVDAYNAME5=null;this._IMSABBREVDAYNAME6=null;this._IMSABBREVDAYNAME7=null;this._IMTimeSeparator=null;this._IMAMToken=null;this._IMPMToken=null;this._IMEraToken=null};var e=sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;e.prototype.IMDateSeparator=function(e){if(arguments.length>=1){this._IMDateSeparator=e}else{return this._IMDateSeparator}};e.prototype.IMSMONTHNAME1=function(e){if(arguments.length>=1){this._IMSMONTHNAME1=e}else{return this._IMSMONTHNAME1}};e.prototype.IMSMONTHNAME2=function(e){if(arguments.length>=1){this._IMSMONTHNAME2=e}else{return this._IMSMONTHNAME2}};e.prototype.IMSMONTHNAME3=function(e){if(arguments.length>=1){this._IMSMONTHNAME3=e}else{return this._IMSMONTHNAME3}};e.prototype.IMSMONTHNAME4=function(e){if(arguments.length>=1){this._IMSMONTHNAME4=e}else{return this._IMSMONTHNAME4}};e.prototype.IMSMONTHNAME5=function(e){if(arguments.length>=1){this._IMSMONTHNAME5=e}else{return this._IMSMONTHNAME5}};e.prototype.IMSMONTHNAME6=function(e){if(arguments.length>=1){this._IMSMONTHNAME6=e}else{return this._IMSMONTHNAME6}};e.prototype.IMSMONTHNAME7=function(e){if(arguments.length>=1){this._IMSMONTHNAME7=e}else{return this._IMSMONTHNAME7}};e.prototype.IMSMONTHNAME8=function(e){if(arguments.length>=1){this._IMSMONTHNAME8=e}else{return this._IMSMONTHNAME8}};e.prototype.IMSMONTHNAME9=function(e){if(arguments.length>=1){this._IMSMONTHNAME9=e}else{return this._IMSMONTHNAME9}};e.prototype.IMSMONTHNAME10=function(e){if(arguments.length>=1){this._IMSMONTHNAME10=e}else{return this._IMSMONTHNAME10}};e.prototype.IMSMONTHNAME11=function(e){if(arguments.length>=1){this._IMSMONTHNAME11=e}else{return this._IMSMONTHNAME11}};e.prototype.IMSMONTHNAME12=function(e){if(arguments.length>=1){this._IMSMONTHNAME12=e}else{return this._IMSMONTHNAME12}};e.prototype.IMSABBREVMONTHNAME1=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME1=e}else{return this._IMSABBREVMONTHNAME1}};e.prototype.IMSABBREVMONTHNAME2=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME2=e}else{return this._IMSABBREVMONTHNAME2}};e.prototype.IMSABBREVMONTHNAME3=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME3=e}else{return this._IMSABBREVMONTHNAME3}};e.prototype.IMSABBREVMONTHNAME4=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME4=e}else{return this._IMSABBREVMONTHNAME4}};e.prototype.IMSABBREVMONTHNAME5=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME5=e}else{return this._IMSABBREVMONTHNAME5}};e.prototype.IMSABBREVMONTHNAME6=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME6=e}else{return this._IMSABBREVMONTHNAME6}};e.prototype.IMSABBREVMONTHNAME7=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME7=e}else{return this._IMSABBREVMONTHNAME7}};e.prototype.IMSABBREVMONTHNAME8=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME8=e}else{return this._IMSABBREVMONTHNAME8}};e.prototype.IMSABBREVMONTHNAME9=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME9=e}else{return this._IMSABBREVMONTHNAME9}};e.prototype.IMSABBREVMONTHNAME10=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME10=e}else{return this._IMSABBREVMONTHNAME10}};e.prototype.IMSABBREVMONTHNAME11=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME11=e}else{return this._IMSABBREVMONTHNAME11}};e.prototype.IMSABBREVMONTHNAME12=function(e){if(arguments.length>=1){this._IMSABBREVMONTHNAME12=e}else{return this._IMSABBREVMONTHNAME12}};e.prototype.IMSDAYNAME1=function(e){if(arguments.length>=1){this._IMSDAYNAME1=e}else{return this._IMSDAYNAME1}};e.prototype.IMSDAYNAME2=function(e){if(arguments.length>=1){this._IMSDAYNAME2=e}else{return this._IMSDAYNAME2}};e.prototype.IMSDAYNAME3=function(e){if(arguments.length>=1){this._IMSDAYNAME3=e}else{return this._IMSDAYNAME3}};e.prototype.IMSDAYNAME4=function(e){if(arguments.length>=1){this._IMSDAYNAME4=e}else{return this._IMSDAYNAME4}};e.prototype.IMSDAYNAME5=function(e){if(arguments.length>=1){this._IMSDAYNAME5=e}else{return this._IMSDAYNAME5}};e.prototype.IMSDAYNAME6=function(e){if(arguments.length>=1){this._IMSDAYNAME6=e}else{return this._IMSDAYNAME6}};e.prototype.IMSDAYNAME7=function(e){if(arguments.length>=1){this._IMSDAYNAME7=e}else{return this._IMSDAYNAME7}};e.prototype.IMSABBREVDAYNAME1=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME1=e}else{return this._IMSABBREVDAYNAME1}};e.prototype.IMSABBREVDAYNAME2=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME2=e}else{return this._IMSABBREVDAYNAME2}};e.prototype.IMSABBREVDAYNAME3=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME3=e}else{return this._IMSABBREVDAYNAME3}};e.prototype.IMSABBREVDAYNAME4=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME4=e}else{return this._IMSABBREVDAYNAME4}};e.prototype.IMSABBREVDAYNAME5=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME5=e}else{return this._IMSABBREVDAYNAME5}};e.prototype.IMSABBREVDAYNAME6=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME6=e}else{return this._IMSABBREVDAYNAME6}};e.prototype.IMSABBREVDAYNAME7=function(e){if(arguments.length>=1){this._IMSABBREVDAYNAME7=e}else{return this._IMSABBREVDAYNAME7}};e.prototype.IMTimeSeparator=function(e){if(arguments.length>=1){this._IMTimeSeparator=e}else{return this._IMTimeSeparator}};e.prototype.IMAMTOKEN=function(e){if(arguments.length>=1){this._IMAMToken=e}else{return this._IMAMToken}};e.prototype.IMPMTOKEN=function(e){if(arguments.length>=1){this._IMPMToken=e}else{return this._IMPMToken}};e.prototype.IMEraToken=function(e){if(arguments.length>=1){this._IMEraToken=e}else{return this._IMEraToken}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl=function(){this.__className="sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl";this._IMDateSeparator=null;this._IMTimeSeparator=null};sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl.prototype.IMDateSeparator=function(e){if(arguments.length>=1){this._IMDateSeparator=e}else{return this._IMDateSeparator}};sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl.prototype.IMTimeSeparator=function(e){if(arguments.length>=1){this._IMTimeSeparator=e}else{return this._IMTimeSeparator}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.require("sap.common.globalization.GlobalizationBooleanConstant");sap.common.globalization.require("sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo");sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory=function(){this.className="sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory";this._displayLocale=null};var e=sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory;e._instance=null;e.getInstance=function(){if(!e._instance){e._instance=new sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory}return e._instance};e.prototype.getBooleanDisplayLocaleInfo=function(){if(!this._displayLocale){this._displayLocale=new sap.common.globalization.defaultFormat.BooleanDisplayLocaleInfo;var e=sap.common.globalization.GlobalizationBooleanConstant.getBooleanStrings();if(e){this._displayLocale.trueString(e[0]);this._displayLocale.falseString(e[1])}}return this._displayLocale}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.require("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultNumber");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");var e="SAP_DEFAULT_NUMBER_FORMAT";sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory=function(e){this.__className="sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory.DefaultNumericFormatLocaleFactory";this._numericParseLocaleInfo=null;this._numericDisplayLocaleInfo=null;this._decimalPattern=null;if(t.isDefaultNumberFormat(e)){this._parseDecimalPattern(e)}};var t=sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory;t.REG_DEFAULT_NUMBER_FORMAT=new RegExp("^"+e+"(;.*)?$","i");t.isDefaultNumberFormat=function(e){return t.REG_DEFAULT_NUMBER_FORMAT.test(e)};t.prototype.getNumericParseLocaleInfo=function(){var e=sap.common.globalization;if(!this._numericParseLocaleInfo){this._numericParseLocaleInfo=new e.defaultFormat.NumericParseLocaleInfoImpl(e.GlobalizationNumericConstant.getParseThousandSeparator(),e.GlobalizationNumericConstant.getParseDecimalSeparator(),e.GlobalizationNumericConstant.getParseCurrencySymbol())}return this._numericParseLocaleInfo};t.prototype.getNumericDisplayLocaleInfo=function(){if(!this._numericDisplayLocaleInfo){var e=",";var t=".";var i=sap.common.globalization;if(i.numericFormat.FLocalization.getInstance().SAPThousandsSeparator){e=i.numericFormat.FLocalization.getInstance().SAPThousandsSeparator}else{if(i.GlobalizationNumericConstant.getDisplayThousandSeparator()){e=i.GlobalizationNumericConstant.getDisplayThousandSeparator()}}if(i.numericFormat.FLocalization.getInstance().SAPDecimalSeparator){t=i.numericFormat.FLocalization.getInstance().SAPDecimalSeparator}else{if(i.GlobalizationNumericConstant.getDisplayDecimalSeparator()){t=i.GlobalizationNumericConstant.getDisplayDecimalSeparator()}}var r=i.numericFormat.FLocalization.getInstance().SAPCurrencySymbol?i.numericFormat.FLocalization.getInstance().SAPCurrencySymbol:this.displayCurrencySymbol();this._numericDisplayLocaleInfo=new i.defaultFormat.NumericDisplayLocaleInfoImpl(e,t,r)}return this._numericDisplayLocaleInfo};t.prototype.createFNumber=function(){var e=new sap.common.globalization.numericFormat.FDefaultNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo());if(sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry(sap.common.globalization.GlobalizationNumericConstant.getActualLocaleForDefaultNumberFormat())){e.groupingStrategy(sap.common.globalization.numericFormat.TwoDigitGroupingStrategy.instance())}return e};t.prototype.getDefaultNumericFormat=function(){var e=this._getDefaultNumericFormat();if(this._decimalPattern){e=e.replace(/.###/g,this._decimalPattern)}return e};t.prototype._getDefaultNumericFormat=function(){if(sap.common.globalization.GlobalizationNumericConstant.getDefaultNumberFormat()){return sap.common.globalization.GlobalizationNumericConstant.getDefaultNumberFormat()}return"#,##0.###"};t.prototype.displayCurrencySymbol=function(){return""};t.prototype._parseDecimalPattern=function(e){var t=e.match(/;\..*/);if(t){t=t[0].split(";")[1];if(/^\.#*$/.test(t)){this._decimalPattern=t}}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationDateConstant");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");var e=sap.common.globalization.defaultFormat;e.DefaultTimeFormatLocaleFactory=function(){e.DefaultTimeFormatLocaleFactory.superclass.constructor.apply(this);this.__className="sap.common.globalization.defaultFormat.DefaultTimeFormatLocaleFactory"};e.DefaultTimeFormatLocaleFactory=sap.common.globalization.extend(e.DefaultTimeFormatLocaleFactory,e.DefaultDateFormatLocaleFactory);e.DefaultTimeFormatLocaleFactory.prototype.getDefaultDateFormat=function(){return sap.common.globalization.GlobalizationDateConstant.getDefaultTimeFormat()};e.DefaultTimeFormatLocaleFactory.prototype.applySAPDateTokensAndSeparators=function(e){var t=sap.common.globalization.numericFormat.FLocalization.getInstance();if(e&&t&&t.SAPTimeSeparator){e.IMTimeSeparator(t.SAPTimeSeparator)}};e.DefaultTimeFormatLocaleFactory.prototype.getPredefinedDateParseLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateParseLocaleInfoImpl;var t=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(t&&e){e.IMTimeSeparator(t)}return e};e.DefaultTimeFormatLocaleFactory.prototype.getPredefinedDateDisplayLocaleString=function(){var e=new sap.common.globalization.defaultFormat.DateDisplayLocaleInfoImpl;var t=sap.common.globalization.GlobalizationDateConstant.getTimeSeparator();if(t&&e){e.IMTimeSeparator(t)}var i=sap.common.globalization.GlobalizationDateConstant.getAmPmToken();if(i&&e){e.IMAMTOKEN(i[0]);e.IMPMTOKEN(i[1])}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl");sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl=function(e,t,i){if(e){this._thousandsSeparator=e}else{this._thousandsSeparator=","}if(t){this._decimalSeparator=t}else{this._decimalSeparator="."}if(i){this._currencySymbol=i}else{this._currencySymbol=""}};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.thousandsSeparator=function(){return this._thousandsSeparator};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.decimalSeparator=function(){return this._decimalSeparator};sap.common.globalization.defaultFormat.NumericDisplayLocaleInfoImpl.prototype.currencySymbol=function(){return this._currencySymbol}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl");sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl=function(e,t,i){if(e){this._thousandsSeparator=e}else{this._thousandsSeparator=","}if(t){this._decimalSeparator=t}else{this._decimalSeparator="."}if(i){this._currencySymbol=i}else{this._currencySymbol=""}};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.thousandsSeparator=function(){return this._thousandsSeparator};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.decimalSeparator=function(){return this._decimalSeparator};sap.common.globalization.defaultFormat.NumericParseLocaleInfoImpl.prototype.currencySymbol=function(){return this._currencySymbol}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateA");var e=sap.common.globalization.numericFormat;e.FDateA=function(e){this.__className="sap.common.globalization.numericFormat.FDateA";this._full=true;this._displayLocale=e};e.FDateA.prototype.parse=function(e,t){var i=0;var r=t.toLowerCase();if(r.substr(0,5)=="am/pm"){e.miltime=false;i=5}if(r.substr(0,3)=="a/p"){e.miltime=false;this._full=false;i=3}return i};e.FDateA.prototype.display=function(e){var t="";if(e.getHrs()>=12){if(this._full){t=this._displayLocale.IMPMTOKEN()?this._displayLocale.IMPMTOKEN():"PM"}else{t=this._displayLocale.IMPMTOKEN()?this._displayLocale.IMPMTOKEN():"P"}}else{if(this._full){t=this._displayLocale.IMAMTOKEN()?this._displayLocale.IMAMTOKEN():"AM"}else{t=this._displayLocale.IMAMTOKEN()?this._displayLocale.IMAMTOKEN():"A"}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");var e=sap.common.globalization.numericFormat;e.FDateB=function(e){this.__className="sap.common.globalization.numericFormat.FDateB";this._displayLocaleInfo=e;this.mask=undefined;this.c="";this._tok={};this.initializeTokenMap()};e.FDateB.prototype.parse=function(e,t){var i=2;this.c=t.charAt(1);var r=this.createTokenFormatter(this._tok[this.c]);if(this.c=="M"||this.c=="m"){r.bminute=true}var a=r.parse(e,t.substring(1));if(a>0){this.mask=r;i+=a}return i};e.FDateB.prototype.display=function(e){var t;if(this.c=="S"||this.c=="s"){t=86400*e.serial}else{if(this.c=="M"||this.c=="m"){t=1440*e.serial}else{if(this.c=="H"||this.c=="h"){t=24*e.serial}}}this.mask.value=Math.floor(t);return this.mask.display(e)};e.FDateB.prototype.createTokenFormatter=function(t){var i=null;switch(t){case e.FDateM:i=new e.FDateM(this._displayLocaleInfo);break;case e.FDateH:i=new e.FDateH;break;case e.FDateS:i=new e.FDateS;break;default:}return i};e.FDateB.prototype.initializeTokenMap=function(){this._tok.M=e.FDateM;this._tok.H=e.FDateH;this._tok.S=e.FDateS;this._tok.m=e.FDateM;this._tok.h=e.FDateH;this._tok.s=e.FDateS}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateD");var e=sap.common.globalization.numericFormat;e.FDateD=function(e){this.__className="sap.common.globalization.numericFormat.FDateD";this._placeholders=0;this._displayLocaleInfo=e};e.FDateD.prototype.getPlaceholders=function(){return this._placeholders};e.FDateD.prototype.parse=function(e,t){var i=0;while(t.charAt(i)=="D"||t.charAt(i)=="d"){i++}if(i<=2){this._placeholders=i}else{if(i==3){this._placeholders=-1}else{if(i>=4){this._placeholders=-2}}}return i};e.FDateD.prototype.display=function(e){var t="";if(this._placeholders>=0){t+=e.getDate();while(t.length<this._placeholders){t="0"+t}}else{var i=e.getDay();if(this._placeholders==-1){t+=this.getShortDay(i)}else{t+=this.getDay(i)}}return t};e.FDateD.prototype.getDay=function(e){if(e==0){return this._displayLocaleInfo.IMSDAYNAME7()}if(e==1){return this._displayLocaleInfo.IMSDAYNAME1()}if(e==2){return this._displayLocaleInfo.IMSDAYNAME2()}if(e==3){return this._displayLocaleInfo.IMSDAYNAME3()}if(e==4){return this._displayLocaleInfo.IMSDAYNAME4()}if(e==5){return this._displayLocaleInfo.IMSDAYNAME5()}if(e==6||e==-1){return this._displayLocaleInfo.IMSDAYNAME6()}return this._displayLocaleInfo.IMSDAYNAME6()};e.FDateD.prototype.getShortDay=function(e){if(e==0){return this._displayLocaleInfo.IMSABBREVDAYNAME7().split(".")[0]}if(e==1){return this._displayLocaleInfo.IMSABBREVDAYNAME1().split(".")[0]}if(e==2){return this._displayLocaleInfo.IMSABBREVDAYNAME2().split(".")[0]}if(e==3){return this._displayLocaleInfo.IMSABBREVDAYNAME3().split(".")[0]}if(e==4){return this._displayLocaleInfo.IMSABBREVDAYNAME4().split(".")[0]}if(e==5){return this._displayLocaleInfo.IMSABBREVDAYNAME5().split(".")[0]}if(e==6||e==-1){return this._displayLocaleInfo.IMSABBREVDAYNAME6().split(".")[0]}return this._displayLocaleInfo.IMSABBREVDAYNAME6().split(".")[0]}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateH");var e=sap.common.globalization.numericFormat;e.FDateH=function(){this.__className="sap.common.globalization.numericFormat.FDateH";this.placeholders=1;this.number=0;this.value=NaN};sap.common.globalization.numericFormat.FDateH.prototype.parse=function(e,t){var i=0;this.number=e.HNum+1;e.HBool=true;e.HNum=this.number;while(t.charAt(i)=="H"||t.charAt(i)=="h"){i++}if(i>1){this.placeholders=2}return i};e.FDateH.prototype.display=function(e){var t;if(isNaN(this.value)){t=e.getHrs()}else{t=this.value}if(!e.miltime){if(this.number==e.HNum){if(t>11){t=t-12}if(t==0){t=12}}}var i=""+t;while(this.placeholders>i.length){i="0"+i}return i}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateM");var e=sap.common.globalization.numericFormat;e.FDateM=function(e){this.__className="sap.common.globalization.numericFormat.FDateM";this.bminute=false;this.placeholders=0;this.value=undefined;this._displayLocaleInfo=e};e.FDateM.prototype.parse=function(e,t){var i=0;while(t.charAt(i)=="M"||t.charAt(i)=="m"){i++}if(i<=2){if(e.HBool){this.bminute=true}e.HBool=false;this.placeholders=i}else{if(i==3){this.placeholders=-1}else{if(i==4){this.placeholders=-2}else{if(i==5){this.placeholders=-3}}}}return i};e.FDateM.prototype.display=function(e){var t="";if(this.placeholders>=0&&this.bminute){if(this.value==undefined){t+=e.getMin()}else{t+=this.value}while(t.length<this.placeholders){t="0"+t}}else{var i=e.getMonth();if(this.placeholders>=0){i++;t+=i;while(t.length<this.placeholders){t="0"+t}}else{var r=new Array(this._displayLocaleInfo.IMSMONTHNAME1(),this._displayLocaleInfo.IMSMONTHNAME2(),this._displayLocaleInfo.IMSMONTHNAME3(),this._displayLocaleInfo.IMSMONTHNAME4(),this._displayLocaleInfo.IMSMONTHNAME5(),this._displayLocaleInfo.IMSMONTHNAME6(),this._displayLocaleInfo.IMSMONTHNAME7(),this._displayLocaleInfo.IMSMONTHNAME8(),this._displayLocaleInfo.IMSMONTHNAME9(),this._displayLocaleInfo.IMSMONTHNAME10(),this._displayLocaleInfo.IMSMONTHNAME11(),this._displayLocaleInfo.IMSMONTHNAME12());var a=new Array(this._displayLocaleInfo.IMSABBREVMONTHNAME1(),this._displayLocaleInfo.IMSABBREVMONTHNAME2(),this._displayLocaleInfo.IMSABBREVMONTHNAME3(),this._displayLocaleInfo.IMSABBREVMONTHNAME4(),this._displayLocaleInfo.IMSABBREVMONTHNAME5(),this._displayLocaleInfo.IMSABBREVMONTHNAME6(),this._displayLocaleInfo.IMSABBREVMONTHNAME7(),this._displayLocaleInfo.IMSABBREVMONTHNAME8(),this._displayLocaleInfo.IMSABBREVMONTHNAME9(),this._displayLocaleInfo.IMSABBREVMONTHNAME10(),this._displayLocaleInfo.IMSABBREVMONTHNAME11(),this._displayLocaleInfo.IMSABBREVMONTHNAME12());if(this.placeholders==-1){t+=a[i]}else{if(this.placeholders==-3){t+=r[i].substring(0,1)}else{t+=r[i]}}}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.numericFormat.FDateS=function(){this.__className="sap.common.globalization.numericFormat.FDateS";this.splaceholders=1;this.msplaceholders=0;this.value=undefined;this.IMDecimalSeparator=sap.common.globalization.numericFormat.FLocalization.getInstance().IMDecimalSeparator;this.ms=NaN};sap.common.globalization.numericFormat.FDateS.prototype.parse=function(e,t){var i=0;var r=e.mask;var a=r.length;for(var n=a-1;n>=0;n--){if(r[n].__className=="sap.common.globalization.numericFormat.FDateM"){r[n].bminute=true;break}}while(t.charAt(i)=="S"||t.charAt(i)=="s"){i++}if(i>1){this.splaceholders=2}if(t.charAt(i)==this.IMDecimalSeparator.charAt(0)&&t.charAt(i+1)=="0"){i++;while(t.charAt(i)=="0"){i++;this.msplaceholders++}if(this.msplaceholders>e.ms){e.ms=this.msplaceholders}}return i};sap.common.globalization.numericFormat.FDateS.prototype.display=function(e){var t;if(this.value==undefined){t=""+e.getSec()}else{t=""+this.value}while(this.splaceholders>t.length){t="0"+t}if(this.msplaceholders>0){var i=e.getMS()/Math.pow(10,3-this.msplaceholders);if(this.msplaceholders<this.ms){i=Math.floor(i)}else{i=Math.round(i)}var r=""+i;while(r.length<this.msplaceholders){r="0"+r}t+=this.IMDecimalSeparator+r}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateSep");sap.common.globalization.numericFormat.FDateSep=function(e,t){this.__className="sap.common.globalization.numericFormat.FDateSep";this._parseLocalInfo=e;this._displayLocaleInfo=t};sap.common.globalization.numericFormat.FDateSep.prototype.parse=function(e,t){var i=t.charAt(0);if(this._displayLocaleInfo.IMDateSeparator()!=null&&(i=="."||i=="/"||i=="-")){return 1}else{return 0}};sap.common.globalization.numericFormat.FDateSep.prototype.display=function(e){var t=this._displayLocaleInfo.IMDateSeparator();return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.numericFormat.FDateY=function(){this.__className="sap.common.globalization.numericFormat.FDateY";this.placeholders=2};sap.common.globalization.numericFormat.FDateY.prototype.parse=function(e,t){var i=0;while(t.charAt(i)=="Y"||t.charAt(i)=="y"){i++}if(i>2){this.placeholders=4}return i};sap.common.globalization.numericFormat.FDateY.prototype.display=function(e){var t=""+e.getYear();if(this.placeholders<4){t=t.substring(2)}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FText");sap.common.globalization.numericFormat.FText=function(){this.__className="sap.common.globalization.numericFormat.FText";this.color=NaN;this.format="";this.condnum=0;this.cond={};this.numAts=0;this.mask=new Array};sap.common.globalization.numericFormat.FText.tokens="@";sap.common.globalization.numericFormat.FText.prototype.parse=function(e){var t=0;while(e.charAt(t)=="@"){t++}this.numAts=t;return t};sap.common.globalization.numericFormat.FText.prototype.display=function(e){var t="";for(var i=0;i<this.numAts;i++){t+=e.toString()}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateA");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateSep");var e=sap.common.globalization.numericFormat;e.FDate=function(e,t){this.__className="sap.common.globalization.numericFormat.FDate";this.date;this.color;this.condnum=-Infinity;this.cond;this.tok={};this.HBool=false;this.serial=37500;this.format="";this.HNum=0;this.miltime=true;this.ms=0;this.mask=new Array;this._parseLocaleInfo=e;this._displayLocaleInfo=t;this._inputIsDateType=false;this.initializeTokenMap()};e.FDate.tokens="MDYHSAmdyhsa";e.FDate.prototype.parse=function(e){var t=e.charAt(0);if(t=="."){t=e.substring(0,2)}var i=this.tok[t];if(i==undefined){return 0}var r=this.createTokenFormatter(i);var a=r.parse(this,e);if(a>0){this.mask.push(r)}else{a=0}return a};e.FDate.prototype.display=function(e){this.setNumber(e);var t=this.mask;var i=t.length;var r="";for(var a=0;a<i;a++){if(typeof t[a]=="object"){r+=t[a].display(this)}else{r+=t[a]}}return r};e.FDate.prototype.getMaskClone=function(){if(this.mask){return this.mask.slice()}return[]};e.FDate.prototype.getYear=function(){if(this._inputIsDateType){return this.date.getFullYear()}if(this.serial>=0&&this.serial<1){return 1900}return this.date.getUTCFullYear()};e.FDate.prototype.getMonth=function(){if(this._inputIsDateType){return this.date.getMonth()}if(this.serial>=0&&this.serial<1){return 0}return this.date.getUTCMonth()};e.FDate.prototype.getDate=function(){if(this._inputIsDateType){return this.date.getDate()}if(this.serial>=0&&this.serial<1){return 0}if(this.serial==60){return 29}return this.date.getUTCDate()};e.FDate.prototype.getDay=function(){var e=this.date.getUTCDay();if(this.serial<60){e--}if(this._inputIsDateType){e=this.date.getDay()}return e};e.FDate.prototype.getHrs=function(){if(this._inputIsDateType){return this.date.getHours()}return this.date.getUTCHours()};e.FDate.prototype.getMin=function(){if(this._inputIsDateType){return this.date.getMinutes()}return this.date.getUTCMinutes()};e.FDate.prototype.getSec=function(){if(this._inputIsDateType){return this.date.getSeconds()}return this.date.getUTCSeconds()};e.FDate.prototype.getMS=function(){if(this._inputIsDateType){return this.date.getMilliseconds()}return this.date.getUTCMilliseconds()};e.FDate.prototype.setNumber=function(e){if(e instanceof Date){var t=new Date;t.setTime(e.getTime());this.date=t;this._inputIsDateType=true;this.serial=37500;return}this._inputIsDateType=false;this.serial=e;if(e<60){e++}var i=e*86400*1e3;var r=i-2209161600*1e3;this.date=new Date(r);if(this.date.getUTCMilliseconds()>=500){this.date.setUTCMilliseconds(this.date.getUTCMilliseconds()+500)}};e.FDate.prototype.createTokenFormatter=function(t){var i=null;switch(t){case e.FDateM:i=new e.FDateM(this._displayLocaleInfo);break;case e.FDateD:i=new e.FDateD(this._displayLocaleInfo);break;case e.FDateY:i=new e.FDateY;break;case e.FDateH:i=new e.FDateH;break;case e.FDateS:i=new e.FDateS;break;case e.FDateSep:i=new e.FDateSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case e.FTimeSep:i=new e.FTimeSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case e.FDateA:i=new e.FDateA(this._displayLocaleInfo);break;case e.FDateB:i=new e.FDateB(this._displayLocaleInfo);break;default:}return i};e.FDate.prototype.initializeTokenMap=function(){this.tok.M=e.FDateM;this.tok.D=e.FDateD;this.tok.Y=e.FDateY;this.tok.H=e.FDateH;this.tok.S=e.FDateS;this.tok.A=e.FDateA;this.tok.m=e.FDateM;this.tok.d=e.FDateD;this.tok.y=e.FDateY;this.tok.h=e.FDateH;this.tok.s=e.FDateS;this.tok.a=e.FDateA;this.tok["["]=e.FDateB;this.tok["/"]=e.FDateSep;this.tok[".M"]=e.FDateSep;this.tok[".D"]=e.FDateSep;this.tok[".Y"]=e.FDateSep;this.tok["-"]=e.FDateSep;this.tok[".m"]=e.FTimeSep;this.tok[".h"]=e.FTimeSep;this.tok[".s"]=e.FTimeSep;this.tok[":"]=e.FTimeSep};e.FDate.prototype.toString=function(){var e="[FDate]\n";for(var t in this){e=e+t+" = "+this[t]+"\n"}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDateForPVL");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.numericFormat.FDateForPVL=function(e,t){sap.common.globalization.numericFormat.FDateForPVL.superclass.constructor.apply(this,[e,t]);this.__className="sap.common.globalization.numericFormat.FDateForPVL"};sap.common.globalization.numericFormat.FDateForPVL=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDateForPVL,sap.common.globalization.numericFormat.FDate);var e=sap.common.globalization.numericFormat.FDateForPVL;e.prototype.createTokenFormatter=function(t){var i=null;if(t==sap.common.globalization.numericFormat.FDefaultDateD){i=new sap.common.globalization.numericFormat.FDefaultDateD(this._displayLocaleInfo)}else{i=e.superclass.createTokenFormatter.call(this,t)}return i};e.prototype.initializeTokenMap=function(){e.superclass.initializeTokenMap.apply(this);this.tok.d=sap.common.globalization.numericFormat.FDefaultDateD;this.tok.D=sap.common.globalization.numericFormat.FDefaultDateD}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.numericFormat.FDefaultDateSep=function(e,t){sap.common.globalization.numericFormat.FDefaultDateSep.superclass.constructor.call(this,e,t);this.__className="sap.common.globalization.numericFormat.FDefaultDateSep"};sap.common.globalization.numericFormat.FDefaultDateSep=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateSep,sap.common.globalization.numericFormat.FDateSep);sap.common.globalization.numericFormat.FDefaultDateSep.prototype.parse=function(e,t){var i=this._parseLocalInfo.IMDateSeparator();if(i){var r=i.length;var a=t.substr(0,r);if(a==i){return r}else{return 0}}return 0}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.numericFormat.FDefaultDateH=function(){sap.common.globalization.numericFormat.FDefaultDateH.superclass.constructor.apply(this);this.__className="sap.common.globalization.numericFormat.FDefaultDateH";this._is12HourStyle=false};sap.common.globalization.numericFormat.FDefaultDateH=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateH,sap.common.globalization.numericFormat.FDateH);sap.common.globalization.numericFormat.FDefaultDateH.prototype.parse=function(e,t){var i=0;this.number=e.HNum+1;e.HBool=true;e.HNum=this.number;this._is12HourStyle=true;while(t.charAt(i)=="H"||t.charAt(i)=="h"){if(t.charAt(i)=="H"){this._is12HourStyle=false}i++}if(i>1){this.placeholders=2}return i};sap.common.globalization.numericFormat.FDefaultDateH.prototype.display=function(e){var t;if(isNaN(this.value)){t=e.getHrs()}else{t=this.value}if(this._is12HourStyle){if(this.number==e.HNum){if(t>11){t=t-12}if(t==0){t=12}}}var i=""+t;while(this.placeholders>i.length){i="0"+i}return i}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateG");sap.common.globalization.require("sap.common.globalization.utils.StringUtil");sap.common.globalization.numericFormat.FDefaultDateG=function(e){this.__className="sap.common.globalization.numericFormat.FDefaultDateG";this._displayLocInfo=e;this._count=0};sap.common.globalization.numericFormat.FDefaultDateG.prototype.parse=function(e,t){if(t&&!sap.common.globalization.utils.StringUtil.isBlankString(t)){if(this._displayLocInfo&&this._displayLocInfo.IMEraToken()){this._count=0;var i=t.charAt(this._count);while(i=="G"){this._count++;i=t.charAt(this._count)}return this._count}}return 0};sap.common.globalization.numericFormat.FDefaultDateG.prototype.display=function(e){var t="";if(this._displayLocInfo&&this._displayLocInfo.IMEraToken()){switch(this._count){case 4:case 5:case 1:case 2:case 3:default:t=this._displayLocInfo.IMEraToken()}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");var e=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FDefaultDateD=function(e){sap.common.globalization.numericFormat.FDefaultDateD.superclass.constructor.call(this,e);this.__className="sap.common.globalization.numericFormat.FDefaultDateD"};sap.common.globalization.numericFormat.FDefaultDateD=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDateD,sap.common.globalization.numericFormat.FDateD);e.FDefaultDateD.prototype.getShortDay=function(e){if(e==0){return this._displayLocaleInfo.IMSABBREVDAYNAME7()}if(e==1){return this._displayLocaleInfo.IMSABBREVDAYNAME1()}if(e==2){return this._displayLocaleInfo.IMSABBREVDAYNAME2()}if(e==3){return this._displayLocaleInfo.IMSABBREVDAYNAME3()}if(e==4){return this._displayLocaleInfo.IMSABBREVDAYNAME4()}if(e==5){return this._displayLocaleInfo.IMSABBREVDAYNAME5()}if(e==6||e==-1){return this._displayLocaleInfo.IMSABBREVDAYNAME6()}return this._displayLocaleInfo.IMSABBREVDAYNAME6()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateG");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateM");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateD");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateY");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateH");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateS");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateA");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateB");sap.common.globalization.require("sap.common.globalization.numericFormat.FDateSep");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultDateSep");sap.common.globalization.numericFormat.FDefaultDate=function(e,t){sap.common.globalization.numericFormat.FDefaultDate.superclass.constructor.apply(this,[e,t]);this.__className="sap.common.globalization.numericFormat.FDefaultDate"};sap.common.globalization.numericFormat.FDefaultDate=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultDate,sap.common.globalization.numericFormat.FDate);sap.common.globalization.numericFormat.FDefaultDate.prototype.createTokenFormatter=function(e){var t=sap.common.globalization.numericFormat;var i=null;switch(e){case t.FDateM:i=new t.FDateM(this._displayLocaleInfo);break;case t.FDefaultDateD:i=new t.FDefaultDateD(this._displayLocaleInfo);break;case t.FDateY:i=new t.FDateY;break;case t.FDefaultDateH:i=new t.FDefaultDateH;break;case t.FDateS:i=new t.FDateS;break;case t.FDefaultDateSep:i=new t.FDefaultDateSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case t.FTimeSep:i=new t.FTimeSep(this._parseLocaleInfo,this._displayLocaleInfo);break;case t.FDateA:i=new t.FDateA(this._displayLocaleInfo);break;case t.FDateB:i=new t.FDateB(this._displayLocaleInfo);break;case t.FDefaultDateG:i=new t.FDefaultDateG(this._displayLocaleInfo);break;default:}return i};sap.common.globalization.numericFormat.FDefaultDate.prototype.initializeTokenMap=function(){var e=sap.common.globalization.numericFormat;this.tok.M=e.FDateM;this.tok.Y=e.FDateY;this.tok.S=e.FDateS;this.tok.A=e.FDateA;this.tok.m=e.FDateM;this.tok.y=e.FDateY;this.tok.s=e.FDateS;this.tok.a=e.FDateA;this.tok["["]=e.FDateB;this.tok.D=e.FDefaultDateD;this.tok.d=e.FDefaultDateD;this.tok.H=e.FDefaultDateH;this.tok.h=e.FDefaultDateH;if(this._parseLocaleInfo&&this._parseLocaleInfo.IMDateSeparator){if(this._parseLocaleInfo.IMDateSeparator()=="."){this.tok[".M"]=e.FDefaultDateSep;this.tok[".D"]=e.FDefaultDateSep;this.tok[".d"]=e.FDefaultDateSep;this.tok[".Y"]=e.FDefaultDateSep;this.tok[".y"]=e.FDefaultDateSep}else{this.tok[this._parseLocaleInfo.IMDateSeparator()]=e.FDefaultDateSep}}if(this._parseLocaleInfo&&this._parseLocaleInfo.IMTimeSeparator()){if(this._parseLocaleInfo.IMDateSeparator=="."){this.tok[".m"]=e.FTimeSep;this.tok[".h"]=e.FTimeSep;this.tok[".H"]=e.FTimeSep;this.tok[".s"]=e.FTimeSep;this.tok[".S"]=e.FTimeSep}else{this.tok[this._parseLocaleInfo.IMTimeSeparator()]=e.FTimeSep}}this.tok.G=e.FDefaultDateG}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.DefaultGroupingStrategy");sap.common.globalization.numericFormat.DefaultGroupingStrategy=function(){this.__className="sap.common.globalization.numericFormat.DefaultGroupingStrategy"};var e=sap.common.globalization.numericFormat.DefaultGroupingStrategy;e._instance=new sap.common.globalization.numericFormat.DefaultGroupingStrategy;e.prototype.nextGroupDigits=function(){return 2};e.instance=function(){return e._instance}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.Helper");sap.common.globalization.require("sap.common.globalization.numericFormat.FLocalization");sap.common.globalization.numericFormat.Helper.isThousandsSeparator=function(e,t,i){var i=i||null;var r=i?i:sap.common.globalization.numericFormat.FLocalization.getInstance().IMThousandsSeparator();if(r.charAt(0)==" "){for(var a=t;a<e.length;++a){if(e.charAt(a)!=" "){break}}if(e.charAt(a)==""||e.charAt(a)==""||e.charAt(a)=="k"||e.charAt(a)=="S"||e.charAt(a)=="L"||e.charAt(a)=="m"||e.charAt(a)=="K"){return false}}return e.charAt(t)==r.charAt(0)}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FCurr");sap.common.globalization.numericFormat.FCurr=function(e,t){this.__className="sap.common.globalization.numericFormat.FCurr";this.display="";this._parseLocaleInfo=e;this._displayLocaleInfo=t};sap.common.globalization.numericFormat.FCurr.prototype.parse=function(e,t){var i=this._parseLocaleInfo.currencySymbol();var r=this._displayLocaleInfo.currencySymbol();if(r!=null&&i!=null&&i!=r){e.currencyIndex=e.mask.length;this.display=r;return i.length}else{return 0}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNum0");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNum0=function(e){this.__className="sap.common.globalization.numericFormat.FNum0";this._parseLocaleInfo=e;this.display="0"};sap.common.globalization.numericFormat.FNum0.prototype.parse=function(e,t){var i=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var r=t.charAt(2);if(r!="#"&&r!="?"&&r!="0"){if(!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}else{e.scale=e.scale/1e6}}else{e.bcomma=true}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,a++,this._parseLocaleInfo.thousandsSeparator())){i++}}return i}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumP");sap.common.globalization.numericFormat.FNumP=function(){this.__className="sap.common.globalization.numericFormat.FNumP";this.display="%"};sap.common.globalization.numericFormat.FNumP.prototype.parse=function(e,t){e.scale=e.scale*100;return-1}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumQ");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNumQ=function(e){this.__className="sap.common.globalization.numericFormat.FNumQ";this._parseLocaleInfo=e;this.display=" "};sap.common.globalization.numericFormat.FNumQ.prototype.parse=function(e,t){var i=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var r=t.charAt(2);if(r!="#"&&r!="?"&&r!="0"&&!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}else{e.bcomma=true}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,a++,this._parseLocaleInfo.thousandsSeparator())){i++}}return i}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumS");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FNumS=function(e){this.__className="sap.common.globalization.numericFormat.FNumS";this._parseLocaleInfo=e;this.display=""};sap.common.globalization.numericFormat.FNumS.prototype.parse=function(e,t){var i=1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var r=t.charAt(2);if(r!="#"&&r!="?"&&r!="0"){if(!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}else{e.scale=e.scale/1e6}}else{e.bcomma=true}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,a++,this._parseLocaleInfo.thousandsSeparator())){i++}}return i}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FPeriod");sap.common.globalization.require("sap.common.globalization.numericFormat.Helper");sap.common.globalization.numericFormat.FPeriod=function(e,t){this.__className="sap.common.globalization.numericFormat.FPeriod";this._parseLocaleInfo=e;this.display=t.decimalSeparator()};sap.common.globalization.numericFormat.FPeriod.prototype.parse=function(e,t){var i=-1;if(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,1,this._parseLocaleInfo.thousandsSeparator())){var r=t.charAt(2);if(r!="#"&&r!="?"&&r!="0"&&!sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,2,this._parseLocaleInfo.thousandsSeparator())){e.scale=e.scale/1e3}var a=1;while(sap.common.globalization.numericFormat.Helper.isThousandsSeparator(t,a++,this._parseLocaleInfo.thousandsSeparator())){i++}}if(e.period==-1){e.period=e.mask.length}return i}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.numericFormat.FNumber=function(e,t){this.__className="sap.common.globalization.numericFormat.FNumber";this.scale=1;this.bcomma=false;this.bsign=true;this.period=-1;this.numfore=undefined;this.numaft=undefined;this.sign="";this.mask=new Array;this.mfore=new Array;this.maft=new Array;this.format=undefined;this.currencyIndex=-1;this._tok={};this._tok["#"]=sap.common.globalization.numericFormat.FNumS;this._tok["?"]=sap.common.globalization.numericFormat.FNumQ;this._tok["%"]=sap.common.globalization.numericFormat.FNumP;this._tok["0"]=sap.common.globalization.numericFormat.FNum0;this.condnum=0;this.cond={};var i=e.decimalSeparator();this._tok[i]=sap.common.globalization.numericFormat.FPeriod;this.IMDecimalSeparator=i;this.parseLocaleInfo=e;this.displayLocaleInfo=t;this.IMThousandsSeparator=t.thousandsSeparator();var r=this.parseLocaleInfo.currencySymbol();if(r){this._tok[r]=sap.common.globalization.numericFormat.FCurr}};sap.common.globalization.numericFormat.FNumber.tokens="#?%0";sap.common.globalization.numericFormat.FNumber.prototype.parse=function(e){if(this.format==null){this.format=e}var t=e.charAt(0);if(this._tok[t]==undefined||t==this.IMDecimalSeparator&&(e.length>1&&e.charAt(1)!="#"&&e.charAt(1)!="0")){return 0}var i=this.createTokenFormatter(this._tok[t]);var r=i.parse(this,e);if(this.period>1){var a=true}if(r>0){var n=this.mask.length;this.mask.push(i);if(this.currencyIndex!=n){if(this.period==-1){this.mfore.push(n)}else{this.maft.push(n)}}}else{if(r<0){this.mask.push(i);r=Math.abs(r)}else{r=0}}return r};sap.common.globalization.numericFormat.FNumber.prototype.display=function(e){if(typeof e!="number"&&typeof e!="string"){return e}if(isNaN(e)||!isFinite(e)){return e}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(e);var t=new Array;var i=this.mfore.length;var r=3;var a=this.period;var n=a==-1?this.mask.length:a;var o;var s;var l;for(var u=i-1;u>=0;u--){a=this.mfore[u];for(var o=n-1;o>a;o--){l=this.mask[o];if(typeof l=="object"){t.unshift(l.display)}else{t.unshift(l)}}if(this.numfore.length>0){if(this.bcomma){if(r--==0){t.unshift(this.IMThousandsSeparator);r=2}}s=this.numfore.length-1;t.unshift(this.numfore.charAt(s));this.numfore=this.numfore.substring(0,s)}else{var c=this.mask[a].display;if(c.length!=0){if(this.bcomma&&r--==0){t.unshift(this.IMThousandsSeparator);r=2}t.unshift(this.mask[a].display)}}n=a}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(r--==0){t.unshift(this.IMThousandsSeparator);r=2}s=this.numfore.length-1;t.unshift(this.numfore.charAt(s));this.numfore=this.numfore.substring(0,s)}}else{t.unshift(this.numfore)}}l=this.mask;if(this.currencyIndex!=-1){u=0}for(o=n-1;o>=0;o--){if(typeof l[u]=="object"){t.unshift(this.mask[o].display)}else{t.unshift(this.mask[o])}}i=this.mask.length;u=this.period==-1?i:this.period;a=0;for(;u<i;u++){if(typeof l[u]=="object"){if(this.maft[a]==u){a++;if(this.numaft.length>0){t.push(this.numaft.charAt(0));this.numaft=this.numaft.substring(1)}else{t.push(l[u].display)}}else{t.push(l[u].display)}}else{t.push(l[u])}}var f;if(this.bsign){f=this.sign+t.join("")}else{f=t.join("")}return f};sap.common.globalization.numericFormat.FNumber.prototype.setNumber=function(e){var t=this.maft.length;if(this.format.charAt(this.format.length-1)=="%"){e=Number(e);var i=Math.pow(10,t+1+2);e=e*i;e=e/(i/this.scale)}else{if(this.scale!=1){e=Number(e)*this.scale}}var r;if(typeof e==="string"){r=e.split(".");if(r[1]){var a=this.excel_round(Number("0."+r[1]),t);r[1]=a.toString().substr(2)}}else{e=this.excel_round(e,t);var n=e.toString();if(n.indexOf("e")>-1){n=s(n)}r=n.split(".")}function o(e,t){var i="";for(var r=0;r<t;r++){i+=e}return i}function s(e){var t,i,r,a,n;var s=e.indexOf("e");t=parseInt(e.substring(s+2));var l=e.substring(0,s);if(l[0]==="-"){n=true;l=l.substring(1)}if(e[s+1]==="-"){if(l.indexOf(".")>-1){l=l[0]+l.substring(2)}a="0."+o("0",t-1)+l}else{var u=l.indexOf(".");if(u>-1){r=t-l.substring(u+1).length;if(r>=0){a=l[0]+l.substring(2)+o("0",r)}else{a=l[0]+l.substring(2,t+2)+"."+l.substring(t+2)}}else{a=l[0]+o("0",t)}}if(n){a="-"+a}return a}this.numfore=r[0];if(this.numfore.charAt(0)=="-"){this.sign="-";this.numfore=this.numfore.substring(1)}else{this.sign=""}if(this.numfore.charAt(0)=="0"){this.numfore=this.numfore.substring(1)}this.numaft=undefined;if(r.length<2){this.numaft=""}else{this.numaft=r[1]}};sap.common.globalization.numericFormat.FNumber.prototype.createTokenFormatter=function(e){var t=null;var i=sap.common.globalization.numericFormat;switch(e){case i.FNumS:t=new sap.common.globalization.numericFormat.FNumS(this.parseLocaleInfo);break;case i.FNumQ:t=new sap.common.globalization.numericFormat.FNumQ(this.parseLocaleInfo);break;case i.FNumP:t=new sap.common.globalization.numericFormat.FNumP;break;case i.FNum0:t=new sap.common.globalization.numericFormat.FNum0(this.parseLocaleInfo);break;case i.FPeriod:t=new sap.common.globalization.numericFormat.FPeriod(this.parseLocaleInfo,this.displayLocaleInfo);break;case i.FCurr:t=new sap.common.globalization.numericFormat.FCurr(this.parseLocaleInfo,this.displayLocaleInfo);break;default:}return t};sap.common.globalization.numericFormat.FNumber.prototype.excel_round=function(e,t){var i=false;if(e<0){i=true;e=-e}var r,a;var n=0;var o=Math.pow(10,t);r=Math.floor(e*o);n=(r+.5)/o;a=(r+1)/o;r/=o;e=e<n?r:a;if(i){e=-e}return e}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.DefaultGroupingStrategy");sap.common.globalization.require("sap.common.globalization.numericFormat.FPeriod");sap.common.globalization.numericFormat.FDefaultNumber=function(e,t){sap.common.globalization.numericFormat.FDefaultNumber.superclass.constructor.apply(this,[e,t]);this.__className="sap.common.globalization.numericFormat.FDefaultDateNumber";this._groupingStrategy=sap.common.globalization.numericFormat.DefaultGroupingStrategy.instance()};sap.common.globalization.numericFormat.FDefaultNumber=sap.common.globalization.extend(sap.common.globalization.numericFormat.FDefaultNumber,sap.common.globalization.numericFormat.FNumber);sap.common.globalization.numericFormat.FDefaultNumber.prototype.display=function(e){if(typeof e!="number"&&typeof e!="string"){return e}if(isNaN(e)||!isFinite(e)){return e}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(e);var t=new Array;var i=this.mfore.length;var r=3;var a=this.period;var n=a==-1?this.mask.length:a;var o;var s;var l;for(var u=i-1;u>=0;u--){a=this.mfore[u];for(o=n-1;o>a;o--){l=this.mask[o];if(typeof l=="object"){t.unshift(l.display)}else{t.unshift(l)}}if(this.numfore.length>0){if(this.bcomma){if(r--==0){t.unshift(this.IMThousandsSeparator);r=this._groupingStrategy.nextGroupDigits()}}s=this.numfore.length-1;t.unshift(this.numfore.charAt(s));this.numfore=this.numfore.substring(0,s)}else{var c=this.mask[a].display;if(c.length!=0){if(this.bcomma&&r--==0){t.unshift(this.IMThousandsSeparator);r=this._groupingStrategy.nextGroupDigits()}t.unshift(this.mask[a].display)}}n=a}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(r--==0){t.unshift(this.IMThousandsSeparator);r=this._groupingStrategy.nextGroupDigits()}s=this.numfore.length-1;t.unshift(this.numfore.charAt(s));this.numfore=this.numfore.substring(0,s)}}else{t.unshift(this.numfore)}}l=this.mask;if(this.currencyIndex!=-1){u=0}for(o=n-1;o>=0;o--){if(typeof l[u]=="object"){t.unshift(this.mask[o].display)}else{t.unshift(this.mask[o])}}i=this.mask.length;u=this.period==-1?i:this.period;a=0;var f=false;for(;u<i;u++){if(typeof l[u]=="object"){if(l[u].__className=="sap.common.globalization.numericFormat.FPeriod"&&!this.numaft){f=true;continue}if(this.maft[a]==u){a++;if(this.numaft.length>0){if(!f){t.push(this.numaft.charAt(0))}this.numaft=this.numaft.substring(1)}else{t.push(l[u].display)}}else{t.push(l[u].display)}}else{t.push(l[u])}}var m;if(this.bsign){m=this.sign+t.join("")}else{m=t.join("")}return m};sap.common.globalization.numericFormat.FDefaultNumber.prototype.groupingStrategy=function(e){if(this._groupingStrategy!=e){this._groupingStrategy=e}}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");sap.common.globalization.require("sap.common.globalization.numericFormat.FDate");sap.common.globalization.require("sap.common.globalization.numericFormat.FText");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory");sap.common.globalization.numericFormat.FT=function(e,t){this.__className="sap.common.globalization.numericFormat.FT";this._hasCustomCondition=false;this.color=undefined;this.o=new Array;this._dateLocaleFactory=e?e:sap.common.globalization.defaultFormat.CustomDateFormatLocaleFactory.getInstance();this._numericLocaleFactory=t?t:sap.common.globalization.defaultFormat.CustomNumericFormatLocaleFactory.getInstance();this._isParsedSuccess=false};var e=sap.common.globalization.numericFormat.FT;e.ftarr=new Array;e._CONDITION_TOKENS="=<>";e._equals=function(e,t){return e==t};e._neq=function(e,t){return e!=t};e._gthan=function(e,t){return e>t};e._gte=function(e,t){return e>=t};e._lthan=function(e,t){return e<t};e._lte=function(e,t){return e<=t};e._CONDITIONS={"=":sap.common.globalization.numericFormat.FT._equals,"<>":sap.common.globalization.numericFormat.FT._neq,"<":sap.common.globalization.numericFormat.FT._lthan,"<=":sap.common.globalization.numericFormat.FT._lte,">":sap.common.globalization.numericFormat.FT._gthan,">=":sap.common.globalization.numericFormat.FT._gte};e._COLORS={black:0,blue:255,cyan:65535,green:65280,magenta:16711935,red:16711680,white:16777215,yellow:16776960};e.prototype._isNumeric=function(e){var t="#?%";var i=t.length;for(var r=0;r<i;r++){if(e.indexOf(t.charAt(r))!=-1){return true}}return false};e.prototype.isParsedSuccess=function(){return this._isParsedSuccess};e.prototype.parse=function(e){this._isParsedSuccess=false;this._hasCustomCondition=false;var t=e;var i=e.length;var r;var a=0;for(var n=0;n<i;n++){r=t.charAt(n);if(r=='"'){while(n<i){if(t.charAt(++n)=='"'&&t.charAt(n-1)!="\\"){break}}continue}if(r=="\\"||r=="_"||r=="*"){n++;continue}if(r==";"){if(this.o[a]==undefined){this.o[a]=new sap.common.globalization.numericFormat.FText}this.o[a].format=t.substring(0,n);a++;t=t.substring(n+1);i=t.length;n=-1;continue}if(r=="["){var o="";while(t.charAt(++n)!="]"&&n<i){o+=t.charAt(n)}var s=o.length;var l=o.charAt(0);if(l=="s"||l=="m"||l=="h"){for(var u=1;u<s;u++){var c=o.charAt(u);if(l!=c){break}}if(u==s){if(this.o[a]==undefined){this.o[a]=this._dateLocaleFactory.createFDate()}}}}var f=sap.common.globalization.numericFormat.FDate.tokens.indexOf(r);if(sap.common.globalization.numericFormat.FDate.tokens.indexOf(r)!=-1&&!this._isNumeric(e)){if(this.o[a]==undefined){this.o[a]=this._dateLocaleFactory.createFDate()}this.o[a]=this._dateLocaleFactory.createFDate()}else{if(sap.common.globalization.numericFormat.FNumber.tokens.indexOf(r)!=-1){if(this.o[a]==undefined){this.o[a]=this._numericLocaleFactory.createFNumber();if(a==1){this.o[a].bsign=false}}}else{if(sap.common.globalization.numericFormat.FText.tokens.indexOf(r)!=-1){if(this.o[a]==undefined){this.o[a]=new sap.common.globalization.numericFormat.FText}}}}}if(this.o[a]==undefined){this.o[a]=this._numericLocaleFactory.createFNumber()}else{this._isParsedSuccess=true}this.o[a].format=t;var m=this.o.length;for(var p=0;p<m;p++){var h=this.o[p];h.condnum=h.condnum||0;if(p==0){h.cond=sap.common.globalization.numericFormat.FT._gthan}else{if(p==1){h.cond=sap.common.globalization.numericFormat.FT._lthan}else{if(p==2){h.cond=sap.common.globalization.numericFormat.FT._equals}}}var d=h.mask;var g=false;t=h.format;i=t.length;for(var u=0;u<i;u++){r=t.charAt(u);if(r=='"'){g=!g;continue}if(r=="\\"){u++;r=t.charAt(u);d.push(r);continue}if(g){d.push(r);continue}if(r=="*"){u++;continue}if(r=="_"){u++;d.push(" ");continue}if(r=="["){l=t.charAt(u+1);c=t.charAt(u+2);if(l=="$"&&c!="-"){var v=t.indexOf("]",u+1);if(v!=-1){var y=t.substring(u+1,v);if(o.indexOf("-")!=-1){y=o.substring(1,o.indexOf("-"))}else{y=o.substring(1)}for(var _=0;_<y.length;++_){d.push(y.charAt(_))}u=v;continue}}else{o=t.substring(u+1);o=o.substring(0,o.indexOf("]")).toLowerCase();if(sap.common.globalization.numericFormat.FT._COLORS[o]!=undefined){h.color=sap.common.globalization.numericFormat.FT._COLORS[o];u+=o.length+1;continue}else{if(o=="h"||o=="m"||o=="s"){}else{var A=1;while(o.charAt(A)!==""&&sap.common.globalization.numericFormat.FT._CONDITION_TOKENS.indexOf(o.charAt(A))!=-1){A++}var b=o.substring(0,A);if(sap.common.globalization.numericFormat.FT._CONDITIONS[b]!=undefined){h.cond=sap.common.globalization.numericFormat.FT._CONDITIONS[b];h.condnum=o.substring(A);u+=o.length+1;this._hasCustomCondition=true;continue}else{u+=o.length+1;continue}}}}}var S=h.parse(t.substring(u));if(S>0){u+=S-1}else{d.push(r)}}}};e.prototype.display=function(e){var t=this.o[0];var i=this.o.length;if(i>3&&sap.common.globalization.utils.BaseUtils.isString(e)){t=this.o[3]}else{if(this._hasCustomCondition&&i>0){if(i<=3){t=this.o[i-1]}else{t=this.o[2]}}for(var r=0;r<3&&r<i;r++){var a=this.o[r];if(a&&a.cond(e,a.condnum)){t=a;break}}}if(!isNaN(t.color)){this.color=t.color}else{this.color=undefined}return t.display(e)};e.prototype.getNumericDisplayLoacleInfo=function(){return this._numericLocaleFactory.getNumericDisplayLocaleInfo()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTBoolean");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.NumericFormatManager;");sap.common.globalization.require("sap.common.globalization.numericFormat.FT");sap.common.globalization.require("sap.common.globalization.utils.BaseUtils");var e=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FTBoolean=function(t,i){e.FTBoolean.superclass.constructor.apply(this,[t,i]);this.__className="sap.common.globalization.numericFormat.FTBoolean";t=t||null;i=i||null;this._booleanLocaleFactory=sap.common.globalization.defaultFormat.DefaultBooleanFormatLocaleFactory.getInstance()};e.FTBoolean.BOOLEAN_TOKEN="SAP_DEFAULT_BOOLEAN_FORMAT";e.FTBoolean=sap.common.globalization.extend(e.FTBoolean,e.FT);sap.common.globalization.numericFormat.FTBoolean.prototype.parse=function(t){if(t==e.FTBoolean.BOOLEAN_TOKEN){this.o[0]=this}else{this.o[0]=null}};sap.common.globalization.numericFormat.FTBoolean.prototype.display=function(e){var t=String(e);var i=this._booleanLocaleFactory.getBooleanDisplayLocaleInfo();if(i&&this.o[0].__className=="sap.common.globalization.numericFormat.FTBoolean"){if(sap.common.globalization.utils.BaseUtils.isBoolean(e)){t=e?i.trueString():i.falseString()}else{if(sap.common.globalization.utils.BaseUtils.isString(e)&&(String(e).toLowerCase()=="true"||String(e).toLowerCase()=="false")){t=String(e).toLowerCase()=="true"?i.trueString():i.falseString()}}}return t}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTimeSep");sap.common.globalization.numericFormat.FTimeSep=function(e,t){this._parseLocale=e;this._displayLocale=t};sap.common.globalization.numericFormat.FTimeSep.prototype.parse=function(e,t){var i=t.charAt(0);if(this._displayLocale.IMTimeSeparator()!=null&&(i==":"||i==".")){return 1}else{return 0}};sap.common.globalization.numericFormat.FTimeSep.prototype.display=function(e){return this._displayLocale.IMTimeSeparator()}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FTUtil");sap.common.globalization.numericFormat.FTUtil.isBooleanFT=function(e){return e&&e.__className=="sap.common.globalization.numericFormat.FTBoolean"};sap.common.globalization.numericFormat.FTUtil.isDate=function(e){return e&&e.o&&e.o.length>0&&e.o[0].__className=="sap.common.globalization.numericFormat.FDate"}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.numericFormat.TwoDigitGroupingStrategy=function(){this.__className="sap.common.globalization.numericFormat.TwoDigitGroupingStrategy"};var e=sap.common.globalization.numericFormat.TwoDigitGroupingStrategy;e._instance=new sap.common.globalization.numericFormat.TwoDigitGroupingStrategy;e.prototype.nextGroupDigits=function(){return 1};e.instance=function(){return e._instance}})();(function(){sap.common.globalization.declare("sap.common.globalization.numericFormat.FDefaultCurrencyNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.FNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.DefaultGroupingStrategy");var e=sap.common.globalization.numericFormat;sap.common.globalization.numericFormat.FDefaultCurrencyNumber=function(t,i){sap.common.globalization.numericFormat.FDefaultCurrencyNumber.superclass.constructor.apply(this,[t,i]);this.__className="sap.common.globalization.numericFormat.FDefaultCurrencyNumber";this._groupingStrategy=e.DefaultGroupingStrategy.instance()};e.FDefaultCurrencyNumber=sap.common.globalization.extend(e.FDefaultCurrencyNumber,e.FNumber);e.FDefaultCurrencyNumber.prototype.display=function(e){if(typeof e!="number"){return e}if(isNaN(e)||!isFinite(e)){return e}if(this.mfore.length==0&&this.maft.length==0){return this.format}this.setNumber(e);var t=new Array;var i=this.mfore.length;var r=3;var a=this.period;var n=a==-1?this.mask.length:a;var o;var s;var l;for(var u=i-1;u>=0;u--){a=this.mfore[u];for(o=n-1;o>a;o--){l=this.mask[o];if(typeof l=="object"){t.unshift(l.display)}else{t.unshift(l)}}if(this.numfore.length>0){if(this.bcomma){if(r--==0){t.unshift(this.IMThousandsSeparator);r=this._groupingStrategy.nextGroupDigits()}}s=this.numfore.length-1;t.unshift(this.numfore.charAt(s));this.numfore=this.numfore.substring(0,s)}else{var c=this.mask[a].display;if(c.length!=0){if(this.bcomma&&r--==0){t.unshift(this.IMThousandsSeparator);r=this._groupingStrategy.nextGroupDigits()}t.unshift(this.mask[a].display)}}n=a}if(this.numfore.length>0){if(this.bcomma){while(this.numfore.length>0){if(r--==0){t.unshift(this.IMThousandsSeparator);r=this._groupingStrategy.nextGroupDigits()}s=this.numfore.length-1;t.unshift(this.numfore.charAt(s));this.numfore=this.numfore.substring(0,s)}}else{t.unshift(this.numfore)}}l=this.mask;if(this.currencyIndex!=-1){u=0}for(o=n-1;o>=0;o--){if(typeof this.mask[o]=="object"){t.unshift(this.mask[o].display)}else{t.unshift(this.mask[o])}}i=this.mask.length;u=this.period==-1?i:this.period;a=0;for(;u<i;u++){if(typeof l[u]=="object"){if(this.maft[a]==u){a++;if(this.numaft.length>0){t.push(this.numaft.charAt(0));this.numaft=this.numaft.substring(1)}else{t.push(l[u].display)}}else{t.push(l[u].display)}}else{t.push(l[u])}}var f;if(this.bsign){f=this.sign+t.join("")}else{f=t.join("")}return f};e.FDefaultCurrencyNumber.prototype.groupingStrategy=function(e){if(this._groupingStrategy!=e){this._groupingStrategy=e}}})();(function(){sap.common.globalization.declare("sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.defaultFormat.DefaultNumericFormatLocaleFactory");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericConstant");sap.common.globalization.require("sap.common.globalization.numericFormat.FDefaultCurrencyNumber");sap.common.globalization.require("sap.common.globalization.numericFormat.TwoDigitGroupingStrategy");sap.common.globalization.require("sap.common.globalization.GlobalizationNumericUtil");sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory=function(e){sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory.superclass.constructor.apply(this,[e]);this.__className="sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory";this._displayCurrencySymbol=null;if(sap.common.globalization.defaultFormat.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat(e)){this._parseCurrencySymbol(e)}};var e=sap.common.globalization.defaultFormat;e.DefaultCurrencyFormatLocaleFactory=sap.common.globalization.extend(e.DefaultCurrencyFormatLocaleFactory,e.DefaultNumericFormatLocaleFactory);e.DefaultCurrencyFormatLocaleFactory.REG_DEFAULT_CURRENCY_FORMAT=new RegExp('^SAP_DEFAULT_CURRENCY_FORMAT(;".*")?$',"i");e.DefaultCurrencyFormatLocaleFactory.isDefaultCurrencyFormat=function(t){return e.DefaultCurrencyFormatLocaleFactory.REG_DEFAULT_CURRENCY_FORMAT.test(t)};e.DefaultCurrencyFormatLocaleFactory.prototype.getDefaultCurrencyFormat=function(){return sap.common.globalization.GlobalizationNumericConstant.getDefaultCurrencyFormat()};e.DefaultCurrencyFormatLocaleFactory.prototype._parseCurrencySymbol=function(e){if("SAP_DEFAULT_CURRENCY_FORMAT"==e){this._displayCurrencySymbol=""}else{this._displayCurrencySymbol=e.slice(29,e.length-1)}};e.DefaultCurrencyFormatLocaleFactory.prototype.createFNumber=function(){var e=new sap.common.globalization.numericFormat.FDefaultCurrencyNumber(this.getNumericParseLocaleInfo(),this.getNumericDisplayLocaleInfo());if(sap.common.globalization.GlobalizationNumericUtil.isTwoDigitGroupingCountry(sap.common.globalization.GlobalizationNumericConstant.getActualLocaleForDefaultCurrencyFormat())){e._groupingStrategy=sap.common.globalization.numericFormat.TwoDigitGroupingStrategy.instance()}return e};e.DefaultCurrencyFormatLocaleFactory.prototype.displayCurrencySymbol=function(){return this._displayCurrencySymbol}})();(function(e){var sap=e.sap;var t=sap&&sap.viz;if(t){var i=t.api&&t.api.metadata;if(i){e.__sap_metadata=i}__sap_temp_v2=sap.viz.extapi;delete sap.viz.api;delete sap.viz.extapi}})(this);(function(e){function t(t){var i=e,r=t.split("."),a=0;while(a<r.length&&i!==undefined){i=i[r[a++]]}return i!==undefined}function i(t){var i=t.split("."),r=e,a;for(a=0;a<i.length;a++){r=r[i[a]]}return r}function r(t,r){var a=e,n,o=t.split("."),s=o.length;o.reduce(function(e,t,i){e[t]=e[t]||(i<s-1||!r?{}:r);return e[t]},e);return i(t)}var a={};var n=[];r("sap.viz.extapi.env",{template:{_queue:a},language:{_queue:n}});function o(e,r,a){return function(n){if(t(e)){i(e)[r](n)}else{a&&a.push(n)}}}function s(e){return function(t){e&&e.push(t)}}r("sap.viz.extapi.env.Template",{register:function(e){a[e.id]=a[e.id]||[];a[e.id].push(e)}});r("sap.viz.extapi.env.Language",{register:s(n)});r("sap.viz.api");r("sap.viz.extapi.core")})(this);sap.viz.extapi.env.Language.register({id:"language",value:{IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE:"You must specify the chart or component options to initialize.",IDS_ERROR_EXIST_CATEGORY_NAME:"A category named {0} already exists.",IDS_ERROR_CATEGORY_NAME_NOT_EMPTY:"The category name must be a non-empty string.",IDS_ERROR_SDK_VERSION_DOES_NOT_MATCH:"[{0}] requires sap.viz.api's version is equal to or greater than {1}; While the current version of sap.viz.api is {2}.",IDS_ERROR_AXIS_ALREADY_EXIST:"Axis {0} already exists.",IDS_ERROR_NODE_NOT_IN_SAME_ROOT:"Node is not in the same root.",IDS_ERROR_INVALID_PATH_DEFINITION:"Invalid path definition: {0}.",IDS_ERROR_UNKNOWN_ERROR:"Unknown error.",IDS_ERROR_DATE_HAVE_INVALID_FORMAT:"Some dates do not have the correct format",IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER:"Cannot initialize without a root UIController <DIV>.",IDS_FEED:"feed",IDS_ERROR_FLATTABLE_MANNUAL_FEED_WRONG_BINDING:"Field IDs in manual feeding are missing or are not in array format.",IDS_ERROR_CUSTOMIZATION_ID:"Customization {0} does not exist for chart type {1}.",IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES:"Could not accept more than 2 axes",IDS_ERROR_WRONG_MEASURE_AXIS_INDEX:"The measure axis index in the feed definition {0} is incorrect.",IDS_ERROR_NOT_ADD_SELF_AS_CHILD:"An ID cannot add itself as a child.",IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2:"Axis index should be 1 or 2",IDS_ERROR_NO_AXIS:"Could not find axis {0} in the dataset {1} feed.",IDS_ERROR_CHART_TYPE_FOR_CUSTOMIZATION:"Chart type {0} does not support customization API. ",IDS_ERROR_FLATTABLE_FEED_DEF_FIELD_INDEX_MISSING:"The field index in feed definition {0} is missing.",IDS_ERROR_NOT_FIND_JQUERY:"Cannot find 'jQuery' library",IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION:"The target <DIV> is not specified for rendering the visualization.",IDS_ERROR_NOT_FIND_MEASURE_GROUP:"Could not find measure values group {0} in the dataset {1} feed.",IDS_ERROR_DIMENSIONS_OR_MEASURES_DUPLICATED_BINDING:"The dimensions/measures binding is duplicated.",IDS_ERROR_UNKNOWN_STATE:"Unknown state",IDS_ERROR_FEED_NOT_ACCEPT_DATA:"Feed {0} could not accept more data containers.",IDS_ERROR_NOT_ADD_ANCESTOR_AS_CHILD:"Cannot add ancestor as a child",IDS_ALREADY_EXISTS:"{0} already exists",IDS_ERROR_NODE_DIV_IN_SVG:"Cannot add <div> tag under <svg> tag.",IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION:"The category factory must be a function.",IDS_ERROR_WRONG_AXIS_INDEX:"The analysis axis index in the feed definition {0} is incorrect.",IDS_ERROR_NOT_FIND_FEED_DEFINITION:"Could not find the feed definition of {0}.",IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL:"Invalid data. Multiple data in the same minimum time interval.",IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME:"You must provide a container <DIV> for the visualization.",IDS_ERROR_LOADING_TEMPLATE_FAIL:"Loading template {0} failed.",IDS_ERROR_NOT_DETERMINE_AXIS_INDEX:"Could not determine measure value axis index",IDS_ERROR_NOT_DETERMINE_DEMENSION:"Cannot determine the dimension after transform is applied",IDS_WRONG_MISSINGEXTENSIONMETADATA:"Extension metadata is incomplete.",IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2:"The values count {0} in the second analysis axis (aa2) should be {1}.",IDS_ERROR_CAN_NOT_FIND_CATEGORY:"Cannot find {0} in category {1}.",IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1:"The values count {0} in the first analysis axis (aa1) should be {1}.",IDS_ERROR_NOT_CREATE_CHAIN_FOR_NON_FUNCTION_OBJECT:"Could not create a call chain for a non-function object.",IDS_ERROR_ALREADY_EXIST_IN_CATEGORY:"There is already an item named {0} in category {1}.",IDS_ERROR_NOT_ACCEPT:"Could not accept {0}",IDS_ERROR_INVALID_BINDING:"Invalid data binding",IDS_ERROR_NODE_IS_NOT_CHILD_OF_THIS_NODE:"Node is not a child of this node",IDS_ERROR_NOT_CHILD_NODE_INSERT:"The node to be inserted is not a child of this node.",IDS_ERROR_DIMENSION_NOT_ZERO:"Length of dimension cannot be zero.",IDS_ERROR_INVALID_CONTEXT_NAME:"{0} is not a valid data ID.  ",IDS_WARN_PARAMETER_NOT_CORRECT:"Input parameter is not correct.",IDS_ERROR_INVALID_FEEDING_NUMBER:"Invalid feeding: the correct number  is {0} feed.",IDS_ERROR_SELECTOR_NOT_NULL:"Selector string cannot be null.",IDS_ERROR_DIMENSION_NOT_FOUND:"dimension index {0} not found",IDS_WRONG_EXTENSIONVERSION:"Extension is not supported by current SDK version.",IDS_ERROR_DIMENSION_WRONG_COUNT:"{0} is an incorrect dimension count.",IDS_ERROR_DIMENSIONS_INCOMPLETE_BINDING:"Incomplete dimensions binding.",IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM:"Invalid parameter, parameter must have metadata and data.",IDS_ERROR_WRONG_FEED_TYPE:"The feed type of {0} is incorrect.",IDS_ERROR_NO_FEED_ID:"Invalid feeding: no feed ID",IDS_ERROR_INVALIDE_DATA_DESCRIPTION:"The dataset does not match the selected time levels.",IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION:"The feed type in the feed definition {0} is incorrect.",IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID:"Cannot register without a valid ID.",IDS_ERROR_INVALID_FEEDING:"Invalid feeding: the feed {0} has exceeded the maximum stacked dimension number.",IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT:"{0} is an incorrect dimension labels count.",IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT:"Cannot register a undefined object.",IDS_ERROR_WRONG_TYPE:"Data type is incorrect.",IDS_ERROR_NOT_MEET_NUMBER_OF_FEED:"{0} : does not meet the minimum or maximum number of feeds definition.",IDS_ERROR_NOT_SUPPORTED:"Not supported",IDS_WARN_LOCALE_NOT_CORRECT:"Input locale is not correct.",IDS_ERROR_BUNDLE_VERSION_DOES_NOT_MATCH:"Failed to initialize [{0}], which requires a version equal to or greater than {1}. The current version is {2}.",IDS_ERROR_ISNODATA:"No data",IDS_ERROR_INVALIDE_DATA:"Invalid data",IDS_ERROR_PARSE_ERROR_EXPECT_TO:"An error occurred when parsing {0}; it should be: {1}."}});(function(e){sap.viz.moduleloader.originalDefine=e.define;sap.viz.moduleloader.originalRequire=e.require;sap.viz.moduleloader.originalRequirejs=e.requirejs;e.define=sap.viz.moduleloader.define;e.require=sap.viz.moduleloader.require.config({context:"info"});e.requirejs=require})(this);define("sap/viz/framework/common/util/TypeUtils",[],function e(){var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var i=Object.prototype.hasOwnProperty;var r=/\d/;var a=function(e){return e==null?String(e):t[Object.prototype.toString.call(e)]||"object"};var n={isFunction:function(e){return a(e)==="function"},isArray:Array.isArray||function(e){return a(e)==="array"},isString:function(e){return a(e)==="string"},isNonEmptyString:function(e){return this.isString(e)&&e.length!==0},isNaN:function(e){return e===null||e===undefined||!r.test(e)||isNaN(e)},isNumber:function(e){return!n.isNaN(parseFloat(e))&&isFinite(e)},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0},isSet:function(e,t){return Boolean(e&t)},isDefined:function(e){return typeof e!=="undefined"},isUndefined:function(e){return typeof e==="undefined"},isPlainObject:function(e){if(!e||a(e)!=="object"||e.nodeType||e&&typeof e==="object"&&"setInterval"in e){return false}if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf")){return false}var t;for(t in e){}return t===undefined||i.call(e,t)},isEmptyObject:function(e){for(var t in e){if(e.hasOwnProperty(t)){return false}}return n.isPlainObject(e)},equals:function(e,t){var i;if(e===t){return true}if(!(e instanceof Object)||!(t instanceof Object)||e.constructor!==t.constructor){return false}for(i in e){if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i)){return false}if(e[i]===t[i]){continue}if(typeof e[i]!=="object"||!n.equals(e[i],t[i])){return false}}}for(i in t){if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i)){{return false}}}return true},isExist:function(e){if(typeof e==="undefined"||e===null){{return false}}return true}};return n});define("sap/viz/framework/common/log/Logger",[],function e(){var t=function(){};Date.now=Date.now||function(){return+new Date};function i(){return this.threshold}function r(e){if(typeof e==="string"){this.threshold=h(e)}else if(typeof e==="number"){this.threshold=e}}var a=function(){this.threshold=x.LEVEL.INFO;this.layout=new x.DefaultLayout;this.print=typeof console!==undefined?function(e){window.console.log(e)}:t};a.prototype={doAppend:function(e,t,i,r){this.print(this.layout.format(e,t,i,r))},setLayout:function(e){if(e.format){this.layout=e}},getLevel:i,setLevel:r};var n=function(){};n.prototype.format=function(e,t,i,r){return"["+e+"]"+"["+p(t)+"]"+"["+(i||"main")+"]-"+r};var o=function(e){this.threshold=x.LEVEL.INFO;this.div=e;this.layout=new s};o.prototype={getLevel:i,setLevel:r,doAppend:function(e,t,i,r){this.div.insertAdjacentHTML("beforeend",this.layout.format(e,t,i,r))}};var s=function(){};s.prototype={format:function(e,t,i,r){return"<div>["+e+"]"+"["+p(t)+"]["+(i||"main")+"]-"+r+"</div>"}};var l=function(){this.array=[]};l.prototype={push:function(e){this.array[this.array.length]=e;return this.array.length},pull:function(){if(this.array.length>0){var e=this.array[0];for(var t=0;t<this.array.length-1;t++){this.array[t]=this.array[t+1]}this.array.length=this.array.length-1;return e}return null},length:function(){return this.array.length}};var u=function(e){this.loggingUrl=e;this.isInProgress=false;this.threshold=x.LEVEL.INFO;this.bufferSize=20;this.timeout=2e3;this.loggingEventMap=[];this.layout=new x.JSONLayout;this.httpRequest=null;this.timer=undefined};function c(){var e=this;if(this.isInProgress===true){setTimeout(function(){c.call(e)},100)}else{this.send()}}u.prototype={getLevel:i,setLevel:r,doAppend:function(e,t,i,r){this.loggingEventMap.push([e,t,i,r]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var a=this;if(this.timer===undefined){this.timer=setTimeout(function(){c.call(a)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined){window.clearTimeout(this.timer)}this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var e=[];var t;for(var i=0,r=this.loggingEventMap.length;i<r&&i<this.bufferSize;i++){t=this.loggingEventMap.shift();e.push(this.layout.format(t[0],t[1],t[2],t[3]))}var a=this.layout.getHeader();a+=e.join(this.layout.getSeparator());a+=this.layout.getFooter();var n=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){n.onReadyStateChanged.call(n)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",a.length);this.httpRequest.send(a);n=this;try{setTimeout(function(){n.httpRequest.onreadystatechange=function(){};n.httpRequest.abort();n.isInProgress=false;if(n.loggingEventMap.length>0){n.send()}},this.timeout)}catch(e){}}},onReadyStateChanged:function(){var e=this.httpRequest;if(this.httpRequest.readyState!==4){return}var t=typeof e.status==="undefined"||e.status===0||e.status>=200&&e.status<300;if(t){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var e=false;try{if(window.XMLHttpRequest){e=new window.XMLHttpRequest;if(e.overrideMimeType){e.overrideMimeType(this.layout.getContentType())}}else if(window.ActiveXObject){try{e=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new window.ActiveXObject("Microsoft.XMLHTTP")}}}catch(t){e=false}if(!e){throw"browser don't support AJAX"}return e}};var f=function(){};f.prototype={format:function(e,t,i,r){var a='{\n "LoggingEvent": {\n';a+='\t"category": "'+(i||"main")+'",\n';a+='\t"level": "'+p(t)+'",\n';a+='\t"message": "'+r+'",\n';a+='\t"timestamp": "'+e+'"\n';a+="}\n}";return a},getContentType:function(){return"text/json"},getHeader:function(){var e="unknown";try{e=window.navigator.userAgent}catch(t){e="unknown"}var t="unknown";try{t=window.location.href}catch(e){t="unknown"}return"{"+'"ClientInfo" : {\n'+'\t"useragent": "'+e+'",\n'+'\t"referer": "'+t+'"\n},\n'+'"VizLogger": [\n'},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var m=function(){};m.prototype={format:function(e,t,i,r){var a='<vizLogger:event category="';a+=(i||"main")+'" level="';a+=p(t)+'" timestamp="';a+=e+'">\n';a+="\t<vizLogger:message><![CDATA["+this.escapeCdata(r)+"]]></vizLogger:message>\n";a+="</vizLogger:event>";return a},getContentType:function(){return"text/xml"},getHeader:function(){var e="unknown";try{e=window.navigator.userAgent}catch(t){e="unknown"}var t="unknown";try{t=window.location.href}catch(e){t="unknown"}return'<vizLogger:eventSet useragent="'+e+'" referer="'+t.replace(/&/g,"&amp;")+'">\n'},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function p(e){switch(e){case x.LEVEL.TRACE:return"TRACE";case x.LEVEL.DEBUG:return"DEBUG";case x.LEVEL.INFO:return"INFO";case x.LEVEL.WARN:return"WARN";case x.LEVEL.ERROR:return"ERROR"}}function h(e){switch(e.toLowerCase()){case"trace":return x.LEVEL.TRACE;case"debug":return x.LEVEL.DEBUG;case"info":return x.LEVEL.INFO;case"warn":return x.LEVEL.WARN;case"error":return x.LEVEL.ERROR}}var d=false;var g=false;var v=2e3;var y=function(e,t,i,r){for(var a in E){if(E.hasOwnProperty(a)){var n=E[a];var o=n.hasOwnProperty("profiling")&&e<=T.DEBUG;if(o||n.threshold>=r&&e>=n.threshold){n.doAppend(Date.now(),e,t,i)}}}};var _=function(e,t,i){S();y(e,t,i)};var A=t;var b=function(){g=true;A=_};var S=function(){g=false;A=y};var M=0;var D=function(){return M++};var E={};var T={TRACE:5e3,DEBUG:1e4,INFO:2e4,WARN:3e4,ERROR:4e4,NO:Number.MAX_VALUE};var x={LEVEL:T,isEnabled:function(){return d},enable:function(){A=y;d=true},disable:function(){A=t;d=false},toggleEnable:function(){if(d){this.disable()}else{this.enable()}},addAppender:function(){var e=D();var t,i;if(arguments.length===1){t=e;i=arguments[0]}else if(arguments.length>=2){t=arguments[0];i=arguments[1]}if(typeof i==="object"&&i.doAppend){if(E[t]!==undefined){return}E[t]=i;return t}},setAppenders:function(e){E=[];for(var t=0,i=e.length;t<i;t++){var r=e[t];if(r.appenderKey){this.addAppender(r.appenderKey,r.appender)}else{this.addAppender(r.appender)}}},removeAppender:function(e){if(E[e]===undefined){return false}else{return delete E[e]}},getAppender:function(e){return E[e]},getAppenders:function(){var e=[];if(E){for(var t in E){if(E.hasOwnProperty(t)){var i=E[t];e.push(i)}}}return e},ConsoleAppender:a,DivAppender:o,AjaxAppender:u,DefaultLayout:n,HTMLLayout:s,XMLLayout:m,JSONLayout:f,level:T.NO,trace:function(e,t){A(x.LEVEL.TRACE,t,e,this.level)},debug:function(e,t){A(x.LEVEL.DEBUG,t,e,this.level)},info:function(e,t){A(x.LEVEL.INFO,t,e,this.level)},warn:function(e,t){A(x.LEVEL.WARN,t,e,this.level)},error:function(e,t){A(x.LEVEL.ERROR,t,e,this.level)}};E["[default]"]=new x.ConsoleAppender;return x});define("sap/viz/framework/common/util/FunctionUtils",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger"],function e(t,i){var r=/\{(\d+)\}/g;var a=Array.prototype.slice;function n(){}function o(e){var t=arguments,a;if(t[0]){a=t[0].replace(r,function(e,i){return t[parseInt(i)+1]})}else{a="Unknown error!"}i.error(a);throw a}function s(e){var t=arguments,a;if(t[0]){a=t[0].replace(r,function(e,i){return t[parseInt(i)+1]})}else{a="Unknown warnning!"}i.warn(a);if(window.console){window.console.warn(a)}}function l(){var e=[];function r(){for(var t=0,i=e.length;t<i;t++){e[t].apply(this,arguments)}}function n(){for(var r=0,a=arguments.length;r<a;r++){if(t.isFunction(arguments[r])){e.push(arguments[r])}else{i.error("Could not create call chain for non-function object");throw"Could not create call chain for non-function object"}}}r.chain=function(){return l.apply(null,[].concat(e,a.call(arguments)))};n.apply(null,arguments);return r}var u={noop:n,unsupported:function(e){if(arguments.length){return function(){throw new Error(e||"Unsupported function!")}}else{throw new Error("Unsupported function!")}},unimplemented:function(e){if(arguments.length){return function(){throw new Error(e||"Unimplemented function!")}}else{throw new Error("Unimplemented function!")}},error:o,logWarnning:s,ascending:function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},descending:function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},createCallChain:l};return u});define("sap/viz/framework/common/util/ObjectUtils",["sap/viz/framework/common/util/TypeUtils"],function e(t){var i=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,n=/(?:^|:|,)(?:\s*\[)+/g;var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};var s=o.toString;var l=o.hasOwnProperty;var u=function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?o[s.call(e)]||"object":typeof e};var c=function(e){if(!e||u(e)!=="object"||e.nodeType||e&&typeof e==="object"&&"setInterval"in e){return false}if(e.constructor&&!l.call(e,"constructor")&&!l.call(e.constructor.prototype,"isPrototypeOf")){return false}return true};var f={extend:function(){var e,i,r,a,n,o,s=arguments[0]||{},l=1,u=arguments.length,m=false;if(typeof s==="boolean"){m=s;s=arguments[1]||{};l=2}if(typeof s!=="object"&&!t.isFunction(s)){s={}}if(u===l){s=this;--l}for(;l<u;l++){if((e=arguments[l])!=null){for(i in e){if(e.hasOwnProperty(i)){r=s[i];a=e[i];if(s===a){continue}if(m&&a&&(c(a)||(n=t.isArray(a)))){if(n){n=false;o=r&&t.isArray(r)?r:[]}else{o=r&&c(r)?r:{}}s[i]=f.extend(m,o,a)}else if(a!==undefined){s[i]=a}}}}}return s},extendByRepalceArray:function(){var e,i,r,a,n,o,s=arguments[0]||{},l=1,u=arguments.length,m=false;if(typeof s==="boolean"){m=s;s=arguments[1]||{};l=2}if(typeof s!=="object"&&!t.isFunction(s)){s={}}if(u===l){s=this;--l}for(;l<u;l++){if((e=arguments[l])!==null){for(i in e){if(e.hasOwnProperty(i)){r=s[i];a=e[i];if(s===a){continue}if(m&&a&&c(a)){if(n){n=false;o=r&&t.isArray(r)?r:[]}else{o=r&&c(r)?r:{}}s[i]=f.extendByRepalceArray(m,o,a)}else if(a!==undefined){s[i]=a}}}}}return s},each:function(e,i,r){var a,n=0,o=e.length,s=o===undefined||t.isFunction(e);if(r){if(s){for(a in e){if(i.apply(e[a],r)===false){break}}}else{for(;n<o;){if(i.apply(e[n++],r)===false){break}}}}else{if(s){for(a in e){if(i.call(e[a],a,e[a])===false){break}}}else{for(var l=e[0];n<o&&i.call(l,n,l)!==false;l=e[++n]){}}}return e},parseJSON:function(e){if(typeof e!=="string"||!e){return null}e=e.trim();if(i.test(e.replace(r,"@").replace(a,"]").replace(n,""))){return window&&window.JSON&&window.JSON.parse&&window.JSON.parse(e)}else{t.error("Invalid JSON: "+e)}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)})},clone:function e(i,r){if(typeof i!=="object"){return i}if(i===null){return i}var a=t.isArray(i);var n=a?[]:{};var o;if(a&&r){for(o=0;o<i.length;o++){n[o]=typeof i[o]==="object"?e(i[o],r):i[o]}}else{for(o in i){if(i.hasOwnProperty(o)){if(i[o]instanceof Date){var s=sap.viz.api&&sap.viz.api.env&&sap.viz.api.env.globalSettings();var l=s&&s.enableCanvgConfig&&s.enableCanvgConfig.UI5Date;n[o]=l?l.getInstance(i[o]):new Date(i[o])}else{n[o]=typeof i[o]==="object"?e(i[o],r):i[o]}}}}return n},deepEqual:function(e,t){if(typeof e==="object"&&typeof t==="object"){var i=null;for(i in e){if(e.hasOwnProperty(i)){if(!t||!t.hasOwnProperty(i)){return false}else if(!this.deepEqual(e[i],t[i])){return false}}}for(i in t){if(t.hasOwnProperty(i)){if(!e||!e.hasOwnProperty(i)){return false}}}return true}else{return e===t}},leftEqual:function(e,t){if(typeof e==="object"&&typeof t==="object"){var i=null;for(i in e){if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i)){return false}else if(!this.leftEqual(e[i],t[i])){return false}}}return true}else{return e===t}},hasElement:function(e,t){for(var i=0;i<e.length;i++){if(this.deepEqual(e[i],t)){return true}}return false},setObject:function(e,t,i,r){for(var a=0,n=e.split(r||"."),o=n.length-1,s=i||window,l;l=n[a];++a){if(a<o){s[l]=s[l]||{}}else{s[l]=t}s=s[l]}},getObject:function(e,t,i){for(var r=0,a=e.split(i||"."),n=a.length-1,o=t||window,s;s=a[r];++r){if(r<n&&!o[s]){return undefined}o=o[s]}return o}};return f});define("sap/viz/framework/common/lang/LangMessageUtil",[],function e(){var t={5e4:"IDS_ERROR_DIMENSION_NOT_ZERO",50001:"IDS_ERROR_DIMENSION_WRONG_COUNT",50002:"IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT",50003:"IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",50004:"IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1",50005:"IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",50006:"IDS_ERROR_WRONG_FEED_TYPE",50007:"IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION",50008:"IDS_ERROR_WRONG_AXIS_INDEX",50009:"IDS_ERROR_WRONG_MEASURE_AXIS_INDEX",50010:"IDS_ERROR_INVALID_FEEDING",50011:"IDS_ERROR_NO_FEED_ID",50012:"IDS_ERROR_INVALID_FEEDING_NUMBER",50013:"IDS_ERROR_NO_AXIS",50014:"IDS_ERROR_FEED_NOT_ACCEPT_DATA",50015:"IDS_ERROR_NOT_FIND_MEASURE_GROUP",50016:"IDS_ERROR_NOT_ACCEPT",50017:"IDS_ERROR_INVALID_BINDING",50018:"IDS_ERROR_NOT_FIND_FEED_DEFINITION",50019:"IDS_ERROR_WRONG_TYPE",50020:"IDS_ERROR_NOT_SUPPORTED",50021:"IDS_ERROR_NOT_DETERMINE_AXIS_INDEX",50022:"IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES",50023:"IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2",50024:"IDS_ERROR_NOT_DETERMINE_DEMENSION",50025:"IDS_ERROR_UNKNOWN_STATE",50026:"IDS_ERROR_INVALID_PATH_DEFINITION",50027:"IDS_ERROR_NODE_NOT_IN_SAME_ROOT",50028:"IDS_ERROR_NOT_ADD_SELF_AS_CHILD",50029:"IDS_ERROR_NOT_ADD_ANCESTOR_AS_CHILD",50030:"IDS_ERROR_NOT_CHILD_NODE_INSERT",50031:"IDS_ERROR_NODE_IS_NOT_CHILD_OF_THIS_NODE",50032:"IDS_ERROR_SELECTOR_NOT_NULL",50033:"IDS_ERROR_NOT_FIND_JQUERY",50034:"IDS_ERROR_NEED_SPECIFY_OPTIONS_TO_INITIALIZE",50035:"IDS_ERROR_NEED_SPECIFY_HOLDER_FOR_VISUALIZATION",50036:"IDS_ERROR_NOT_INITIALIZE_WITHOUT_UICONTROLLER",50037:"IDS_ERROR_NEED_PROVIDE_CONTAINER_FOR_FRAME",50038:"IDS_ERROR_CATEGORY_NAME_NOT_EMPTY",50039:"IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION",50040:"IDS_ERROR_EXIST_CATEGORY_NAME",50041:"IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT",50042:"IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID",50043:"IDS_ERROR_UNKNOWN_ERROR",50044:"IDS_ERROR_NOT_CREATE_CHAIN_FOR_NON_FUNCTION_OBJECT",50045:"IDS_ERROR_AXIS_ALREADY_EXIST",50046:"IDS_ERROR_CAN_NOT_FIND_CATEGORY",50047:"IDS_ERROR_ALREADY_EXIST_IN_CATEGORY",50048:"IDS_ERROR_LOADING_TEMPLATE_FAIL",50049:"IDS_ERROR_PARSE_ERROR_EXPECT_TO",50050:"IDS_ERROR_FLATTABLE_FEED_DEF_FIELD_INDEX_MISSING",50051:"IDS_ERROR_FLATTABLE_MANNUAL_FEED_WRONG_BINDING",50052:"IDS_ERROR_FLATTABLE_INVALID_DATA_PARAM",50053:"IDS_ERROR_DIMENSIONS_INCOMPLETE_BINDING",50054:"IDS_ERROR_DIMENSIONS_OR_MEASURES_DUPLICATED_BINDING",50055:"IDS_ERROR_CUSTOMIZATION_ID",50056:"IDS_ERROR_CHART_TYPE_FOR_CUSTOMIZATION",50057:"IDS_ERROR_DIMENSION_NOT_FOUND",50058:"IDS_ERROR_SDK_VERSION_DOES_NOT_MATCH",50059:"IDS_ERROR_BUNDLE_VERSION_DOES_NOT_MATCH",50060:"IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL",50061:"IDS_ERROR_DATE_HAVE_INVALID_FORMAT",4e4:"IDS_WARN_PARAMETER_NOT_CORRECT",40001:"IDS_WARN_LOCALE_NOT_CORRECT"};var i=null;function r(){if(i==null&&t){i={};for(var e in t){if(t.hasOwnProperty(e)){i[t[e]]=e}}}return i}var a={register:function(e,a){if(i===null){i=r()}if(t&&t.hasOwnProperty(e)===false&&i.hasOwnProperty(a)===false){t[e]=a;i[a]=e}else{}},getIDSByNumber:function(e){if(t&&t.hasOwnProperty(e)){return t[e]}else{return undefined}},getNumberByIDS:function(e){if(i===null){i=r()}if(i&&i.hasOwnProperty(e)){return i[e]}else{return undefined}}};return a});define("sap/viz/framework/common/util/DOM",[],function(){var e={remove:function(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}},empty:function(e){var t;while(t=e.firstChild){e.removeChild(t)}return e},matches:function(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector||e.mozMatchesSelector).call(e,t)},hasClass:function(e,t){if(!e||!e.getAttribute){return false}var i=e.getAttribute("class")||"";return(" "+i+" ").indexOf(" "+t+" ")>=0},getBrowserComputedStyle:function(e,t){var i=window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle;return t?i[t]:i},parent:function(t,i){if(i){var r=t.parentNode;while(r.parentNode){if(e.matches(r,i)){return r}r=r.parentNode}return null}else{return t.parentNode}}};return e});define("jquery",[],function(){return jQuery});define("sap/viz/framework/common/util/ResourceLoader",["sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/ObjectUtils","jquery"],function(e,t,i){var r=1,a=2;function n(t,i,n){var o=0;var s=document.getElementsByTagName("head")[0]||document.documentElement;var l;if(i==r){l=document.createElement("script");l.type="text/javascript";l.src=t}else if(i==a){n();return}function u(t){l.onload=l.onreadystatechange=null;e.remove(l);n(t)}l.onload=l.onreadystatechange=function(){if(!o&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){o=1;u()}};if(l.addEventListener){l.addEventListener("error",u,true)}if(s.firstChild){s.insertBefore(l,s.firstChild)}else{s.appendChild(l)}}var o={};var s={};function l(e,t,i,o){function l(t){var u=o.getUrl(e,t),c=typeof u==="object";var f=u,m=false,p=u;if(c){f=u.path;m=u.hasCssFile;p=u.originalPath}var h,d=false;if(o.getCssFile&&m){h=o.getCssFile(e,t).path;d=true}if(s[f]){i(p,t)}else{n(f,r,function(e){if(e){if(o.degrade){t=o.degrade(t);if(t){l(t);return}}if(d){n(h,a,function(e){i(p,t,e,true)})}else{i(p,t,e)}}else{s[f]=1;if(d){n(h,a,function(e){setTimeout(function(){i(p,t,e,true)},4)})}else{setTimeout(function(){i(p,t)},4)}}})}}l(t)}function u(e){var i=e.id;var r=e.paths||[];var a=[];var n=i+"_"+t.guid();o[n]=r.length;function s(t,r,s,l){if(s){a.push({path:t,id:r,err:s})}else if(l){a.push({path:t,id:r,cssFlag:l})}if(e.onPathComplete){e.onPathComplete(t,r,s)}if(--o[n]===0&&e.onComplete){e.onComplete(a,i)}}if(r.length){for(var u=0;u<r.length;++u){l(r[u],i,s,e)}}else if(e.onComplete){e.onComplete(a,i)}}return{loadScript:n,loadResource:u}});define("sap/viz/framework/common/lang/LangManager",["sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/lang/LangMessageUtil","sap/viz/framework/common/util/ResourceLoader"],function(e,t,i,r){var a=[];var n={};var o="language";n[o]={};var s;if(window.sap&&sap.viz&&sap.viz.extapi&&sap.viz.extapi.env&&sap.viz.extapi.env.language&&sap.viz.extapi.env.language._queue){s=sap.viz.extapi.env.language._queue;delete sap.viz.extapi.env.language}var l=function(e,t){if(e==null){return""}if(!t){t=[]}var i=t.length;for(var r=0;r<i;r++){e=e.replace(new RegExp("\\{"+r+"\\}","g"),t[r])}return e};var u={loadPath:["../../../resources/langs/charts/","../../../resources/langs/sdk/"],fileNameTemplate:"language_${lang}.js",alias:{ar_AE:"ar",ar_EG:"ar",ar_SA:"ar",bg_BG:"bg",ca_ES:"ca",cs_CZ:"cs",da_DK:"da",de_CH:"de",de_AT:"de",de_BE:"de",de_LU:"de",de_DE:"de",el_CY:"el",el_GR:"el",en_AU:"en",en_CA:"en",en_GB:"en",en_HK:"en",en_ID:"en",en_IE:"en",en_IN:"en",en_IS:"en",en_MY:"en",en_NZ:"en",en_PH:"en",en_SG:"en",en_US:"en",en_ZA:"en",es_AR:"es",es_BO:"es",es_CL:"es",es_CO:"es",es_ES:"es",es_MX:"es",es_PE:"es",es_UY:"es",es_VE:"es",et_EE:"et",fa_IR:"fa",fi_FI:"fi",fr_BE:"fr",fr_CA:"fr",fr_CH:"fr",fr_FR:"fr",fr_LU:"fr",he_IL:"iw",he:"iw",hi_IN:"hi",hr_HR:"hr",hu_HU:"hu",id_ID:"id",it_CH:"it",it_IT:"it",ja_JP:"ja",ko_KR:"ko",lt_LT:"lt",lv_LV:"lv",nb_NO:"nb",nl_BE:"nl",nl_NL:"nl",nn_NO:"nn",pl_PL:"pl",pt_BR:"pt",pt_PT:"pt",ro_RO:"ro",ru_KZ:"ru",ru_RU:"ru",ru_UA:"ru",sh_ME:"sr",sh_RS:"sr",sk_SK:"sk",sl_SL:"sl",sl_SI:"sl",sv_SE:"sv",th_TH:"th",tr_CY:"tk",tr_TR:"tk",uk_UA:"uk",vi_VI:"vi",vi_VN:"vi",zf_TW:"zh_TW",zh_HK:"zh_CN",zh:"zh_CN"},defaultLanguage:"en",currentLanguage:"en",current:function(){return u.currentLanguage},register:function(e){n[e.id]=t.extend(true,n[e.id],e.value);return u},apply:function(t,i,o,s){if(s&&s.isLoaded){u.currentLanguage=t;if(i){i()}return u}var l=f(t);var c=[];function d(i,r,a){var n;if(!r){n="Failed to load language "+t+" from path "+i+"."}else if(l!==r){n="Language "+t+" is degraded to "+r+" for path "+i+"."}if(n){c.push(n);try{e.error(n)}catch(e){}}}function g(){h();if(c.length&&o){o(t,c.join("\n"))}u.currentLanguage=t;t=l;var e=n[t];while(!e){t=m(t);e=t&&n[t]}for(var r=0;r<a.length;++r){var s=a[r];s.fn.apply(s.scope,[e])}if(i){i()}}if(l){r.loadResource({id:l,paths:u.loadPath,getUrl:p,degrade:m,onPathComplete:d,onComplete:g})}else{h()}return u},get:function(e,t){var i=f(t||u.currentLanguage);var r=n[i];var a=r&&r[e];while(i&&i!==o&&typeof a!=="string"){i=m(i);r=i&&n[i];a=r&&r[e]}return a||""},getLogMessage:function(e){var t=i.getNumberByIDS(e);var r=u.get(e);if(arguments.length>1){r=l(r,Array.prototype.slice.call(arguments,1))}return(t?"["+t+"] - ":"")+r},getLogMessageByID:function(t){var r=i.getIDSByNumber(t);if(!r){e.error("Not exist the log ID {0}.",t)}return u.get(r)},addLanguageFolder:function(e){u.loadPath.push(e);return u.loadPath},addListener:function(e){a.push(e);return u},removeListener:function(e){var t=a.indexOf(e);if(t>=0){a.splice(t,1)}return u}};function c(e){return String(e).replace(/-/g,"_")}function f(e){e=c(e);return u.alias&&u.alias[e]||e}function m(e){var t=u.degrade;if(t&&t[e]){return t[e]}var i=String(e).match(/^([a-zA-Z]+)([_-][a-zA-Z]+)?$/);if(i){var r=i[1].toLowerCase();if(i[2]){return r}else if(r!==o){return o}}return null}function p(e,t){e=/\/$/.test(e)?e:e+"/";var i=t===o?o+".js":u.fileNameTemplate.replace(/\$\{lang\}/gi,t);return e+i}function h(){if(s){for(var e=0;e<s.length;++e){u.register(s[e])}}}h();return u});define("sap/viz/framework/core/ChartPropertyRegistry",[],function(){var e={};var t={supportedValueType:false,supportedValues:false,defaultValue:true,readonly:true,serializable:true,description:false};function i(e){for(var i in e){if(e.hasOwnProperty(i)&&!(i in t)){return false}}return true}function r(e){var a,n;if(e instanceof Object){a={};if(i(e)){for(n in e){if(e.hasOwnProperty(n)&&t[n]){a[n]=e[n]}}}else{for(n in e){if(e.hasOwnProperty(n)){a[n]=r(e[n])}}}return a}else{return e}}function a(t,i,a){var n=e[t]||{};n.properties=r(i);n.metadata=a||{};e[t]=n}function n(t){return e[t]||{isEmpty:true,properties:{},metadata:{}}}function o(t){e[t]=undefined}return{register:a,unregister:o,get:n}});define("sap/viz/framework/common/util/oo",[],function(){var e={};e.extend=function(e,t){var i=e.prototype;e.superclass=t.prototype;var r=function(){};r.prototype=t.prototype;e.prototype=new r;for(var a in i){if(i.hasOwnProperty(a)){e.prototype[a]=i[a]}}e.prototype.constructor=e;if(t.prototype.constructor===Object.prototype.constructor){t.prototype.constructor=t}return e};return e});define("sap/viz/framework/property/PropertyManager",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils"],function(e,t){var i=e.isFunction;var r=e.isArray;var a={customizeValue:1,value:1,appValue:1,templateValue:1,defaultValue:1,set:1,get:1,readonly:1,serializable:1,serialize:1,compare:1,watchers:1,access:1};var n=["value","templateValue","defaultValue"];function o(){this._props={};this._cache={};this._watchers={};this._flag=0;this._flags={};this.origin=this;this._valueStack=n;this._defaultValueAttr=undefined}o.isValidValue=function(e){if(!b(e)){for(var t in a){if(a.hasOwnProperty(t)&&e.hasOwnProperty(t)){return false}}}return true};var s=o.prototype;s.separator=".";s.add=function(e,t,i,r){if(typeof e==="string"){if(e){if(this._prefix){e=this._prefix+this.separator+e}u(this,e,t,i,r)}}else{var a=e;r=i;i=t;if(this._prefix){var n=a;a={};a[this._prefix]=n}l(this,a,"",i,r)}};s.remove=function(e){e=p(this,e);if(this._allow(e,"remove")){delete this._props[e];delete this._watchers[e];delete this._flags[e];var t=t||e.split(this.separator);var i="";for(var r=0;r<t.length;++r){i=i?i+this.separator+t[r]:t[r];var a=this._cache[i];if(a&&a[e]){delete a[e]}if(i===e){delete this._cache[i]}}}};s.flag=function(e,t){if(typeof e==="number"){e=parseInt(e,10);this._flag=t?this._flag|e:e}return this._flag};s.names=function(e){e=m(this,e);var t=[];var i=g(this,e);for(var r in i){if(i.hasOwnProperty(r)&&this._allow(r,"names")){t.push(r)}}return t};s.has=function(e,t){e=p(this,e);if(this._allow(e,"has",t)){var i=this._props[e];if(i&&a[t]){return i.hasOwnProperty(t)}return!!i}return false};s.valueStack=function(e){if(r(e)){this._valueStack=e}return this._valueStack.slice()};s.defaultValueAttr=function(e){if(arguments.length===0){return this._valueStack.indexOf(this._defaultValueAttr)>-1?this._defaultValueAttr:this._valueStack[0]}else if(e===undefined||this._valueStack.indexOf(e)>-1){this._defaultValueAttr=e}};s.get=function(e,t,i){e=p(this,e);return(this._props[e]?c:h)(this,e,t,i)};s.set=function(e,t,i,r){if(typeof e!=="string"){r=i;i=t;t=e;e=""}e=p(this,e);(this._props[e]?f:d)(this,e,t,i,r)};s.reset=function(e,t,i){if(a[e]){i=t;t=e;e=""}e=m(this,e);var r=g(this,e);var n=this._valueStack;t=t||this.defaultValueAttr();var o=n.indexOf(t);for(var s in r){if(r.hasOwnProperty(s)){var l=r[s];delete l[t];if(i){for(var u=o-1;u>=0;--u){delete l[n[u]]}}}}};s.watch=function(e,t){if(typeof e!=="string"){t=e;e=""}e=p(this,e);var i=this._watchers[e]=this._watchers[e]||[];if(i.indexOf(t)<0){i.push(t)}return{remove:function(){var e=i.indexOf(t);if(e>=0){i.splice(e,1)}}}};s.load=function(e,t){if(e){t=m(this,t);var i=this._props;var r=v(this,t,e,this.separator);for(var a in e){if(e.hasOwnProperty(a)&&this._allow(a,"load")){i[a]=i[a]||{};i[a].value=e[a]}}}};s.serialize=function(e){e=e||{};var r=this._props;var a={};var n=i(e.filter);var o=e.attr||this.defaultValueAttr();for(var s in r){if(r.hasOwnProperty(s)&&this._allow(s,"serialize")){var l=r[s];if(l&&(l.serializable||l.serializable===undefined)){var u=c(this,s);if(n&&e.filter(s,u,l)||!n&&(e.all||l.hasOwnProperty(o))){u=i(l.serialize)?l.serialize(u):u;t.setObject(s,u,a,this.separator)}}}}return a};s.getDefault=function(e){return this.get(e,"templateValue")};s.setDefault=function(e,t){if(typeof e!=="string"){t=e;e=""}this.set(e,t,1,"defaultValue")};s.proxy=function(e){var t=new o;t._prefix=m(this,e);t._props=this._props;t._cache=this._cache;t._watchers=this._watchers;t._allow=this._allow;t._valueStack=this._valueStack;t._flags=this._flags;t._flag=this._flag;t.parentLevel=this;t.origin=this.origin;t._defaultValueAttr=this._defaultValueAttr;return t};s.prefix=function(){return this._prefix||""};s.destroy=function(){this._props=null;this._cache=null;this._watchers=null;this.origin=null};s._allow=function(e,t,i){return this._matchFlag(e)};s._matchFlag=function(e){return!this._flag||+(this._flag&this._flags[e])===+this._flags[e]};function l(e,t,i,r,n){var o=i?i+e.separator:"";for(var s in t){if(s&&!a[s]){u(e,o+s,t[s],r,n)}}}function u(e,t,i,r,n){var o=e._props;var s=o[t]||{};var u,c;var f=1;var m,p,h,d;if(r){m=t.split(e.separator);p=m.length;if(e._cache[t]||e._props[t]){f=0}else{for(d=0;d<p;++d){h=h?h+e.separator+m[d]:m[d];if(o[h]){f=0;break}}}}if(b(i)){if(r){i={value:i}}else{i={defaultValue:i}}}else{i=i||{}}for(var g in i){if(a[g]){u=1;if(f){s[g]=i[g]}}else if(g){c=1}}if(u){c=0}if(f&&t!==e._prefix&&(u||!c)){if(typeof s.defaultValue==="boolean"&&!s.type){s.type="boolean"}if(!o[t]){m=m||t.split(e.separator);p=(p||m.length)-1;h="";for(d=0;d<p;++d){h=h?h+e.separator+m[d]:m[d];var v=e._cache[h]=e._cache[h]||{};v[t]=s}e._flags[t]=n||e._flag||0;o[t]=s}}if(c){l(e,i,t,r,n)}}function c(e,t,i,r){var a=e._props[t];if(a&&e._allow(t,"get",i)){var n=e._valueStack;i=i||n[0];if(!r){var o=n.indexOf(i);if(o>=0){return _(e,a,o)}}return a[i]}return undefined}function f(e,t,r,a,n){var o=e._props[t];if(o&&e._allow(t,"set",n)&&(!o.readonly||a)){var s=e.defaultValueAttr();n=n||s;if(e._valueStack.indexOf(n)>-1){if(n===s){var l=_(e,o);var u=i(o.set)?o.set(r,o):r;u=o[n]=S(u,o);if(A(o,u,l)){y(e,t,u,l)}}else{o[n]=S(r,o)}}else{o[n]=r}}}function m(e,t){return e._prefix&&t?e._prefix+e.separator+t:t||e._prefix||""}function p(e,t,i){i=m(e,i);return t?(i?i+e.separator:"")+t:i}function h(e,i,r,a){r=r||e._valueStack[0];var n=g(e,i,true);if(n){var o=i?i.length+e.separator.length:0;var s={};var l;for(var u in n){if(!a||n[u].hasOwnProperty(r)){var f=u.substring(o);if(f){l=true;t.setObject(f,c(e,u,r,a),s,e.separator)}}}return l?s:undefined}return undefined}function d(e,t,i,r,a){i=v(e,t,i,e.separator);for(var n in i){if(i.hasOwnProperty(n)){f(e,n,i[n],r,a)}}}function g(e,t,i){if(t){var r=e._cache[t];if(!i){if(!r){r={}}if(e._props[t]){r[t]=r[t]||e._props[t]}}return r}return e._props}function v(e,t,i,r,a){a=a||{};if(!b(i)){t=t?t+r:"";for(var n in i){if(i.hasOwnProperty(n)){var o=i[n];if(e._props[t+n]){a[t+n]=o}else{v(e,t+n,o,r,a)}}}}return a}function y(e,t,i,r){function a(e){if(e){for(var a=0;a<e.length;++a){e[a](i,r,t)}}}var n=e.separator;for(var o=t.split(n);o.length;o.pop()){a(e._watchers[o.join(n)])}a(e._watchers[""])}function _(e,t,r){r=r>=0?r:0;var a=e._valueStack;var n=a.length;var o;for(;r<n;++r){var s=a[r];if(t.hasOwnProperty(s)){o=t[s];break}}return i(t.get)?t.get(o,t):o}function A(e,t,r){return i(e.compare)?e.compare(t,r):t!==r}function b(e){return e===null||Object.prototype.toString.call(e)!=="[object Object]"}function S(e,t){if(/^boolean$/i.test(t.type)){if(/^true$/i.test(e)){e=true}else if(/^false$/i.test(e)){e=false}}return e}return o});define("sap/viz/framework/extension/BaseChart",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/property/PropertyManager"],function(e,t){var i=function(){this._builtInComponents={};this._data=null;this._bindings=null;this._scales=null};i.metadata={id:"",dataType:"raw",bindingDefinition:[],scales:[],css:null,properties:{},events:[],builtInComponents:[]};i.prototype.init=function(){};i.prototype.render=function(e){};i.prototype.destroy=function(){};i.prototype.getSelection=function(){return[]};i.prototype.setSelection=function(e,t){};i.prototype.propertyZone=function(e){return[]};i.prototype.updateBuiltInComponents=function(e){};i.prototype.feedingZone=function(){return[]};i.prototype.container=function(){return this._container};i.prototype.size=function(){return this._size};i.prototype.bindings=function(e){if(e){this._bindings=e}else{return this._bindings}};i.prototype.data=function(e){if(e){this._data=e}else{return this._data}};i.prototype.scales=function(e){if(e){this._scales=e}else{return this._scales}};i.prototype.showTooltip=function(e,t){};i.prototype.hideTooltip=function(){};i.prototype.properties=function(e){};i.prototype.dispatchEvent=function(e,t){};return i});define("sap/viz/framework/extension/ChartFactory",["sap/viz/framework/common/util/oo","sap/viz/framework/extension/BaseChart","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils","require"],function(e,t,i,r,a){var n={};var o;function s(){o=requirejs.s.contexts._.nextTick;requirejs.s.contexts._.nextTick=function(e){e()}}function l(){if(o){requirejs.s.contexts._.nextTick=o}}function u(t){s();var i;try{i=(a||require)("sap/viz/chart/views/ExtensionChartView")}catch(e){i=(a||require)("sap/viz/chart/views/ExtensionChartView/v3")}var r=function(){r.superclass.constructor.apply(this,arguments)};r.prototype.getDefintion=function(){return t};e.extend(r,i);l();return r}n.createChart=function(e){var t=null;try{if(e){t=u(e)}}catch(e){r.error(i.getLogMessage("IDS_WRONG_EXTENSIONVERSION"));t=null}return t};return n});define("sap/viz/framework/extension/Constants",[],function(){var e={ModuleName:{legend:"sap.viz.component.ColorLegend",title:"sap.viz.component.Title",legendGroup:"sap.viz.component.ColorLegend"}};e.ModuleMapping={"sap.viz.component.ColorLegend":{id:"legendGroup",extendId:"extendLegend"},"sap.viz.component.Title":{id:"title",extendId:"extendTitle"}};e.SDK_NAME="sap.viz.common.core";e.BUNDLEID="*sap.viz.impls.ext";e.MINVERSION=5;e.CSVDATAMODEL="csv";e.RAWDATAMODEL="raw";return e});define("sap/viz/framework/common/util/VersionComparator",["sap/viz/framework/common/util/TypeUtils"],function e(t){var i=".";var r=3;var a={compare:function(e,a){var n=!e?[]:e.split(i).slice(0,r);var o=!a?[]:a.split(i).slice(0,r);var s;for(s=n.length;s<r;s++){n.push(0)}for(s=o.length;s<r;s++){o.push(0)}for(s=0;s<r;s++){if(n[s]===o[s]){continue}if(t.isNaN(n[s])){return 1}if(t.isNaN(o[s])){return-1}var l=parseInt(n[s])-parseInt(o[s]);if(l!==0){return l}}return 0}};return a});define("sap/viz/framework/extension/ExtensionUtils",["sap/viz/framework/core/ChartPropertyRegistry","sap/viz/framework/extension/ChartFactory","sap/viz/framework/extension/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/VersionComparator","sap/viz/framework/common/log/Logger"],function(e,t,i,r,a,n,o,s,l,u){var c={};function f(e){var t=e.properties;var a={};var n=e.id;if(e.builtInComponents&&r.isArray(e.builtInComponents)){for(var o=0,s=e.builtInComponents.length;o<s;o++){var l=e.builtInComponents[o].name;a[i.ModuleMapping[l].extendId]=true;if(i.ModuleName["legend"]===l){a["extendInteraction"]=true}}}a["extendTooltip"]=true;a["extendInteraction"]=true;return[e.id,e.properties,a]}function m(e){var t=sap.bi.framework.getServiceMetadata(i.BUNDLEID);return t.filter(function(t){return t.id===e})}function p(e){if(e.customProperties&&e.customProperties.requires){var t=e.customProperties.requires;for(var i=0,r=t.length;i<r;i++){if(t[i].id==="sap.viz.common.core"){return t[i].version}}}return undefined}c.checkVersion=function(e){var t=c.checkVersionTo(e,sap.viz.api.VERSION);if(!t){u.warn(a.getLogMessage("IDS_ERROR_SDK_VERSION_DOES_NOT_MATCH",e.id,p(e),sap.viz.api.VERSION))}return t};c.checkVersionTo=function(e,t){var i=p(e);if(i&&l.compare(i,t)>0){return false}return true};c.parseSDKVersion=function(e){var t=m(e);if(t.length>0){var r=t[0].customProperties;if(r&&r.requires&&r.requires.length){var a=r.requires;var n=a.filter(function(e){return e.id===i.SDK_NAME});return n[0]&&n[0].version}}return null};c.isExtension=function(e){var t=m(e);return t.length>0};c.create=function(i,r){if(!(i&&i.metadata)){n.error(a.getLogMessage("IDS_WRONG_MISSINGEXTENSIONMETADATA"))}i.metadata.bindingDefinition=i.metadata.bindingDefinition||[];if(c.checkVersion(r)){var o=t.createChart(i);if(i.metadata){var s=i.metadata.properties||{};e.register.apply(this,f(i.metadata))}else{}return o}else{n.error(a.getLogMessage("IDS_WRONG_EXTENSIONVERSION"))}};c.extend=function(e){var t=function(){t.superclass.constructor.apply(this,arguments)};o.extend(t,e);t.metadata=s.extend(true,{},e.metadata);return t};c.getBundleVersion=function(e){function t(e,t){var i=sap.bi.framework.getServiceMetadata(e).filter(function(e){return e.id===t});if(i.length>0){if(i[0].framework&&i[0].framework.bundleVersion){return i[0].framework.bundleVersion}}return null}var i=t("*sap.viz.impls",e);if(!i){i=t("*sap.viz.impls.ext",e)}return i};return c});define("sap/viz/framework/common/util/Constants",[],function e(){var t={CSS:{CLASS:{ZERO_LINE_GROUP:"v-zeroline-group",AXIS:{CONTAINER:"v-axis",TITLE:"v-title",SCROLLBAR:"v-scrollbar",TITLE_BACKWORD:"viz-axis-title",TITLE_HIDDEN:"v-hidden-title",LINE_GROUP:"v-line-group",TICK_GROUP:"v-tick-group",LABEL_GROUP:"v-label-group",LINE:"v-line",TICK:"v-tick",LONGTICK:"v-longtick",VBCLINE:"v-vbcline",LABEL:"v-label",LABEL_SELECTION:"v-axis-item",LABEL_SELECTION_TIMEAXIS:"v-timeaxis-item",LABEL_SELECTION_TIMEAXIS_UPPERLEVEL:"v-timeaxis-item-upperLevel",LABEL_BACKWORD:"viz-axis-label",MORPHABLE_LABEL:"v-morphable-label",PERIMETER:"v-valueaxisline",FIXED_PERIMETER:"v-fixed-valueaxisline",BACKGROUND_RECT:"viz-axis-label-rect",LABEL_PERCENTAGE:" (%)"},MODULEPREFIX:"v-m-",DATAPOINTS_MODULE:"v-m-datapoints",DATAPOINTS_PLOT:"v-plot-datapoints",DATAPOINT_GROUP:"v-datapoint-group",DATAPOINT:"v-datapoint",DATAPOINT_MARKER:"v-datapoint-marker",DATAPOINTDEFAULT:"v-datapoint-default",DATAPOINTHOVER:"v-datapoint-hover",ZEROVALUEHOVER:"v-datapoint-zero-hover",DATAPOINTSELECTED:"v-datapoint-selected",NONINTERACTIVEARIA:"v-m-non-interactive-aria",STACK:"v-stack",LINES_GROUP:"v-lines-group",LINES:"v-lines",LIGHT_LINE:"v-lightLine",AREA:"v-area",AREA_GROUP:"v-area-group",AREA_POINT_GROUP:"v-area-point-group",AREA_POINT:"v-area-point",AREA_SELECTED:"v-selected-area",AREA_GROUP_SELECTED:"v-selected-area-group",AREADEFAULT:"v-area-default",AREAHOVER:"v-area-hover",AREASELECTED:"v-area-selected",AREA_PATH:"v-area-path",AREA_LINE_PATH:"v-area-line-path",AREA_DETECTION_PATH:"v-area-detection-path",AREA_REF_LINE_GROUP:"v-area-ref-line-group",AREA_REF_LINE:"v-area-ref-line",AREA_REF_LINE_SELECTED:"v-area-ref-line-selected",MORPHABLEDATAPOINT:"v-morphable-datapoint",MORPHABLELABEL:"v-morphable-label",MORPHABLEBACKGROUND:"v-morphable-background",MORPHABLELINE:"v-morphable-line",MORPHABLEAREABG:"v-morphable-areabg",DATALABEL_GROUP:"v-datalabel-group",DATALABEL_GROUP_TOTAL:"v-datalabel-group-total",DATALABEL_GROUP_RECAP:"v-datalabel-group-recap",DATALABEL:"v-datalabel",GRIDLINE_GROUP:"v-gridline-group",GRIDLINE:"v-gridline",GRIDLINE_INCISED:"v-incised-gridline",HOVER_SHADOW:"v-hovershadow",FOCUS_SHADOW:"v-hovershadow-mousedown",CLIPPATH:"v-clippath",LEGENDITEM:"v-legend-item",SELECTED:"-selected",MBCLEGENDITEM:"v-mbc-legend-item",BULLETLEGENDITEM:"v-legend-bullet",RADAR_NET:"v-radar-net",RADAR_BRANCH_AXIS:"v-radar-branch-axis",RADAR_BRANCH_AXIS_GROUP:"v-radar-branch-axis-group",RADAR_BRANCH_LABEL:"v-radar-branch-label",RADAR_BRANCH_LABEL_GROUP:"v-radar-branch-label-group",RADAR_BRANCH_GROUP:"v-radar-branch-group",WATERFALL_LINKLINE:"v-wtf-linkline",WATERFALL_RECAP:"v-wtf-recap",BAR_SERIES_PATH:"v-bar-series-path",CATEGORY_BOUND_SELECTION:".v-m-categoryAxis .v-bound",CATEGORY2_BOUND_SELECTION:".v-m-categoryAxis2 .v-bound",TIME_BOUND_SELECTION:".v-m-timeAxis .v-bound:first-child",LEGEND_BOUND_SELECTION:".v-m-legend .v-bound",LEGEND_ITEM_BOUND_SELECTION:".v-legend-item rect:first-child",AXIS_ITEM_BOUND_SELECTION:"rect.viz-axis-label-rect",PLOT_BOUND_SELECTION:".v-plot-bound",PIE_HOVER_STROKE:"v-pie-hover-stroke"}},LAYOUT_ADJUST_POLICY:{APPROXIMATE:"APPROXIMATE",RELAYOUT:"RELAYOUT"},Event:{SelectData:{name:"selectData",desc:"Event fires when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format."+'<code>{name: "selectData",'+"data:[{\n//selected element's detail\n"+'target:"Dom Element",//an object pointed to corresponding dom element\n'+"data:{Dimension1: value\n"+"Dimension2: value\n"+"...\n"+"DimensionN: value\n"+"Measure1: value\n"+"Measure2: value\n"+"...\n"+"MeasureN: value\n"+"}}\n"+"\\if under multi selection, there will be more than one selected elements"+'...\n]\n"type: dataPoint"}\n'},DeSelectData:{name:"deselectData",desc:"Event fires when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format."+'<code>{name: "deselectData",'+'data:["---the same as selectedData---"]}'},TooltipShow:{name:"showTooltip",desc:"This event is deprecated, please use showDetail decoration (refer to properties: interaction.decorations) instead. Event fires when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format."+'<code>{name:"showTooltip",data:{body:[{\n//All measures\n'+'name:"...",val:[{//measure value is an array containing only one item\n'+'value:"..."}]},"..."],footer:[{label:"...",value:"..."},"..."],'+"plotArea:{\n//this object specifies the plot area of the chart\n"+'height:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\n'+'x:"...",y:"..."},selectedValues:...//this number specify how many values are selected}}'},TooltipHide:{name:"hideTooltip",desc:"This event is deprecated, please use hideDetail decoration (refer to properties: interaction.decorations) instead. Event fires when the mouse hover out of the specific part of chart, no data is passed."},Initialized:{name:"initialized",desc:'Event fires when the loading ends. To use the event listener when creating charts, you must use an event that is passed by the events option. For more information on events options, see the usrOptions section of the <a href="sap.viz.core.html#createViz" target="_blank">createViz</a> function in the API document.'},highlightedByLegend:{desc:"Event fires when legend item is clicked, which contains its data context."},ContextualData:{name:"contextualData",desc:'Event fires when mouse right click, the event format is: <code>{name: "contextualData",\n'+'type: "target type" //event target type,\n'+"data:[{\n//selected element's detail\n"+'target:"Dom Element",//an object pointed to corresponding dom element\n'+'data:{key: "value",//key is usually a category name, value is the data\'s value in this category\n'+"...\n}]}"}},COLOR:{SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"],SAPColorBulletReference:["#CCCCCC","#ACA8A8","#838282"],BULLET:{ActualColor:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E"],AdditionalColor:["#A7BFE5","#CFF9AA","#FFFF91","#FFE0AC","#FF9DAF","#BBA6D5","#6DC8E6","#E9FF7C","#FFFF9F","#FFAC8B","#D983B7","#3396E4","#40DB74","#FFEA50","#FF8953","#E560A1","#6F69C1"],ForecastColor:["#D5DADC"]}},SHAPE:["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],LINE_MARKER_SHAPE:["circle","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection","square","rectangle"],LEGEND_MARKER_SHAPE:["squareWithRadius","square","rectangle"],DocExample:{SnippetUrl:"/vizdocs_snippet/#",TryThisValue:"Try this."},STYLE:{SEMICOLON:";",COLON:":"},FISCAL:{PERIOD:"fiscal_period",YEAR:"fiscal_year",ONE_FISCAL_PERIOD:1,ONE_FISCAL_YEAR:12,UNIT:1,UNITTYPE_PREFIX:"fiscal",UNITTYPE_YEAR:"fiscalyear",UNITTYPE_PERIOD:"fiscalperiod",UNITTYPE_YEARPERIOD:"fiscalyearperiod"},MBCLEGEND:{VISIBLE_STROKE_WIDTH:3,HOVER_SHADOW_COLOR:"#cccccc",HOVER_SHADOW_MOUSE_DOWN_COLOR:"#808080"},DIRECTION:{VERTICAL:"vertical",HORIZONTAL:"horizontal",RTL:"rtl",LTR:"ltr",LANG_DIR:"languageDirection"},RTL_LANG:["ar","he","iw"],POSITION:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},SPACING_TYPE:{STEP:"step",RANGE:"range"},GRIDLINE_TYPE:{SOLID:"solid",DASHED:"dash",DOTTED:"dotted",INCISED:"incised"},LINE_TYPE:{SOLID:"solid",LINE:"line",DASHED:"dash",DOTTED:"dotted",DOT:"dot"},DASH_TYPE_ARRAY:"3, 2",LINE_DASH_TYPE_ARRAY:"5, 3",REF_LINE_DASH_TYPE_ARRAY:"2, 3",UNITFORMATTYPE:{METRICUNITS:"MetricUnits",FINANCIALUNITS:"FinancialUnits"},PADDING:{DEFAULT:24},PLOTAREA:{FIRST_DATAPOINT:"firstDataPoint",LAST_DATAPOINT:"lastDataPoint"},BUBBLE:{DEFAULT_WIDTH_RATIO:1/8},AXIS:{VERTICAL_ANGLE:90,SCROLLBAR_NAME:"axisScrollbar",HIDDEN_TITLE:{COLOR:"#a6a6a6"},SPACING_TO_ROUGH:.05,SPACING_TO_ROOT:.02,SPACING_MAX_IN_PX:16,FIX_SPACING_MAX_IN_PX:8,FIX_TITLE_OFFSET:8,FIX_LAYOUT_TYPE:"FIX",FIRST_LETTER:"M",ELLIPSIS:"..."},REFERENCE_LINE:{LABEL_PADDING:2},TITLE:{KEY:"title",SPACING_WITH_MAIN_TO_ROUGH:.08,SPACING_MAX_IN_PX:40,FIX_SPACING_MAX_IN_PX:16},SCROLLBAR:{ALIAS:"scrollbar"},LEGEND_GROUP:{KEY:"legendGroup",SPACING_WITH_MAIN_TO_ROUGH:.04,SPACING_MAX_IN_PX:40,FIX_SPACING_MAX_IN_PX:16,AUTO_THRESHOLD:415},DATALABEL:{HORIZONTAL_OVERLAPPING_PADDING:.14,HORIZONTAL_TOTAL_LABEL_PADDING:6,VERTICAL_TOTAL_LABEL_PADDING:3,LOCATIONMODE_INSIDE:"LOCATIONMODE_INSIDE",LOCATIONMODE_OUTSIDE:"LOCATIONMODE_OUTSIDE",LOCATIONMODE_LINE:"LOCATIONMODE_LINE",PIE_LINE_OFFSET:7,PIE_LINE_LABEL_OFFSET:.05,PIE_OUTSIDE_THRESHOLD:1,PIE_LINE_THRESHOLD:1.1,HORIZONTAL_LABEL_OFFSET:6,VERTICAL_LABEL_OFFSET:-3,BOUND_OFFSET:1},LEGEND:{HORIZONTAL_OFFSET:5,SEMANTIC_ITEMS_INTERVAL:.7},FLEXIBLE_STACK:{ID_SEPARATOR:"-"},TREE_MAP:{NON_LEAF_DIMENSION_LABEL:"v-nonLeafDimensionLabel",DEFAULT_TICKS:5,NULL_COLOR:"#e0e0e0",START_COLOR:"#C2E3A9",END_COLOR:"#73C03C",PALETTE:[],LEGEND_VALUES:[],LEFT_PADDING:7,TOP_PADDING:6},NULL_VALUE:"Null_Value",MEKKO_CHART:{MEKKO_VALUE_AXIS2_CLASS:"v-value-axis2-mekko-body"},LABEL_POSITION:{LEFT:"left",RIGHT:"right",MIDDLE:"middle"},DATAPOINT_INVALIDITY:{IGNORE:"ignore",CONNECT:"connect",BREAK:"break"},DATAPOINT_INVALIDITY_SUPPORTED:["break","ignore","connect"],EXTENSION:{FAMILYNAME:"extensionChart"},DATA_TYPE:{DATE:"date"},PROPERTY_FLAGS:{CORE:1,CUSTOM:1<<1},PAGINATION_MODE:{RESET:"reset",UPDATE:"update"},PROPERTY:{USER_LEVEL:"user"},BINDING:{MEASURE_NAMES:"measureNames",CONTEXT_ID_NAME:"_context_row_number"},FIELD:{INRESULT:"inResult",UNIT:"unit"},RECAP:{WIDTH:6,PADDING:2,RECAP_KEY:"recap_name_key"},ZOOM:{DEFAULT_ZOOM_LEVEL_STEPS:14,DEFAULT_ZOOM_LEVEL_STEPS_MOSUSEWHEEL:28,DEFAULT_ZOOM_LEVEL_MINOFFSET:.1},MIN_FILL_SIZE:3};return t});define("sap/viz/framework/core/ChartViewRegistry",["sap/viz/framework/common/util/FunctionUtils","require","sap/viz/framework/common/lang/LangManager","sap/viz/framework/extension/ExtensionUtils","sap/viz/framework/extension/Constants","sap/viz/framework/common/util/Constants","exports"],function(e,t,i,r,a,n){"use strict";var o={};var s={};var l={};var u={};var c={};var f=false;var m=false;function p(e,t){if(!e){return e}var i=e.slice();if(/trellis/i.test(t)){i=i.filter(function(e){return e.id!=="dataFrame"})}else{i=i.filter(function(e){return!/trellis/.test(e.id)})}if(/scatter/i.test(t)){i=i.filter(function(e){return!/bubble/.test(e.id)})}return i}function h(e,t,i,a){var n=false;if(r.checkVersionTo(t,"5.14.*")&&window.__sap_v2){n=true}if(n){sap.viz.extapi.Flow=window.__sap_v2.extapi.Flow;if(i){window.__sap_v2.api.manifest.Viz.get()}}try{e.viz.forEach(function(e){if(e&&typeof e.init==="function"){e=e.init()}if(e&&e.metadata&&a){var t=r.create(e,a);if(t){d.registerWithChartView(e.metadata,t)}}})}catch(e){throw e}finally{if(n){sap.viz.extapi.Flow=window.__sap_v3.extapi.Flow}}}var d={unregister:function(e){delete o[e];delete s[e];delete c[e]},unregisterAll:function(){o={};s={};l={};c={}},registerAll:function(e){if(!(sap&&sap.bi&&sap.bi.framework&&sap.bi.framework.getService)){return null}var i=sap.bi.framework.getService("*","*sap.viz.impls");var a=sap.bi.framework.getServiceMetadata("*sap.viz.impls");var n=0;var u=[];var d=[];var g=[];for(var v=0;v<i.length;v++){var y=i[v];if(y.viz){h(y,a[v],true);continue}if(r.checkVersion(a[v])){u[v]=y.view;if(y.plot){g.push(y.plot)}d[v]=y.bindings;c[a[v].id]=y.renderType}}var _=d.length+i.length+g.length;if(_>0){f=true}g.forEach(function(e,t){A(e,t,l)});u.forEach(function(e,t){A(e,t,o)});d.forEach(function(e,t){A(e,t,s,true)});function A(r,o,s,l){if(!r){return}if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){var u=requirejs.s.contexts._.nextTick;requirejs.s.contexts._.nextTick=function(e){e()};if(m){r=r+"/v3"}t([r],function(t){n++;if(l){t=p(t,i[o].name)}s[a[o].id]={family:i[o].family,constructor:t,name:i[o].name,vender:i[o].vender};if(n===_){if(e){e()}}});requirejs.s.contexts._.nextTick=u}}},usingV3Registry:function(e){m=e},registerAllWithV3:function(e){this.registerAll(e)},registerWithChartView:function(e,t){var i=e.id;d.registerViewer(i,t);if(e.css){d.registerExternalCSS(i,e.css)}d.registerRenderType(i,"DIV");d.registerBind(i,e.bindingDefinition,n.EXTENSION.FAMILYNAME,e.name||i,e.vender,e.dataType)},registerByType:function(e){if(!f){this.loadAll()}if(!(sap&&sap.bi&&sap.bi.framework&&sap.bi.framework.getService)){return null}var t=sap.bi.framework.getService("*","*sap.viz.impls");var i=sap.bi.framework.getServiceMetadata("*sap.viz.impls");var n=sap.bi.framework.getServiceMetadata(a.BUNDLEID);for(var o=i.length,s=o-1;s>-1;s--){if(i[s].id===e&&r.checkVersion(i[s])){break}}if(s<0){t=sap.bi.framework.getService("*",a.BUNDLEID);for(o=n.length,s=o-1;s>-1;s--){if(n[s].id===e&&r.checkVersion(n[s])){break}}}if(s>-1){var l=t[s];if(l.viz){h(l,i[s],false,n[s])}else{if(typeof l==="function"&&!l.metadata){l=l.apply()}if(l&&l.metadata){var u=r.create(l,n[s]);if(u){d.registerWithChartView(l.metadata,u)}}}return true}return false},getBindingDefinition:function(t){var i=s[t];if(i==null&&!d.registerByType(t)){e.error("can't find binding definition according to type["+t+"]")}return s[t]},getExternalCSS:function(e){return u[e]},registerBind:function(e,t,i,r,n,o){s[e]={constructor:t,family:i,name:r,vender:n,dataModel:o===a.CSVDATAMODEL?undefined:o}},registerViewer:function(e,t){o[e]={constructor:t}},registerExternalCSS:function(e,t){u[e]=t},registerRenderType:function(e,t){c[e]=t},loadAll:function(){var e,t;if(requirejs&&requirejs.s&&requirejs.s.contexts){var i=false;for(e in requirejs.s.contexts){if(e.indexOf("sap.viz.aio")>-1){i=true;break}}if(!i){e="_"}t=requirejs.s.contexts[e].nextTick;requirejs.s.contexts[e].nextTick=function(e){e()}}if(m){this.registerAllWithV3()}else{this.registerAll()}if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts[e]&&t){requirejs.s.contexts[e].nextTick=t}},getMetadata:function(e,t){if(!f){this.loadAll()}if(!s[e]){if(!this.registerByType(e)){return null}}if(s[e]){var i={type:e,name:s[e].name,vender:s[e].vender,bindings:p(s[e].constructor,e),dataType:s[e].dataModel,isBuiltIn:s[e].family.indexOf("extension")<0?true:false};if(t){i.family=s[e].family}if(i.family==="extension"){if(sap.bi.framework&&sap.bi.framework.getServiceMetadata){var r=sap.bi.framework.getServiceMetadata("*sap.viz.impls"),a;for(a=0;a<r.length;a++){if(r[a].id===e){if(!/^localize\!/.test(r[a].customProperties.name)){i.name=r[a].customProperties.name}break}}}}return i}else{return null}},getMetadataWithFamily:function(e){return this.getMetadata(e,true)},getAllMetadata:function(){if(!f){this.loadAll()}var e=[];for(var t in c){if(c.hasOwnProperty(t)){var i=this.getMetadata(t);if(i){e.push(this.getMetadata(t))}}}return e},getViewInstance:function(t,i,r){var a=c[t];var n=o[t];if(n==null||a==null){e.error("can't find ChartView according to type["+t+"]")}var s=n.constructor;return new s(i,{chartType:t,renderType:a,bindings:r})},getRenderType:function(e){return c[e]}};return d});define("sap/viz/framework/common/log/Analyzer",["sap/viz/framework/common/log/Logger"],function e(t){function i(){this.stac=[];this.pop=function(){return this.stac.pop()};this.push=function(e){this.stac.push(e)};this.peek=function(){return this.stac[this.stac.length-1]}}function r(e){var t={};var i=/\[\d+\]/g;var r=/\d+/;var a=/[^\d\[\]]+/;var n=e.match(i);if(n){t.usedJSHeapSize=n[0].match(r)[0];t.totalJSHeapSize=n[1].match(r)[0]}t.flag=e.match(a)[0];return t}function a(e){var t={};var i=/\[.+\]/;var r=/\]:.+$/;t.client=e.match(i)[0];var a=e.match(r);if(a){var n=a[0].split(":");t.name=n[1];n.shift();n.shift();t.info=n}return t}var n=t.LEVEL.DEBUG;var o=[];var s=null;var l={threshold:n,doAppend:function(e,t,i,r){o.push([e,t,i,r])},setLayout:function(e){return e.format&&(this.layout=e)},getLevel:function(){return n},setLevel:function(e){n=e},reset:function(){o=[]},pnrProfiling:function(e){if(window&&window.performance&&window.performance.memory){var i=window.performance.memory;e="["+i.usedJSHeapSize+"]["+i.totalJSHeapSize+"]["+i.jsHeapSizeLimit+"]"+e}t.debug(e,"PROFILING")},pnrContext:function(e){if(window&&window.navigator){e="["+window.navigator.userAgent+"]"+e}t.debug(e,"CONTEXT")},profiling:function(){t.disable();var e=[];var i;var n;var s;var l;var u="pnr.calculate.done";for(var c=0,f=o.length;c<f;c++){s=o[c];if(s[2]==="CONTEXT"){i=a(s[3]);n={ctx:{name:i.name,client:i.client,info:i.info},data:[]};e.push(n)}else if(s[2]==="PROFILING"){if(e.length<1){n={data:[]};e.push(n)}var m=r(s[3]);for(var p=c+1;p<f;p++){l=o[p];var h=r(l[3]);if(m.flag&&h.flag===m.flag&&(s.length>0&&s[s.length-1]!==u)){if(l[l.length-1]!=u){o[p].push(u)}n.data.push([m.flag,l[0]-s[0],s[0],l[0],h.usedJSHeapSize-m.usedJSHeapSize,h.totalJSHeapSize-m.totalJSHeapSize,h.usedJSHeapSize,h.totalJSHeapSize]);break}}}}t.enable();return e}};return l});define("sap/viz/framework/common/format/XCFormat",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t="en";var i=false;var r=e.getObject("sap.common.globalization.NumericFormatManager");var a="use_default_formatter";function n(e){var t=(e.getTime()+22091616e5)/864e5;if(t<61){t--}return t}var o=r?{format:function(e,t,o,s){if(i===true&&(t===null||t===undefined)){var l;if(s&&s.decimalFormatString){l=";"+s.decimalFormatString}else{l=""}var u=this.DEFAULT_FORMAT_NUMBER+l;return r.formatToText(e,u,true,undefined,typeof e==="string")}if(["Week","Quarter","YearMonth","YearQuarter","YearMonthDay"].indexOf(t)>-1){return a}if(o&&e instanceof Date){e=n(e)}return r.formatToText(e,t,true,undefined,typeof e==="string")},locale:function(e){if(!arguments.length){return t}t=e;r.setPVL(t);o.DEFAULT_FORMAT_DATE_TIME=r.DEFAULT_FORMAT_DATE_TIME;o.DEFAULT_FORMAT_TIME=r.DEFAULT_FORMAT_TIME;o.DEFAULT_FORMAT_SHORT_DATE=r.DEFAULT_FORMAT_SHORT_DATE;o.DEFAULT_FORMAT_LONG_DATE=r.DEFAULT_FORMAT_LONG_DATE;o.DEFAULT_FORMAT_NUMBER=r.DEFAULT_FORMAT_NUMBER;o.DEFAULT_FORMAT_BOOLEAN=r.DEFAULT_FORMAT_BOOLEAN},useDefaultFormatter:function(e){if(!arguments.length){return i}i=e},getDecimalSeparator:function(){return r.getDecimalSeparator()},DEFAULT_FORMAT_DATE_TIME:r.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:r.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:r.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:r.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:r.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:r.DEFAULT_FORMAT_BOOLEAN}:{format:function(e){return e},locale:function(){},getDecimalSeparator:function(){return"."},DEFAULT_FORMAT_DATE_TIME:"",DEFAULT_FORMAT_TIME:"",DEFAULT_FORMAT_SHORT_DATE:"",DEFAULT_FORMAT_LONG_DATE:"",DEFAULT_FORMAT_NUMBER:"",DEFAULT_FORMAT_BOOLEAN:""};return o});define("sap/viz/framework/common/format/FormatManager",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/XCFormat"],function e(t,i){var r="en",a=i,n=null,o="use_default_formatter";var s=[];var l=null;var u=null;var c={constructor:function(){return},apply:function(e){r=e.split("-").join("_");i.locale(r);if(t.isFunction(a.locale)){a.locale(r)}},format:function(e,t,r,n){var s=a.format(e,t,r,n);if(s===o){return i.format(e,t,r,n)}return s},formatFunc:function(e){if(e!==undefined&&e!==null&&t.isFunction(e.format)){a=e}return a},onFormatChanged:function(){s.forEach(function(e){e.fn.apply(e.scope)})},addListener:function(e){s.push(e)},removeListener:function(e){var t=s.indexOf(e);if(t!==-1){s.splice(t,1)}},useDefaultFormatter:function(e){if(!arguments.length){return i.useDefaultFormatter()}if(l!==e){i.useDefaultFormatter(e);this.onFormatChanged();l=e}},customDefaultFormatter:function(e){if(!arguments.length){return u}if(l){u=e}},getDecimalFormatString:function(e){if(u){var t=u[e];if(t&&t.decimalFormatString){return t.decimalFormatString}else{return null}}},getPercentagePattern:function(e){var t="0";if(e>0){t+=i.getDecimalSeparator()}for(var r=0;r<e;++r){t+="0"}t+="%";return t},DEFAULT_FORMAT_DATE_TIME:a.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:a.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:a.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:a.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:a.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:a.DEFAULT_FORMAT_BOOLEAN,DEFAULT_FORMATTED_VALUE:o,SUPPORT_CUSTOM_COMPONENTS:{DATALABEL:"dataLabel",TOOLTIP:"tooltip",VALUEAXIS:"valueAxis",MBCLegend:"MBCLegend",SIZELEGEND:"sizeLegend"}};return c});define("sap/viz/framework/common/locale/Locale",["sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TypeUtils"],function e(t,i,r){var a="en",n=[];function o(e){n.forEach(function(t){t.fn.apply(t.scope,[e])})}var s={constructor:function(){return},locale:function(e,n,l){if(!arguments.length){return a}a=e;i.apply(a);t.apply(a,function(){o(e);if(r.isFunction(n)){n.apply()}},null,l);return s},addListener:function(e){n.push(e);return s},removeListener:function(e){var t=n.indexOf(e);if(t!==-1){n.splice(t,1)}return s}};return s});define("sap/viz/framework/core/env",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/log/Analyzer","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/locale/Locale"],function e(t,i,r,a,n){var o=function(e){if(!e){return}if(e.enable){i.enable()}if(!e.appenders){if(e.level){i.setAppenders([{appenderKey:"sap.viz.util.analyzer",appender:r}])}return}i.setAppenders([]);for(var t=0,a=e.appenders.length;t<a;t++){var n=e.appenders[t];if(n.appenderKey){i.addAppender(n.appenderKey,n.appender)}else{i.addAppender(n.appender)}}};var s=function(e,t){n.locale(e.locale,t)};var l={};var u={constructor:function(){},initialize:function(e,t){if(!e){return}o(e.log);if(e.locale){s(e,t)}else{if(t){t.call()}}l=a.extend(true,{},l,e)},getEnvSetting:function(){return l},setLoggerEnable:function(e){if(e===true){i.enable()}else if(e===false){i.disable()}},addLogAppender:function(){if(arguments.length===1){return i.addAppender(arguments[0])}else if(arguments.length===2){return i.addAppender(arguments[0],arguments[1])}},removeLogAppender:function(e){return i.removeAppender(e)}};return u});define("sap/viz/framework/core/config",["sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/core/env"],function e(t,i){var r={treatAsMobile:"auto"};var a={};var n=false;var o={constructor:function(){return},enableCanvg:function(e){if(!arguments.length){return i.getEnvSetting().enableCanvg!==undefined?i.getEnvSetting().enableCanvg:n}n=e;return o},register:function(e){if(a.hasOwnProperty(e.id)){return}a[e.id]=e.value;return o},get:function(e){if(a.hasOwnProperty(e)){return a[e]}},getConfigs:function(){return a},globalSetting:function(e,t){if(t!==undefined&&t!==null){r[e]=t}else{return r[e]}}};return o});define("sap/viz/framework/common/util/UADetector",["sap/viz/framework/core/config"],function e(t){var i=window.devicePixelRatio||1;var r;var a=function(e){for(var t=0;t<e.length;t++){var i=e[t].string;var a=e[t].prop;r=e[t].versionSearch||e[t].identity;if(i){if(i.indexOf(e[t].subString)!=-1){return e[t].identity}}else if(a){return e[t].identity}}};var n=[";"," "];var o=function(e){var t=e.indexOf(r);if(t==-1){return}var i=e.substring(t+r.length+1);var a=0,o=n.length,s=-1;while(s===-1&&a<o){s=i.indexOf(n[a++])}if(s!==-1){i=i.slice(0,s)}return i};var s=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:".NET",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var l=[{string:navigator.userAgent,subString:"Windows Phone",identity:"WindowsPhone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var u=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"}];var c=[{string:navigator.userAgent,subString:"Touch",identity:"Touch"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"}];var f=a(s),m=f||"An unknown browser",p=o(navigator.userAgent)||o(navigator.appVersion)||"an unknown version",h=f==="Explorer",d=f==="Firefox",g=f==="Chrome",v=f==="Safari",y=f==="UIWebView",_=a(l)||"an unknown OS",A=a(u)||"An unknown RenderEngine",b=navigator.pointerEnabled===true||"onpointertouch"in document.documentElement,S=navigator.userAgent.indexOf("Tablet")>-1,M=a(c),D=M==="Touch",E=navigator.userAgent.indexOf("Edge")>-1;var T={userAgent:function(){return m},version:function(){return p},isEdge:function(){return E},isIE:function(){return h},isIE11:function(){return h&&!!window.MSInputMethodContext&&!!document.documentMode},isFirefox:function(){return d},isChrome:function(){return g},isSafari:function(){return v},isUIWebView:function(){return y},os:function(){return _},devicePixelRatio:function(){return i},renderEngine:function(){return A},isMobile:function(){var e=t&&t.globalSetting("treatAsMobile");var i=e&&/on|off/.test(e);if(i&&(h&&D&&_!=="WindowsPhone"||E)){return e==="on"}else{return!!M}},isIOS:function(){return M==="iPhone"||M==="iPad"},isWindowsSurface:function(){var e=(_==="Windows"||_==="WindowsPhone")&&D;var t=E&&b;return e||t},isWindowsPhone:function(){return _==="WindowsPhone"&&D},isAndroid:function(){return M==="Android"},isPointerEnabled:function(){return h&&b}};return T});define("sap/viz/framework/common/util/UrlUtils",["sap/viz/framework/common/util/UADetector"],function e(t){var i="_viz_template_with_css";var r={parseUrl:function(e){var t=document.createElement("a");t.href=e;return{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){var e={},i=t.search.replace(/^\?/,"").split("&"),r=i.length,a=0,n;for(;a<r;a++){if(!i[a]){continue}n=i[a].split("=");e[n[0]]=n[1]}return e}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[undefined,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[undefined,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}},buildUrlInfo:function(e,r,a){var n=this.parseUrl(e);var o=n.params[i];var s=n.query&&n.query!==""?e.split(n.query)[0]:e;if(t.isIE()&&!/(^\/)/.test(e)&&/(^\/\.{0,2})/.test(s)){s=s.replace(/(^\/)/,"")}s=/\/$/.test(s)?s:s+"/";return{path:s+r+"/"+a,originalPath:s,hasCssFile:o}}};return r});define("sap/viz/framework/common/template/TemplateManager",["jquery","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/UrlUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ResourceLoader","sap/viz/framework/common/log/Logger"],function(e,t,i,r,a,n,o,s){var l=[];var u;var c="default";var f={id:c,name:"Default"};var m="_cvom_template_with_css";var p="_viz_tpl_css_file";var h="_viz_tpl_css_string";var d;if(window.sap&&sap.viz&&sap.viz.extapi&&sap.viz.extapi.env&&sap.viz.extapi.env.template&&sap.viz.extapi.env.template._queue){d=sap.viz.extapi.env.template._queue;delete sap.viz.extapi.env.template}var g={};g.registerCategory=function(e,a,o){if(!i.isNonEmptyString(e)){t.error(n.getLogMessage("IDS_ERROR_CATEGORY_NAME_NOT_EMPTY"))}if(a&&!i.isFunction(a)){t.error(n.getLogMessage("IDS_ERROR_CATEGORY_FACTORY_MUST_BE_FUNCTION"))}if(g.hasOwnProperty(e)){t.error(n.getLogMessage("IDS_ERROR_EXIST_CATEGORY_NAME",e))}var s=d3.map();var l={get:function(i,u){var c=this;var f=s.get(i);if(f===undefined&&u){t.error(n.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"),i,e)}if(f&&f["__needParsed__"]===true){var m=f["abstract"]===true;f=r.extend(true,null,f.base!==undefined?l.get(f.base,true):null,f);Object.defineProperty(f,"abstract",{value:m,enumerable:false});if(a&&!m){a.call(o,f,c)}delete f["__needParsed__"];s.set(i,f)}return f},unregister:function(e){var t;if(i.isExist(e)){t=s.get(e);s.remove(e);delete d[e];if(e===u.id){u={}}}return t},register:function(){[].forEach.call(arguments,function(r){if(i.isUndefined(r)){t.error(n.getLogMessage("IDS_ERROR_NOT_REGISTER_UNDEFINED_OBJECT"))}var a=r.id;if(!i.isNonEmptyString(a)){t.error(n.getLogMessage("IDS_ERROR_NOT_REGISTER_WITHOUT_VALID_ID"))}if(s.has(a)){t.error(n.getLogMessage("IDS_ERROR_ALREADY_EXIST_IN_CATEGORY",a,e))}r["__needParsed__"]=true;s.set(a,r)});return g}};g[e]=l;return l};var v=g.registerCategory("template",function(e){var t=e.css;if(!i.isString(t)){var r="";for(var a in t){if(t.hasOwnProperty(a)){r+=a+"{";var n=t[a];for(var o in n){if(n.hasOwnProperty(o)){r+=o+":"+n[o]+";"}}r+="}"}}e.css=r}Object.defineProperties(e,{props:{value:function(t){var i=e.properties;if(i){return i[t]}}},getScales:{value:function(t){var i=e.scales;if(i){return i[t]}}}});return e});function y(e,t){return a.buildUrlInfo(e,t,"template.js")}function _(e,t){return a.buildUrlInfo(e,t,"template.css")}function A(e){var t=[];var i=!!v.get(e);var r=d&&d[e];if(r){for(var a=0;a<r.length;++a){var n=r[a];if(i){b.extend(e,n)}else{b.register(n);i=true}}}return v.get(e)}var b={loadPath:["../../../resources/templates"],current:function(){var e=u&&u.id;if(e){A(e)}return u},retrieve:function(e){var t=v.get(e);if(!t){t=A(e)}return t&&!t._notLoaded?t:null},get:function(e){return b.retrieve(e)||u||{}},load:function(e,r,a){if(!i.isArray(e)){e=[e]}e=e.filter(i.isString);var s=e.length;var l=[];var u=[];var c=function(e,i){var o=A(i);var c;for(var f=0;f<e.length;++f){if(e[f]&&e[f].cssFlag){c=e[f]}}if((!o||!o.cssFlag)&&c){if(!o){v.register({id:i,_notLoaded:true});o=v.get(i)}o.cssFlag=c.cssFlag;o.path=c.path}if(o){l.push(i)}else{u.push(i)}if(--s===0){u.forEach(function(e){if(a){a(e,"Loading template "+e+" failed.")}try{t.error(n.getLogMessage("IDS_ERROR_LOADING_TEMPLATE_FAIL",e))}catch(e){}});if(r){r(l,u)}}};if(s){e.forEach(function(e){var t=A(e);if(t&&!t._notLoaded){c([],e)}else{o.loadResource({id:e,paths:b.loadPath,getUrl:y,getCssFile:_,onComplete:c})}})}else if(r){r(l,u)}return b},isLoaded:function(e){var t=v.get(e);return!!t&&!t._notLoaded},apply:function(t,i,r,a){return b.load(t,function(){var a=v.get(t);if(a&&!a._notLoaded){u=a}else{u={}}if(a&&a.cssFlag){if(e("#"+p).length){e("#"+p).attr("href",_(a.path,t).path)}else{e("head").append('<link type="text/css" rel="stylesheet" '+'id="'+p+'" href="'+_(a.path,t).path+'">')}}else if(e("#"+p).length){e("#"+p).attr("href","")}if(a&&a.css&&!a.isBuiltIn){if(e("#"+h).length){e("#"+h).text(a.css)}else{e("head").append("<style id='"+h+"'>"+a.css+"</style>")}}else if(e("#"+h).length){e("#"+h).text("")}if(a){for(var n=0;n<l.length;++n){var o=l[n];o.fn.apply(o.scope,[a,i])}if(i){i.call(r,a)}}},function(){u={};if(a){a.call(r)}})},register:function(){v.register.apply(v,arguments);return b},unregister:function(e){v.unregister(e);return b},extend:function(e,t){var i=v.get(e)||A(e);if(i){r.extend(true,i.properties,t.properties);i.isGhost=t.isGhost||i.isGhost;if(t.scales&&i.scales){r.extend(true,i.scales,t.scales)}else if(t.scales){i.scales=t.scales}}return b},addListener:function(e){l.push(e);return b},removeListener:function(e){var t=l.indexOf(e);if(t!==-1){l.splice(t,1)}return b}};var S={writable:false,configurable:false};Object.defineProperties(b,{current:S,apply:S,register:S,unregister:S});b.register(f);u=v.get(c);return b});define("sap/viz/framework/scale/ScaleRepository",[],function e(){var t={};return t});define("sap/viz/framework/scale/ScaleMapping",[],function(){return{TO_OLD_SCALETYPE:{"play.field":"playScale","frame.data":"frameScale","trellis.columnCategory":"categoryScale","trellis.rowCategory":"categoryScale","layout.category":"categoryScale","layout.secondCategory":"categoryScale","layout.value":"valueScale","layout.secondValue":"valueScale","layout.tree":undefined,"layout.time":"timeScale","layout.mekko":"mekkoScale","layout.mekkoCategory":"mekkoScale","mark.color":"colorScale","mark.shape":"shapeScale","mark.size":"valueScale","mark.target":"valueScale","mark.forecast":"valueScale","mark.quantizeColor":"quantizeScale","mark.pattern":"patternScale","mark.waterfallType":"waterfallScale"},TO_OLD_SCALEROLE:{"play.field":"play","frame.data":"frame","trellis.columnCategory":"trellisColumn","trellis.rowCategory":"trellisRow","layout.category":"layout","layout.secondCategory":"layout","layout.value":"layout","layout.secondValue":"layout","layout.time":"layout","layout.mekko":"layout","layout.mekkoCategory":"layout","mark.color":"mark","mark.shape":"mark","mark.size":"mark","mark.quantizeColor":"mark","mark.forecast":"layout","mark.target":"layout","mark.pattern":"mark","mark.waterfallType":"waterfallScale"}}});define("sap/viz/framework/binding/bindingValidationUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/Constants"],function e(t,i,r,a){var n={};var o=["valueAxis","valueAxis2"];var s=function(e,t){if(!e){return t.min===0}return e.length<=t.max&&e.length>=t.min};var l=function(e,t,i){var r=0;i.forEach(function(i){if(i.groupId===e&&t[i.id]&&t[i.id].length){r++}});if(r>1){return false}else{return true}};var u=function(e,t,i){var r=i[e];var a=t[r.id];var n=r.acceptMND;var o=r.MNDOnly;var s=true;var u=a.length;for(var c=0;c<u;c++){if(o&&!a[c].measureNames||a[c].measureNames&&!n||n==="exclusive"&&a[c].measureNames&&!l(r.MNDDependency,t,i)){return false}}return true};var c=function(e,t,i){var r=t.length;for(var n=0;n<r;n++){if(!t[n].measureNames){var o=e.metadata(t[n])[0];if(!o||o.semanticType!=i.type){return false}if(i.id=="timeAxis"&&(!o.dataType||o.dataType.toLowerCase()!==a.DATA_TYPE.DATE)){return false}}}return true};var f=function(e,t){var i=e.dimensions();for(var r=0,a=i.length;r<a;r++){if(!t[i[r]]){return false}}return true};var m=function(e,t,i){var r=t.filter(function(t){return t.groupId===e.id}).map(function(e){return e.id});var a=[];Object.keys(i).forEach(function(e){if(r.indexOf(e)>-1){a=a.concat(i[e])}});var n=a.length>=e.min&&a.length<=e.max;return n};n.acceptable=function(e,a,n,o,l){p(e,a,n,o);if(!n){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING"))}var h,d,g,v;var y=[];var _={};var A={};var b=[],S;var M=false;var D=-1;var E=e.getContext();var T={};for(d=0,h=a.length;d<h;d++){S=a[d];if(S.type==="Measure"&&S.role.indexOf("layout")>-1){var x=n.filter(function(e){return e.feed===S.id});if(x[0]&&x[0].source&&x[0].source.length){b.push(S.id)}}if(!T.hasOwnProperty(S.id)){T[S.id]=true}}for(d=n.length-1;d>=0;--d){if(!T.hasOwnProperty(n[d].feed)&&n[d].feed!=="bubbleHeight"){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING"))}if(n[d].source===undefined||n[d].source.length===0){n.splice(d,1)}else if(n[d].feed.indexOf("trellisRow")!=-1||n[d].feed.indexOf("trellisColumn")!=-1){if(D!=-1){D=d}M=true}}if(o.indexOf("trellis")!=-1&&!M||o.indexOf("trellis")==-1&&M){if(D!=-1){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING",a[D].id))}else{r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING"))}}for(d=0;d<n.length;d++){_[n[d].feed]=n[d].source;h=n[d].source.length;var I={};for(g=0;g<h;g++){var z=n[d].source[g];if(!(l&&l.allowDuplicatedBindings&&l.allowDuplicatedBindings(n[d].feed))){if(I.hasOwnProperty(z)){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING"))}else{I[z]=1}}if(z.measureNames){if(A["MND"]){r.error(i.getLogMessage("IDS_ERROR_DIMENSIONS_OR_MEASURES_DUPLICATED_BINDING"))}A["MND"]=true;if(b.length!==z.measureNames.length){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING",n[d].source[g]))}for(v=0;v<b.length;v++){if(z.measureNames.indexOf(b[v])<0){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING",n[d].source[g]))}}}else{A[z]=true}}}if(!t.isArray(E)){E=[E]}for(d=0;d<E.length;++d){var N=E[d];if(N.id){N=N.id}if(!e.metadata(N)[0]){r.error(i.getLogMessage("IDS_ERROR_INVALID_CONTEXT_NAME",N))}A[N]=true}if(!f(e,A)&&!/bubble|scatter/.test(o)){r.error(i.getLogMessage("IDS_ERROR_DIMENSIONS_INCOMPLETE_BINDING"))}for(d=0,h=a.length;d<h;d++){S=a[d];var w=S.id;var O=S.type;var F=[];var L=_[w];if(O==="group"){if(!m(S,a,_)){r.error(i.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",S.id))}}else{if(!S.groupId&&!s(L,S)){r.error(i.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",S.id))}if(L){if(!u(d,_,a)){r.error(i.getLogMessage("IDS_ERROR_INVALID_BINDING",S.id))}if(!c(e,L,S)){r.error(i.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",L))}}}}return true};function p(e,i,n,o){var s=e.dimensions().reduce(function(t,i){e.metadata(i).forEach(function(e){if(e[a.FIELD.INRESULT]){t[i]=e}});return t},{});if(t.isEmptyObject(s)){return}if(o.match(/time|trellis|radar|mekko|area|tagcloud|treemap/)){r.error("inResult fields is not supported for this chart.")}var l=i.some(function(e){return e.id==="categoryAxis"});var u=o.match(/scatter|bubble|pie|donut/);var c=u?"color":l?"categoryAxis":null;if(!c){r.error("inResult fields is not supported for this chart.")}var f=n.reduce(function(e,t){if(t.feed===c){e.can.push(t)}else{e.cannot.push(t)}return e},{can:[],cannot:[]});f.cannot.forEach(function(e){e.source.forEach(function(t){if(s[t]){r.error('"inResult" field cannot be bound to feeding "'+e.feed+'".')}})});f.can.forEach(function(e){e.source.reduce(function(e,t){if(e&&s[e]&&!s[t]){r.error("inResult fields must appear after all regular dimensions.")}return t},null)})}n.getValueAxisBindings=function(e){var t=[];if(e){for(var i=0;i<o.length;++i){for(var r=0;r<e.length;++r){if(e[r].feed===o[i]&&e[r].source&&e[r].source.length){t.push(o[i])}}}}return t};return n});define("sap/viz/framework/common/util/ArrayUtils",["sap/viz/framework/common/util/TypeUtils"],function e(t){var i={each:function(e,t){e=e||[];for(var i=0,r=e.length;i<r;i++){if(t.call(e,i,e[i])===false){break}}},stableSort:function(e,t){e=e||[];if(e.length<=1){return e}for(var i=0;i<e.length;i++){e[i]["_index_before_sort_"]=i}e.sort(function(e,i){var r=t(e,i);return r===0?e["_index_before_sort_"]-i["_index_before_sort_"]:r});for(i=0;i<e.length;i++){delete e[i]["_index_before_sort_"]}return e},unique:function(e,t){var i={},r=[],a=t||function(e){return e.toString()};for(var n=0,o,s=e.length;n<s;++n){if(!(o=a(e[n]))||Object.prototype.hasOwnProperty.call(i,o)){continue}r.push(e[n]);i[o]=true}return r},flat:function(e){return Array.prototype.concat.apply([],e)},deepFlat:function(e){var t=e.slice(),i;var r=0;while(r<t.length){i=t[r];if(i instanceof Array){t.splice(r,1);t=t.concat(i)}else{++r}}return t},max:function(e,t){var i=-1,r=e.length,a,n;if(arguments.length===1){while(++i<r&&(a=e[i])==undefined){}while(++i<r){if((n=e[i])>a){a=n}}}else if(arguments.length>1){while(++i<r&&(a=t.call(e,e[i],i))==undefined){}while(++i<r){if((n=t.call(e,e[i],i))>a){a=n}}}return a},min:function(e,t){var i=-1,r=e.length,a,n;if(arguments.length===1){while(++i<r&&(a=e[i])==undefined){}while(++i<r){if((n=e[i])<a){a=n}}}else if(arguments.length>1){while(++i<r&&(a=t.call(e,e[i],i))==undefined){}while(++i<r){if((n=t.call(e,e[i],i))<a){a=n}}}return a},sum:function(e,t){var i=0,r=e.length,a,n=-1;if(arguments.length===1){while(++n<r){if(!isNaN(a=+e[n])){i+=a}}}else{while(++n<r){if(!isNaN(a=+t.call(e,e[n],n))){i+=a}}}return i},extent:function(e,t){var i=-1,r=e.length,a,n,o;if(arguments.length===1){while(++i<r&&(a=n=e[i])==undefined){}while(++i<r){if((o=e[i])<a){a=o}if((o=e[i])>n){n=o}}}else if(arguments.length>1){while(++i<r&&(a=n=t.call(e,e[i],i))==undefined){}while(++i<r){if((o=t.call(e,e[i],i))<a){a=o}if((o=t.call(e,e[i],i))>n){n=o}}}return[a,n]},bisearch:function(e,t,i){var r=0,a=e.length,n,o;i=i||function(e){return e};while(r<a){n=r+a>>1;if((o=i(e[n]))===t){return n}if(t>o){r=n+1}else{a=n}}return r},transpose:function(e){if(!t.isArray(e)||!t.isArray(e[0])||!e.length||!e[0].length){return[]}var i,r,a=e.length,n=e[0].length,o=Array(n),s,l,u;for(r=0;r<n;r++){o[r]=Array(a)}for(i=a-1;i>=1;i-=2){l=e[i];s=e[i-1];for(r=n-1;r>=1;--r){u=o[r];u[i]=l[r];u[i-1]=s[r];--r;u=o[r];u[i]=l[r];u[i-1]=s[r]}if(r===0){u=o[0];u[i]=l[0];u[i-1]=s[0]}}if(i===0){s=e[0];for(r=n-1;r>=1;--r){o[r][0]=s[r];--r;o[r][0]=s[r]}if(r===0){o[0][0]=s[0]}}return o},permute:function(e,t){var i=[],r=-1,a=t.length;while(++r<a){i[r]=e[t[r]]}return i},sequence:function(e,t,i){if(arguments.length<3){i=1}if(arguments.length<2){t=e;e=0}e=+e;t=+t;i=e<t?Math.abs(+i):-Math.abs(+i);var r=[],a=-1,n;if((t-e)/i===Infinity){throw new Error("Infinite Sequence")}if(e<t){while((n=e+ ++a*i)<t){r.push(n)}}else{while((n=e+ ++a*i)>t){r.push(n)}}return r},stepSum:function(e,t){var i=[],r=0,a=-1,n=e.length;t=t||Number;i.length=n;while(++a<n){r+=t(e[a]);i[a]=r}return i},zip:function(){var e=[],t=Math.min.apply(null,Array.prototype.map.call(arguments,function(e){return e.length})),i=-1,r,a=arguments.length,n;while(++i<t){r=[];n=-1;while(++n<a){r.push(arguments[n][i])}e.push(r)}return e},groupBy:function(e,t){t=t||String;var i=[],r=[],a=-1,n=e.length,o,s;while(++a<n){o=t(e[a]);if((s=r.indexOf(o))===-1){r.push(o);i.push([e[a]])}else{i[s].push(e[a])}}return i},equal:function(e,i){if(!e||!i){return false}if(e.length!==i.length){return false}for(var r=0;r<e.length;r++){if(t.isArray(e[r])&&t.isArray(i[r])){if(!this.equal(e[r],i[r])){return false}}else if(e[r]!==i[r]){return false}}return true},map:function(e,t){var i=e.length;var r=new Array(i);for(;i--;){r[i]=t(e[i],i,e)}return r},union:function(e,t,r){var a=t.concat(e);return i.unique(a,r)},exclude:function(e,i){if(!t.isArray(e)||!t.isArray(i)){return[]}var r=e.slice();i.forEach(function(e){var t=r.indexOf(e);if(t>=0){r.splice(t,1)}});return r},interaction:function(e,i){if(!t.isArray(e)||!t.isArray(i)){return[]}var r=[];for(var a=0;a<e.length;++a){if(i.indexOf(e[a])>-1){r.push(e[a])}}return r}};return i});define("sap/viz/framework/scale/ScaleOptionFactory",["sap/viz/framework/common/util/TypeUtils"],function(e){var t=[];var i={};i.addExtraOption=function(e,i,r,a,n,o,s){for(var l=t.length-1;l>=0;--l){var u=t[l];if(!u.chart||new RegExp(u.chart).test(e)){if(!u.type||u.type===i){u.func(r,a,n,o,s,e)}}}};i.register=function(e,i,r){t.push({chart:e,type:i,func:r})};return i});define("sap/viz/framework/scale/ScaleDataParseFactory",[],function(){var e={};var t=[];e.register=function(e,i,r){t.push({chartType:e,valueType:i,func:r})};e.getParseFunc=function(e,i){var r=null;for(var a=t.length-1;a>=0;--a){var n=t[a];if(!r&&!n.chartType&&n.valueType===i){r=n.func}if(n.chartType&&new RegExp(n.chartType).test(e)&&n.valueType===i){r=n.func;break}}return r};return e});define("sap/viz/framework/scale/ScaleRoleTypeMapFactory",["sap/viz/framework/common/util/TypeUtils"],function(e){var t=[];var i={};i.register=function(e,i,r){t.push({chart:e,scaleType:i,func:r})};i.get=function(e,i){var r=null;for(var a=0;a<t.length;++a){var n=t[a];if(!r&&!n.chart&&!n.scaleType){r=n.func}else if(!n.chart&&n.scaleType===i){r=n.func}else if(n.chart===e&&n.scaleType===i){r=n.func;break}}return r};return i});define("sap/viz/framework/scale/ScalePostFactory",[],function(){var e={};var t=[];e.register=function(e,i){t.push({chartType:e,func:i})};e.getPostFunc=function(e){var i=null;for(var r=t.length-1;!i&&r>=0;--r){var a=t[r];if(a.chartType&&new RegExp(a.chartType).test(e)){i=a.func}}return i};return e});define("sap/viz/framework/scale/ScaleManager",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleRepository","sap/viz/framework/scale/ScaleMapping","sap/viz/framework/binding/bindingValidationUtil","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/scale/ScaleOptionFactory","sap/viz/framework/scale/ScaleDataParseFactory","sap/viz/framework/scale/ScaleRoleTypeMapFactory","sap/viz/framework/scale/ScalePostFactory"],function e(t,i,r,a,n,o,s,l,u){var c={};function f(e,t,i,r,n,l,u,c){var f=a.getValueAxisBindings(c);o.addExtraOption(t,r,l,e,n,u,f);var m=s.getParseFunc(t,r);if(m){e=m.call(null,e,t,n)}}c.create=function(e,a,n,o,s,c,m,p){var h={},d,g,v,y,_=s.scaleManager(),A=s.propertyManager();var b,S;if(!n){return{}}var M=null;for(g in e){if(e.hasOwnProperty(g)&&t.isFunction(e[g])&&e[g]()){if(t.isExist(a[g])&&t.isExist(a[g].role)||g==="color2"){var D={};var E=l.get(n,g);D=E.call(null,r,a,e,g);S=D.type;if(S&&S.indexOf("color")>-1&&c){D.customerColorPalette=c}f(e,o,n,g,s,D,A,p);d=i[S];D.isPaging=e.getPaginationOptions&&!!e.getPaginationOptions();D.seriesType=e.seriesType();D.series=e._series;D.isGhost=m;D.chartFamily=n;D.isTime=/timeseries/.test(o);if(d){h[g]=d.call(d,e[g](),D.name,_,A,D,e,s)}}}}var T=u.getPostFunc(o);if(T){T(h,A)}return h};return c});define("sap/viz/framework/binding/crosstableChains/BaseChains",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils"],function e(t,i){var r={};var a=function(e,t){var i=e;var r=[];t.map(function(e){for(var t=0;t<i;t++){r.push(e)}});return r};var n=function(e,i,r){if(!t.isArray(e.data)){return}e.data.map(function(e){var t=[];for(var a=0;a<e.values.length;a++){if(e.values[a]===undefined){t[a]=null}else{t[a]=e.values[a]}}if(e.values.length===0){t=[null]}i.push(t);r.push({id:e.id?e.id:e.name,name:e.name,type:e.type})})};var o=function(e){if(!t.isArray(e.data)){return[]}var i=[];var r=[];e.data.map(function(e){if(r.length===0){r=e.values}else{e.values.map(function(e){r.push(e)})}i.push({id:e.name,name:e.name,type:e.type})});return{data:r,meta:i}};var s=function(e,t){var i=[];e.map(function(e,r){var a=[];for(var n=0;n<t;n++){a=a.concat(e)}i[r]=a});return i};var l=function(e,t,i){var r=t.length;var o=[];var l=[];var u=false;var f=i;var m=0;for(var p=0;p<r;p++){var h=t[p];if(h.type==="measureNamesDimension"){u=true;if(o.length>0){var d=a(o[0].length,f);o=s(o,f.length);o.push(d);l.push({id:"measureNamesDimension",values:d,type:"Dimension"})}else{m=p;o.push(f);l.push({id:"measureNamesDimension",values:f,type:"Dimension"})}}else{var g=[];var v=e.analysisAxis[h.index-1];n(v,o,l);if(u){o=s(o,f.length);o[m]=a(o[0].length,f);l[m].values=o[m]}u=false}}return{values:o,metaData:l,rowArray:c(o)}};var u=function(e,t){var i=t.length;var r=[];for(var a=0;a<i;a++){var n=t[a];if(Number(n.index)>0){r=o(e.measureValuesGroup[n.index-1])}}return r};var c=i.transpose;r.GetDimensionsFromCrosstable=function(e,t,i){var r=l(e._crosstableDataset._dataSet,t,i);return r};r.GetMeasuresFromCrosstable=function(e,t){var r=u(e._crosstableDataset.data(),t);var a=r.data.map(function(e){return i.extent(e)});var n=c(r.data);return{values:n,categorySum:f(n),range:a,metaData:r.meta}};var f=function(e){var i=[];var r=0;e.map(function(e,r){var a=0;if(t.isArray(e)){e.map(function(e){if(t.isArray(e)||!t.isNumber(e)){return}if(a===0){a=e}else if(a<0&&e>0){a=e}else if(a*e>0){a+=e}})}else{a=e}i[r]=a});return i};r.GetColorRangeFromCrosstable=function(e,t,i){var r=l(e._crosstableDataset._dataSet,t,i);return r};r.extend=function(e,t){var i={};t.map(function(t){i[e+t]=r[t]});return i};return r});define("sap/viz/framework/binding/crosstableChains/XYChains",["sap/viz/framework/binding/crosstableChains/BaseChains"],function e(t){var i={};var r=["GetDimensionsFromCrosstable","GetMeasuresFromCrosstable"];i=t.extend("xy",r);return i});define("sap/viz/framework/binding/crosstableChains/YYChains",["sap/viz/framework/binding/crosstableChains/BaseChains"],function e(t){var i={};var r=["GetDimensionsFromCrosstable","GetMeasuresFromCrosstable"];i=t.extend("yy",r);return i});define("sap/viz/framework/binding/crosstableChains/XYYChains",["sap/viz/framework/binding/crosstableChains/BaseChains"],function e(t){var i={};var r=["GetDimensionsFromCrosstable","GetMeasuresFromCrosstable"];i=t.extend("xyy",r);return i});define("sap/viz/framework/binding/crosstableChains/XXChains",["sap/viz/framework/binding/crosstableChains/BaseChains"],function e(t){var i={};var r=["GetDimensionsFromCrosstable","GetMeasuresFromCrosstable"];i=t.extend("xx",r);return i});define("sap/viz/framework/binding/crosstableChains/TreeChains",["sap/viz/framework/binding/crosstableChains/BaseChains"],function e(t){var i={};var r=["GetDimensionsFromCrosstable","GetMeasuresFromCrosstable"];i=t.extend("treemap",r);return i});define("sap/viz/framework/binding/crosstableChains/PieChains",["sap/viz/framework/binding/crosstableChains/BaseChains"],function e(t){var i={};var r=["GetDimensionsFromCrosstable","GetMeasuresFromCrosstable"];i=t.extend("pie",r);return i});define("sap/viz/framework/binding/CrosstableChains",["sap/viz/framework/binding/crosstableChains/XYChains","sap/viz/framework/binding/crosstableChains/YYChains","sap/viz/framework/binding/crosstableChains/XYYChains","sap/viz/framework/binding/crosstableChains/XXChains","sap/viz/framework/binding/crosstableChains/TreeChains","sap/viz/framework/binding/crosstableChains/PieChains"],function e(t,i,r,a,n,o){return[].concat(t,i,r,a,n,o)});define("sap/viz/framework/binding/defaultChains",["sap/viz/framework/binding/CrosstableChains"],function e(t){var i=[];var r=function(e,t){i.push({id:e,dataResolver:t})};t.map(function(e){for(var t in e){if(e.hasOwnProperty(t)){r(t,e[t])}}});return i});define("sap/viz/framework/common/util/IdProducer",[],function(){var e=1;return{get:function(){return e++}}});define("sap/viz/framework/common/util/DataUtils",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/lang/LangManager"],function(e,t,i){var r=["MeasureNamesDimension","measureNames"];var a={};a.stringify=function(e){if(e!=null){return"_"+e}else{return"null"}};a.getValueLength=function(e){if(!e){return 0}return e.values&&e.values[0]?e.values[0].length:0};a.getValues=function(e,t){if(!e||!e.values){return null}var i=[];for(var r=0;r<e.values.length;r++){var a=e.values[r];i[r]=a[t]}return i};a.iterateValues=function(t,i,r){if(!t||!t.values){return}t.values.forEach(function(t,a){if(t){t.forEach(function(t,n){if(e.isArray(t)){t.forEach(function(e,t){i.call(r,e,a,n,t)})}else{i.call(r,t,a,n)}})}})};a.getMetaDataIds=function(e){if(!e||!e.metaData){return null}var t=[];for(var i=0;i<e.metaData.length;i++){t[i]=e.metaData[i].id}return t};a.buildMetaDataInfo=function(e){if(!e||!e.metaData){return null}var t=[];for(var i=0;i<e.metaData.length;i++){var a=e.metaData[i];var n={name:a.name||a.id,id:a.id};if(r.indexOf(a.id)!==-1){n.data={};var o=a.values||e.values[i];for(var s=0;s<o.length;s++){var l=o[s];if(!n.data[l]){n.data[l]={id:l,name:e.values[i][s]}}}}t.push(n)}return t};a.parse=function(e){if(e.indexOf("_")===0){return e.substring(1)}else{return null}};a.valuesToString=function(e){var t="";for(var i=0;i<e.length;++i){if(i!==0){t+="/"}t+=a.stringify(a.getDimensionValue(e[i]))}return t};a.getMNDIndex=function(e){if(e){for(var t=0,i=e.length;t<i;t++){if(r.indexOf(e[t].id)!==-1){return t}}}return-1};a.checkMndStatus=function(e,t){var i={isOnlyOneMndValue:false,mndIndex:-1};if(t.length===0){return i}if(e==null||e.length===0||e.length===1){return i}var r=a.getMNDIndex(e);if(r===-1){return i}var n=true;var o;for(o=0;n&&o<e.length;++o){if(o!==r&&!e[o].hidden){n=false}}if(n){return i}var s=t[0][r];for(o=1;o<t.length;o++){if(s!==t[o][r]){return i}}return{isOnlyOneMndValue:true,mndIndex:r}};a.getDisplayTextsConverter=function(t,r){if(r==null){r=a.getMNDIndex(t)}return function(a,n){if(!e.isExist(a)){a=[]}return a.reduce(function(o,s,u){if(u===r){if(t[r].data&&t[r].data[a[r]]){s=t[r].data[a[r]].name}else if(t[r].values&&!e.isArray(t[r].values)){s=t[r].values[s]||s}}else if(s===null){s=i.get("IDS_ISNOVALUE")}else{s=l(s,n)}if(!(t&&t[u]&&t[u].hidden)){o.push(s)}return o},[])}};a.domainWithNegativeValue=function(t){if(t&&t.length){var i=t;var r=i.some(function(t){if(e.isArray(t)){return t.some(function(e){return e<0?true:false})}else{return t<0?true:false}});if(r===true){return true}}return false};a.hasNegativeValue=function(e){var t=["valueAxis","valueAxis2","actualValues"];var i=0;for(var r in e){if(e.hasOwnProperty(r)){if(t.indexOf(r)===-1){continue}var n=e[r];if(n==null){continue}var o=n.scale;if(a.domainWithNegativeValue(o.getDomain())===true){return true}}}return false};a.getDomainArray=function(t,i){function r(e){var t={};e.forEach(function(e,i){if(e.values){t[i]=e.values}});return t}if(t==null||t.length===0){return[]}if(i==null){return t}var a=r(i);if(Object.keys(a).length===0){return t}var n=[];for(var o=0;o<t.length;o++){var s=t[o];if(!e.isArray(s)){s=[s]}n.push(s.map(function(e,t){if(a[t]==null){return e}var i=a[t];for(var r=0;r<i.length;r++){if(i[r].id===e){return i[r].name||i[r].id}}return e}))}return n};a.getDomain=function(e){return a.getDomainArray(e.scale.getDomain(),e.metaData)};var n="d",o="v",s="parsedValue";function l(e,t){if(a.isPlainValue(e)){return e}if(t===true&&e[o]===undefined){return}if(e[n]===""||e[n]===0||e[n]){return e[n]}else if(e[o]===""||e[o]===0||e[o]){return e[o]}else{return i.get("IDS_ISNOVALUE")}}var u=a.isPlainValue=function(e){return!e||e.v===undefined&&e.d===undefined};a.getDimensionValue=function(e){return u(e)?e:e.v};a.isEmptyDataset=function(e){if(e&&e.type&&e.type.indexOf("CrosstableDataset")>-1){return e._crosstableDataset.isEmptyDataset()}else if(e&&e.type&&e.type.indexOf("FlatTableDataset")>-1){return e._FlatTableD.isEmptyDataset()}return true};a.getDimensionDisplayName=function(e){return u(e)?e:e.d===undefined?e.v:e.d};a.getDimensionParsedValue=function(e){return e&&e.parsedValue!==undefined?e.parsedValue:e};a.DIMENSION_DISPLAYNAME_SUFFIX="."+n;a.DIMENSION_PARSED_VALUE_SUFFIX="."+s;a.DIMENSION_PARSED_VALUE=s;a.setContextValue=function(e,t,i,r){if(!r&&!u(i)){e[t]=i.v;if(i.parsedValue===undefined){e[t+a.DIMENSION_DISPLAYNAME_SUFFIX]=i.d}else{if(i.d!==undefined){e[t+a.DIMENSION_DISPLAYNAME_SUFFIX]=i.d}e[t+a.DIMENSION_PARSED_VALUE_SUFFIX]=i.parsedValue}}else{e[t]=i}};a.getContextValue=function(e,t){var i=t+"."+s;if(e[i]!=null){return e[i]}return e[t]};a.getLabelText=function(e){return this.getDimensionDisplayName(e)||this.getDimensionValue(e)};a.DIMENSION_VALUE_SUFFIX="."+o;a.DIMENSION_DISPLAYNAME=n;a.DIMENSION_VALUE=o;return a});define("sap/viz/framework/chartmodel/DataPoint",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/IdProducer","sap/viz/framework/common/util/DataUtils"],function(e,t,i){function r(e,i,r,a,n,o,s){this.id=t.get();this.key=null;this._data=e;this._addr=i;this._model=r;this._mode=a;this._contextProps=n;this._builder=o;this.ignore=s;this._isSemantic=null}r.locate=function(e,t){var i=n(e,s(t,"series"));return i&&i.dp||null};var a=r.prototype;a.context=function(){if(!this._data){this._data={};var e=n(this._addr,this._model.series);this._builder(this._model,e,this._addr,this._contextProps,this._data)}return this._data};a.additionCtx=function(t){if(t){this._additionCtx=t;return this}var r=this.context();if(!this._additionCtx){this._additionCtx={};var a=n(this._addr,this._model.series);var o=a.addition;var s=this._model.additionInfo&&this._model.additionInfo.metaData;if(o&&s&&s.length>1){for(var l=0,u;l<s.length;++l){if(!r.hasOwnProperty(s[l].id)){u=e.isArray(o[l])?o[l][0]:o[l];i.setContextValue(this._additionCtx,s[l].id,u)}}}}return this._additionCtx};function n(t,i){var r=i,a=t.length;for(;a--&&e.isArray(r);){r=r[t[a]]}return r}a.address=function(t){if(e.isExist(t)){return this._addr[t]}return this._addr.slice()};a.setAddress=function(e){this._addr=e;return this};a.addressType={SERIES:1,CATEGORY:0};a.parentSeries=function(){var e=s(this._model,"series");for(var t=this._addr.length-1;t>0;--t){e=e[t];if(this._mode==="tree"){e=e.children}}return e};a.prev=function(){return o(this,0,-1)};a.next=function(){return o(this,0,1)};a.up=function(){return o(this,-1,0)};a.down=function(){return o(this,1,0)};a.selector=a.context;a.getDataPoints=function(){return[this]};a.match=function(e){for(var t in this._data){if(this._data[t]!==e[t]){return false}}return true};a.merge=function(e,t){return e.merge({_selector:this._data},t)};function o(e,t,i){var r=s(e._model,"series");var a=e._addr;var n=a[1];var o=a[0];for(var l=a.length-1;l>1;--l){r=r[l];if(e._mode==="tree"){r=r.children}}var u=r[n+t];if(e._mode==="tree"){u=u&&u.children}var c=u&&u[o+i];return c&&c.dp||null}function s(t,i){return e.isFunction(t[i])?t[i]():t[i]}return r});define("sap/viz/framework/common/util/NumberUtils",["sap/viz/framework/common/util/TypeUtils"],function e(t){function i(e,t,i){var r=i||parseFloat,a=r(e,10);return isNaN(a)||a<0?t:a}var r={getSizeValue:function(e,i,r){var a,n=false;if(!e||!t.isFunction(e.toString)){return 0}var o=String(e);if(o.indexOf("%")!=-1){a=parseFloat(e)/100;if(t.isNaN(a)){a=r||0}else if(a>1){a=1}}else{if((a=parseFloat(e))!=e){n=true}if(t.isNaN(a)){a=r||0;n=false}else if(a>i){a=i}}if(a<0){a=0}else if(a>0&&a<=1&&!n){a*=i}return this.preciseSimple(a)},isNoValue:function(e){return t.isNaN(e)},isFloat:function(e){return Math.floor(e)!==e},precise:function(e,t){var i,a,n=e.toString(),o=n.indexOf("e");if(o>=0){i=n.substring(o);a=parseFloat(n.substring(0,o)).toFixed(8);i=parseFloat(a+i);if(t){i=o>=8?0:i}}else{i=r.preciseSimple(e)}return i},preciseSimple:function(e){return+e.toFixed(8)},round:function(e){var t=1e8;return Math.round(e*t)/t},preciseObject:function(e){if(t.isArray(e)){for(var i=0,a=e.length;i<a;++i){e[i]=r.preciseObject(e[i])}}else if(t.isNumeric(e)){return r.preciseSimple(e)}else if(e instanceof Object){for(var n in e){if(e.hasOwnProperty(n)){e[n]=r.preciseObject(e[n])}}}return e},getPositiveInt:function(e,t){return i(e,t,parseInt)},getPositiveNumber:i,valueInRange:function(e,t){var i=Math.min.apply(null,t),r=Math.max.apply(null,t);return e<i?i:e>r?r:e},getNumberAfterDecimalPoint:function(e){var t=e.toString();var i=t.split(".");return i[1]||""}};return r});define("sap/viz/framework/chartmodel/ContextBuilder",["sap/viz/framework/chartmodel/DataPoint","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/NumberUtils"],function(e,t,i,r,a){var n="measureNames";var o="context";var s=function(e){var t=false;if(e&&e.length>0){t=e.every(function(e){return[0,null,undefined].indexOf(e)>-1})}return t};var l=function(e,i){var r=false;if(e&&e.search(/pie|donut/)!==-1){var a=i.size;if(a&&a.values&&t.isArray(a.values)){var n=a.values;if(n&&n[0]&&t.isArray(n[0])){r=n.every(function(e){if(t.isArray(e)){return e.every(function(e){return s(e)})}else{return s(e)}})}else if(n){r=s(n)}}}return r};function u(e){var t=h(e);if(e.seriesType==="bullet"){return M(e)}if(typeof e.series==="object"&&!e.series.hasOwnProperty("length")){return D(e)}var i={};if(e.chartType&&e.chartType.indexOf("mekko")>-1){f(t,e.series,c,e,[],i)}else{var r=d;if((e.valueAxis||e.valueAxis2)&&e.categoryAxis){if(e.seriesType==="percentage"){r=b}else if(/waterfall/.test(e.chartType)){r=A}else{r=y}if(/^info\/(column|bar|dual_column|dual_bar)$/.test(e.chartType)){r.lazy=true}}else if(e.timeAxis&&e.seriesType!=="yy"){r=v;r.lazy=true}else if(/scatter|bubble/.test(e.chartType)){r=g;r.lazy=true}else if(/pie|donut/.test(e.chartType)){r=_}if(l(e.chartType,e)){i=[]}else{f(t,e.series,r,e,[],i)}}return i}function c(e,t,i,r,a){if(!t){return}var o=t.valueAxis===undefined||t.valueAxis===null;var s=t.valueAxis2===undefined||t.valueAxis2===null;if(o&&s){return}var l={};for(var u in t){if(u!=="valueAxis"&&u!=="valueAxis2"){l[u]=t[u]}}var c=i[0];d(e,l,c,r,a);var f=e.categoryAxis;for(var m=0;m<f.values.length;m++){N(a,f.metaData[m],f.values[m][c])}var p;if(!a[n]){var h=t.hasOwnProperty("valueAxis")?"valueAxis":null;var g=t.hasOwnProperty("valueAxis2")?"valueAxis2":null;if(h){p=e[h].metaData;if(p&&p.length===1){a[n]=p[0].id;a[p[0].id]=t.valueAxis}}if(g){p=e[g].metaData;if(p&&p.length===1){a[p[0].id]=t.valueAxis2}}}if(e.seriesType=="percentage"){var v=a[n];if(v&&a[v]){a[v]=a[v].value||a[v]}}}function f(i,r,a,n,o,s){for(var l=0,u=r.length;l<u;++l){var c=r[l];if(c){var m=[l].concat(o);if(t.isArray(c)){f(i,c,a,n,m,s)}else{if(c.isNullValue){continue}var p=c.dp;if(!p){var h;if(!a.lazy){h={};a(n,c,m,i,h)}p=new e(h,m,n,null,i,a,c._break);c.dp=p}s[p.id]=p}}}}function m(e,i,r){for(var a=0,n=e.length;a<n;++a){var o=e[a];if(!o){continue}var s=[a].concat(i);if(t.isArray(o)){m(o,s,r)}else{if(o.isNullValue){continue}var l=o.dp;l.setAddress(s);if(r){r[l.id].setAddress(s)}}}}function p(e,t){m(e,[],t)}function h(e){var t=e.dimensions;if(t){var i=e.measures;var r=[];var a;var o,s,l;for(o=0;o<t.length;++o){var u=t[o];l=e[u].metaData;for(s=0;s<l.length;++s){var c=l[s].id;r.push({field:c,dm:u,idx:s});if(c===n){a=true;var f=l[s].values;for(var m=0;m<f.length;++m){r.push({field:f[m].id,measures:i,mndBinding:{dm:u,idx:s}})}}}}if(!a){r.push({field:n});for(o=0;o<i.length;++o){l=e[i[o]].metaData;for(s=0;s<l.length;++s){r.push({isMeasure:true,field:l[s].id,dm:i[o],idx:s})}}}return r}return[]}function d(e,r,a,o,s){var l;for(var u in r){if(u!=="dp"&&r.hasOwnProperty(u)){if(t.isArray(r[u])||e[u]&&e[u].metaData&&e[u].metaData.length===1){x(s,e,u,r)}else{l=u}}}if(l&&s[n]){s[s[n]]=r[l]}var c=e.context&&e.context.metaData;var f=r.context;if(f){for(var m=0,p;c&&m<c.length;++m){p=t.isArray(f[m])?f[m][0]:f[m];i.setContextValue(s,c[m].id,p)}}return s}function g(e,t,i,r,a){d(e,t,i,r,a);return a}function v(e,r,a,o,s){var l;var u,c;for(u=o.length;u--;){c=o[u];if(c.mndBinding&&r.hasOwnProperty(c.mndBinding.dm)){l=r[c.mndBinding.dm][c.mndBinding.idx];break}else if(c.isMeasure&&r.hasOwnProperty(c.dm)){l=c.field;break}}for(u=0;u<o.length;++u){c=o[u];if(c.mndBinding&&r.hasOwnProperty(c.mndBinding.dm)&&l===c.field){for(var f=c.measures.length;f--;){if(r.hasOwnProperty(c.measures[f])){s[l]=r[c.measures[f]];break}}}else if(c.dm&&r.hasOwnProperty(c.dm)){var m=t.isArray(r[c.dm])?r[c.dm][c.idx]:r[c.dm];i.setContextValue(s,c.field,m,c.isMeasure)}else if(c.field===n){s[n]=l}}if(e.context&&t.isExist(r.context)){var p=e.context.metaData;for(u=0;u<p.length;++u){s[p[u].id]=t.isArray(r.context[u])?r.context[u][0]:r.context[u]}}}function y(e,t,i,r,a){var o={};for(var s in t){if(s!=="valueAxis"&&s!=="valueAxis2"){o[s]=t[s]}}d(e,o,i,r,a);var l=e.categoryAxis;var u=i[0];for(var c=0;c<l.values.length;c++){N(a,l.metaData[c],l.values[c][u])}if(!a[n]){var f=t.hasOwnProperty("valueAxis")?"valueAxis":t.hasOwnProperty("valueAxis2")?"valueAxis2":t.hasOwnProperty("variance1")?"variance1":t.hasOwnProperty("variance2")?"variance2":null;if(f){var m=e[f].metaData;if(m&&m.length===1){a[n]=m[0].id}}}if(a[n]){a[a[n]]=t.hasOwnProperty("valueAxis")?t.valueAxis:t.hasOwnProperty("valueAxis2")?t.valueAxis2:t.hasOwnProperty("variance1")?t.variance1:t.hasOwnProperty("variance2")?t.variance2:null}}function _(e,t,i,r,a){d(e,t,i,r,a);if(a[n]){a[a[n]]=t.hasOwnProperty("size")?t.size:null}}function A(e,t,i,r,a){y(e,t,i,r,a);var n=e.series[i[1]][i[0]];if(n&&/total/.test(n.waterfallType)){a.isCumulative=true}}function b(e,t,i,r,a){y(e,t,i,r,a);var o=a[n];if(o&&a[o]){a[o]=a[o].value||a[o]}}function S(i,r,n,o,s,l,u,c){var f={};var m;var p=r.categoryAxis||r.timeAxis;var h=p.metaData;for(m=0;m<h.length;++m){N(f,h[m],p.rowArray[n][m])}var d=r.actualValues.metaData.length;var g=i?Math.floor(o/d):o;var v=r.color&&r.color.metaData;if(v){h=r.color.metaData;for(m=0;m<h.length;++m){N(f,h[m],r.color.rowArray[g][m])}}var y=["actualValues","additionalValues","targetValues","forecastValues"];var _;var A;var b=true;for(m=0;m<y.length;++m){_=r[y[m]];if(v&&!i){if(_&&_.values&&_.values[n]&&_.values[n][o]){A=_.values[n][o][s];N(f,_.metaData[s],A);if(!a.isNoValue(A)){b=false}}}else{if(_&&_.values&&_.values[n]){A=_.values[n][s];N(f,_.metaData[s],A);if(!a.isNoValue(A)){b=false}}}}var S=r.context,M=S&&S.metaData,D=S&&S.values;var E;if(M&&D){for(E=0;E<M.length;++E){var T=D[E][n];f[M[E].id]=t.isArray(T)?T[o]:T;if(i&&!t.isExist(f[M[E].id])&&t.isArray(T)){f[M[E].id]=T&&T[0]}}}var x=r.actualValues.metaData.length;var I=o*x+s;var z=r.series;if(z.seriesMap){I=z.seriesMap[I]}var w;var O=r.additionInfo;var F=O&&O.metaData;var L=O&&O.values;var R={};if(F&&L){for(E=0;E<F.length;++E){if(!f.hasOwnProperty(F[E].id)){var C=L[E][n];R[F[E].id]=t.isArray(C)?C[o]:C}}}if(!b){w=new e(f,i?[c,o]:[n,I],r);l[w.id]=w;w.additionCtx(R)}if(u){u.dp=w}else if(r.series[I]&&r.series[I][n]){r.series[I][n].dp=w}return b}function M(i){var r={};var a=i.trellisRow;var n=i.trellisColumn;var o=a&&a.rowArray?a.rowArray.length:0;var s=n&&n.rowArray?n.rowArray.length:0;var l=i.categoryAxis||i.timeAxis;var u=l.rowArray.length;var c=1;if(i.color&&i.color.rowArray){c=i.color.rowArray.length}var f=i.actualValues.metaData.length;var m,p,h,d,g;var v,y,_,A,b,M,D,E,T,x,I;var z=i.chartType&&i.chartType.indexOf("time")>-1;var w=i.color&&i.color.metaData;if(o===0&&s===0){if(!z){var O={};for(m=0;m<i.series.length;++m){var F=i.series[m].rIndex;if(F==null){F=m}O[F]=m}i.series.seriesMap=O;for(m=0;m<u;++m){for(p=0;p<c;++p){for(h=0;h<f;++h){S(z,i,m,p,h,r)}}}}else{for(var L=0;L<i.series.length;L++){y=i.series[L];var R=(y.rIndex==null?L:y.rIndex)%f;for(var C=0;C<y.length;++C){S(z,i,y[C]._cateIndex,L,R,r,y[C],C)}}}}else{v=["actualValues","additionalValues","targetValues","forecastValues","context"];var k=i.series;o=k.length;s=k[0].length;var P=l.metaData;var B=l.values;for(d=0;d<o;++d){for(g=0;g<s;++g){y=k[d][g];if(y.valueAxis.length===0){continue}for(m=0;m<u;++m){var V={};for(p=0;p<v.length;++p){b=v[p];x=i[b];I=y[b][m];if(!x||!x.values||!I){continue}_=x.metaData;A=I;if(b==="valueAxis"){A=I.values}if(!_||!A){continue}for(h=0;h<_.length;++h){T=_[h].id;V[T]=t.isArray(A)?A[h]:A}}if(t.isEmptyObject(V)){continue}["trellisRow","trellisColumn"].forEach(function(e){if(y[e]){_=i[e].metaData;A=y[e];for(h=0;h<_.length;++h){N(V,_[h],A[h])}}});for(h=0;h<P.length;++h){N(V,P[h],B[h][m])}E=new e(V,[m],i);r[E.id]=E;y["valueAxis"][m].dp=E}}}}return r}function D(e){var t={};E(e.series,0,e,{},[],t);return t}function E(t,i,r,a,n,o){var s,l=0,u,c,f,m,p;for(s in t){if(t.hasOwnProperty(s)){m=t[s];u=[l].concat(n);c=T(r,m,i,a);f=new e(c,u,r,"tree");m.dp=f;if(m.children){p=E(m.children,i+1,r,c,u,o)}else{o[f.id]=f;p=i}c.levelNum=p+1;l++}}return p}function T(e,t,a,n){var s=r.extend(true,{},n);for(var l in t){if(t.hasOwnProperty(l)){if(!e[l]||!e[l].metaData||!e[l].metaData[0]){continue}var u=t[l],c;if(l==="title"||l==="text"){c=e[l].metaData[a];s[c.id]=i.getDimensionValue(u);if(typeof u==="object"){s[c.id+i.DIMENSION_DISPLAYNAME_SUFFIX]=i.getDimensionDisplayName(u)}}else if(l===o){c=e[l].metaData;for(var f=0;f<u.length;++f){s[c[f].id]=u[f]}}else if(!t.children){c=e[l].metaData[0];s[c.id]=u}}}s.level=a;return s}function x(e,i,r,a){var n=i[r];var o=n&&n.metaData;if(o&&o[0]){var s=a[r];if(t.isArray(s)){for(var l=0;l<s.length;++l){N(e,o[l],s[l])}}else{N(e,o[0],s)}}}function I(e,i){var r=[];var a=e.metaData.map(function(e){return e.id});var n=e.scale.getDomain();for(var o=0;o<n.length;o++){var s={};var l=n[o];if(t.isString(l)){s=l}else{for(var u=0;u<l.length;u++){s[a[u]]=l[u];if(i&&a[u]==="measureNames"&&t.isExist(i[l[u]])){s["measureNamesId"]=i[l[u]]}}z(s)}r.push(s)}return r}function z(e){var t;for(var r in e){if(e.hasOwnProperty(r)&&e[r]){t=e[r];if(!i.isPlainValue(t)){e[r]=i.getDimensionValue(t);e[r+i.DIMENSION_DISPLAYNAME_SUFFIX]=i.getDimensionDisplayName(t)}}}}function N(e,t,r){if(t&&t.id){i.setContextValue(e,t.id,r,t.type==="Measure")}}function w(e,t){var i=O(e,t,["color","color2","trellisColumn","trellisRow"]);var r=e.valueAxis;if(r&&r.metaData&&r.metaData.length===1){if(!i){i={}}if(!i["measureNames"]){i["measureNames"]=e.valueAxis.metaData[0].id}}return i}function O(e,t,i){var r={};var a=e.series[t];var n=false;for(var o=0;a&&o<a.length;++o){var s=a[o];if(!s){continue}for(var l=0;l<i.length;++l){var u=i[l];if(!s.hasOwnProperty(u)){continue}x(r,e,u,s);n=true}if(n){return r}}return null}function F(e,t,i){var r=[];var a=e.series[t];for(var n=0;n<a.length;++n){var o=a[n];if(!o){continue}for(var s=0;s<i.length;++s){var l=i[s];if(!o.hasOwnProperty(l)){continue}return{domain:o[l],field:l}}}return null}return{build:u,buildSeriesContext:O,getBindingContext:I,getSeriesScaleInfo:F,buildSeriesLineContext:w,rebuildAddr:p,buildBasic:d}});define("sap/viz/framework/common/util/BulletUtils",["sap/viz/framework/common/util/TypeUtils"],function e(t){var i={};i._TIME_BULLET_MEASURES=["actualValues","additionalValues","targetValues"];function r(e,t){if(e[0]>t){e[0]=t}else if(e[1]<t){e[1]=t}}function a(e){var t=0;var i=0;var r;for(r=0;r<e.length;r++){if(e[r].max>0){t+=e[r].max}else if(e[r].max===undefined||e[r].max===null){t=-Infinity;break}if(e[r].min<0){i+=e[r].min}else if(e[r].min===undefined||e[r].min===null){i=-Infinity;break}}return[i,t]}function n(e,t){var i;var r=[-Infinity,-Infinity];var n=[-Infinity,-Infinity];if(e&&e.metaData){r=a(e.metaData)}if(t&&t.metaData){n=a(t.metaData)}if(t&&r[0]!==-Infinity&&r[1]!==-Infinity&&n[0]!==-Infinity&&n[1]!==-Infinity){i=[Math.min(r[0],n[0],r[0]+n[0]),Math.max(r[1],n[1],r[1]+n[1])]}else{i=r}return i}function o(e){var t=n(e["actualValues"],e["additionalValues"]);var i=n(e["targetValues"]);t[0]=Math.min(t[0],i[0]);t[1]=Math.max(t[1],i[1]);var r=n(e["forecastValues"]);t[0]=Math.min(t[0],r[0]);t[1]=Math.max(t[1],r[1]);if(t[0]===-Infinity||t[1]===-Infinity){t=null}return t}i.bulletSetMinMax=function(e){var t=o(e);var a=[0,0],n=[0,0],s=[0,0];var l,u=e.series;for(var c=0;c<u.length;c++){for(var f=0;f<u[c].length;f++){l=u[c][f]||{};r(a,+l.actualValues||0);r(a,+l.additionalValues||0);r(a,(+l.actualValues||0)+(+l.additionalValues||0));r(n,+l.forecastValues||0);r(s,+l.targetValues||0)}}var m={min:Math.min(a[0],s[0],n[0]),max:Math.max(a[1],s[1],n[1])};i._TIME_BULLET_MEASURES.forEach(function(i){if(e[i]){e[i].minValue=m.min;e[i].maxValue=m.max;e[i].maximizedDomain=t}})};return i});define("sap/viz/framework/chartmodel/DataModel",["sap/viz/framework/chartmodel/ContextBuilder","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/BulletUtils"],function(e,t,i,r,a){function n(e,t,i){if(e){this.init(e,t,i)}this._freshScale=true;this._rangeIndex=[]}n.prototype.init=function(e,t,i){f(this,e);this._rawData=t;this._bindingFeeds=i};function o(e){if(t.isArray(e)){e.forEach(o)}else{delete e.dp}}n.prototype.buildContext=function(){var t=this._initSeries;if(t&&t.filter){var i=[];for(var r=0;r<t.length;++r){if(t[r].isEmpty!==true){t[r].rIndex=r;i.push(t[r]);if(this._rebuildAddr){o(t[r])}}}this._rebuildAddr=false;this._bindingResults.series=this._series=i}this._dataPoints=e.build(this._bindingResults)};n.prototype.getDataPointCount=function(){return Object.keys(this._dataPoints).length};n.prototype.getDataPoint=function(e){return this._dataPoints[e]};n.prototype.getDataPoints=function(e){var i=[];var r=t.isArray(e)||t.isFunction(e)?e:arguments;var a=this._dataPoints;var n;if(t.isFunction(e)){for(n in a){if(a.hasOwnProperty(n)&&e(a[n])){i.push(a[n])}}}else{for(n in a){if(a.hasOwnProperty(n)){var o=a[n].address();var s=1;for(var l=0;l<r.length;++l){var u=r[l];if(typeof u==="number"&&u>=0&&o[l]!==u){s=0;break}}if(s){i.push(a[n])}}}}return i};n.prototype.destroy=function(){this._dataPoints=null;this._freshScale=null;this._bindingFeeds=null;for(var e in this._bindingResults){if(this._bindingResults.hasOwnProperty(e)){this["_"+e]=null;this[e]=null}}this._bindingResults=null;this._rawData=null;this._rangeIndex=null};n.prototype.query=function(e,t,i){var r=u[e];if(r){return r(this,e,t,i)}return this};n.prototype.getBindingMetaData=function(){var e={};for(var t in this._bindingResults){if(this._bindingResults.hasOwnProperty(t)){if(this._bindingFeeds!=null&&this._bindingFeeds.indexOf(t)===-1){if(!(t==="color2"&&this._bindingResults[t])){continue}}var i=this._bindingResults[t];if(i.metaData==null||i.metaData.length==null||i.metaData.length===0){continue}e[t]=i.metaData}}return e};n.prototype.isNeedRefreshScale=function(){return this._freshScale};n.prototype.getPaginationOptions=function(){return this&&this._rawData&&this._rawData._FlatTableD&&this._rawData._FlatTableD._dataset&&this._rawData._FlatTableD._dataset.metadata&&this._rawData._FlatTableD._dataset.metadata.options&&this._rawData._FlatTableD._dataset.metadata.options.pagination};n.prototype.updateSeriesIndex=function(t){if(this.allSeries==null){return}var i=this.allSeries();this._bindingResults.series=i[t];this._initSeries=i[t];this._series=i[t];this._dataPoints=e.build(this._bindingResults);this.setNeedRefreshScale(false)};n.prototype.getInitSeries=function(){return this._initSeries};n.prototype.setRebuildAddr=function(e){this._rebuildAddr=e};n.prototype.setNeedRefreshScale=function(e){this._freshScale=e};n.prototype.getRange=function(e,i){i=i||{};var r=this._series;var a=Infinity,n=-Infinity;var o,s,l;var u=t.isFunction(this.chartType)&&this.chartType()||"";var c=i&&i.needCategoryNum;this._rangeIndex=[];for(s=0;s<r.length;s++){o=r[s];for(l=0;l<o.length;l++){if(!o[l]){continue}if(!o[l].hasOwnProperty(e)){break}if(c){if(this._rangeIndex.indexOf(l)<0){this._rangeIndex.push(l)}}else{a=Math.min(a,o[l][e]);n=Math.max(n,o[l][e])}}}if(t.isNumber(i.min)){a=i.min}if(t.isNumber(i.max)){n=i.max}if(Math.abs(a)!==Infinity&&Math.abs(n)!==Infinity){return[a,n]}return null};function s(e,i,r,a){var n=r.start,o=r.end;if(!t.isNumber(n)){n=-Infinity}if(!t.isNumber(o)){o=Infinity}var s=n>=o;if(r.allowEqual){s=n>o}if(s){return null}var l=0,u=[];var c=Infinity,f=-Infinity;for(l=0;l<e.length;l++){var m=e[l];u[l]=[];for(var p=0;p<m.length;p++){var h=m[p],d;if(!h){continue}if(t.isArray(h[i])){d=h[i][0];if(a){d=a.call(null,d)}}else{d=h[i]}c=Math.min(c,d);f=Math.max(f,d);if(d>=n&&d<=o){if(r.needCategoryNum){u[l][p]=h}else{u[l].push(h)}if(h.dp){}}}}return{series:u}}function l(e,o,l,u){l=l||{};var c=l.start;var m=l.end;var p=t.isNumber(c);var h=t.isNumber(m);var d=function(e){if(t.isExist(r.getDimensionParsedValue(e))){e=r.getDimensionParsedValue(e)}return e};var g=c>=m;if(l.allowEqual){g=c>m}var v=e._initSeries;var y=e._bindingResults;if((p||h)&&!(p&&h&&g)){l.needCategoryNum=/timeseries.*stacked_column|timeseries_waterfall/.test(e._chartType);var _=s(v,o,l,d);if(_){var A=_.series;var b=new n;f(b,y);b._initSeries=A;b._bindingResults.series=A;b._series=A;var S,M;if(b._actualValues){var D={};D.series=A;a._TIME_BULLET_MEASURES.forEach(function(e){D[e]=i.clone(b[e]())});a.bulletSetMinMax(D);a._TIME_BULLET_MEASURES.forEach(function(e){b["_"+e]=D[e]})}else{b._valueAxis=i.clone(b.valueAxis());var E=b.getRange("valueAxis",{needCategoryNum:l.needCategoryNum});for(S=0,M=b._valueAxis.range.length;S<M;++S){if(E){b._valueAxis.range[S]=E.slice()}else{b._valueAxis.range[S]=E}}}if(t.isExist(b.valueAxis2)&&t.isFunction(b.valueAxis2)){b._valueAxis2=i.clone(b.valueAxis2());var T=b.getRange("valueAxis2");for(S=0,M=b._valueAxis2.range.length;S<M;++S){if(T){b._valueAxis2.range[S]=T.slice()}else{b._valueAxis2.range[S]=T}}}b._dataPoints=_.dataPoints;var x=function(e,t){for(var i=0,a=e.length;i<a;++i){if(r.valuesToString(e[i])===t){return i}}return-1};["color","color2","shape"].forEach(function(e){if(!b[e]||!t.isExist(b[e]().values)){return}var a=b[e]();var n={};a=i.clone(a);var o=a.rowArray;var s=a.values;var l=[];var u=[];s.forEach(function(e,t){u[t]=[]});A.forEach(function(i){var a=0;while(i.length>0&&!i[a]){a++}if(i.length===0||!t.isExist(i[a][e])){return}var c=r.valuesToString(i[a][e]);var f=x(o,c);if(!n[c]&&f!==-1){n[c]=1;l.push(o[f]);for(var m=0,p=u.length;m<p;m++){u[m].push(s[m][f])}}});a.rowArray=l;a.values=u;b["_"+e]=a});delete l.needCategoryNum;b._rawData=e._rawData;b._bindingFeeds=e._bindingFeeds;return b}}y.series=v;return e}var u={timeAxis:l};function c(e,t,i){e["_"+t]=i;var r=function(){return e["_"+t]};return r}function f(e,t){e._bindingResults=t;e._initSeries=t.series;for(var i in t){if(t.hasOwnProperty(i)){e[i]=c(e,i,t[i])}}}return n});define("sap/viz/framework/binding/BindingManager",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/binding/defaultChains","sap/viz/framework/chartmodel/DataModel","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/binding/bindingValidationUtil","sap/viz/framework/common/lang/LangManager","sap/viz/framework/scale/ScaleMapping"],function e(t,i,r,a,n,o,s,l,u){var c={};var f={};var m=[];var p=[];var h=[];var d=[];var g={dimension:"GetDimensionsFromFlattable",measure:"GetMeasuresFromFlattable"};var v={dimension:"GetDimensionsFromCrosstable",measure:"GetMeasuresFromCrosstable"};var y="measureNames",_="layout",A="Dimension",b="Measure";var S="waterfallType";var M={};var D=null;var E={};c.getInstance=function(e){D=e;D.map(function(e){E[e.id]=u.TO_OLD_SCALEROLE[e.role]});return this};c.registerChain=function(e,t){if(arguments.length<2){i.error("need at least 2 arguments")}if(f[e]){i.error("already exist")}f[e]=t};c.unRegisterChain=function(e){delete f[e]};c.getChainResolverById=function(e){return f[e]};c.getCurrentFeedRole=function(){return M};var T=function(e){var t;var i,r;for(i=0;i<e.length;i++){for(r=0;r<e[i].source.length;r++){if(e[i].source.hasOwnProperty(r)){if(e[i].source[r][y]){t=e[i].source[r][y];break}}}}var a=[];if(t){for(i=0;i<e.length;i++){if(t.indexOf(e[i].feed)>-1){a=a.concat(e[i].source)}}}return a};var x=function(e,t){for(var i=0;i<e.length;i++){if(e[i].feed===t){return i}}return-1};var I=function(e){var t;var i=[],r=[],a=[];var n;for(n=0;n<e.length;n++){var o=E[e[n].feed];if(o&&o.indexOf(_)>-1){i.push(n)}else if(o&&/trellis|frame/.test(o)){r.push(n)}else{a.push(n)}}i=[].concat(r,i,a);var s=e.map(function(t,r){return e[i[r]]});return s};c.setBindings=function(e){var i=D;var r=null;var a=function(e){var t={};var i=u.TO_OLD_SCALETYPE;var r=u.TO_OLD_SCALEROLE;var a=e.length;while(a--){var n=e[a];var o=n.role;t[n.id]={type:n.type,scaleType:i[o],role:r[o]}}return t}(i);m=[];h=[];d=[];e=I(e);for(var n=0;n<e.length;n++){var o=e[n].feed;var s=a[o];if(s){if(o===S){if(t.isString(e[n].source[0])){h.push(o)}}else if(o.indexOf("pattern")>-1){if(t.isString(e[n].source[0])){h.push(o)}}else if(s.type===A){d.push(o)}else if(s.type===b){h.push(o)}M[o]={feedingType:s.type,config:r,scaleType:s.scaleType,role:s.role}}}m=[].concat(d,h);return e};var z=function(e){var i=e._crosstableDataset._dataSet.measureValuesGroup;var r=[];i.forEach(function(e){if(t.isArray(e.data)){e.data.forEach(function(e){r.push(e.name)})}});return r};var N=function(e,t){var i=e.length;for(var r=0;r<i;r++){var a=e[r];if(a.feedId===t){return{bindingInfo:a.binding}}}};var w=function(e,r,a,n,o,s,l){var u={},f;var p=false;var y=false;var _=a.split("/")[0];var A;var b;var S;var M;var E=/timeseries.*stacked.*/.test(a);var I=c.getChainResolverById;var w=/timeseries.*waterfall/.test(a);var O=function(e,i){var r=e==="tyy"?"ty":e;var a=r.indexOf(".")+1;if(a>0){r=e.substring(a)}var n=I(r+i);if(!t.isFunction(n)){n=I("xy"+i)}return n};var F=function(e){return e.bind(e)};var L=e.type;if(L.indexOf("FlatTableDataset")>-1){f=T(r);p=true;y=true}else if(L.indexOf("CrosstableDataset")>-1){f=z(e);p=true}if(p){F(O(_,"OnBindingStart"))();if(E){F(O("xy","OnBindingStart"))()}var R=m.length;var C=false;if(/bubble|scatter|value_line|tagcloud/.test(a)){C=true}var k=null;if(/100_/.test(n)){k="NEED_SUM_BY_CATEGORY"}else if(/pie|donut/.test(n)){k="NEED_ONLY_TOTAL_SUM"}var P={dataTimeLevel:null,showAsUTC:false};s=s||{};if(/timeseries_(.*combination|.*column|bullet|waterfall)/.test(n)){P={dataTimeLevel:s.dataTimeLevel,showAsUTC:s.showAsUTC,isTimeWaterFall:w}}if(/timeseries/.test(n)){P.isTimeChart=true;if(e._FlatTableD._data.length===1&&e._FlatTableD._data[0].every(function(e){return!t.isExist(e)})){P.skipDateChecking=true}}for(var B in s){if(s.hasOwnProperty(B)&&s[B]instanceof Object){P[B]=s[B]}}for(M=0;M<R;M++){var V=m[M];var U=r[x(r,V)];if(!U){U=N(r,V)}if(U){if(U.feed==="timeAxis"&&E){P.isTimeStacked=true}A=U;b=I(_+A.chain);var H=false;if(!t.isFunction(b)){var G=y?g:v;if(d.indexOf(V)>=0){H=true;b=O(_,G.dimension)}else if(h.indexOf(V)>=0){var Y=_;if(E){Y="xy"}else if(w){Y="waterfall"}b=O(Y,G.measure)}else{i.error("Resolver is not a function")}}var j;var q=l&&typeof l.get("legend.order")==="function";o.legendOrder=q;if(H){j=F(b)(e,A.source,f,r,D,V,o,P)}else{if(U.feed==="valueAxis"){if(E){P.timeAxis=u.timeAxis}else if(w){P.isTimeWaterFall=true}}j=F(b)(e,A.source,f,r,C,V,k,P)}u[V]=j}}var W=[];var K=O(_,"GetContext");if(y&&e.getContext()){W=e.getContext();var X=F(K)(e,W,C,f);u.context=X}if(a.indexOf("bullet")>-1&&a.indexOf("extension")<0){var Z=["actualValues","additionalValues","targetValues","forecastValues"];var J=u.actualValues.metaData;if(J&&J.length>1){f=[];for(var Q=0;Q<Z.length;++Q){var $=u[Z[Q]]&&u[Z[Q]].metaData;for(var ee=0;$&&ee<$.length;++ee){f.push($[ee].id)}}}}if(y&&(s.allBinding&&s.allBinding.length>1||f&&f.length>1)){var te=s.allBinding?T(s.allBinding):f;K=O(_,"GetContext");var ie=F(K)(e,te,C,te);u.additionInfo=ie}if(a.match(/stacked_column/)&&l&&!/dual/.test(n)&&l.get("plotArea.series")){s.isFlexibleStack=true}S=O(_,"GetBindingSeries");if(a.indexOf("stacked_combination")>-1){u.seriesType="stacked_combination"}else if(a.indexOf("100")>-1){u.seriesType="percentage"}else if(a.indexOf("area")>-1){u.seriesType="area"}else if(a.match(/waterfall/)){u.seriesType="waterfall"}else if((a.indexOf("stack")>-1||a.indexOf("mekko")>-1)&&!s.isFlexibleStack){u.seriesType="stacked"}else if(_.toLowerCase().indexOf("bullet")>-1){u.seriesType="bullet"}else if(a.match(/bubble|scatter/)){u.seriesType="yy"}else{u.seriesType="spread"}if(a.match(/mekko|tagcloud|timeseries_bullet/)){s.allowEmptyMeasure=true}if(a.match(/waterfall/)){s.isStacked=/stacked_/.test(a);if(w){s.isTimeWaterFall=true}}if(a.match(/timeseries_(.*column|combination|bullet|waterfall|stacked.*)/)){s.errorOnDuplicate=true;if(E){s.isTimeStacked=true}}if(a.match(/timeseries_stacked_combination/)){var re=l&&l.get("plotArea.dataShape.primaryAxis");if(!(re instanceof Array)){re=l.get("plotArea.dataShape.primaryAxis","defaultValue")}s.dataShapes=re}F(S)(e,d,h,u,r,D,s);F(O(_,"OnBindingFinished"))()}else{for(M in r){if(r.hasOwnProperty(M)){A=r[M];b=I(A.chain);if(t.isFunction(b)){u[A.feed]=b.call(b,e,A.source)}else{i.error("Resolver is not a function")}}}S=I("GetBindingSeries");F(S)(e,d,h,u,r,D);u.seriesType="spread"}if(_==="yy"||_==="ty"){if(u.seriesContext&&u.seriesContext.length>0){var ae={};if(u.color&&u.color.metaData){var ne=l&&l.get("plotArea.colorDepth");ne=+ne>0?+ne:1;ne=Math.min(ne,u.color.metaData.length);for(var oe=0;oe<ne;oe++){ae[u.color.metaData[oe].id]=true}}if(u.shape&&u.shape.metaData){var se=l&&l.get("plotArea.shapeDepth");se=+se>0?+se:1;se=Math.min(se,u.shape.metaData.length);for(var le=0;le<se;le++){ae[u.shape.metaData[le].id]=true}}var ue=[];u.seriesContext.forEach(function(e){if(e){var t={};var i=Object.keys(e);i.forEach(function(i){if(ae[i]){t[i]=e[i]}});if(i.length===1&&i[0]==="measureNames"){ue.push(e)}else{ue.push(t)}}});u.seriesContext=ue}}return u};var O=function(e){var t=[],i,r,a;var n=[],o=[];for(r=0;r<e.length;r++){for(a=0;a<e[r].source.length;a++){if(e[r].source[a].type==="analysisAxis"){n.push(e[r])}else if(e[r].source[a].type==="measureValuesGroup"){o.push(e[r])}}}for(r=0;r<o.length;r++){var s=n.concat();s.push(o[r]);t.push(s)}return t};var F=function(e){var t=[[],[],[],[]],i=[],r;var a=[];for(r=0;r<e.length;r++){switch(e[r].feed){case"pattern":t[0].push(e[r]);t[2].push(e[r]);t[3].push(e[r]);break;case"valueAxis":t[0].push(e[r]);break;case"pattern2":t[1].push(e[r]);t[2].push(e[r]);t[3].push(e[r]);break;case"valueAxis2":t[1].push(e[r]);break;case"variance1":t[2].push(e[r]);break;case"variance2":t[3].push(e[r]);break;default:a.push(e[r]);break}}for(r=0;r<t.length;r++){if(t[r].length>0){i.push(t[r].concat(a))}}return i};var L=function(e){var t=[],r,a,n;var o=-1;for(a=0;a<e.length;a++){for(n=0;n<e[a].source.length;n++){if(e[a].source[n][y]){r=e[a].source[n][y]}}if(e[a].feed==="color"){o=a}}if(!r){i.error(l.getLogMessage("IDS_ERROR_INVALID_BINDING"))}var s=e.filter(function(e){if(r.indexOf(e.feed)<0){return e}});for(a=0;a<r.length;a++){var u=s.concat();for(n=0;n<e.length;n++){if(e[n].feed===r[a]){u.push(e[n])}}t.push(u)}return t};var R=function(e){var t=false,i,r,a;for(var n in e){if(e.hasOwnProperty(n)){if(e[n].feed==="color"){r=n}if(e[n].feed==="valueAxis2"){t=true}}}if(t){a=o.clone(e[r]);a.feed="color2";e[r]=a}};var C=function(e){for(var t in e){if(t==="valueAxis2"){e["color2"]=e["color"];delete e["color"];if(e.dimensions){var i=e.dimensions.indexOf("color");if(i>=0){e.dimensions[i]="color2"}}return true}}return false};var k=function(e){var t=e.length;for(var i=0;i<t;i++){if(e[i].feed.indexOf("trellis")>-1){return true}}return false};var P=function(e){var t=e.length;for(var i=0;i<t;i++){if(e[i].feed==="dataFrame"){return true}}return false};var B=function(e,t){var i=e;var r=i.length,a;if(r>1){if(k(t)){i[1].series.map(function(e,t){e.map(function(e,r){i[1].series[t][r]=i[0].series[t][r].concat(i[1].series[t][r])})})}else{for(a=0;a<i.length-1;a++){i[a+1].series=i[a].series.concat(i[a+1].series);if(i[a+1].measures&&i[a].measures){i[a+1].measures=n.union(i[a+1].measures,i[a].measures)}if(i[a+1].dimensions&&i[a].dimensions){i[a+1].dimensions=n.union(i[a+1].dimensions,i[a].dimensions)}}if(i[1].seriesContext){i[1].seriesContext=i[0].seriesContext.concat(i[1].seriesContext)}if(P(t)){i[1].allSeries.map(function(e,t){i[1].allSeries[t]=i[0].allSeries[t].concat(i[1].allSeries[t])})}}}var s;for(a=0;a<i.length;a++){s=o.extend(s,i[a])}return s};var V=function(e){var t,i;for(t in e){if(e.hasOwnProperty(t)){for(i in e[t].source){if(e[t].source.hasOwnProperty(i)){if(e[t].source[i][y]){return e[t].feed}}}}}};var U=function(e,i){if(t.isArray(e)){if(e.seriesMeta&&e.seriesMeta.color){e.seriesMeta["color2"]=e.seriesMeta.color;delete e.seriesMeta.color}e.map(function(e){U(e,i)})}else{if(e.color){e["color2"]=e.color;delete e.color}}};var H=function(e,t,i){var r=t.length;for(var a=0;a<r;a++){if(!e[t[a].id]&&t[a].id.indexOf("trellis")<0){if(t[a].type!=="group"&&!t[a].groupId){e[t[a].id]={}}}}};function G(e){var t=C(e);if(t){U(e.series,"color2");if(e.allSeries){for(var i in e.allSeries){if(e.allSeries.hasOwnProperty(i)){U(e.allSeries[i],"color2")}}}}}c.parseDataWithBindingInformation=function(e,t,i,r,n,l,u){var c,f=null,m,p,h;var d=o.clone(t);var g=s.getValueAxisBindings(t);l=l||{};l.isTrellis=/trellis/.test(r);if(i.indexOf("xyy")>-1||i.indexOf("tyy")>-1||i.indexOf("combex")>-1&&g.length>1){var v=[],y;if(e.type.indexOf("FlatTableDataset")>-1){if(i.indexOf("hichert")>-1){y=F(d)}else{y=L(d)}l.allBinding=d}else{y=O(d)}this.setBindings(d);for(m in y){if(y.hasOwnProperty(m)){c=w(e,y[m],i,r,n,l,u);G(c);v.push(c)}}if(l){delete l.allBinding}c=B(v,d)}else{if(/timeseries_.*combination/.test(r)){if(e.type.indexOf("FlatTableDataset")>-1){L(d)}else{O(d)}}c=w(e,d,i,r,n,l,u)}H(c,D,g);if(g.length===1&&g[0]==="valueAxis2"){G(c)}c.chartType=r;f=new a(c,e,d.map(function(e){return e.feed}),l);return f};var Y=r.length;for(var j=0;j<Y;j++){var q=r[j];c.registerChain(q.id,q.dataResolver)}return c});define("sap/viz/framework/interaction/Constants",[],function(){var e={BEHAVIOR:{DEFAULT_BEHAVIOR_ID:"default",BUILTIN_BEHAVIOR_ID:"builtIn",NOHOVER_BEHAVIOR_ID:"noHoverBehavior",DEFAULT_CHART_TYPE_KEY:"*",ALL_TARGETS:"*"},SELECTION_MODE:{INCLUSIVE:"INCLUSIVE",EXCLUSIVE:"EXCLUSIVE",NONE:"NONE",SINGLE:"SINGLE",MULTIPLE:"MULTIPLE",RANGE:"RANGE"},RANGE_SELECTION:{OFFSET:5},SELECTION_BEHAVIOR:{DATAPOINT:"DATAPOINT",CATEGORY:"CATEGORY",SERIES:"SERIES"}};return e});define("sap/viz/framework/interaction/BaseMonitor",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t=function(e){};t.prototype.setProperties=function(t){e.extendByRepalceArray(true,this._props,t);return this};t.prototype.setAllHandler=function(e){var t=this.getDispatch();var i=this.getMonitorEventTypes();i.forEach(function(i){t.on(i,e)})};t.prototype.getDispatch=function(){return this._dispatch};t.prototype.resetStatus=function(){this._startPoint=null;this._focusTarget=null;this._status="standby"};t.prototype.destroy=function(){this.setAllHandler(null)};t.getRelativeCoordinate=function(e,t){var i=t.getBoundingClientRect();var r={width:t.offsetWidth||t.clientWidth||i.width,height:t.offsetHeight||t.clientHeight||i.height};var a=e.x-i.left,n=e.y-i.top;return{x:Math.round(a*(r.width/i.width)),y:Math.round(n*(r.height/i.height))}};return t});define("sap/viz/framework/interaction/DesktopMonitor",["sap/viz/framework/common/util/oo","sap/viz/framework/interaction/BaseMonitor","jquery","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,r,a){var n=20;var o=["click","hover","down","up","lassostart","lassomove","lassoend","dragstart","dragmove","dragend","wheelmove","contextmenu","blur","uparrow","downarrow","leftarrow","rightarrow","enter","tab","space","plus","minus"];var s=["dragstart","dragmove","dragend"];var l=["click","hover","down","up","wheelmove"];var u=function(e){this._dispatch=d3.dispatch.apply(this,o);this._isMobile=false;this._props={enableClick:true,enableHover:true,enableDown:true,enableUp:true,enableLasso:true,enableDrag:true,enableWheelmove:true,enableBlur:true,enableKeyboard:false};this._eventLayer=null;this._divNode=null;this._startPoint=null;this._focusTarget=null;this._lastPoint=null;this._status="standby";this._focusFunc=null;this._blurFunc=null;this.registerEvent(e)};e.extend(u,t);u.getMonitorEventTypes=u.prototype.getMonitorEventTypes=function(){return o};u.prototype.registerEvent=function(e){this._eventLayer=e;this._eventLayer.on("mousedown.monitor",this._mousedown.bind(this)).on("mouseup.monitor",this._mouseup.bind(this)).on("mousemove.monitor",this._mousemove.bind(this)).on("contextmenu.monitor",this._contextmenu.bind(this));if(r.isFirefox()){this._eventLayer.on("dragstart.monitor",this._preventEvent);this._eventLayer.on("DOMMouseScroll.monitor",this._mousewheel.bind(this))}else{this._eventLayer.on("mousewheel.monitor",this._mousewheel.bind(this))}if(r.isIE()){this._eventLayer.on("dragstart.monitor",this._preventEvent);if(r.isIE11()){this._eventLayer.node().addEventListener("mouseleave",function(e){this._mouseleave(e)}.bind(this))}else{this._eventLayer.on("mouseleave.monitor",function(){this._mouseleave.call(this,d3.event)}.bind(this))}}else{i(this._eventLayer.node()).mouseleave(this._mouseleave.bind(this))}this._divNode=this._eventLayer.node().parentNode;if(this._divNode){this._keydownHandler=function(e){this._keydown(e)}.bind(this);this._divNode.addEventListener("keydown",this._keydownHandler);this._blurFunc=this._blur.bind(this);this._divNode.addEventListener("blur",this._blurFunc)}return this};u.prototype.destroy=function(){u.superclass.destroy.apply(this);var e=this._eventLayer;this._eventLayer=null;if(e){e.on("mousedown.monitor",null).on("mouseup.monitor",null).on("mousemove.monitor",null).on("contextmenu.monitor",null);if(r.isFirefox()){e.on("DOMMouseScroll.monitor",null)}else{e.on("mousewheel.monitor",null)}if(r.isIE()){e.on("mouseleave.monitor",null)}else{i(e.node()).unbind("mouseleave")}}if(this._divNode){this._divNode.removeEventListener("keydown",this._keydownHandler);this._divNode.removeEventListener("blur",this._blurFunc)}this._keydownHandler=null;this._divNode=null;this._dispatch=null;this._props=null;this._startPoint=null;this._focusTarget=null;this._lastPoint=null;this._status=null;this._focusFunc=null;this._blurFunc=null};function c(e){return e.which===1}function f(e){return r.os()==="Mac"?e.metaKey:e.ctrlKey}function m(e){return{x:e.clientX,y:e.clientY}}function p(e,t){var i=e.x-t.x;var r=e.y-t.y;return Math.sqrt(i*i+r*r)}function h(){if(d3.event){return d3.event}else{return window.event}}function d(e){return"enable"+e.substring(0,1).toUpperCase()+e.substring(1)}u.prototype._preventEvent=function(){var e=h();e.preventDefault();return false};u.prototype._blur=function(){if(this._props["enableKeyboard"]){this._fireEvent("blur")}};u.prototype._keydown=function(e){var t=e;switch(t.keyCode){case 37:this._fireKeyBoardEvent("leftarrow",t);break;case 38:this._fireKeyBoardEvent("uparrow",t);break;case 39:this._fireKeyBoardEvent("rightarrow",t);break;case 40:this._fireKeyBoardEvent("downarrow",t);break;case 9:this._fireKeyBoardEvent("tab",t);break;case 13:this._fireKeyBoardEvent("enter",t);break;case 32:this._fireKeyBoardEvent("space",t);break;case 107:case 187:this._fireKeyBoardEvent("plus",t);break;case 109:case 189:this._fireKeyBoardEvent("minus",t);break;case 61:if(r.isFirefox()){this._fireKeyBoardEvent("plus",t)}break;case 173:if(r.isFirefox()){this._fireKeyBoardEvent("minus",t)}break}};u.prototype._mousewheel=function(){this._fireEvent("wheelmove")};u.prototype._mousedown=function(){var e=h();if(!c(e)){return}this._startPoint=m(e);this._focusTarget=e.target;this._status="focus";this._fireEvent("down")};u.prototype._mousemove=function(){var e=h();var t=this._lastPoint;var i=m(e);if(t&&p(t,i)===0){return}this._lastPoint=i;var r=this._status;var a=this;switch(r){case"standby":a._fireEvent("hover",null,null,e);break;case"focus":if(a._checkMouseDownUpDistance(e)){var n=a._getMoveEventType(e);a._status=n;a._fireEvent("up",a._startPoint,a._focusTarget,e);a._fireEvent(n+"start",a._startPoint,null,e);a._fireEvent(n+"move",null,null,e)}break;case"lasso":a._fireEvent("lassomove",null,null,e);break;case"drag":a._fireEvent("dragmove",null,null,e);break}};u.prototype._mouseup=function(){var e=h();if(!c(e)){return}var t=this._status;switch(t){case"standby":this._fireEvent("hover");break;case"focus":this._fireEvent("up",this._startPoint,this._focusTarget);this._fireEvent("click",this._startPoint,this._focusTarget);break;case"lasso":this._fireEvent("lassoend");break;case"drag":this._fireEvent("dragend");break}this.resetStatus()};u.prototype._mouseleave=function(e){var t=this._status;switch(t){case"lasso":this._fireEvent("lassoend",undefined,undefined,e);break;case"drag":this._fireEvent("dragend",undefined,undefined,e);break}this.resetStatus()};u.prototype._contextmenu=function(){this._fireEvent("contextmenu")};u.prototype._getMoveEventType=function(e){var t="drag";if(this._isLasso(e)){t="lasso"}return t};u.prototype._isLasso=function(e){var t=this._props;var i=false;if(t.enableLasso){i=true}return i};u.prototype._checkMouseDownUpDistance=function(e){var t=m(e);if(this._startPoint!==null&&p(this._startPoint,t)<n){return false}else{return true}};u.prototype._fireEvent=function(e,i,a,n){var o=h()||n;if(o){var u=0;if(r.isFirefox()){if(o.detail){u=-120*o.detail}}else{if(o.wheelDelta){u=o.wheelDelta}}var c={name:e,data:{point:i||m(o),pointToChart:t.getRelativeCoordinate(i||m(o),this._eventLayer.node()),target:a?a:o.target,ctrlKey:f(o),wheelDelta:u,originalEvent:o}};var p=this._props;var g=this._dispatch;if(l.indexOf(e)>-1){var v=d(e);if(this._props[v]){this._dispatch[e](c)}}else if(s.indexOf(e)>-1){if(this._props.enableDrag){this._dispatch[e](c)}}else{this._dispatch[e](c)}}};u.prototype._fireKeyBoardEvent=function(e,t){var i={name:e,data:{rootHandler:this._divNode,target:t.target,originalEvent:t}};if(this._props["enableKeyboard"]){this._dispatch[e](i)}};return u});define("sap/viz/framework/interaction/gesture/GestureDetector",["sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/FunctionUtils"],function e(t,i){var r=i.noop;var a=0;var n=1;var o=2;var s=3;var l=3;var u=4;var c=5;var f=function(){this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grActions=[];this._grCancelTouches=true;var e=a;Object.defineProperties(this,{state:{get:function(){return e},set:function(t){switch(t){case a:e=a;break;case n:e=n;this._grActions.forEach(function(e,t){e(this)},this);break;case o:if(e===n){e=o}this._grActions.forEach(function(e,t){e(this)},this);break;case u:e=u;this._grActions.forEach(function(e,t){e(this)},this);break;case c:e=c;break;case l:case s:e=t;this._grActions.forEach(function(e,t){e(this)},this);break}}}})};f.prototype.addGestureAction=function(e){var t=this._grActions;if(t.indexOf(e)===-1){t.push(e);return true}return false};f.prototype.removeGestureAction=function(e){var t=this._grActions,i=t.indexOf(e);if(i>-1){t.splice(i,1);return true}return false};f.prototype.globalLocOfGesture=function(){var e=this.state;if(this._grEnabled&&[n,o,u,l,s].indexOf(e)>-1){var t=0;var i=this._grTouchTracker,r;var a=0;var c=0;for(var f in i){if(i.hasOwnProperty(f)){r=i[f];a+=r.x;c+=r.y;t++}}if(t){return{x:a/t,y:c/t}}}};f.prototype.involvedTouchePoints=function(){var e=[],t=this.state;if(this._grEnabled&&[n,o,u,l,s].indexOf(t)>-1){var i=this._grTouchTracker;for(var r in i){if(i[r]!==undefined){e.push(i[r])}}}return e};f.prototype.globalLocOfTouchPoints=function(){var e=0;var t=this._grTouchTracker,i;var r=0;var a=0;for(var n in t){if(t.hasOwnProperty(n)){i=t[n];r+=i.x;a+=i.y;e++}}if(e){return{x:r/e,y:a/e}}};f.prototype.totalTouches=function(){return this._grTouchTotal};f.prototype.cancelTouches=function(e){if(arguments.length){this._grCancelTouches=e?true:false;return this}else{return this._grCancelTouches}};f.prototype.enable=function(e){if(arguments.length){e=e?true:false;if(this._grEnabled!==e){this._grEnabled=e;if(!e){if([n,u].indexOf(this.state)>-1){this.state=u}else{this.state=c}}}return this}else{return this._grEnabled}};f.prototype.touchBegin=function(e){var i=e.changedTouches;var r=this._grTouchTracker;for(var s=0,l,u=i.length;s<u;s++){l=i[s];r[l.identifier]={x:l.clientX,y:l.clientY};this._grTouchTotal++}if(t.isIOS()&&this._grTouchTotal!==e.touches.length){var c=e.touches;this._grTouchTotal=c.length;r=this._grTouchTracker={};for(s=0,l,u=c.length;s<u;s++){l=c[s];r[l.identifier]={x:l.clientX,y:l.clientY}}}if(this._grEnabled&&[n,a,o].indexOf(this.state)>-1){this.doTouchBegin(e)}};f.prototype.touchMove=function(e){if(this._grEnabled&&[n,a,o].indexOf(this.state)>-1){var t=[e.changedTouches];var i=this._grTouchTracker;if(e.touches){t.push(e.touches)}var r,s,l,u;for(s=0;s<t.length;++s){var c=t[s];for(r=0,u=c.length;r<u;r++){l=c[r];if(i[l.identifier]){i[l.identifier]={x:l.clientX,y:l.clientY}}}}this.doTouchMove(e)}};f.prototype.touchEnd=function(e){var t=[e.changedTouches];var i=this._grTouchTracker;if(e.touches){t.push(e.touches)}var r,l,f,m;for(l=0;l<t.length;++l){var p=t[l];for(r=0,m=p.length;r<m;r++){f=p[r];if(i[f.identifier]&&!i[f.identifier].toBeDeleted){i[f.identifier]={x:f.clientX,y:f.clientY,toBeDeleted:true};this._grTouchTotal--}}}if(this._grEnabled&&[n,a,o].indexOf(this.state)>-1){this.doTouchEnd(e)}for(var h in i){if(i.hasOwnProperty(h)&&i[h].toBeDeleted){delete i[h]}}if(!this._grTouchTotal&&[s,c,u].indexOf(this.state)>-1){this.reset()}};f.prototype.touchCancel=function(e){var t=e.changedTouches;var i=this._grTouchTracker;for(var r=0,l,f=t.length;r<f;r++){l=t[r];if(i[l.identifier]){i[l.identifier]={x:l.clientX,y:l.clientY,toBeDeleted:true};this._grTouchTotal--}}if(this._grEnabled&&[n,a,o].indexOf(this.state)>-1){this.doTouchCancel(e)}for(var m in i){if(i.hasOwnProperty(m)&&i[m].toBeDeleted){delete i[m]}}if(!this._grTouchTotal&&[s,c,u].indexOf(this.state)>-1){this.reset()}};f.prototype.doTouchBegin=r;f.prototype.doTouchMove=r;f.prototype.doTouchEnd=r;f.prototype.doTouchCancel=r;f.prototype.reset=function(){this.state=a;this._grTouchTracker={};this._grTouchTotal=0};f.TransitionState={Possible:a,Began:n,Changed:o,Recognized:s,Ended:l,Canceled:u,Failed:c};return f});define("sap/viz/framework/interaction/gesture/PanGestureDetector",["sap/viz/framework/common/util/oo","sap/viz/framework/interaction/gesture/GestureDetector"],function e(t,i){var r=i.TransitionState;var a=10;var n=500;var o=function(e,t){var i=e.x-t.x;var r=e.y-t.y;return Math.sqrt(i*i+r*r)};var s=function(e,t){return t-e};var l=function(e){this._startWhen=this._stopWhen;this._stopWhen=e.timeStamp;this._lastXY=this._currentXY;this._currentXY=this.globalLocOfTouchPoints()};var u=function(e){u.superclass.constructor.apply(this,arguments);this._touchesRequired=e>0&&e<6?e:1;this._startXY=undefined;this._lastXY=undefined;this._currentXY=undefined;this._startWhen=0;this._stopWhen=0;this._isLongPress=false};t.extend(u,i);u.prototype.touchesRequired=function(e){if(arguments.length){this._touchesRequired=+e;return this}return this._touchesRequired};u.prototype.doTouchBegin=function(e){var t=this.totalTouches();if(t===this._touchesRequired&&this.state===r.Possible){this._startWhen=this._stopWhen=e.timeStamp;this._startXY=this._lastXY=this._currentXY=this.globalLocOfTouchPoints();this.state=r.Began}else if(t>this._touchesRequired){if(this.state===r.Began||this.state===r.Changed){this._stopWhen=e.timeStamp;this._lastXY=this._currentXY;this._currentXY=this.globalLocOfTouchPoints();this.state=r.Canceled}else{this.state=r.Failed}}};u.prototype.doTouchMove=function(e){switch(this.state){case r.Began:if(o(this._currentXY,this.globalLocOfTouchPoints())>=a){if(s(this._stopWhen,e.timeStamp)<n){this._isLongPress=false}else{this._isLongPress=true}l.call(this,e);this.state=r.Changed}break;case r.Changed:l.call(this,e);this.state=r.Changed;break}};u.prototype.doTouchEnd=function(e){if(this.state===r.Began||this.state===r.Changed){l.call(this,e);this._isLongPress=false;this.state=r.Ended}};u.prototype.doTouchCancel=function(e){if(this.state===r.Began||this.state===r.Changed){l.call(this,e);this._isLongPress=false;this.state=r.Canceled}};u.prototype.rangeInXY=function(){return{x:this._currentXY.x-this._startXY.x,y:this._currentXY.y-this._startXY.y}};u.prototype.velocityInXY=function(){var e=this._stopWhen-this._startWhen;if(e){return{x:(this._currentXY.x-this._lastXY.x)/e,y:(this._currentXY.y-this._lastXY.y)/e}}else{return 0}};u.prototype.reset=function(){u.superclass.reset.apply(this,arguments);this._startXY=undefined;this._lastXY=undefined;this._currentXY=undefined;this._startWhen=0;this._stopWhen=0;this._isLongPress=false};u.prototype.isLongPress=function(){return this._isLongPress};return u});define("sap/viz/framework/interaction/gesture/PinchGestureDetector",["sap/viz/framework/common/util/oo","sap/viz/framework/interaction/gesture/GestureDetector"],function e(t,i){var r=i.TransitionState;var a=35;var n=function(){n.superclass.constructor.apply(this,arguments);this._origDistance=1;this._currDistance=1;this._startWhen=0;this._stopWhen=0};t.extend(n,i);n.prototype._distance=function(){var e=[];for(var t in this._grTouchTracker){if(this._grTouchTracker.hasOwnProperty(t)){e.push(this._grTouchTracker[t])}}if(e.length<2){return 0}var i=e[1].x-e[0].x;var r=e[1].y-e[0].y;return Math.sqrt(i*i+r*r)};n.prototype.doTouchBegin=function(e){var t=this.totalTouches();if(this.state===r.Possible){if(t===2){var i=this._distance();if(i>a){this._origDistance=this._currDistance=i;this._startWhen=this._stopWhen=e.timeStamp;this._touchStartPoints=[];var n=this._grTouchTracker;for(var o in n){if(n[o]!==undefined){this._touchStartPoints.push(n[o])}}}else{this.state=r.Failed;return}}else if(t>2){this.state=r.Failed;return}}else if(this.state===r.Began||this.state===r.Changed){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=r.Canceled;return}};n.prototype.doTouchMove=function(e){switch(this.state){case r.Possible:if(this.totalTouches()===2){this._stopWhen=e.timeStamp;this._currDistance=this._distance();var t=this.scale();if(t>1.05||t<.95){this.state=r.Began}}break;case r.Began:if(Math.abs(this._origDistance-this._distance())>10){this._currDistance=this._distance();this._stopWhen=e.timeStamp;this.state=r.Changed}break;case r.Changed:this._currDistance=this._distance();this._stopWhen=e.timeStamp;this.state=r.Changed;break}};n.prototype.doTouchEnd=function(e){if(this.state===r.Began||this.state===r.Changed){if(this.totalTouches()===0){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=r.Ended}else{this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=r.Canceled}}else if(this.state===r.Possible){this.state=r.Failed}};n.prototype.doTouchCancel=function(e){if(this.state===r.Began||this.state===r.Changed){this._stopWhen=e.timeStamp;this._currDistance=this._distance();this.state=r.Canceled}else if(this.state===r.Possible){this.state=r.Failed}};n.prototype.scale=function(){return this._currDistance/this._origDistance};n.prototype.velocity=function(){var e=this._startWhen-this._stopWhen;if(e){return Math.abs(this._currDistance-this._origDistance)*1e3/e}else{return 0}};n.prototype.reset=function(){n.superclass.reset.apply(this,arguments);this._origDistance=1;this._currDistance=1;this._startWhen=0;this._stopWhen=0};return n});define("sap/viz/framework/interaction/gesture/TouchChangeGestureDetector",["sap/viz/framework/common/util/oo","sap/viz/framework/interaction/gesture/GestureDetector"],function e(t,i){var r=i.TransitionState;var a=function(e){a.superclass.constructor.apply(this,arguments);this._lastTotalTouches=0;this._changedTouchesNumber=0};t.extend(a,i);a.prototype.doTouchBegin=function(){var e=this._lastTotalTouches;this._lastTotalTouches=this.totalTouches();if(e!==this._lastTotalTouches){this._changedTouchesNumber=this._lastTotalTouches-e;if(e===0){this.state=r.Began}else{this.state=r.Changed}}};a.prototype.doTouchEnd=function(){if(this.state===r.Began||this.state===r.Changed){var e=this._lastTotalTouches;this._lastTotalTouches=this.totalTouches();if(e!==this._lastTotalTouches){this._changedTouchesNumber=this._lastTotalTouches-e;if(this._lastTotalTouches===0){this.state=r.Ended}else{this.state=r.Changed}}}};a.prototype.doTouchCancel=function(){return this.doTouchEnd()};a.prototype.changedTouchesNumber=function(){return this._changedTouchesNumber};return a});define("sap/viz/framework/interaction/MobileMonitor",["sap/viz/framework/common/util/oo","sap/viz/framework/interaction/BaseMonitor","sap/viz/framework/common/util/UADetector","sap/viz/framework/interaction/gesture/PanGestureDetector","sap/viz/framework/interaction/gesture/PinchGestureDetector","sap/viz/framework/interaction/gesture/TouchChangeGestureDetector","sap/viz/framework/interaction/gesture/GestureDetector","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,r,a,n,o,s){var l=o.TransitionState;var u=5;var c=["click","hover","down","up","lassostart","lassomove","lassoend","dragstart","dragmove","dragend","pinchstart","pinchmove","pinchend","touchchange"];var f=function(e){this._dispatch=d3.dispatch.apply(this,c);this._isMobile=true;this._props={enableClick:true,enableHover:false,enableDown:true,enableUp:true,enableLasso:true,enableDrag:true,enablePinch:true};this._eventLayer=null;this._gestureDetectors=[];this.registerEvent(e);this._startPoint=null;this._focusTarget=null;this._status="standby"};e.extend(f,t);f.getMonitorEventTypes=f.prototype.getMonitorEventTypes=function(){return c};f.prototype.registerEvent=function(e){this._eventLayer=e;var t=new r;t.addGestureAction(this._panHandler.bind(this));this.addGestureDetector(t);t=new a;t.addGestureAction(this._pinchhandler.bind(this));this.addGestureDetector(t);t=new n;t.addGestureAction(this._touchChangeHandler.bind(this));this.addGestureDetector(t);var o=this._touchHandler.bind(this);if(i.isWindowsSurface()){this._eventLayer.on("pointerdown.monitor",o).on("pointermove.monitor",o).on("pointerup.monitor",o).on("pointercancel.monitor",o).on("pointerleave.monitor",o)}else{this._eventLayer.on("touchstart.monitor",o).on("touchmove.monitor",o).on("touchend.monitor",o).on("touchcancel.monitor",o)}return this};f.prototype.addGestureDetector=function(e){if(e instanceof o){e.enable(true);this._gestureDetectors.push(e)}};f.prototype.destroy=function(){f.superclass.destroy.apply(this);var e=this._eventLayer;this._eventLayer=null;if(e){if(i.isWindowsSurface()){e.on("pointerdown.monitor",null).on("pointermove.monitor",null).on("pointerup.monitor",null).on("pointercancel.monitor",null).on("pointerleave.monitor",null)}else{e.on("touchstart.monitor",null).on("touchmove.monitor",null).on("touchend.monitor",null).on("touchcancel.monitor",null)}}this._dispatch=null;this._props=null;this._startPoint=null;this._focusTarget=null;this._status=null;this._gestureDetectors=null};f.prototype.getOriginalEvent=function(){return this._originalEvent};f.prototype._touchHandler=function(){function e(){if(d3.event){return d3.event}else{return window.event}}function t(e){if(e.type==="pointerdown"||e.type==="pointermove"||e.type==="pointerup"||e.type==="pointercancel"||e.type==="pointerleave"){var t={clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,identifier:e.pointerId,target:e.target};e.touches=[t];e.changedTouches=[t];e.targetTouches=[t]}}function i(e,t){for(var i=0,r,a=e.length;i<a;i++){r=e[i];switch(t.type){case"pointerdown":case"touchstart":r.touchBegin(t);break;case"pointermove":case"touchmove":r.touchMove(t);break;case"pointerup":case"touchend":case"pointerleave":r.touchEnd(t);break;case"pointercancel":case"touchcancel":r.touchCancel(t);break}}}var r=e();this._originalEvent=r;t(r);i(this._gestureDetectors,r)};function m(e,t){if(!e||!e.getAttribute){return false}if(e===t){return true}else if(e.parentNode){return m(e.parentNode,t)}return false}function p(e,t){var i=e.x-t.x;var r=e.y-t.y;return Math.sqrt(i*i+r*r)}f.prototype._panHandler=function(e){var t=this._status;var r=e.globalLocOfTouchPoints();var a=document.elementFromPoint(r.x,r.y);switch(e.state){case l.Began:if(t==="lasso"||t==="drag"){this._fireEvent(t+"end",{point:r})}if(this._startPoint&&this._focusTarget){this._fireEvent("up",{point:this._startPoint,target:this._focusTarget})}this._lastPoint=this._startPoint=r;this._focusTarget=a;this._status="focus";this._fireEvent("hover",{point:r,target:a});this._fireEvent("down",{point:r,target:a});break;case l.Changed:if(t==="standby"){return}var n=this._props.enableLasso&&!i.isWindowsPhone()&&e.isLongPress()?"lasso":"drag";if(i.isWindowsSurface()&&n==="drag"&&this.getOriginalEvent().pointerType==="mouse"){return}switch(t){case"focus":this._status=n;this._fireEvent("up",{point:this._startPoint,target:this._focusTarget});this._fireEvent(n+"start",{point:this._startPoint,target:a});this._fireEvent(n+"move",{point:r,target:a});break;case"lasso":case"drag":if(!m(a,this._eventLayer.node())){this._fireEvent(t+"end",{point:r});this.resetStatus()}else{var o=this.getOriginalEvent();if(o.cancelable){if(p(r,this._lastPoint)>u){this._fireEvent(t+"move",{point:r,target:a});this._lastPoint=r}else{o.preventDefault()}}}break}break;case l.Ended:switch(t){case"focus":this._fireEvent("up",{point:this._startPoint,target:this._focusTarget});this._fireEvent("click",{point:this._startPoint,target:this._focusTarget});break;case"lasso":case"drag":if(!m(a,this._eventLayer.node())){this._fireEvent(t+"end",{point:r})}else{this._fireEvent(t+"end",{point:r,target:a})}break}this.resetStatus();break;case l.Canceled:case l.Failed:switch(t){case"focus":this._fireEvent("up",{point:this._startPoint,target:this._focusTarget});break;case"lasso":case"drag":this._fireEvent(t+"end",{point:r,target:a});break}this.resetStatus();break}if(t==="lasso"){var s=this.getOriginalEvent();if(s.cancelable){s.preventDefault()}}};f.prototype._touchChangeHandler=function(e){var t=e.totalTouches();this._fireEvent("touchchange",{point:e.globalLocOfTouchPoints(),totalTouchesNumber:t,changedTouchesNumber:e.changedTouchesNumber()});if(t>1){this.getOriginalEvent().preventDefault()}};var h=.95,d=1.05;f.prototype._pinchhandler=function(e){var t=e.globalLocOfGesture();var i=Math.round(e.scale()*100)/100;function r(e){var r=i/this._lastScale;if(r>d||r<h){this._fireEvent(e,{point:t,scale:i});this._lastScale=i}}switch(e.state){case l.Began:this._fireEvent("pinchstart",{point:t,scale:i});this._lastScale=i;break;case l.Changed:r.call(this,"pinchmove");break;default:r.call(this,"pinchend");break}this.getOriginalEvent().preventDefault()};function g(e){return"enable"+e.substring(0,1).toUpperCase()+e.substring(1)}f.prototype._fireEvent=function(e,i){var r={name:e,data:{point:i.point,pointToChart:t.getRelativeCoordinate(i.point,this._eventLayer.node()),target:this._eventLayer.node(),originalEvent:this.getOriginalEvent()}};s.extend(true,r.data,i);if(["click","hover","down","up"].indexOf(e)>-1){var a=g(e);if(this._props[a]){this._dispatch[e](r)}}else if(["dragstart","dragmove","dragend"].indexOf(e)>-1){if(this._props.enableDrag){this._dispatch[e](r)}}else if(["pinchstart","pinchmove","pinchend"].indexOf(e)>-1){if(this._props.enablePinch){this._dispatch[e](r)}}else{this._dispatch[e](r)}};return f});define("sap/viz/framework/common/util/EventDispatch",[],function(){var e=function(){this._edp_dispatch=d3.dispatch.apply(d3,arguments);this._copyEventTypes(this._edp_dispatch,false)};e.prototype._copyEventTypes=function(e,t){for(var i in e){if(e.hasOwnProperty(i)){this[i]=e[i];if(t){this._edp_dispatch[i]=e[i]}}}};e.prototype.addEventTypes=function(){var e=d3.dispatch.apply(d3,arguments);this._copyEventTypes(e,true);return this};e.prototype.on=function(e,t){return this._edp_dispatch.on(e,t)};e.prototype.destroy=function(){var e=this._edp_dispatch;if(e){for(var t in e){if(e.hasOwnProperty(t)){e.on(t,null)}}}this._edp_dispatch=null};return e});define("sap/viz/framework/interaction/ActionItem",["sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/TypeUtils"],function(e,t){var i=e.BEHAVIOR.DEFAULT_CHART_TYPE_KEY;var r=e.BEHAVIOR.ALL_TARGETS;var a=function(e){this._trigger=null;this._handlers=null;if(e){var i=e.triggerEvent;if(i){if(e.destroy&&t.isFunction(e.destroy)){i.onBeforeUnregistered=e.destroy}this.setTrigger(i)}if(e.handler){this.setHandler(e.handler)}}};a.prototype.clone=function(){var e=new a;e.setTrigger(this._trigger);this._handlers.forEach(function(t){e.addHandler(t)});return e};function n(e){if(t.isArray(e)){return e}else if(t.isString(e)){return[e]}else{return null}}a.prototype.setTrigger=function(e){var a=this._trigger;if(!a){a=this._trigger={}}a.name=e.name;a.excludeTargets=n(e.excludeTargets);[{field:"targets",defaultValue:r},{field:"supportedChartTypes",defaultValue:i}].forEach(function(t){var i=e[t.field];if(i==null||i===t.defaultValue){a[t.field]=t.defaultValue}else{a[t.field]=n(i)}});["onAfterRegistered","onBeforeUnregistered"].forEach(function(i){a[i]=t.isFunction(e[i])?e[i]:null});return this};a.prototype.getTrigger=function(){return this._trigger};a.prototype.setHandler=function(e){this.removeHandler();this.addHandler(e);return this};a.prototype.addHandler=function(e){if(!t.isFunction(e)){return this}if(!this._handlers){this._handlers=[]}this._handlers.push(e);return this};a.prototype.removeHandler=function(e){if(arguments.length){var t=this._handlers.indexOf(e);if(t>-1){this._handlers.splice(t,1)}}else{this._handlers=null}return this};a.prototype.getHandler=function(){return this._handlers};a.prototype.destroy=function(){this._trigger=null;this._handlers=null};return a});define("sap/viz/framework/interaction/ActionItemAdapter",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/oo","sap/viz/framework/interaction/ActionItem"],function(e,t,i){var r="supportedChartTypes";var a=function(e,t){this._behavior=e;this._trigger=t;this.initHandler(t.handler);this._actionId=t.id;var a=this._handler;var n=t.triggerEvent;for(var o=0;o<n.length;o++){var s={id:this._actionId+"."+n[o].method,triggerEvent:null,handler:null};s.triggerEvent=n[o];if(t[r]!=null&&n[o][r]==null){s.triggerEvent[r]=t[r]}["onAfterRegistered","onBeforeUnregistered"].forEach(function(e){if(n[o][e]){s[e]=n[o][e];s.triggerEvent[e]=null;delete s.triggerEvent[e]}});s.handler=a[n[o].method].bind(a);var l=new i(s);e.addAction(s.id,l)}};t.extend(a,i);a.prototype.initHandler=function(t){this._handler=e.isFunction(t)?new t:t};a.prototype.clone=function(t){var i={};for(var r in this._trigger){if(this._trigger.hasOwnProperty(r)){if(e.isArray(this._trigger[r])){i[r]=this._trigger[r].slice()}else{i[r]=this._trigger[r]}}}var n=new a(t,i);return n};a.prototype.removeActionByMethodName=function(e){var t=this._behavior.getAllActions();for(var i in t){if(t.hasOwnProperty(i)){if(i.indexOf(this._actionId+".")===0){var r=i.split(".")[1];if(r==null){continue}if(r!==e){continue}delete t[i];break}}}var a=this._trigger.triggerEvent;for(var n=0;n<a.length;n++){if(a[n].method===e){a.splice(n,1)}}};a.prototype.setTrigger=function(t){if(!e.isArray(t)){t=[t]}var r=this._behavior.getAllActions();var a=[];for(var n in r){if(r.hasOwnProperty(n)){if(n.indexOf(this._actionId+".")!==0){continue}a.push(n)}}a.forEach(function(e){this.removeActionById(e)},this._behavior);this._trigger=t;for(var o=0;o<t.length;o++){var s=t[o];if(s.name==null||s.method==null){throw"name / method attribute is required"}var l=s.method;s.id=this._actionId+"."+l;s.triggerEvent=s;s.handler=this._handler[l].bind(this._handler);this._behavior.addAction(s.id,new i(s))}};a.prototype.setHandler=function(e){this._trigger.handler=e;this.initHandler(e);var t=this._behavior.getAllActions();for(var i in t){if(t.hasOwnProperty(i)){if(i.indexOf(this._actionId+".")===0){var r=i.split(".")[1];if(r==null){continue}t[i].setHandler(this._handler[r].bind(this._handler))}}}};a.prototype.getHandler=function(){return this._handler};return a});define("sap/viz/framework/interaction/ActionItemUtil",["sap/viz/framework/interaction/ActionItem","sap/viz/framework/interaction/ActionItemAdapter","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,r){function a(e,t){e.forEach(function(e){if(t[e]==null){throw e+" must be defined."}})}var n=function(e){a(["id","handler","triggerEvent"],e);var t=e.triggerEvent;if(!i.isArray(t)){throw"triggerEvent must be an array."}t.forEach(function(e){a(["name","method"],e)})};function o(e,i){n(i);var a=r.extend(true,{},i);var o=a.id;var s=new t(e,a);e.addAction(o,s)}return{requiredCheck:a,validConfig:n,createActionItems:o}});define("sap/viz/framework/interaction/Behavior",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/EventDispatch","sap/viz/framework/interaction/ActionItem","sap/viz/framework/interaction/ActionItemUtil"],function(e,t,i,r){var a=function(){this._actionItems={};this._evtDisp=null};a.prototype.clone=function(){var e=new a;for(var t in this._actionItems){if(this._actionItems.hasOwnProperty(t)){var i=this._actionItems[t];if(!e.getActionById(t)){e.addAction(t,i.clone(e))}}}return e};a.prototype.addActionByDef=function(e){if(e.handlerType==="class"){r.createActionItems(this,e)}else{this.addAction(e.id,new i(e))}};a.prototype.addAction=function(e,t){if(t instanceof i){var r=this._actionItems[e];if(r&&r.getTrigger().onBeforeUnregistered){r.getTrigger().onBeforeUnregistered.call(this)}this._actionItems[e]=t;if(t.getTrigger().onAfterRegistered){t.getTrigger().onAfterRegistered.call(this)}}return this};a.prototype.getActionById=function(e){if(this._actionItems[e]){return this._actionItems[e]}return null};a.prototype.removeActionById=function(e){var t=this._actionItems[e];if(t&&t.getTrigger().onBeforeUnregistered){t.getTrigger().onBeforeUnregistered.call(this)}delete this._actionItems[e];return this};a.prototype.getAllActions=function(e){return this._actionItems};a.prototype.trigger=function(e,t,i){var r=this._actionItems[e];if(!r){return}var a;r.getHandler().forEach(function(r){a=r(t,i,e)},this);return a};a.prototype.destroy=function(){for(var e in this._actionItems){if(this._actionItems.hasOwnProperty(e)){this.removeActionById(e)}}this._actionItems=null;this._evtDisp=null};return a});define("sap/viz/framework/interaction/BehaviorFactory",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/interaction/Behavior","sap/viz/framework/interaction/ActionItem"],function(e,t,i,r){function a(t,i){i.forEach(function(i){if(e.isArray(i)){i.forEach(function(e){t.addActionByDef(e)})}})}var n={buildBehavior:function(i,r){var n=r instanceof t?r:new t;var o=i;if(!e.isArray(i)){o=[i]}a(n,o);return n}};return n});define("sap/viz/framework/interaction/BehaviorManager",["sap/viz/framework/interaction/Behavior","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorFactory"],function(e,t,i,r){var a={_map:{},_extTypes:[],get:function(t,i){if(t&&this._map[t]){this._map[t].updated=false;return this._map[t].bhr}else{return arguments.length===2?i:new e}},register:function(i,r){if(r instanceof e){if(!this._map[i]||!this._map[i].bhr||!this._map[i].bhr._actionItems){this._map[i]={};this._map[i].bhr=r}else{if(this._map[i].bhr!==r){t.extend(this._map[i].bhr._actionItems,r._actionItems)}}this._map[i].updated=true}return this},registerAll:function(e,t){t=t||e;this.register(i.BEHAVIOR.DEFAULT_BEHAVIOR_ID,r.buildBehavior([e]));for(var a=0;a<this._extTypes.length;++a){this.register(this._extTypes[a],r.buildBehavior([e]))}this.register(i.BEHAVIOR.NOHOVER_BEHAVIOR_ID,r.buildBehavior([t]))},addBehaviorType:function(e){this._extTypes.push(e)},unregister:function(e){if(this._map[e]){this._map[e].bhr.destroy();delete this._map[e]}return this},hasUpdate:function(e){if(this._map[e]){return this._map[e].updated}else{return false}},has:function(e){if(this._map[e]){return true}else{return false}}};return a});define("sap/viz/framework/common/util/SVG",[],function(){var e="http://www.w3.org/2000/svg";var t=10;var i=1;var r=2;var a=2;function n(e){var t="";var i=true;for(var r=0;r<e.length;r++){if(!e[r]){i=true}else{t=t&&!i?t+"L":t+"M";t+=e[r][0]+","+e[r][1];i=false}}return t}function o(e,t){if(e.some(function(e){return!e})){return l(e,t)}else{return s(e,t)}}function s(e,r){var a=e.length;if(a<2){return e}var n=r.isHorizontal;var o,s;if(n){o=1;s=0}else{o=0;s=1}var l=e[0];var c=l[o];var f=Math.abs(c-e[a-1][o]);var m=+r.density;if(isNaN(m)){m=t}var p=+r.rangeUnit;if(isNaN(p)){p=i}if(f===0||a/f*p<=m){return e}var h=function(e){return function(t){return Math.ceil(t/e)*e}}(p);var d=l[s];var g=[];var v=h(c);var y=d,_=d,A=d,b=d;var S;var M={isHorizontal:n,position:null,startValue:null,endValue:null,minValue:null,maxValue:null};for(var D=0,E,T,x,I,z;D<a;++D){E=e[D];T=E[s];x=E[o];if(x>v){z=_;if(I){z+=(T-_)/(x-I)*(h(x)-p-I)}M.position=v;M.startValue=y;M.endValue=z;M.minValue=A;M.maxValue=b;S=u(M);g=g.concat(S);v=h(x);y=z;A=T;b=T;_=T}else{A=Math.min(A,T);b=Math.max(b,T);_=T;if(D===a-1){M.position=v;M.startValue=y;M.endValue=_;M.minValue=A;M.maxValue=b;S=u(M);g=g.concat(S)}}I=x}return g}function l(e,t){return e}function u(e){var t,i;if(e.isHorizontal){t=1;i=0}else{t=0;i=1}var r=[];var a=function(e,t,i,r){return function(a){a.forEach(function(a){var n=[];n[t]=e;n[i]=a;r.push(n)})}}(e.position,t,i,r);var n=e.startValue;var o=e.endValue;var s=Math.min(n,o,e.minValue);var l=Math.max(n,o,e.maxValue);var u=.5;if(s<l&&l-s<u){l=s+u}if(l===s){a([l])}else if(n===l&&o===s||n===s&&o===l){a([n,o])}else if(n===s||o===s){a([n,l,o])}else if(n===l||o===l){a([n,s,o])}else{a([n,s,l,o])}return r}return{create:function(t,i,r){var a=i?i.ownerDocument:window.document;var n=i?i.namespaceURI:e;var o=a.createElementNS(n,t);return i?r?i.parentNode.insertBefore(o,i):i.appendChild(o):o},createSVGNode:function(t){return document.createElementNS(e,t)},simplifyPoints:o,outputPath:n,generatePath:function(e){var t=e.points;var i;var r=e==null||e.isHorizontal==null?t:o(t,e);i=n(r);return i},generateMarkerPath:function(e){var t;var i=e.borderWidth/2;var n,o;if(!e.innerBorder){n=e.rx+i;o=e.ry+i}else{n=e.rx-i;o=e.ry-i;i=-i}switch(e.type){case"circle":t="M"+-n+",0 A"+n+","+o+" 0 1,0 "+n+",0 A";t+=n+","+o+" 0 1,0 "+-n+",0z";break;case"cross":t="M"+-n+","+(-e.ry/3-i)+"H"+(-e.rx/3-i)+"V"+-o+"H"+(e.rx/3+i);t+="V"+(-e.ry/3-i)+"H"+n+"V"+(e.ry/3+i)+"H"+(e.rx/3+i);t+="V"+o+"H"+(-e.rx/3-i)+"V"+(e.ry/3+i)+"H"+-n+"Z";break;case"diamond":t="M0,"+-o+"L"+n+",0"+" 0,"+o+" "+-n+",0"+"Z";break;case"square":t="M"+-n+","+-o+"L"+n+",";t+=-o+"L"+n+","+o+"L"+-n+","+o+"Z";break;case"rectangle":t="M"+-n+","+(-e.ry/2-i)+"L"+n+",";t+=-e.ry/2-i+"L"+n+","+(e.ry/2+i)+"L"+-n+","+(e.ry/2+i)+"Z";break;case"triangle-down":case"triangleDown":t="M0,"+o+"L"+n+","+-o+" "+-n+","+-o+"Z";break;case"triangle-up":case"triangleUp":t="M0,"+-o+"L"+n+","+o+" "+-n+","+o+"Z";break;case"triangle-left":case"triangleLeft":t="M"+-n+",0L"+n+","+o+" "+n+","+-o+"Z";break;case"triangle-right":case"triangleRight":t="M"+n+",0L"+-n+","+o+" "+-n+","+-o+"Z";break;case"intersection":t="M"+n+","+o+"L"+(e.rx/3+i)+",0L"+n+","+-o+"L";t+=e.rx/2-i+","+-o+"L0,"+(-e.ry/3-i)+"L"+(-e.rx/2+i)+","+-o+"L";t+=-n+","+-o+"L"+-(e.rx/3+i)+",0L"+-n+","+o+"L";t+=-e.rx/2+i+","+o+"L0,"+(e.ry/3+i)+"L"+(e.rx/2-i)+","+o+"Z";break;case"squareWithRadius":var s=e.rx;var l=s-3;t="M0,"+-s+"L"+-l+","+-s+"Q"+-s+","+-s+" "+-s+","+-l+"L"+-s+","+l+"Q"+-s+","+s+" "+-l+","+s;t+="L"+l+","+s+"Q"+s+","+s+" "+s+","+l+"L"+s+","+-l+"Q"+s+","+-s+" "+l+","+-s+"Z";break;case"vbar":t="M"+-e.rx/3+","+-e.ry+"H"+e.rx/3+"V"+e.ry+"H"+-e.rx/3+"Z";break;case"vertial-target-line":t="M"+-r/2+","+-e.ry+"H"+r/2+"V"+e.ry+"H"+-r/2+"Z";break;case"horizontal-target-line":t="M"+-e.rx+","+-r/2+"H"+e.rx+"V"+r/2+"H"+-e.rx+"Z";break;case"squareWithLine":t="M"+-e.rx*2+","+-a/2+"H"+-n/2+"V"+a/2+"H"+-e.rx*2+"Z";t+="M"+e.rx*2+","+-a/2+"H"+n/2+"V"+a/2+"H"+e.rx*2+"Z";t+="M"+-n/2+",0 A"+n/2+","+o/2+" 0 1,0 "+n/2+",0 A";t+=n/2+","+o/2+" 0 1,0 "+-n/2+",0z";break;case"line":t="M"+-(e.rx-2)+",0 L"+(e.rx+2)+",0";break}return t},getTransformToElement:function(e,t){var i;if(e.getTransformToElement){try{i=e.getTransformToElement(t)}catch(e){}}else{var r;try{r=t.getScreenCTM().inverse()}catch(e){throw"'target' CTM is not invertible."}i=r.multiply(e.getScreenCTM())}i=i||{a:0,b:0,c:0,d:0,e:0,f:0};return i}}});define("sap/viz/framework/common/util/DataGraphics",[],function(){var e="__data__";var t="__extra_data__";var i="__graphic_info__";var r="__addition_data__";var a="__customization_info__";function n(e){var t=e[0],i=e[1];if(Array.isArray(t)){for(var r=0,a=t.length;r<a;r++){this[t[r]]=i[r]}}else{this[t]=i}}function o(e){var t={};e.forEach(n,t);return t}var s={buildContext:o,setData:function(e,i){e[t]=i},getData:function(e){return e[t]},setContext:function(t,i){var r=Array.isArray(i)?o(i):i;t[e]=r;return r},setAdditionCtx:function(e,t){e[r]=t;return t},getAdditionCtx:function(e){return e[r]},getContext:function(t){return t[e]},setGraphicInfo:function(e,t){e[i]=t},getGraphicInfo:function(e){return e[i]},setCustomizationInfo:function(e,t){e[a]=t},getCustomizationInfo:function(e){return e[a]}};return s});define("sap/viz/framework/common/util/CSSUtils",["sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/Constants"],function e(t,i){var r={setDOMStyle:function(e,t){if(t.length>0){var r=t.split(i.STYLE.SEMICOLON);for(var a=0;a<r.length;a++){if(r[a].length>0){var n=r[a].split(i.STYLE.COLON);if(n.length>1){e.style[n[0].trim()]=n[1].trim()}}}}}};return r});define("sap/viz/framework/interaction/ActionLayer",["sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/CSSUtils","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i,r,a,n){var o="v-m-action-layer";var s="position: absolute; left: 0px; top: 0px; pointer-events: none; width: 100%; height: 100%";function l(e,t){for(var i in t){if(t.hasOwnProperty(i)){if(t[i]==null){e.removeAttribute(i)}else{e.setAttribute(i,t[i])}}}}function u(e,t){return t.indexOf(e)}function c(e){var t=u(e,this._displayModels);if(t===-1){return null}return this._displayList[t]}function f(t,i){var r=u(i,this._displayModels);if(r===-1){return}e.remove(this._displayList[r]);this._displayList.splice(r,1);this._displayModels.splice(r,1)}function m(){if(this._isRootDIV){this._svgContainer.parentNode.appendChild(this._svgContainer)}else{this._actionLayerGroup.parentNode.appendChild(this._actionLayerGroup)}}function p(e,t){e.setAttribute("transform","translate("+t.x+", "+t.y+")")}function h(e,i){var r=o+e;var a=this._actionLayerGroup.querySelector("."+r);var s;if(!a){a=t.create("g",this._actionLayerGroup);a.setAttribute("class",r);s=t.create("g",a);s.setAttribute("class",r+"-content");if(i&&i.length){var l=r+"_"+n.guid();var u=t.create("defs",a);var c=t.create("clipPath",u);c.setAttribute("id",l);for(var f=0;f<i.length;f++){k[i[f].method].call(this,i[f].shape,c)}s.setAttribute("clip-path","url(#"+l+")")}}else{s=a.querySelector("."+r+"-content")}return{layer:a,content:s}}var d="__default__";function g(){var e=t.create("svg");a.setDOMStyle(e,s);this.rootNode.appendChild(e);return e}function v(e,i){this._displayList=[];this._displayModels=[];this._groupDict={};var r=t.create("g");r.setAttribute("class",i);this._actionLayerGroup=r;this._isRootDIV=e.tagName.toUpperCase()==="DIV";this._svgContainer=null;this._wrapSvgContainer=null;if(this._isRootDIV===false){e.appendChild(r)}else{this._wrapSvgContainer=g.bind({rootNode:e});this._svgContainer=this._wrapSvgContainer();this._svgContainer.appendChild(this._actionLayerGroup);e.appendChild(this._svgContainer)}}function y(e){return t.create("path")}function _(e,t){l(e,{d:t.d,"pointer-events":t.pointerEvent,fill:t.fill,stroke:t.stroke,"stroke-width":t.strokeWidth,"fill-opacity":t.opacity,"stroke-opacity":t.opacity})}var A=function(e){return{graphic:{color:e.color,width:e.width,dash:e.strokeDashArray,linecap:e.linecap},points:e.points,isHorizontal:e.isHorizontal}};function b(e){var i;var r=e.renderer;if(r){var a=A(e);var n=e.defaultLineRenderer;i=r(a,n)}if(!i){i=t.create("path");l(i,{fill:"none","stroke-linejoin":"round"})}return i}function S(e,i){var r=i.renderer;if(r){if(r.update){var a=A(i);var n=i.defaultLineRenderer;r.update(e,a,n);if(i.pointerEvent){e.setAttribute("pointer-events",i.pointerEvent)}}}else{l(e,{d:t.generatePath(i),"pointer-events":i.pointerEvent,"stroke-width":i.width,stroke:i.color,"stroke-dasharray":i.strokeDashArray,"stroke-linecap":i.linecap})}}function M(e){return t.create("circle")}function D(e,t){l(e,{cx:t.cx,cy:t.cy,r:t.r,"pointer-events":t.pointerEvent,fill:t.fill,stroke:t.stroke,"stroke-width":t.strokeWidth})}function E(e){return t.create("rect")}function T(e,t){l(e,{x:t.x,y:t.y,width:t.width,height:t.height,"pointer-events":t.pointerEvent,fill:t.fill,stroke:t.stroke,"stroke-width":t.strokeWidth,opacity:t.opacity})}function x(e){return t.create("text")}function I(e,t){if(t){l(e,{x:t.x,y:t.y,"pointer-events":t.pointerEvent,fill:t.fontColor,"font-size":t.fontSize,"font-weight":t.fontWeight,"font-Style":t.fontStyle,"font-family":t.fontFamily,"text-anchor":t.textAnchor});e.textContent=t.text}}function z(e,t){L.call(this,e,t,y,_);return this}function N(e,t){L.call(this,e,t,b,S);return this}function w(e,t){L.call(this,e,t,E,T);return this}function O(e,t){L.call(this,e,t,x,I);return this}function F(e,t){L.call(this,e,t,M,D);return this}function L(e,t,i,a){var n=i||r.noop;var o=a||r.noop;m.call(this);var s=c.call(this,e);if(s==null){this._displayModels.push(e);s=n.call(this,e);t=t||this._actionLayerGroup;t.appendChild(s);this._displayList.push(s)}o.call(this,s,e);var l=e.offset;if(l){s.setAttribute("transform","translate("+l.x+","+l.y+")")}}v.prototype.getBoundingClientRect=function(e){var t=c.call(this,e);return t.getBoundingClientRect()};v.prototype.clearRange=function(){this.clear("range")};v.prototype.clear=function(e){var t,i;var r;if(e==null){while((r=this._actionLayerGroup.firstChild)!=null){this._actionLayerGroup.removeChild(r)}this._displayList=[];this._displayModels=[];this._groupDict={}}else{t=this._groupDict[e];if(t){i=this._actionLayerGroup.querySelector("."+o+e);t.forEach(function(e){f.call(this,i,e)},this);this._actionLayerGroup.removeChild(i);this._groupDict[e]=null;delete this._groupDict[e]}}return this};v.prototype.drawLayer=function(e,t){if(!(e instanceof R)){return}if(t){var i=e.getMaskManager();i.addRect(t)}var r=e.getId();if(!r){r=d}if(this._groupDict[r]==null){this._groupDict[r]=[]}var a=h.call(this,r,e.getAllMasks());var n=e.getOffset();if(n!=null){n.x=n.x||0;n.y=n.y||0;p(a.layer,n)}var s=e.children();for(var l=0;l<s.length;l++){k[s[l].method].call(this,s[l].shape,a.content);this._groupDict[r].push(s[l].shape)}return this._actionLayerGroup.querySelector("."+o+r)};v.prototype.createLayer=function(e,t){return new R(e,t)};function R(e,t){this._id=e;this._offset=t;this._children=[];this._masks=[];this._maskMgr=new C(this)}R.prototype.addPath=function(e){this._children.push({method:"path",shape:e})};R.prototype.addRect=function(e){this._children.push({method:"rect",shape:e})};R.prototype.addPolyLine=function(e){this._children.push({method:"polyLine",shape:e})};R.prototype.addText=function(e){this._children.push({method:"text",shape:e})};R.prototype.addCircle=function(e){this._children.push({method:"circle",shape:e})};R.prototype.getMaskManager=function(){return this._maskMgr};R.prototype.getId=function(){return this._id};R.prototype.getOffset=function(){return this._offset};R.prototype.children=function(){return this._children};R.prototype.getAllMasks=function(){return this._masks};function C(e){this._layer=e}C.prototype.addRect=function(e){this._layer._masks.push({method:"rect",shape:e})};var k={polyLine:N,rect:w,path:z,text:O,circle:F};return v});define("sap/viz/framework/common/util/FiscalUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/Constants"],function(e,t,i){var r={};var a="timeAxis.fiscal";var n="timeAxis.levels";var o=12;var s="*";var l=1970;var u=1;var c=1e3;var f=1e4;var m="default";var p=".parsedValue";var h="0";var d="00";var g=1e-5;r.isFiscal=function(e){var t;var r=false;var a=e&&e._FlatTableD&&e._FlatTableD._dataset&&e._FlatTableD._dataset.metadata&&e._FlatTableD._dataset.metadata.fields;if(a){for(t=0;t<a.length;t++){if(a[t]&&a[t].timeUnitType&&(a[t].timeUnitType===i.FISCAL.UNITTYPE_YEAR||a[t].timeUnitType===i.FISCAL.UNITTYPE_YEARPERIOD)){r=true;break}}}return r};r.extractFiscalObj=function(e){var n=null;var o=e.get(a);if(o){if(o.periodNumbers&&o.periodNumbers[m]){n={};n.periodNumbers=t.clone(o.periodNumbers.deviations);if(!n.periodNumbers){n.periodNumbers={}}n.periodNumbers[s]=o.periodNumbers[m]}else{n=t.clone(o)}if(r.extractUnitType(e)===i.FISCAL.UNITTYPE_YEAR){n.periodNumbers={}}}return n};r.extractUnitType=function(e){var t=i.FISCAL.UNITTYPE_YEARPERIOD;var r=e.get(n);if(r&&r.length===1&&r[0]===i.FISCAL.YEAR){t=i.FISCAL.UNITTYPE_YEAR}return t};r.startEndConvertor=function(e,t,i){var a={start:e,end:t};var n=r.hasFiscalLevel(i);if(n){a.start=r.fiscalToQuantity(e,i);a.end=r.fiscalToQuantity(t,i)}return a};r.hasFiscalLevel=function(e){var t=false;if(e){var r=e.get(n);if(r){var a;for(a=0;a<r.length;a++){if(r[a]===i.FISCAL.YEAR||r[a]===i.FISCAL.PERIOD){t=true;break}}}}return t};r.fiscalToQuantity=function(e,t){var i=t;if(!i.periodNumbers){i=r.extractFiscalObj(t)}var a;var n=parseInt(e);if(isNaN(n)){a=e}else{var c=r.fiscalStampToObj(n,t);var f=c.fiscalYear;var m=c.fiscalPeriod;var p=o;if(i&&i.periodNumbers&&i.periodNumbers[s]){p=i.periodNumbers[s]}var h=p;if(i&&i.periodNumbers&&i.periodNumbers[f]){h=i.periodNumbers[f]}if(m>h){a=null}else{var d=f;var g=l;if(f>l){d=l;g=f}a=(f-l)*p;a+=m-u;if(i&&i.periodNumbers){var v;var y;for(v in i.periodNumbers){if(i.periodNumbers.hasOwnProperty(v)&&v!==s){y=parseInt(v);if(y>=d&&y<g){if(a>0){a+=i.periodNumbers[v]-p}else{a-=i.periodNumbers[v]-p}}}}}}}return a};r.fiscalStampToObj=function(e,t){var a=parseInt(e);var n=r.extractUnitType(t);var o;var s;if(a<f){o=a;s=u}else{o=Math.floor(a/c);s=a%c}var l={};l.fiscalYear=o;l.fiscalPeriod=s;l.fiscalString=o.toString();if(n===i.FISCAL.UNITTYPE_YEARPERIOD){var m=s.toString();if(s<10){m=d+m}else if(s<100){m=h+m}l.fiscalString+=m}return l};r.fiscalYearCeil=function(e,t){var i=r.quantityToFiscal(e,t);var a=t;if(!a.periodNumbers){a=r.extractFiscalObj(t)}var n=a.periodNumbers&&a.periodNumbers[i.fiscalYear];if(!n){n=o;if(a.periodNumbers&&a.periodNumbers[s]){n=a.periodNumbers[s]}}return e+(n-i.fiscalPeriod)+(1-g)};r.fiscalYearFloor=function(e,t){var i=r.quantityToFiscal(e,t);return e-(i.fiscalPeriod-1)};r.nextFiscalStamp=function(e,t){var i=r.fiscalYearCeil(e,t);return i+g};r.getFiscalYearNumber=function(e,t,i){var a=r.quantityToFiscal(e,i);var n=r.quantityToFiscal(t,i);return n.fiscalYear-a.fiscalYear+1};r.quantityToFiscal=function(e,t){var a={};a.fiscalYear=l;a.fiscalPeriod=u;var n=t;if(!n.periodNumbers){n=r.extractFiscalObj(t)}var c=o;if(n.periodNumbers&&n.periodNumbers[s]){c=n.periodNumbers[s]}var f=l;var m=u;var p;if(e>=0){for(p=0;p<=e;f++){a.fiscalYear=f;a.fiscalPeriod=u+(e-p);if(n.periodNumbers&&n.periodNumbers[f]){p+=parseInt(n.periodNumbers[f])}else{p+=c}}}else{for(p=0;p>e;){f--;if(n.periodNumbers&&n.periodNumbers[f]){p-=parseInt(n.periodNumbers[f])}else{p-=c}a.fiscalYear=f;a.fiscalPeriod=e-p+1}}a.fiscalString=a.fiscalYear.toString();if(r.extractUnitType(t)===i.FISCAL.UNITTYPE_YEARPERIOD){var g=a.fiscalPeriod.toString();if(a.fiscalPeriod<10){g=d+g}else if(a.fiscalPeriod<100){g=h+g}a.fiscalString+=g}return a};r.pickPeriodValues=function(e,t,i,a,n,l){var u=a;if(!a){u=Infinity}var c=Math.ceil(e);var f=Math.floor(t);var m=l;if(!m.periodNumbers){m=r.extractFiscalObj(l)}var p=o;if(m.periodNumbers&&m.periodNumbers[s]){p=m.periodNumbers[s]}var h=[];var d;var g;var v;for(d=c;d<=f;){if(d===c){var y=r.quantityToFiscal(d,l);g=y.fiscalYear;v=y.fiscalPeriod}var _;if(m.periodNumbers&&m.periodNumbers[g]){_=parseInt(m.periodNumbers[g])}else{_=p}if(v+i<=_+1){h.push(d);d+=i;v+=i}else{d+=_-v+1;v=1;g++}if(h.length>=u){break}}return h};r.pickYearValues=function(e,t,i,a,n){var l=a;if(!a){l=Infinity}var c=Math.ceil(e);var f=Math.floor(t);var m=n;if(!m.periodNumbers){m=r.extractFiscalObj(n)}var p=o;if(m.periodNumbers&&m.periodNumbers[s]){p=m.periodNumbers[s]}var h=[];var d;var g;for(d=c;;){if(d===c){var v=r.quantityToFiscal(d,n);g=v.fiscalYear;var y=v.fiscalPeriod;if(y===u){h.push(d)}if(m.periodNumbers&&m.periodNumbers[g]){d+=parseInt(m.periodNumbers[g])-y+1}else{d+=p-y+1}h.push(d);g++}else{if(m.periodNumbers&&m.periodNumbers[g]){d+=parseInt(m.periodNumbers[g])}else{d+=p}if(d<=f){h.push(d);g++}else{break}}if(h.length>=i*l){break}}var _=[];for(d=0;d<h.length;d+=i){_.push(h[d]);if(_.length>=l){break}}return _};r.isSameFiscalPeriod=function(e,t){return e===t};r.isSameFiscalYear=function(t,i){var a=t===i;if(e.isExist(t)&&e.isExist(i)){var n=r.quantityToFiscal(t,this._properties.origin).fiscalYear;var o=r.quantityToFiscal(i,this._properties.origin).fiscalYear;a=n===o}return a};r.tooltipDataToDate=function(e){if(e&&e.value&&(e.value[i.FISCAL.UNITTYPE_YEAR]!=null||e.value[i.FISCAL.UNITTYPE_PERIOD]!=null)){e.value=t.clone(e.value);e.value.day=e.value[i.FISCAL.UNITTYPE_YEAR];e.value.time=e.value[i.FISCAL.UNITTYPE_PERIOD]}};r.removeParsedValues=function(e){var i;if(e&&e.data&&e.data.length){for(i=0;i<e.data.length;i++){var r=e.data[i].data;var a=null;for(var n in r){if(r.hasOwnProperty(n)){a=n+p;if(e.data[i].data[a]!=null){break}}}if(a){e.data[i].data=t.clone(e.data[i].data);delete e.data[i].data[a]}}}};return r});define("sap/viz/framework/interaction/InteractionService",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/interaction/ActionLayer","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/SVG"],function(e,t,i,r,a,n){var o=["getSize","getRealSize","zoom","scroll","getHScrollbar","getVScrollbar","hitTest","hitTestForRangeSelection","getMaxZoomRatio","getOffset","update","getRealSizeByFixedDPSize","getSeries","getActiveLevels","getActiveLabels","getRange","getScale","getCellPosition","isHorizontal","isVisible","isLabelVisible","getType","getDataPointPosition","getCellPosition","getScrollbar","loadMore","panStart","panMove","panEnd","getAxisBinding","mappingDataPointInfo","getSeriesStyle","getZoomer","isMarkerVisible","setLastSeries","getFormatTimeValue","getFiscalUnitLabels","drawAreaRefLine","getChildPlot","getDataPointShape","getLineRenderer","getDefaultLineRenderer","isOnlyShowingFirstAndLastLabel","getData","getLegendTitleText","getPosition","getSeriesIndex"];function s(e){this._value=e}s.prototype.get=function(){return this._value};var l=r.CSS.CLASS;var u={RADAR_NET:new s(".v-radar-net"),RADAR_AXIS:new s(".v-radar-branch-group .v-axis"),AREA_POINT_GROUP:new s(".v-area-point-group"),AREA:new s("."+l.AREA),AREA_GROUP_SELECTED:new s("."+l.AREA_GROUP_SELECTED),CHART_TITLE:new s(".v-m-title"),AXIS_TITLE:new s(".v-m-axisTitle"),AXIS_BODY:new s(".v-m-axisBody"),LEGEND_GROUP:new s(".v-m-legendGroup"),DATA_LABEL:new s([".v-m-plot .v-datalabel",".v-m-trellis-plot .v-datalabel"]),DIMENSION_LABEL:new s(".v-dimensionlabel"),TRELLIS_AXIS_LEFT:new s(".v-m-axis-position-bound.v-gridcontainer-left"),TRELLIS_AXIS_RIGHT:new s(".v-m-axis-position-bound.v-gridcontainer-right"),TRELLIS_AXIS_BOTTOM:new s(".v-m-axis-position-bound.v-gridcontainer-bottom"),TRELLIS_AXIS_TOP:new s(".v-m-axis-position-bound.v-gridcontainer-top"),TRELLIS_AXIS_TITLE_LEFT:new s(".v-title.viz-axis-title.v-trellistitle-left"),TRELLIS_AXIS_TITLE_RIGHT:new s(".v-title.viz-axis-title.v-trellistitle-right"),TRELLIS_AXIS_TITLE_BOTTOM:new s(".v-title.viz-axis-title.v-trellistitle-bottom"),TRELLIS_AXIS_TITLE_TOP:new s(".v-title.viz-axis-title.v-trellistitle-top"),DATA_POINT:new s("."+l.DATAPOINT),DATA_POINT_GROUP:new s("."+l.DATAPOINT_GROUP),PLOT_NODE:new s(".v-m-plot"),VALUE_POINT:new s(".v-valuepoint"),CATEGORY_LABEL_GROUP:new s(".v-m-categoryAxis ."+l.AXIS.LABEL_GROUP),CATEGORY2_LABEL_GROUP:new s(".v-m-categoryAxis2 ."+l.AXIS.LABEL_GROUP),TIME_LABEL_GROUP:new s(".v-m-timeAxis ."+l.AXIS.LABEL_GROUP),LEGEND_LABEL_GROUP:new s(".v-m-legend .v-groups"),PLOT_BOUND_SELECTION:new s([".v-trellis-plot-bound",".v-plot-bound"]),LEGEND_BODY_BOUND_SELECTION:new s([".v-m-legend .v-legend-body-bound"]),LEGEND_ITEM:new s(".v-legend-item"),EMBEDDED_LEGEND_ITEM:new s(".v-embeddedLegend-item"),MBC_LEGEND_ITEM:new s(".v-mbc-legend-item"),AXIS_ITEM:new s(".v-axis-item"),TIMEAXIS_ITEM:new s("."+r.CSS.CLASS.AXIS.LABEL_SELECTION_TIMEAXIS),TIMEAXIS_ITEM_UPPERLEVEL:new s("."+r.CSS.CLASS.AXIS.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL),AXIS_ITEM_BACKGROUND:new s("."+r.CSS.CLASS.AXIS.BACKGROUND_RECT),TREE_MAP_ITEM:new s(".v-treemapitem"),LINE:new s(".v-lines"),HORIZONTAL_REFERENCE_LINE:new s(".v-referenceline-horizontal"),VERTICAL_REFERENCE_LINE:new s(".v-referenceline-vertical"),ZERO_LINE:new s(".v-zeroline"),BAR_SERIES:new s("."+l.BAR_SERIES_PATH),AREA_REF_LINE:new s("."+l.AREA_REF_LINE),MAIN_NODE:new s(".v-m-main"),VARIANCE1_TITLE:new s(".v-m-varianceTitle1 .v-variance-title"),VARIANCE2_TITLE:new s(".v-m-varianceTitle2 .v-variance-title")};function c(e){this._value=e}c.prototype.get=function(){return this._value};var f={ROOT_NODE:new c("default"),PLOT_NODE:new c(".v-m-plot"),PLOT_MAIN_NODE:new c(".v-plot-main"),PLOT_BOUND_NODE:new c(".v-plot-bound"),RANGE_SELECTION:new c(".v-m-action-layerrange rect")};var m="general.layout.orientation";function p(e){this._value=e}p.prototype.get=function(){return this._value};var h={PLOT_NODE:new p(".v-m-plot"),PLOT_MAIN_NODE:new p(".v-plot-main"),MAIN_NODE:new p(".v-m-main")};function d(e){this._value=e}d.prototype.get=function(){return this._value};var g={PLOT_MAIN_NODE:new d(".v-plot-main")};var v=function(e,i){this._status={};var r=e.runtime;var a=e.rootNode.node();this._rootNode=e.rootNode;this._actionLayer=new t(a,"v-m-action-layer-group");this._decorationLayer=new t(a,"v-m-decoration-layer-group");this._propertyMgr=D(r,!!i);this._statusMgr=E(r);this._envMgr=r.envManager();this._semanticMgr=r.semanticManager();this._effectMgr=r.effectManager();this._dataModelMgr=e.dataModelManager;this._scales=e.scales;this._dispatch=d3.dispatch("fire");this._eventDispatcher=r.eventDispatcher();this._tooltipContainer=e.toolTipContainer;this._rootContainer=e.rootContainer;this._screenReaderContainer=e.screenReaderContainer;this._isHorizontal=I(e.chartView);if(this._propertyMgr.has(m)){var n=this;this._propertyMgr.watch(m,function(e,t){n._isHorizontal=e==="horizontal"})}this.isBigDataMode=w.bind(e.chartView);this.isDisableSyncHightlight=O.bind(e.chartView);this._getRenderType=T.bind(e.chartView);this._getChartType=x.bind(e.chartView);this.getModule=N.bind(e.chartView);this.getNodes=y.bind(e.rootNode);this.getBBox=_.bind(a);this.getOffsetMatrix=A.bind(a);this.getTransformScaleRatio=b.bind(null,a);this.getTransform=S.bind(a);this.setTransform=M.bind(a)};function y(t,i){if(!(t instanceof s)){return null}if(i!==false){i=true}var r=this;var a=null;var n=t.get();if(!e.isArray(n)){n=[n]}for(var o=0;o<n.length;o++){if(i){a=r.selectAll(n[o]);if(!a.empty()){break}}else{a=r.node().querySelectorAll(n[o]);if(a.length!==0){break}}}if(i===false){a.forEach=Array.prototype.forEach}return a}function _(e){if(!(e instanceof c)){return null}var t=this;var r;if(e===f.ROOT_NODE){if(i.isFirefox()){t=t.querySelector(".v-m-background")||t}r=t.getBoundingClientRect();r.x=r.left;r.y=r.top;return r}var a=t.querySelector(e.get());if(a==null){return null}r=a.getBoundingClientRect();r.x=r.left;r.y=r.top;return r}function A(e,t){if(!(e instanceof p)){return null}var i=this;var r=i.querySelector(e.get());if(r==null){return null}return n.getTransformToElement(r,t?i:r.parentNode)}function b(e){var t=e.getBoundingClientRect();var i={width:e.offsetWidth||e.clientWidth||t.width,height:e.offsetHeight||e.clientHeight||t.height};return{x:t.width/i.width,y:t.height/i.height}}function S(e){if(!(e instanceof d)){return null}var t=this;var i=t.querySelector(e.get());if(i==null){return null}return i.getAttribute("transform")}function M(e,t){if(!(e instanceof d)){return null}var i=this;var r=i.querySelector(e.get());if(r==null){return null}r.setAttribute("transform",t)}function D(e,t){var i=e._propertyMgr;var r=i.proxy();r.remove=null;r.names=null;r.load=null;r.serialize=null;if(t===false){r.set=null;r.origin=null}r.setDefault=null;r.reset=null;r.resetDefault=null;r.parentLevel=null;r.proxy=null;return r}function E(e){var t=e.statusManager();var i=t.proxy();i.remove=null;i.names=null;i.load=null;i.serialize=null;i.setDefault=null;i.origin=null;i.reset=null;i.resetDefault=null;i.parentLevel=null;i.proxy=null;return i}v.prototype.NodeType=u;v.prototype.BoxType=f;v.prototype.OffsetType=h;v.prototype.TransformType=g;v.prototype.setStatus=function(e,t){this._status[e]=t;return this};v.prototype.getStatus=function(e){return this._status[e]};v.prototype.removeStatus=function(e){if(this._status){delete this._status[e]}return this};v.prototype.getTooltipContainer=function(){return this._tooltipContainer};v.prototype.getRootContainer=function(){return this._rootContainer};v.prototype.getScreenReaderContainer=function(){return this._screenReaderContainer};v.prototype.getProperties=function(){return this._propertyMgr};v.prototype.getStatusManager=function(){return this._statusMgr};v.prototype.getEnvManager=function(){return this._envMgr};v.prototype.getSemanticManager=function(){return this._semanticMgr};v.prototype.getEffectManager=function(){return this._effectMgr};v.prototype.getDataModel=function(){return this._dataModelMgr.getDataModel()};v.prototype.isTrellis=function(){var e=this._dataModelMgr&&this._dataModelMgr.getDataModel();return e&&(e.trellisRow||e.trellisColumn)};v.prototype._getActionLayer=function(){return this._actionLayer};v.prototype._getDecorationLayer=function(){return this._decorationLayer};v.prototype.isHorizontal=function(){return this._isHorizontal};v.prototype._getScales=function(){return this._scales};v.prototype.getExtendTimeRange=function(){return this.getModule("main.timeAxis.axisBody").getScale().getDomain()};v.prototype._setScales=function(e){this._scales=e};v.prototype.isCombChart=function(){return this._getChartType().indexOf("combination")>-1};v.prototype.shouldUseDeselectedColor=function(){var e=this.getStatus("selectedDataPoints");return e&&e.length&&!this.getStatus("rangeSelection")};function T(){return this._renderType}function x(){if(this._options){return this._options.chartType}}function I(e){var t=z(e,"main.plot")||z(e,"main");if(t==null||t.isHorizontal==null){return null}return t.isHorizontal()}function z(e,t){var i=t.split(".");var r=e;for(var a=0;a<i.length;++a){if(!r||!r.getChild||!r.getChild(i[a])){r=null;break}else{r=r.getChild(i[a]).module}}return r}function N(t){var i=z(this,t);if(i==null){return null}var r={};o.forEach(function(t){if(i[t]==null||e.isFunction(i[t])===false){return}r[t]=i[t].bind(i)});return r}function w(){var e=z(this,"main.plot");if(e==null||e.isBigDataMode==null){return false}return e.isBigDataMode()}function O(){var e=z(this,"main.plot");if(e==null||e.isDisableSyncHightlight==null){return false}return e.isDisableSyncHightlight()}v.prototype.on=function(e,t){this._dispatch.on(e,t)};v.prototype.fireEvent=function(t,i,r){if(e.isString(t)){this._dispatch.fire({name:t,data:i?i:{},useDefault:r})}else if(e.isString(t.name)){this._dispatch.fire({name:t.name,data:t.data?t.data:{},useDefault:arguments[1]})}return this};v.prototype.fireExternalEvent=function(e,t,i){if(a.hasFiscalLevel(this._propertyMgr)){a.removeParsedValues(t)}var r=this._eventDispatcher;if(i){r.fire(e,t)}else{window.setTimeout(function(){r.fire(e,t)},1)}};v.prototype.destroy=function(){this._status=null;this._dispatch=null;this._eventDispatcher=null;this._actionLayer.clear();this._actionLayer=null;this._decorationLayer.clear();this._decorationLayer=null;this._propertyMgr=null;this._statusMgr=null;this._envMgr=null;this._dataModelMgr=null;this._tooltipContainer=null;this._screenReaderContainer=null;this._isHorizontal=null;this.getModule=null;this.getNodes=null};return v});define("sap/viz/framework/common/effect/DefaultEffects",[],function(){function e(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function t(e,t){var i=e.r,r=e.g,a=e.b,n,o,s;if(t>=0){n=Math.round(i+(255-i)*t/100);o=Math.round(r+(255-r)*t/100);s=Math.round(a+(255-a)*t/100)}else{n=Math.round(i*(100+t)/100);o=Math.round(r*(100+t)/100);s=Math.round(a*(100+t)/100)}return d3.rgb(n,o,s).toString()}function i(i,r){var a=t(i,30);var n=t(i,50);var o=t(i,-10);var s=t(i,10);var l=d3.select(e("linearGradient"));l.attr("x1","0%").attr("y1","0%");if(r.direction==="horizontal"){l.attr("y2","0%").attr("x2","100%")}else{l.attr("y2","100%").attr("x2","0%")}l.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",a);l.append("stop").attr("stop-opacity",i.a).attr("offset",.2).attr("stop-color",n);l.append("stop").attr("stop-opacity",i.a).attr("offset",.8).attr("stop-color",o);l.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",s);return l}function r(e,t){return i(e,{direction:"vertical"})}function a(e,t){return i(e,{direction:"horizontal"})}return{glossy:{background:function(t,i){var r=d3.select(e("linearGradient"));if(i.direction==="horizontal"){r.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{r.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}r.append("stop").attr("stop-opacity",t.a).attr("offset",0).attr("stop-color","#ffffff");r.append("stop").attr("stop-opacity",t.a).attr("offset",1).attr("stop-color",t);return r.node()},sector:function(i,r){var a=i;var n=t(i,50);var o=t(i,-30);var s=e("radialGradient");s.setAttribute("cx",0);s.setAttribute("cy",0);s.setAttribute("r",r.radius);s.setAttribute("fx",0);s.setAttribute("fy",0);s.setAttribute("gradientUnits","userSpaceOnUse");var l=d3.select(s);l.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",n);l.append("stop").attr("stop-opacity",i.a).attr("offset",.9).attr("stop-color",a);l.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",o);return l},"3dSector":function(i,r){var a=i;var n=t(i,10);var o=t(i,60);var s=e("radialGradient");s.setAttribute("cx","50%");s.setAttribute("cy","50%");s.setAttribute("r","50%");s.setAttribute("fx","25%");s.setAttribute("fy","25%");s.setAttribute("gradientUnits","userSpaceOnUse");var l=d3.select(s);l.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",o);l.append("stop").attr("stop-opacity",i.a).attr("offset",.8).attr("stop-color",n);l.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",a);return l},cubeTop:function(i,r){var a=t(i,50);var n=t(i,-10);var o=d3.select(e("linearGradient"));switch(r.direction){case"LeftRight":o.attr("x1","0%").attr("y1","0%").attr("y2","0%").attr("x2","100%");break;case"BottomUp":o.attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","0%");break;case"RightLeft":o.attr("x1","100%").attr("y1","0%").attr("y2","0%").attr("x2","0%");break;case"TopDown":o.attr("x1","0%").attr("y1","0%").attr("y2","100%").attr("x2","0%");break;default:o.attr("x1","0%").attr("y1","0%").attr("y2","0%").attr("x2","100%");break}o.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",n);o.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",a);return o},cubeSide:function(i,r){var a=t(i,50);var n=t(i,-10);var o=d3.select(e("linearGradient"));o.attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","100%");o.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",n);o.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",a);return o},sectorSide:function(i,r){var a=t(i,50);var n=t(i,-30);var o=d3.select(e("linearGradient"));o.attr("x1","0%").attr("y1","100%").attr("y2","0%").attr("x2","100%");o.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",n);o.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",a);return o},circle:function(i,r){var a=i;var n=t(i,10);var o=t(i,80);var s=e("radialGradient");s.setAttribute("cx","50%");s.setAttribute("cy","50%");s.setAttribute("r","50%");s.setAttribute("fx","50%");s.setAttribute("fy","20%");var l=d3.select(s);l.append("stop").attr("stop-opacity",i.a).attr("offset",0).attr("stop-color",o);l.append("stop").attr("stop-opacity",i.a).attr("offset",.7).attr("stop-color",n);l.append("stop").attr("stop-opacity",i.a).attr("offset",.9).attr("stop-color",a);l.append("stop").attr("stop-opacity",i.a).attr("offset",1).attr("stop-color",a);return l},"triangle-up":r,"triangle-down":r,"triangle-left":a,"triangle-right":a,rectangle:i,diamond:i,cross:i,star:i,intersection:i,general:i}}});define("sap/viz/framework/common/effect/DefaultPattern",["sap/viz/framework/common/util/SVG"],function(e){function t(t,i,r){var a=e.create("pattern");a.setAttribute("patternUnits","userSpaceOnUse");a.setAttribute("width",i);a.setAttribute("height",r);a.setAttribute("id",t);return a}function i(t,i,r,a){var n=e.create("path");n.setAttribute("d",t);if(i){n.setAttribute("fill",i)}if(r){n.setAttribute("stroke",r)}if(a){n.setAttribute("opacity",a)}return n}function r(r,a){var n=t(r,7,7);var o=e.create("rect");o.setAttribute("fill","white");o.setAttribute("x",0);o.setAttribute("y",0);o.setAttribute("width",7);o.setAttribute("height",7);var s=i("M2,0L5,0L0,5L0,2L2,0 M7,2L7,5L5,7L2,7L7,2",a.fillColor,null,a.opacity);if(a.isNegative){s.setAttribute("transform","translate(0,7)scale(1,-1)")}n.appendChild(o);n.appendChild(s);return n}function a(e,r){var a=t(e,7,7);var n=i("M2,0L5,0L0,5L0,2L2,0 M7,2L7,5L5,7L2,7L7,2",r.fillColor,null,r.opacity);if(r.isNegative){n.setAttribute("transform","translate(0,7)scale(1,-1)")}a.appendChild(n);return a}function n(e,r){var a=t(e,7,7);var n=i("M0,2L5,7L2,7L0,5L0,2 M2,0L5,0L7,2L7,5L2,0",r.fillColor,null,r.opacity);if(r.isNegative){n.setAttribute("transform","translate(0,7)scale(1,-1)")}a.appendChild(n);return a}function o(e,r){var a=t(e,4,4);var n=i("M 2, 0 l 0, 4",null,r.fillColor);var o=i("M 0,2 l 4,0",null,r.fillColor);a.appendChild(n);a.appendChild(o);return a}function s(e,r){var a=t(e,6,6);var n=i("M1,0L4.5,0L0,4.5L0,1M6,1L1,6L4.5,6L6,4.5",r.fillColor,null,r.opacity);if(r.isNegative){n.setAttribute("transform","translate(0,6)scale(1,-1)")}a.appendChild(n);return a}return{hatching:r,diagonalStripe:a,diagonalLightStripe:s,reverseDiagonalStripe:n,lattice:o}});define("sap/viz/framework/common/effect/EffectManager",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/template/TemplateManager","sap/viz/framework/common/effect/DefaultEffects","sap/viz/framework/common/effect/DefaultPattern"],function(e,t,i,r,a){var n="general";function o(e,t,i){this._defs=e;this._enableGhostEffect=t;this._effectIds={};this._templateId=i;this._templateChanged=true;this._template=null;this._colorPropertyCache={}}function s(e,t,i,r,a){var n={r:e,g:t,b:i,a:r,toHex:function(){return d3.rgb(n.r,n.g,n.b).toString()},toString:function(){if(n.a==1&&a===true||n.a<1){return"rgba("+n.r+","+n.g+","+n.b+","+n.a+")"}return n.toHex()}};return n}function l(e,t){var i=d3.rgb(0,0,0),r=1,a;if(t){r=t;a=true}if(e!=null&&typeof e==="object"){if(e.rgb){i=e.rgb()}else{i=e}}else if(typeof e==="string"){e=e.toLowerCase();var n,o,l;if(e.indexOf("rgba")>=0){n=e.substring(e.indexOf("(")+1);o=n.lastIndexOf(",");l=n.indexOf(")");if(o>=0&&l>=0){var u="rgb("+n.substring(0,o)+")";r=parseFloat(n.substring(o+1,l));i=d3.rgb(u)}}else if(e.indexOf("hsla")>=0){n=e.substring(e.indexOf("(")+1);o=n.lastIndexOf(",");l=n.indexOf(")");if(o>=0&&l>=0){var c="hsl("+n.substring(0,o)+")";r=parseFloat(n.substring(o+1,l));i=d3.hsl(c).rgb()}}else if(e.indexOf("hsl")>=0){i=d3.hsl(e).rgb()}else if(e.indexOf("#")>=0){var f,m,p;if(e.length===4){f=e.charAt(1);f+=f;m=e.charAt(2);m+=m;p=e.charAt(3);p+=p}else if(e.length===7){f=e.substring(1,3);m=e.substring(3,5);p=e.substring(5,7)}f=parseInt(f,16);m=parseInt(m,16);p=parseInt(p,16);i=d3.rgb(f,m,p)}else{i=d3.rgb(e)}}return s(i.r,i.g,i.b,r,a)}function u(e){var t=e.r,i=e.g,r=e.b,a;if(t===i&&i===r){a=Math.round(t+(255-t)*.6)}else{a=Math.round((t*299+i*587+r*114+500)/1e3)}return s(a,a,a,e.a)}function c(e){if(e.drawingEffect==="normal"&&!e.patternEffect&&!e.graphType){return null}var t="_",i=(e.drawingEffect||"normal")+t+e.graphType+t+e.fillColor+t+e.patternEffect+t+e.isNegative+t+e.direction;return e.graphType==="sector"?i+t+e.radius:i}o.prototype._registerPattern=function(i,r,n){var o=i.patternEffect;var s=this.container();if(!o||!s){return null}var l=n&&n.patternEffects&&n.patternEffects[o]||a[o];if(!l||!t.isFunction(l)){return null}var u=this._effectIds[r]=o+e.guid();var c=l(u,i);s.node().appendChild(c);return u};function f(e){return"url(#"+e+")"}o.prototype.rgba=s;o.prototype.color2rgba=l;o.prototype.rgba2gray=u;o.prototype.setTemplateId=function(e){this._templateId=e;this._templateChanged=true};o.prototype._getTemplate=function(){if(this._templateChanged){this._template=i.get(this._templateId);this._templateChanged=false}return this._template};o.prototype.register=function(i){var a=i.drawingEffect=i.drawingEffect||"normal";var o=i.fillColor;if(i.patternEffect==="nonFill"){return"transparent"}var s=typeof o==="string";if(s){if(o.indexOf("url")===0){return o}else{o=o.toLowerCase();if(o==="transparent"||o==="none"){return o}i.fillColor=o}}var m=c(i);var p=this._effectIds[m];if(p){return f(p)}var h;if(this._enableGhostEffect){h=l(o);h=u(h)}var d=this._getTemplate();if(i.patternEffect){h=h||l(o);p=this._registerPattern({patternEffect:i.patternEffect,isNegative:i.isNegative,direction:i.direction,fillColor:h,opacity:i.opacity},m,d);if(p){return f(p)}}var g=d&&d.drawingEffects&&d.drawingEffects[a]||r[a];var v=g&&g[i.graphType]!==null&&(g[i.graphType]||g[n]);if(v&&t.isFunction(v)){h=h||l(o);var y=v(h,{radius:i.radius,direction:i.direction});if(y){if(t.isFunction(y.node)){y=y.node()}this._defs.node().appendChild(y);p=this._effectIds[m]=a+e.guid();y.setAttribute("id",p);return f(p)}}if(!h){if(s&&o.indexOf("#")===0){return o}h=l(o)}return h.toString()};o.prototype.container=function(e){if(!arguments.length){return this._defs}this._defs=e};o.prototype.ghostEffect=function(e){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=e};o.prototype.destroy=function(){this._defs=null;this._enableGhostEffect=null;this._effectIds=null;this._colorPropertyCache=null};o.prototype.darken=function(e,t){var i=d3.hsl(e);i.l=i.l-t;return i.rgb().toString()};o.prototype.lighten=function(e,t){var i=d3.hsl(e);i.l=i.l+t;return i.rgb().toString()};o.prototype.desaturate=function(e,t){var i=d3.hsl(e);i.s=i.s-t;return i.rgb().toString()};o.prototype.greyscale=function(e){var t=d3.hsl(e);t.s=0;return t.rgb().toString()};var m=function(e){var t;var i=/[0-9]+/;if(i.test(e)){t=e.match(/[0-9]+/)}else{t=20}return+t/100};o.prototype.isColorProp=function(e){return/darken|lighten|desaturate|greyscale/.test(e)};o.prototype.parseColorProperty=function(e,t){var i=e+"/"+t;var r=this._colorPropertyCache[i];if(r!==undefined){return r}var a=null;if(e.indexOf("darken")>=0){a=this.darken(t,m(e))}else if(e.indexOf("lighten")>=0){a=this.lighten(t,m(e))}else if(e.indexOf("desaturate")>=0){a=this.desaturate(t,m(e))}else if(e.indexOf("greyscale")>=0){a=this.greyscale(t)}else{a=this.color2rgba(e)}this._colorPropertyCache[i]=a;return a};return o});define("sap/viz/framework/env/EnvManager",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/UADetector","sap/viz/framework/property/PropertyManager"],function(e,t,i,r){var a=function(){a.superclass.constructor.apply(this,arguments);var e={};e[t.DIRECTION.LANG_DIR]=t.DIRECTION.LTR;this.add(e)};e.extend(a,r);a.prototype.isRTL=function(){var e=false;if(this.get(t.DIRECTION.LANG_DIR)===t.DIRECTION.RTL){e=true}return e};a.prototype.isRTLAnchorCompensation=function(){return this.isRTL()&&!i.isIE()};a.prototype.textAnchor=function(){var e="start";if(this.isRTLAnchorCompensation()){e="end"}return e};a.prototype.reverseDots=function(){return this.isRTL()&&i.isIE()};return a});define("sap/viz/framework/common/util/TimeUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/Constants"],function(e,t,i){var r=Math.floor;var a=Math.ceil;var n=Math.max;var o=Math.min;var s=["day","month","year"];var l=["second","minute","hour","day","week","month","quarter","halfyear","year"];var u=1e3;var c=u*60;var f=c*60;var m=f*24;var p=m*7;var h=p*4;var d=m*91;var g=d*2;var v=m*365;var y=[31,29,31,30,31,30,31,31,30,31,30,31];var _={second:{idx:0},minute:{idx:1},hour:{idx:2},day:{idx:3},week:{idx:4},month:{idx:5},quarter:{idx:6},halfyear:{idx:7},year:{idx:8},fiscal_period:{idx:1001},fiscal_year:{idx:1002}};var A;function b(e,t){return this.levelList[e].idx-this.levelList[t].idx}function S(e){return String(e).toLowerCase()}function M(t,i){var r=i||A;if(t){if(e.isArray(t)){t=t.map(S).filter(function(e){return r.levelList[e]})}else{t=[S(t)].filter(function(e){return r.levelList[e]})}if(t.length){t.sort(b.bind(r));t=t.filter(function(e,i){return!i||t[i-1]!==e})}}return t&&t.length?t:s}function D(e,t,i,r,a,n,o){i=i||0;r=r||1;a=a||0;n=n||0;o=o||0;if(e){return Date.UTC(t,i,r,a,n,o)}var s=we();var l=s?s.getInstance(t,i,r,a,n,o):new Date(t,i,r,a,n,o);return l.getTime()}function E(e,t){if(ze(e)){e=Fe(e,t)}return{second:T(e,t),minute:x(e,t),hour:I(e,t),day:z(e,t),month:N(e,t),year:F(e,t)}}function T(e,t){return t?e.getUTCSeconds():e.getSeconds()}function x(e,t){return t?e.getUTCMinutes():e.getMinutes()}function I(e,t){return t?e.getUTCHours():e.getHours()}function z(e,t){return t?e.getUTCDate():e.getDate()}function N(e,t){return t?e.getUTCMonth():e.getMonth()}function w(e,t){var i=t?e.getUTCMonth():e.getMonth();return Math.floor(i/3)}function O(e,t){var i=t?e.getUTCMonth():e.getMonth();return Math.floor(i/6)}function F(e,t){return t?e.getUTCFullYear():e.getFullYear()}function L(e,t){return(t?e.getUTCDay():e.getDay())||7}function R(e,t,i){if(i){e.setUTCDate(t)}else{e.setDate(t)}}function C(e,t,i){if(i){e.setUTCMonth(t)}else{e.setMonth(t)}}function k(e,t,i){if(i){e.setUTCFullYear(t)}else{e.setFullYear(t)}}function P(e,t,i){R(e,z(e,i)+t,i)}function B(e,t,i){C(e,N(e,i)+t,i)}function V(e,t,i){k(e,F(e,i)+t,i)}function U(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(i){return e.getUTCFullYear()===t.getUTCFullYear()}else{return e.getFullYear()===t.getFullYear()}}function H(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!U(e,t,i)){return false}return O(e,i)===O(t,i)}function G(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!U(e,t,i)){return false}return w(e,i)===w(t,i)}function Y(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!U(e,t,i)){return false}if(i){return e.getUTCMonth()===t.getUTCMonth()}else{return e.getMonth()===t.getMonth()}}function j(e,t,i,r){if(!e||!t){return false}if(e instanceof Date){e=e.getTime()}if(t instanceof Date){t=t.getTime()}if(Math.abs(t-e)>p){return false}var a=ge(e,i,r);var n=ge(t,i,r);return a===n}function q(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!Y(e,t,i)){return false}if(i){return e.getUTCDate()===t.getUTCDate()}else{return e.getDate()===t.getDate()}}function W(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!q(e,t,i)){return false}if(i){return e.getUTCHours()===t.getUTCHours()}else{return e.getHours()===t.getHours()}}function K(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!W(e,t,i)){return false}if(i){return e.getUTCMinutes()===t.getUTCMinutes()}else{return e.getHours()===t.getHours()}}function X(e,t,i){if(!e||!t){return false}e=Fe(e,i);t=Fe(t,i);if(!K(e,t,i)){return false}if(i){return e.getUTCSeconds()===t.getUTCSeconds()}else{return e.getSeconds()===t.getSeconds()}}var Z=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"];function J(e,t){if(!e){var i=t&&t.get("timeAxis.levelConfig");e=i&&i.week}return e}function Q(e,t,i){e=Fe(e,i);var r=we();var a=r?r.getInstance(0,0,1):new Date(0,0,1);a=i?Oe(Date.UTC(new Date(0,0,1))):a;var n=Z.indexOf(t);var o=i?"UTC":"";for(var s=0;s<Z.length;++s){var l=Z[s];var u;if(s<=n){u=e["get"+o+l]()}else{u=0;if(l==="Date"){u=1}}a["set"+o+l](u)}return a}function $(t){return t instanceof Date&&e.isNumber(t.getTime())}function ee(e,a,n,o,s){var l;if(a===i.FISCAL.PERIOD){l=e}else if(a===i.FISCAL.YEAR){l=t.fiscalYearFloor(e,o)}else{e=Fe(e,n);if(!$(e)||!a){return null}a=a.toLowerCase();switch(a){case"second":l=Q(e,"Seconds",n);break;case"minute":l=Q(e,"Minutes",n);break;case"hour":l=Q(e,"Hours",n);break;case"day":case"date":l=Q(e,"Date",n);break;case"week":s=J(s,o);l=Fe(e,n);var u=ge(e,n,s);var c=F(l,n);var f=N(l,n);if(f===11&&u===1){c++}else if(f===0&&(u===52||u===53)){c--}l=ve(c,u,n,s);break;case"month":l=Q(e,"Month",n);break;case"quarter":l=Q(e,"Month",n);C(l,r(N(l,n)/3)*3,n);break;case"halfyear":l=Q(e,"Month",n);C(l,r(N(l,n)/6)*6,n);break;case"year":l=Q(e,"FullYear",n);break}l=l?l.getTime():null}return l}function te(e,r,a,n,o){var s;if(r===i.FISCAL.PERIOD){s=e}else if(r===i.FISCAL.YEAR){s=t.fiscalYearCeil(e,n)}else{e=Fe(e,a);if(!$(e)||!r){return null}r=r.toLowerCase();if(r==="hour"){e=Q(e,"Hours",a);e.setMinutes(59,59,999)}else if(r==="minute"){e=Q(e,"Minutes",a);e.setSeconds(59,999)}else if(r==="second"){e=Q(e,"Seconds",a);e.setMilliseconds(999)}else if(r==="day"||r==="date"){e=Q(e,"Date",a);P(e,1,a)}else if(r==="month"){e=Q(e,"Month",a);B(e,1,a)}else if(r==="year"){e=Q(e,"FullYear",a);V(e,1,a)}else if(r==="week"){o=J(o,n);e=Fe(ee(e,"week",a,n,o),a);P(e,7,a)}else if(r==="quarter"){e=Fe(ee(e,"quarter",a),a);B(e,3,a)}else if(r==="halfyear"){if(e.getMonth()<6){e=Q(e,"FullYear",a);B(e,6,a)}else{e=Q(e,"FullYear",a);V(e,1,a)}}else{return null}s=e.getTime();if(r!=="hour"&&r!=="minute"&&r!=="second"){s-=u}}return s}function ie(e,r,a,n,o){var s;if(r===i.FISCAL.PERIOD){s=e}else if(r===i.FISCAL.YEAR){s=t.fiscalYearFloor(e,n)}else{e=Fe(e,a);if(!$(e)||!r){return null}r=r.toLowerCase();if(r==="hour"){e=Q(e,"Hours",a);e.setMinutes(0,0,0)}else if(r==="minute"){e=Q(e,"Minutes",a);e.setSeconds(0,0)}else if(r==="second"){e=Q(e,"Seconds",a);e.setMilliseconds(0)}else if(r==="day"||r==="date"){e=Q(e,"Date",a)}else if(r==="month"){e=Q(e,"Month",a)}else if(r==="year"){e=Q(e,"FullYear",a)}else if(r==="week"){o=J(o,n);e=Fe(ee(e,"week",a,n,o),a)}else if(r==="quarter"){e=Fe(ee(e,"quarter",a),a)}else if(r==="halfyear"){if(e.getMonth()<6){e=Q(e,"FullYear",a)}else{e=Q(e,"FullYear",a);B(e,6,a)}}else{return null}s=e.getTime()}return s}var re=function(e,t,r,a,n,o,s,l){return De(e,t,r,a,i.FISCAL.UNIT,function(){return true},o,!n&&s,l)};function ae(e,i,r,a,n,o,s,l,u,c){var f=c._properties.origin;return t.pickPeriodValues(e,i,r,a,u,f)}function ne(e,i,r,a,n,o,s,l,u,c){var f=c._properties.origin;return t.pickYearValues(e,i,r,a,f)}function oe(e,t,i,r,a,n,o,s){return De(e,t,i,r,u,function(e,t){var r=T(Fe(e*t),s);var a=i<=30?i:15;return r%a===0},n,!a&&o)}function se(e,t,i,r,a,n,o,s){return De(e,t,i,r,c,function(e,t){var r=x(Fe(e*t),true);var a=i<=30?i:15;return r%a===0},n,!a&&o,s)}function le(e){var t=e?0:Fe(0).getTimezoneOffset()*c;return t}function ue(e,t,i,r,a,n,o,s){return De(e,t,i,r,f,function(e,t){var r=I(Fe(e*t),true);var a=1;if(i%24===0){a=24}else if(i%12===0){a=12}else if(i%6===0){a=6}else if(i%3===0){a=3}else if(i>24){a=24}return r%a===0},n,!a&&o,s)}function ce(e,t,i,r,a,s,l,u,c){s=s||[];r=r>0?r:Infinity;var f=n(e,s[0]||-Infinity);var m=o(t,s[1]||Infinity);var p=Fe(e,u);var h=Fe(t,u);var d=Fe(f,u);var g=Fe(m,u);var v=[];var _;var A;if(!a){if(ze(l)){_=Q(l,"Date",u);while(_.getTime()>e){P(_,-i,u)}}else{_=Q(e,"Date",u);if(e>_.getTime()){P(_,1,u)}}while(_.getTime()<=m&&v.length<r){var b=_.getTime();if(b>=f){if(c&&v.length===0&&b>f){if(!A){P(_,-i,u);A=_.getTime();P(_,i,u)}if(A!==_.getTime()){v.push(A)}}v.push(_.getTime())}A=b;P(_,i,u)}}else{_=Q(d,"Month",u);while(_.getTime()<=m&&v.length<r){var S=N(_,u);var M=Ee(y[S],i);for(var D=0;D<M.length&&v.length<r;++D){if(D>0||!A){A=_.getTime()}R(_,M[D],u);if(N(_,u)===S){var E=_.getTime();if(E>=f&&E<=m&&v.length<r){if(c&&v.length===0&&E>f&&A&&A!==E){v.push(A)}v.push(E)}}else{break}}A=_.getTime();R(_,1,u);C(_,S+1,u)}if((r===Infinity||v.length===1)&&F(p,u)===F(h,u)&&N(p,u)===N(h,u)&&z(h,u)===z(g,u)){_=Fe(t,u);P(_,1,u);if(N(_,u)!==N(p,u)){var T=Q(h,"Date",u);_=Fe(v[v.length-1],u);if(T.getDate()-_.getDate()>=i||i>=5&&N(h,u)===1){v.push(T.getTime())}else{v[v.length-1]=T.getTime()}}}}return v}function fe(e,t,i,r,a,s,l,u,c,f,m){s=s||[];var p=[];var h=n(e,s[0]||-Infinity);var d=o(t,s[1]||Infinity);h=ee(h,"week",u,null,m);var g=Fe(ee(e,"day"),u);var v=Fe(t,u);var y=Fe(h,u);var _=Fe(d,u);var A,b;r=r>0?r:Infinity;var S;if(!a){if(ze(l)){A=Fe(l,u);while(A>g){P(A,-i*7,u)}b=F(A,u);A=ve(b,ge(A,u,m),u,m)}else{A=g;b=F(A,u);A=ve(b,ge(A,u,m),u,m);if(A<g){P(A,7,u)}}while(A<=_&&p.length<r){if(A>=y){if(c&&p.length===0&&A>y){if(!S){P(A,-i*7,u);S=A.getTime();P(A,i*7,u)}if(S!==A.getTime()){p.push(S)}}p.push(A.getTime())}S=A.getTime();P(A,i*7,u)}}else{b=F(y,u);var M=F(_,u);while(b<=M&&p.length<r){var D=xe(b)?53:52;if(b===M){D=60}var E=Ee(D,i);for(var T=0;T<E.length&&p.length<r;++T){if(A){S=A.getTime()}A=ve(b,E[T],u,m);if(ge(A,u,m)===E[T]){var x=A.getTime();if(x<=d&&p.length<r){if(x>=h){if(c&&p.length===0&&x>h&&S&&S!==x){p.push(S)}p.push(x)}}else{break}}else{break}}b++}b=F(g,u);if(i>50&&p.length===1&&b===F(v,u)&&t===d){A=ve(b,xe(b)?53:52,u);p.push(A.getTime())}if(p&&p.length&&p.length<r){var I=Fe(p[p.length-1],u);P(I,7*i,u);var z=Fe(p[p.length-1],u);if(b===F(v,u)&&I.getTime()!==z.getTime()&&I<=v){p.push(I.getTime())}}}return p}function me(e,t,i,r,a,s,l,u,c){s=s||[];r=r>0?r:Infinity;var f=[];var m=n(e,s[0]||-Infinity);var p=o(t,s[1]||Infinity);m=ee(m,"Day",u);var h=Fe(ee(e,"Day",u),u);var d=Fe(t,u);var g=Fe(m,u);var v=Fe(p,u);var y;var _;if(!a&&ze(l)){y=Q(l,"Month",u);while(y>h){B(y,-i,u)}}else{y=Q(h,"Month",u);if(!c&&h.getTime()!==y.getTime()){B(y,1,u)}if(a){var A=i<=6?i:3;while(N(y,u)%A!==0){B(y,1,u)}}}while(y.getTime()<=p&&f.length<r){var b=y.getTime();if(b>=m){if(c&&f.length===0&&b>m){if(!_){B(y,-i,u);_=y.getTime();B(y,i,u)}if(_!==b){f.push(_)}}f.push(b)}_=b;B(y,i,u)}if((r===Infinity||f.length===1)&&F(h,u)===F(d,u)&&N(d,u)===11&&N(v,u)===11&&i>2){y=Fe(f[f.length-1],u);var S=D(u,F(d,u),11);if(11-N(y,u)>=i-1){f.push(S)}else if(f.length>1){f[f.length-1]=S}}return f}function pe(e,t,i,a,s,l,u,c,f){i*=3;l=l||[];a=a>0?a:Infinity;var m=[];var p=n(e,l[0]||-Infinity);var h=o(t,l[1]||Infinity);p=ee(p,"Month",c);var d=Fe(ee(e,"Month",c),c);var g=Fe(t,c);var v;var y;if(!s){if(!ze(u)){u=e}v=Q(u,"Month",c);C(v,r(N(v,c)/3)*3,c);while(v>d){B(v,-i,c)}}else{v=Q(d,"Month",c);if(!f&&d.getTime()!==v.getTime()){B(v,1,c)}var _=i%12;while(N(v,c)%_!==0){B(v,1,c)}}while(v.getTime()<=h&&m.length<a){var A=v.getTime();if(A>=p){if(f&&m.length===0&&A>p){if(!y){B(v,-i,c);y=v.getTime();B(v,i,c)}if(y!==A){m.push(y)}}m.push(A)}y=A;B(v,i,c)}return m}function he(e,t,i,r,a,s,l,u){s=s||[];var c=n(e,s[0]||-Infinity);c=ee(c,"day",u);var f=o(t,s[1]||Infinity);var m=de(e,t,1,r,a,null,null,u);var p,h=6,d;for(d=0;d<m.length;d+=2){p=D(u,F(Fe(m[d],u),u),h);m.splice(d+1,0,p)}p=Fe(e,u);var g=F(p,u);var v=D(u,g,0);if(e>v&&i%2!==0){var y=D(u,g,h);if(N(p,u)<h||p.getTime()===y){m.unshift(y)}}return m.filter(function(e,t){return e>=c&&e<=f&&t%i===0})}function de(e,t,i,r,a,s,l,u,c){s=s||[];var f=n(e,s[0]||-Infinity);f=ee(f,"day",u);var m=o(t,s[1]||Infinity);var p=F(Fe(f,u),u);var h=F(Fe(m,u),u);if(f>D(u,p,0)){p++}var d=[];var g;var v;if(!a&&ze(l)){g=F(Fe(l,u),u);while(g>p){g-=i}}else{g=p;if(a){while(g%i!==0){++g}}}r=r>0?r:Infinity;var y;while(g<=h&&d.length<r){y=D(u,g,0);if(y>=f){if(c&&d.length===0&&y>f){if(!v){g-=i;v=D(u,g,0);g+=i}if(v!==y){d.push(v)}}d.push(y)}v=y;g+=i}return d}function ge(e,t,i){if(i&&i.type&&i.type.indexOf("Gregorian")>-1){return be(e,t,i)}else{return ye(e,t)}}function ve(e,t,i,r){if(r&&r.type&&r.type.indexOf("Gregorian")>-1){return Se(e,t,i,r)}else{return _e(e,t,i)}}function ye(e,t){e=Fe(e,t);var i=F(e,t);var a=N(e,t);var n=0;for(var o=0;o<a;++o){n+=y[o]}n+=z(e,t)-1;if(!Te(i)&&n>=60){n--}var s=r((n-L(e,t)+11)/7);if(!s){return ye(D(t,i-1,11,31),t)}else if(s===53&&!xe(i)){return 1}return s}function _e(e,t,i){var r=xe(e)?53:52;if(t>r){t-=r;e++;r=xe(e)?53:52}var a=1;var n=D(i,e,0,4);var o=t*7+a-L(Fe(n,i),i)-3;if(o<1){e--;o+=Ie(e)}else{var s=Ie(e);if(o>s){o-=s;e++}}var l=Fe(D(i,e,0),i);R(l,o,i);return l}function Ae(t,i,r){var a=we();var n,o,s,l=7;n=r.minDays;o=r.firstDayOfWeek;s=i?Oe(Date.UTC(t,0,1)):a?a.getInstance(t,0,1):new Date(t,0,1);n=e.isNumber(n)?n:1;o=e.isNumber(o)?o:7;while(L(s,i)!==o){R(s,z(s,i)-1,i);l--}if(l<n){R(s,z(s,i)+7,i)}return s}function be(e,t,i){e=Fe(e,t);var r=F(e,t);var a=Ae(r+1,t,i);if(e.getTime()>=a.getTime()){return 1}var n=Ae(r-1,t,i);if(e.getTime()<=n.getTime()){return Math.floor((e.getTime()-n.getTime())/p)+1}var o=Ae(r,t,i);return Math.floor((e.getTime()-o.getTime())/p)+1}function Se(e,t,i,r){var a=Ae(e,i,r);var n=a.getTime()+(t-1)*p;return Fe(n,i)}function Me(e){return xe(e)?53:52}function De(e,t,i,s,l,u,c,f,m){c=c||[];var p=le(m);var h=n(e,c[0]||-Infinity)-p;var d=o(t,c[1]||Infinity)-p;e-=p;var g=[];var v=a(e/l);if(ze(f)){f-=p;if(f>e){f-=a((f-e)/(i*l))*i*l}v=r(f/l)}else{while(!u(v,l)){v++}}s=s>0?s:Infinity;if(v*l<h){v+=r((h/l-v)/i)*i}while(v*l<=d&&g.length<s){if(v*l>=h){g.push(v*l+p)}v+=i}return g}function Ee(e,t){var i=[];var r;if(t%5===0){var a=o(4,t);for(r=0;e-r>=a;r+=t){i.push(r)}i[0]=1}else{for(r=1;e+1-r>=t;r+=t){i.push(r)}if(!i.length){i.push(1)}}return i}function Te(e){return e%4===0&&e%100!==0||e%400===0}function xe(e){var t=Oe(Date.UTC(e,0)).getUTCDay();return t===4||Te(e)&&t===3}function Ie(e){return Te(e)?366:365}function ze(e){return typeof e==="number"&&!isNaN(Oe(e).getTime())}function Ne(e,r,a,n){var o;var s;if(r===i.FISCAL.PERIOD){return e+1}else if(r===i.FISCAL.YEAR){return t.nextFiscalStamp(e,n)}else{switch(r){case"second":o=u;break;case"minute":o=c;break;case"hour":o=f;break;case"day":s=Fe(e,a);P(s,1,a);return s.getTime();case"week":s=Fe(e,a);P(s,7,a);return s.getTime();case"month":s=Fe(e,a);B(s,1,a);return s.getTime();case"quarter":s=Fe(e,a);B(s,3,a);return s.getTime();case"halfyear":s=Fe(e,a);B(s,6,a);return s.getTime();case"year":s=Fe(e,a);V(s,1,a);return s.getTime()}return e+o}}function we(){var e=sap.viz.api&&sap.viz.api.env&&sap.viz.api.env.globalSettings();return e&&e.enableCanvgConfig&&e.enableCanvgConfig.UI5Date}function Oe(e){var t=we();return t?t.getInstance(e):new Date(e)}function Fe(e,t){if(ze(e)){if(t){return new Date(e)}e=Oe(e)}return e}var Le={second:u,minute:c,hour:f,day:m,week:p,month:h,quarter:d,halfyear:g,year:v,fiscal_period:i.FISCAL.ONE_FISCAL_PERIOD,fiscal_year:i.FISCAL.ONE_FISCAL_YEAR};function Re(e){return Le[e]||0}function Ce(e,t,i){var s=n(e,-Infinity);var l=o(t,Infinity);var u=r(e/i);var c=a(t/i);var f=c-u+1;if(s!==u*i){f-=1}if(l!==c*i){f-=1}return f}function ke(e,t,i){var r=n(e,-Infinity);var a=o(t,Infinity);var s=0;var l=Q(e,"Date",i);var u=l.getTime();if(e>u){P(l,1,i);u=l.getTime()}while(u<=a){if(u>=r){s+=1}P(l,1,i);u=l.getTime()}return s}function Pe(e,t,i,r){var a=n(e,-Infinity);var s=o(t,Infinity);var l=0;var u=Fe(e,i);var c=Fe(t,i);var f=Fe(a,i);var m=Fe(s,i);var p,h;p=u;h=F(p,i);p=ve(h,ge(p,i,r),i,r);if(p<u){P(p,7,i)}while(p<=m){if(p>=f){l+=1}P(p,7,i)}return l}function Be(e,t,i){var r=n(e,-Infinity);var a=o(t,Infinity);var s=0;var l=Fe(e,i);var u=Fe(t,i);var c=Fe(r,i);var f=Fe(a,i);var m;m=Q(l,"Month",i);var p=m.getTime();if(l.getTime()!==p){B(m,1,i);p=m.getTime()}while(p<=a){if(p>=r){s+=1}B(m,1,i);p=m.getTime()}return s}function Ve(e,t,i){var a=n(e,-Infinity);var s=o(t,Infinity);var l=0;var u=Fe(e,i);var c=Fe(t,i);var f;f=Q(e,"Month",i);C(f,r(N(f,i)/3)*3,i);while(f>u){B(f,-3,i)}var m=f.getTime();while(m<=s){if(m>=a){l+=1}B(f,3,i);m=f.getTime()}return l}function Ue(e,t,i){var r=n(e,-Infinity);var a=o(t,Infinity);var s=0;var l=de(e,t,1,Infinity,null,null,null,i);var u,c=6,f;for(f=0;f<l.length;f+=2){u=D(i,F(Fe(l[f],i),i),c);l.splice(f+1,0,u)}u=Fe(e,i);var m=F(u,i);var p=D(i,m,0);if(e>p){var h=D(i,m,c);if(N(u,i)<c||u.getTime()===h){l.unshift(h)}}return l.filter(function(e,t){return e>=r&&e<=a}).length}function He(e,t,i){var r=n(e,-Infinity);var a=o(t,Infinity);var s=0;var l=F(Fe(r,i),i);var u=F(Fe(a,i),i);if(e>D(i,l,0)){l++}var c=l;while(c<=u){var f=D(i,c,0);if(f>=r){s+=1}c+=1}return s}var Ge={};function Ye(e,r,a,n,o){var s=le(n);r-=s;a-=s;var l=[e,r,a,n].join();if(Ge.hasOwnProperty(l)){return Ge[l]}var m;if(e===i.FISCAL.PERIOD){m=a-r+1}else if(e===i.FISCAL.YEAR){m=t.getFiscalYearNumber(r,a,o)}else{switch(e){case"second":m=Ce(r,a,u,function(e,t){return T(Fe(e*t,n),true)===0});break;case"minute":m=Ce(r,a,c,function(e,t){return x(Fe(e*t,n),true)===0});break;case"hour":m=Ce(r,a,f,function(e,t){return I(Fe(e*t,n),true)===0});break;case"day":m=ke(r,a,true);break;case"week":var p=J(p,o);m=Pe(r,a,true,p);break;case"month":m=Be(r,a,true);break;case"quarter":m=Ve(r,a,true);break;case"halfyear":m=Ue(r,a,true);break;case"year":m=He(r,a,true);break}}Ge[l]=m;return m}function je(e,t,r,a){var n;var o=Fe(t,a);if(e===i.FISCAL.PERIOD){return o}else if(e===i.FISCAL.YEAR){return o}else{switch(e){case"second":n=o.setTime(o.getTime()+r*u);break;case"minute":n=o.setTime(o.getTime()+r*c);break;case"hour":n=o.setTime(o.getTime()+r*f);break;case"day":n=o.setDate(o.getDate()+r);break;case"week":n=o.setDate(o.getDate()+r*7);break;case"month":n=o.setMonth(o.getMonth()+r);break;case"quarter":n=o.setMonth(o.getMonth()+r*3);break;case"halfyear":n=o.setMonth(o.getMonth()+r*6);break;case"year":n=o.setFullYear(o.getFullYear()+r);break}}return n}A={ONE_SECOND:u,ONE_MINUTE:c,ONE_HOUR:f,ONE_DAY:m,ONE_WEEK:p,ONE_MONTH:h,ONE_QUARTER:d,HALF_YEAR:g,ONE_YEAR:v,DEFAULT_LEVELS:s,ALL_LEVELS:l,isDateValid:$,getDateInstance:Fe,createDateInstance:Oe,getDateByWeek:ve,getSeconds:T,getMinutes:x,getHours:I,getDate:z,getWeek:ge,getMonth:N,getQuarter:w,getHalfYear:O,getFullYear:F,getNperiodByTimeLevel:je,getTimestamp:D,isSameYear:U,isSameHalfYear:H,isSameQuarter:G,isSameMonth:Y,isSameWeek:j,isSameDay:q,isSameHour:W,isSameMinute:K,isSameSecond:X,seconds:oe,minutes:se,hours:ue,days:ce,weeks:fe,months:me,quarters:pe,halfyears:he,years:de,fiscal_periods:ae,fiscal_years:ne,isLeapYear:Te,isLongYear:xe,truncate:ee,ceil:te,floor:ie,nextDateByLevel:Ne,getPeriod:Re,getTickNumberByLevel:Ye,levelComparator:b,normalizeLevelName:S,normalizeLevels:M,getWeekNumInYear:Me,getTimeTable:E,levelList:_};return A});define("sap/viz/framework/common/util/DataContextUtils",["sap/viz/framework/common/util/ObjectUtils"],function e(t){var i={};i.convertBigNumString=function(e,i){var r=t.clone(i);if(r){e=e||[];e.forEach(function(e){if(r[e]!=null){r[e]=+r[e]}})}return r};return i});define("sap/viz/framework/chartmodel/DataSelector",["sap/viz/framework/chartmodel/DataPoint","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/IdProducer","sap/viz/framework/common/util/DataContextUtils"],function(e,t,i,r){var a="*";function n(e,t){this.id=i.get();this._selector=e;this._expr=null;this._dataPoints=null;this._model=t}n.match=function(e,t,i){return new n(e).match(t,i)};var o=n.prototype;o.selector=function(){return this._selector};o.getDataPoints=function(e){var t=this._dataPoints;if(!t){var i=this._model=e||this._model;if(!i){return[]}t=[];if(s.call(this,function(e){t.push(e)})){this._dataPoints=t}}return t};function s(e){var t=this._model;if(t){var i=t._dataPoints;if(!i){return false}var a=t._rawData&&t._rawData.measures&&t._rawData.measures();if(this._selector){var n=this._expr=this._expr||o._createExpr(this._selector);var s;for(s in i){if(i.hasOwnProperty(s)){var l=i[s];var u=r.convertBigNumString(a,l.context());var c=r.convertBigNumString(a,l.additionCtx());if(!l.ignore&&n(u,c)){if(e(l)===false){break}}}}}}}o.iterateDataPoints=function(e){var t=this._dataPoints;if(!t){s.call(this,e)}else{var i,r=t.length;for(i=0;i<r;i++){if(e(t[i])===false){break}}}};o.match=function(t,i){if(t){this._expr=this._expr||o._createExpr(this._selector);var r=t instanceof e?t.context():t;return this._expr(r,i)}return false};o.merge=function(e,t){t=(t||"or").toLowerCase();var i={};if(t==="or"||t==="and"){if(this._selector&&e._selector){i[t]=[this._selector,e._selector];return new n(i)}else if(this._selector){return this}return e}return null};o._createExpr=function(e){if(x(e)&&!e.or&&!e.and&&!e.not||e===a||t.isFunction(e)){return l(e)}if(t.isArray(e)){e={or:e}}var i=e&&(e.or?"or":e.and?"and":e.not?"not":null);if(i){var r=e[i];if(!t.isArray(r)){r=[r]}if(r.length>0){if(i==="not"){return p(o._createExpr(r))}else if(r.length>1){var n=E[i];return n(r.map(o._createExpr))}return o._createExpr(r[0])}}return S};function l(e){if(e===a){return b}else if(t.isFunction(e)){return function(t,i){var r=e(t,i);return String(r).toLowerCase()==="false"?false:!!r}}else if(e){return c(e)}return S}function u(e){e=I({},e);if(e.MeasureNamesDimension&&!e.measureNames){e.measureNames=e.MeasureNamesDimension}if(e.measureNames&&t.isString(e.measureNames)&&!e.hasOwnProperty(e.measureNames)){e[e.measureNames]="*";delete e.measureNames}delete e.MeasureNamesDimension;return e}function c(e){var t=[];e=u(e);for(var i in e){if(e.hasOwnProperty(i)){var r=e[i];if(!x(r)){r={equal:r}}var a=[];var n;for(n in r){if(r.hasOwnProperty(n)&&T[n.toLowerCase()]){a.push(n)}}if(a.length>1){a.sort(M)}while(a.length){n=a.shift();var o=T[n.toLowerCase()].func;if(o){t.push(o(i,r[n]));a=D(a,n)}}}}if(t.length>1){return m(t)}else if(t.length===1){return t[0]}return S}function f(e){return function(t,i){for(var r=0;r<e.length;++r){if(e[r](t,i)){return true}}return false}}function m(e){return function(t,i){for(var r=0;r<e.length;++r){if(!e[r](t,i)){return false}}return true}}function p(e){return function(t,i){return!e(t,i)}}function h(e,t){return function(i){if(t===a){return i.measureNames===e||i.MeasureNamesDimension===e||i.hasOwnProperty(e)}return i[e]===t}}function d(e,t){return function(i){return i[e]!==t}}function g(e,t){return function(i){return t.some(function(t){return t===i[e]})}}function v(e,t){return function(i){if(i[e]!==null){return i[e]<=t}return false}}function y(e,t){return function(i){if(i[e]!==null){return i[e]>=t}return false}}function _(e,t){return function(i){return i[e]<t}}function A(e,t){return function(i){return i[e]>t}}function b(){return true}function S(){return false}function M(e,t){return(T[e.toLowerCase()].priority||0)-(T[t.toLowerCase()].priority||0)}function D(e,t){t=t.toLowerCase();var i=T[t].compatible;if(i){var r=[];for(var a=0;a<e.length;++a){var n=e[a];if(i[n.toLowerCase()]){r.push(n)}}return r}return[]}var E={and:m,or:f,not:p};var T={equal:{func:h,priority:0},notequal:{func:d,priority:1},in:{func:g,priority:2},max:{func:v,priority:3,compatible:{min:1,openmin:1}},openmax:{func:_,priority:4,compatible:{min:1,openmin:1}},min:{func:y,priority:5,compatible:{max:1,openmax:1}},openmin:{func:A,priority:6,compatible:{max:1,openmax:1}}};function x(e){return e&&Object.prototype.toString.call(e)==="[object Object]"}function I(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}return e}return n});define("sap/viz/framework/common/util/RuleUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/DataUtils","sap/viz/framework/chartmodel/DataSelector","sap/viz/framework/common/lang/LangManager"],function(e,t,i,r,a,n,o,s){var l="date";var u={date:function(t,a,n){var o=t[a];if(e.isArray(o)||e.isPlainObject(o)){for(var s in o){if(o.hasOwnProperty(s)){u["date"](o,s,n)}}}else{var l=r.hasFiscalLevel(n&&n.originProps);var c;if(l){c=parseInt(o)}else{c=i.createDateInstance(o).getTime()}var f=n&&n.dataTimeLevel;if(f!=null&&!isNaN(c)){c=i.truncate(c,f,n.showAsUTC,n.originProps)}if(l){c=r.fiscalToQuantity(c,n.originProps)}t[a]=c}}};function c(e){if(e==null||(e.rules==null||e.rules.length===0)&&e.others==null){return false}return true}function f(e,t,i,r,a,n){var o=null;if(c(t)){var s=p(e,t.rules,r);var l=t.others;if(!s){if(l){if(i){o={properties:l.properties,displayName:l.displayName,dataName:l.dataName}}else{o=l.properties}if(o){o.isOthers=true;o.useDefaultOtherName=l.useDefaultOtherName}}}else{if(l){o=m(s,l.properties,i)}else{if(i){o={properties:s.properties,displayName:s.displayName,dataName:s.dataName}}else{if(!a){o=s.properties}else{o=s.color||n.origin.get("general.defaultTimePeriodColor")}}}}}return o}function m(e,i,r){var a=t.extend(true,{},i,e.properties);if(r){var n={};n.properties=a;n.displayName=e.displayName;n.dataName=e.dataName;a=n}return a}function p(t,i,r){if(i==null){return null}var a=null;var n=i.length;var o=false;while(n--){var s=i[n];var l=s.callback||s.dataContext;if(e.isArray(t)){o=t.some(function(e,t){return h(e,l,r&&r[t])})}else{o=h(t,l,r)}if(o){a=s;break}}return a}function h(e,t,i){if(t==null){return false}return o.match(t,e,i)}var d=/[,]/;function g(e,t,i){for(var r in e){if(e.hasOwnProperty(r)){if(t.call(i,e[r],r,e)===false){break}}}}function v(i,r,a,o,f,m,p){if(!c(i)){return i}var h={rules:null};var v=a||{};if(!e.isArray(r)){r=[r]}var y=r[0].split(d);var _=r[1];h.rules=i.rules.filter(function(t){var i=p?t.properties[p]:t.properties;return i&&y.some(function(t){var r=i[t];if(r&&_){r=r[_]}return r!=null&&!(f&&f.ignoreEmptyProperty&&e.isEmptyObject(r))})});h=t.clone(h,true);if(o){h.rules.forEach(function(t){var i=t.dataContext;if(!i){return}if(!e.isArray(i)){i=[i]}i.forEach(function(e){g(e,function(e,t,i){var r=o(t);if(!r||!r[0]||!r[0].dataType||r[0].dataType.toLowerCase()!==l){return}if(!f||!f.disableTimeStampConverting){u[l](i,t,f);i[t+n.DIMENSION_PARSED_VALUE_SUFFIX]=i[t];delete i[t]}})})})}if(m){var A=s.get("IDS_SEMANTICCOLORRANGE");h.rules.forEach(function(e,t){e.displayName=e.displayName||A+(t+1)})}h.others=t.extend(true,v,i.others);h.others.hideInLegend=i.others==null;return h}return{verify:c,analyze:f,matchRule:p,matchCondition:h,withProperty:v,parseRules:u}});define("sap/viz/framework/common/semantic/SemanticManager",["sap/viz/framework/common/util/RuleUtil","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataContextUtils"],function(e,t,i,r,a){var n=function(){this._dataPointPropName=null;this._dataPointStyleMode=null;this._displayStylePropName=null;this._axisPropName=null;this._seriesStylePropName=null;this._propMgr=null;this._statusMgr=null;this._handlers=[];this._onDataPointChangeHook=null;this._getMetadata=null;this._metaCache={};this._session=null;this._useSemanticPattern=false;this._useSemanticDPLineStyle=false;this._chartType=null;this._isHideSemanticLegend=false};n.prototype.styleType={DATA_POINT:"dataPoint",AXIS:"axis"};var o=n.prototype;o.destroy=function(){this._dataPointPropName=null;this._dataPointStyleMode=null;this._displayStylePropName=null;this._seriesStylePropName=null;this._propMgr=null;this._statusMgr=null;this._handlers=null;this._onDataPointChangeHook=null;this._getMetadata=null;this._metaCache=null;this._axisPropName=null;this._session=null;this._useSemanticPattern=null;this._useSemanticDPLineStyle=null;this._chartType=null;this._isHideSemanticLegend=null};o.setDependency=function(e,t){this._propMgr=e;this._statusMgr=t};o.setChartType=function(e){this._chartType=e;this._isBullet=/bullet/.test(e);this._isLineType=/line|combination/.test(e);this._isTreemap=/treemap/.test(e);this._isHeatmap=/heatmap/.test(e)};var s=["diagonalLightStripe","diagonalStripe","reverseDiagonalStripe"];o.convertBulletDataPointColorStyle=function(e){var t=this._propMgr;var r=this.isOverrideMode();var a={rules:[]};if(e==null){return null}var n=e.rules;if(!n||n.length<=0){return null}var o=0,u;var c={actualColor:false,additionalColor:false,forecastColor:false};for(o=0;o<n.length;o++){var f=n[o].properties;if(!f||(f.color==null||f.color==="")&&(f.pattern==null||f.pattern==="")){continue}var m=f.color,p=f.pattern;var d={dataContext:n[o].callback||n[o].dataContext,properties:{color:{},pattern:{}},displayName:{},dataName:n[o].dataName};var g=function(e,t){for(var i in d.properties[e]){if(d.properties[e].hasOwnProperty(i)){if(d.properties[e][i]===""){delete d.properties[e][i]}else{t[i]=true}}}};if(m){if(!i.isPlainObject(m)){d.properties.color={actualColor:m}}else{d.properties.color=m}g("color",c)}if(p){if(!i.isPlainObject(p)){if(l(p,this._chartType)>=0){d.properties.pattern={actualColor:p}}}else{d.properties.pattern={};for(var v=0;v<h.length;++v){if(s.indexOf(p[h[v]])>=0){d.properties.pattern[h[v]]=p[h[v]]}}}}var y=n[o].displayName;if(y&&!i.isPlainObject(y)){d.displayName={actualColor:y}}else{d.displayName=y}a.rules.push(d)}if(r){var _={properties:{color:{},pattern:{},isDefault:{}},displayName:{}};var A=e.others?e.others.displayName:{};var b=e.others&&e.others.properties&&e.others.properties.color||{},S=e.others&&e.others.properties&&e.others.properties.pattern||{};if(!i.isPlainObject(b)){b={actualColor:b}}if(!i.isPlainObject(S)){S={actualColor:S}}if(!i.isPlainObject(A)){A={actualColor:A}}var M=function(e,i,r){for(u=0;u<h.length;u++){var a=h[u];if(e[a]&&e[a]!==""){_.displayName[a]=A[a];_.properties[i][a]=e[a]}else if(r&&r[a]){_.properties[i][a]=t.get("plotArea.defaultOthersStyle."+i);_.properties.isDefault[a]=true}}};M(b,"color",c);M(S,"pattern",null);if(e.others&&e.others.dataName){_.dataName=e.others.dataName}a.others=_}return a};o.setDataset=function(e){if(e&&e.metadata){var t=this;this._getMetadata=function(i){if(t._metaCache){var r=t._metaCache[i];if(!r){r=t._metaCache[i]=e.metadata.call(e,i)}return r}return e.metadata.call(e,i)}}if(e&&e.measures){this._measureNames=e.measures()}};o.getParserOption=function(){if(this._parserOption){return this._parserOption}var e={dataTimeLevel:null,showAsUTC:false};if(/timeseries.*column|timeseries.*combination|timeseries_bullet|timeseries_waterfall/.test(this._chartType)){e={dataTimeLevel:this._statusMgr.get("timeLevels")[0],showAsUTC:this._propMgr.get("general.showAsUTC")}}e.originProps=this._propMgr;this._parserOption=e;return e};o.bindDataPointProperty=function(e,t){if(this._dataPointPropName===e){return}this._dataPointPropName=e;this._dataPointStyleMode=t;if(this._onDataPointChangeHook){this._onDataPointChangeHook.remove()}if(this._handlers.length===0){return}this._onDataPointChangeHook=this._propMgr.watch(this._dataPointPropName,function(){var e=this._handlers;e.forEach(function(e){e()})}.bind(this))};o.bindDisplayStyleProperty=function(e){if(this._displayStylePropName===e){return}this._displayStylePropName=e};o.bindAxisProperty=function(e){if(this._axisPropName===e){return}this._axisPropName=e};o.bindSeriesStyleProperty=function(e){this._seriesStylePropName=e};o.setUseSemanticPattern=function(e){this._useSemanticPattern=e};o.isUseSemanticPattern=function(){return this._useSemanticPattern};o.setHideSemanticLegend=function(e){this._isHideSemanticLegend=e};o.isHideSemanticLegend=function(){return this._isHideSemanticLegend};o.setUseSemanticDPLineStyle=function(e){this._useSemanticDPLineStyle=e};o.addDataPointChangeCallback=function(e){this._handlers.push(e)};o.hasDataPointStyle=function(){var e=this._session?this._session[f]:this.getDataPointStyle();return e!=null&&e.rules!=null};o.isOverrideMode=function(){if(this._isTreemap||this._isHeatmap){return true}var e=this._dataPointStyleMode?this._propMgr.get(this._dataPointStyleMode):"";return e==="override"};function l(e,t){var r=true;if(i.isString(e)&&i.isString(t)&&/^info\//.test(t)&&!/^info\/hichert/.test(t)){if(/bar|column|combination|bubble|bullet/.test(t)){if(["diagonalLightStripe","diagonalStripe","reverseDiagonalStripe","noFill"].indexOf(e)<0){r=false}}else if(/line/.test(t)){if(["solid","noFill"].indexOf(e)<0){r=false}}}return r}function u(e){var t={};for(var i in e){if(e.hasOwnProperty(i)&&i!=="properties"){t[i]=e[i]}}var r={};for(var a in e["properties"]){if(e["properties"].hasOwnProperty(a)&&a!=="pattern"){r[a]=e["properties"][a]}}t.properties=r;return t}function c(e,t){var i;if(e.rules){var r=[];for(var a=0;a<e.rules.length;++a){var n=e.rules[a];i=n.properties&&n.properties.pattern;if(!l(i,t)){e.rules[a]=u(n)}}}if(e.others){var o=e.others&&e.others.properties;if(o&&o.pattern){i=o.pattern;if(!l(i,t)){e.properties=u(e.others)}}}return e}o.getDataPointStyle=function(){if(this._dataPointPropName==null){return null}var e=this._propMgr.get(this._dataPointPropName);if(!e){return null}var t={};for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}if(!this.isOverrideMode()&&t.hasOwnProperty("others")){t["others"]=null}if(this._useSemanticPattern){t=c(t,this._chartType)}return t};o.getDisplayStyle=function(){if(this._displayStylePropName==null){return null}var e=this._propMgr.get(this._displayStylePropName);if(!e){return null}var t={};for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i]}}return t};o.shouldChangeColor=function(){return this.hasRuleForProp("color")||this.othersStyleHas("color")||this._useSemanticDPLineStyle&&(this.hasRuleForProp("lineColor")||this.othersStyleHas("lineColor"))};o.hasRuleForProp=function(e){var t=this.getDataPointStyle();if(!t){return false}return t.rules&&t.rules.some(function(t){return t.properties&&t.properties.hasOwnProperty(e)&&t.properties[e]!=null})};o.othersStyleHas=function(e){if(!this.isOverrideMode()){return false}var t=this.getDataPointStyle();if(!t){return false}var r=false;if(!i.isArray(e)){e=[e]}if(t.others&&t.others.properties){var a=t.others.properties;if(e.some(function(e){return a[e]!=null})){r=true}}return r};o.hasAxisStyle=function(){if(this._axisPropName==null){return false}var e=this._propMgr.get(this._axisPropName);return e!=null&&e.rules!=null};o.hasDataPointColorStyle=function(){return this.hasRuleForProp("color")||this.othersStyleHas("color")||this._useSemanticPattern&&(this.hasRuleForProp("pattern")||this.othersStyleHas("pattern"))};o.hasDataPointDataLabelStyle=function(){return this.hasRuleForProp("dataLabel")||this.othersStyleHas("dataLabel")};o.hasDataPointLineStyle=function(){return this._useSemanticDPLineStyle&&(this.hasRuleForProp("lineColor")||this.hasRuleForProp("lineType")||this.othersStyleHas(["lineColor","lineType"]))};o.hasDataPointStyleOthers=function(){var e=this.getDataPointStyle();return e!=null&&e.others!=null};o.beginSession=function(){this._session={};this._metaCache={};this._parserOption=null};o.endSession=function(){this._session=null;this._metaCache=null;this._parserOption=null};o.analyzeDataPoint=function(e,t,i,r){return this.analyzeDataPointForProperty(t,e,i,r)};o.analyzeValueBasedColor=function(t,i){var r={};r.rules=this._propMgr.origin.get("general.timePeriodStyle");var n=a.convertBigNumString(this._measureNames,t);var o=a.convertBigNumString(this._measureNames,i);return e.analyze(n,r,false,o,true,this._propMgr)};o.analyzeAxisLabel=function(t){if(this._axisPropName==null){throw"The axis property name is required"}var i=this._propMgr.get(this._axisPropName);return e.analyze(t,i,true)};o.analyzeDataPointDataLabel=function(e,t){return this.analyzeDataPointForProperty(e,"dataLabel",false,t)};var f="DataPoint_Style_Key";var m="Others_Rule_Key";var p="Rules_Key";o.analyzeDataPointForProperty=function(t,r,n,o){if(this._dataPointPropName==null){throw"The data point property name is required"}this._session=this._session||{};var s;if(this._session.hasOwnProperty(f)){s=this._session[f]}else{s=this.getDataPointStyle();if(this._isBullet){s=this.convertBulletDataPointColorStyle(s)}this._session[f]=s}if(!s||!s.rules){return null}var l=this.getParserOption();if(!i.isArray(r)){r=[r]}if(this._isBullet){l.ignoreEmptyProperty=r[0]==="pattern"}var u,c=[m,r[0],(!!n).toString()].join("__");if(this._session.hasOwnProperty(c)){u=this._session[c]}else{u=this.getOthersStyle(r[0],n,s);this._session[c]=u}var h,d=[p,r.toString(),(!!n).toString()].join("__");if(this._session.hasOwnProperty(d)){h=this._session[d]}else{h=e.withProperty(s,r,u,this._getMetadata,l,n);this._session[d]=h}var g=a.convertBigNumString(this._measureNames,t);var v=a.convertBigNumString(this._measureNames,o);return e.analyze(g,h,n,v)};o.analyzeDisplayStyle=function(t,i,r){var n=this.getDisplayStyle();if(!n||!n.rules){return null}var o=a.convertBigNumString(this._measureNames,t);var s=a.convertBigNumString(this._measureNames,r);return e.analyze(o,n,i,s)};o._getSeriesProps=function(){var e=this._propMgr.get("plotArea.series");if(!e){return null}var t=[];e.forEach(function(e){if(e){var i=[e.dataContext];var r={settings:{type:e.type,stack:e.stack}};t.push({dataContext:i,properties:r})}});var i={settings:{type:undefined,stack:undefined}};t={rules:t,others:i};return t};o.analyzeSeries=function(t){var i=this._getSeriesProps();var r={};r.disableTimeStampConverting=true;var a=e.withProperty(i,"settings",null,this._getMetadata,r);var n=e.analyze(t,a);n=n?n.settings:null;return n};var h=["actualColor","additionalColor","forecastColor"];var d=["IDS_BULLETACTUALVALUES","IDS_BULLETADDITIONALVALUES","IDS_BULLETFORECASTVALUES"];function g(e,t){var i=[0,0,0];var r,a,n;for(a=0;a<e.length;a++){n=e[a].properties.color;if(n==null){continue}for(r=0;r<h.length;++r){if(n.hasOwnProperty(h[r])){i[r]=1}}}if(t){for(n in t.properties.color){if(t.properties.color.hasOwnProperty(n)){if(!n||t.properties.isDefault[n]){continue}for(r=0;r<h.length;++r){if(n===h[r]){i[r]=1}}}}}var o=[];for(r=0;r<i.length;++r){if(i[r]){o.push(h[r])}}return o}o.mergeColorPatternRules=function(t,a){var n={};var o=0;var s=t.rules?t.rules.length:0;for(o=0;o<s;++o){t.rules[o].index=o}var l=this._isLineType?"color,lineColor,lineType,dataLabel":"color,dataLabel";var u=this.getOthersStyle(l,true,t,a);var c=this.getOthersStyle("pattern",true,t,a);var f=e.withProperty(t,l,this.getOthersStyle("color"),this._getMetadata,this.getParserOption());var m=e.withProperty(t,"pattern",this.getOthersStyle("pattern"),this._getMetadata,this.getParserOption());var p=f.others?f.others.hideInLegend:true;var h=m.others?m.others.hideInLegend:true;var d={};var g=[];var v=[];var y=[];if(this._useSemanticPattern){var _;for(o=0;o<f.rules.length;++o){_=f.rules[o].index;y[_]=f.rules[o]}for(o=0;o<m.rules.length;++o){_=m.rules[o].index;y[_]=m.rules[o]}n.rules=y;if(!i.isEmptyObject(c)&&!i.isEmptyObject(u)){var A={};A=r.extend(true,{},c.properties,u.properties);d.displayName=u.displayName||c.displayName;d.properties=A}else{d={}}}else{n=f;d=u}if(p&&h){d.hideInLegend=true}n.others=d;for(o=0;o<s;++o){if(t.rules[o]){delete t.rules[o].index}}return n};o.getDataPointColorScale=function(){var e=this.getDataPointStyle();if(e==null){return[]}var r=!this.isOverrideMode()&&e.hideSemanticLegend;this.setHideSemanticLegend(r);var a;if(this._isBullet){e=this.convertBulletDataPointColorStyle(e);if(e==null){return[]}a=g(e.rules,e.others)}e=this.mergeColorPatternRules(e,a);var n=e.others;var o=e.rules;var s=[];var l=[];var u=[];var c=false;var f;var m;var p=t.get("IDS_SEMANTICCOLORRANGE");var v;var _;if(o){for(var A=0;A<o.length;A++){if(!o[A]){continue}var b=o[A].properties.color;var S=o[A].properties.pattern;var M=o[A].properties.lineColor;var D=o[A].properties.lineType;if(b==null&&M==null&&D==null&&!(this._useSemanticPattern&&S)){continue}_={color:b,pattern:S};var E=p+(A+1);var T;if(this._isBullet&&(i.isPlainObject(b)||i.isPlainObject(S))){f={};for(m=0;m<h.length;++m){v=h[m];if(!b.hasOwnProperty(v)&&!S.hasOwnProperty(v)){continue}T=o[A].displayName;if(T&&T.hasOwnProperty(v)){f[v]=T[v]}else if(a.length<=1){f[v]=E}else{f[v]=E+" / "+t.get(d[m])}}}else{f=o[A].displayName;if(f==null){f=E}}if(this._isLineType){_.lineColor=M;_.lineType=D;if(/combination/.test(this._chartType)){_.seriesShape="combination"}else{_.seriesShape="line"}}s.push(f);l.push(_);u.push(o[A].callback||o[A].dataContext)}}if(!i.isEmptyObject(n)&&n!=null&&!n.hideInLegend){f=n.displayName;if(f==null){f=t.get("IDS_SEMANTICCOLOROTHERS")}_={color:n.properties.color,pattern:n.properties.pattern};if(n.properties.color!=null||n.properties.pattern!=null||this.hasLineProperties(n.properties)){if(this.hasLineProperties(n.properties)){_.lineColor=n.properties.lineColor;_.lineType=n.properties.lineType}if(this._isLineType){if(/line/.test(this._chartType)){_.seriesShape="line"}else{_.seriesShape="combination"}}s.push(f);l.push(_);c=true}}return new y(s,l,u,c,n,r)};o.hasLineProperties=function(e){return this._isLineType&&(e.lineColor||e.lineType)};var v={line:["color","width","type"],dataPoint:["pattern","color"],area:["opacity","color","visible"]};o.analyzeSeriesStyle=function(t,i){if(!this._seriesStylePropName){return null}var a=this._seriesStylePropName.slice(),n=null;if(!a||a.length===0){throw"The line style property name is required"}if(!i){i="line"}if(typeof a==="string"){n=this._propMgr.get(this._seriesStylePropName)}else if(a instanceof Array){while(a.length>0&&!(n&&Object.keys(n).length>0)){n=this._propMgr.get(a.pop())}}var o=this._getMetadata;var s=this.getParserOption();return v[i].reduce(function(a,l){var u=e.withProperty(n,l,false,o,s,null,i),c={};if(!u){return a}if(u.others&&u.others.properties){c[l]=u.others.properties[l];u.others.properties=c}return r.extend(true,a,e.analyze(t,u))},{})};o.getOthersStyle=function(e,r,a,n){var o={};if(!this.isOverrideMode()){return o}var s=a!=null?a:this._propMgr.get(this._dataPointPropName);var l=false,u;var c=e.split(",");var f;if(s&&s.others&&s.others.properties){f=s.others.properties;if(c.length>1){for(u=0;u<c.length;u++){if(f[c[u]]!=null&&f[c[u]]!==""){l=true;break}}}else{l=null!=f[e]&&""!==f[e]}}if(l){var m=s.others;var p={};if(c.length>1){for(u=0;u<c.length;u++){var g=c[u];if(m.properties[g]){p[g]=m.properties[g]}}}else{p[e]=m.properties[e]}o.properties=p;if(this._isBullet){o.properties.isDefault=s.others.properties.isDefault||{}}var v=o.displayName=m.displayName;if(!r||m==null||m.hideInLegend){return o}var y=t.get("IDS_SEMANTICCOLOROTHERS");if(v==null){o.displayName=y;o.useDefaultOtherName=true}else if(this._isBullet&&n&&n.length>0){var _=n.length;var A;for(u=0;u<_;++u){A=n[u];if(v[A]){continue}if(o.properties["color"]&&o.properties["color"][A]&&o.properties.isDefault[A]!==true){v[A]=y;if(_>1){v[A]+=" / "+t.get(d[h.indexOf(A)])}}}}}else if(!this._isBullet){var b=this.shouldChangeColor();o.properties=o.properties||{};var S=o.properties;if(c.lastIndexOf("color")>-1&&b){S.color=this._propMgr.get("plotArea.defaultOthersStyle.color")}if(c.lastIndexOf("pattern")>-1&&this._useSemanticPattern){S.pattern=""}if(c.lastIndexOf("lineType")>-1&&this._useSemanticDPLineStyle){S.lineType="line"}if(c.lastIndexOf("lineColor")>-1&&this._useSemanticDPLineStyle&&b){S.lineColor=this.getOthersStyle("color",r,a,n).properties.color}if(c.lastIndexOf("dataLabel")>-1){S.dataLabel=!!this._propMgr.get("plotArea.dataLabel.visible")}var M=i.isExist(s.others);if(r){var D=null;if(M){if(i.isExist(s.others.displayName)){D=s.others.displayName}}o.displayName=D||t.get("IDS_SEMANTICCOLOROTHERS")}if(i.isEmptyObject(S)){o.properties=undefined}}return o};function y(e,t,i,r,a,n){this._domain=e;this._range=t;this._rules=i;this._hasValidOthers=r;this._others=a;this._hideSemanticLegend=n}var _=y.prototype;_.getDomain=function(){return this._domain};_.getRange=function(){return this._range};_.getRules=function(){return this._rules};_.hasValidOthers=function(){return this._hasValidOthers};_.others=function(){return this._others};return n});define("sap/viz/framework/common/mark/MarkManager",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils"],function(e,t){function i(e){this.setMode(e||"single")}i.prototype.lock=function(){this._locked=true};i.prototype.locked=function(){return this._locked};i.prototype.setMode=function(e){var i=u[this._mode];if(i){r(this,i);i.destroy.call(this)}t.extend(true,this,u[e]);this._mode=e};i.prototype.getMode=function(){return this._mode};function r(e,t){Object.keys(t).forEach(function(t){delete e[t]})}var a={setShape:function(e){this._markerShape=e},destroy:function(){delete this._markerShape},getShape:function(){return this._markerShape}},n={setShape:function(e,t){this._markerShapes=e;this._fallback=t},destroy:function(){delete this._markerShapes;delete this._fallback},getShape:function(e,t){var i=isNaN(t)?0:t;return this._markerShapes[i]||this._fallback}},o=t.extend(true,{},n,{setSeriesShape:function(e){this._seriesShape=e},getSeriesShape:function(e,t){var i=isNaN(t)?0:t;if(this._seriesShape){return this._seriesShape||"line"}}}),s=t.extend(true,{},o,{getShape:function(e,t){var i=n.getShape.call(this,e,t);return i[e]||this._fallback},getSeriesShape:function(e,t){var i=isNaN(t)?0:t;if(this._seriesShape){return this._seriesShape[i][e]||"line"}}}),l={setMarkers:function(e){this._shapes=e},getShape:function(e,t,i){return this._shapes[t][i].marker},getSeriesShape:function(e,t,i){return this._shapes[t][i].type},destroy:function(){delete this._shapes;delete this._seriesType}},u={single:a,dual:n,combination:s,line:o,series:l};return i});define("sap/viz/framework/event/EventDispatcher",["sap/viz/framework/common/util/EventDispatch"],function(e){var t=function(){this._dispatch=new e};var i=t.prototype;i.destroy=function(){if(this._dispatch){this._dispatch.destroy();this._dispatch=null}};i.on=function(e,t){var i=e.split(".")[0];if(!this._dispatch[i]){this._dispatch.addEventTypes(i)}this._dispatch.on(e,t);return this};i.off=function(e){var t=e.split(".")[0];if(this._dispatch[t]){this._dispatch.on(e,null)}return this};i.fire=function(e,t){if(!this._dispatch){return}if(!this._dispatch[e]){this._dispatch.addEventTypes(e)}this._dispatch[e](t);return this};return t});define("sap/viz/framework/common/util/GeometryUtils",["sap/viz/framework/common/util/UADetector"],function(e){var t={};t.getBBox=e.isFirefox()?function(e){try{return e.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}}:function(e){return e.getBBox()};t.getBoundingClientRect=function(e){var t;if(e.getBoundingClientRect){t=e.getBoundingClientRect()}else if(e.length>0){t={};t.left=Infinity;t.right=-Infinity;t.top=Infinity;t.bottom=-Infinity;for(var i=0;i<e.length;i++){var r=e[i].getBoundingClientRect();if(r.left<t.left){t.left=r.left}if(r.top<t.top){t.top=r.top}if(r.right>t.right){t.right=r.right}if(r.bottom>t.bottom){t.bottom=r.bottom}}t.x=t.left;t.y=t.top;t.width=t.right-t.left;t.height=t.bottom-t.top}return t};return t});define("sap/viz/framework/common/util/GraphicModelUtil",["sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/SVG"],function(e,t){var i={};var r=/rotate\s*\(\s*([+-]?\d+(?:\.\d+)?),\s*([+-]?\d+(?:\.\d+)?),\s*([+-]?\d+(?:\.\d+)?)\s*\)/i;var a=/skewX\(([+-]?\d+(?:\.\d+)?)\)/i;var n=/translate\(([+-]?\d+(?:\.\d+)?),\s*([+-]?\d+(?:\.\d+)?)\)/i;function o(e,t){if(t){var i=t.getAttribute("transform");if(i){var r=e.exec(i);if(r){return Array.prototype.slice.call(r,1).map(function(e){return+e})}}}}var s=o.bind(null,r);var l=o.bind(null,a);var u=o.bind(null,n);i.getRotation=s;i.getSkewX=l;i.getTranslate=u;i.calculateOffset=function(i,r){var a=null;if(i&&r){if(!i.getBBox){i=i.querySelector(".v-m-root")}var n=t.getTransformToElement(r,i);var o=e.getBBox(r);a={};a.x=n.e+o.x;a.y=n.f+o.y}return a};i.getGraphicSize=function(t,r){var a=null;if(r&&t){a={};var n=i.calculateOffset(t,r);if(n){a=n}var o=e.getBBox(r);a.width=o.width;a.height=o.height}return a};i.isVisible=function(e,t){return!(t.x+t.width<e.x||t.y+t.height<e.y||t.x>e.x+e.width||t.y>e.y+e.height||(t.width===0||t.height===0))};return i});define("sap/viz/framework/chartmodel/GraphicModel",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/GraphicModelUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/SVG"],function(e,t,i,r,a){function n(){this._chartRoot=null;this._exposedModules=["chartRoot"];this._boundary=null;this._chartView=null}var o="."+r.CSS.CLASS.DATAPOINT;var s=".v-lines";var l="data-datapoint-id";var u=".v-plot-bound";var c="."+r.CSS.CLASS.DATALABEL_GROUP+" ."+r.CSS.CLASS.DATALABEL;var f=".v-m-background";var m={legend:{MODULE:".v-m-legend",BOUND:".v-m-legend .v-bound",TITLE:" .v-m-legend .viz-legend-title",ITEM:".v-legend-item"},sizeLegend:{MODULE:".v-m-sizeLegend",BOUND:".v-m-sizeLegend .v-bound",TITLE:".v-m-sizeLegend .viz-legend-title",CIRCLE:".v-m-sizeLegend .v-circles",LABEL:".v-m-sizeLegend .v-valueLabels"},valueAxis:{MODULE:".v-m-valueAxis",BOUND:".v-m-valueAxis .v-bound",BODY:".v-m-axisBody",TITLE:".v-m-axisTitle",AXISLINEGROUP:".v-line-group",AXISLINE:".v-line-group .v-valueaxisline",AXISTICKS:".v-tick-group .v-tick",AXISLABEL:".v-label-group .viz-axis-label"},valueAxis2:{MODULE:".v-m-valueAxis2",BOUND:".v-m-valueAxis2 .v-bound",BODY:".v-m-axisBody",TITLE:".v-m-axisTitle",AXISLINEGROUP:".v-line-group",AXISLINE:".v-line-group .v-valueaxisline",AXISTICKS:".v-tick-group .v-tick",AXISLABEL:".v-label-group .viz-axis-label"},categoryAxis:{MODULE:".v-m-categoryAxis",BOUND:".v-m-categoryAxis .v-bound",BODY:".v-m-axisBody",TITLE:".v-m-axisTitle",AXISLINE:".v-line-group .v-valueaxisline.v-line",AXISTICKER:".v-tick",AXISLABEL:".v-axis-item",AXISLABEL_RECT:".v-axis-item .viz-axis-label-rect",AXISLABEL_WRAPPER:".v-axis-label-wrapper"},timeAxis:{MODULE:".v-m-timeAxis",BOUND:".v-m-timeAxis .v-bound",BODY:".v-m-axisBody",TITLE:".v-m-axisTitle",AXISLINEGROUP:".v-line-group",AXISLINE:".v-line-group .v-valueaxisline.v-line",AXISTICKS:".v-tick-group .v-tick",AXISLABEL:".v-label-group .viz-axis-label"},background:{MODULE:".v-m-background",BOUND:".v-m-background"}};function p(){return{x:0,y:0,width:0,height:0,visible:false}}var h=function(){return[]};function d(){return{r:0,x:0,y:0}}n.prototype.setChartSize=function(e){this._boundary=e};function g(e){if(!e){return}var t=0,i=e.childNodes.length;for(;t<i;t++){if(e.childNodes[t].nodeType===e.TEXT_NODE){return e.childNodes[t].textContent}else if(e.childNodes[t].nodeType===e.ELEMENT_NODE){var r=[],a=e.childNodes[t].childNodes.length;if(a===1){return e.childNodes[t].childNodes[0].textContent}for(var n=0;n<a;n++){if(e.childNodes[t].childNodes[n].tagName!=="title"){r.push(e.childNodes[t].childNodes[n].textContent)}}return r}}}n.prototype.getSingleLegendItem=function(e){var r;var a=this._chartRoot.querySelector(".v-legend-body-bound");var n=t.getGraphicSize(this._chartRoot,a);var o=i.getContext(e);r=t.getGraphicSize(this._chartRoot,e);r.color=o.color;var s=e.querySelector("text");r.displayText=g(s)||"";r.context=o.ctx;if(o.shape){r.shape=o.shape}r.visible=t.isVisible(n,r);r.name="legendItem";return r};n.prototype.getLegendItems=function(){var e=this._chartRoot.querySelectorAll(m["legend"].ITEM);var i=this._chartRoot.querySelector(".v-legend-body-bound");var r=t.getGraphicSize(this._chartRoot,i);var a=[];for(var n=0,o=e.length;n<o;n++){a[n]=this.getSingleLegendItem(e[n])}return a};n.prototype._getBubbleSize=function(){var e=this._chartRoot.querySelectorAll(m["sizeLegend"].CIRCLE),t=this._chartRoot.querySelectorAll(m["sizeLegend"].LABEL),r,a=[],n,o,s,l;if(e.length>0&&t.length>0){o=i.getContext(e[0]);s=i.getContext(t[0]);if(o&&s){l=Math.max(o.length,s.length);for(r=0;r<l;r++){n={value:s[r],bubbleWidth:o[r]};a.push(n)}}}return a};var v=function(e){var t={};for(var r=0,a=e.length;r<a;r++){var n=i.getContext(e[r]);var o=n.id;if(n.index){t[o]={rowIndex:n.index.row,columnIndex:n.index.col}}else{t[o]={rowIndex:n.layer,columnIndex:n._cellIndex}}}return t};function y(e,r,n){var o=e.querySelector(m.categoryAxis.AXISLABEL_RECT);var s;s=t.getGraphicSize(r,o||e);s.name="categoryAxis.labelItem";var l=i.getContext(e);s.context=l.ctx;if(o){s.visible=t.isVisible(n,e);var u=a.getTransformToElement(o,r);var c=t.getRotation(o);var f=e.querySelector("text");s.displayText=g(f)||"";if(c){var p=o.getBBox();var h=Math.sqrt(p.x*p.x+p.y*p.y);var d=t.getTranslate(o)||[0,0];s.rotation={r:c[0],x:u.e+h*u.a,y:u.f+h*u.b,width:p.width,height:p.height};s.x=s.rotation.x-p.x-d[0];s.y=s.rotation.y-p.y-d[1];if(l.cellWidth){s.width=l.cellWidth}if(l.cellHeight){s.height=l.cellHeight}}var v=t.getSkewX(o);if(v){s.skewX={r:v[0],x:s.x-s.y*u.c,y:s.y}}}else{s.visible=false}return s}n.prototype.getCategoryLabels=function(e){var r=e.querySelectorAll(m.categoryAxis.AXISLABEL);var a=e.querySelector(m.categoryAxis.BOUND);var n=t.getGraphicSize(this._chartRoot,a);var o=[];var s=v(r);var l=this._chartRoot.querySelector(".v-m-root");for(var u=0,c=r.length;u<c;u++){var f=y(r[u],l,n);var p=i.getContext(r[u]);var h=p.id;if(p.index){f.index=[p.index.row,p.index.col]}else{f.index=[p.layer,p._cellIndex]}f.name="categoryAxis.labelItem";var d=s[h];if(!o[d.rowIndex]){o[d.rowIndex]=[]}var g=r[u].querySelector(m.categoryAxis.AXISLABEL_WRAPPER);f["hasCustomRenderer"]=D(g);o[d.rowIndex][d.columnIndex]=f}return o};n.prototype.getCategoryAxisLine=function(e){var i=e.querySelector(m.categoryAxis.AXISLINE);var r={};if(i){var a=t.getGraphicSize(this._chartRoot,i);r.x1=a.x;r.y1=a.y;r.x2=a.x+a.width;r.y2=a.y+a.height;r.visible=true}else{r={visible:false,x1:0,y1:0,x2:0,y2:0}}var n=e.querySelectorAll(m.categoryAxis.AXISTICKER);if(n&&n.length){r.ticksVisible=true}else{r.ticksVisible=false}r.name="categoryAxis.line";return r};n.prototype.buildAxisLineInfo=function(e,i,r){var a=e.querySelector(m[i].AXISLINE);r.axisLine={};if(a){var n=t.getGraphicSize(this._chartRoot,a);r.axisLine.x1=n.x;r.axisLine.y1=n.y;r.axisLine.x2=n.x+n.width;r.axisLine.y2=n.y+n.height;r.axisLine.visible=true}else{r.axisLine.visible=false;r.axisLine.x1=0;r.axisLine.y1=0;r.axisLine.x2=0;r.axisLine.y2=0}var o=e.querySelectorAll(m[i].AXISTICKS);if(o){r.axisLine.ticksVisible=o.length>0}else{r.axisLine.ticksVisible=false}r.axisLine.name=i+".line"};n.prototype.buildVauleAxisMinMax=function(e,t,r){var a=e.querySelectorAll(m[t].AXISLABEL);if(a&&a.length>0){var n=i.getContext(a[0]).value;var o=i.getContext(a[a.length-1]).value;r.max=Math.max(n,o);r.min=Math.min(n,o)}else{r.min=r.max=0}};function _(e){var t=e.getAttribute("class");if(t.indexOf("v-m-xAxis")>-1){return"horizontal"}if(t.indexOf("v-m-yAxis")>-1){return"vertical"}}n.prototype.buildSpecialEle=function(e,t,r){if(!!m[t]){var a=this;if(t==="legend"){e.items=function(){var e=null;if(arguments.length===0){e=a.getLegendItems()}else{e=a.getSingleLegendItem(arguments[0])}return e};e.name="legend"}else if(t==="categoryAxis"){var n=this._chartRoot.querySelector(m.categoryAxis.MODULE);e.axisLine=this.getCategoryAxisLine(n);var o=this._chartRoot.querySelectorAll(m.categoryAxis.AXISLABEL);e.labels=h;if(o&&o.length){e.labelVisible=true;e.labels=function(){return a.getCategoryLabels(n)}}else if(!e.title||!e.title.visible){e.labelVisible=false}if(e.axisLine.visible===false&&e.labelVisible===false){e.visible=false}var s=r.querySelector(m[t].TITLE);if(!e.title){e.title={}}e.direction=_(n);e.name="categoryAxis"}else if(t==="valueAxis"||t==="valueAxis2"){this.buildAxisLineInfo(r,t,e);this.buildVauleAxisMinMax(r,t,e);var l=r.querySelector(m[t].TITLE);if(!e.title){e.title={}}e.direction=_(r);e.name=t}else if(t==="sizeLegend"){e.bubbleSize=this._getBubbleSize()}else if(t==="timeAxis"){this.buildAxisLineInfo(r,t,e);var u=this._chartView.getChild("main");if(u&&u.module&&u.module.getDisplayedTimeDomain){var c=u.module.getDisplayedTimeDomain();e.startTime=c[0];e.endTime=c[1]}var f=r.querySelector(m[t].BODY);if(f){e.level=i.getContext(f).level}e.direction=_(r)}}};function A(e,t){var i=e.getAttribute("clip-path"),r,a;if(i){a=/^url\s*\(\s*(#[\w-]+)\s*\)$/.exec(i);if(a){i=a[1];r=t.querySelector(i);if(r){return r.firstElementChild}}}}n.prototype.buildGeneralBody=function(e,i,r){if(!!m[i]&&!!m[i].BODY){var a=r.querySelector(m[i].BODY);var n=r.querySelector(m[i].BOUND);var o=null;if(a){var s=A(a,r);o=t.getGraphicSize(this._chartRoot,s||a);var l=t.getGraphicSize(this._chartRoot,n);var u=e.visible;if(u===true){o.visible=t.isVisible(l,e)}else{o.visible=false}}else{o=p()}o.name=i+".axisBody";e.body=o}};n.prototype.getBackground=function(){var e={};var i=m["background"];if(!i){return e}var r=this._chartRoot.querySelector(i.MODULE);if(r){e=t.getGraphicSize(this._chartRoot,r);e.visible=e.width>0&&e.height>0}else{e=p()}e.name="background";return e};n.prototype.buildModule=function(e){var i={};var r=m[e];if(!r){return i}var a=this._chartRoot.querySelector(r.MODULE);var n=this._chartRoot.querySelector(r.BOUND);if(n){i=t.getGraphicSize(this._chartRoot,n);i.visible=i.width>0&&i.height>0;if(i.visible){if(r.TITLE){var o=a.querySelector(r.TITLE);if(o){i.title=t.getGraphicSize(this._chartRoot,o);i.title.displayText=o?o.textContent:"";i.title.visible=i.title.width>0&&i.title.height>0}else{i.title=p();i.title.displayText=""}}}else{i.visible=false;i.title=p();i.title.displayText=""}i.title.name=e+".title";this.buildSpecialEle(i,e,a);if(r.BODY){this.buildGeneralBody(i,e,a)}}else{i=p()}i.name=e;return i};var b={plot:function(){var e=this._chartRoot.querySelectorAll(".v-m-plot .v-plot-bound");if(e.length===0){return p()}var r=t.getGraphicSize(this._chartRoot,e[0]);if(r.width===0||r.height===0){return p()}var a=this;r.dataLines=function(){var e=null;if(arguments.length===0){e=a.fetchDataLines()}else{e=a.fetchDataLines([arguments[0]])[0]}return e};r.dataLabels=function(){var e=null;if(arguments.length===0){e=a.fetchDataLabelSeries()}else{e=a.fetchDataLabel(arguments[0])}return e};r.dataPoints=function(){var e=null;if(arguments.length===0){e=a.fetchDatapointsSeries();if(e.length===0){e=a.fetchDatapointsSeriesFromPlot(r)}}else{e=a.fetchDataPoint(arguments[0])}return e};r.referenceLines=function(){var r=arguments[0];var n=function(r){var n=/v-referenceline-([\w\d]+)/.exec(r.getAttribute("class"))[1];var o=r.parentNode;var s=t.getGraphicSize(a._chartRoot,r);var l=i.getData(o);var u=o.parentNode.querySelector(".v-referenceline-label > text");s.value=l.value;s.index=l.id;s.displayText=u?u.textContent||"":"";s.name="referenceLine."+n;s.visible=t.isVisible(e,r);return s};if(r){return n(r)}else{var o=a._chartRoot.querySelectorAll(".v-referenceline");return Array.prototype.map.call(o,n)}};r.visible=true;r.name="plot";return r},title:function(){var e=this._chartRoot.querySelectorAll(".v-m-title");var i=this._chartRoot.querySelectorAll(".v-m-title > .v-title");var r={};if(i.length===0){r=p();r.displayText=""}else{r=t.getGraphicSize(this._chartRoot,i[0]);r.displayText=i[0]?i[0].textContent:"";r.visible=true}r.name="title";return r},chartRoot:function(){var e=null;if(this._boundary){e={visible:true,x:0,y:0,width:this._boundary.width,height:this._boundary.height}}else{e=p()}e.name="chartRoot";return e},legend:function(){return this.buildModule("legend")},sizeLegend:function(){return this.buildModule("sizeLegend")},categoryAxis:function(){return this.buildModule("categoryAxis")},timeAxis:function(){return this.buildModule("timeAxis")},valueAxis:function(){return this.buildModule("valueAxis")},valueAxis2:function(){return this.buildModule("valueAxis2")}};n.prototype.get=function(e){if(this._exposedModules.indexOf(e)>=0){return b[e].bind(this)}return undefined};n.prototype.registerExposedModule=function(e){this._exposedModules.push(e)};n.prototype.exposedModules=function(){return this._exposedModules};function S(e){var t={},i,r;for(i=0,r=e.length;i<r;i++){t[e[i].getAttribute(l)]=e[i]}return t}function M(e,r,a,n,o){var s=t.getGraphicSize(a,e);var u=e.getAttribute(l);s.displayText=n[u]?n[u].querySelector("text").textContent:"";s.visible=t.isVisible(r,s);s.context=i.getContext(e);var c=o.getData();if(!s.context&&c&&c._dataPoints&&c._dataPoints[u]){s.context=c._dataPoints[u].context()}s.name="dataPoint";if(e.getAttribute("combination-column")==="true"){s.shape="rect"}else if(e.getAttribute("combination-marker")==="true"){s.shape="circle"}var f=i.getData(e);if(f.hasOwnProperty("color")){s.color=f.color}if(o.getDataPointGraphicFromLineRenderer){var m=o.getDataPointGraphicFromLineRenderer(s.context);if(m&&m.color){s.color=m.color}}s["hasCustomRenderer"]=D(e,true);return s}function D(e,t){var r=false;t=t||false;if(e){if(t){var a=e.querySelector(".negative-datapoint");if(a){e=a}}var n=e.childNodes[0];if(n){var o=i.getCustomizationInfo(n);if(!o||o&&o["defaultRenderer"]!==true){r=true}}}return r}function E(e,r,a){var n=t.getGraphicSize(a,e);var o=e.getAttribute(l);n.displayText=e.querySelector("text").textContent;n.visible=t.isVisible(r,n);n.context=i.getContext(e);n.dataPointId=+o;n.name="dataLabel";var s=i.getData(e);for(var u in s){if(s.hasOwnProperty(u)&&u==="color"){n[u]=s[u]}}n["hasCustomRenderer"]=D(e);return n}n.prototype.fetchDataPoint=function(e){if(!e){return null}var i=t.getGraphicSize(this._chartRoot,this._chartRoot.querySelector(u));var r=S(this._chartRoot.querySelectorAll(c));var a=T(this._chartView);return M(e,i,this._chartRoot,r,a)};n.prototype.fetchDatapointsSeries=function(){var e=[];var r=this._chartRoot.querySelectorAll(o);var a=T(this._chartView);var n=t.getGraphicSize(this._chartRoot,this._chartRoot.querySelector(u));var s=S(this._chartRoot.querySelectorAll(c));if(r.length){for(var l=0,f=r.length;l<f;l++){var m=r[l];var p=i.getData(m);if(!e[p.seriesIndex]){e[p.seriesIndex]=[]}e[p.seriesIndex][p.itemIndex]=M(m,n,this._chartRoot,s,a);if(p.shape){e[p.seriesIndex][p.itemIndex].shape=p.shape}}}return e};function T(e){var t=e.getChild("main"),i;if(t&&t.module){i=t.module.getChild("plot");return i&&i.module}}n.prototype.fetchDatapointsSeriesFromPlot=function(e){var i,r=[],a;i=T(this._chartView);var n=t.getGraphicSize(this._chartRoot,this._chartRoot.querySelector(u));var o;if(i&&i.getDataPointsRenderInfo){a=i.getDataPointsRenderInfo();o=i.getOffset();a.map(function(i){if(!r[i.seriesIndex]){r[i.seriesIndex]=[]}var a=r[i.seriesIndex][i.itemIndex]={color:i.data.color,context:i.context,displayText:"",hasCustomRenderer:false,visible:false,height:i.height,width:i.width,name:"dataPoint",shape:i.graphic.shape,x:i.data.translate[0]+e.x-i.width/2+o.x,y:i.data.translate[1]+e.y-i.height/2+o.y};a.visible=t.isVisible(n,r)})}return r};n.prototype.fetchDataLabel=function(e){if(!e){return null}var i=t.getGraphicSize(this._chartRoot,this._chartRoot.querySelector(u));return E(e,i,this._chartRoot)};n.prototype.fetchDataLabelSeries=function(){var e=[];var r=this._chartRoot.querySelectorAll(o);var a=t.getGraphicSize(this._chartRoot,this._chartRoot.querySelector(u));var n=S(this._chartRoot.querySelectorAll(c));if(Object.keys(n).length){for(var s=0,f=r.length;s<f;s++){var m=r[s].getAttribute(l);var p=n[m];if(!p){continue}var h=i.getData(r[s]);if(!e[h.seriesIndex]){e[h.seriesIndex]=[]}e[h.seriesIndex][h.itemIndex]=E(p,a,this._chartRoot)}}return e};n.prototype.fetchCallout=function(){var e;if(this._chartRoot){e={label:this._chartRoot.querySelectorAll(".v-callout-label"),line:this._chartRoot.querySelectorAll(".v-callout-line")}}return e};var x=/([mMlL])([+-]?\d+(?:\.\d+)?)[\s,]([+-]?\d+(?:\.\d+)?)/g;function I(e,t,i){t=t||0;i=i||0;var r,a=[];while(r=x.exec(e)){switch(r[1].toUpperCase()){case"M":if(a.length){a.push([null,null])}a.push([+r[2]+t,+r[3]+i]);break;case"L":a.push([+r[2]+t,+r[3]+i]);break}}return a}n.prototype.fetchDataLines=function(e){e=e||this._chartRoot.querySelectorAll(s);var t=[];var r=this._chartRoot.querySelector(".v-plot-main");var n=a.getTransformToElement(r,this._chartRoot.querySelector(".v-m-root"));var o=0,l=e.length,u;var c;for(;o<l;o++){u=e[o];c=i.getData(u);t.push({name:"dataLine",context:i.getContext(u),color:c.color,points:I(u.getAttribute("d"),n.e,n.f)})}return t};n.prototype.registerRootContainer=function(e){this._chartRoot=e};n.prototype.setChartView=function(e){this._chartView=e};n.prototype.destroy=function(){if(this._statusManager){this._statusManager.destroy();this._statusManager=null}if(this._chartRoot){this._chartRoot=null}this._exposedModules=null;this._boundary=null;this._chartView=null};return n});define("sap/viz/framework/core/Runtime",["sap/viz/framework/property/PropertyManager","sap/viz/framework/common/effect/EffectManager","sap/viz/framework/env/EnvManager","sap/viz/framework/common/semantic/SemanticManager","sap/viz/framework/common/mark/MarkManager","sap/viz/framework/event/EventDispatcher","sap/viz/framework/chartmodel/GraphicModel"],function(e,t,i,r,a,n,o){"use strict";var s=function(e,t,i,r,a,n,o,s,l,u,c){this._propertyMgr=e;this._effectMgr=t;this._semanticMgr=i;this._markMgr=r;this._scaleMgr=a;this._zoneMgr=n;this._evtDisp=o;this._statusMgr=s;this._envMgr=c;this._interaction=null;this._graphicModel=u;Object.seal(this)};function l(e){var t=e.proxy();t.remove=null;t.names=null;t.load=null;t.serialize=null;return t}s._create=function(l){var u=new e;var c=l&&l.effectManager||new t;var f=new r;var m=new a;var p=new e;var h=new e;var d=new e;var g=l&&l.envManager||new i;f.setDependency(u,d);var v=new o;d.add({"interaction.holdSelection":false});var y=new n;return new s(u,c,f,m,p,h,y,d,null,v,g)};s.prototype={propertyManager:function(){return this._propertyMgr},effectManager:function(){return this._effectMgr},semanticManager:function(){return this._semanticMgr},markManager:function(){return this._markMgr},scaleManager:function(){return this._scaleMgr},zoneManager:function(){return this._zoneMgr},eventDispatcher:function(){return this._evtDisp},fireInteractionEvent:function(){if(this._interaction){this._interaction.fireEvent.apply(this._interaction,arguments)}},statusManager:function(){return this._statusMgr},envManager:function(){return this._envMgr},graphicModel:function(){return this._graphicModel},isDestroyed:function(){return this._propertyMgr==null},destroy:function(){this._propertyMgr=null;this._effectMgr=null;this._semanticMgr=null;this._markMgr=null;this._scaleMgr=null;this._zoneMgr=null;this._evtDisp=null;this._statusMgr=null;this._envMgr=null;this._graphicModel=null}};return s});define("sap/viz/framework/interaction/InteractionUtils",["sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorManager"],function(e,t,i,r,a,n){var o={};var s=r.BEHAVIOR;var l=s.DEFAULT_CHART_TYPE_KEY;var u=s.DEFAULT_BEHAVIOR_ID;var c=s.ALL_TARGETS;function f(){var e=this;return function(i,r){var n;if(!t.isString(i)){n=u;i=r.defaultValue}else{n=i}if(!e._currentBehavior||e._currentBehaviorType!==n||a.hasUpdate(n)){e._currentBehaviorType=n;if(e._currentBehavior){e._service.fireEvent("beforeBehaviorUnloaded",null);e._currentBehavior.destroy()}e._currentBehavior=a.get(n).clone();e._triggerMap=m(e._currentBehavior,e._chartType,e.getMonitorEventTypes());e._service.fireEvent("afterBehaviorLoaded",null)}return i}}function m(e,i,r){var a=e.getAllActions();if(window.getBehaviorActions){window.getBehaviorActions(a)}var n={};for(var o in a){if(a.hasOwnProperty(o)){var s=a[o];var u=s.getTrigger();var c,f;var m=u.name;if(m){c=u.supportedChartTypes;if(c===l){f=l}else if(c===i||t.isArray(c)&&c.indexOf(i)>-1){f=i}else{continue}if(!n[f]){n[f]={}}if(!n[f][m]){n[f][m]=[]}n[f][m].push(o)}}}if(n[i]){for(var p in n[i]){if(n[l][p]&&r.indexOf(p)>-1){var d=n[l][p].slice();var g=n[i][p];for(var v=0;v<g.length;v++){var y=e.getActionById(g[v]).getTrigger();for(var _=0;_<d.length;_++){var A=e.getActionById(d[_]).getTrigger();if(h(y,A)){d.splice(_,1);break}}}n[i][p]=d.concat(n[i][p])}}}return n}function p(t,i){return e.equal(t.slice().sort(),i.slice().sort())}function h(e,i,r){var a=true;(r||["targets","excludeTargets"]).forEach(function(r){if(!t.isArray(e[r])||!t.isArray(i[r])){if(e[r]!==i[r]){a=false}}else{if(!p(e[r],i[r])){a=false}}});return a}function d(e,t,i){if(!e.targets&&!e.excludeTargets||e.name!==t.name){return false}var r=false;var a,n;var o=t.data;var s=o.target;if(e.targets===c){a=s}else{a=g(e.targets,s,i)}if(e.excludeTargets==null){n=true}else{n=!g(e.excludeTargets,s,i)}if(a&&n){r=true;o.currentTarget=a}return r}function g(e,t,r){if(!t||!t.getAttribute){return null}for(var a=0;a<e.length;a++){if(i.hasClass(t,e[a])){return t}}if(t!==r.node()){return g(e,t.parentNode,r)}return null}function v(e,t,i){return{id:e,triggerEvent:{name:"click",supportedChartTypes:t,excludeTargets:i},handler:function(e,t){if(!t.getProperties().get("interaction.enableDeselectAll")){return}t.fireEvent(e,true)}}}o.setBehaviorTypeFunc=f;o.buildEventTriggerMap=m;o.isTriggerActivated=d;o.isSameTrigger=h;o.getDeselectEvent=v;return o});define("sap/viz/framework/interaction/Interaction",["sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/UADetector","sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/DesktopMonitor","sap/viz/framework/interaction/MobileMonitor","sap/viz/framework/interaction/BehaviorManager","sap/viz/framework/interaction/InteractionService","sap/viz/framework/core/Runtime","sap/viz/framework/interaction/InteractionUtils"],function(e,t,i,r,a,n,o,s,l,u,c){var f=a.BEHAVIOR;var m=f.DEFAULT_CHART_TYPE_KEY;var p=f.DEFAULT_BEHAVIOR_ID;var h=f.ALL_TARGETS;function d(){return r.isMobile()&&(!r.isIE()||r.isPointerEnabled())}var g=function(e){this._enabled=e.enabled==null?true:e.enabled;this._monitor=null;this._currentBehavior=null;this._currentBehaviorType=null;this._standAlone=false;if(e.runtime==null){e.runtime=u._create(e);this._standAlone=true}this._service=new l(e,this._standAlone);this._service.on("fire",this._logicEventHandler.bind(this));this._rootNode=e.rootNode;this._rootNode.style("cursor","default");var t=this._service.getProperties();if(this._standAlone||t.has("interaction.selectability.mode")){t.add({interaction:{selectability:{mode:{set:function(e,t){var i=(e||"").toUpperCase();switch(i){case a.SELECTION_MODE.INCLUSIVE:case a.SELECTION_MODE.EXCLUSIVE:case a.SELECTION_MODE.NONE:case a.SELECTION_MODE.SINGLE:case a.SELECTION_MODE.MULTIPLE:return e;default:return t.defaultValue}}}}}})}t.add({interaction:{behaviorType:{defaultValue:null,set:c.setBehaviorTypeFunc.call(this)}}});if(this._standAlone){t.add({interaction:{selectability:{behavior:a.SELECTION_BEHAVIOR.DATAPOINT}}})}this._chartType=e.chartType;this._backgroundRect=null;this._triggerMap=null};g.prototype.initialize=function(){this.initializeBehavior();this._initializeMonitor();var e=this._logicEventHandler.bind(this);if(this._monitor){this._monitor.setAllHandler(e)}this._initialized=true;if(this._standAlone){this._service.fireEvent("standAloneInitialized",null)}this._service.fireEvent("afterChartRendered",null)};g.prototype.fireEvent=function(){if(this._initialized){this._service.fireEvent.apply(this._service,arguments)}};g.prototype._destroyMonitor=function(){if(this._monitor){this._monitor.destroy()}this._monitor=null};g.prototype.destroy=function(){this._destroyMonitor();if(this._currentBehavior){this._service.fireEvent("beforeBehaviorUnloaded",null);this._currentBehavior.destroy()}this._currentBehavior=null;if(this._service){this._service.on("fire",null);this._service.destroy()}this._service=null;this._rootNode=null;this._props=null;this._backgroundRect=null;this._currentBehaviorType=null;this._triggerMap=null};g.prototype.enabled=function(e){if(!arguments.length){return this._enabled}this._enabled=e;return this};g.prototype.properties=function(e){if(arguments.length===0){return this._service.getProperties().get()}var t=this._service.getProperties();t.set(e)};g.prototype.getMonitor=function(){if(!this._monitor){this._initializeMonitor()}return this._monitor};g.prototype._initializeMonitor=function(){var e=this._service.getProperties();var t=e?e.get("interaction.noninteractiveMode"):false;var i=e?e.get("interaction.behaviorType")==="DesignTimeBehavior":false;if(t&&!i){this._destroyMonitor()}else{var r=!this._monitor||this._monitor._isMobile!==d();if(r){this._destroyMonitor();this._monitor=d()?new o(this._rootNode):new n(this._rootNode)}}if(this._monitor){this._monitor.setProperties(e.get("interaction"))}return this};g.prototype.initializeBehavior=function(){var e=this._service._statusMgr.get("chartAppId");var t=this._service._statusMgr.get("customizationsId");var i=this._service.getProperties().get("interaction.behaviorType");var r=[e+"-"+t,i,p];r.some(function(e){if(!e){return}var t=s.get(e,null);if(t){if(!this._currentBehavior||e!==this._currentBehaviorType){this._currentBehavior=t.clone();this._currentBehaviorType=e;this._triggerMap=c.buildEventTriggerMap(this._currentBehavior,this._chartType,this.getMonitorEventTypes());this._service.fireEvent("afterBehaviorLoaded",null)}return true}}.bind(this))};g.prototype.initializeStatus=function(){var e=this._service;e.setStatus("plotArea.window",e.getStatusManager().get("plotArea.window"))};g.prototype.getMonitorEventTypes=function(){return d()?o.getMonitorEventTypes():n.getMonitorEventTypes()};g.prototype._setScales=function(e){this._service._setScales(e)};g.prototype._fireExternalEvent=function(e,t,i){this._service.fireExternalEvent(e,t,i)};g.prototype._logicEventHandler=function(e){if(this._enabled||e.name==="afterBehaviorLoaded"){var t=e.name,i=this._currentBehavior,r;if(e.useDefault){r=m;delete e.useDefault}else if(this._triggerMap[this._chartType]&&this._triggerMap[this._chartType][t]){r=this._chartType}else if(this._triggerMap[m]&&this._triggerMap[m][t]){r=m}if(r){var a=this._triggerMap[r][t]||[];a.forEach(function(r){var a=i.getActionById(r);var n=a.getTrigger();if(this.getMonitorEventTypes().indexOf(t)<0||c.isTriggerActivated(n,e,this._rootNode)){i.trigger(r,e,this._service)}},this)}}};return g});define("sap/viz/framework/common/util/FeedingZoneUtil",["sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/SVG"],function e(t,i){var r={buildRes:function(e,r,a,n){var o=a.selectAll(".v-m-"+e);var s=[];o.each(function(e,r){var a=t.getBBox(this);if(n){var o=d3.select(this).select(".v-bound").node();if(o===null){return}a=t.getBBox(o)}var l=i.getTransformToElement(this,this.ownerSVGElement);if(l){var u=[l.e+a.x,l.f+a.y];var c=[u[0]+a.width,u[1]];var f=[u[0]+a.width,u[1]+a.height];var m=[u[0],u[1]+a.height];s.push([u,c,f,m])}});var l={name:e,bindDef:r,bound:s};return l},extension:function(){a.apply(this,arguments)},xy:function(){a.apply(this,arguments)},ty:function(){a.apply(this,arguments)},xyy:function(){a.apply(this,arguments)},"xy.hichert":function(){a.apply(this,arguments)},"xyy.hichert":function(){n.apply(this,arguments)},mekko:function(){a.apply(this,arguments)},radar:function(){a.apply(this,arguments)},pie:function(){a.apply(this,arguments)},treemap:function(){o.apply(this,arguments)},xx:function(){o.apply(this,arguments)},heatmap:function(){o.apply(this,arguments)},tagcloud:function(){o.apply(this,arguments)},yy:function(){var e=arguments[0];var t=arguments[1];for(var i in e){if(i==="legend"){e[i].bindDef=[];for(var r in t){if(t[r].id==="color"||t[r].id==="shape"){e[i].bindDef.push({id:t[r].id})}}}}},bubble:function(){var e=arguments[0];var t=arguments[1];for(var i in e){if(e[i].name==="sizeLegend"){e[i].bindDef=s.apply(this,arguments);break}}},scatter:function(){var e=arguments[0];var t=arguments[1];var i=-1;for(var r in e){if(e.hasOwnProperty(r)){if(e[r].name==="plot"){e[r].bindDef=e[r].bindDef.filter(function(e){if(e.id.indexOf("bubble")<0){return e}})}if(e[r].name==="sizeLegend"){i=r}}}if(i>-1){e.splice(i,1)}},tBullet:function(){a.apply(this,arguments)},bullet:function(){a.apply(this,arguments)},waterfall:function(){a.apply(this,arguments)},combex:function(){a.apply(this,arguments)},plot:function(e){return{tempFeedingZone:{plot:{value:[],readonly:true,serializable:false,get:function(){var t,i,a,n;if(e._selections&&e._selections.plot&&e._selections.plot.node()){t=e._selections.plot.node()}else if(e._selection){t=e._selection.node()}if(t){n=d3.select(t.ownerSVGElement);i=r.buildRes("plot",a,n,true)}return i}}}}}};var a=function(){var e=arguments[0];var t=arguments[1];for(var i in e){if(i==="legend"){e[i].bindDef=[];for(var r in t){if(t[r].id==="color"){e[i].bindDef.push({id:t[r].id})}}}}};var n=function(){var e=arguments[0];var t=arguments[1];for(var i in e){if(i==="legend"){e[i].bindDef=[];for(var r in t){if(t[r].id==="pattern"||t[r].id==="pattern2"){e[i].bindDef.push({id:t[r].id})}}}}};var o=function(){var e=arguments[0];var t=arguments[1];for(var i in e){if(i==="legend"){e[i].bindDef=[];for(var r in t){if(t[r].id==="color"){e[i].bindDef.push({id:t[r].id})}}}}};var s=function(){var e=arguments[0];var t=arguments[1];for(var i in t){if(t[i].id==="bubbleWidth"){for(var r in e){if(e[r].name==="sizeLegend"){return[{id:t[i].id}]}}}}};return r});define("sap/viz/framework/common/util/ComboExShapeUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/chartmodel/ContextBuilder"],function(e,t,i,r){var a={};var n="_";function o(e,i){var a=e.series();a=i.isTrellis?t.flat(t.flat(a)):a;a.forEach(function(t,i){var a={};if(t.seriesMeta){r.buildBasic(e._bindingResults,t.seriesMeta,null,null,a)}if(!t.hasOwnProperty("data")){Object.defineProperty(t,"data",{enumerable:false,value:a,writable:true})}else{t.data=a}})}function s(r,a,o,s){var l=r.series();l=s.isTrellis?t.flat(t.flat(l)):l;var u={valueAxis:a.get("plotArea.dataShape.primaryAxis"),valueAxis2:a.get("plotArea.dataShape.secondaryAxis")};var c=a.get("plotArea.dataShape.stacked");function f(e){return e||"line"}if(u.valueAxis){u.valueAxis=u.valueAxis.map(f)}if(u.valueAxis2){u.valueAxis2=u.valueAxis2.map(f)}var m;l.forEach(function(t,r){var a=t.spec.mndKey,l=t.spec.mndIdx||0;var f=o.analyzeSeries(t.data)||{};if(s.isFlexibleStack){f.type="bar"}var p;if(f.hasOwnProperty("type")){p=e.isString(f.type)&&["bar","line","area"].indexOf(f.type.toLowerCase())>-1?f.type.toLowerCase():"bar"}else if(u[a]){p=u[a][l]||"line"}var h=f.stack;if(e.isArray(c)&&c.indexOf(p)>-1&&!h){h=a+p}var d=h?"s:"+h:r;if(!t.hasOwnProperty("settings")){Object.defineProperty(t,"settings",{enumerable:false,value:{},writable:true})}else{t.settings={}}if(s.isFlexibleStack){m=n+(h||"")}else{m=a+n+p+n+d}i.extend(t.settings,f,{type:p,stack:h,group:m})})}function l(e,t,i,r){var a={};a.isFlexibleStack=e==="info/stacked_column"&&i.origin.get("plotArea.series");a.isTrellis=e==="info/trellis_combinationEx";if(e==="info/combinationEx"||a.isFlexibleStack||a.isTrellis){o(t,a);s(t,i,r,a)}}a.handleComboExShape=l;return a});define("sap/viz/framework/core/BaseApp",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/Constants","sap/viz/framework/env/EnvManager"],function(e,t,i,r,a){"use strict";var n=function(){this._sizeInterval=null;this._size=null;this._container=null;this._i18nListener={fn:this._localeChanged,scope:this};this._envMgr=new a;i.addListener(this._i18nListener)};var o=/^\d+(\.\d+)?px$/;n.prototype._localeChanged=function(){this._setupRTL()};n.prototype._setupRTL=function(){var e=false;var a=this._getRootNode();if(a){var n;for(n=0;n<r.RTL_LANG.length;n++){if(i.currentLanguage.indexOf(r.RTL_LANG[n])===0){e=true;break}}a.style.direction=e?"rtl":"";this._envMgr.set(r.DIRECTION.LANG_DIR,r.DIRECTION[e||t.getBrowserComputedStyle(a,"direction")===r.DIRECTION.RTL?"RTL":"LTR"])}return e};n.prototype._getRootNode=function(){};n.prototype._getCurrentSize=function(){return null};n.prototype._setCurrentSize=function(e){};n.prototype._onSizeChange=function(e){return null};n.prototype._autoResize=function(i,r){if(i){if(this._sizeInterval){window.clearInterval(this._sizeInterval)}this._sizeInterval=window.setInterval(function(){if(this._container){var i=t.getBrowserComputedStyle(this._container);var a=this._container.getBoundingClientRect();var n={width:e.getPositiveInt(parseInt(i.width.match(o)?i.width:a.width,10),this._size.width),height:e.getPositiveInt(parseInt(i.height.match(o)?i.height:a.height,10),this._size.height)};var s=t.getBrowserComputedStyle(this._container,"visibility")==="visible";if((r||s)&&(n.width!==this._size.width||n.height!==this._size.height)){this.size({width:n.width,height:n.height,auto:true});this._size.width=n.width;this._size.height=n.height}}}.bind(this),100)}else{if(this._sizeInterval){window.clearInterval(this._sizeInterval)}}};n.prototype._setDefaultSize=function(){var e=null;var i=null;if(this._size){e=this._size.width;i=this._size.height}var r;e=parseInt(e,10);if(isNaN(e)||e<0){r=t.getBrowserComputedStyle(this._container);e=parseInt(r.width,10)}i=parseInt(i,10);if(isNaN(i)||i<0){r=r||t.getBrowserComputedStyle(this._container);i=parseInt(r.height,10)}this._setCurrentSize({width:e,height:i});if(this._size==null){var a=arguments.length?arguments[0]:true;this._autoResize(a);this._size={width:e,height:i,auto:a}}};n.prototype.size=function(i,r){var a=[].slice.call(arguments);if(a.length){if(i==null){return}if(!document.body.contains(this._container)){return}var n=!!i.auto;if(this._size){this._size.auto=n}if(n===false&&(isNaN(i.width)||isNaN(i.height)||i.width<=0||i.height<=0)){return}this._size=this._size||{};this._size.auto=n;if(n===false){this._size.width=i.width;this._size.height=i.height}}var s=this._getCurrentSize();if(s==null){return}if(a.length>0){if(s.width===i.width&&s.height===i.height&&!r){return}if(i.auto){var l=t.getBrowserComputedStyle(this._container);var u=this._container.getBoundingClientRect();i.width=e.getPositiveInt(parseInt(l.width.match(o)?l.width:u.width,10),this._size.width);i.height=e.getPositiveInt(parseInt(l.height.match(o)?l.height:u.height,10),this._size.height)}this._setCurrentSize(i);this._onSizeChange(i);this._autoResize(this._size.auto,i.invisibleRender)}else{s.auto=this._size.auto;this._autoResize(this._size.auto);return s}};n.prototype.destroy=function(){if(this._sizeInterval){window.clearInterval(this._sizeInterval)}this._sizeInterval=null;this._size=null;i.removeListener(this._i18nListener);this._i18nListener=null};return n});define("sap/viz/framework/scale/ScaleUtil",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil"],function e(t,i,r){var a={getScaleOfType:function(e,t){if(!e){return null}for(var i=0;i<e.length;i++){var r=e[i];if(r.feed===t){return r}}return null},hasNoNullValue:function(e,t){var r=false;if(i.isArray(e)){for(var n=0;!r&&n<e.length;++n){r=a.hasNoNullValue(e[n],t[n])}}else{r=i.isNumber(e)&&i.isNumber(t)}return r},truncateScaleOption:function(e,t,i){var a=e.dataTimeLevel;var n=e.showAsUTC;var o=t.start;if(o!=null&&typeof o!=="number"){o=r.createDateInstance(o).getTime()}var s=t.end;if(s!=null&&typeof s!=="number"){s=r.createDateInstance(s).getTime()}var l={feed:t.feed,start:r.truncate(o,a,n,i),end:r.truncate(s,a,n,i)};if(l.start==null){l.start="auto"}if(l.end==null){l.end="auto"}l.allowEqual=true;return l}};return a});define("sap/viz/framework/chartmodel/DataModelManager",["sap/viz/framework/binding/BindingManager","sap/viz/framework/scale/ScaleUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/chartmodel/DataModel","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,r,a){function n(e){this._dataModel=null;this._originalDataModel=null;this._role=null;this._viewLoaderDelegator=e;this._type=null;this._renderType=null;this._family=null;this._data=null;this._bindings=null}var o=n.prototype;o.init=function(e,t,i,r,a){this._type=e;this._renderType=t;this._data=i;this._bindings=r;this._groupOption=a};o.createDataModel=function(t,i){var r=this._viewLoaderDelegator.getBindingDefinition(this._type);var a=e.getInstance(r.constructor);var n=a.setBindings(this._bindings);var o=a.parseDataWithBindingInformation(this._data,n,r.family+"/"+this._renderType,this._type,this._groupOption,t,i);var s={};for(var l in r.constructor){if(r.constructor.hasOwnProperty(l)&&o[r.constructor[l].id]){s[r.constructor[l].id]=r.constructor[l]}}if(o["color2"]){s["color2"]=r.constructor.filter(function(e){return e.id==="color"})[0]}this._options=t;this._family=r.family;this._originalDataModel=o;this._dataModel=o;this._role=s};function s(e,t,r){if(t.feed==="timeAxis"){var n=i.isFiscal(r);var o=t.start;if(o!=null&&typeof o!=="number"&&!n){t.start=a.createDateInstance(o).getTime()}var s=t.end;if(s!=null&&typeof s!=="number"&&!n){t.end=a.createDateInstance(s).getTime()}return/timeseries.*column|timeseries.*combination|timeseries_bullet|timeseries_waterfall/.test(e)}return false}o.filterDataModel=function(e,i){var r=this.getOriginalDataModel();for(var a=0;a<e.length;++a){var n=e[a];if(!n){continue}if(n.feed==="timeAxis"&&!/timeseries/.test(this._renderType)){continue}if(s(this._renderType,n,this._data)){n=t.truncateScaleOption(this._options,n,i)}r=r.query(n.feed,n,i)}this._dataModel=r;return r};o.getGroupOption=function(){return this._groupOption};o.getFamily=function(){return this._family};o.getDataModel=function(){return this._dataModel};o.getOriginalDataModel=function(){return this._originalDataModel};o.getRole=function(){return this._role};o.clear=function(){this._originalDataModel=null;this._dataModel=null;this._role=null;this._type=null;this._renderType=null;this._family=null;this._data=null;this._bindings=null};o.destroy=function(){this.clear();this._viewLoaderDelegator=null};return n});define("sap/viz/migrate/scaleMigrator",["sap/viz/framework/common/util/TypeUtils"],function e(t){var i={};var r=t.isExist;var a={primaryScale:"valueAxis",secondaryScale:"valueAxis2",minValue:"min",maxValue:"max"};i.migrateBulletScales=function(e){var t=e.length;var i;var r=false;for(i=0;i<t;++i){if(e[i].feed==="actualValues"){r=true}}for(i=0;i<t;++i){if(e[i].feed==="valueAxis"){if(r){e.splice(i,1);--i;--t}else{e[i].feed="actualValues"}}}};function n(e){return e==="info/bullet"||e==="info/vertical_bullet"||e==="info/timeseries_bullet"}i.migrate=function(e){var t=this.ScalesPropsToChartProps(e.properties,e.scales,e.scalesOption||{},e.type);if(t){e.properties=t}e.scales=this.ChartPropsToScalesProps(e.properties,e.scales,e.type);if(n(e.type)&&e.scales){i.migrateBulletScales(e.scales)}return e};function o(e,t){["actualColor","additionalColor","forecastColor"].forEach(function(i){if(r(t.plotArea)&&r(t.plotArea[i])){e=e||{feed:"color"};e[i]=t.plotArea[i]}});if(r(t.plotArea)&&r(t.plotArea.colorPalette)){e=e||{feed:"color"};e.actualColor=e.actualColor||t.plotArea.colorPalette[0];e.additionalColor=e.additionalColor||t.plotArea.colorPalette[1]}return e}i.ChartPropsToScalesProps=function(e,t,i){var a,s,p,h,d,g;if(!e){return t}if(!r(t)){t=[]}var v=l(t,"valueAxis"),y=l(t,"valueAxis2");if(!r(v)&&!r(y)){if(e&&e.plotArea&&e.plotArea.primaryScale){a=c("primaryScale",e.plotArea.primaryScale);if(r(a)){t.push(a)}}if(e&&e.plotArea&&e.plotArea.secondaryScale){a=c("secondaryScale",e.plotArea.secondaryScale);if(r(a)){t.push(a)}}}var _=l(t,"color");if(!r(_)){if(r(e.plotArea)&&r(e.plotArea.colorPalette)&&!n(i)){g=u("color",e.plotArea.colorPalette)}if(n(i)){g=o(g,e)}if(i&&i.indexOf("dual")>-1){var A={};if(r(e.plotArea)&&r(e.plotArea.primaryValuesColorPalette)){A.primary=e.plotArea.primaryValuesColorPalette}if(r(e.plotArea)&&r(e.plotArea.secondaryValuesColorPalette)){A.secondary=e.plotArea.secondaryValuesColorPalette}if(r(A.primary)||r(A.secondary)){g=u("color",A)}}if(r(e.plotArea)){if(r(e.plotArea.startColor)){s=e.plotArea.startColor}if(r(e.plotArea.endColor)){p=e.plotArea.endColor}if(r(e.plotArea.nullColor)){h=e.plotArea.nullColor}}if(r(s)||r(p)||r(h)){g=g||{feed:"color"};f(g,s,p,h)}if(r(e.plotArea)&&r(e.plotArea.legendValues)){g=g||{feed:"color"};m(g,e.plotArea.legendValues)}if(g){t.push(g)}}var b=l(t,"shape");if(!r(b)){if(r(e.plotArea)&&r(e.plotArea.shapePalette)){a=u("shape",e.plotArea.shapePalette);t.push(a)}}return t};var s=["startColor","endColor","legendValues","nullColor"];i.ScalesPropsToChartProps=function(e,i,a,n){var o=a.level==="user"&&a.replace;e=e||{};if(r(i)){var u=l(i,"color");if(r(u)&&n!=="info/combinationEx"){var c=u.palette;if(t.isArray(c)){if(t.isArray(c[0])){e["plotArea.primaryValuesColorPalette"]=c[0];o=true}if(t.isArray(c[1])){e["plotArea.secondaryValuesColorPalette"]=c[1];o=true}if(!t.isArray(c[0])&&!t.isArray(c[1])){e["plotArea.colorPalette"]=u.palette;o=true}}for(var f=0;f<s.length;++f){var m=s[f];if(r(u[m])){e["plotArea."+m]=u[m];o=true}}}var p=l(i,"shape");if(r(p)&&r(p.palette)){e["plotArea.shapePalette"]=p.palette;o=true}var h=l(i,"valueAxis");if(r(h)){e["plotArea.primaryScale.minValue"]=h.min;e["plotArea.primaryScale.maxValue"]=h.max;e["plotArea.primaryScale.fixedRange"]=true;o=true}var d=l(i,"valueAxis2");if(r(d)){e["plotArea.secondaryScale.minValue"]=d.min;e["plotArea.secondaryScale.maxValue"]=d.max;e["plotArea.secondaryScale.fixedRange"]=true;o=true}}return o?e:null};var l=function(e,t){for(var i in e){if(e[i]&&e[i].feed===t){return e[i]}}};var u=function(e,i){var r;r={};r.feed=e;r.type=e;if(t.isPlainObject(i)){r.palette=[];if(i.primary){r.palette[0]=i.primary}if(i.secondary){r.palette[1]=i.secondary}}else{r.palette=i}return r};var c=function(e,t){var i=a[e],n;if(t.fixedRange){if(r(t.minValue)){if(!r(n)){n={};n.feed=i;n.type="linear"}n.min=t.minValue}if(r(t.maxValue)){if(!r(n)){n={};n.feed=i;n.type="linear"}n.max=t.maxValue}}else{n={};n.feed=i;n.type="linear";n.min="auto";n.max="auto"}return n};var f=function(e,t,i,a){if(e&&r(t)){e.startColor=t}if(e&&r(i)){e.endColor=i}if(e&&r(a)){e.nullColor=a}};var m=function(e,t){if(e&&r(t)){e.legendValues=t}};return i});define("sap/viz/framework/customization/BaseCustomRenderer",["sap/viz/framework/property/PropertyManager"],function(e){var t=function(t){this._properties=new e;this._properties.add(this.constructor.metadata.propertyDefinition);this._vizInstanceInfo=t};t.id="";t.type="";t.metadata={propertyDefinition:{}};t.prototype.render=function(e,t,i,r){return null};t.prototype.vizInstanceInfo=function(){return this._vizInstanceInfo};return t});define("sap/viz/framework/customization/CustomGraphicInfo",[],function(){var e={};e.CUSTOM_RENDERS="customRenders";e.CATEGORY_AXIS_LABEL_RENDERER="categoryAxis.labelRenderer";e.PLOT_AREA_MARKER_RENDERER="plotArea.markerRenderer";e.PLOT_AREA_LINE_MARKER="plotArea.line.marker";e.PLOT_AREA_DATA_LABEL_RENDERER="plotArea.dataLabel.renderer";var t=function(e){var t={};if(e){if(e.hasOwnProperty("cellStart")){if(!t.position){t.position={}}if(e.hasOwnProperty("position")){var i=e.position;switch(i){case"left":case"right":t.position.x=0;t.position.y=e.cellStart;break;case"bottom":case"top":t.position.x=e.cellStart;t.position.y=0;break}}}if(e.hasOwnProperty("size")){t.size=e.size}if(e.hasOwnProperty("text")){t.text=e.text}if(e.hasOwnProperty("styles")){t.styles=e.styles}}return t};var i=function(e){var t={};if(e){if(e.hasOwnProperty("graphic")){t.graphic={};if(e.isLineMarker!==true){t.graphic.size={};t.graphic.size.width=e.graphic.width;t.graphic.size.height=e.graphic.height}t.graphic.fill=e.graphic.fill;if(e.graphic.hasOwnProperty("stackHeight")){t.graphic.totalStackHeight=e.graphic.stackHeight}if(e.graphic.hasOwnProperty("x")){if(!t.graphic.stackPosition){t.graphic.stackPosition={}}t.graphic.stackPosition.x=e.graphic.x}if(e.graphic.hasOwnProperty("y")){if(!t.graphic.stackPosition){t.graphic.stackPosition={}}t.graphic.stackPosition.y=e.graphic.y}}if(e.hasOwnProperty("horizontal")){t.horizontal=e.horizontal}if(e.hasOwnProperty("isLineMarker")){t.combinationIsLineMarker=e.isLineMarker}}return t};var r=function(e){return null};var a=function(e){var t={};if(e){t.value=e.val;t.text=e.text;if(e.hasOwnProperty("styles")&&e.styles){t.styles={};t.styles["color"]=e.styles["fill"];t.styles["fontFamily"]=e.styles["font-family"];t.styles["fontSize"]=e.styles["font-size"];t.styles["fontWeight"]=e.styles["font-weight"];t.styles["fontStyle"]=e.styles["font-style"]}if(e.hasOwnProperty("dataPointWidth")&&e.hasOwnProperty("dataPointHeight")){t.dataPointSize={};t.dataPointSize.width=e.dataPointWidth;t.dataPointSize.height=e.dataPointHeight}}return t};var n={};n.build=function(n,o){switch(n){case e.CATEGORY_AXIS_LABEL_RENDERER:return t(o);case e.PLOT_AREA_MARKER_RENDERER:return i(o);case e.PLOT_AREA_LINE_MARKER:return r(o);case e.PLOT_AREA_DATA_LABEL_RENDERER:return a(o);default:return null}};return n});define("sap/viz/framework/customization/CustomRendererGenerator",["sap/viz/framework/property/PropertyManager","sap/viz/framework/common/util/RuleUtil","sap/viz/framework/customization/CustomGraphicInfo","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,r){var a="customRenders";var n="categoryAxis.labelRenderer";var o="plotArea.markerRenderer";var s="plotArea.line.marker";var l="plotArea.dataLabel.renderer";var u=function(e,i){var r=e;var a=i;if(a&&a.or){return a.or.every(function(e){return t.matchCondition(e,r)})}else{return t.matchCondition(a,r)}};var c=function(e,t){var i=null;if(e&&t&&t.length>0){for(var r=0;r<t.length;r++){if(t[r]){var a=u(t[r].rule,e);if(a){i=t[r];break}}}}return i};var f=function(e){var t=null;if(e&&e.length>0){e.forEach(function(e){Object.keys(e).forEach(function(i){if(!t){t={}}t[i]=e[i]})})}return t};var m=function(e,t){var i=null;var a=t.rules;var n=null;if(e&&a&&a.length>0){var o=null;var s=null;var l=null;if(!n){n=[]}for(var c=0;c<a.length;c++){var m=false;l=a[c];if(l){o=l.dataContext;s=l.properties;if(r.isArray(o)){if(o&&s&&o.length>0){m=o.some(function(t){return u(t,e)});if(m){n.push(s)}}}else{m=u(o,e);if(m){n.push(s)}}}}}i=f(n);return i};var p={};p.generate=function(e,t,r,a,n){return function(){var e;if(arguments&&arguments.length>0){var r=arguments.length;var a=arguments[0];var n=a["settings"];var o=a["id"];var s=a["renderInstance"];var l=a["vizModelInfo"];var u=arguments[1];if(u&&n){var c=m(u.ctx,n);if(c){var f=i.build(o,u);var p=u.ctx;e=t.call(s,p,c,f,l)}}}return e}.bind(null,{settings:r,id:a,vizModelInfo:n,renderInstance:e})};return p});define("sap/viz/framework/customization/CustomRendererUtils",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/customization/CustomRendererGenerator","sap/viz/framework/common/util/RuleUtil"],function(e,t,i,r){var a="customRenders";var n="categoryAxis.labelRenderer";var o="plotArea.markerRenderer";var s="plotArea.line.marker";var l="plotArea.dataLabel.renderer";var u=[n,o,s,l];var c={};c.getRenderFunction=function(e,t,r,a,n){if(t&&u.indexOf(t)>-1){return i.generate(e,r,a,t,n)}else{return null}};c.matchContext=function(e,t){var i=null;if(e&&t&&t.length>0){for(var a=0;a<t.length;a++){if(t[a]){var n=r.matchCondition(e,t[a].ctx);if(n){i=t[a];break}}}}return i};return c});define("sap/viz/framework/customization/CustomInteractionConstant",[],function(){var e={};e.interaction={};e.interaction.AXIS_ITEM="v-axis-item";e.interaction.DATA_LABEL="v-datalabel";e.interaction.DATA_POINT="v-datapoint";e.interaction.LEGEND_ITEM="v-legend-item";e.interaction.LINES="v-lines";e.interaction.AXIS_BODY="v-m-axisBody";e.interaction.AXIS_TITLE="v-m-axisTitle";e.interaction.BACKGROUND="v-m-background";e.interaction.CATEGORY_AXIS="v-m-categoryAxis";e.interaction.LEGEND="v-m-legend";e.interaction.SIZE_LEGEND="v-m-sizeLegend";e.interaction.LEGEND_GROUP="v-m-legendGroup";e.interaction.PLOT="v-m-plot";e.interaction.PLOT_BOUND="v-m-plot-bound";e.interaction.ROOT="v-m-root";e.interaction.TITLE="v-m-title";e.interaction.VALUE_AXIS="v-m-valueAxis";e.interaction.VALUE_AXIS2="v-m-valueAxis2";e.interaction.TIME_AXIS="v-m-timeAxis";e.interaction.REFERENCE_LINE="v-referenceline";e.scope={};e.scope.SINGLE="single";e.scope.SERIES="series";e.scope.ALL="all";e.module={};e.module.CATEGORY_AXIS="categoryAxis";e.module.TIME_AXIS="timeAxis";e.module.VALUE_AXIS2="valueAxis2";e.module.VALUE_AXIS="valueAxis";e.module.BACKGROUND="background";e.module.PLOT="plot";e.module.LEGEND="legend";e.module.SIZE_LEGEND="sizeLegend";e.module.TITLE="title";e.module.CHART_ROOT="chartRoot";return e});define("sap/viz/framework/customization/CustomInteractionTargetsUtils",["sap/viz/framework/customization/CustomInteractionConstant","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils"],function(e,t,i){var r={};var a=e.scope;var n=e.module;e=e.interaction;var o=function(e){var t;while(e.tagName.toLowerCase()!=="svg"){e=e.parentNode;var i=/v-m-((?:value|category|time)Axis\d?)\b/.exec(e.getAttribute("class"));if(i){t=i[1];break}}return t};var s=function(i,r,a){var s=null;var l;switch(i){case e.DATA_POINT:s=a.plot().dataPoints(r);break;case e.AXIS_ITEM:l=o(r);if(l){var u=a[l]().labels();var c=t.getContext(r);if(u){return u[c.layer][c._cellIndex]}}break;case e.DATA_LABEL:s=a.plot().dataLabels(r);break;case e.LEGEND_ITEM:s=a.legend().items(r);break;case e.LINES:s=a.plot().dataLines(r);break;case e.REFERENCE_LINE:s=a.plot().referenceLines(r);break;case e.AXIS_BODY:l=o(r);if(l){s=a[l]().body}break;case e.AXIS_TITLE:l=o(r);if(l){s=a[l]().title}break;case e.CATEGORY_AXIS:s=a[n.CATEGORY_AXIS]();break;case e.LEGEND:case e.LEGEND_GROUP:s=a[n.LEGEND]();break;case e.SIZE_LEGEND:s=a[n.SIZE_LEGEND]();break;case e.PLOT:case e.PLOT_BOUND:s=a[n.PLOT]();break;case e.TITLE:s=a[n.TITLE]();break;case e.VALUE_AXIS:s=a[n.VALUE_AXIS]();break;case e.VALUE_AXIS2:s=a[n.VALUE_AXIS2]();break;case e.TIME_AXIS:s=a[n.TIME_AXIS]();break;case e.ROOT:case"*":s=a[n.CHART_ROOT]();break;default:break}return s};r.getRenderInfo=function(e,t,i){if(e&&t&&i){return s(e,t,i)}};return r});define("sap/viz/framework/customization/CustomInteractionGenerator",["sap/viz/framework/property/PropertyManager","sap/viz/framework/common/util/RuleUtil","sap/viz/framework/customization/CustomGraphicInfo","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/customization/CustomInteractionTargetsUtils","sap/viz/framework/common/util/DOM"],function(e,t,i,r,a,n){var o=function(e,t){var i=null;if(e&&e.length>0&&t){e.some(function(e){var r=n.hasClass(t,e);if(r){i=e}return r})}return i};var s=function(e,t,i,n){var s=null;if(e){s={};s.name=e.name;s.preventBrowserDefault=function(){if(e.data&&e.data.originalEvent){return e.data.originalEvent.preventDefault()}};if(e.data){if(e.name==="plotScroll"){s.data={};s.data.targets={x:e.data.x,y:e.data.y};return s}s.data={point:e.data.pointToChart};var l=e.data.currentTarget?e.data.currentTarget:e.data.targets;var u=t&&r.isArray(t)&&t.length>0;if(u){t=o(t,l)}s.data.targets=a.getRenderInfo(t,l,i);s.data.ctrlKey=e.data.ctrlKey;s.data.wheelDelta=e.data.wheelDelta;s.data.scale=e.data.scale}}return s};var l={};l.generate=function(e,t,i,r){t=t||{};return function(e,t,i,r,a,n,o){var l=e.getVizRenderInfo();var u=e.getChartContainerNode();var c=t?t["targets"]:undefined;var f=s(a,c,l,u);i.call(r,o,f,e.getVizModelInfo(),l);if(a.name==="click"&&a.data.ctrlKey){var m=e.getVizInstanceInfo().properties();if(m&&m.interaction&&m.interaction.selectability&&m.interaction.selectability.mode&&m.interaction.selectability.mode.toUpperCase()==="EXCLUSIVE"){return}}n.fireEvent(a,true)}.bind(null,t,i,e,r)};return l});define("sap/viz/framework/customization/constants/CustomInteractionEvents",[],function(){var e={toString:function(){return"click"}};var t={toString:function(){return"contextmenu"}};var i={toString:function(){return"hover"}};var r={toString:function(){return"down"}};var a={toString:function(){return"up"}};var n={toString:function(){return"wheelmove"}};var o={toString:function(){return"uparrow"}};var s={toString:function(){return"downarrow"}};var l={toString:function(){return"leftarrow"}};var u={toString:function(){return"rightarrow"}};var c={toString:function(){return"enter"}};var f={toString:function(){return"tab"}};var m={toString:function(){return"space"}};var p={toString:function(){return"afterChartRendered"}};var h={toString:function(){return"plotScroll"}};var d={toString:function(){return"lassoend"}};return{RENDER_COMPLETE:p,PLOT_SCROLL:h,SPACE:m,TAB:f,ENTER:c,RIGHT_ARROW:u,LEFT_ARROW:l,DOWN_ARROW:s,UP_ARROW:o,LASSO_END:d,WHEEL_MOVE:n,MOUSE_UP:a,MOUSE_DOWN:r,CLICK:e,HOVER:i,CONTEXT_MENU:t}});define("sap/viz/framework/customization/constants/CustomInteractionTargets",[],function(){var e={toString:function(){return"v-axis-item"}};var t={toString:function(){return"v-datalabel"}};var i={toString:function(){return"v-datapoint"}};var r={toString:function(){return"v-legend-item"}};var a={toString:function(){return"v-lines"}};var n={toString:function(){return"v-m-axisBody"}};var o={toString:function(){return"v-m-axisTitle"}};var s={toString:function(){return"v-m-background"}};var l={toString:function(){return"v-m-categoryAxis"}};var u={toString:function(){return"v-m-legend"}};var c={toString:function(){return"v-m-sizeLegend"}};var f={toString:function(){return"v-m-legendGroup"}};var m={toString:function(){return"v-m-plot"}};var p={toString:function(){return"v-m-title"}};var h={toString:function(){return"v-m-valueAxis"}};var d={toString:function(){return"v-m-valueAxis2"}};var g={toString:function(){return"v-m-timeAxis"}};var v={toString:function(){return"v-m-root"}};var y={toString:function(){return"v-referenceline"}};return{CHART_ROOT:v,AXIS_LABEL_ITEM:e,DATALABEL:t,DATAPOINT:i,LEGEND_ITEM:r,LINES:a,AXIS_BODY:n,AXIS_TITLE:o,CATEGORY_AXIS:l,LEGEND:u,SIZE_LEGEND:c,CHART_TITLE:p,VALUE_AXIS:h,VALUE_AXIS2:d,TIME_AXIS:g,REFERENCE_LINE:y,PLOT:m}});define("sap/viz/framework/customization/CustomInteractionUtils",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/BehaviorManager","sap/viz/framework/customization/CustomInteractionGenerator","sap/viz/framework/customization/constants/CustomInteractionEvents","sap/viz/framework/customization/constants/CustomInteractionTargets","sap/viz/framework/common/util/TimeUtil"],function(e,t,i,r,a,n,o,s,l){var u=Object.keys(o).map(function(e){return String(o[e])});var c=["tab","space","enter","uparrow","downarrow","leftarrow","rightarrow"];var f={};f.buildBehavior=function(e,t){var r=t&&t.getBehaviorType()||i.BEHAVIOR.DEFAULT_BEHAVIOR_ID;var n=e;var o=a.get(r);o=m(n,o,t);a.register(t.chartAppId+"-"+t.customizationsId,o)};f.cleanBehavior=function(e){a.unregister(e.chartAppId+"-"+e.customizationsId)};var m=function(e,t,i){var r=g(e.triggers);var a=e.handle;var n=[];var o=t.clone();if(r){var s=i.getVizInstanceInfo().type();var l={};r.forEach(function(t){var r=e.id;if(c.indexOf(t.event)>-1&&t.targets.indexOf("v-m-root")>-1){t.targets="*"}var o=v(e,t,a,i,s);o.forEach(function(e){n.push(e)});if(t&&t.preventDefault===true){var u=t.targets;if(t.targets==="*"){l[t.event+".*"]={event:t.event,target:"*"}}else{u.forEach(function(e){l[t.event+"."+e]={event:t.event,target:e}})}}});p(o,l,s);n.forEach(function(e){o.addActionByDef(e)})}return o};function p(i,r,a){var n=i.getAllActions();Object.keys(n).forEach(function(a){var o=n[a];var s=e.clone(o.getTrigger());var l=s.name;var u=[];if(o._actionId){i.removeActionById(a)}else if(t.isArray(s.targets)){u=s.targets.filter(function(e){return!r[l+"."+e]});if(u.length===0){i.removeActionById(a)}else if(u.length<s.targets.length){s.targets=u;o.setTrigger(s)}}else{if(r[l+"."+s.targets]){i.removeActionById(a)}}})}var h=function(e,t){return e.indexOf(String(t))>-1}.bind(null,Object.keys(o).map(function(e){return String(o[e])}));var d=function(e,t){return e.indexOf(String(t))>-1}.bind(null,Object.keys(s).map(function(e){return String(s[e])}));function g(e){var t=[];(e||[]).map(function(e){if(h(e.event)===false){return}var i=[];(e.targets||[]).forEach(function(e){if(d(e)){i.push(String(e))}});var r=[];(e.excludeTargets||[]).map(function(e){if(d(e)){r.push(String(e))}});t.push({id:e.id,event:String(e.event),targets:i,excludeTargets:r,preventDefault:e.preventDefault})});return t}var v=function(e,t,i,r,a){var o=t.id;var s=[],l;if(o&&t&&i){l={};l.id=o;l.handler=n.generate(i,r,t,e);l.triggerEvent={};l.triggerEvent.name=t.event;l.triggerEvent.supportedChartTypes=[a];l.triggerEvent.excludeTargets=t.excludeTargets;l.triggerEvent.targets=t.targets;l=_(l,e,t,i,r,a);s.push(l);l=y(e,t,i,r,a);if(l){s.push(l)}}return s};function y(e,t,i,r,a){if(t.targets.indexOf(String(s.DATAPOINT))>-1&&["info/timeseries_line"].indexOf(a)>-1){return{triggerEvent:{name:t.event,supportedChartTypes:[a],targets:[String(s.PLOT)]},id:t.id+"_internal_"+ +l.createDateInstance(),handler:function(a,n,o){if(!n.isBigDataMode()){return}var s=r.getVizRenderInfo();var l=a.data.pointToChart;var u=A(b(s.plot().dataPoints()),l);if(u){i.call(e,t.id,S(a,l,u),r.getVizModelInfo(),s)}}}}}function _(e,t,i,r,a,n){if(i.excludeTargets&&i.excludeTargets.indexOf(String(s.DATAPOINT))>-1&&["info/timeseries_line"].indexOf(n)>-1){e.handler=function(e,t,i,r){if(!i.isBigDataMode()){e(t,i,r);return}var n=a.getVizRenderInfo();var o=t.data.pointToChart;var s=A(b(n.plot().dataPoints()),o);if(!s){e(t,i,r)}}.bind(null,e.handler)}return e}function A(e,t){var i;e.some(function(e){if(!e){return}var r=e.x,a=e.y,n=e.width,o=e.height;if(t.x>=r-1&&t.y>=a-1&&t.x<=r+n+2&&t.y<=a+o+2&&Math.pow(t.x-r-n/2,2)+Math.pow(t.y-a-o/2,2)<=16){return i=e}});return i}function b(e){return e.reduce(function(e,t){Array.prototype.push.apply(e,t);return e},[])}function S(e,t,i){return{name:e.name,preventBrowserDefault:function(){if(e.data&&e.data.originalEvent){return e.data.originalEvent.preventDefault()}},data:{point:t,targets:i,ctrlKey:e.data.ctrlKey,wheelDelta:e.data.wheelDelta,scale:e.data.scale}}}return f});define("sap/viz/framework/customization/BaseCustomInteraction",["sap/viz/framework/property/PropertyManager","sap/viz/framework/common/util/TypeUtils"],function(e,t){var i=function(){this._properties=new e;this._properties.add(this.constructor.metadata.propertyDefinition)};i.id="";i.metadata={propertyDefinition:{},eventDefinition:[]};i.triggers=[];i.prototype.handle=function(e,t,i,r){};i.prototype.destroy=function(){};i.prototype.exportToSVGString=function(e){return""};i.prototype.container=function(){return null};i.prototype.properties=function(e,i){var r=null;if(arguments.length===1){if(t.isString(e)){r=this._properties.get(e)}else{this._properties.set(e);r=this}}else if(arguments.length===2){this._properties.set(e,i);r=this}else{r=this._properties.get()}return r};i.prototype.vizInstanceInfo=function(){return null};i.prototype.reRenderVizInstance=function(){};return i});define("sap/viz/framework/customization/CustomInteractionFactory",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/customization/BaseCustomInteraction","sap/viz/framework/property/PropertyManager"],function(e,t,i,r){var a={};a.create=function(e,t){var i=new e(t);if(e.metadata&&e.metadata.propertyDefinition){e._properties=new r;e._properties.add(e.metadata.propertyDefinition)}i.triggers=e.triggers;i.metadata=e.metadata;i.id=e.id;return i};a.extend=function(){var r=function(){r.superclass.constructor.apply(this,arguments)};e.extend(r,i);r.triggers=[];r.metadata=t.extend(true,{},i.metadata);r.id=t.extend(true,{},i.id);return r};return a});define("sap/viz/framework/customization/CustomRendererFactory",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/customization/BaseCustomRenderer","sap/viz/framework/property/PropertyManager"],function(e,t,i,r){var a={};a.create=function(e,t){var i=new e(t);if(e.metadata&&e.metadata.propertyDefinition){e._properties=new r;e._properties.add(e.metadata.propertyDefinition)}i.metadata=e.metadata;i.id=e.id;return i};a.extend=function(){var r=function(){r.superclass.constructor.apply(this,arguments)};e.extend(r,i);r.metadata=t.extend(true,{},i.metadata);r.id=t.extend(true,{},i.id);return r};return a});define("sap/viz/framework/customization/BaseCustomOverlay",["sap/viz/framework/property/PropertyManager","sap/viz/framework/common/util/TypeUtils"],function(e,t){var i=function(t){this._properties=new e;this._properties.add(this.constructor.metadata.propertyDefinition);this._vizInstanceInfo=t};i.id="";i.metadata={propertyDefinition:{},eventDefinition:[]};i.prototype.init=function(){};i.prototype.overrideProperties=function(e){return{}};i.prototype.render=function(e,t,i){};i.prototype.exportToSVGString=function(e){return""};i.prototype.container=function(){return null};i.prototype.properties=function(){var e=arguments.length;var i=null;switch(e){case 0:i=this._properties.get();break;case 1:var r=arguments[0];if(t.isString(r)){i=this._properties.get(r)}else{this._properties.set(r);i=this}break;case 2:var a=arguments[0];var n=arguments[1];this._properties.set(a,n);i=this;break;default:}return i};i.prototype.vizInstanceInfo=function(){return null};i.prototype.destroy=function(){};return i});define("sap/viz/framework/customization/CustomOverlayFactory",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/customization/BaseCustomOverlay","sap/viz/framework/property/PropertyManager"],function(e,t,i,r){var a={};a.create=function(e,t){var i=new e(t);if(e.metadata&&e.metadata.propertyDefinition){e._properties=new r;e._properties.add(e.metadata.propertyDefinition)}i.metadata=e.metadata;i.id=e.id;return i};a.extend=function(){var r=function(){r.superclass.constructor.apply(this,arguments)};e.extend(r,i);r.metadata=t.extend(true,{},i.metadata);r.id=t.extend(true,{},i.id);return r};return a});define("sap/viz/framework/customization/BaseCustomization",["sap/viz/framework/property/PropertyManager","sap/viz/framework/customization/BaseCustomRenderer","sap/viz/framework/customization/CustomRendererUtils","sap/viz/framework/customization/CustomInteractionUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/customization/CustomInteractionFactory","sap/viz/framework/customization/CustomRendererFactory","sap/viz/framework/customization/CustomOverlayFactory"],function(e,t,i,r,a,n,o,s){var l="customOverlay";var u="customRenderers";var c="customInteraction";var f="customOverlayProperties";var m="customRendererProperties";var p="customInteractionProperties";var h="interaction.behaviorType";var d=function(){this._properties=new e;this._chartInfos=null;this._properties.add({id:{defaultValue:null},customOverlayProperties:{defaultValue:null},customRendererProperties:{defaultValue:null},customInteractionProperties:{defaultValue:null}});this._customOverlayProperties=new e;this._customRendererProperties=new e;this._customInteractionProperties=new e;this._customOverlay=null;this._createCustomOverlay();this._customRenderers=null;this._createCustomRenderers();this._customInteraction=null;this._createCustomInteraction();this._customRendererIDs=null};d.id="";d.chartType="";d.customOverlay=null;d.customRenderers=[];d.customInteraction=null;d.prototype._setProperties=function(e){if(!e){return}this._properties.set(e);var t=e[f]!==undefined;if(this._customOverlay&&t){this._customOverlay._properties.set(e[f]);this._customOverlayProperties=this._customOverlay._properties}t=e[m]!==undefined;if(this._customRenderers&&this._customRenderers.length>0&&t){var i=e[m];if(i){this._customRendererIDs=Object.keys(i)}this._customRendererProperties.set(i)}t=e[p]!==undefined;if(this._customInteraction&&t){this._customInteraction._properties.set(e[p]);this._customInteractionProperties=this._customInteraction._properties}};d.prototype._getCustomRendererProperties=function(){var e;var t=this._properties.get(m);e=t;if(t){if(this._customRendererIDs&&this._customRendererIDs.length>0){e={};var i=this;this._customRendererIDs.forEach(function(r){if(t.hasOwnProperty(r)){e[r]=i._customRendererProperties.get(r)}})}}return e};d.prototype._init=function(e){this._chartInfos=e;if(this._customOverlay){this._customOverlay.init()}this._registerCustomInteraction()};d.prototype._overrideProperties=function(e){if(this._customOverlay){return this._customOverlay.overrideProperties(e)}else{return{}}};var g=function(e,t){var i=null;if(e&&t){i=t[e]}return i};d.prototype._overrideRendererProperties=function(e){if(!e){e={}}if(this._customRenderers&&this._customRenderers.length>0){var t=this;this._customRenderers.forEach(function(r){var a=r.id;var n=r.render;var o=t._properties.get(m);var s=r.constructor.type;var l=s.toString();var u=r.id;o=g(u,o);var c=i.getRenderFunction(r,l,n,o,t._chartInfos.getVizModelInfo());if(c){e[l]=c}})}return e};var v=function(e,t){var i=this;if(e&&t){t.forEach(function(t){e[t]=function(){return i["_"+t]()}})}};d.prototype._createCustomInteraction=function(){var e=this.constructor[c];if(e){var t=null;var i=this;t=n.create(e);var r=["vizInstanceInfo"];v.call(this,t,r);t.container=function(){return i._chartInfos.getInteractionContainer()};t.reRenderVizInstance=function(){return i._reRenderVizInstance()};this._customInteraction=t}};d.prototype._createCustomOverlay=function(){var e=this.constructor[l];if(e){var t=null;var i=this;t=s.create(e);var r=["vizInstanceInfo"];v.call(this,t,r);t.container=function(){return i._chartInfos.getOverlayContainer()};this._customOverlay=t}};d.prototype._createCustomRenderers=function(){var e=this.constructor[u];if(e&&e.length>0){if(!this._customRenderers){this._customRenderers=[]}var t=null;var i=this;e.forEach(function(e){if(e&&e.id){var r=e.id;var a={};a[r]={};a[r]["defaultValue"]=null;i._customRendererProperties.add(a)}t=o.create(e);var n=["vizInstanceInfo"];v.call(i,t,n);i._customRenderers.push(t)})}};d.prototype._registerCustomInteraction=function(){if(this._customInteraction){r.buildBehavior(this._customInteraction,this._chartInfos)}};d.prototype._render=function(e,t,i){if(this._customOverlay){this._customOverlay.render(e,t,i)}};var y=function(e){if(e){if(a.isArray(e)){e.forEach(function(e){e.destroy();e=null})}else{e.destroy()}}e=null};d.prototype._destroy=function(){y(this._customOverlay);if(this._customInteraction){r.cleanBehavior({chartAppId:this._chartInfos.chartAppId,customizationsId:this._chartInfos.customizationsId})}};var _=function(e,t){var i=null;if(e){i=e.exportToSVGString(t)}return i};d.prototype._exportToSVGString=function(e){var t="";t+=_(this._customOverlay,e);t+=_(this._customInteraction,e);return t};d.prototype._vizInstanceInfo=function(){return this._chartInfos.getVizInstanceInfo()};d.prototype._reRenderVizInstance=function(){};return d});define("sap/viz/framework/customization/CustomizationFactory",["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/customization/BaseCustomization","sap/viz/framework/property/PropertyManager"],function(e,t,i,r){var a={};a.create=function(e,t){var i=new e(t);return i};a.extend=function(){var r=function(){r.superclass.constructor.apply(this,arguments)};e.extend(r,i);r.id=t.extend(true,{},i.id);r.chartType=t.extend(true,{},i.chartType);r.customOverlayProperties=t.extend(true,{},i.customOverlayProperties);r.customRendererProperties=t.extend(true,{},i.customRendererProperties);r.customInteractionProperties=t.extend(true,{},i.customInteractionProperties);return r};return a});define("sap/viz/framework/customization/CustomizationManager",["sap/viz/framework/customization/CustomizationFactory","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/VersionComparator"],function(e,t,i,r,a){var n={};var o={};var s=["info/timeseries_line","info/timeseries_column","info/timeseries_scatter","info/timeseries_bubble","info/column","info/dual_column","info/bar","info/dual_bar","info/stacked_column","info/stacked_bar","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/line","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/horizontal_combination","info/dual_combination","info/dual_horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/scatter","info/bubble"];o.register=function(e){if(e&&t.isExist(e.id)&&t.isFunction(e)){if(!u(e.chartType)){r.logWarnning(i.getLogMessage("IDS_ERROR_CHART_TYPE_FOR_CUSTOMIZATION",e.chartType));return}if(!n[e.id]){n[e.id]=e}var a=sap.bi.framework.getServiceMetadata("*sap.viz.impls.customization").filter(function(t){return t.id===e.id});if(a.length>0){l(a[0])}}};o.unregister=function(e){if(e&&t.isExist(e.id)&&t.isFunction(e)){if(n[e.id]){delete n[e.id]}}};o.get=function(e){var t=n[e];return t};var l=function(e){if(e.customProperties&&e.customProperties.requires){var t=e.customProperties.requires;for(var n=0,o=t.length;n<o;n++){if(t[n].id==="sap.viz.common.core"&&a.compare(t[n].version,sap.viz.api.VERSION)>0){r.logWarnning(i.getLogMessage("IDS_ERROR_SDK_VERSION_DOES_NOT_MATCH",e.id,t[n].version,sap.viz.api.VERSION));return false}}}return true};var u=function(e){if(s.indexOf(e)<0){return false}return true};return o});define("sap/viz/framework/customization/CustomizationUtils",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/customization/CustomizationManager"],function(e,t,i){var r={};r.registerById=function(e){var r=sap.bi.framework.getService("*","*sap.viz.impls.customization");var a;for(var n=0,o=r.length;n<o;n++){a=r[n];if(a&&t.isFunction(a)&&!a.id){a=a.apply(null)}if(a&&a.id===e){break}}if(n<o&&a){i.register(a);return a}};r.getBundleVersion=function(e){var t=sap.bi.framework.getServiceMetadata("*sap.viz.impls.customization").filter(function(t){return t.id===e});if(t.length>0){if(t[0].framework&&t[0].framework.bundleVersion){return t[0].framework.bundleVersion}}return null};r.isSupported=function(e,t){var a=i.get(e);if(!a){a=r.registerById(e)}if(a&&a.chartType){return a.chartType===t}return false};return r});define("sap/viz/framework/customization/VizInstanceInfo",["sap/viz/framework/common/util/TypeUtils"],function(e){var t=["type","properties","bindings","data","scales","size","selection","customizations","on","off","dispatchEvent","template"];var i={};var r="customization_";var a=function(e){return r+e};i.createInfo=function(i){var r={};t.forEach(function(t){if(e.isFunction(i[t])){r[t]=function(){return i[t].apply(i)}}else if(e.isExist(i[t])){r[t]=i[t]}});r.on=function(e,t,r){e=a(e);i.on.apply(i,[e,t,r])};r.dispatchEvent=function(e,t){if(e){if(i&&i._evtDisp){e=a(e);i._evtDisp.fire(e,t)}}};r.off=function(e){e=a(e);i.off.call(i,e)};return r};return i});define("sap/viz/framework/scale/ColorShapeScaleMerger",["sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/mark/MarkManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/framework/scale/ScaleUtil"],function(e,t,i,r,a,n,o,s){"use strict";var l="measureNames";var u="#aaaaaa";var c=function(e){this.__className="sap.viz.scale.ColorShapeScale";this._defaultShape="squareWithRadius";this._defaultColor="#748cb2";this._colorScales=[];this._shapeScale=null;this._semanticColorScale=null;this._bindingFields=null;this._items=[];this._markMgr=e};c.prototype.addColorScale=function(e){this._colorScales.push(e)};c.prototype.setSemanticColorScale=function(e){this._semanticColorScale=e};c.prototype.setShapeScale=function(e){this._shapeScale=e};c.prototype.getLength=function(){return this._items.length};c.prototype.getItem=function(e){return this._items[e]};c.prototype.items=function(){return this._items};c.prototype.setContext=function(e,t){if(e<this.getLength()&&t){this._items[e].context=t}};c.prototype.getBindingFields=function(){return this._bindingFields};c.prototype.merge=function(e,t,i){var r=this._mergeColorShape(t,i);var a=d(r);var n=a||e||this._shapeScale&&this._shapeScale.scale.getRange()[0]||this._defaultShape;var o=[];if(this._semanticColorScale&&!this._semanticColorScale._hideSemanticLegend){o=this._mergeSemanticStyleShape(n,r.length)}o=o.concat(r);this._items=o};function f(e,t){var r={},a,n={};var o;for(o in e){if(e.hasOwnProperty(o)){if(i.isExist(r[o])&&r[o]!==e[o]){a=r;n[o]=e[o];r={and:[a,n]}}else{r[o]=e[o]}}}for(o in t){if(t.hasOwnProperty(o)){if(i.isExist(r[o])&&r[o]!==t[o]){a=r;n[o]=t[o];r={and:[a,n]}}else{r[o]=t[o]}}}return r}function m(e,t,i){var r=false,a,n,o;if(i.timeAxis){var l=i.shape.rowArray.length;for(a=0;!r&&a<e.length;++a){o=e[a];for(n=0;!r&&n<t.length;++n){r=i.series[o*l+t[n]].some(function(e){return e.valueAxis!=null})}}}else{var u=i.valueAxis.values;var c=i.valueAxis2.values;for(a=0;!r&&a<e.length;++a){o=e[a];for(n=0;!r&&n<t.length;++n){r=s.hasNoNullValue(u[o][t[n]],c[o][t[n]])}}}return r}c.prototype._mergeColorShape=function(e,t){var a=this._shapeScale==null?null:this._shapeScale.scale;var n=a==null?[]:a.getDomain();var s=n.length!==0;var l=this._defaultColor;if(s===false&&this._colorScales.length===0){return[]}var u=[],c=[],p=[],h=[],d=null;var v,_,A,b;var S=function(e){return!e.isNoValue};for(b=0;b<this._colorScales.length;b++){var M=this._colorScales[b];var D=M.scale._colorId==="color"?0:1;var E=true;var T=[];if(M==null||M.scale==null){E=false}else{T=r.getDomain(M);if(T.length===0){E=false;l=M.scale.getRange()[0]||l}}if(!E&&!s){continue}if(E&&s){var x=y(M.scale);var I=y(a);var z=o.getBindingContext(M);var N=o.getBindingContext(this._shapeScale);for(v=0;v<T.length;++v){var w=T[v];for(var O=0;O<n.length;++O){if(!e||m(w.oriIndex,n[O].oriIndex,t)){u.push(w.concat(n[O]));p.push({color:x[v],shape:I[O]});h.push(f(z[v],N[O]))}}}}else if(E&&!s){u=u.concat(T);c=y(M.scale);var F;var L;if(this._shapeScale&&this._shapeScale.scale){F=this._shapeScale.scale.getRange()}var R=F&&F.length>0?F[0]:this._defaultShape;var C=M.rowArray?e?M.rowArray.filter(S):M.rowArray:undefined;for(v=0,_=T.length;v<_;v++){var k=v;d=C&&C[v]&&C[v].mndIndex;var P=c[v];L=this._markMgr.getShape(d,D,k)||R;var B,V;if(i.isPlainObject(P)){if(P.pattern&&P.color){p.push({color:P.color,pattern:P.pattern,shape:L})}}else{B={color:c[v],shape:L};if(this._markMgr.getSeriesShape){V=this._markMgr.getSeriesShape(d,D,k);if(V){B.seriesShape=V}}p.push(B)}}h=h.concat(this.getBindingContextFromColorScale(M))}else{u=u.concat(n);c=y(a);for(v=0,_=n.length;v<_;v++){p.push({color:l,shape:c[v]})}h=h.concat(o.getBindingContext(this._shapeScale))}}var U=g(this._colorScales,s,u);if(U.isOnlyOneMndValue){for(v=0;v<u.length;v++){u[v].splice(U.mndIndex,1)}}this._createBindingField(U);var H=[];for(v=0;v<u.length;++v){if(i.isPlainObject(u[v])){for(A in u[v]){if(u[v].hasOwnProperty(A)){H.push([u[v][A]])}}}else{H.push(u[v])}}return H.map(function(e,t){var i=p[t];var r=h[t];var a={data:e,color:i.color,shape:i.shape,context:r};if(i.pattern){a.pattern=i.pattern}if(i.seriesShape){a.seriesShape=i.seriesShape}return a})};function p(e){var t={};var i=[];for(var r=0;r<e.length;++r){var a=e[r];if(!t[a.id]){t[a.id]=a;i.push(a)}}return i}c.prototype.getBindingContextFromColorScale=function(e){var t=null;if(this._isBullet){t={};var i=function(e){if(this._bindingInfo[e]&&this._bindingInfo[e].metaData){this._bindingInfo[e].metaData.forEach(function(e){t[e.name]=e.id})}}.bind(this);i("actualValues");i("forecastValues");i("additionalValues")}return o.getBindingContext(e,t)};c.prototype._createBindingField=function(e){var t=[],i,n;if(this._colorScales!=null&&this._colorScales.length!==0){var o=[];var s,u,c,f;for(u=0;u<this._colorScales.length;++u){s=this._colorScales[u].metaData;if(s){i=s.length;n=r.getDomain(this._colorScales[u]);if(n.length>0&&i>n[0].length){i=n[0].length}for(c=0;c<i;++c){f=s[c];if(f.id===l){f=a.extend({},f);o=o.concat(f.values)}t.push(f)}}}t=p(t);for(u=t.length-1;u>=0;--u){f=t[u];if(f.id===l){if(e.isOnlyOneMndValue){t.splice(u,1)}else{f.values=o}break}}}if(this._shapeScale!=null&&this._shapeScale.length!==0&&this._shapeScale.metaData!=null){i=this._shapeScale.metaData.length;n=r.getDomain(this._shapeScale);if(n.length>0&&i>n[0].length){i=n[0].length}t=t.concat(this._shapeScale.metaData.slice(0,i))}this._bindingFields=t};function h(e,t,i){var r=e;if(i){if(e.length===0){r="*"}else{r={not:r}}}if(t){r={and:[t,r]}}return r}c.prototype._mergeSemanticStyleShape=function(t,i){var r;var a;var n=this._shapeScale==null?null:this._shapeScale.scale;var s=n==null?[]:n.getDomain();var l=s.length!==0;var c=[];var f=[];if(i<=0){this._bindingFields=[{name:e.get("IDS_SEMANTIC_DEFAULT_TITLE")}]}var m,p;if(l){c=v(this._semanticColorScale.getDomain(),s,function(e,t){return[e].concat(t)});f=v(y(this._semanticColorScale),y(n),function(e,t){return{color:e.color||u,pattern:e.pattern,shape:t}});m=this._semanticColorScale.getRules();var d=o.getBindingContext(this._shapeScale);var g=v(m,d,function(e,t){return{rule:e,additionalRule:t}});p=this._semanticColorScale.hasValidOthers();var _=0;r=c.map(function(e,t){var i=f[t];if(p&&t>=c.length-d.length){return{data:e,color:i.color,pattern:i.pattern,shape:i.shape,context:h(m,d[_++],true)}}else{return{data:e,color:i.color,pattern:i.pattern,shape:i.shape,context:h(g[t].rule,g[t].additionalRule)}}})}else{c=this._semanticColorScale.getDomain();var A=y(this._semanticColorScale);var b;for(a=0;a<A.length;a++){var S=A[a].color;if(!S&&A[a].pattern){S=u}b={color:S,pattern:A[a].pattern,shape:t};if(A[a].seriesShape){if(A[a].lineColor){b.lineColor=A[a].lineColor}if(A[a].lineType){b.lineType=A[a].lineType}b.seriesShape=A[a].seriesShape;if(b.seriesShape==="line"&&(b.lineType||b.lineColor)&&b.pattern!=="noFill"){b.pattern=null}}f.push(b)}m=this._semanticColorScale.getRules();p=this._semanticColorScale.hasValidOthers();r=c.map(function(e,t){var i=f[t];if(p&&t===c.length-1){b={data:e,pattern:i.pattern,shape:i.shape,context:h(m,null,true)}}else{b={data:e,pattern:i.pattern,shape:i.shape,context:h(m[t])}}if(i.seriesShape){b.color=i.color;if(i.lineColor){b.lineColor=i.lineColor}if(i.lineType){b.lineType=i.lineType}b.seriesShape=i.seriesShape}else{b.color=i.color||u}return b})}for(a=0;a<r.length;a++){r[a].isSemanticItem=true}return r};var d=function(e){var t=null;if(e&&e.length>0){var i=e[0].shape;var r=true;for(var a=0;a<e.length;a++){if(i!==e[a].shape){r=false;break}}if(r){t=i}}return t};function g(e,t,i){var a={isOnlyOneMndValue:false,mndIndex:-1};if(e.length!==1||t===true||i.length===0){return a}var n=e[0].metaData;return r.checkMndStatus(n,i)}var v=function(e,t,i){var r=[];for(var a=0;a<e.length;a++){for(var n=0;n<t.length;n++){r.push(i(e[a],t[n]))}}return r};var y=function(e){var t=e.getRange();var i=t.concat([]);var r=e.getDomain();var a,n;if(i.length<r.length){n=t.length;for(a=n;a<r.length;a++){i.push(t[a%n])}}return i.splice(0,r.length)};return c});define("sap/viz/framework/customization/VizModelInfo",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ColorShapeScaleMerger","sap/viz/framework/common/util/DataUtils"],function(e,t,i){var r={categoryLabels:{id:["categoryAxis"],needContext:true},colorLegendItems:{id:["color","color2"],needContext:true},valueAxisDomain:{id:["valueAxis"]},valueAxis2Domain:{id:["valueAxis2"]},timeAxisDomain:{id:["timeAxis"]},dataPoints:{id:["dataPoints"],needContext:true},sizeLegendDomain:{id:["bubbleWidth"]}};var a={};var n=i.DIMENSION_DISPLAYNAME;var o=i.DIMENSION_VALUE;var s=[o,n];function l(t,i,r){if(e.isPlainObject(r)){var a=r;var l=Object.keys(a);var u=l.every(function(e){return s.indexOf(e)>-1});if(u){t[i]=a[o];t[i+"."+n]=a[n]}}else{t[i]=r}}function u(e,t){var i=!e||e&&e.length===0;if(i||!t){return[]}var r=[];var a=t.length;r=e.map(function(e){var i={};for(var r=0;r<a;r++){i[t[r].id]=e[r]}return i});return r}function c(e,t){var i=e.dataModel.getDataPoints();var r=null;if(i&&i.length>0){r={};r[t]=[];var a=null;switch(t){case"id":a=function(e){return e.id};break;case"dataContext":a=function(e){return e.context()};break;default:a=function(){}}i.forEach(function(e){r[t].push(a(e))})}return r&&r[t]?r[t]:r}function f(e){return c(e,"dataContext")}function m(t,i){var r=false;var a=t.id;r=a.some(function(t){return i.hasOwnProperty(t)&&e.isFunction(i[t].getDomain)});return r}function p(e,t){var i=null;if(e&&t){for(var r in e){if(e.hasOwnProperty(r)){if(t===e[r]){i=r;break}}}}var a=null;if(i){a={};l(a,i,t)}return a}function h(t,i,r){var a=null;if(r){a=[];var n=u(t,i);var o=null;var s=null;if(n&&n.length===t.length){for(var l=0;l<t.length;l++){o=t[l];s=n[l];a[l]=[];if(e.isArray(o)){var c=null;for(var f=0;f<o.length;f++){var m=null;c=o[f];m=p(s,c);if(m){a[l][f]=m}}}}}}else{a=t}return a}function d(t,i,r,a,n){var o=null;var s=t.id;s.forEach(function(t){if(i.hasOwnProperty(t)&&e.isFunction(i[t].getDomain)){var s=r.dataModel[t]().metaData;var l=n&&n[t]&&n[t].scale;var u=l?n[t].scale.getDomain():i[t].getDomain();if(!o){o=[]}var c=h(u,s,a);o=o.concat(c)}});return o}function g(e,i,r){var a=e.semanticManager(),n=e.markManager(),o=e.propertyManager().get("legend.marker.shape"),s;if(o&&!n.locked()){n.setShape(o)}s=new t(n);if(a.hasDataPointColorStyle()){s.setSemanticColorScale(a.getDataPointColorScale())}else{for(var l=0;l<i.length;l++){s.addColorScale(i[l])}}if(r!==null){s.setShapeScale(r)}s.merge(o);return s}function v(e,t,i,r){return d(e,i,t,e.needContext,r)}function y(e,t){var i=g(t,[e.dataModel.color()],e.dataModel.shape());var r=i.items();return r.map(function(e){var t=[],i=Object.keys(e.context),r,a;for(r=0;r<i.length;r++){a={};if(e.context.hasOwnProperty(i[r])){a[i[r]]=e.context[i[r]];t.push(a)}}return t})}a.createInfo=function(e,t,i){i=i||null;var a={};var n=e.scales;for(var o in r){if(r.hasOwnProperty(o)){if(o==="dataPoints"){a[o]=function(){return f(e)}}else if(o=="colorLegendItems"&&n.shape){a[o]=function(){return y(e,t)}}else{var s=r[o];if(m(s,n)){a[o]=function(){var t=arguments[0];var i=arguments[1];return v(t,e,n,i)}.bind(null,s,i)}}}}return a};return a});define("sap/viz/framework/customization/VizRenderInfo",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/RuleUtil"],function(e,t){var i={};i.createInfo=function(e,t,i){t.setChartView(i);var r=t.exposedModules();var a={};r.forEach(function(e){a[e]=t.get(e)});return a};return i});define("sap/viz/framework/common/util/StatusConstants",[],function e(){return{LOCALE_CHANGED:{name:"localeChanged",description:"Locale is changed."}}});define("sap/viz/framework/core/ChartAppAddtionalFactory",[],function(){var e={};var t=[];e.register=function(e,i,r){t.push({chartType:e,funName:i,func:r})};e.getAddFunc=function(e,i){var r=null;for(var a=t.length-1;!r&&a>=0;--a){var n=t[a];if(n.chartType&&e.indexOf(n.chartType)>=0&&n.funName&&n.funName===i){r=n.func}}return r};return e});define("sap/viz/framework/interaction/utils/PlotZoomUtils",["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants"],function(e,t){var i={ZOOM_CONTAINER_CLASS:"v-zoom-plot"};function r(e){return parseFloat(e.toPrecision(2))}function a(e,t,i,a){var n=Math.pow(t/e,1/i),o=[e],s=e,l;if(!isNaN(a)&&n<a){n=a}for(var u=1;u<=i;u++){l=r(e*Math.pow(n,u));if(l!==s){o.push(l);s=l}}return o}var n=function(e){function t(e,t){var i=0,r=e.length,a,n,o,s;if(t>e[r-1]){return[e[r-1],t]}if(t<e[i]){return[t,e[i]]}while(r>i){o=i+r>>1;s=e[o];if(t<s){r=o}else if(t>s){i=o+1}else{a=e[o-1]||e[0];n=e[o+1]||e[e.length-1];return[a,n]}}if(i===0||i===e.length){return null}else{a=e[i-1];n=e[i];return[a,n]}}function i(e,i,n,o,s){if(isNaN(e)){return null}else{var l=t(a(i,n,o,s),r(e));return l?l[0]:null}}function n(e,i,n,o,s){if(isNaN(e)){return null}else{var l=t(a(i,n,o,s),r(e));return l?l[1]:null}}e.zoomInOut=function(e,t,r,a,o){var s=e==="in"?n:i;return{x:s(t.x,r.x.min,r.x.max,a,o),y:s(t.y,r.y.min,r.y.max,a,o)}};return e}({});i.zoomInOut=n.zoomInOut;i._calcCurrentZoomLevel=function(e,i,n){var o=e.get("plot.zoom.direction")||"",s=e.get("plot.transform.scale"),l=e.get("plot.zoom.limit");var u=null,c=null,f=null;function m(e,t,i,n,o){var s,l;if(t===i){s=null}else if(e>=i){s=1}else{l=a(t,i,n,o);if(l.length===1){s=null}else{s=r((r(e)-l[0])/(l[l.length-1]-l[0]))}}return s}if(s&&l&&e.get("plot.zoom.enabled")){if(!i){i=t.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS_MOSUSEWHEEL}if(!n){n=t.ZOOM.DEFAULT_ZOOM_LEVEL_MINOFFSET}if(o.indexOf("x")>-1&&l.x.min&&l.x.max){c=m(s.x,l.x.min,l.x.max,i,n)}if(o.indexOf("y")>-1&&l.y.min&&l.y.max){f=m(s.y,l.y.min,l.y.max,i,n)}if(c===null){u=f}else if(f===null){u=c}else{u=r((c+f)/2)}}return u};function o(e,t,i,r,a){if(!r){return null}var n=r.getBoundingClientRect(),o={x:i.x/t.x,y:i.y/t.y},s;if(!e){s={x:n.width>>1,y:n.height>>1}}else{var l=e.x-n.left,u=e.y-n.top;s={x:l<0?0:l>n.width?n.width:l,y:u<0?0:u>n.height?n.height:u}}return{x:(a.x-s.x)*o.x+s.x,y:(a.y-s.y)*o.y+s.y}}function s(t,i,r){var a=r||"";return{x:a.indexOf("x")===-1?NaN:e.valueInRange(t.x,[i.x.min,i.x.max]),y:a.indexOf("y")===-1?NaN:e.valueInRange(t.y,[i.y.min,i.y.max])}}i.applyZoom=function(e,t,i,r,a,n,l){if(!r.get("plot.zoom.enabled")||!i){return}var u=r.get("plot.zoom.direction"),c=r.get("plot.transform.scale"),f=r.get("plot.transform.translate"),m=r.get("plot.zoom.limit"),p,h;if(typeof e==="number"){e={x:e,y:e}}var d=a?a.semanticManager():null;if(d){d.beginSession()}r.set({plot:{transform:{scale:s(e,m,u)}}});p=r.get("plot.transform.scale");h=o(t,c,p,i,f);r.set({plot:{transform:{translate:h}}});if(d){d.endSession()}if(a){a.fireInteractionEvent("saveZoom");if(a.propertyManager().get("interaction.enableInternalEvents")&&a._interaction){a._interaction._fireExternalEvent("_zoomDetected",{name:"_zoomDetected",data:{currentZoomLevel:this._calcCurrentZoomLevel(r,n,l)}})}}};return i});define("sap/viz/framework/scale/DynamicScaleRepository",[],function e(){var t={};return t});define("sap/viz/framework/scale/DynamicScaleUtil",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/scale/DynamicScaleRepository"],function(e,t,i){var r={};r.setUpdynamicScale=function(e,t,r,a,n){var o=a.statusManager();if(!t.get("general.enableScalingFactor")){o.remove("dynamicScale");return}if(!o.has("dynamicScale")){o.add("dynamicScale",null)}e=e.replace("info/","");var s=i[e];var l=new s(e,t,r,a,n);var u=l.getdynamicScale();if(u){o.set("dynamicScale",u)}else{o.remove("dynamicScale")}};return r});define("sap/viz/framework/export/ExportTooltips",["sap/viz/framework/common/util/ObjectUtils","jquery"],function(e,t){var i="http://www.w3.org/2000/svg";var r;var a;function n(e,t,a,n){var o=e.textContent;if(o===""||e.style&&(e.style.display==="none"||e.style.visibility==="hidden")){return}var s=null;if(n){s=n.textAnchor()}var l=e.getBoundingClientRect();var u=window.getComputedStyle(e,null);var c=e.getAttribute("class");var f=document.createElementNS(i,"text");f.textContent=o;r.setAttribute("font-style",u.fontStyle);r.setAttribute("font-family",u.fontFamily);r.setAttribute("font-size",u.fontSize);r.setAttribute("font-weight",u.fontWeight);r.setAttribute("fill",u.color);r.setAttribute("class",c);r.setAttribute("text-overflow",u.textOverflow);r.appendChild(f);a.setAttribute("font-style",u.fontStyle);a.setAttribute("font-family",u.fontFamily);a.setAttribute("font-size",u.fontSize);a.setAttribute("font-weight",u.fontWeight);a.setAttribute("fill",u.color);a.setAttribute("class",c);a.setAttribute("text-overflow",u.textOverflow);var m=f.getBBox();var p=m.y;var h=l.top-t.top;var d=parseFloat(u.width);var g=0;if(n.isRTL()){if(u.textAlign==="left"){g=0}else if(u.textAlign==="middle"){g=(d-m.width)/2}else{g=d-m.width}}var v=g+l.left+parseFloat(u.paddingLeft)-t.left;var y=/\.{3}$/;var _=y.test(o);if((c.indexOf("label")>-1||_)&&n.isRTL()){var A;var b;var S=document.createElementNS(i,"text");var M=document.createElementNS(i,"text");var D=parseFloat(o);if(_){A="...";b=o.substring(0,o.length-3)}else if(isNaN(o[0])){A=o[o.length-1];b=o.substring(0,o.length-1)}else{b=parseFloat(o)+"";A=o.slice(b.length)}S.textContent=A;M.textContent=b;r.appendChild(S);r.appendChild(M);var E=S.getBBox();var T=M.getBBox();S.setAttribute("y",-1*p);S.setAttribute("transform","translate("+v+","+h+")");var x=v+m.width-T.width;M.setAttribute("y",-1*p);M.setAttribute("transform","translate("+x+","+h+")");if(s){S.setAttribute("text-anchor",s);M.setAttribute("text-anchor",s)}a.appendChild(S);a.appendChild(M)}else{f.setAttribute("y",-1*p);f.setAttribute("transform","translate("+v+","+h+")");if(s){f.setAttribute("text-anchor",s)}a.appendChild(f)}}return function(o,s,l){s.setAttribute("text-rendering","geometricPrecision");s.setAttribute("shape-rendering","crispEdges");var u=document.createElementNS(i,"defs");s.appendChild(u);var c=s.appendChild(document.createElementNS(i,"g"));var f=o.querySelector(".v-m-tooltip");var m=f.querySelector(".v-background");var p=window.getComputedStyle(f,null);var h=window.getComputedStyle(m,null);var d=m.getBoundingClientRect();var g=o.getBoundingClientRect();c.setAttribute("transform","translate("+(d.left-g.left)+","+(d.top-g.top)+")");c.setAttribute("shape-rendering","crispEdges");c.setAttribute("class","v-m-tooltip");var v=c.appendChild(document.createElementNS(i,"g"));var y=v.appendChild(document.createElementNS(i,"rect"));y.setAttribute("width",p.width);y.setAttribute("height",p.height);y.setAttribute("fill",h.backgroundColor);y.setAttribute("stroke-width",parseFloat(m.style.borderWidth));y.setAttribute("stroke",m.style.borderColor);y.setAttribute("shape-rendering","crispEdges");y.setAttribute("rx",parseFloat(m.style.borderRadius));y.setAttribute("ry",parseFloat(m.style.borderRadius));r=document.body.appendChild(document.createElementNS(i,"svg"));r.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:1px;height:1px";a="v-text-measure-"+e.guid();r.setAttribute("class",a);var _=o.querySelector(".v-tooltip-mainDiv-scrollable-container");var A=_&&_.scrollHeight>_.offsetHeight;var b=o.querySelectorAll(".v-tooltip-dimension-measure td");for(var S,M,D=b.length,E=0;E<D;E++){S=b[E];if(A){var T=.2;var x=10;var I=S.offsetTop+S.offsetHeight*(1-T)<_.scrollTop+x;var z=S.offsetTop+S.offsetHeight*T>_.scrollTop+_.offsetHeight;if(z||I){continue}}M=c.appendChild(document.createElementNS(i,"g"));n(S,d,M,l)}var N=o.querySelector(".v-separationline");if(N){var w=N.getBoundingClientRect();var O=window.getComputedStyle(N,null);var F=w.width;var L=document.createElementNS(i,"line");L.setAttribute("x2",F);L.setAttribute("shape-rendering","crispEdges");L.setAttribute("stroke",O.borderBottomColor);L.setAttribute("stroke-width",parseFloat(O.borderBottomWidth));var R=c.appendChild(document.createElementNS(i,"g"));R.setAttribute("transform","translate("+(w.left+parseFloat(O.paddingLeft)-d.left)+","+(w.top-d.top)+")");R.setAttribute("shape-rendering","crispEdges");R.appendChild(L)}var C=o.querySelector(".v-footer-label.tooltipfooterlabel");if(C){var k=c.appendChild(document.createElementNS(i,"g"));n(C,d,k,l)}t("."+a).remove()}});define("sap/viz/framework/export/ChartExportSVG",["sap/viz/framework/common/util/CSSUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/export/ExportTooltips"],function(e,t,i,r,a,n){var o='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"/>';var s="http://www.w3.org/2000/svg";var l=function(){};l.exportToSVGString=function(e,a){if(!(e._chartView&&e._chartView._initialized)){r.warn("cannot export to svg, the viz has not been initialized.");return o}var l={width:e._rootElement.style("width"),height:e._rootElement.style("height")};e._rootElement.attr("width",parseFloat(l.width)).attr("height",parseFloat(l.height));e._rootElement.style("width","").style("height","");if(this._supportCustomSVG(e._chartView)){return this._getCustomSvg(a,e._chartView)}var u=this._getSvgFromDom(e,a);var c=e._tooltipContainer&&e._tooltipContainer.querySelector(".v-m-tooltip");if(c&&c.style.visibility==="visible"){var f=document.implementation.createDocument(s,"svg",null);var m=u.appendChild(f.createElementNS(s,"g"));m.setAttribute("class","v-m-tooltip-container-"+t.guid());var p=e._runtime.envManager();n(e._tooltipContainer,m,p);if(e._setupRTL()){m.setAttribute("direction","rtl")}}var h=o;try{h=(new XMLSerializer).serializeToString(u)}catch(e){r.error("error on exporting the svg document : ",e.message)}var d=d3.select(u)[0][0].getElementsByTagName("clipPath");var g;for(var v=0;v<d.length;v++){g=new RegExp(d[v].id,"g");h=h.replace(g,"clipPath-"+t.guid())}this._postProcessSvgStr(h);if(e._customizationModule&&i.isFunction(e._customizationModule._exportToSVGString)){var y="</svg>";var _=h.lastIndexOf(y);var A=h.substr(0,_);h=A+e._customizationModule._exportToSVGString(a)+y}e._rootElement.style("width","100%").style("height","100%");e._rootElement.attr("width","100%").attr("height","100%");return h};l.supportExportToSVG=function(e){var t=false;if(e._type&&e._chartView){t=this._supportCustomSVG(e._chartView)||e._viewLoaderDelegator.getBindingDefinition(e._type).vender==="sap.viz"||e._rootElement.node().tagName==="svg"||t}return t};l._supportCustomSVG=function(e){return e&&i.isFunction(e.supportExportToContentType)&&e.supportExportToContentType("svg")};l._getSvgFromDom=function(i,r){var n;try{n=i._rootElement.node().cloneNode(true)}catch(t){if(!n){var o=i._rootElement.node();var s=o.innerHTML;n=document.createElement("svg");n.innerHTML=s;for(var l=0;l<o.attributes.length;l++){var u=o.attributes[l];if(u.name!=="style"){n.setAttribute(u.name,u.value)}else{e.setDOMStyle(n,u.value)}}}}var c=t.guid("sap-viz");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");d3.select(n).attr("class",c+" "+i._rootElement.attr("class"));d3.select(n).attr("text-rendering","geometricPrecision");d3.select(n).selectAll(".v-m-tooltip").remove();d3.select(n).selectAll(".v-geo-zoom-btn").remove();d3.select(n).selectAll(".v-geo-reset-control").remove();d3.select(n).selectAll("rect.v-select-indicator").remove();if(r&&r.hideAxis){d3.select(n).select(".v-m-main .v-m-yAxis").remove();d3.select(n).select(".v-m-main .v-m-yAxis2").remove();d3.select(n).select(".v-m-main .v-m-xAxis").remove();d3.select(n).select(".v-m-main .v-m-xAxis2").remove();d3.select(n).select(".v-m-main .v-m-zAxis").remove()}var f=d3.select(n).attr("width"),m=d3.select(n).attr("height");if(r&&r.hideTitleLegend){if(!d3.select(n).select(".v-m-legendGroup .v-bound").empty()){f=f-d3.select(n).select(".v-m-legendGroup .v-bound").attr("width");d3.select(n).select(".v-m-legendGroup").remove()}if(!d3.select(n).select(".v-m-title .v-bound").empty()){m=m-d3.select(n).select(".v-m-title .v-bound").attr("height");d3.select(n).select(".v-m-title").remove()}d3.select(n).attr("width",f).attr("height",m);d3.select(n).select(".v-m-main").attr("transform","translate(24, 24)");d3.select(n).select(".v-backgroundutil .v-background-body").attr("width",f);d3.select(n).select(".v-backgroundutil .v-background-body").attr("height",m)}if(r&&r.width&&r.height){d3.select(n).attr("width",r.width);d3.select(n).attr("height",r.height);d3.select(n).attr("viewBox","0 0 "+f+" "+m)}var p="";if(sap&&sap.bi&&sap.bi.framework&&sap.bi.framework.getService(i._type,"*sap.viz.impls")){var h=sap.bi.framework.getService(i._type,"*sap.viz.impls");var d=0,g;for(;d<h.length;d++){if(h[d]&&h[d].viz&&h[d].viz[0]&&h[d].viz[0].id===i._type&&h[d].cssString){p=h[d].cssString;break}}if(!p){p=a.getExternalCSS(i._type);if(p&&p.cssRules){var v="",y,_;y=p.cssRules;for(_=0;_<y.length;_++){v+=y.item(_).cssText}p=v}}}if(p){d3.select(n).append("style").text(p)}return n};l._postProcessSvgStr=function(e){var t=e.search(">")+1;var i=e.substr(0,t);var r=/\w+:\w+:\w+/g;i=i.replace(r,function(e){var t=e.split(":");return t[1]+":"+t[2]});r=/\s\S*:NS\S*/g;i=i.replace(r,"");e=i+e.substr(t);r=/<feMerge>.*<\/feMerge>/g;e=e.replace(r,"");if(e.indexOf("xmlns:xlink")<0){r=/svg/i;e=e.replace(r,function(e){return e+' xmlns:xlink="http://www.w3.org/1999/xlink"'})}r=/<feGaussianBlur[^(\/>)]*\/>/g;e=e.replace(r,"");return e};l._getCustomSvg=function(e,r){return r&&i.isFunction(r.exportContent)&&r.exportContent(t.extend(true,{type:"svg"},e))||o};return l});define("sap/viz/framework/common/util/TitleUtil",["sap/viz/framework/common/lang/LangManager"],function e(t){var i={getTextShow:function(e){var i=e==null?t.get("IDS_DEFAULTCHARTTITLE"):e;return i}};return i});define("sap/viz/framework/core/ChartApp",["jquery","sap/viz/framework/common/template/TemplateManager","sap/viz/framework/scale/ScaleManager","sap/viz/framework/binding/BindingManager","sap/viz/framework/interaction/Interaction","sap/viz/framework/core/Runtime","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ComboExShapeUtil","sap/viz/framework/common/util/oo","sap/viz/framework/core/BaseApp","sap/viz/framework/property/PropertyManager","sap/viz/framework/common/effect/EffectManager","sap/viz/framework/common/semantic/SemanticManager","sap/viz/framework/common/mark/MarkManager","sap/viz/framework/event/EventDispatcher","sap/viz/framework/common/log/Logger","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/chartmodel/DataModelManager","sap/viz/migrate/scaleMigrator","sap/viz/framework/customization/CustomizationManager","sap/viz/framework/customization/CustomizationFactory","sap/viz/framework/customization/CustomizationUtils","sap/viz/framework/customization/VizInstanceInfo","sap/viz/framework/customization/VizModelInfo","sap/viz/framework/customization/VizRenderInfo","sap/viz/framework/binding/bindingValidationUtil","sap/viz/framework/common/util/StatusConstants","sap/viz/framework/common/util/Constants","sap/viz/framework/core/ChartAppAddtionalFactory","sap/viz/framework/chartmodel/GraphicModel","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/VersionComparator","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/framework/extension/ExtensionUtils","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/scale/DynamicScaleUtil","sap/viz/framework/export/ChartExportSVG","sap/viz/framework/common/util/TitleUtil"],function(jQuery,e,t,i,r,a,n,o,s,l,u,c,f,m,p,h,d,g,v,y,_,A,b,S,M,D,E,T,x,I,z,N,w,O,F,L,R,C,k,P,B,V,U,H,G,Y,j){"use strict";var q=0;var W=N.PROPERTY.USER_LEVEL;function K(){return"UIComp_"+q++}var X="v-zoom-plot";var Z=function(e){Z.superclass.constructor.call(this);this._chartAppId=K();this._type=null;this._data=null;this._bindings=null;this._templateId=null;this._events=null;this._properties=null;this._scales=null;this._userSettingScales=null;this._sharedRuntimeScales=null;this._rootContainer=null;this._tooltipContainer=null;this._chartView=null;this._rootElement=null;this._interaction=null;this._dataRole=null;this._dispatchCache={};this._viewLoaderDelegator=e;this._propertyMgr=new m;this._propertyMgr.flag(N.PROPERTY_FLAGS.CORE);var t=this._propertyMgr.valueStack();if(t.indexOf("customizeValue")===-1){t.unshift("customizeValue");this._propertyMgr.valueStack(t);this._propertyMgr.defaultValueAttr("value")}this._effectMgr=new p;this._dataModelManager=new A(e);this._markMgr=new d;this._scaleMgr=new m;this._zoneMgr=new m;this._statusMgr=new m;this._statusMgr.add({languageDirection:N.DIRECTION.LTR,"interaction.holdSelection":false,hasCustomization:false,chartAppId:this._chartAppId,customizationsId:null,timeLevels:[],"data.unit":null});this._semanticMgr=new h;this._semanticMgr.setDependency(this._propertyMgr,this._statusMgr);this._evtDisp=new g;this._graphicModel=new O;this._scaleMgr.watch("dataFrame",this.onFrameScaleChange.bind(this));this._runtime=new a(this._propertyMgr,this._effectMgr,this._semanticMgr,this._markMgr,this._scaleMgr.proxy(),this._zoneMgr.proxy(),this._evtDisp,this._statusMgr,this._dataModelManager,this._graphicModel,this._envMgr);var i=this._statusMgr,r=this._runtime,n=this;i.add("zoomInOut",{get:function(){return i.get("plot.zoom")},set:function(e){if(arguments.length>0&&e&&e.target==="plotArea"&&n._container){var t=i.get("plot.zoom.enabled");if(t){i.set("zooming",true);var a=i.get("plot.transform.scale"),o=i.get("plot.zoom.limit"),s=V.zoomInOut(e.direction,a,o,N.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS,N.ZOOM.DEFAULT_ZOOM_LEVEL_MINOFFSET);V.applyZoom(s,null,n._container.querySelector("."+X),i,r,N.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS,N.ZOOM.DEFAULT_ZOOM_LEVEL_MINOFFSET)}}}});this._propertyZone.call(this);this._feedingZone.call(this);this._dataModel=null;this._dataChanged=false;this._bindingChanged=false;this._scalesChanged=false;this._propertiesChanged=false;this._sizeChanged=false;this._allChanged=false;this._customizationId=null;this._customizationTimerID=null;this._customizationModule=null;this._customInteractionContainer=null;this._customOverlayContainer=null;this._vizInstanceInfo=null};c.extend(Z,f);Z.prototype._getCurrentSize=function(){if(!this._chartView){return null}return this._chartView.getSize()};Z.prototype._getDataRange=function(e,t){return this._chartView._getDataRange(e,t)};Z.prototype._setCurrentSize=function(e){if(this._customizationModule){this._runtime.statusManager().add("updatedScaleValue",null)}this._chartView.setSize(e)};Z.prototype._getChanges=function(){return{dataChanged:this._allChanged||this._dataChanged,bindingChanged:this._allChanged||this._bindingChanged,scalesChanged:this._allChanged||this._scalesChanged,propertiesChanged:this._allChanged||this._propertiesChanged,sizeChanged:this._allChanged||this._sizeChanged}};Z.prototype._resetChanges=function(){this._dataChanged=false;this._bindingChanged=false;this._scalesChanged=false;this._propertiesChanged=false;this._sizeChanged=false;this._allChanged=false};Z.prototype._onSizeChange=function(e){var t=this._chartView;this._rootContainer.style("width",e.width+"px").style("height",e.height+"px");this._statusMgr.set("interaction.holdSelection",true);this._rootElement.style("width","100%").style("height","100%").style("display","block");this._rootElement.attr("width","100%").attr("height","100%").style("display","block");if(this._tooltipContainer){this._tooltipContainer.setAttribute("actualWidth",e.width);this._tooltipContainer.setAttribute("actualHeight",e.height)}if(this._customOverlayContainer){this._customOverlayContainer.style("width","0").style("height","0");this._customOverlayContainer.attr("width","0").attr("height","0")}if(this._customInteractionContainer){this._customInteractionContainer.style("width","0").style("height","0");this._customInteractionContainer.attr("width","0").attr("height","0")}this._sizeChanged=true;var i=this._getChanges();if(t.changes){t.changes(i)}var r={};r.isSizeChanged=true;if(this._isRenderable()){t.render(this._rootElement,r)}else{t._dispatchInitialized()}if(this._customizationModule){this._graphicModel.setChartSize(this.size());this._renderCustomization()}this._eventScreenReadForNonInteractive()};Z.prototype.type=function(e){if(arguments.length===0){return this._type}if(this._semanticMgr){this._semanticMgr.setChartType(e)}this._type=e;return this};Z.prototype.data=function(e){if(arguments.length===0){return this._data}if(this._dataModelManager){this._dataModelManager.clear()}if(this._semanticMgr){this._semanticMgr.setDataset(e)}this._data=e;return this};Z.prototype.events=function(e){if(arguments.length===0){return this._events}this._events=e;return this};Z.prototype.getDescription=function(){return{type:this.type(),classId:this._container.id}};Z.prototype.bindings=function(e){if(arguments.length===0){return this._bindings}this._bindings=e;if(this._dataModelManager){this._dataModelManager.clear()}return this};Z.prototype.template=function(e){if(e!==undefined){this._templateId=e;this._effectMgr.setTemplateId(e);return this}return this._templateId};Z.prototype._cleanCustomizations=function(){if(this._customizationModule){this._customizationModule._destroy();if(this._customOverlayContainer){this._customOverlayContainer.remove()}this._customOverlayContainer=null;if(this._customInteractionContainer){this._customInteractionContainer.remove()}this._customInteractionContainer=null;this._customizationId=null;this._customizationModule=null;this._vizInstanceInfo=null;if(this._customizationTimerID){window.clearTimeout(this._customizationTimerID);this._customizationTimerID=null}this._propertyMgr.reset("customizeValue")}};Z.prototype._setupCustomizations=function(e){this._customizationId=e.id;var t=S.get(this._customizationId);if(t==null){L.logWarnning(F.getLogMessage("IDS_ERROR_CUSTOMIZATION_ID",e.id,this.type()));return}this._customizationModule=M.create(t);this._runtime.statusManager().set("hasCustomization",true);this._runtime.statusManager().set("customizationsId",this._customizationId);var i=this;this._customizationTimerID=null;this._customizationModule._reRenderVizInstance=function(){if(!i._customizationTimerID){i._customizationTimerID=window.setTimeout(function(){i.render();i._customizationTimerID=null},0)}};this._customizationModule._init({chartAppId:this._chartAppId,customizationsId:this._customizationId,getVizInstanceInfo:function(){return i._getVizInstanceInfo()},getBehaviorType:function(){var e=i.properties();if(e&&e.interaction&&e.interaction.behaviorType){return e.interaction.behaviorType}},getOverlayContainer:function(){return i._customOverlayContainer&&i._customOverlayContainer.node()},getInteractionContainer:function(){return i._customInteractionContainer&&i._customInteractionContainer.node()},getVizModelInfo:function(){return i._getCustomizationDataInfo()},getVizRenderInfo:function(){return i._getCustomzationRenderInfo()},getChartContainerNode:function(){return i._rootContainer&&i._rootContainer.node()}})};Z.prototype.customizations=function(e){if(arguments.length===0||!l.isExist(e)){if(this._customizationModule){return{id:this._customizationId,customOverlayProperties:this._customizationModule._customOverlayProperties.get()||null,customRendererProperties:this._customizationModule._getCustomRendererProperties(),customInteractionProperties:this._customizationModule._customInteractionProperties.get()||null}}return{id:null,customOverlayProperties:null,customRendererProperties:null,customInteractionProperties:null}}else if(e.hasOwnProperty("id")&&e.id==null){this._cleanCustomizations();return this}else if(e.hasOwnProperty("id")){if(!D.isSupported(e.id,this.type())){L.logWarnning(F.getLogMessage("IDS_ERROR_CUSTOMIZATION_ID",e.id,this.type()));return this}if(this._customizationId!==e.id){this._cleanCustomizations();this._setupCustomizations(e)}}if(this._customizationModule){this._customizationModule._setProperties(e)}return this};Z.prototype.states=function(e){var t=this._statusMgr;if(arguments.length===0||l.isString(e)){return this._chartView?t.get.apply(t,arguments):this._states}this._states=e;t.set(e);return this};Z.prototype.properties=function(e,t){var i=this._propertyMgr.proxy();i.flag(0);if(t&&t.level===W&&t.replace===true){i.reset();i.flag(N.PROPERTY_FLAGS.CUSTOM);i.names().forEach(i.remove,i);i.flag(0);this._scaleMgr.reset()}if(l.isPlainObject(e)&&(arguments.length===1||t&&t.level===W)){this._properties=e;if(e&&e.interaction&&e.interaction.behaviorType!==undefined){i.set("interaction.behaviorType",e.interaction.behaviorType)}i.set(e)}if(arguments.length===1){return this}if(this._chartView){var r=t&&t.level===W;return i.get("","value",r)||{}}return this._properties};Z.prototype.serializeProps=function(){var e=this._propertyMgr.proxy();e.flag(0);return e.serialize()};Z.prototype.serializeCustomization=function(){if(this._customizationId&&this._customizationModule){return{id:this._customizationId,version:D.getBundleVersion(this._customizationId),customOverlayProperties:this._customizationModule._customOverlayProperties.serialize()||null,customRendererProperties:this._customizationModule._getCustomRendererProperties(),customInteractionProperties:this._customizationModule._customInteractionProperties.serialize()||null}}};Z.prototype.scales=function(e,t){var i=this._scaleMgr;var r=this;if(t&&t.level===W&&t.replace===true){i.reset();this._propertyMgr.reset("plotArea.colorPalette");this._propertyMgr.reset("plotArea.primaryValuesColorPalette");this._propertyMgr.reset("plotArea.secondaryValuesColorPalette");this._propertyMgr.reset("plotArea.startColor");this._propertyMgr.reset("plotArea.endColor");this._propertyMgr.reset("plotArea.nullColor");this._propertyMgr.reset("plotArea.primaryScale");this._propertyMgr.reset("plotArea.secondaryScale");this._propertyMgr.reset("plotArea.legendValues");this._propertyMgr.reset("plotArea.shapePalette");this._propertyMgr.reset("plotArea.actualColor");this._propertyMgr.reset("plotArea.additionalColor");this._propertyMgr.reset("plotArea.forecastColor")}var a=this._type.indexOf("bullet")>-1;if(l.isArray(e)&&(arguments.length===1||t&&t.level===W)){this._userSettingScales=o.clone(e,true);e.forEach(function(e){if(!l.isExist(e)){return}if(a&&e.feed==="valueAxis"){e=o.clone(e);e.feed="actualValues"}if(P.isFiscal(r._data)&&e.feed==="timeAxis"){e.start=P.fiscalToQuantity(e.start,r._propertyMgr);e.end=P.fiscalToQuantity(e.end,r._propertyMgr)}i.add(e.feed);i.set(e.feed,e)});var n=this._dataModelManager.getDataModel();if(n){n.setNeedRefreshScale(true)}}if(arguments.length===1){return this}var s=t&&t.level===W;var u=i.get("","value",s)||{};var c=[];for(var f in u){if(u.hasOwnProperty(f)){var m=u[f];if(l.isExist(m)&&f!=="sharedRuntime"&&!(f==="dataFrame"&&m.domain&&m.domain.length===0)){if(P.isFiscal(this._data)&&f==="timeAxis"&&this._userSettingScales&&this._userSettingScales[f]){c.start=this._userSettingScales[f].start;c.end=this._userSettingScales[f].end}c.push(m)}}}return c};Z.prototype.serializeScales=function(){var e=this._scaleMgr.serialize();var t=[],i;for(i in e){if(e.hasOwnProperty(i)){t.push(e[i])}}return t};Z.prototype.container=function(e){if(arguments.length===0){return this._container}if(jQuery&&e instanceof jQuery){e=e.get(0)}this._container=e;return this};function J(e){var t=e._viewLoaderDelegator.getViewInstance(e.type(),e._runtime,e.bindings());e._chartView=t;if(e._events){var i=t.getDispatch();var r=e._events;for(var a in r){if(r.hasOwnProperty(a)){var n=r[a].fn;if(n==null){continue}var o=r[a].scope;if(o){n=n.bind(o)}i.on(a,n)}}}return t}function Q(e,t){e._tooltipContainer=$(e._rootContainer,e._size);var i={enabled:t,runtime:e._runtime,chartView:e._chartView,rootNode:e._rootElement,chartType:e.type(),dataModelManager:e._dataModelManager,scales:e._scales,toolTipContainer:e._tooltipContainer,rootContainer:e._container};var a=new r(i);e._runtime._interaction=a;return a}function $(e,t){var i=e.append("div");var r=t.width;var a=t.height;if(!r||!a){var n=e.node();var o=n.getBoundingClientRect();r=o.width;a=o.height}i.style("left","0px").style("top","0px").style("height","0px").style("width","0px").style("position","absolute").attr("class","v-m-tooltip-container").attr("actualWidth",r).attr("actualHeight",a);return i.node()}function ee(e,t,i){var r=d3.select(e);var a=r.append("div").attr("id",t);a.style("height","100%").style("width","100%").style("position","relative").style("font-size","10px").style("box-sizing","border-box").style("-moz-box-sizing","border-box").style("-moz-user-select","none").style("-ms-box-sizing","border-box").style("-webkit-box-sizing","border-box").style("-webkit-user-select","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)");a.attr("class","v-info");if(i.renderTo()==="DIV"||i.renderTo()==="BorderDIVFlow"){var n=pe(t);a.attr("aria-labelledby",n)}return a}function te(e,t,i,r){var a;if(i){a=e.append("div").attr("class","v-m-root")}else{a=e.append("svg").attr("class","v-m-root");var o=a.select("defs");if(!o.node()){o=a.append("svg:defs")}var s=a.select("g.v-m-desc-title");if(!s.node()){a.append("g").attr("class","v-m-desc-title")}t.effectManager().container(o)}a.style("left",0).style("top",0).style("height","100%").style("width","100%").style("display","block");if(!i&&r){var l=pe(r);a.attr("aria-labelledby",l)}if(n.isWindowsSurface()){e.style("touch-action","none")}return a}function ie(e){var t=false;var i=e._propertyMgr;var r=e.type()==="info/stacked_column"&&i.origin.get("plotArea.series");if(r&&!o.deepEqual(e._flexibleStackSeries,r)){e._flexibleStackSeries=r;t=true}else{var a=i.get("plotArea.dataPoint.invalidity");var n=i.get("legend.ignoreNoValue");if(a!==e._dataPointInvalidity){e._dataPointInvalidity=a;t=true}if(n!==e._ignoreNoValue){e._ignoreNoValue=n;t=true}if(!t){var s=w.getAddFunc(e.type(),"addtionalDataResetChecking");t=s&&s(e,i)}if(!i.has("timeAxis.levels")){return t}var l;var u=P.isFiscal(e._data);l=k.normalizeLevels(i.get("timeAxis.levels"));e._statusMgr.set("timeLevels",l);var c=l[0];if(c!==e._minTimeLevel){e._minTimeLevel=c;t=true}var f=i.get("general.showAsUTC");if(f!==e._showAsUTC){e._showAsUTC=f;t=true}if(u){var m=P.extractFiscalObj(i);if(!o.deepEqual(m,e._fiscalObj)){e._fiscalObj=m;t=true}}}return t}var re=N.DATAPOINT_INVALIDITY.BREAK;var ae=N.DATAPOINT_INVALIDITY.IGNORE;function ne(e,i,r){var a={};if(i.family==="extensionChart"||!e._bindings&&i.family==="extension"){return{dataModel:{_rawData:e._data},bindings:e._bindings}}var n=e._dataModelManager;var o=null;var s=e.scales();var l=ie(e)||n.getDataModel()==null||n.getGroupOption().groupData!==r.groupData||n.getGroupOption().respectOrderInGroup!==r.respectOrderInGroup;if(l){n.init(e.type(),e._chartView._renderType,e._data,e._bindings,r);var c=e._propertyMgr;var f=c.get("plotArea.dataPoint.invalidity");var m=c.has("plotArea.dataPoint.invalidity");var p=c.get("timeAxis.levelConfig");var h=p&&p.week;var d=N.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(f)<=0;var g=m&&f!==ae;var v=null;if(P.isFiscal(e._data)){v=c}var y={breakOnEmptyMeasure:d,allowEmptyMeasure:g,dataTimeLevel:e._minTimeLevel,fiscalObj:v,showAsUTC:e._showAsUTC,weekConfig:h};var _=w.getAddFunc(e.type(),"addtionalCreateDataModelObj");if(_){_(y,c)}try{n.createDataModel(y,c)}catch(e){n.clear();throw e}for(var A in s){if(s[A].feed=="dataFrame"){o=s[A].currentValue;break}}}var b=n.filterDataModel(s,e._propertyMgr);var S=null;u.handleComboExShape(e.type(),b,e._runtime.propertyManager(),e._semanticMgr);if(b.isNeedRefreshScale()){S=t.create(b,n.getRole(),n.getFamily(),e.type(),e._runtime,e._chartView._customerColorPalette,e._template.isGhost,e.bindings());e._scales=S;if(e._runtime&&e._runtime._interaction){e._runtime._interaction._setScales(S)}b.setRebuildAddr(!l)}else{S=e._scales;b.setNeedRefreshScale(true)}if(o!==null&&S.dataFrame&&S.dataFrame.scale){var M=S.dataFrame.scale(o);b.updateSeriesIndex(M)}b.buildContext();a.dataModel=b;a.scales=S;if(i.family==="extension"){a.bindings=e._bindings}e._statusMgr.set("data.unit",Object.keys(a.dataModel._bindingResults).reduce(function(e,t){var i=b._bindingResults[t].metaData;if(i){i.forEach(function(t){if(t.type==="Measure"&&t.unit){e[t.id]=t.unit}})}return e},{}));return a}Z.prototype._getCustomizationDataInfo=function(){var e=this._runtime.statusManager().get("updatedScaleValue");return T.createInfo(this._dataModel,this._runtime,e)};Z.prototype._getCustomzationRenderInfo=function(){return x.createInfo(this._dataModel,this._graphicModel,this._chartView)};Z.prototype._getVizInstanceInfo=function(){if(!this._vizInstanceInfo){this._vizInstanceInfo=E.createInfo(this)}return this._vizInstanceInfo};var oe=["variance1","variance2"];function se(e,t){for(var i=0;i<e.length;++i){if(e[i].feed===t){return e[i].source&&e[i].source.length}}return false}Z.prototype._getValueScales=function(){var e={};var t=this._scales;for(var i=0;i<oe.length;++i){var r=t[oe[i]];if(se(this._bindings,oe[i])&&r){var a=r.getDomain();e[oe[i]]={min:a[0],max:a[1]}}}var n=this._propertyMgr.get("plotArea.primaryScale");e["valueAxis"]={min:l.isExist(n.minValue)?n.minValue:n.autoMinValue,max:l.isExist(n.maxValue)?n.maxValue:n.autoMaxValue};return e};Z.prototype._createCustomOverlayDom=function(){var e=te(this._rootContainer,this._runtime,true);e=e.attr("class",this._rootContainer.node().id+"-custom-overlay v-custom-overlay-Layer");e.style("position","absolute");e.style("width","0");e.style("height","0");this._customOverlayContainer=e;e.node().parentNode.insertBefore(e.node(),this._tooltipContainer)};Z.prototype._createCustomInteractionDom=function(){var e=te(this._rootContainer,this._runtime,true);e=e.attr("class",this._rootContainer.node().id+"-custom-interaction v-custom-interaction-Layer");e.style("position","absolute");e.style("width","0");e.style("height","0");this._customInteractionContainer=e;e.node().parentNode.insertBefore(e.node(),this._tooltipContainer)};Z.prototype._renderCustomization=function(){var e=this._getCustomizationDataInfo();var t=this._getCustomzationRenderInfo();var i=this._getChanges();if(l.isFunction(this._customizationModule._render)){this._customizationModule._render(i,e,t)}this._resetChanges()};Z.prototype._getRootNode=function(){var e=this._rootElement;return e&&e.node()};Z.prototype.render=function(e){var t=_.getMetadataWithFamily(this._type);var i=t.family;var r=this._chartView;var a;if(!r){a=true;r=J(this);this._rootContainer=ee(this._container,this._chartAppId,this._chartView);this._graphicModel.registerRootContainer(this._rootContainer.node());if(r.renderTo()==="DIV"||r.renderTo()==="BorderDIVFlow"){this._rootElement=te(this._rootContainer,this._runtime,true)}else{this._rootElement=te(this._rootContainer,this._runtime,false,this._chartAppId)}this._setDefaultSize(!(e&&e.disableIntervalSizeCheck))}var n=this._setupRTL();this._propertyMgr.add(this._properties||{},true,N.PROPERTY_FLAGS.CUSTOM);this.applyTemplateProperties();var s=this._template.isGhost;if(this._data&&l.isFunction(this._data.hasFakeData)){s=s||this._data.hasFakeData()}this._effectMgr.ghostEffect(s);var u=this._isRenderable();var c=!s&&u;if(this._properties&&this._properties.interaction&&this._properties.interaction.behaviorType!==undefined){this._propertyMgr.set("interaction.behaviorType",this._properties.interaction.behaviorType)}var f=this._propertyMgr.proxy();f.flag(0);f.set(this._properties);this.scales(this._userSettingScales);var m=this._propertyMgr.get("general.groupData");var p=this._propertyMgr.get("general.respectOrderInGroup");var h={groupData:m,respectOrderInGroup:p};var d=ne(this,t,h);this._dataModel=d;r.setData(d,this.bindings());G.setUpdynamicScale(this._type,this._propertyMgr,this._dataModel,this._runtime);if(e&&e.bNoRender){return}this._statusMgr.set("interaction.holdSelection",false);if(this._customizationModule){if(!this._customOverlayContainer){this._createCustomOverlayDom()}if(!this._customInteractionContainer){this._createCustomInteractionDom()}if(n){this._customOverlayContainer.style("direction","rtl");this._customInteractionContainer.style("direction","rtl")}else{this._customOverlayContainer.style("direction",null);this._customInteractionContainer.style("direction",null)}var g=this._getCustomizationDataInfo();var v=o.clone(g);var y=this._customizationModule._overrideProperties(v);y=this._customizationModule._overrideRendererProperties(y);this._propertyMgr.set(y,false,"customizeValue")}if(a){this._statusMgr.add("zooming",{value:false});if(!l.isFunction(r.enableInteraction)||r.enableInteraction()===true){var A=this._interaction=Q(this,c);var b=this;r.getDispatch().on("ready.interaction",A.initialize.bind(A));r.getDispatch().on("reRenderComplete.interaction",function(){A.fireEvent("reRenderComplete")});this._runtime.eventDispatcher().on("plotScroll.customization",function(){if(b._customizationModule){b._renderCustomization()}});this._interaction.initializeStatus()}}if(r.renderTo()==="SVG"){this._addChartDescription(this._rootElement,t.name)}var S=this._getChanges();if(r.changes){r.changes(S)}if(this._scalesChanged&&this._interaction){this._interaction._setScales(this._scales)}if(this._interaction){this._interaction.enabled(c)}if(!u){if(!a){r.clear()}r._dispatchInitialized()}else{r.render(this._rootElement,e);if(this._interaction&&this._propertyMgr.get("interaction.enableInternalEvents")){var M;if(!this._statusMgr.get("plot.zoom.enabled")){M=null}else{M=this._statusMgr.get("plot.zoom.currentZoomLevel")}this._interaction._fireExternalEvent("_zoomDetected",{name:"_zoomDetected",data:{currentZoomLevel:M}});if(!a){this._interaction._fireExternalEvent("_selectionDetails",{name:"_selectionDetails",data:[]})}}}if(this._customizationModule){this._graphicModel.setChartSize(this.size());this._renderCustomization()}this._eventScreenReadForNonInteractive();this._resetChanges()};Z.prototype._eventScreenReadForNonInteractive=function(){if(n.isIE()&&this._interaction){this._interaction.fireEvent("focusOnChart",{chartAppId:this._chartAppId,rootContainer:this._rootContainer,rootElement:this._rootElement})}};Z.prototype.applyTemplateProperties=function(){var t=e.get(this._templateId);var i,r;if(t.props){i=t.props(this.type())}if(t.getScales){r=t.getScales(this.type())}var a=this._propertyMgr;var n=this._scaleMgr;var s=t.isGhost;var u=this.type();var c=b.ChartPropsToScalesProps(i,r,this._type);n.reset("templateValue");if(l.isExist(c)){for(var f=0;f<c.length;f++){var m=n.getDefault(c[f].feed);n.add(c[f].feed,{serializable:true});n.set(c[f].feed,o.extend({},m,c[f]),true,"templateValue")}}a.reset("templateValue");a.set(i,true,"templateValue");this._template=t};var le=function(e,t,i,r,a){var n=e._children;var o=n.length;for(var s in n){if(n.hasOwnProperty(s)){var l=n[s];if(l.module&&l.module.getDispatch()){var u=l.module.getDispatch();if(u[t]){u.on(i,function(){r.apply(null,arguments)});if(!a[i]){a[i]=[]}a[i].push(u)}else{if(l.module._children){le(l.module,t,i,r,a)}}}}}};Z.prototype.on=function(e,t,i){var r=e.split(".")[0];var a=this._chartView._customerDispatch;var n;if(this._chartView._children){n=this._chartView.getChild("plot")}var o=n&&n.module&&n.module._eventDispatch;var s=this._chartView.getDispatch();var l=_.getMetadataWithFamily(this._type);var u=l.family;var c;if(u&&u.indexOf("extension")>-1){c=function(){var e=arguments;setTimeout(function(){t.apply(i,e)},0)}}else{c=function(){t.apply(i,arguments)}}if(a&&a[r]){a.on(e,c)}else if(o&&o[r]){o.on(e,c)}else if(s[r]){s.on(e,c);if(!this._dispatchCache[e]){this._dispatchCache[e]=[]}this._dispatchCache[e].push(s)}else if(this._interaction){this._evtDisp.on(e,c)}else{if(this._chartView&&this._chartView._children){le(this._chartView,r,e,c,this._dispatchCache)}}};Z.prototype.off=function(e){var t=this._dispatchCache[e];if(t){var i=e.split(".")[0];t.map(function(t){if(t&&t.on&&t[i]){t.on(e,function(){})}})}else if(this._interaction){this._evtDisp.off(e)}delete this._dispatchCache[e]};Z.prototype.getSelectedObjects=function(){return this._statusMgr.get("interaction.selectedDataPoints")};Z.prototype.selection=function(){return this.getSelectedObjects()};Z.prototype.setSelectedObjects=function(e,t){var i={items:e,options:t};this._statusMgr.set("interaction.selectedDataPoints",i);return!!i.success};Z.prototype.setSelectedPropertyZone=function(e){return this._propertyMgr.set("selectedPropertyZone",e)};Z.prototype.getSelectedPropertyZone=function(){return this._propertyMgr.get("selectedPropertyZone")};Z.prototype.destroy=function(){if(this._interaction){this._interaction._fireExternalEvent("_selectionDetails",{name:"_selectionDetails",data:[]},true)}Z.superclass.destroy.call(this);if(this._rootElement){this._rootElement.remove()}this._rootElement=null;if(this._tooltipContainer&&this._tooltipContainer.parentNode){this._tooltipContainer.parentNode.removeChild(this._tooltipContainer)}this._tooltipContainer=null;if(this._rootContainer){this._rootContainer.remove()}this._cleanCustomizations();this._rootContainer=null;this._type=null;this._data=null;this._bindings=null;this._properties=null;this._container=null;this._sharedRuntimeScales=null;if(this._chartView){this._chartView.destroy()}this._chartView=null;if(this._scales){for(var e in this._scales){if(this._scales.hasOwnProperty(e)){if(this._scales[e]!=null){this._scales[e].destroy()}}}}this._scales=null;this._userSettingScales=null;if(this._dataModelManager&&this._dataModelManager.destroy){this._dataModelManager.destroy()}this._dataModelManager=null;this._runtime.destroy();this._runtime=null;if(this._interaction){this._interaction.destroy();this._interaction=null}this._events=null;this._dispatchCache=null;this._viewLoaderDelegator=null;if(this._propertyMgr){this._propertyMgr.destroy()}this._propertyMgr=null;if(this._effectMgr){this._effectMgr.destroy()}this._effectMgr=null;if(this._semanticMgr){this._semanticMgr.destroy()}this._semanticMgr=null;if(this._markMgr){this._markMgr.destroy()}this._markMgr=null;if(this._scaleMgr){this._scaleMgr.destroy()}this._scaleMgr=null;if(this._zoneMgr){this._zoneMgr.destroy()}this._zoneMgr=null;if(this._statusMgr){this._statusMgr.destroy()}this._statusMgr=null;if(this._envMgr){this._envMgr.destroy()}this._envMgr=null;if(this._graphicModel){this._graphicModel.destroy()}this._graphicModel=null;if(this._evtDisp){this._evtDisp.destroy();this._evtDisp=null}this._dataRole=null;this._flexibleStackSeries=null};var ue=function(e,t,i){if(this._viewLoaderDelegator){var r=this._viewLoaderDelegator.getBindingDefinition(e).constructor;if(i&&i.type&&i.type.indexOf("FlatTableDataset")>-1){var a=_.getMetadataWithFamily(e);if(a&&a.family!=="extension"&&a.family!=="extensionChart"){var n={};n.allowDuplicatedBindings=w.getAddFunc(e,"allowDuplicatedBindings");I.acceptable(i,r,t,e,n)}}}};var ce=function(e){if(e.bundleVersion){var t=B.getBundleVersion(e.type);if(C.compare(e.bundleVersion,t)>0){v.warn(F.getLogMessage("IDS_ERROR_BUNDLE_VERSION_DOES_NOT_MATCH",e.type,e.bundleVersion,t))}}};var fe=function(e){if(e.customizations&&e.customizations.version){var t=B.getBundleVersion(e.customizations.id);if(C.compare(e.customizations.version,t)>0){v.warn(F.getLogMessage("IDS_ERROR_BUNDLE_VERSION_DOES_NOT_MATCH",e.customizations.id,e.customizations.version,t))}}};Z.prototype.init=function(e){ce(e);fe(e);ue.call(this,e.type,e.bindings,e.data);this.type(e.type);this.data(e.data);this.bindings(e.bindings);this.template(e.template);this.properties(e.properties);this.container(e.container);this.events(e.events);this.scales(e.scales);this.sharedRuntimeScales(e.sharedRuntimeScales);this.size(e.size);this.customizations(e.customizations);this._allChanged=true};Z.prototype.refresh=function(){this.render({})};Z.prototype.update=function(e){var t=this._data,i=this._bindings,r=false,a=false,n=false,o;if(e.bindings){i=e.bindings}if(e.data){t=e.data}ue.call(this,this._type,i,t);if(!e||!this._chartView){return}if(e.data){this.data(e.data);this._dataChanged=true}if(e.hasOwnProperty("template")){this.template(e.template);n=true}if(e.properties){if(e.hasOwnProperty("propertiesOption")){this.properties(e.properties,e.propertiesOption)}else{this.properties(e.properties)}if(l.isEmptyObject(e.properties)&&!(e.propertiesOption&&e.propertiesOption.replace===true)){this._propertiesChanged=false}else{this._propertiesChanged=true}}if(e.bindings){this.bindings(e.bindings);this._bindingChanged=true}if(e.scales){if(e.hasOwnProperty("scalesOption")){this.scales(e.scales,e.scalesOption)}else{this.scales(e.scales)}if(e.scales.length===0&&!(e.scalesOption&&e.scalesOption.replace===true)){o=false}else{o=true}this._scalesChanged=e.scales}if(e.sharedRuntimeScales){this.sharedRuntimeScales(e.sharedRuntimeScales);a=true}if(e.customizations){this.customizations(e.customizations);r=true}if(e.propertiesOption&&e.propertiesOption.isRender===false||e.scalesOption&&e.scalesOption.isRender===false){return}var s;if(e&&e.data){s=e.data.options}s=s||{};s.propertiesChanged=this._propertiesChanged;s.dataChanged=this._dataChanged;if(this._bindingChanged||this._propertiesChanged||this._dataChanged||o||a||r||n){this.render(s)}};Z.prototype.getAllFeedingZone=function(){return this._propertyMgr.get("feedingZone")};Z.prototype.feedingZone=function(){return this.getAllFeedingZone()};Z.prototype.propertyZone=function(){return this.getPropertyZone()};Z.prototype._feedingZone=function(){var e=this;var t={defaultValue:null,readonly:true,serializable:false,get:function(){if(R.isEmptyDataset(e.data())){return[]}var t=e._zoneMgr.get("tempFeedingZone"),i,r,a=[];if(e._viewLoaderDelegator){var n=e._viewLoaderDelegator.getBindingDefinition(e._type);for(i in t){if(t.hasOwnProperty(i)&&!l.isExist(t[i])){delete t[i]}}for(i in t){if(t.hasOwnProperty(i)){if(i==="plot"){if(l.isArray(t[i])){t[i]=t[i][0]}if(t[i]){t[i].bindDef=[];_.getMetadata(e._type).bindings.forEach(function(e){if(e.id!=="dataFrame"){t[i].bindDef.push({id:e.id})}});a.push(t[i])}}else if(i==="trellisAxis"){for(r in n.constructor){if(l.isExist(t[i][n.constructor[r].id])){t[i][n.constructor[r].id][0].bindDef=[{id:n.constructor[r].id}]}}for(r in t[i]){if(t[i].hasOwnProperty(r)){a.push(t[i][r][0])}}}else if((n.family==="bullet"||n.family==="tBullet")&&i==="valueAxis"){t[i].bindDef=[{id:"actualValues"}];a.push(t[i])}else{for(r in n.constructor){if(i===n.constructor[r].id){t[i].bindDef=[{id:n.constructor[r].id}]}}a.push(t[i])}}}if(s[n.family]){s[n.family].apply(e,[t,n.constructor])}var o=e._type.split("/");var u;if(o.length===1){u=e._type}else{u=o[1]}if(u.indexOf("_")>-1){u=e._type.split("_")[1]}if(s[u]){s[u].apply(e,[a,n.constructor])}}if(e._chartView&&e._chartView.getChild){var c=e._chartView.getChild("plot");if(c&&c.module&&c.module.feedingZone){var f=c.module.feedingZone();if(f&&l.isArray(f)){for(var m=0,p=f.length;m<p;m++){a.push(f[m])}}}}return a}};e._propertyMgr.add("feedingZone",t)};var me='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"/>';Z.prototype.exportToSVGString=function(e){var t=Y.exportToSVGString(this,e);return t};Z.prototype.supportExportToSVG=function(){return Y.supportExportToSVG(this)};Z.prototype._postProcessSvgStr=function(e){return Y._postProcessSvgStr(e)};Z.prototype._getCustomSvg=function(e){return Y._getCustomSvg(e,this._chartView)};Z.prototype.onFrameScaleChange=function(e){var t=this._dataModelManager.getDataModel();if(t){var i=this._scales?this._scales["dataFrame"].scale(e.currentValue):0;t.updateSeriesIndex(i)}};Z.prototype.getPropertyZone=function(){return this._propertyMgr.get("propertyZone")};Z.prototype._propertyZone=function(){var e=this;var t={defaultValue:null,readonly:true,serializable:false,get:function(){var t=e._zoneMgr.get("tempPropertyZone"),i=[];for(var r in t){if(t.hasOwnProperty(r)){for(var a in t[r]){if(t[r].hasOwnProperty(a)){if(r==="trellisAxis"){t[r][a].forEach(function(e){i.push(e)})}else{i.push(t[r][a])}}}}}if(e._chartView&&e._chartView.getChild){var n=e._chartView.getChild("plot");if(n&&n.module&&n.module.propertyZone){var o=n.module.propertyZone();if(o&&l.isArray(o)){for(var s=0,u=o.length;s<u;s++){i.push(o[s])}}}}var c=[];i=i.filter(function(e){if(l.isArray(e)){if(e.length>0){c.push(e)}return false}return true});i=i.concat(H.flat(c));return i}};e._propertyMgr.add("propertyZone",t)};Z.prototype._localeChanged=function(){Z.superclass._localeChanged.call(this);if(this._chartView&&this._rootElement){this._statusMgr.set("interaction.holdSelection",true);this._chartView.statusChanged(z.LOCALE_CHANGED);if(this._isRenderable()){this._chartView.render(this._rootElement)}else{this._chartView._dispatchInitialized()}this._addChartDescription(this._rootElement,_.getMetadataWithFamily(this._type).name);this._eventScreenReadForNonInteractive()}};Z.prototype.sharedRuntimeScales=function(e){var t=this._scaleMgr;if(arguments.length===0){return this._chartView?t.get("sharedRuntime"):this._sharedRuntimeScales}else{if(this._sharedRuntimeScales&&e&&o.deepEqual(this._sharedRuntimeScales,e)){return this}this._sharedRuntimeScales=e;t.add("sharedRuntime",e);return this}};Z.prototype.runtimeScales=function(e){var t=[];var i=this._scales;if(!i){return[]}if(arguments.length>0&&e.merged===true){if(i.color&&i.color.mergedRuntimeColorScale&&i.color.mergedRuntimeColorScale()){t.push(i.color.mergedRuntimeColorScale())}}else{if(i.color&&i.color.runtimeColorScale&&i.color.runtimeColorScale()){t.push(i.color.runtimeColorScale())}if(i.color2&&i.color2.runtimeColorScale&&i.color2.runtimeColorScale()){t.push(i.color2.runtimeColorScale())}}return t};Z.prototype._isRenderable=function(){return!R.isEmptyDataset(this.data())||_.getMetadataWithFamily(this._type).family==="extension"||_.getMetadataWithFamily(this._type).family=="extensionChart"};Z.prototype._addChartDescription=function(e,t){t=F.get(t);e.attr("focusable",false).attr("tabIndex",-1);var i=this._propertyMgr.get("interaction.noninteractiveMode");var r=(i?"A Noninteractive ":"An Interactive ")+(t||"Chart");var a=this._propertyMgr.get("title.text");var n=j.getTextShow(a);r+=this._propertyMgr.get("title.visible")?". Chart title is "+n+". ":" ";var o=this._propertyMgr.get("general.accDescription");r+=i&&o?o+". ":"";var s=e.selectAll(".v-m-desc-title").selectAll("title").data([r]);var l=pe(this._chartAppId);s.enter().append("title").attr("id",l);s.text(r)};function pe(e){return e+"-title"}return Z});define("sap/viz/migrate/migrator/versionMigrator",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/core/ChartViewRegistry"],function(e,t){var i={migrate:function(e,i){if(!t.getMetadata(e.type)){e.version=this.toVersion;return e}for(var r=0;r<this.chainedMigrators.length;r++){e=this.chainedMigrators[r].migrate(e,i)}e.version=this.toVersion;return e}};return i});define("sap/viz/migrate/PropertyUtil",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function e(t,i){var r={};var a=Object.prototype.hasOwnProperty;function n(e){if(!e){return true}for(var t in e){if(a.call(e,t)){return false}}if(i.isFunction(e)){return false}return true}function o(e,t){var i=t.split("."),r,a;for(r=i.length-2;r>=0;r--){var o=e;for(a=0;a<r;a++){o=o[i[a]]}if(n(o[i[r]])){delete o[i[r]]}}}function s(e,t){if(!e){return false}for(var i=0;i<e.length;++i){if(e[i].properties&&e[i].properties[t]){return true}}return false}r.getProperty=function(e,t){var i=t.split("."),r=e,a;for(a=0;a<i.length;a++){if(r===null){return undefined}if(r[i[a]]===undefined){return undefined}r=r[i[a]]}return r};r.setProperty=function(e,t,i){var r=t.split("."),a=e,n;for(n=0;n<r.length-1;n++){if(a[r[n]]===undefined||a[r[n]]===null){a[r[n]]={}}a=a[r[n]]}a[r[r.length-1]]=i};r.setPropertyWithMergence=function(e,i,r){var a=i.split("."),n={},o=n,s;for(s=0;s<a.length-1;s++){o[a[s]]={};o=o[a[s]]}o[a[a.length-1]]=r;t.extend(true,e,n)};r.removeProperty=function(e,t){var i=t.split("."),r=e,a;for(a=0;a<i.length-1;a++){if(r[i[a]]===undefined){return}r=r[i[a]]}delete r[i[i.length-1]];o(e,t)};function l(e,t){if(e&&e.rules&&e.rules.length){var r=e.rules;for(var a=r.length-1;a>=0;--a){var n=r[a];var o=n.properties;delete o[t];if(i.isEmptyObject(o)){r.splice(a,1)}}}}r.migrateSeriesStyle=function(e,i,a,n){var o=r.getProperty(e,n.to);l(o,n.subProp);o=o||{rules:[]};if(a&&a.rules){var s=a.rules;for(var u=0;u<s.length;++u){var c={};var f=s[u];t.extend(true,c,f);if(f&&f.dataContext&&f.dataContext.length){var m=f.dataContext;for(var p=0;p<m.length;++p){if(m[p]===undefined){c.dataContext[p]=undefined}}}if(c.properties){var h=c.properties;delete c.properties;c.properties={};c.properties[n.subProp]=h}o.rules.push(c)}}r.setProperty(e,n.to,o)};r.getComplexProperty=function(e,t,r,a){var n;if(t[r]!==undefined){n=t[r]}else{var o=a.get(e,"templateValue");if(o&&o[r]){n=o[r]}else{var s=a.get(e,"defaultValue");if(i.isArray(s)){n=s[r]}else{n=s}}}return n};return r});define("sap/viz/migrate/bindingMigrator",["sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils"],function e(t,i,r){var a={};var n={primaryValues:"valueAxis",secondaryValues:"valueAxis2",axisLabels:"categoryAxis",mainLabelAxis:"categoryAxis",secondaryLabelAxis:"categoryAxis2",regionColor:"color",regionShape:"shape",pieSectorColor:"color",pieSectorSize:"size",rectangleTitle:"title",rectangleColor:"color",rectangleWeight:"weight",tagName:"text",tagWeight:"weight",tagFamily:"color","multiplier.row":"trellisRow","multiplier.column":"trellisColumn",radarAxes:"categoryAxis",radarAxesValues:"valueAxis"};var o="sap.viz.api.data.FlatTableDataset";var s="sap.viz.api.data.CrosstableDataset";var l="MeasureNamesDimension";var u="Measure";var c=function(e){var t=e.length;for(var i=0;i<t;i++){if(e[i]===l){return i}}return-1};var f=function(e){var t={};e.map(function(e){t[e.id]=e.type===u});return t};a.getFeedingMap=function(){return n};a.isSupportedChart=function(e){if(t.getMetadata(e)){return true}else{return false}};a.FlatTableFeedingToBindings=function(e,t){if(e&&i.isArray(t)){var a=[];var o={measureNames:[]};var s=f(t);for(var l in e){if(e.hasOwnProperty(l)){var u=r.clone(e[l]);var m=n[l];if(!m){m=l}if(s[m]){o.measureNames.push(m)}var p=c(u);if(p>-1){u[p]=o}a.push({feed:m,source:u})}}return a}};a.CrosstableFeedingToBindings=function(e){if(e){var t=[];for(var i in e){if(e.hasOwnProperty(i)){var a=r.clone(e[i]);t[i]={};t[i].feed=n[a.feedId]||a.feedId;t[i].source=a.binding}}return t}};a.migrateBulletBindings=function(e){var t=0;var i=false;var r=e.length;for(t=0;t<r&&!i;++t){if(e[t].feed==="actualValues"){i=true}}for(t=0;t<r;++t){if(e[t].feed==="valueAxis"){if(i){e.splice(t,1);--t;--r}else{e[t].feed="actualValues";if(e[t].source.length>1){e.push({feed:"additionalValues",source:[e[t].source[1]]});e[t].source.pop()}}}}};a.migrate=function(e){if(this.isSupportedChart(e.type)&&!e.bindings){var i;if(e.data&&e.data.type===s){i=a.CrosstableFeedingToBindings(e.feeding)}else{i=a.FlatTableFeedingToBindings(e.feeding,t.getMetadata(e.type).bindings)}delete e.feeding;if(i){e.bindings=i}}if((e.type==="info/bullet"||e.type==="info/vertical_bullet")&&e.bindings){a.migrateBulletBindings(e.bindings)}return e};return a});define("sap/viz/migrate/BaseMigrator",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/migrate/PropertyUtil","sap/viz/migrate/bindingMigrator","sap/viz/framework/core/ChartViewRegistry"],function(e,t,i,r,a){return{factory:function(e){var r={_model:e,_isAPICall:false,_propertyMigrateActions:{merge:function(e,t,r,a){i.setPropertyWithMergence(e.properties,a.to,r)},rename:function(e,t,r,a){i.setPropertyWithMergence(e.properties,a.to,r);this.remove(e,t)},remove:function(e,t){i.removeProperty(e.properties,t)},migrateSeriesStyle:function(e,t,r,a){i.migrateSeriesStyle(e.properties,t,r,a)},exchange:function(e,t,r,a,n){if(n){return}var o=i.getProperty(e.properties,a.to);if(o!==undefined){i.setProperty(e.properties,t,o);i.setProperty(e.properties,a.to,r)}},changeFormatString:function(e,r){if(this._unifyFormatString(e.properties,r)){return}var n=[];var o=a.getBindingDefinition(e.type)["constructor"];if(!o){return}var s=e.bindings;if(!s){return}for(var l=0;l<o.length;l++){if(o[l].hasOwnProperty("type")&&o[l].hasOwnProperty("role")&&o[l]["type"]==="Measure"&&o[l]["role"]&&o[l]["role"].indexOf("layout")>-1){n.push(o[l].id)}}var u=[];for(var c=0;c<s.length;c++){var f=s[c].feed;if(n.indexOf(f)>=0){u.push(s[c].source)}}var m={};var p=i.getProperty(e.properties,r);if(t.isArray(p)){for(var h=0;h<p.length;h++){if(t.isArray(p[h])){for(var d=0;d<p[h].length;d++){if(u[h]&&u[h][d]){m[u[h][d]]=p[h][d]}}}}}i.setProperty(e.properties,r,m)},splitColorPalette:function(e,t,r,a){if(r&&!i.getProperty(e.properties,a.to[0])){i.setPropertyWithMergence(e.properties,a.to[0],[r[0]]);i.setPropertyWithMergence(e.properties,a.to[1],[r[1]])}this.remove(e,t)},_unifyFormatString:function(e,r){var a=i.getProperty(e,r);if(t.isArray(a)){var n;for(var o=0;o<a.length;o++){if(t.isArray(a[o])){for(var s=0;s<a[o].length;s++){if(n===undefined){n=a[o][s]}else{if(n!==a[o][s]){return false}}}}else if(t.isString(a[o])){return true}}i.setProperty(e,r,n)}return true}},migrate:function(e,t){this._isAPICall=arguments[1]||false;var i=this._getTypeModel("all"),r=this._getTypeModel(e.type);this._doMigrate(e,r);this._doMigrate(e,i);return e},_doMigrate:function(e,t){if(!t){return}this._migrateProperties(e,t.properties)},_migrateProperties:function(e,t){var r,a,n;var o=e.properties;if(!t||!o){return o}for(a in t){if(t.hasOwnProperty(a)){r=i.getProperty(o,a);if(r!==undefined){n=t[a];this._propertyMigrateActions[n.action](e,a,r,n,this._isAPICall)}}}return o},_getTypeModel:function(e){return this._model[e]}};return r}}});define("sap/viz/migrate/migrator/Migrator10to12",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator"],function(e,t){var i=Object.create(e);i.fromVersion="4.0.10";i.toVersion="4.0.12";i.propertyModel={all:{properties:{"title.layout.width":{action:"rename",to:"title.layout.maxWidth"},"title.layout.height":{action:"rename",to:"title.layout.maxHeight"},"background.direction":{action:"rename",to:"background.gradientDirection"},"background.body.color":{action:"rename",to:"background.color"},"legend.layout.width":{action:"rename",to:"legend.layout.maxWidth"},"legend.layout.height":{action:"rename",to:"legend.layout.maxHeight"},"valueAxis.hideTitleFirst":{action:"remove"},"valueAxis.axisline":{action:"rename",to:"valueAxis.axisLine"},"valueAxis.lineSize":{action:"rename",to:"valueAxis.axisLine.size"},"valueAxis.unitFormatType":{action:"remove"},"valueAxis.layout.width":{action:"rename",to:"valueAxis.layout.maxWidth"},"valueAxis.layout.height":{action:"rename",to:"valueAxis.layout.maxHeigth"},"categoryAxis.hideTitleFirst":{action:"remove"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"categoryAxis.layout.width":{action:"rename",to:"categoryAxis.layout.maxWidth"},"categoryAxis.layout.height":{action:"rename",to:"categoryAxis.layout.maxHeigth"},"plotArea.dataLabel.hiddenWhenOverlap":{action:"rename",to:"plotArea.dataLabel.hideWhenOverlap"},"plotArea.fixedDatapointSize":{action:"rename",to:"plotArea.isFixedDataPointSize"},"plotArea.dataLabel.position":{action:"remove"},"plotArea.primaryScale.autoMinValue":{action:"remove"},"plotArea.primaryScale.autoMaxValue":{action:"remove"},background:{action:"rename",to:"plotArea.background"}}},"info/100_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/100_dual_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/100_stacked_column":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/100_dual_stacked_column":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/bubble":{properties:{scale:{action:"remove"},xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"valueAxis2"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/bullet":{properties:{xAxis2:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},yAxis2:{action:"rename",to:"categoryAxis2"},"plotArea.barSize.desktop":{action:"remove"},"plotArea.barSize.mobile":{action:"remove"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/combination":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},"plotArea.bar.barSize":{action:"remove"},"plotArea.bar.barSize.desktop":{action:"remove"},"plotArea.bar.barSize.mobile":{action:"remove"},"plotArea.line.categorySize.desktop":{action:"remove"},"plotArea.line.categorySize.mobile":{action:"remove"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"},"plotArea.dataShape.secondaryAxis":{action:"remove"}}},"info/donut":{properties:{"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/horizontal_line":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/dual_horizontal_line":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}},"info/line":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},"plotArea.primaryValuesColorPalette":{action:"remove"},"plotArea.secondaryValuesColorPalette":{action:"remove"}}},"info/dual_line":{properties:{yAxis:{action:"rename",to:"valueAxis"},xAxis:{action:"rename",to:"categoryAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"plotArea.colorPalette":{action:"remove"}}}};i.propertyModel["info/bar"]=i.propertyModel["info/100_stacked_bar"];i.propertyModel["info/dual_bar"]=i.propertyModel["info/100_dual_stacked_bar"];i.propertyModel["info/dual_column"]=i.propertyModel["info/100_dual_stacked_column"];i.propertyModel["info/pie"]=i.propertyModel["info/donut"];i.propertyModel["info/scatter"]=i.propertyModel["info/bubble"];i.propertyModel["info/stacked_bar"]=i.propertyModel["info/100_stacked_bar"];i.propertyModel["info/dual_stacked_bar"]=i.propertyModel["info/100_dual_stacked_bar"];i.propertyModel["info/stacked_column"]=i.propertyModel["info/100_stacked_column"];i.propertyModel["info/dual_stacked_column"]=i.propertyModel["info/100_dual_stacked_column"];i.propertyModel["info/column"]=i.propertyModel["info/100_stacked_column"];i.chainedMigrators=[t.factory(i.propertyModel)];return i});define("sap/viz/migrate/migrator/Migrator12to16",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator"],function(e,t){var i=Object.create(e);i.fromVersion="4.0.12";i.toVersion="4.0.16";i.propertyModel={"info/donut":{properties:{"plotArea.highlightIndex":{action:"rename",to:"plotArea.highlight.highlightIndex"},"plotArea.unhighlightSliceColor":{action:"rename",to:"plotArea.highlight.unhighlightSliceColor"},"plotArea.contextInfos":{action:"rename",to:"plotArea.highlight.contextInfos"},"plotArea.highlightContext":{action:"rename",to:"plotArea.highlight.highlightContext"},"plotArea.centerRenderer":{action:"rename",to:"plotArea.highlight.centerRenderer"},"plotArea.centerName":{action:"rename",to:"plotArea.highlight.centerName"},"plotArea.centerValue":{action:"rename",to:"plotArea.highlight.centerValue"}}}};i.chainedMigrators=[t.factory(i.propertyModel)];return i});define("sap/viz/migrate/migrator/Migrator16to18Model/Properties",[],function(){var e={all:{properties:{"multiLayout.numberOfDimensionInColumn":{action:"remove"},"legend.hoverShadowMouseDown.color":{action:"rename",to:"legend.mouseDownShadow.color"},"categoryAxis.hoverShadowMouseDown.color":{action:"rename",to:"categoryAxis.mouseDownShadow.color"},"tooltip.separationLine.borderBottomColor":{action:"rename",to:"tooltip.separationLine.color"},"background.direction":{action:"rename",to:"background.gradientDirection"},dataLabel:{action:"rename",to:"plotArea.dataLabel"},"valueAxis.axisline":{action:"rename",to:"valueAxis.axisLine"},"valueAxis2.axisline":{action:"rename",to:"valueAxis2.axisLine"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"valueAxis.lineSize":{action:"rename",to:"valueAxis.axisLine.size"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"valueAxis2.lineSize":{action:"rename",to:"valueAxis2.axisLine.size"},"valueAxis.scale":{action:"rename",to:"plotArea.primaryScale"},"valueAxis2.scale":{action:"rename",to:"plotArea.secondaryScale"},background:{action:"rename",to:"plotArea.background"},selectedDataPoints:{action:"rename",to:"interaction.selectedDataPoints"},"plotArea.referenceLine.line.primaryValues":{action:"rename",to:"plotArea.referenceLine.line.valueAxis"},"plotArea.referenceLine.line.secondaryValues":{action:"rename",to:"plotArea.referenceLine.line.valueAxis2"},"valueAxis.label.formatString":{action:"changeFormatString"},"valueAxis2.label.formatString":{action:"changeFormatString"},"tooltip.formatString":{action:"changeFormatString"},"plotArea.dataLabel.formatString":{action:"changeFormatString"},"legend.formatString":{action:"changeFormatString"},"sizeLegend.formatString":{action:"changeFormatString"}}},"info/column":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/stacked_column":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/100_stacked_column":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/100_dual_stacked_column":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/100_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/100_dual_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},valueAxis:{action:"exchange",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/line":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/horizontal_line":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/combination":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},"plotArea.line.lineVisible":{action:"rename",to:"plotArea.line.visible"},"plotArea.line.lineStyle":{action:"rename",to:"plotArea.line.style"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/horizontal_combination":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"plotArea.line.lineVisible":{action:"rename",to:"plotArea.line.visible"},"plotArea.line.lineStyle":{action:"rename",to:"plotArea.line.style"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/dual_column":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/dual_stacked_column":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/dual_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},valueAxis:{action:"exchange",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/dual_stacked_bar":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},valueAxis:{action:"exchange",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/dual_line":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},yAxis2:{action:"rename",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/dual_horizontal_line":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},xAxis2:{action:"rename",to:"valueAxis2"},valueAxis:{action:"exchange",to:"valueAxis2"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/scatter":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"valueAxis2"},"valueAxis2.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/bubble":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"valueAxis2"},"valueAxis2.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/timeBubble":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"valueAxis2"},"valueAxis.scale.fixedTicks":{action:"rename",to:"valueAxis.axisTick.fixedTicks"},"valueAxis2.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/treeMap":{properties:{}},"info/pie":{properties:{"plotArea.contextInfos":{action:"rename",to:"plotArea.highlight.contextInfos"}}},"info/donut":{properties:{"plotArea.contextInfos":{action:"rename",to:"plotArea.highlight.contextInfos"}}},"info/bullet":{properties:{xAxis2:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"},"plotArea.targetValueColor":{action:"rename",to:"plotArea.target.valueColor"},"plotArea.targetShadowColor":{action:"rename",to:"plotArea.target.shadowColor"}}}};e["info/trellis_column"]=e["info/column"];e["info/trellis_bar"]=e["info/bar"];e["info/trellis_line"]=e["info/line"];e["info/trellis_bubble"]=e["info/bubble"];e["info/trellis_scatter"]=e["info/scatter"];e["info/trellis_stacked_column"]=e["info/stacked_column"];e["info/trellis_stacked_bar"]=e["info/stacked_bar"];e["info/trellis_dual_column"]=e["info/dual_column"];e["info/trellis_dual_line"]=e["info/dual_line"];e["info/trellis_dual_bar"]=e["info/dual_bar"];e["info/trellis_100_stacked_column"]=e["info/100_stacked_column"];e["info/trellis_100_stacked_bar"]=e["info/100_stacked_bar"];e["info/trellis_combination"]=e["info/combination"];e["info/trellis_donut"]=e["info/donut"];e["info/trellis_pie"]=e["info/pie"];e["info/trellis_horizontal_line"]=e["info/horizontal_line"];e["info/trellis_dual_horizontal_line"]=e["info/dual_horizontal_line"];e["info/trellis_horizontal_combination"]=e["info/horizontal_combination"];e["info/trellis_dual_stacked_column"]=e["info/dual_stacked_column"];e["info/trellis_100_dual_stacked_column"]=e["info/dual_100_stacked_column"];e["info/trellis_100_dual_stacked_bar"]=e["info/100_dual_stacked_bar"];e["info/trellis_dual_stacked_bar"]=e["info/dual_stacked_bar"];return e});define("sap/viz/migrate/migrator/Migrator16to18Model/CSS",[],function(){var e={default:{".v-m-root .v-m-title .v-title":{"font-family":"title.style.fontFamily","font-size":"title.style.fontSize","font-weight":"title.style.fontWeight",fill:"title.style.color","font-style":"title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-title":{"font-family":"legend.title.style.fontFamily","font-size":"legend.title.style.fontSize","font-weight":"legend.title.style.fontWeight",fill:"legend.title.style.color","font-style":"legend.title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-label":{"font-family":"legend.label.style.fontFamily","font-size":"legend.label.style.fontSize","font-weight":"legend.label.style.fontWeight",fill:"legend.label.style.color","font-style":"legend.label.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-hovershadow":{fill:"legend.hoverShadow.color"},".v-m-root .v-m-main .v-m-background .v-background-body":{fill:"plotArea.background.color"},".v-m-root .v-m-main .v-m-background .v-background-border":{stroke:"plotArea.background.border.stroke","stroke-width":"plotArea.background.border.strokeWidth"},".v-m-root .v-m-tooltip .v-background":{"background-color":"tooltip.background.color","border-color":"tooltip.background.borderColor"},".v-m-root .v-m-tooltip .v-footer-label":{color:"tooltip.footerLabel.color"},".v-m-root .v-m-tooltip .v-separationline":{"border-bottom-color":"tooltip.separationLine.color"},".v-m-root .v-m-tooltip .v-body-dimension-label":{color:"tooltip.bodyDimensionLabel.color"},".v-m-root .v-m-tooltip .v-body-dimension-value":{color:"tooltip.bodyDimensionValue.color"},".v-m-root .v-m-tooltip .v-body-measure-label":{color:"tooltip.bodyMeasureLabel.color"},".v-m-root .v-m-tooltip .v-body-measure-value":{color:"tooltip.bodyMeasureValue.color"},".v-m-root .v-m-tooltip .v-closeButton":{"background-color":"tooltip.closeButton.backgroundColor","border-color":"tooltip.closeButton.borderColor"}},single_default:{".v-m-root .v-m-main .v-m-datalabel .v-datalabel":{"font-family":"plotArea.dataLabel.style.fontFamily","font-size":"plotArea.dataLabel.style.fontSize","font-weight":"plotArea.dataLabel.style.fontWeight",fill:"plotArea.dataLabel.style.color","font-style":"plotArea.dataLabel.style.fontStyle"}},bar:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},dual_bar:{".v-m-root .v-m-main .v-m-xAxis2 .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis2 .v-hidden-title":{fill:"valueAxis2.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis2 .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},column:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"}},dual_column:{".v-m-root .v-m-main .v-m-yAxis2 .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis2 .v-hidden-title":{fill:"valueAxis2.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis2 .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},scatter:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},bubble:{".v-m-root .v-m-legends .v-m-sizeLegend .v-title":{"font-family":"sizeLegend.title.style.fontFamily","font-size":"sizeLegend.title.style.fontSize","font-weight":"sizeLegend.title.style.fontWeight",fill:"sizeLegend.title.style.color","font-style":"sizeLegend.title.style.fontStyle"},".v-m-root .v-m-legends .v-m-sizeLegend .v-label":{"font-family":"sizeLegend.label.style.fontFamily","font-size":"sizeLegend.label.style.fontSize","font-weight":"sizeLegend.label.style.fontWeight",fill:"sizeLegend.label.style.color","font-style":"sizeLegend.label.style.fontStyle"}},trellis_default:{".v-m-root .v-m-main .v-m-plot .v-m-datalabel .v-datalabel":{"font-family":"plotArea.dataLabel.style.fontFamily","font-size":"plotArea.dataLabel.style.fontSize","font-weight":"plotArea.dataLabel.style.fontWeight",fill:"plotArea.dataLabel.style.color","font-style":"plotArea.dataLabel.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-background .v-background-body":{fill:"plotArea.background.color"},".v-m-root .v-m-main .v-m-plot .v-m-background .v-background-border":{stroke:"plotArea.background.border.stroke","stroke-width":"plotArea.background.border.strokeWidth"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-title":{"font-family":"columnAxis.title.style.fontFamily","font-size":"columnAxis.title.style.fontSize","font-weight":"columnAxis.title.style.fontWeight",fill:"columnAxis.title.style.color","font-style":"columnAxis.title.style.fontStyle"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-label":{"font-family":"columnAxis.label.style.fontFamily","font-size":"columnAxis.label.style.fontSize","font-weight":"columnAxis.label.style.fontWeight",fill:"columnAxis.label.style.color","font-style":"columnAxis.label.style.fontStyle"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-hovershadow":{fill:"columnAxis.hoverShadow.color"},".v-m-root>.v-m-main>.v-m-yAxis .v-title":{"font-family":"rowAxis.title.style.fontFamily","font-size":"rowAxis.title.style.fontSize","font-weight":"rowAxis.title.style.fontWeight",fill:"rowAxis.title.style.color","font-style":"rowAxis.title.style.fontStyle"},".v-m-root>.v-m-main>.v-m-yAxis .v-label":{"font-family":"rowAxis.label.style.fontFamily","font-size":"rowAxis.label.style.fontSize","font-weight":"rowAxis.label.style.fontWeight",fill:"rowAxis.label.style.color","font-style":"rowAxis.label.style.fontStyle"},".v-m-root>.v-m-main>.v-m-yAxis .v-hovershadow":{fill:"rowAxis.hoverShadow.color"}},trellis_bar:{".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},trellis_dual_bar:{".v-m-root .v-m-main .v-m-plot .v-m-xAxis2 .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis2 .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},trellis_column:{".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"}},trellis_dual_column:{".v-m-root .v-m-main .v-m-plot .v-m-yAxis2 .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis2 .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},trellis_scatter:{".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},trellis_bubble:{".v-m-root .v-m-legends .v-m-sizeLegend .v-title":{"font-family":"sizeLegend.title.style.fontFamily","font-size":"sizeLegend.title.style.fontSize","font-weight":"sizeLegend.title.style.fontWeight",fill:"sizeLegend.title.style.color","font-style":"sizeLegend.title.style.fontStyle"},".v-m-root .v-m-legends .v-m-sizeLegend .v-label":{"font-family":"sizeLegend.label.style.fontFamily","font-size":"sizeLegend.label.style.fontSize","font-weight":"sizeLegend.label.style.fontWeight",fill:"sizeLegend.label.style.color","font-style":"sizeLegend.label.style.fontStyle"}}};function t(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}t(e["bar"],e["single_default"]);t(e["column"],e["single_default"]);t(e["scatter"],e["single_default"]);t(e["dual_bar"],e["bar"]);t(e["dual_column"],e["column"]);t(e["bubble"],e["scatter"]);e["horizontal_combination"]=e["bar"];e["stacked_bar"]=e["bar"];e["100_stacked_bar"]=e["bar"];e["horizontal_line"]=e["bar"];e["dual_stacked_bar"]=e["dual_bar"];e["100_dual_stacked_bar"]=e["dual_bar"];e["dual_horizontal_line"]=e["dual_bar"];e["combination"]=e["column"];e["stacked_column"]=e["column"];e["100_stacked_column"]=e["column"];e["line"]=e["column"];e["dual_stacked_column"]=e["dual_column"];e["100_dual_stacked_column"]=e["dual_column"];e["dual_line"]=e["dual_column"];e["pie"]=e["default"];e["donut"]=e["default"];e["treemap"]=e["default"];t(e["pie"],e["single_default"]);t(e["donut"],e["single_default"]);t(e["treemap"],e["single_default"]);t(e["trellis_bar"],e["trellis_default"]);t(e["trellis_column"],e["trellis_default"]);t(e["trellis_scatter"],e["trellis_default"]);t(e["trellis_dual_bar"],e["trellis_bar"]);t(e["trellis_dual_column"],e["trellis_column"]);e["trellis_stacked_bar"]=e["trellis_bar"];e["trellis_100_stacked_bar"]=e["trellis_bar"];e["trellis_horizontal_line"]=e["trellis_bar"];e["trellis_dual_stacked_bar"]=e["trellis_dual_bar"];e["trellis_100_dual_stacked_bar"]=e["trellis_dual_bar"];e["trellis_dual_horizontal_line"]=e["trellis_dual_bar"];e["trellis_stacked_column"]=e["trellis_column"];e["trellis_100_stacked_column"]=e["trellis_column"];e["trellis_line"]=e["trellis_column"];e["trellis_dual_stacked_column"]=e["trellis_dual_column"];e["trellis_100_dual_stacked_column"]=e["trellis_dual_column"];e["trellis_dual_line"]=e["trellis_dual_column"];t(e["trellis_bubble"],e["trellis_scatter"]);e["trellis_pie"]=e["trellis_default"];e["trellis_donut"]=e["trellis_default"];e["_extra_viz_css"]={".viz-legend-title":".v-title",".viz-title-label":".v-title .v-title",".viz-axis-title":".v-title",".viz-legend-valueLabel":".v-label",".viz-axis-label":".v-label"};return e});define("sap/viz/migrate/CSSMigrator",["sap/viz/migrate/PropertyUtil"],function(e){function t(e,t,i,r){var a=null;if(t&&r){if(r[e]&&r[e][t]&&r[e][t][i]){a=r[e][t][i]}else{if(r["default"][t]&&r["default"][t][i]){a=r["default"][t][i]}}}return a}function i(i,r,a,n,o){if(n.indexOf(":")>-1){var s=n.split(":");if(s&&s.length===2){var l=t(r,a,s[0],o);var u=s[1].indexOf("!important");if(u>-1){s[1]=s[1].substring(0,u)}if(l){e.setProperty(i,l,s[1])}}}}function r(e){var t=e;var i="info/";if(e&&e.indexOf(i)>-1){t=e.substring(i.length)}return t}function a(e,t){var i=false;if(e&&t&&t.indexOf(e)>-1){i=true}return i}function n(e,t,i){if(e&&t&&i){var r="_extra_"+e+"_css";if(t.indexOf("."+e+"-")>-1&&i.hasOwnProperty(r)){var a=i[r];for(var n in a){if(a.hasOwnProperty(n)){t=t.replace(new RegExp(n,"gm"),a[n])}}}}return t}function o(e,t){e=n("viz",e,t);return e}return{factory:function(e){var t={_model:e,_migrateCSS:function(e,t,r,a){if(r&&a){r=o(r,a);var n=r.split("}");n.forEach(function(r){if(r&&r.indexOf("{")>-1){var n=r.split("{");if(n&&n.length===2){var o=n[0].trim();var s=n[1];if(s&&s.indexOf(";")>-1){var l=s.split(";");if(l&&l.length>0){l.forEach(function(r){i(e,t,o,r,a)})}}}}})}return e},migrate:function(e){if(this._model&&e.css){var t=r(e.type);if(this._model.hasOwnProperty(t)){e.properties=this._migrateCSS(e.properties,t,e.css,this._model);delete e.css}}return e}};return t}}});define("sap/viz/migrate/migrator/Migrator16to18",["sap/viz/migrate/migrator/Migrator16to18Model/Properties","sap/viz/migrate/migrator/Migrator16to18Model/CSS","sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/bindingMigrator","sap/viz/migrate/BaseMigrator","sap/viz/migrate/scaleMigrator","sap/viz/migrate/CSSMigrator"],function(e,t,i,r,a,n,o){var s=Object.create(i);s.fromVersion="4.0.16";s.toVersion="5.0.0";s.chainedMigrators=[r,a.factory(e),n,o.factory(t)];return s});define("sap/viz/migrate/migrator/Migrator18to510",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator"],function(e,t){var i=Object.create(e);i.fromVersion="5.0.0";i.toVersion="5.1.0";i.propertyModel={"info/trellis_column":{properties:{"plotArea.cellGrid.color":{action:"rename",to:"plotArea.grid.line.color"},"plotArea.cellGrid.size":{action:"rename",to:"plotArea.grid.line.size"},"plotArea.cellGrid.visible":{action:"rename",to:"plotArea.grid.line.visible"}}}};i.propertyModel["info/trellis_bar"]=i.propertyModel["info/trellis_line"]=i.propertyModel["info/trellis_bubble"]=i.propertyModel["info/trellis_scatter"]=i.propertyModel["info/trellis_stacked_column"]=i.propertyModel["info/trellis_stacked_bar"]=i.propertyModel["info/trellis_dual_column"]=i.propertyModel["info/trellis_dual_line"]=i.propertyModel["info/trellis_dual_bar"]=i.propertyModel["info/trellis_100_stacked_column"]=i.propertyModel["info/trellis_100_stacked_bar"]=i.propertyModel["info/trellis_combination"]=i.propertyModel["info/trellis_donut"]=i.propertyModel["info/trellis_pie"]=i.propertyModel["info/trellis_horizontal_line"]=i.propertyModel["info/trellis_dual_horizontal_line"]=i.propertyModel["info/trellis_horizontal_combination"]=i.propertyModel["info/trellis_dual_stacked_column"]=i.propertyModel["info/trellis_100_dual_stacked_column"]=i.propertyModel["info/trellis_100_dual_stacked_bar"]=i.propertyModel["info/trellis_dual_stacked_bar"]=i.propertyModel["info/trellis_column"];i.chainedMigrators=[t.factory(i.propertyModel)];return i});define("sap/viz/migrate/migrator/Migrator510to5110Model/Properties",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t={all:{properties:{"general.thumbnailMode":{action:"rename",to:"interaction.noninteractiveMode"}}},common:{properties:{"categoryAxis.hoverShadowMouseDown.color":{action:"rename",to:"categoryAxis.mouseDownShadow.color"},"tooltip.separationLine.borderBottomColor":{action:"rename",to:"tooltip.separationLine.color"},dataLabel:{action:"rename",to:"plotArea.dataLabel"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"valueAxis.scale":{action:"rename",to:"plotArea.primaryScale"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"},"background.direction":{action:"rename",to:"background.gradientDirection"},background:{action:"rename",to:"plotArea.background"},"tooltip.formatString":{action:"changeFormatString"},"plotArea.dataLabel.formatString":{action:"changeFormatString"},"legend.formatString":{action:"changeFormatString"}}},"info/heatmap":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"categoryAxis2"},"categoryAxis2.hoverShadowMouseDown.color":{action:"rename",to:"categoryAxis2.mouseDownShadow.color"},"categoryAxis2.axisline":{action:"rename",to:"categoryAxis2.axisLine"},"categoryAxis2.lineSize":{action:"rename",to:"categoryAxis2.axisLine.size"}}},"info/area":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"}}},"info/horizontal_area":{properties:{yAxis:{action:"rename",to:"categoryAxis"},xAxis:{action:"rename",to:"valueAxis"}}},"info/100_area":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"}}},"info/100_horizontal_area":{properties:{yAxis:{action:"rename",to:"categoryAxis"},xAxis:{action:"rename",to:"valueAxis"}}},"info/tagcloud":{properties:{"plotArea.animation.dataLoading":{action:"remove"},"plotArea.animation.dataUpdating":{action:"remove"},"plotArea.animation.resizing":{action:"remove"}}},combination:{properties:{"valueAxis.axisline":{action:"rename",to:"valueAxis.axisLine"},"valueAxis2.axisline":{action:"rename",to:"valueAxis2.axisLine"},"valueAxis.lineSize":{action:"rename",to:"valueAxis.axisLine.size"},"valueAxis2.lineSize":{action:"rename",to:"valueAxis2.axisLine.size"},"valueAxis.scale":{action:"rename",to:"plotArea.primaryScale"},"valueAxis2.scale":{action:"rename",to:"plotArea.secondaryScale"},"valueAxis.label.formatString":{action:"changeFormatString"},"valueAxis2.label.formatString":{action:"changeFormatString"}}},"info/dual_combination":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},yAxis2:{action:"rename",to:"valueAxis2"}}},"info/dual_horizontal_combination":{properties:{xAxis:{action:"rename",to:"valueAxis"},xAxis2:{action:"rename",to:"valueAxis2"},yAxis:{action:"rename",to:"categoryAxis"}}},"info/bullet":{properties:{"plotArea.colorPalette":{action:"splitColorPalette",to:["plotArea.actualColor","plotArea.additionalColor"]}}},"info/vertical_bullet":{properties:{"plotArea.colorPalette":{action:"splitColorPalette",to:["plotArea.actualColor","plotArea.additionalColor"]}}}};e.extend(true,t["info/heatmap"],t["common"]);e.extend(true,t["info/area"],t["common"]);e.extend(true,t["info/100_area"],t["common"]);e.extend(true,t["info/horizontal_area"],t["common"]);e.extend(true,t["info/100_horizontal_area"],t["common"]);t["info/trellis_area"]=t["info/trellis_100_area"]=t["info/area"];t["info/trellis_horizontal_area"]=t["info/trellis_100_horizontal_area"]=t["info/horizontal_area"];e.extend(true,t["info/tagcloud"],t["common"]);e.extend(true,t["combination"],t["common"]);e.extend(true,t["info/dual_combination"],t["combination"]);e.extend(true,t["info/dual_horizontal_combination"],t["combination"]);return t});define("sap/viz/migrate/migrator/Migrator510to5110Model/CSS",[],function(){var e={default:{".v-m-root .v-m-title .v-title":{"font-family":"title.style.fontFamily","font-size":"title.style.fontSize","font-weight":"title.style.fontWeight",fill:"title.style.color","font-style":"title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-title":{"font-family":"legend.title.style.fontFamily","font-size":"legend.title.style.fontSize","font-weight":"legend.title.style.fontWeight",fill:"legend.title.style.color","font-style":"legend.title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-label":{"font-family":"legend.label.style.fontFamily","font-size":"legend.label.style.fontSize","font-weight":"legend.label.style.fontWeight",fill:"legend.label.style.color","font-style":"legend.label.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-hovershadow":{fill:"legend.hoverShadow.color"},".v-m-root .v-m-main .v-m-background .v-background-body":{fill:"plotArea.background.color"},".v-m-root .v-m-main .v-m-background .v-background-border":{stroke:"plotArea.background.border.stroke","stroke-width":"plotArea.background.border.strokeWidth"},".v-m-root .v-m-tooltip .v-background":{"background-color":"tooltip.background.color","border-color":"tooltip.background.borderColor"},".v-m-root .v-m-tooltip .v-footer-label":{color:"tooltip.footerLabel.color"},".v-m-root .v-m-tooltip .v-separationline":{"border-bottom-color":"tooltip.separationLine.color"},".v-m-root .v-m-tooltip .v-body-dimension-label":{color:"tooltip.bodyDimensionLabel.color"},".v-m-root .v-m-tooltip .v-body-dimension-value":{color:"tooltip.bodyDimensionValue.color"},".v-m-root .v-m-tooltip .v-body-measure-label":{color:"tooltip.bodyMeasureLabel.color"},".v-m-root .v-m-tooltip .v-body-measure-value":{color:"tooltip.bodyMeasureValue.color"},".v-m-root .v-m-tooltip .v-closeButton":{"background-color":"tooltip.closeButton.backgroundColor","border-color":"tooltip.closeButton.borderColor"}},single_default:{".v-m-root .v-m-main .v-m-datalabel .v-datalabel":{"font-family":"plotArea.dataLabel.style.fontFamily","font-size":"plotArea.dataLabel.style.fontSize","font-weight":"plotArea.dataLabel.style.fontWeight",fill:"plotArea.dataLabel.style.color","font-style":"plotArea.dataLabel.style.fontStyle"}},heatmap:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis2.title.style.fontFamily","font-size":"categoryAxis2.title.style.fontSize","font-weight":"categoryAxis2.title.style.fontWeight",fill:"categoryAxis2.title.style.color","font-style":"categoryAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis2.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis2.label.style.fontFamily","font-size":"categoryAxis2.label.style.fontSize","font-weight":"categoryAxis2.label.style.fontWeight",fill:"categoryAxis2.label.style.color","font-style":"categoryAxis2.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis2.hoverShadow.color"}},area:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"}},"100_area":{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"}},horizontal_area:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},"100_horizontal_area":{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},trellis_default:{".v-m-root .v-m-main .v-m-plot .v-m-datalabel .v-datalabel":{"font-family":"plotArea.dataLabel.style.fontFamily","font-size":"plotArea.dataLabel.style.fontSize","font-weight":"plotArea.dataLabel.style.fontWeight",fill:"plotArea.dataLabel.style.color","font-style":"plotArea.dataLabel.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-background .v-background-body":{fill:"plotArea.background.color"},".v-m-root .v-m-main .v-m-plot .v-m-background .v-background-border":{stroke:"plotArea.background.border.stroke","stroke-width":"plotArea.background.border.strokeWidth"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-title":{"font-family":"columnAxis.title.style.fontFamily","font-size":"columnAxis.title.style.fontSize","font-weight":"columnAxis.title.style.fontWeight",fill:"columnAxis.title.style.color","font-style":"columnAxis.title.style.fontStyle"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-label":{"font-family":"columnAxis.label.style.fontFamily","font-size":"columnAxis.label.style.fontSize","font-weight":"columnAxis.label.style.fontWeight",fill:"columnAxis.label.style.color","font-style":"columnAxis.label.style.fontStyle"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-hovershadow":{fill:"columnAxis.hoverShadow.color"},".v-m-root>.v-m-main>.v-m-yAxis .v-title":{"font-family":"rowAxis.title.style.fontFamily","font-size":"rowAxis.title.style.fontSize","font-weight":"rowAxis.title.style.fontWeight",fill:"rowAxis.title.style.color","font-style":"rowAxis.title.style.fontStyle"},".v-m-root>.v-m-main>.v-m-yAxis .v-label":{"font-family":"rowAxis.label.style.fontFamily","font-size":"rowAxis.label.style.fontSize","font-weight":"rowAxis.label.style.fontWeight",fill:"rowAxis.label.style.color","font-style":"rowAxis.label.style.fontStyle"},".v-m-root>.v-m-main>.v-m-yAxis .v-hovershadow":{fill:"rowAxis.hoverShadow.color"}},trellis_vertical:{".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"}},trellis_horizontal:{".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},dual_combination:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis2 .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis2 .v-hidden-title":{fill:"valueAxis2.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis2 .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}},dual_horizontal_combination:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-xAxis2 .v-title":{"font-family":"valueAxis2.title.style.fontFamily","font-size":"valueAxis2.title.style.fontSize","font-weight":"valueAxis2.title.style.fontWeight",fill:"valueAxis2.title.style.color","font-style":"valueAxis2.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis2 .v-hidden-title":{fill:"valueAxis2.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis2 .v-label":{"font-family":"valueAxis2.label.style.fontFamily","font-size":"valueAxis2.label.style.fontSize","font-weight":"valueAxis2.label.style.fontWeight",fill:"valueAxis2.label.style.color","font-style":"valueAxis2.label.style.fontStyle"}}};function t(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}e["number"]=e["default"];t(e["heatmap"],e["single_default"]);t(e["area"],e["single_default"]);t(e["horizontal_area"],e["single_default"]);t(e["100_area"],e["single_default"]);t(e["100_horizontal_area"],e["single_default"]);e["trellis_100_area"]=e["trellis_area"]=e["area"];e["trellis_100_horizontal_area"]=e["trellis_horizontal_area"]=e["horizontal_area"];t(e["trellis_vertical"],e["trellis_default"]);t(e["trellis_horizontal"],e["trellis_default"]);t(e["trellis_area"],e["trellis_vertical"]);t(e["trellis_horizontal_area"],e["trellis_horizontal"]);t(e["trellis_100_area"],e["trellis_vertical"]);t(e["trellis_100_horizontal_area"],e["trellis_vertical"]);e["tagcloud"]=e["default"];t(e["tagcloud"],e["single_default"]);t(e["dual_combination"],e["single_default"]);t(e["dual_horizontal_combination"],e["single_default"]);return e});define("sap/viz/migrate/migrator/Migrator510to5110",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator","sap/viz/migrate/migrator/Migrator510to5110Model/Properties","sap/viz/migrate/CSSMigrator","sap/viz/migrate/migrator/Migrator510to5110Model/CSS","sap/viz/migrate/bindingMigrator"],function(e,t,i,r,a,n){var o=Object.create(e);o.fromVersion="5.1.0";o.toVersion="5.11.0";o.chainedMigrators=[n,t.factory(i),r.factory(a)];return o});define("sap/viz/migrate/migrator/Migrator5110to5160Model/Properties",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t={all:{properties:{"general.thumbnailMode":{action:"rename",to:"interaction.noninteractiveMode"}}},common:{properties:{"categoryAxis.hoverShadowMouseDown.color":{action:"rename",to:"categoryAxis.mouseDownShadow.color"},"tooltip.separationLine.borderBottomColor":{action:"rename",to:"tooltip.separationLine.color"},dataLabel:{action:"rename",to:"plotArea.dataLabel"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"valueAxis.scale":{action:"rename",to:"plotArea.primaryScale"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"},"background.direction":{action:"rename",to:"background.gradientDirection"},background:{action:"rename",to:"plotArea.background"},"tooltip.formatString":{action:"changeFormatString"},"plotArea.dataLabel.formatString":{action:"changeFormatString"},"legend.formatString":{action:"changeFormatString"}}}};return t});define("sap/viz/migrate/migrator/Migrator5110to5160Model/CSS",[],function(){var e={default:{".v-m-root .v-m-title .v-title":{"font-family":"title.style.fontFamily","font-size":"title.style.fontSize","font-weight":"title.style.fontWeight",fill:"title.style.color","font-style":"title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-title":{"font-family":"legend.title.style.fontFamily","font-size":"legend.title.style.fontSize","font-weight":"legend.title.style.fontWeight",fill:"legend.title.style.color","font-style":"legend.title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-label":{"font-family":"legend.label.style.fontFamily","font-size":"legend.label.style.fontSize","font-weight":"legend.label.style.fontWeight",fill:"legend.label.style.color","font-style":"legend.label.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-hovershadow":{fill:"legend.hoverShadow.color"},".v-m-root .v-m-main .v-m-background .v-background-body":{fill:"plotArea.background.color"},".v-m-root .v-m-main .v-m-background .v-background-border":{stroke:"plotArea.background.border.stroke","stroke-width":"plotArea.background.border.strokeWidth"},".v-m-root .v-m-tooltip .v-background":{"background-color":"tooltip.background.color","border-color":"tooltip.background.borderColor"},".v-m-root .v-m-tooltip .v-footer-label":{color:"tooltip.footerLabel.color"},".v-m-root .v-m-tooltip .v-separationline":{"border-bottom-color":"tooltip.separationLine.color"},".v-m-root .v-m-tooltip .v-body-dimension-label":{color:"tooltip.bodyDimensionLabel.color"},".v-m-root .v-m-tooltip .v-body-dimension-value":{color:"tooltip.bodyDimensionValue.color"},".v-m-root .v-m-tooltip .v-body-measure-label":{color:"tooltip.bodyMeasureLabel.color"},".v-m-root .v-m-tooltip .v-body-measure-value":{color:"tooltip.bodyMeasureValue.color"},".v-m-root .v-m-tooltip .v-closeButton":{"background-color":"tooltip.closeButton.backgroundColor","border-color":"tooltip.closeButton.borderColor"}},single_default:{".v-m-root .v-m-main .v-m-datalabel .v-datalabel":{"font-family":"plotArea.dataLabel.style.fontFamily","font-size":"plotArea.dataLabel.style.fontSize","font-weight":"plotArea.dataLabel.style.fontWeight",fill:"plotArea.dataLabel.style.color","font-style":"plotArea.dataLabel.style.fontStyle"}},area:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"}},"100_area":{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"}},horizontal_area:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},"100_horizontal_area":{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}}};function t(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}t(e["area"],e["single_default"]);t(e["horizontal_area"],e["single_default"]);t(e["100_area"],e["single_default"]);t(e["100_horizontal_area"],e["single_default"]);e["trellis_100_area"]=e["trellis_area"]=e["area"];e["trellis_100_horizontal_area"]=e["trellis_horizontal_area"]=e["horizontal_area"];t(e["trellis_vertical"],e["trellis_default"]);t(e["trellis_horizontal"],e["trellis_default"]);t(e["trellis_area"],e["trellis_vertical"]);t(e["trellis_horizontal_area"],e["trellis_horizontal"]);t(e["trellis_100_area"],e["trellis_vertical"]);t(e["trellis_100_horizontal_area"],e["trellis_vertical"]);return e});define("sap/viz/migrate/migrator/Migrator5110to5160",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator","sap/viz/migrate/migrator/Migrator5110to5160Model/Properties","sap/viz/migrate/CSSMigrator","sap/viz/migrate/migrator/Migrator5110to5160Model/CSS","sap/viz/migrate/bindingMigrator"],function(e,t,i,r,a,n){var o=Object.create(e);o.fromVersion="5.11.0";o.toVersion="5.16.0";o.chainedMigrators=[n,t.factory(i),r.factory(a)];return o});define("sap/viz/migrate/migrator/Migrator5290to5300Model/Properties",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t={all:{properties:{"plotArea.lineStyle":{action:"migrateSeriesStyle",to:"plotArea.seriesStyle",subProp:"line"},"plotArea.line.style":{action:"migrateSeriesStyle",to:"plotArea.seriesStyle",subProp:"line"},"plotArea.areaStyle":{action:"migrateSeriesStyle",to:"plotArea.seriesStyle",subProp:"area"}}}};return t});define("sap/viz/migrate/migrator/Migrator5290to5300",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator","sap/viz/migrate/migrator/Migrator5290to5300Model/Properties"],function(e,t,i){var r=Object.create(e);r.fromVersion="5.16.0";r.toVersion="5.30.0";r.chainedMigrators=[t.factory(i)];return r});define("sap/viz/migrate/migrator/Migrator5300to6000Model/Properties",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t={all:{properties:{"general.thumbnailMode":{action:"rename",to:"interaction.noninteractiveMode"}}},common:{properties:{"categoryAxis.hoverShadowMouseDown.color":{action:"rename",to:"categoryAxis.mouseDownShadow.color"},"tooltip.separationLine.borderBottomColor":{action:"rename",to:"tooltip.separationLine.color"},dataLabel:{action:"rename",to:"plotArea.dataLabel"},"categoryAxis.axisline":{action:"rename",to:"categoryAxis.axisLine"},"categoryAxis.lineSize":{action:"rename",to:"categoryAxis.axisLine.size"},"valueAxis.scale":{action:"rename",to:"plotArea.primaryScale"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"},"background.direction":{action:"rename",to:"background.gradientDirection"},background:{action:"rename",to:"plotArea.background"},"tooltip.formatString":{action:"changeFormatString"},"plotArea.dataLabel.formatString":{action:"changeFormatString"},"legend.formatString":{action:"changeFormatString"}}},"info/waterfall":{properties:{xAxis:{action:"rename",to:"categoryAxis"},yAxis:{action:"rename",to:"valueAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/horizontal_waterfall":{properties:{xAxis:{action:"rename",to:"valueAxis"},yAxis:{action:"rename",to:"categoryAxis"},"valueAxis.gridline":{action:"rename",to:"plotArea.gridline"}}},"info/radar":{properties:{"plotArea.polarAxis.hoverShadowMouseDown.color":{action:"rename",to:"plotArea.polarAxis.mouseDownShadow.color"},"tooltip.separationLine.borderBottomColor":{action:"rename",to:"tooltip.separationLine.color"},dataLabel:{action:"rename",to:"plotArea.dataLabel"},"plotArea.polarAxis.axisline":{action:"rename",to:"plotArea.polarAxis.axisLine"},"plotArea.polarAxis.lineSize":{action:"rename",to:"plotArea.polarAxis.axisLine.size"},"plotArea.valueAxis.scale":{action:"rename",to:"plotArea.primaryScale"},"plotArea.valueAxis.gridline":{action:"rename",to:"plotArea.gridline"},"background.direction":{action:"rename",to:"background.gradientDirection"},background:{action:"rename",to:"plotArea.background"},"tooltip.formatString":{action:"changeFormatString"},"plotArea.dataLabel.formatString":{action:"changeFormatString"},"plotArea.valueAxis.label.formatString":{action:"changeFormatString"},"legend.formatString":{action:"changeFormatString"}}}};e.extend(true,t["info/waterfall"],t["common"]);e.extend(true,t["info/horizontal_waterfall"],t["common"]);t["info/stacked_waterfall"]=t["info/waterfall"];t["info/horizontal_stacked_waterfall"]=t["info/horizontal_waterfall"];t["info/trellis_radar"]=t["info/radar"];return t});define("sap/viz/migrate/migrator/Migrator5300to6000Model/CSS",[],function(){var e={default:{".v-m-root .v-m-title .v-title":{"font-family":"title.style.fontFamily","font-size":"title.style.fontSize","font-weight":"title.style.fontWeight",fill:"title.style.color","font-style":"title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-title":{"font-family":"legend.title.style.fontFamily","font-size":"legend.title.style.fontSize","font-weight":"legend.title.style.fontWeight",fill:"legend.title.style.color","font-style":"legend.title.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-label":{"font-family":"legend.label.style.fontFamily","font-size":"legend.label.style.fontSize","font-weight":"legend.label.style.fontWeight",fill:"legend.label.style.color","font-style":"legend.label.style.fontStyle"},".v-m-root .v-m-legends .v-m-legend .v-hovershadow":{fill:"legend.hoverShadow.color"},".v-m-root .v-m-main .v-m-background .v-background-body":{fill:"plotArea.background.color"},".v-m-root .v-m-main .v-m-background .v-background-border":{stroke:"plotArea.background.border.stroke","stroke-width":"plotArea.background.border.strokeWidth"},".v-m-root .v-m-tooltip .v-background":{"background-color":"tooltip.background.color","border-color":"tooltip.background.borderColor"},".v-m-root .v-m-tooltip .v-footer-label":{color:"tooltip.footerLabel.color"},".v-m-root .v-m-tooltip .v-separationline":{"border-bottom-color":"tooltip.separationLine.color"},".v-m-root .v-m-tooltip .v-body-dimension-label":{color:"tooltip.bodyDimensionLabel.color"},".v-m-root .v-m-tooltip .v-body-dimension-value":{color:"tooltip.bodyDimensionValue.color"},".v-m-root .v-m-tooltip .v-body-measure-label":{color:"tooltip.bodyMeasureLabel.color"},".v-m-root .v-m-tooltip .v-body-measure-value":{color:"tooltip.bodyMeasureValue.color"},".v-m-root .v-m-tooltip .v-closeButton":{"background-color":"tooltip.closeButton.backgroundColor","border-color":"tooltip.closeButton.borderColor"}},single_default:{".v-m-root .v-m-main .v-m-datalabel .v-datalabel":{"font-family":"plotArea.dataLabel.style.fontFamily","font-size":"plotArea.dataLabel.style.fontSize","font-weight":"plotArea.dataLabel.style.fontWeight",fill:"plotArea.dataLabel.style.color","font-style":"plotArea.dataLabel.style.fontStyle"}},waterfall:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"valueAxis.hoverShadow.color"}},horizontal_waterfall:{".v-m-root .v-m-main .v-m-xAxis .v-title":{"font-family":"valueAxis.title.style.fontFamily","font-size":"valueAxis.title.style.fontSize","font-weight":"valueAxis.title.style.fontWeight",fill:"valueAxis.title.style.color","font-style":"valueAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-xAxis .v-hidden-title":{fill:"valueAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-xAxis .v-label":{"font-family":"valueAxis.label.style.fontFamily","font-size":"valueAxis.label.style.fontSize","font-weight":"valueAxis.label.style.fontWeight",fill:"valueAxis.label.style.color","font-style":"valueAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-title":{"font-family":"categoryAxis.title.style.fontFamily","font-size":"categoryAxis.title.style.fontSize","font-weight":"categoryAxis.title.style.fontWeight",fill:"categoryAxis.title.style.color","font-style":"categoryAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hidden-title":{fill:"categoryAxis.hiddenTitle.color"},".v-m-root .v-m-main .v-m-yAxis .v-label":{"font-family":"categoryAxis.label.style.fontFamily","font-size":"categoryAxis.label.style.fontSize","font-weight":"categoryAxis.label.style.fontWeight",fill:"categoryAxis.label.style.color","font-style":"categoryAxis.label.style.fontStyle"},".v-m-root .v-m-main .v-m-yAxis .v-hovershadow":{fill:"categoryAxis.hoverShadow.color"}},radar:{".v-m-root .v-m-main .v-m-plot .v-polar-axis-title":{"font-family":"plotArea.polarAxis.title.style.fontFamily","font-size":"plotArea.polarAxis.title.style.fontSize","font-weight":"plotArea.polarAxis.title.style.fontWeight",fill:"plotArea.polarAxis.title.style.color","font-style":"plotArea.polarAxis.title.style.fontStyle"},".v-m-root .v-m-main .v-m-plot .v-polar-axis-hovershadow":{fill:"plotArea.polarAxis.hoverShadow.color"},".v-m-root .v-m-main .v-m-plot .v-title":{"font-family":"plotArea.valueAxis.title.style.fontFamily","font-size":"plotArea.valueAxis.title.style.fontSize","font-weight":"plotArea.valueAxis.title.style.fontWeight",fill:"plotArea.valueAxis.title.style.color","font-style":"plotArea.valueAxis.title.style.fontStyle"}},trellis_radar:{".v-m-root>.v-m-main>.v-m-yAxis .v-label":{"font-family":"rowAxis.label.style.fontFamily","font-size":"rowAxis.label.style.fontSize","font-weight":"rowAxis.label.style.fontWeight",fill:"rowAxis.title.label.color","font-style":"rowAxis.label.style.fontStyle"},".v-m-root>.v-m-main>.v-m-yAxis .v-title":{"font-family":"rowAxis.title.style.fontFamily","font-size":"rowAxis.title.style.fontSize","font-weight":"rowAxis.title.style.fontWeight",fill:"rowAxis.title.title.color","font-style":"rowAxis.title.style.fontStyle"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-label":{"font-family":"columnAxis.label.style.fontFamily","font-size":"columnAxis.label.style.fontSize","font-weight":"columnAxis.label.style.fontWeight",fill:"columnAxis.title.label.color","font-style":"columnAxis.label.style.fontStyle"},".v-m-root>.v-m-main>.v-m-xAxis2 .v-title":{"font-family":"columnAxis.title.style.fontFamily","font-size":"columnAxis.title.style.fontSize","font-weight":"columnAxis.title.style.fontWeight",fill:"columnAxis.title.title.color","font-style":"columnAxis.title.style.fontStyle"}}};function t(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}t(e["radar"],e["default"]);t(e["trellis_radar"],e["default"]);t(e["waterfall"],e["single_default"]);t(e["horizontal_waterfall"],e["single_default"]);return e});define("sap/viz/migrate/migrator/Migrator5300to6000",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator","sap/viz/migrate/migrator/Migrator5300to6000Model/Properties","sap/viz/migrate/CSSMigrator","sap/viz/migrate/migrator/Migrator5300to6000Model/CSS"],function(e,t,i,r,a){var n=Object.create(e);n.fromVersion="5.30.0";n.toVersion="6.0.0";n.chainedMigrators=[t.factory(i),r.factory(a)];return n});define("sap/viz/migrate/migrator/Migrator6000to6100Model/Properties",["sap/viz/framework/common/util/ObjectUtils"],function(e){var t={"info/pie":{properties:{"plotArea.sliceRenderer":{action:"rename",to:"plotArea.markerRenderer"}}}};t["info/trellis_pie"]=t["info/pie"];t["info/trellis_donut"]=t["info/pie"];t["info/donut"]=t["info/pie"];return t});define("sap/viz/migrate/migrator/Migrator6000to6100",["sap/viz/migrate/migrator/versionMigrator","sap/viz/migrate/BaseMigrator","sap/viz/migrate/migrator/Migrator6000to6100Model/Properties"],function(e,t,i){var r=Object.create(e);r.fromVersion="6.0.0";r.toVersion="6.10.0";r.chainedMigrators=[t.factory(i)];return r});define("sap/viz/migrate/MigrationTool",["sap/viz/migrate/migrator/Migrator10to12","sap/viz/migrate/migrator/Migrator12to16","sap/viz/migrate/migrator/Migrator16to18","sap/viz/migrate/migrator/Migrator18to510","sap/viz/migrate/migrator/Migrator510to5110","sap/viz/migrate/migrator/Migrator5110to5160","sap/viz/migrate/migrator/Migrator5290to5300","sap/viz/migrate/migrator/Migrator5300to6000","sap/viz/migrate/migrator/Migrator6000to6100","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function(e,t,i,r,a,n,o,s,l,u,c){var f="4.0.16";var m=function u(){var c={};[e,t,i,r,a,n,o,s,l].forEach(function(e){c[e.fromVersion]=e});return c}();return{_getVersion:function(e){if(!e){return e}var t=e.version,i;if(t&&t.split){i=t.split(".");if(i.length===4){return i[0]+"."+i[1]+"."+i[2]}}return t},_getMigrator:function(e){if(m[e]===undefined){var t,i;for(t in m){if(this._isVersionGreaterThan(e,t)){i=t}else{return m[i]}}if(this._isVersionGreaterThan(m[t].toVersion,e)){return m[i]}else{return null}}else{return m[e]}},_isVersionGreaterThan:function(e,t){var i;var r=e.split(".");var a=t.split(".");var n=Math.min(r.length,a.length);for(i=0;i<n;i++){if(c.isNaN(r[i])||c.isNaN(a[i])){if(r[i]>a[i]){return true}else if(r[i]<a[i]){return false}}else{if(parseFloat(r[i])>parseFloat(a[i])){return true}else if(parseFloat(r[i])<parseFloat(a[i])){return false}}}if(r.length>a.length){return true}else{return false}},getCurrentVersion:function(){var e=Object.keys(m);var t=e[0];if(e.length===1){return t.toVersion}for(var i=1;i<e.length;i++){if(this._isVersionGreaterThan(e[i],t)){t=e[i]}}return m[t].toVersion},migrate:function(e){if(!e){return e}var t={};for(var i in e){if(e.hasOwnProperty(i)){if(i==="data"||i==="container"){t[i]=e[i]}else{t[i]=u.clone(e[i],true)}}}var r=this._getVersion(t),a,n=false;if(r===undefined){r=f;n=true}while(r&&(a=this._getMigrator(r))){t=a.migrate(t,n);r=this._getVersion(t)}if(n){delete t.version}return t}}});define("sap/viz/api/core/VizInstance",["jquery","sap/viz/framework/core/ChartApp","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/extension/ExtensionUtils","sap/viz/migrate/MigrationTool","exports"],function(jQuery,e,t,i,r,a,n,o){"use strict";var s="CrosstableDataset";var l="FlatTableDataset";function u(e){return e===a.PROPERTY.USER_LEVEL}var c=function(t,i){this.__className="sap.viz.api.core.VizInstance";this.app=new e(t);this.app.init(i);this.app.render({bNoRender:i.bNoRender,disableIntervalSizeCheck:i.disableIntervalSizeCheck})};c.prototype={size:function(e){if(!arguments.length){return this.app.size()}this.app.size(e,true===arguments[1]);return this},destroy:function(){this.app.destroy();this.app=null},feedingZone:function(){return this.app.getAllFeedingZone()},propertyZone:function(){return this.app.getPropertyZone()},data:function(e){if(arguments.length>0){this.app.update({data:e});return this}else{return this.app.data()}},description:function(){return this.app.getDescription()},bindings:function(e){if(arguments.length>0){this.app.update({bindings:e});return this}else{return this.app.bindings()}},_getDataRange:function(e,t){return this.app._getDataRange(e,t)},scales:function(e,t){var a=arguments.length;if(a&&!r.isArray(e)){return this}if(a){var n={scales:e};if(a>1){n.scalesOption=t}this.update(n)}if(a===1){return this}if(a>1&&!u(t&&t.level)){return[]}if(t){t=i.extend({},t);t.replace=false}return this.app.scales(null,t)},_getValueScales:function(){return this.app._getValueScales()},sharedRuntimeScales:function(e){if(arguments.length>0){this.app.update({sharedRuntimeScales:e});return this}else{return this.app.sharedRuntimeScales()}},runtimeScales:function(){return this.app.runtimeScales.apply(this.app,arguments)},on:function(e,t,i){return this.app.on(e,t,i)},off:function(e){return this.app.off(e)},update:function(e){if(e===true){this.app.refresh();return this}else if(arguments.length>0){var t;var i=arguments[0];if(!i.hasOwnProperty("type")&&this.app&&this.app.type()){i.type=this.app.type()}t=o.migrate(i);this.app.update(t);return this}},states:function(){if(arguments.length>0){this.app.states(arguments[0]);return this}else{return this.app.states()}},template:function(e){if(arguments.length){this.app.update({template:e});return this}return this.app.template()},customizations:function(e){if(arguments.length===0){return this.app.customizations()}else{this.app.update({customizations:e})}},properties:function(e,t){var a=arguments.length;if(a&&!r.isPlainObject(e)){return this}if(a){var n={properties:e};if(a>1){n.propertiesOption=t}this.update(n)}if(a===1){return this}if(a>1&&!u(t&&t.level)){return{}}if(t){t=i.extend({},t);t.replace=false}return this.app.properties(null,t)},selection:function(){var e=null;var t=null;var i=false;if(arguments.length<=0){i=true}else if(arguments.length<=1){if(arguments[0]instanceof Array){i=false;e=arguments[0]}else{i=true;t=arguments[0]}}else{i=false;e=arguments[0];t=arguments[1]}var r;if(i){r=this.app.getSelectedObjects(t)}else{r=this.app.setSelectedObjects(e,t)}return r},toJSON:function(e){var t={};t.type=this.app.type();var i=this.app.data();if(i.toJSON){i=i.toJSON(e)}var r;if(i.id==="sap.viz.data.CrosstableDataset"){r="Crosstable"}else if(i.id==="sap.viz.data.FlatTableDataset"){r="FlatTable"}t.data={type:r,val:i.data||i,info:i.info};t.properties=this.app.serializeProps();if(this.app.customizations()){var a=this.app.serializeCustomization();if(a){t.customizations=a}}t.bindings=this.bindings();t.scales=this.app.serializeScales();t.size=this.app.size();t.template=this.app.template();var o=n.getBundleVersion(t.type);if(o){t.bundleVersion=o}if(sap.viz.api.hasOwnProperty("VERSION")){t.version=sap.viz.api.VERSION}return t},exportToSVGString:function(e){return this.app.exportToSVGString(e)},supportExportToSVG:function(){return this.app.supportExportToSVG()},selectedPropertyZone:function(e){if(arguments.length){this.app.setSelectedPropertyZone.apply(this.app,arguments);return this}else{return this.app.getSelectedPropertyZone()}}};return c});define("sap/viz/framework/chartmodel/feed/feed",["sap/viz/framework/common/util/FunctionUtils"],function e(t){return function(e,t,i,r,a,n,o,s,l,u){var c=e;var f=t;var m=i;var p=r;var h=a;var d=n;var g=o;var v=s;var y=l;var _=u;var A=[];function b(){return b}b.feedId=function(e){if(!arguments.length){return c}c=e;return b};b.feedName=function(e){if(!arguments.length){return f}f=e;return b};b.type=function(e){if(!arguments.length){return m}m=e;return b};b.min=function(e){if(!arguments.length){return p}p=e;return b};b.max=function(e){if(!arguments.length){return h}h=e;return b};b.analysisAxisIndex=function(e){if(!arguments.length){return d}d=e;return b};b.measureGroupIndex=function(e){if(!arguments.length){return v}v=e;return b};b.acceptMND=function(e){if(!arguments.length){return g}g=e;return b};b.maxStackedDims=function(e){if(!arguments.length){return y}y=e;return b};b.minStackedDims=function(e){if(!arguments.length){return _}_=e;return b};b.data=function(e){if(!arguments.length){return A}A=e;return b};b.addData=function(e){A.push(e);return b};b.getMeasureNames=function(){var e=v-1;var t=[];for(var i=0;i<A.length;i++){t.push({val:A[i]["name"],ctx:{mg:e,mi:i}})}return t};b.getMeasureValues=function(){var e=[];if(A.length>0){return A[0].getMeasureValues()}return e};b.getMeasureCount=function(){return A.length};b.hasMNDFeeded=function(){var e=b.data();for(var t=0;t<e.length;t++){if(e[t].getType()==="measureNamesDimension"){return true}}return false};b.hasFeeded=function(){return b.data().length>0?true:false};b.getIndex=function(){return b.analysisAxisIndex()?b.analysisAxisIndex():b.measureGroupIndex()};b.getDataCount=function(){if(b.type()==="Dimension"){return b.data().length}else{return b.data().length>0?b.data()[0].getMeasureValues().length:0}};return b}});define("sap/viz/framework/chartmodel/description/DataContainer",[],function e(){var t=function(e){this._uId=e;this._isFake=false;this._infos=null};t.prototype.getId=function(){return this._uId};t.prototype.fake=function(e){if(!arguments.length){return this._isFake}this._isFake=e};t.prototype.infos=function(e){if(!arguments.length){return this._infos}this._infos=e};return t});define("sap/viz/framework/chartmodel/description/DimensionLabels",["sap/viz/framework/chartmodel/description/DataContainer","sap/viz/framework/common/util/oo"],function e(t,i){var r=function(e,t,i){r.superclass.constructor.apply(this,arguments);this._type=t;this._values=i};i.extend(r,t);r.prototype.getType=function(){return this._type};r.prototype.getValues=function(){return this._values};return r});define("sap/viz/framework/chartmodel/feed/feeder",["sap/viz/framework/chartmodel/feed/feed","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/chartmodel/description/DimensionLabels","sap/viz/framework/common/lang/LangManager"],function e(t,i,r,a,n){return function(e,o,s){var l="Dimension";var u="Measure";var c="feedId";var f="binding";var m="type";var p="index";var h=[];var d=[];var g=[];var v={};var y=[];function _(){return _}_.init=function(){A(e);if(o){if(s){M(o,s)}else{b(o)}_.checkValid()}};_.getFeeds=function(){return g};_.findFeed=function(e){return v[e]};_.getAnalysisAxisIndex=function(e){for(var t=0;t<h.length;t++){if(h[t]===e){return t}}};_.getMeasureValuesGroupIndex=function(e){for(var t=0;t<d.length;t++){if(d[t]===e){return t}}};_.getMeasureValuesGroupFeeds=function(){return d};_.checkValid=function(){for(var e=0;e<g.length;e++){var t=g[e];var r;if(t.type()==="Dimension"){r=t.getDataCount();if(r<t.min()||t.max()!==Number.POSITIVE_INFINITY&&r>t.max()){i.error(n.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",t.feedId()))}}else if(t.type()==="Measure"){r=t.getDataCount();if(r<t.min()||t.max()!==Number.POSITIVE_INFINITY&&r>t.max()){i.error(n.getLogMessage("IDS_ERROR_NOT_MEET_NUMBER_OF_FEED",t.feedId()))}}else{i.error(n.getLogMessage("IDS_ERROR_WRONG_FEED_TYPE",t.feedId()))}}};_.getBindingInfo=function(){return y};function A(e){if(r.isArray(e)){var a=0;for(var o=0;o<e.length;o++){var s=e[o]["type"];var c=e[o]["aaIndex"];var f=e[o]["id"];if(s!==l&&s!==u){i.error(n.getLogMessage("IDS_ERROR_WRONG_FEED_TYPE_IN_DEFINTION",e[o]["id"]))}if(e[o]["type"]===l){if(e[o]["aaIndex"]<=0){i.error(n.getLogMessage("IDS_ERROR_WRONG_AXIS_INDEX",e[o]["id"]))}a++}if(e[o]["type"]===u){if(e[o]["mgIndex"]<=0){i.error(n.getLogMessage("IDS_ERROR_WRONG_MEASURE_AXIS_INDEX",e[o]["id"]))}}var m=g.push(t(f,e[o]["name"],s,e[o]["min"],e[o]["max"],c,e[o]["acceptMND"],e[o]["mgIndex"],e[o]["maxStackedDims"],e[o]["minStackedDims"]));v[f]=g[m-1]}for(o=0;o<a;o++){y[o]=false}}}function b(e){var t=e.getAnalysisAxisCount();var a;for(var o=0;o<t;o++){a=S(g,l,o+1);if(a){var s=e.getAnalysisAxisByIdx(o);if(r.isExist(a.maxStackedDims())&&s.getDimensionLabels().length>a.maxStackedDims()){i.error(n.getLogMessage("IDS_ERROR_INVALID_FEEDING",a.feedId()))}if(r.isExist(a.minStackedDims())&&s.getDimensionLabels().length<a.minStackedDims()){i.error(n.getLogMessage("IDS_ERROR_INVALID_FEEDING",a.feedId()))}h[o]=a;y[o]=true;a.addData(s)}}var c=e.getMeasureValuesGroupCount();for(o=0;o<c;o++){a=S(g,u,o+1);if(a){d[o]=a;if(e.getMeasureValuesGroupByIdx(o)){a.addData(e.getMeasureValuesGroupByIdx(o))}}}}function S(e,t,i){for(var r=0;r<e.length;r++){if(e[r].type()===t&&e[r].getIndex()===i){return e[r]}}return null}function M(e,t){var o;for(var s=0;s<t.length;s++){var l=t[s];var u=l[c];if(!u){i.error(n.getLogMessage("IDS_ERROR_NO_FEED_ID"))}var g=v[u];if(!g){i.error(n.getLogMessage("IDS_ERROR_INVALID_FEEDING_NUMBER",u))}var _=l[f];for(var A=0;A<_.length;A++){var b=_[A][m];var S=_[A][p];if(b==="analysisAxis"){var M=e.getAnalysisAxisByIdx(S-1);if(!M){i.error(n.getLogMessage("IDS_ERROR_NO_AXIS",S,u))}if(r.isExist(g.maxStackedDims())&&M.getDimensionLabels().length>g.maxStackedDims()){i.error(n.getLogMessage("IDS_ERROR_INVALID_FEEDING",u))}if(r.isExist(g.minStackedDims())&&M.getDimensionLabels().length<g.minStackedDims()){i.error(n.getLogMessage("IDS_ERROR_INVALID_FEEDING",u))}o=g.getDataCount();if(g.max()!==Number.POSITIVE_INFINITY&&o>=g.max()){i.error(n.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",u))}g.addData(M);h[S-1]=g;y[g.getIndex()-1]=true}else if(b==="measureValuesGroup"){var D=e.getMeasureValuesGroupByIdx(S-1);if(!D){i.error(n.getLogMessage("IDS_ERROR_NOT_FIND_MEASURE_GROUP",S,u))}o=g.getDataCount();if(g.max()!==Number.POSITIVE_INFINITY&&o>=g.max()){i.error(n.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",u))}g.addData(D);d[g.getIndex()-1]=g}else if(b==="measureNamesDimension"){if(g.acceptMND()<0){i.error(n.getLogMessage("IDS_ERROR_NOT_ACCEPT")+" MeasureNamesDimension "+u+" "+n.get("IDS_FEED"))}o=g.getDataCount();if(g.max()!==Number.POSITIVE_INFINITY&&o>=g.max()){i.error(n.getLogMessage("IDS_ERROR_FEED_NOT_ACCEPT_DATA",u))}g.addData(new a("","measureNamesDimension",""))}else{i.error(n.getLogMessage("IDS_ERROR_INVALID_BINDING"))}}}}_.init();return _}});define("sap/viz/framework/chartmodel/description/AnalysisAxis",["sap/viz/framework/chartmodel/description/DimensionLabels","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager"],function e(t,i,r,a){var n=function(e){this._dimensionLabels=[];this.init(e)};n.prototype.init=function(e){for(var i=0;i<e.length;i++){this._dimensionLabels[i]=new t(e[i]["name"],e[i]["type"]?e[i]["type"]:"Dimension",e[i]["values"]);this._dimensionLabels[i].fake(e[i]["isFake"]?e[i]["isFake"]:false);this._dimensionLabels[i].infos(e[i]["infos"]?e[i]["infos"]:null)}};n.prototype.getDimensionLabels=function(){return this._dimensionLabels};n.prototype.getType=function(){return"analysisAxis"};n.prototype.validate=function(){var e=1;var t=this.getDimensionLabels();if(t.length===0){i.error(a.getLogMessage("IDS_ERROR_DIMENSION_NOT_ZERO"))}for(var n=0;n<t.length;n++){if(n===0){e=t[n].getValues().length;if(r.isExist(t[n].infos())&&e!==t[n].infos().length){i.error(a.getLogMessage("IDS_ERROR_DIMENSION_WRONG_COUNT",t[n].getId()))}}else{if(e!==t[n].getValues().length){i.error(a.getLogMessage("IDS_ERROR_DIMENSION_WRONG_LABELS_COUNT",t[n].getId()))}if(r.isExist(t[n].infos())&&e!==t[n].infos().length){i.error(a.getLogMessage("IDS_ERROR_DIMENSION_WRONG_COUNT",t[n].getId()))}}}return e};n.prototype.hasFakeData=function(){var e=this.getDimensionLabels();for(var t=0;t<e.length;t++){if(e[t].fake()){return true}}return false};return n});define("sap/viz/framework/chartmodel/description/MeasureValues",["sap/viz/framework/chartmodel/description/DataContainer","sap/viz/framework/common/util/oo"],function e(t,i){var r=function(e,t){r.superclass.constructor.apply(this,arguments);this._values=t};i.extend(r,t);r.prototype.getValues=function(){return this._values};return r});define("sap/viz/framework/chartmodel/description/MeasureValuesGroup",["sap/viz/framework/chartmodel/description/MeasureValues","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/lang/LangManager"],function e(t,i,r){var a=function(e){this._measureValues=[];this.init(e)};a.prototype.init=function(e){for(var i=0;i<e.length;i++){this._measureValues[i]=new t(e[i]["name"],e[i]["values"]);this._measureValues[i].fake(e[i]["isFake"]?e[i]["isFake"]:false);this._measureValues[i].infos(e[i]["infos"]?e[i]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(e){var t,a,n,o;if(!arguments.length){var s=[1,1];t=this.getMeasureValues();for(n=0;n<t.length;n++){a=t[n].getValues();if(n===0){if(a.length!==s[1]){i.error(r.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[n].getId(),s[1]))}s[0]=a[0].length}else{if(a.length!==s[1]){i.error(r.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[n].getId(),s[1]))}for(o=0;o<a.length;o++){if(a[o].length!==s[0]){i.error(r.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA1",t[n].getId(),s[0]))}}}}return s}else{t=this.getMeasureValues();for(n=0;n<t.length;n++){a=t[n].getValues();if(a.length!==e[1]){i.error(r.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[n].getId(),e[1]))}for(o=0;o<a.length;o++){if(a[o].length!==e[0]){i.error(r.getLogMessage("IDS_ERROR_WRONG_VALUES_COUNT_IN_AA2",t[n].getId(),e[0]))}}}}};a.prototype.hasFakeData=function(){var e=this.getMeasureValues();for(var t=0;t<e.length;t++){if(e[t].fake()){return true}}return false};return a});define("sap/viz/framework/chartmodel/info/Handler",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function e(t,i){var r="analysisAxis";var a="measureValuesGroup";var n={};var o={};function s(e,t){var i=e[r].concat(e[a]);var n=[];i.forEach(function(e,i){var r=e.data;r.forEach(function(e,i){if(e.name===t){n.push(e)}},this)},this);return n}var l={type:"valueinfo",process:function(e,t){var i,r,n,o,s,u,c,f;var m,p,h,d,g=t[a];for(i=0,r=e.length;i<r;i++){m=e[i];if(m!==undefined){for(n=0,o=g.length;n<o;n++){h=g[n];p=h.data;for(s=0,u=p.length;s<u;s++){d=p[s];if(!d.infos){d.infos=[]}for(c=0,f=d.values.length;c<f;c++){if(!d.infos[c]){d.infos[c]=[]}if(!d.infos[c][i]){d.infos[c][i]={}}d.infos[c][i][l.type]=m}}}}}},merge:function(e){},remove:function(e){c(l.type,e)}};var u={type:"defaultSelection",process:function(e,t){var i;var n,o,s;var l=t[r]&&t[r][1]?true:false;var u=t[r]?t[r][0].data[0].values.length:t[a][0].data[0].values[0].length,c=l?t[r][1].data[0].values.length:1;var p,h,d;var g,v;for(p=0,s=e.length;p<s;p++){n=new Array(u);o=new Array(c);g=[];i=e[p];f(t,i,n,o);if(!l){o[0]=true}for(h=0;h<o.length;h++){v=[];for(d=0;d<n.length;d++){var y={defaultSelection:{isSelected:false,index:p}};if(o[h]&&n[d]){y.defaultSelection.isSelected=true}v.push(y)}g.push(v)}m(t,i,g)}},remove:function(e){c(u.type,e)},merge:function(e){}};function c(e,t){var r,n,o,s=t[a];if(!s||!i.isArray(s)){return}var l,u,c,f,m,p,h,d;var g=false;for(l=0,u=s.length;l<u;l++){r=s[l].data;for(c=0,f=r.length;c<f;c++){n=r[c];if(n.infos){g=false;for(m=0,p=n.infos.length;m<p;m++){o=n.infos[m];for(h=0,d=o.length;h<d;h++){if(o[h]){delete o[h][e];if(i.isEmptyObject(o[h])){o[h]=undefined}else{g=true}}}}}if(!g){delete n.infos}}}}function f(e,t,i,a){var n=e[r];if(!n){for(var o=0;o<i.length;o++){i[o]=true}return}n.forEach(function(e,r){var n=e.data;n.forEach(function(r,n){var o=t[r.name];for(var s=0;s<r.values.length;s++){var l=o==="*"||o!==null&&r.values[s]===o;if(l){if(n===0){if(e.index===1){i[s]=true}else{a[s]=true}}else{if(e.index===1){if(i[s]!==true){i[s]=undefined}}else{if(a[s]!==true){a[s]=undefined}}}}else{if(e.index===1){i[s]=undefined}else{a[s]=undefined}}}},this)},this)}function m(e,t,i){var r=e[a];var n=[],o,s,l;for(s=0;s<i.length;s++){o=[];for(l=0;l<i[s].length;l++){var u={defaultSelection:{isSelected:false}};o.push(u)}n.push(o)}r.forEach(function(e,r){var a=e.data;var o,s,l;a.forEach(function(e,r){if(e.name===t["Measure"]){l=i}else{l=n}if(!e.infos){e.infos=l}else{for(o=0;o<l.length;o++){var a=l[o];var u=e.infos[o];for(s=0;s<a.length;s++){var c=u[s]["defaultSelection"].isSelected;if(!c){u[s]["defaultSelection"]=a[s]["defaultSelection"]}}}}},this)},this)}var p={type:"customlabel",process:function(e,t){var r,a,n,o,l,u,c,f;for(var m=0,h=e.length;m<h;m++){r=e[m];a=r.name;n=s(t,a);n.forEach(function(e,t){c=false;if(!e.infos){f=true;e.infos=[]}u=e.values;o=r.mapping;u.forEach(function(t,r){if(o[t]){if(o[t].type==="string"&&o[t].val===t){if(e.infos[r]){delete e.infos[r][p.type];if(i.isEmptyObject(e.infos[r])){e.infos[r]=undefined}}else{e.infos[r]=undefined}}else{c=true;e.infos[r]=e.infos[r]?e.infos[r]:{};e.infos[r][p.type]=o[t]}}else{if(!e.infos[r]){e.infos[r]=undefined}}},this);if(f&&!c){delete e.infos}},this)}},merge:function(e){var t={};t.type=p.type;t.value=[];var a=e[r];if(!a||!i.isArray(a)){return}var n;a.forEach(function(e,i){var r=e.data;r.forEach(function(e,i){if(e.infos){var r={};r.name=e.name;r.mapping={};n=false;e.infos.forEach(function(t,i){if(t&&t[p.type]){n=true;r.mapping[e.values[i]]=t[p.type]}},this);if(n){t.value.push(r)}}},this)},this);if(t.value.length>0){return t}},remove:function(e){var t=e[r];var a=false;t.forEach(function(e,t){var r=e.data;r.forEach(function(e,t){if(e.infos){a=false;e.infos.forEach(function(t,r){if(t){delete t[p.type];if(i.isEmptyObject(t)){e.infos[r]=undefined}else{a=true}}},this);if(!a){delete e.infos}}},this)},this)}};n.register=function(e){o[e.type]=e};n.get=function(e){return o[e]};n.mergeInfo=function(e){var i,r=[],a;for(var n in o){if(o.hasOwnProperty(n)){i=o[n];a=i.merge(e);if(a){r.push(t.extend(true,{},a))}}}return r};n.register(p);n.register(u);n.register(l);return n});define("sap/viz/framework/chartmodel/info/CrosstableHandler",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils"],function e(t,i){var r="analysisAxis";var a="measureValuesGroup";var n={};var o={};var s={};n.register=function(e,t){if(t){s[e.type]=e}else{o[e.type]=e}};n.get=function(e){if(s[e]){return s[e]}else{return o[e]}};n.getExternal=function(e){if(s[e]){return s[e]}};n.storeInfo=function(e,t){if(s[t.type]&&t.hasOwnProperty("info")){e[t.type]={type:t.type,info:t.info}}};n.mergeInfo=function(e){var t=[];for(var r in s){if(e.hasOwnProperty(r)){var a=e[r];var n={};n.type=a.type;n.info=a.info;if(n.info!=="undefined"){t.push(i.clone(n))}}}return t};var l={type:"additionalData",process:function(e,n,o,s){if(!e.hasOwnProperty("info")){return}var u=i.clone(e.info);if(u===undefined||t.isArray(u)&&u.length===0){p(l.type,n,o,s);return}else if(!t.isArray(u)){return}p(l.type,n,o,s);var c=false,h,d,g,v;for(h=0;h<u.length;h++){c=false;for(d=0;d<o.length;d++){if(o[d].name===u[h].name){g=o[d].index;v=o[d].location;if(!u[h].hasOwnProperty("infoValues")){break}else if(u[h].infoValues===undefined){u[h].infoValues=[]}else if(!t.isArray(u[h].infoValues)){break}f(n[r][g].data[v],u[h].infoValues,l.type);c=true;break}}if(c){continue}for(d=0;d<s.length;d++){if(s[d].name===u[h].name){g=s[d].index;v=s[d].location;if(!u[h].hasOwnProperty("infoValues")){break}else if(u[h].infoValues===undefined){u[h].infoValues=[]}else if(!t.isArray(u[h].infoValues)){break}m(n[a][g].data[v],u[h].infoValues,l.type);break}}}}};var u={type:"customlabel",process:function(e,i){var a=e.info;if(a===undefined||!t.isArray(a)){return}if(i[r]===undefined){return}var n,o,s,l,f,m,p,h;for(var d=0,g=a.length;d<g;d++){n=a[d];o=n.name;s=c(i,o);s.forEach(function(e,i){p=false;if(!e.infos){h=true;e.infos=[]}m=e.values;l=n.infoMappings;m.forEach(function(i,r){if(l[i]){if(l[i].type==="string"&&l[i].val===i){if(e.infos[r]){delete e.infos[r][u.type];if(t.isEmptyObject(e.infos[r])){e.infos[r]=undefined}}else{e.infos[r]=undefined}}else{p=true;e.infos[r]=e.infos[r]?e.infos[r]:{};e.infos[r][u.type]=l[i]}}else{if(!e.infos[r]){e.infos[r]=undefined}}},this);if(h&&!p){delete e.infos}},this)}}};function c(e,t){var i=e[r];if(e[a]!==undefined){i=e[r].concat(e[a])}var n=[];i.forEach(function(e,i){var r=e.data;r.forEach(function(e,i){if(e.name===t){n.push(e)}},this)},this);return n}function f(e,i,r){if(e["infos"]===undefined&&(t.isArray(i)&&i.length===0)){return}if(e["infos"]===undefined){e.infos=[]}var a=e.infos;var n=e.values.length;for(var o=0;o<n;o++){if(a[o]===undefined&&i[o]!==undefined){a[o]={}}if((a[o]===undefined||a[o]===null)&&i[o]===undefined){a[o]=undefined;continue}if(a[o]!==undefined){a[o][r]=i[o];if(a[o][r]===undefined){delete a[o][r]}}if(t.isEmptyObject(a[o])){a[o]=undefined}}}function m(e,i,r){if(e["infos"]===undefined&&(t.isArray(i)&&i.length===0)){return}if(e["infos"]===undefined){e.infos=[]}var a=e.infos;var n=e.values.length;var o=e.values[0].length;for(var s=0;s<n;s++){var l;if(a[s]===undefined&&i[s]!==undefined){a[s]=[]}if(a[s]===undefined&&(i[s]===undefined||i[s]===null)){a[s]=i[s];continue}if(a[s]!==undefined&&(i[s]===undefined||i[s]===null)){for(l=0;l<o;l++){if(a[s][l]!==undefined&&a[s][l]!==null&&a[s][l][r]!==undefined){a[s][l][r]=i[s];if(i[s]===undefined){delete a[s][l][r]}}if(t.isEmptyObject(a[s][l])){a[s][l]=undefined}}continue}for(l=0;l<o;l++){if(a[s][l]===undefined&&i[s][l]!==undefined){a[s][l]={}}if(a[s][l]===undefined&&i[s][l]===undefined){a[s][l]=undefined}if(a[s][l]!==undefined&&a[s][l]!==null){a[s][l][r]=i[s][l]}if(a[s][l]!==undefined&&a[s][l]!==null&&a[s][l][r]===undefined){delete a[s][l][r]}if(t.isEmptyObject(a[s][l])){a[s][l]=undefined}}}}function p(e,t,i,n){var o,s,u;for(o=0;o<i.length;o++){s=i[o].index;u=i[o].location;f(t[r][s].data[u],[],l.type)}for(o=0;o<n.length;o++){s=n[o].index;u=n[o].location;m(t[a][s].data[u],[],l.type)}}n.register(l,true);n.register(u);return n});define("sap/viz/framework/chartmodel/CrosstableDataset",["sap/viz/framework/chartmodel/feed/feeder","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/chartmodel/description/AnalysisAxis","sap/viz/framework/chartmodel/description/MeasureValuesGroup","sap/viz/framework/chartmodel/info/Handler","sap/viz/framework/chartmodel/info/CrosstableHandler","sap/viz/framework/common/lang/LangManager"],function e(t,i,r,a,n,o,s,l,u){var c="type";var f="name";var m="values";var p="feedId";var h="MeasureNamesDimension";var d="analysisAxis";var g="measureValuesGroup";function v(e){var t=e.getValues();return t.length>0?t.length*t[0].length:0}function y(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._measures=[];this._dimensions=[];this._emptyDataset=false;this._infos={}}y.prototype.destroy=function(){this._analysisAxis=null;this._measureValuesGroup=null;this._dataSet=null;this._measures=null;this._dimensions=null;this._emptyDataset=null;this._infos=null};y.prototype.data=function(e){if(!arguments.length){return a.clone(this._dataSet)}this._analysisAxis=[];this._measureValuesGroup=[];this._measures=[];this._dimensions=[];this._dataSet=a.clone(e);this.init(this._dataSet);this._measures=this.getMetaNames(e,g);this._dimensions=this.getMetaNames(e,d);this._infos={};return this};y.prototype.setData=function(e){this.data(e)};y.prototype.getMetaNames=function(e,t){if(e===undefined||e===null){return}var r=[];var a=e[t];if(a===undefined||!i.isArray(a)){return r}for(var n=0;n<a.length;n++){var o=a[n].data;if(o===undefined||!i.isArray(o)){continue}for(var s=0;s<o.length;s++){if(o[s].name!==undefined){var l={name:o[s].name,index:n,location:s};r.push(l)}}}return r};y.prototype.info=function(e){if(!arguments.length){return l.mergeInfo(this._infos)}if(e!==undefined){if(e.type&&e.value){var t=s.get(e.type);if(t){t.process(e.value,this._dataSet)}}else if(i.isArray(e)){var r;for(var n=0;n<e.length;n++){r=l.get(e[n].type);if(r){l.storeInfo(this._infos,e[n]);r.process(e[n],this._dataSet,this._dimensions,this._measures)}}}else if(i.isString(e)){var o=[];if(this._infos[e]){o.push(a.clone(this._infos[e]))}return o}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};y.prototype.clearInfo=function(e){if(e){var t=s.get(e);if(t){t.remove(this._dataSet)}}return this};y.prototype.init=function(e){if(!e||!e[d]&&!e[g]){return}var t=[1,1];var i=e[d];var a=0;var s,l,c;if(i){if(i.length>2){r.error(u.getLogMessage("IDS_ERROR_NOT_ACCEPT_2_OR_MORE_AXES"))}for(;a<i.length;a++){var f=i[a];var m=f["index"];if(m!==1&&m!==2){r.error(u.get("IDS_ERROR_AXIS_INDEX_SHOULD_BE_1_OR_2"))}if(this._analysisAxis[m-1]){r.error(u.getLogMessage("IDS_ERROR_AXIS_ALREADY_EXIST",m))}var p=new n(f["data"]);t[m-1]=p.validate();this._analysisAxis[m-1]=p}if(t[0]===0){t[1]=0;this._emptyDataset=true}s=e[g];if(!s){return}for(a=0;a<s.length;a++){l=s[a];var h=l["index"];if(this._measureValuesGroup[h-1]){r.error("MeausreValuesGroup "+h+" "+u.get("IDS_ALREADY_EXISTS"))}c=new o(l["data"]);c.validate(t);this._measureValuesGroup[h-1]=c}}else{s=e[g];for(a=0;a<s.length;a++){l=s[a];c=new o(l["data"]);if(a===0){t=c.validate()}else{c.validate(t)}this._measureValuesGroup[l["index"]-1]=c}}};y.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};y.prototype.getAnalysisAxisByIdx=function(e){return this._analysisAxis[e]};y.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};y.prototype.getMeasureValuesGroupByIdx=function(e){return this._measureValuesGroup[e]};y.prototype.hasFakeData=function(){for(var e=0;e<this._measureValuesGroup.length;e++){if(this._measureValuesGroup[e]&&this._measureValuesGroup[e].hasFakeData()){return true}}for(e=0;e<this._analysisAxis.length;e++){if(this._analysisAxis[e].hasFakeData()){return true}}return false};y.prototype.getDataPointCount=function(){var e=0;var t=0;if(this._measureValuesGroup.length){t=v(this._measureValuesGroup[0].getMeasureValues()[0])}for(var i=0;i<this._measureValuesGroup.length;i++){if(this._measureValuesGroup[i]){e+=t*this._measureValuesGroup[i].getMeasureValues().length}}return e};y.prototype.isEmptyDataset=function(){return this._emptyDataset};y.prototype.ctx2TableData=function(e){var t=function(e,t){var i=e.path.dii_a1;var r=e.path.dii_a2;var a={},n,o;if(!t.getAnalysisAxisByIdx(0)){return null}for(n=0;n<t.getAnalysisAxisByIdx(0).getDimensionLabels().length;n++){o=t.getAnalysisAxisByIdx(0).getDimensionLabels()[n];a[o._uId]=o._values[i]}if(t.getAnalysisAxisByIdx(1)){for(n=0;n<t.getAnalysisAxisByIdx(1).getDimensionLabels().length;n++){o=t.getAnalysisAxisByIdx(1).getDimensionLabels()[n];a[o._uId]=o._values[r]}}return a};var r=function(e,t){var i=e.path.dii_a1;var r=e.path.dii_a2;var a=e.path.mg;var n=e.path.mi;var o={};if(!t.getMeasureValuesGroupByIdx(a)){return null}var s=t.getMeasureValuesGroupByIdx(a).getMeasureValues()[n];var l=s._uId;o[l]=s._values[r][i];return o};var a={};if(i.isPlainObject(e)){a.dimension=t(e,this);a.measure=r(e,this)}else if(i.isArray(e)){a.dimension=t(e[0],this);var n={};for(var o=0;o<e.length;o++){if(!e[o]){continue}var s=r(e[o],this);for(var l in s){if(s.hasOwnProperty(l)){n[l]=s[l]}}}a.measure=n}else{return}return a};y.prototype.ctx2ArrayData=function(e){var t=function(e,t){var i=e.path.dii_a1;var r=e.path.dii_a2;var a=[],n,o;if(!t.getAnalysisAxisByIdx(0)){return null}for(o=0;o<t.getAnalysisAxisByIdx(0).getDimensionLabels().length;o++){n=t.getAnalysisAxisByIdx(0).getDimensionLabels()[o];a.push({key:n._uId,value:n._values[i]})}if(t.getAnalysisAxisByIdx(1)){for(o=0;o<t.getAnalysisAxisByIdx(1).getDimensionLabels().length;o++){n=t.getAnalysisAxisByIdx(1).getDimensionLabels()[o];a.push({key:n._uId,value:n._values[r]})}}return a};var r=function(e,t){var i=e.path.dii_a1;var r=e.path.dii_a2;var a=e.path.mg;var n=e.path.mi;var o=[];if(!t.getMeasureValuesGroupByIdx(a)){return null}var s=t.getMeasureValuesGroupByIdx(a).getMeasureValues()[n];var l=s._uId;o.push({key:l,value:s._values[r][i]});return o};var a={};if(i.isPlainObject(e)){a.dimension=t(e,this);a.measure=r(e,this)}else if(i.isArray(e)){a.dimension=t(e[0],this);var n=[];for(var o=0;o<e.length;o++){if(!e[o]){continue}var s=r(e[o],this);for(var l in s){if(s.hasOwnProperty(l)){n.push(s[l])}}}a.measure=n}else{return}return a};y.prototype.tableData2Ctx=function(e){var t=e.dimension;var r=e.measure;if(i.isEmptyObject(t)&&i.isEmptyObject(r)){return[]}var a;var n=function(e,t){var i=[];for(a=0;a<e.length;a++){if(e[a]===t){i[a]=a}}return i};var o=function(e,t){var i=[],r;if(e.length===0){for(r=0;r<t;r++){i.push(r)}}else{for(r=0;r<e[0].length;r++){var a=true;for(var n=0;n<e.length;n++){if(e[n][r]===undefined){a=false;break}}if(a){i.push(r)}}}return i};var s=function(e,t,i){var r=[];for(var a=0;a<i.length;a++){var o=i[a]._dimensionLabels;for(var s=0;s<o.length;s++){if(e===o[s]._uId){r[a]=n(o[s]._values,t);return r}}}};var l=[];var u=[];for(var c in t){if(t.hasOwnProperty(c)){var f=s(c,t[c],this._analysisAxis);if(f[0]){l.push(f[0])}else if(f[1]){u.push(f[1])}}}var m=[];var p=[];if(this._analysisAxis[0]&&i.isArray(this._analysisAxis[0]._dimensionLabels)){m=o(l,this._analysisAxis[0]._dimensionLabels[0]._values.length)}else{var h=this.getDataPointCount()/this.getMeasureValuesGroupCount();for(a=0;a<h;a++){m.push(a)}}if(this._analysisAxis[1]&&i.isArray(this._analysisAxis[1]._dimensionLabels)){p=o(u,this._analysisAxis[1]._dimensionLabels[0]._values.length)}else{p.push(0)}var d=this._measureValuesGroup.length;var g=function(e,t,i,r,n,o){var s=[];for(a=0;a<i.length;a++){for(var l=0;l<t.length;l++){var u={};u[r]=e[i[a]][t[l]];u.mg=n;u.mi=o;u.dii_a1=t[l];u.dii_a2=i[a];s.push(u)}}return s};var v=[];for(a=0;a<d;a++){var y=this._measureValuesGroup[a]._measureValues;for(var _=0;_<y.length;_++){var A=y[_]._values;v=v.concat(g(A,m,p,y[_]._uId,a,_))}}var b=[];var S=function(e){var t={};t.dii_a1=e.dii_a1;t.dii_a2=e.dii_a2;t.mg=e.mg;t.mi=e.mi;return t};if(i.isEmptyObject(r)){for(a=0;a<v.length;a++){b.push(S(v[a]))}}else{for(a=0;a<v.length;a++){for(c in r){if(r[c]===v[a][c]){b.push(S(v[a]))}}}}return b};y.prototype.toJSON=function(e){var t="sap.viz.data.CrosstableDataset";var r=this.data();var a=this.info();a=i.isArray(a)&&a.length>0?a:undefined;var n,o;if(e&&e.emptyDataset===true){var s=function(e){for(o=0;o<e.length;o++){if(e[o].values&&i.isArray(e[o].values)){e[o].values=[]}if(e[o].infos&&i.isArray(e[o].infos)){delete e[o].infos}}};if(r[d]){var l=r[d];for(n=0;n<l.length;n++){s(l[n].data)}}if(r[g]){var u=r[g];for(n=0;n<u.length;n++){s(u[n].data)}}a=undefined}var c={id:t,data:r,info:a};return c};y.fromJSON=function(e){if(!i.isPlainObject(e)||e.id!=="sap.viz.data.CrosstableDataset"||!e.hasOwnProperty("data")){return}var t=a.clone(e.data);var r=a.clone(e.info);var n=new y;n.data(t);n.info(r);return n};return y});define("sap/viz/api/data/CrosstableDataset",["sap/viz/framework/chartmodel/CrosstableDataset","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","exports"],function e(t,i,r){var a=function(){this._crosstableDataset=new t;this.type="sap.viz.api.data.CrosstableDataset"};a.prototype.data=function(e){if(e!==undefined){this._crosstableDataset.data(e)}else{return this._crosstableDataset.data()}};a.prototype.info=function(e){if(e!==undefined&&!r.isString(e)){this._crosstableDataset.info(i.clone(e))}else if(r.isString(e)){return i.clone(this._crosstableDataset.info(e))}else{return i.clone(this._crosstableDataset.info())}};a.prototype.toJSON=function(e){return this._crosstableDataset.toJSON(e)};a.fromJSON=function(e){if(!r.isPlainObject(e)||e.id!=="sap.viz.data.CrosstableDataset"||!e.hasOwnProperty("data")){return}var t=i.clone(e.data);var n=i.clone(e.info);var o=new a;o.data(t);o.info(n);return o};a.prototype.hasFakeData=function(){return this._crosstableDataset.hasFakeData()};a.prototype.destroy=function(){this._crosstableDataset=null;this.type=null};return a});define("sap/viz/framework/chartmodel/info/FlatTableInfoHandler",[],function(){var e={};var t={};var i={process:function(e,t){if(t.type!="geo"){return}if(e==null){e={}}e[t.type]=t.info;return e},find:function(e,t,i){var r=e["geo"];var a=r[t];var n;if(a==null){return}for(var o=0;o<i.length;++o){var s=i[o];if(n==null){n=[]}n.push(a[s])}return n}};var r={process:function(e,t){if(t.type!="additionalData"){return}if(e==null){e={}}e[t.type]=t.info;return e},find:function(e,t,i){var r=e["additionalData"];var a=r[t];var n;if(a==null){return}for(var o=0;o<i.length;++o){var s=i[o];if(n==null){n=[]}n.push(a[s])}return n}};t.get=function(t){return e[t]};t.register=function(t,i){e[t]=i};t.register("geo",i);t.register("additionalData",r);return t});define("sap/viz/framework/chartmodel/FlatTableDataset",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/chartmodel/info/FlatTableInfoHandler","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/lang/LangManager"],function(e,t,i,r,a){var n="fields";var o="data";var s="_context_row_number";var l="Measure";var u="Dimension";var c="semanticType";var f=function(e,t){this._infoset={};if(t){this._isClone=!t.skipCloneData}else{this._isClone=true}if(e){this.data(e);if(this._dataset.info!=null){this.info(this._dataset.info)}this._emptyDataset=false}else{this._emptyDataset=true}};f.prototype.destroy=function(){this._infoset=null;this._table=null;this._data=null;this._dataset.data=null;this._dataset.metadata=null;this._dataset=null;this._emptyDataset=null};f.prototype._getTypeByIndex=function(e){var t=this._dataset.metadata.fields[e].semanticType;if(t===u){return"Dimension"}else if(t===l){return"Measure"}};var m=Number.MAX_SAFE_INTEGER||9007199254740991;f.prototype.data=function(e){if(e!=null){this._dataset=this._isClone?t.clone(e):e;var i=this._dataset.data;var r=this._dataset.metadata.fields;if(this._dataset.metadata.context){this._dataset.context=this._dataset.metadata.context}if(i){var a,n,s,l;for(a=0,s=r.length;a<s;a++){if(r[a].semanticType==="Measure"){for(n=0,l=i.length;n<l;n++){var u=i[n][a];var c=Object.prototype.toString.call(u);var f=+u;if(c!=="[object Number]"&&c!=="[object String]"||isNaN(f)||u.trim&&u.trim()===""){i[n][a]=null}else if(c!=="[object String]"||Math.abs(f)<m){i[n][a]=f}}}}}this._data=this._dataset[o]?this._dataset[o]:[];this._table=null;return this}return{metadata:this._isClone?t.clone(this._dataset.metadata):this._dataset.metadata,data:this._isClone?t.clone(this._dataset.data):this._dataset.data}};f.prototype.getMetadata=function(e){if(e===s){return[{id:s,name:s}]}var i=this._dataset.metadata[n];for(var r=0,a=i.length;r<a;++r){var o=i[r];if(o.id===e){o=t.clone(o);o.index=r;return[o]}}return[]};f.prototype.getMetadataByIndex=function(e){return this._dataset.metadata[n][e]};function p(t,i){var r=t;var a=false;if(!e.isArray(t)){r=[t]}for(var n=0;n<r.length;++n){var o=r[n];if(o.id){o=o.id}if(o===i){a=true;break}}return a}f.prototype._getColumnIdOfSemanticType=function(e){var t=this._dataset.metadata[n];var i=[];var r=t.length;for(var a=0;a<r;++a){var o=t[a];if(o[c]===e){if(this._dataset.context){if(p(this._dataset.context,o.id)){continue}}i.push(o.id)}}return i};f.prototype.getMeasures=function(){return this._getColumnIdOfSemanticType(l)};f.prototype.getDimensions=function(){return this._getColumnIdOfSemanticType(u)};f.prototype.getTable=function(){if(this._table!=null){return this._table}var e=this._dataset.metadata[n];var t=this._data;var i=[];for(var r=0;r<t.length;++r){var a={};for(var o=0;o<e.length;++o){a[e[o].id]=t[r][o]}i.push(a)}this._table=i;return this._table};f.prototype.getRow=function(e){var t=this._data[e];if(t==null){return}return t.slice(0)};f.prototype.query=function(e){var t=[];var i=true;for(var r=0,a=this._data.length;r<a;r++){var n=this._data[r];i=true;for(var o in e){if(e.hasOwnProperty(o)){var s=this.getMetadata(o);if(s&&s.length>0&&n[s[0].index]!==e[o]){i=false;break}}}if(i){t.push(r)}}return t};f.prototype.setRow=function(t,i){var r=this._data.length;if(!r||t>=r){return}var a=this._dataset.metadata[n].length;var o={};var l=[],u;if(e.isArray(i)){for(var c=0;c<a-1;++c){u=this._dataset.metadata[n][c].id;o[u]=i[c];l[c]=i[c]}var f=this._dataset.metadata[n][a-1].id;if(f===s){o[s]=this._data[t][a-1];l[a-1]=this._data[t][a-1]}else{o[f]=i[a-1];l[a-1]=i[a-1]}}else{return}this._data[t]=l;if(this._table){this._table[t]=o}};f.prototype._getInfoOfSelectedColumnsByRowIndex=function(t,r){var a=null;for(var n in this._infoset){if(this._infoset.hasOwnProperty(n)){var o=this._infoset[n];var s=null;if(o==null){continue}var l=i.get(n);if(l!=null&&e.isFunction(l.find)){s=l.find(this._infoset,r,t)}if(a==null&&s!=null){a={}}if(a!=null){a[n]=s}}}return a};f.prototype._getAllColumnIds=function(){var e=this._dataset.metadata[n];var t=[];var i=e.length;for(var r=0;r<i;++r){t.push(e[r].id)}return t};f.prototype.getContext=function(){if(e.isArray(this._dataset.context)){return this._dataset.context}else if(this._dataset.context){return[this._dataset.context]}else{return[]}};f.prototype.columnDataInFields=function(i){if(i!==undefined&&!e.isArray(i)){r.error("Invalid Parameter")}if(i==null||i.length===0){return this._data.slice(0)}var a=this._data;var n=i.length;var o=a.length;var s=this._getAllColumnIds();var l={};for(var u=0;u<n;++u){var c=i[u];var f=s.indexOf(c);l[c]=l[c]||[];var m=l[c];if(!m.length){m.length=o}for(var p=0;p<o;++p){var h=a[p][f];if(e.isArray(h)){h=h.slice()}else if(h instanceof Object){h=t.extend(true,{},h)}m[p]=h}}return{data:l}};f.prototype.dataInFields=function(i){if(i!==undefined&&!e.isArray(i)){r.error("Invalid Parameter")}if(i==null||i.length===0){return this._data.slice(0)}else{var a=this._data;var n=this._infoset!=null;var o=[],l;var u=[];var c=this._getAllColumnIds();var f=0;for(l=0;l<i.length;++l){u.push(c.indexOf(i[l]))}for(l=0;l<a.length;++l){var m=[];var p=null;if(i[0]===s){m.push(f++)}else{for(var h=0;h<u.length;++h){var d=u[h];var g=a[l][d];if(e.isArray(g)){m.push(g.slice(0))}else if(g instanceof Object){m.push(t.extend(true,{},g))}else{m.push(g)}}p=this._getInfoOfSelectedColumnsByRowIndex(u,l)}o.push({data:m,info:p})}return o}};f.prototype.info=function(t){if(t==null){var r=[];if(this._infoset["additionalData"]!=null){r.push({type:"additionalData",info:this._infoset["additionalData"]})}return r}else if(e.isString(t)){return[{type:t,info:this._infoset[t]}]}else if(e.isArray(t)){for(var a=0;a<t.length;++a){var n=t[a];var o=i.get(n.type);if(o!=null&&e.isFunction(o.process)){this._infoset=o.process(this._infoset,n)}}return this}};f.prototype.isEmptyDataset=function(){if(this.getDataPointCount()===0){return true}else{return false}};f.prototype.getDataPointCount=function(){var e=0;if(this._dataset.data&&this._dataset.data[0]){e=this._dataset.data[0].length*this._dataset.data.length}return e};f.prototype.hasFakeData=function(){if(this._dataset.metadata.fields&&this._dataset.metadata.fields[0]){var e=this._dataset.metadata.fields;for(var t=0;t<e.length;t++){if(e[t].semanticType&&(e[t].semanticType===u||e[t].semanticType===l)&&e[t].isFake===true){return true}}}return false};f.prototype.ctx2TableData=function(e){var t={};if(!Array.isArray(e)){e=[e]}var i={};var r={};for(var a=0;a<e.length;a++){var n=e[a];if(!n){continue}var o=this.getRow(n.row);for(var s=0;s<o.length;s++){var c=this.getMetadataByIndex(s);if(c.semanticType===u){i[c.name]=o[s]}else if(c.semanticType===l&&s===n.col){r[c.name]=o[s]}}}t.dimension=i;t.measure=r;return t};f.prototype.toJSON=function(e){var i="sap.viz.data.FlatTableDataset";var r=this.data();var a=this._isClone?t.clone(this._infoset):this._infoset;var n=[];for(var o in a){if(a.hasOwnProperty(o)){var s={};s.type=o;s.info=a[o];n.push(s)}}n=n.length>0?n:undefined;if(e&&e.emptyDataset===true){r.data=[];n=undefined}var l={id:i,data:r,info:n};return l};f.fromJSON=function(i,r){if(!e.isPlainObject(i)||i.id!=="sap.viz.data.FlatTableDataset"||!i.hasOwnProperty("data")){return}var a=true;if(r){a=!r.skipCloneData}var n;if(a){n=t.clone(i.data);var o=t.clone(i.info);if(o!==undefined){n.info=o}}else{n={};for(var s in i.data){if(i.data.hasOwnProperty(s)){n[s]=i.data[s]}}if(i.info!==undefined){n.info=i.info}}var l=new f(n,r);return l};return f});define("sap/viz/api/data/FlatTableDataset",["sap/viz/framework/chartmodel/FlatTableDataset","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ObjectUtils","exports"],function e(t,i,r,a,n){var o=function(){if(arguments.length==1&&arguments[0]&&arguments[0].skipCloneData!==undefined&&!arguments[0].data){this._FlatTableD=new t(undefined,arguments[0])}else{this._FlatTableD=new t(arguments[0],arguments[1])}this.type="sap.viz.api.data.FlatTableDataset"};o.prototype.data=function(e){return this._FlatTableD.data(e)};o.prototype.metadata=function(e){if(e!=null){return this._FlatTableD.getMetadata(e)}else{r.warn(a.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}};o.prototype.measures=function(){return this._FlatTableD.getMeasures()};o.prototype.dimensions=function(){return this._FlatTableD.getDimensions()};o.prototype.table=function(){return this._FlatTableD.getTable()};o.prototype.row=function(e,t){if(i.isNumber(e)){if(i.isPlainObject(t)||i.isArray(t)){this._FlatTableD.setRow(e,t)}else{return this._FlatTableD.getRow(e)}}};o.prototype.dataInFields=function(e){return this._FlatTableD.dataInFields(e)};o.prototype.info=function(e){return this._FlatTableD.info(e)};o.prototype.toJSON=function(e){return this._FlatTableD.toJSON(e)};o.fromJSON=function(e,i){var r=new o(null,i);r._FlatTableD=t.fromJSON(e,i);return r};o.prototype.hasFakeData=function(){return this._FlatTableD.hasFakeData()};o.prototype.getContext=function(){return this._FlatTableD.getContext()};o.prototype.destroy=function(){if(this._FlatTableD){this._FlatTableD.destroy()}this._FlatTableD=null;this.type=null};return o});define("sap/viz/api/core",["sap/viz/framework/core/ChartViewRegistry","sap/viz/api/core/VizInstance","sap/viz/migrate/bindingMigrator","sap/viz/framework/common/lang/LangManager","sap/viz/api/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/framework/common/log/Logger","sap/viz/migrate/MigrationTool","exports"],function(e,t,i,r,a,n,o,s){return{createViz:function(i){i.properties=i.properties||i.options;i=s.migrate(i);var r=new t(e,i);return r},destroyViz:function(){for(var e=-1,t=arguments.length;++e<t;){arguments[e].destroy()}},exportViz:function(e,t){return e.toJSON(t)},loadViz:function(e,t){if(arguments.length===2){var i=JSON.parse(JSON.stringify(e));i=s.migrate(i,true);i.container=t;var l=null;l=i.data;l.data=l.val;if(i.data.type==="Crosstable"){l.id="sap.viz.data.CrosstableDataset";l=a.fromJSON(l)}else if(i.data.type==="FlatTable"){l.id="sap.viz.data.FlatTableDataset";l=n.fromJSON(l)}i.data=l;return this.createViz(i)}else{o.warn(r.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}},getValueScales:function(i){var r=i.scales;delete i.scales;i.properties=i.properties||i.options;i=s.migrate(i);i.bNoRender=true;var a=new t(e,i);delete i.bNoRender;var n=a._getValueScales();a.destroy();i.scales=r;return n}}});define("sap/viz/framework/common/util/NameColorUtils",["sap/viz/framework/common/util/ObjectUtils"],function e(t){var i={};var r=/^ *(#[a-f0-9]{6}|#[a-f0-9]{3}|(rgb|rgba|hsl|hsla) *\([^)]*\)|AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGray|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGray|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGray|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gray|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGray|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGray|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGray|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen|DarkGrey|DarkSlateGrey|DimGrey|Grey|LightGrey|LightSlateGrey|SlateGrey) *$/i;var a=false;var n={constructor:function(){return},register:function(e){a=true;i=t.extendByRepalceArray(true,null,i,e);return n},convertColor:function(e){if(!a){return e}var t=null;if(i.hasOwnProperty(e)){t=i[e]}var n=null;if(t){n=t}else if(r.test(e)){n=e}else{n="#000000"}return n}};return n});define("sap/viz/framework/common/format/UnitFormat",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/format/XCFormat"],function e(t,i,r,a,n){function o(e,t){var i=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/i}:function(e){return e*i},symbol:e}}var s=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(o);var l=d3.formatPrefix;var u=1;function c(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function f(e,t){var i=0;if(e){if(e<0){e*=-1}if(t){e=d3.round(e,c(e,t))}i=1+Math.floor(1e-12+Math.log(e)/Math.LN10);i=Math.max(-24,Math.min(24,Math.floor((i<=0?i+1:i-1)/3)*3))}return s[8+i/3]}function m(e,t){var i="";for(var r=0;r<t;r++){i+=e}return i}var p={useLatestFormatPrefix:false};var h={format:function(e,t,a,o){if(e===null||e===undefined){return null}if(!p.useLatestFormatPrefix){d3.formatPrefix=f}var s,c;var d="[CVOM#PFIX]",g="[CVOM#SFIX]";var v=11;if(t){var y=t.indexOf(d);var _=t.lastIndexOf(d);if(y>=0&&_>=0&&y!==_){s=t.substring(y+v,_);t=t.substring(_+v)}y=t.indexOf(g);_=t.lastIndexOf(g);if(y>=0&&_>=0&&y!==_){c=t.substring(y+v,_);t=t.substring(0,y)}}var A="[CVOM#UNIT]";var b,S,M,D,E,T,x,I;if(typeof t==="string"&&t.charAt(t.length-1)==="u"){if(typeof e==="number"||typeof e==="string"){M=e;S="";E=d3.format("s");while(t.charAt(t.length-1)==="u"){b=E(M);b=b.replace("","-");if(isNaN(b.charAt(b.length-1))){S=b.substr(b.length-1,1)+S;if(a!==r.UNITFORMATTYPE.METRICUNITS&&S==="G"){S="B"}b=b.substr(0,b.length-1)}M=parseFloat(b);t=t.substring(0,t.length-1)}M=parseFloat(M.toPrecision(8));if(Math.abs(M)>=1e12||Math.abs(M)<.001&&Math.abs(M)>0){b=M.toExponential();T=b.indexOf("e");S=b.substring(T)+S;M=parseFloat(b.substring(0,T))}b=h.format(M,t);D=b+S}else{D=e}}else if(typeof t==="string"&&t.substring(t.length-A.length-1,t.length-1)===A){if(typeof e!=="number"){D=e}else{var z=t.charAt(t.length-1).toUpperCase();var N=true,w=t.indexOf("["),O={K:3,M:6,B:9,T:12}[z]||0;D=e/Math.pow(10,O);D=i.format(D,t.substring(0,w));D+=z==="K"?"k":z}}else{x=e.toString();T=x.indexOf("e");var F=n.getDecimalSeparator();var L=new RegExp("([\\d|\\"+F+"|#]+)[eE][+-]([\\d|\\"+F+"|#])","g");var R=[],C,k;while((C=L.exec(t))!=null){R.push(L.lastIndex)}if(typeof e==="number"&&R.length===1){k=R[0]-3;var P=t.substring(0,k);var B,V;if(T===-1){x=e.toExponential();T=x.indexOf("e");V=x.substring(T+1);if(V[0]==="+"&&V[1]!=="0"){var U,H;var G=P.search(/[\d|#]/g);if(G!==-1){H=P.substring(G);U=H.indexOf(F);if(U===-1){U=H.length}var Y=V-(U-u);if(Y<=0){x=e.toString()+"e+0"}else if(U!==u){var j=0;if(x[0]==="-"){j=1}var q=x.substring(2+j,U+1+j);var W=x.substring(u+U+j,T+2);var K=q.indexOf("e");if(K>-1){q=q.substr(0,K)+m("0",q.length-K);W=x.substring(T,T+2)}else if(x.indexOf(".")===-1){q=m("0",U-1);W=x.substring(T,T+2)}x=x.substring(0,1+j)+q+"."+W+Y}}T=x.indexOf("e")}}B=x.substring(0,T);V=x.substring(T+1);I=i.format(parseFloat(B),P);var X=t.substring(k+1);if(V[0]==="+"&&X[0]==="-"){X="+"+X.substring(1)}else if(V[0]==="-"){X=X.substring(1)}D=i.format(parseFloat(V),X);if(X.indexOf("#")!==-1&&D.length===1){D="+0"}D=I+t.substring(k,k+1)+D}else{D=i.format(e,t,undefined,o)}}D=s?s+D:D;D=c?D+c:D;if(!p.useLatestFormatPrefix){d3.formatPrefix=l}return D},register:function(e){p=a.extendByRepalceArray(true,null,p,e);return h}};h.cache={};h.SUPPORT_CUSTOM_COMPONENTS=i.SUPPORT_CUSTOM_COMPONENTS;h.getDecimalFormatString=i.getDecimalFormatString;return h});define("sap/viz/api/env",["sap/viz/framework/core/env","sap/viz/framework/core/config","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/format/UnitFormat","exports"],function e(t,i,r,a,n,o,s,l){var u={globalSettings:function(e){var u;if(arguments.length===1&&r.isPlainObject(e)){u=a.clone(e);if(u.enableCanvg){t.initialize(u)}if(u.enableCanvgConfig&&r.isPlainObject(u.enableCanvgConfig)){for(var c in u.enableCanvgConfig){if(u.enableCanvgConfig.hasOwnProperty(c)){i.register({id:c,value:u.enableCanvgConfig[c]})}}}if(u.colorMapping&&r.isPlainObject(u.colorMapping)){s.register(u.colorMapping)}if(u.useLatestFormatPrefix&&u.useLatestFormatPrefix===true){l.register({useLatestFormatPrefix:true})}if(u.treatAsMobile){if(["auto","on","off"].indexOf(u.treatAsMobile)>-1){i.globalSetting("treatAsMobile",u.treatAsMobile)}}if(u.UI5Date){i.register({id:"UI5Date",value:u.UI5Date})}if(typeof u.disableTooltipTimer==="boolean"){i.globalSetting("disableTooltipTimer",u.disableTooltipTimer)}}else if(arguments.length===0){u={};if(t.getEnvSetting()&&t.getEnvSetting().enableCanvg){u={enableCanvg:t.getEnvSetting().enableCanvg}}if(i.getConfigs()){var f={enableCanvgConfig:i.getConfigs()};u=a.extend(true,{},u,f)}return u}else{n.warn(o.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}}};return u});define("sap/viz/api/env/Format",["sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/format/UnitFormat","exports"],function e(t,i,r){var a={numericFormatter:function(e){return t.formatFunc(e)},useDefaultFormatter:function(e){if(e===true||e===false){t.useDefaultFormatter(e)}return t.useDefaultFormatter()},customDefaultFormatter:function(){if(!arguments.length){return t.customDefaultFormatter()}return t.customDefaultFormatter(arguments[0])},format:r.format,DEFAULT_FORMATTED_VALUE:t.DEFAULT_FORMATTED_VALUE};return a});define("sap/viz/api/env/Language",["sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","exports"],function e(t,i,r){var a={set:function(e,a,n){if(i.isString(e)&&(arguments.length===1||arguments.length===2&&i.isFunction(a)||arguments.length===3&&i.isFunction(a)&&i.isFunction(n))){t.apply(e,a,n);return e}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},get:function(){return t.current()},getErrorMessage:function(e){if(i.isNumber(e)){return t.getLogMessageByID(e)}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}}};return a});define("sap/viz/api/env/Locale",["sap/viz/framework/common/locale/Locale","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","exports"],function e(t,i,r,a){var n={set:function(e,o,s){if(i.isString(e)&&(arguments.length===1||(arguments.length===2||arguments.length===3)&&(o==null||i.isFunction(o)))){t.locale(e,o,s);return n}else{r.warn(a.getLogMessage("IDS_WARN_LOCALE_NOT_CORRECT"));return}},get:function(){return t.locale()}};return n});define("sap/viz/api/env/Resource",["sap/viz/framework/common/template/TemplateManager","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","exports"],function(e,t,i,r){function a(e){return i.isArray(e)?e.slice():[e]}function n(e){return i.isArray(e)?e[0]:e}var o={"sap.viz.GeoManager.resourcePath":{path:"../../resources",setPath:function(e){var t=sap&&sap.viz&&sap.viz.GeoManager;if(t){t.resourcePath(n(e))}}},"sap.viz.api.env.Template.loadPaths":{path:e.loadPath,setPath:function(t){e.loadPath=a(t)}},"sap.viz.api.env.Language.loadPaths":{path:t.loadPath,setPath:function(e){t.loadPath=a(e)}},"sap.viz.env.Language.loadPaths.sdk":{path:["../../../resources/langs/sdk/"],setPath:function(e){t.loadPath=a(e)}},"sap.viz.map.Resources":{path:["../../resources"]}};o["sap.viz.extapi.env.Template.loadPaths"]=o["sap.viz.api.env.Template.loadPaths"];o["sap.viz.extapi.env.Language.loadPaths"]=o["sap.viz.api.env.Language.loadPaths"];function s(e,t){var i=o[e]=o[e]||{};i.path=t;if(i.setPath){i.setPath(t)}}function l(e){if(!e){var t={};for(var r in o){if(o.hasOwnProperty(r)){var a=o[r]&&o[r].path;t[r]=i.isArray(a)?a.slice():a}}return t}if(!o.hasOwnProperty(e)){return null}var n=o[e];var s=n&&n.path;return i.isArray(s)?s.slice():s}var u={path:function(){if(arguments.length===1&&i.isString(arguments[0])){return l(arguments[0])}else if(arguments.length===2&&i.isString(arguments[0])){s(arguments[0],arguments[1])}else if(arguments.length===0){return l()}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"))}return u}};return u});define("sap/viz/api/env/Template",["sap/viz/framework/common/template/TemplateManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","exports"],function e(t,i,r,a){var n={};var o={set:function(e,n,s){if(i.isString(e)&&(arguments.length===1||arguments.length===2&&i.isFunction(n)||arguments.length===3&&i.isFunction(n)&&i.isFunction(s))){t.apply(e,n,this,s);return o}else{r.warn(a.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},get:function(){return t.current().id},load:function(e,i,r){t.load(e,i,r);return o},addListener:function(e){if(arguments.length===1&&i.isFunction(e)){var s={fn:e};t.addListener(s);n[e]=n[e]||[];n[e].push(s);return o}else{r.warn(a.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&i.isFunction(e)){if(n[e]){for(var s=0;s<n[e].length;s++){if(n[e][s].fn===e){t.removeListener(n[e][s]);n[e].splice(s,1);break}}}return o}else{r.warn(a.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}}};return o});define("sap/viz/api/interaction/Behavior",["sap/viz/framework/interaction/Behavior","sap/viz/framework/interaction/ActionItem","exports"],function(e,t,i){function r(t){this.id=t&&t.id?t.id:"";this._sdkBehavior=new e}var a=r.prototype;a.add=function(e){if(e&&e.trigger&&!e.triggerEvent){e.triggerEvent=e.trigger}this._sdkBehavior.addActionByDef(e)};a.remove=function(e){this._sdkBehavior.removeActionById(e)};return r});define("sap/viz/api/interaction",["sap/viz/api/interaction/Behavior","sap/viz/framework/interaction/BehaviorManager","exports"],function(e,t){return{add:function(e){if(e&&e.id){t.register(e.id,e._sdkBehavior)}},remove:function(e){t.unregister(e)},getBehaviorById:function(i){if(i&&t.has(i)){var r=new e({id:i});r._sdkBehavior=t.get(i).clone();return r}return null}}});define("sap/viz/api/log/Appender",["sap/viz/framework/common/log/Logger","exports"],function e(t){var i={};i.ConsoleAppender=t.ConsoleAppender;i.DivAppender=t.DivAppender;i.AjaxAppender=t.AjaxAppender;return i});define("sap/viz/api/log/Layout",["sap/viz/framework/common/log/Logger","exports"],function e(t){var i={};i.DefaultLayout=t.DefaultLayout;i.HTMLLayout=t.HTMLLayout;i.XMLLayout=t.XMLLayout;i.JSONLayout=t.JSONLayout;return i});define("sap/viz/api/log/Logger",["sap/viz/framework/common/log/Logger","exports"],function e(t){var i={};i.LEVEL={};i.LEVEL.OFF=t.LEVEL.NO;i.LEVEL.TRACE=t.LEVEL.TRACE;i.LEVEL.DEBUG=t.LEVEL.DEBUG;i.LEVEL.INFO=t.LEVEL.INFO;i.LEVEL.WARN=t.LEVEL.WARN;i.LEVEL.ERROR=t.LEVEL.ERROR;var r=[i.LEVEL.OFF,i.LEVEL.TRACE,i.LEVEL.DEBUG,i.LEVEL.INFO,i.LEVEL.WARN,i.LEVEL.ERROR];i.appenders=function(e){if(arguments.length>0){for(var i=0;i<e.length;i++){t.addAppender(e[i])}return this}return t.getAppenders()};i.level=function(e){if(arguments.length>0){if(r.indexOf(e)<0){return t.level}t.level=e;if(t.level===i.LEVEL.OFF){t.disable()}else{t.enable()}}else{return t.level}};return i});define("sap/viz/api/serialization",["sap/viz/migrate/MigrationTool","sap/viz/migrate/bindingMigrator","exports"],function(e,t){var i={migrate:function(t){return e.migrate(t)},feedsIdToBindingId:function(e,i){if(!e||!i){return null}var r=t.getFeedingMap();if(!t.isSupportedChart(e)){return null}if(!r[i]){return null}else{return r[i]}}};return i});define("sap/viz/framework/flow/FlowConstant",[],function(){var e={CONST_DEFAULT_TYPE:"DIV",CONST_DEFAULT_ELEMENT_PATH:"root.modules.main.modules.plot",CONST_SVG_TYPE:"SVG",CONST_POSITION_LEFT:"left",CONST_POSITION_RIGHT:"right",CONST_POSITION_TOP:"top",CONST_POSITION_BOTTOM:"bottom",CONST_POSITION_CENTER:"center",CONST_TITLE_NAME:"sap.viz.modules.title",CONST_LEGEND_NAME:"sap.viz.modules.legend.common",CONST_LEGENDS_NAME:"sap.viz.modules.legend",CONST_LEGENDS_MODULE_KEY:"legends",CONST_INTERACTION_NAME:"sap.viz.modules.controller.interaction",CONST_DATA_FILTER_NAME:"sap.viz.modules.dataFilter"};return e});define("sap/viz/framework/flow/Flow",["sap/viz/framework/flow/FlowConstant","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/FunctionUtils"],function(e,t,i,r){var a=["BorderSVGFlow","BorderDIVFlow","SVG","DIV"];var n=function(e,t){if(a.indexOf(t)<0){r.error(i.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}this.elements=[];this.type=t;this.id=e?e.id:null;this.name=e?e.name:null;this.dataModel=e.dataModel};n.prototype.addElement=function(e){if(e!=null){if(e.element){if(!e.place){e.place="center"}if(!e.propertyCategory){e.propertyCategory="plotArea"}e.id=e.propertyCategory;this.elements.push(e)}}};return n});define("sap/viz/framework/common/util/RequireUtil",["require"],function(e){var t={syncRequire:function(t,i,r){if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){var a=requirejs.s.contexts._.nextTick;requirejs.s.contexts._.nextTick=function(e){e()};if(r){t=t.map(function(t){if(e&&!e.defined(t)){return t+"/v3"}else{return t}})}(e||require)(t,function(){i.apply(this,arguments)});requirejs.s.contexts._.nextTick=a}},syncRequireV3:function(e,t){this.syncRequire(e,t,true)}};return t});define("sap/viz/framework/flow/Element",["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/RequireUtil"],function(e,t,i,r,a,n,o){var s=function(e){this.elementDefinition={};for(var t in e){if(e.hasOwnProperty(t)){if(t!=="type"){this.elementDefinition[t]=e[t]}}}this.bindingDefinition=[];this.properties={};this.implementFn=null;this.id=e?e.id:null;if(e&&e.fn){this.implementFn=e.fn}};s.prototype.addFeed=function(e){this.addBindingDefition(e)};var l=function(e){var t={};for(var i in e){if(e.hasOwnProperty(i)){t[i]=e[i];if(i==="type"&&e[i]==="Dimension"){t.role="mark.color"}else if(i==="type"&&e[i]==="Measure"){t.role="layout.value"}else if(i==="acceptMND"){t.acceptMND=e[i]>=0}}}return t};s.prototype.addBindingDefition=function(e){if(t.isArray(e)){var i=e.length;for(var r=0;r<i;r++){this.bindingDefinition.push(l(e[r]))}}else{this.bindingDefinition.push(l(e))}};var u=function(e,t){if(t!==undefined){var i=t.length;for(var r=0;r<i;r++){if(e[t[r]]===undefined){return false}}}return true};var c=["defaultValue","readonly","serializable"];var f=function(e){for(var t in e){if(e.hasOwnProperty(t)){var i=e[t];var r=false;c.forEach(function(e){if(i[e]!==undefined){r=true}});if(!r){return false}}}return true};var m=function(e,t,i){if(!i){i={};m(e,undefined,i);return i}var r={};var a=t?t+"."+e.name:e.name;if(e.type==="Object"||e.supportedValueType==="Object"){var n=e.supportedValues;if(n){for(var o in n){if(n.hasOwnProperty(o)){m(n[o],a,i)}}}}else{r.defaultValue=e.defaultValue;r.readonly=false;r.serializable=true;i[a]=r}};var p=["name","type"];var h=function(e,t){var n;o.syncRequireV3(["sap/viz/chart/components/UIComponent"],function(e){if(e){var o=e.prototype;n=function(){n.superclass.constructor.apply(this,arguments)};a.extend(n,e);for(var s in t){if(t.hasOwnProperty(s)){n.prototype[s]=t[s];n[s]=t[s]}}n.prototype._manifest={};return n}else{i.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}});return n};s.prototype.implement=function(e,t){var i=h(e,t);this.implementFn=i};s.prototype.addProperty=function(t){if(u(t,p)){this.addProperty(m(t))}else if(f(t)){var a={};for(var o in t){if(t.hasOwnProperty(o)){a[o]={};["defaultValue","readonly","serializable"].forEach(function(e){a[o][e]=t[o][e]})}}var s=a["colorPalette"];if(s&&!s.defaultValue){s.defaultValue=n.COLOR.SAPColorSingleAxis}e.extend(true,this.properties,a)}else{i.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}};return s});define("sap/viz/framework/flow/flowModule/DataFilter",["sap/viz/framework/common/util/EventDispatch"],function e(t){var i="showDataFilter",r="hideDataFilter",a="selectData",n="30px",o="160px";var s=function(e,i){this._eventDispatch=new t;this._runtime=e;this._chartDiv=null;this._filterDiv=null;this._runtime.propertyManager().add({tooltip:{preRender:null,postRender:null}});this._eventDispatch.addEventTypes(a)};s.prototype.render=function(e){if(!e){return}this._chartDiv=e.node().parentNode;this._removeDataFilterDiv()};s.prototype.getDispatch=function(){return this._eventDispatch};s.prototype.show=function(e){var t,i,r,n;this._createDataFilterDiv();if(e&&this._filterDiv&&this._runtime){r=this._runtime.propertyManager();i=r.get("tooltip.preRender");n=r.get("tooltip.postRender");t=e.dataCtx;if(i&&n&&t){i.call(window,this._filterDiv,t);n.call(window,this._filterDiv,t);if(e.options&&e.options.position){this._filterDiv.style({left:e.options.position.x+"px",top:e.options.position.y+"px",right:undefined})}this._eventDispatch[a]({data:t})}}};s.prototype.hide=function(e){this._removeDataFilterDiv()};s.prototype._createDataFilterDiv=function(){if(this._chartDiv){this._removeDataFilterDiv();this._filterDiv=d3.select(this._chartDiv).insert("div",true);this._filterDiv.attr("id","datafilter").style({position:"absolute",width:o,height:n,right:"0px",top:"0px"})}};s.prototype._removeDataFilterDiv=function(){if(this._filterDiv){this._filterDiv.remove()}};s.prototype.destroy=function(){if(this._eventDispatch){this._eventDispatch.destroy()}this._runtime=null;this._eventDispatch=null};s.EVENT_SHOW=i;s.EVENT_HIDE=r;s.EVENT_SELECT_DATA=a;return s});define("sap/viz/framework/chartmodel/MultiAxesDataAdapterDecorator",[],function(){var e=function(e){e.dataPointCount=function(){return this.dataset._crosstableDataset.getDataPointCount()}};var t=function(e){if(!e._aa){var t=e.dataset._crosstableDataset,i=t.getAnalysisAxisCount(),r=[];for(var a=0;a<i;a++){var n=t.getAnalysisAxisByIdx(a);var o={index:a,values:[]};var s=n.getDimensionLabels();for(var l=0;l<s.length;l++){var u=s[l];var c={};c.col={val:u._uId};var f=[];for(var m=0;m<u._values.length;m++){var p=u._values[m];f.push({val:p,ctx:{type:"Dimension",path:{aa:a,di:l,dii:m}}})}c.rows=f;o.values.push(c)}r.push(o)}e._aa=r}e.getAnalysisAxisDataByIdx=function(e){if(!arguments.length){return this._aa}for(var t=0;t<this._aa.length;t++){if(this._aa[t].index===e){return this._aa[t]}}return null}};var i=function(e){if(!e._mg){var t=e.dataset._crosstableDataset,i=t.getMeasureValuesGroupCount(),r=[];for(var a=0;a<i;a++){var n=t.getMeasureValuesGroupByIdx(a);var o={index:a,values:[]};var s=n.getMeasureValues();for(var l=0;l<s.length;l++){var u=s[l];var c={col:u._uId,rows:[]};var f=u.getValues();for(var m=0;m<f.length;m++){var p=f[m];var h=[];for(var d=0;d<p.length;d++){h.push({val:p[d],ctx:{type:"Measure",path:{mg:a,mi:l,dii_a2:m,dii_a1:d}}})}c.rows.push(h)}o.values.push(c)}r.push(o)}e._mg=r}e.getMeasureValuesGroupDataByIdx=function(e){if(!arguments.length){return this._mg}for(var t=0;t<this._mg.length;t++){if(this._mg[t].index===e){return this._mg[t]}}return null}};var r=function(r){var a=r;t(r);i(r);e(r);return r};return{decorate:r}});define("sap/viz/framework/flow/ChartViewFactory",["sap/viz/framework/common/util/oo","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/flow/FlowConstant","sap/viz/framework/flow/flowModule/DataFilter","sap/viz/framework/common/util/RequireUtil","sap/viz/framework/chartmodel/MultiAxesDataAdapterDecorator"],function(e,t,i,r,a,n,o,s,l,u,c){var f={};var m=function(i,r,l,u,f,m,p,h){if(i.id==="sap.viz.chart.elements.Title"||i.id==="sap.viz.modules.title"){return{id:"title",place:l}}else if(i.id==="sap.viz.chart.elements.ColorLegend"||i.id==="sap.viz.modules.legend"){if(i.elementDefinition&&i.elementDefinition.dimensionIndex){p=i.elementDefinition.dimensionIndex}return{id:"legend",place:l,legendIndexes:p}}else if(i.id===s.CONST_DATA_FILTER_NAME){return{id:"dataFilter"}}var d=function(){d.superclass.constructor.apply(this,arguments);if(i.implementFn&&i.implementFn._properties){var e={};e[r]=i.implementFn._properties;this._runtime._propertyMgr.add(e)}if(l&&l!=="center"){var t={};t["layout"]={position:l};this._properties.add(t)}this._runtimePropsMgr=this._runtime._propertyMgr.proxy();this._runtimePropsMgr.flag(a.PROPERTY_FLAGS.CUSTOM,true);var n=this;this._originalProperties=this._properties;this._properties=null;this._manifest={};if(i.implementFn.dispatch instanceof Function){d.prototype.dispatch=i.implementFn.dispatch}else{d.prototype.dispatch=function(){return this._originalDispatch}}if(i.implementFn._dispatch){if(i.implementFn._dispatch instanceof Array){this._originalDispatch=d3.dispatch.apply(d3,i.implementFn._dispatch)}else{this._originalDispatch=d3.dispatch.apply(d3,Object.keys(i.implementFn._dispatch))}Object.defineProperty(this,"_dispatch",{get:function(){return n._originalDispatch},set:function(e){n._originalDispatch=e}})}Object.defineProperty(this,"_colorPalette",{get:function(){return n.colorPalette()},set:function(){}});Object.defineProperty(this,"_data",{get:function(){return n.data()},set:function(){}});Object.defineProperty(this,"_width",{get:function(){return n.width()},set:function(){}});Object.defineProperty(this,"_height",{get:function(){return n.height()},set:function(){}});Object.defineProperty(this,"_properties",{get:function(){return n.properties()},set:function(){}});Object.defineProperty(this._manifest,"feeds",{get:function(){return n.feeds()},set:function(){}});Object.defineProperty(this,"_props",{get:function(){return n.properties()},set:function(){}})};if(i.implementFn){e.extend(d,i.implementFn)}d.id=i.id;d.name=i.name;d.prototype.getPreferredSize=function(e){return{maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:e.width,height:e.height}};d.prototype.feeds=function(){return i.bindingDefinition};d.prototype.data=function(){if(this._rawData&&this._rawData._crosstableDataset){return c.decorate({dataset:this._rawData})}else{return{dataset:this._rawData}}};d.prototype.renderTo=function(){return m};d.prototype.setRawData=function(e){this._rawData=e.dataModel._rawData;this._originalData=e};d.prototype.width=function(){return this._size.width};d.prototype.height=function(){return this._size.height};d.prototype.colorPalette=function(){if(i.implementFn._colorPalette){return i.implementFn._colorPalette}else if(this._runtimePropsMgr.get("plotArea.colorPalette")!==a.COLOR.SAPColorSingleAxis){var e=o.clone(this._runtimePropsMgr.get("plotArea.colorPalette"));for(var t=0,r=e.length;t<r;t++){e[t]=n.convertColor(e[t])}return e}else if(this._originalData&&this._originalData.scales){for(var s in i.bindingDefinition){if(i.bindingDefinition.hasOwnProperty(s)){if(i.bindingDefinition[s].scaleType==="colorScale"){if(this._originalData.scales[i.bindingDefinition[s].id]){return this._originalData.scales[i.bindingDefinition[s].id]._range}}}}}return a.COLOR.SAPColorSingleAxis};d.prototype.properties=function(){if(this._runtime&&this._runtimePropsMgr){var e=this._runtimePropsMgr.get(r);if(!e){e=this._runtimePropsMgr.get(i.id)}return e}return null};d.prototype.setSelectedObjects=function(e){if(i&&i.implementFn&&i.implementFn.setSelectedObjects){i.implementFn.setSelectedObjects.apply(i.implementFn,arguments)}};d.prototype.getSelectedObjects=function(){if(i&&i.implementFn&&i.implementFn.getSelectedObjects){return i.implementFn.getSelectedObjects.apply(i.implementFn,arguments)}};if(i.bindingDefinition){for(var g in i.bindingDefinition){if(p&&p.indexOf(i.bindingDefinition[g].aaIndex)>=0){i.bindingDefinition[g].isLegendBinding=true}else{i.bindingDefinition[g].role="layout.category"}}}if(i.bindingDefinition){t.registerBind(u,i.bindingDefinition,"extension",f,undefined,h);t.registerRenderType(u,u)}return d};f.createChartView=function(t){var a;u.syncRequireV3(["sap/viz/chart/views/ChartView"],function(n){if(n){a=function(){this._dataItem=[];this._dataFilter=null;a.superclass.constructor.apply(this,arguments)};var o=[];var s;t.elements.sort(function(e,t){var i=e.element;if(i&&i.id==="sap.viz.chart.elements.ColorLegend"||i.id==="sap.viz.modules.legend"){return-1}i=t.element;if(i&&i.id==="sap.viz.chart.elements.ColorLegend"||i.id==="sap.viz.modules.legend"){return 1}return 0});o=t.elements.map(function(e){var i=m(e.element,e.propertyCategory,e.place,t.id,t.name,t.type,s,t.dataModel);s=i.legendIndexes?i.legendIndexes:s;return i});e.extend(a,n);a.prototype._createChildren=function(){function e(e,t){var i;if(t&&e){if(t.dispatch&&e.getDispatch){if(!t.dispatch()[l.EVENT_SHOW]){i=d3.dispatch(l.EVENT_SHOW);t.dispatch()[l.EVENT_SHOW]=i[l.EVENT_SHOW]}if(!t.dispatch()[l.EVENT_HIDE]){i=d3.dispatch(l.EVENT_HIDE);t.dispatch()[l.EVENT_HIDE]=i[l.EVENT_HIDE]}if(!t.dispatch()[l.EVENT_SELECT_DATA]){i=d3.dispatch(l.EVENT_SELECT_DATA);t.dispatch()[l.EVENT_SELECT_DATA]=i[l.EVENT_SELECT_DATA]}t.dispatch().on(l.EVENT_SHOW,function(t){e.show(t)});t.dispatch().on(l.EVENT_HIDE,function(t){e.hide(t)});e.getDispatch().on(l.EVENT_SELECT_DATA,function(e){t.dispatch()[l.EVENT_SELECT_DATA](e)})}}}var t=this,i=2,r;o.map(function(e){if(e.id==="title"){t._createTitle(e.place)}else if(e.id==="legend"){t._createLegendGroup(e.place)}else if(e.id==="dataFilter"){t._dataFilter=new l(t.runtime())}else{r=new e(t.runtime(),{name:e.id});t.setChild(e.id,r,{priority:i++});if(r.feeds){t._dataItem=u(r.feeds())}if(r.colorPalette){Object.defineProperty(t,"_customerColorPalette",{get:function(){return r.colorPalette()}})}if(r.dispatch){t._customerDispatch=r.dispatch()}}});if(this._dataFilter){e(this._dataFilter,r);this.runtime().statusManager().add({"interaction.selectedDataPoints":{set:function(){return r.setSelectedObjects.apply(this,arguments)},get:function(){return r.getSelectedObjects.apply(this,arguments)}}})}this._createBackground()};var u=function(e){return e.map(function(e){return e.id})};a.prototype.enableInteraction=function(){return false};a.prototype.renderTo=function(){return t.type};a.prototype.render=function(e){a.superclass.render.apply(this,arguments);if(this._dataFilter){this._dataFilter.render(e)}};a.prototype._updateData=function(){a.superclass._updateData.apply(this,arguments);if(this._data){for(var e in this._children){if(this._children.hasOwnProperty(e)){if(this.getChild(e).module.setRawData&&this._rawData.dataModel._rawData){this.getChild(e).module.setRawData(this._rawData)}}}}};a.prototype._getDataItems=function(){return this._dataItem};a.id=t.id;return a}else{i.error(r.getLogMessage("IDS_ERROR_CAN_NOT_FIND_CATEGORY"))}});return a};return f});define("sap/viz/framework/flow/FlowManager",["sap/viz/framework/flow/FlowConstant","sap/viz/framework/flow/Flow","sap/viz/framework/flow/Element","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/flow/ChartViewFactory","sap/viz/framework/core/ChartPropertyRegistry"],function(e,t,i,r,a,n){var o={};var s=e.CONST_DEFAULT_TYPE;o.createElement=function(e){return new i(e)};o.createFlow=function(e){var i=e&&e.type?e.type:s;return new t(e,i)};function l(e,t){if(!e.elementDefinition){return false}var i=e.elementDefinition.id;return i===t}function u(e){return l(e,"sap.viz.chart.elements.Title")||l(e,"sap.viz.modules.title")}function c(e){return l(e,"sap.viz.chart.elements.ColorLegend")||l(e,"sap.viz.modules.legend")}o.register=function(e){var t=a.createChartView(e);r.registerViewer(t.id,t);var i={},o={};e.elements.forEach(function(e){if(e.element){var t=e.element;if(u(t)){o.extendTitle=true}else if(c(t)){o.extendLegend=true}else if(t.properties){var r=t.properties;for(var a in r){if(r.hasOwnProperty(a)){i[e.propertyCategory+"."+a]=r[a]}}}}});n.register(t.id,i,o)};o.registerFlow=function(e){if(e.id){var t=e.id;if(e.renderType){r.registerRenderType(t,e.renderType)}if(e.bindings&&e.family){r.registerBind(t,e.bindings,e.family,e.name)}}};o.unregister=function(e){r.unregister(e);n.unregister(e)};return o});define("sap/viz/extapi/Flow",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/flow/FlowManager","exports"],function e(t,i,r){var a={};a.createFlow=function(e){return r.createFlow(e)};a.createElement=function(e){return r.createElement(e)};a.registerFlow=function(e){r.register(e)};a.unregisterFlow=function(e){r.unregister(e)};return a});define("sap/viz/extapi/core",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","sap/viz/framework/customization/CustomizationFactory","sap/viz/framework/customization/CustomRendererFactory","sap/viz/framework/customization/CustomInteractionFactory","sap/viz/framework/customization/CustomOverlayFactory","sap/viz/framework/customization/CustomizationManager","sap/viz/framework/extension/BaseChart","sap/viz/framework/extension/ExtensionUtils","sap/viz/framework/core/ChartViewRegistry","exports"],function e(t,i,r,a,n,o,s,l,u,c,f){var m={};m.BaseCustomization={};m.BaseCustomization.extend=function(){return a.extend()};m.BaseCustomRenderer={};m.BaseCustomRenderer.extend=function(){return n.extend()};m.BaseCustomOverlay={};m.BaseCustomOverlay.extend=function(){return s.extend()};m.BaseCustomInteraction={};m.BaseCustomInteraction.extend=function(){return o.extend()};m.registerBundle=function(e){var t=define;var i=e.id.split(".");var r=i[i.length-1]+"-bundle";t(r,function(){return e});return e};var p=u;m.BaseChart={extend:function(){return c.extend(p)}};return m});define("sap/viz/framework/customization/constants/CustomRendererTypes",[],function(){var e={toString:function(){return"plotArea.markerRenderer"}};var t={toString:function(){return"categoryAxis.labelRenderer"}};var i={toString:function(){return"plotArea.dataLabel.renderer"}};return{PLOTAREA_MARKERRENDERER:e,CATEGORYAXIS_LABELRENDERER:t,PLOTAREA_DATALABEL_RENDERER:i}});define("sap/viz/extapi/customization",["sap/viz/framework/customization/constants/CustomRendererTypes","sap/viz/framework/customization/constants/CustomInteractionTargets","sap/viz/framework/customization/constants/CustomInteractionEvents","exports"],function e(t,i,r){var a={};var n=a.constants={};n.CustomRendererTypes=t;n.CustomInteractionTargets=i;n.CustomInteractionEvents=r;return a});define("sap/viz/extapi/component/ColorLegend",["sap/viz/framework/extension/Constants","exports"],function(e){var t={};t.NAME=e.ModuleName["legend"];return t});define("sap/viz/extapi/component/Title",["sap/viz/framework/extension/Constants","exports"],function(e){var t={};t.NAME=e.ModuleName["title"];return t});define("sap/viz/framework/common/util/ContextUtils",["sap/viz/api/data/CrosstableDataset","sap/viz/api/data/FlatTableDataset","sap/viz/framework/common/util/ObjectUtils"],function(e,t,i){function r(e,t,r){var a="Measure",n="Dimension",o="semanticType";var s,l=[];var u;e=e.data();s=e.metadata.fields;if(t&&t.length>0){u={};t.forEach(function(e){e.source.forEach(function(e){if(typeof e=="string"){u[e]=true}})})}e.data.forEach(function(e,t){var c=[],f={};e.forEach(function(e,t){var i={};if(!u||u[s[t].id]){if(s[t][o]==n){f[s[t].id]=e}else if(s[t][o]==a){i[s[t].id]=e;i._dims=f;if(r){i._mea=s[t].id}c.push(i)}}});l.push(c.map(function(e){var t=e._dims;delete e._dims;return i.extend(e,t)}))});return l}function a(e,t){var i=[],r,a,n,o,s,l,u,c,f,m,p,h,d,g;var v;if(t&&t.length>0){v={};t.forEach(function(e){e.source.forEach(function(e){v[e.type+e.index]=true})})}e=e.data();r=e.measureValuesGroup.length;for(a=0;a<r;a++){p=[];l=e.measureValuesGroup[a];if(v&&!v["measureValuesGroup"+(a+1)]){continue}u=l.data;f=l.data.length;for(n=0;n<f;n++){h=[];c=u[n].values;for(o=0;o<c.length;o++){m=c[o];d=[];for(s=0;s<m.length;s++){d.push({type:"Measure",path:{mg:a,mi:n,dii_a1:s,dii_a2:o}})}h.push(d)}p.push(h)}i.push(p)}return i}return{flatTableContext:r,crossTableContext:a}});define("sap/viz/extapi/utils/Data",["sap/viz/framework/common/util/ContextUtils","exports"],function(e){return{getDataContext:function(t,i){var r;if(!t){return}if(t.type=="sap.viz.api.data.CrosstableDataset"){r=e.crossTableContext}else if(t.type=="sap.viz.api.data.FlatTableDataset"){r=e.flatTableContext}else{return}return r(t,i)}}});define("sap/viz/extapi/env/Language",["sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","exports"],function e(t,i,r){var a={};var n={get:function(){return t.current()},addListener:function(e){if(arguments.length===1&&i.isFunction(e)){var o={fn:e};t.addListener(o);a[e]=o;return n}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&i.isFunction(e)){t.removeListener(a[e]);delete a[e];return n}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},register:function(e){if(arguments.length===1&&i.isPlainObject(e)){t.register(e);return n}else{r.warn(t.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},getErrorMessage:function(e){return t.getLogMessageByID(e)},getResourceString:function(e){return t.get(e)}};return n});define("sap/viz/extapi/env/Locale",["sap/viz/framework/common/locale/Locale","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","exports"],function e(t,i,r,a){var n={};var o={get:function(){return t.locale()},addListener:function(e){if(arguments.length===1&&i.isFunction(e)){var s={fn:e};t.addListener(s);n[e]=s;return o}else{r.warn(a.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&i.isFunction(e)){t.removeListener(n[e]);delete n[e];return o}else{r.warn(a.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}}};return o});define("sap/viz/extapi/env/Resource",["sap/viz/api/env/Resource","exports"],function(e){return e});define("sap/viz/extapi/env/Template",["sap/viz/framework/common/template/TemplateManager","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/log/Logger","sap/viz/framework/common/lang/LangManager","exports"],function e(t,i,r,a,n){var o={};var s={get:function(){return t.current().id},current:function(){var e={};return i.extend(true,e,t.current())},getPackage:function(e){var r=t.retrieve(e);return r?i.extend(true,{},r):null},isRegistered:function(e){return t.isLoaded(e)},unregister:function(e){return t.unregister(e)},addListener:function(e){if(arguments.length===1&&r.isFunction(e)){var i={fn:e};t.addListener(i);o[e]=o[e]||[];o[e].push(i);return s}else{a.warn(n.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}},removeListener:function(e){if(arguments.length===1&&r.isFunction(e)){if(o[e]){for(var i=0;i<o[e].length;i++){if(o[e][i].fn===e){t.removeListener(o[e][i]);o[e].splice(i,1);break}}}return s}else{a.warn(n.getLogMessage("IDS_WARN_PARAMETER_NOT_CORRECT"));return}}};return s});define("sap/viz/framework/binding/supportBindingUtil",[],function e(){var t=["info/bar","info/column","info/bubble"];var i={};i.isAcceptBinding=function(e){if(t.indexOf(e)>=0){return true}return false};var r=function(e){var t={};t.bindingInfo={};t.bindingInfo.fieldsName=e;return t};i.transferFeedingToBinding=function(e){var t={};for(var i in e){if(e.hasOwnProperty(i)){t[i]=r(e[i])}}return t};return i});define("sap/viz/framework/common/util/Math",["sap/viz/framework/common/util/UADetector"],function e(t){var i={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:function(){if(t.isSafari()||t.isIE()&&parseFloat(t.version())<9){return function(e){return e<0?-e:e}}else{return Math.abs}}(),acos:function(){return Math.acos}(),asin:function(){return Math.asin}(),atan:function(){return Math.atan}(),atan2:function(){return Math.atan2}(),ceil:function(){return Math.ceil}(),cos:function(){return Math.cos}(),exp:function(){return Math.exp}(),floor:function(){return Math.floor}(),log:function(){return Math.log}(),max:function(){return Math.max}(),min:function(){return Math.min}(),pow:function(){return Math.pow}(),random:function(){return Math.random}(),round:function(){return Math.round}(),sin:function(){return Math.sin}(),sqrt:function(){return Math.sqrt}(),tan:function(){return Math.tan}()};return i});define("sap/viz/framework/common/util/ColorUtils",["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/Math"],function e(t,i){var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var a=function(e,t,i){if(i<0){i+=1}if(i>1){i-=1}if(i<1/6){return e+(t-e)*6*i}if(i<1/2){return t}if(i<2/3){return e+(t-e)*(2/3-i)*6}return e};var n=function(e,t,r){var n,o,s;if(t===0){n=o=s=r}else{var l=r<.5?r*(1+t):r+t-r*t;var u=2*r-l;n=a(u,l,e+1/3);o=a(u,l,e);s=a(u,l,e-1/3)}return[i.round(n*255),i.round(o*255),i.round(s*255)]};var o=function(e,t,r){e/=255;t/=255;r/=255;var a=i.max(e,t,r),n=i.min(e,t,r);var o=0,s,l=(a+n)/2;if(a==n){o=s=0}else{var u=a-n;s=l>.5?u/(2-a-n):u/(a+n);switch(a){case e:o=(t-r)/u+(t<r?6:0);break;case t:o=(r-e)/u+2;break;case r:o=(e-t)/u+4;break}o/=6}return[o,s,l]};var s=function(e){return parseInt(e.substring(0,e.lastIndexOf("%")))/100};var l=function(e){if(e.lastIndexOf("%")>0){return i.ceil(parseInt(e.substring(0,e.lastIndexOf("%")))*255/100)}else{return parseInt(e)}};var u=function(e){return e<16?"0"+e.toString(16):e.toString(16)};var c=function(e,t,i,r){this.r=e;this.g=t;this.b=i;this.a=r};c.prototype.rgb=function(){return this};c.prototype.lighter=function(e){if(!arguments.length||isNaN(+e)||+e>1||+e<0){e=.1}var t=this.hsl();t.l=i.max(.1,t.l*(1-e));t=t.rgb();this.r=t.r;this.g=t.g;this.b=t.b;return this};c.prototype.darker=function(e){if(!arguments.length||isNaN(+e)||+e>1||+e<0){e=.1}var t=this.hsl();t.l=i.min(1,t.l*(1+e));t=t.rgb();this.r=t.r;this.g=t.g;this.b=t.b;return this};c.prototype.hsl=function(){var e=o(this.r,this.g,this.b);return new f(e[0],e[1],e[2],this.a)};c.prototype.toString=function(e){var t;switch(e){case"rgb":return"rgb("+i.round(this.r)+","+i.round(this.g)+","+i.round(this.b)+")";case"rgba":return"rgba("+i.round(this.r)+","+i.round(this.g)+","+i.round(this.b)+","+this.a+")";case"hsl":t=o(this.r,this.g,this.b);return"hsl("+t[0]*360+","+t[1]*100+"%,"+t[2]*100+"%)";case"hsla":t=o(this.r,this.g,this.b);return"hsla("+t[0]*360+","+t[1]*100*100+"%,"+t[2]*100*100+"%,"+(this.a||1)+")";default:return"#"+u(i.round(this.r))+u(i.round(this.g))+u(i.round(this.b))}};var f=function(e,t,i,r){this.h=e;this.s=t;this.l=i;this.a=r};f.prototype.rgb=function(){var e=n(this.h,this.s,this.l);return new c(i.round(e[0]),i.round(e[1]),i.round(e[2]),this.a)};f.prototype.hsl=function(){return this};f.prototype.lighter=function(e){if(!arguments.length||isNaN(+e)||+e>1||+e<0){e=.1}this.l=i.max(.1,this.l*(1-e));return this};f.prototype.darker=function(e){if(!arguments.length||isNaN(+e)||+e>1||+e<0){e=.1}this.l=i.min(1,this.l*(1+e));return this};f.prototype.toString=function(e){var t;switch(e){case"rgb":t=n(this.h,this.s,this.l);return"rgb("+i.round(t[0])+","+i.round(t[1])+","+i.round(t[2])+")";case"rgba":t=n(this.h,this.s,this.l);return"rgba("+i.round(t[0])+","+i.round(t[1])+","+i.round(t[2])+","+this.a+")";case"hsl":return"hsl("+this.h+","+this.s+"%,"+this.l+"%)";case"hsla":return"hsla("+this.h+","+this.s+"%,"+this.l+"%,"+this.a+")";default:t=n(this.h,this.s,this.l);return"#"+u(i.round(t[0]))+u(i.round(t[1]))+u(i.round(t[2]))}};var m={random:function(){var e="0123456789ABCDEF".split("");var t="#";for(var r=0;r<6;r++){t+=e[i.round(i.random()*15)]}return t},isCSSColorString:function(e){return t.isString(e)&&/^(#|rgb\(|rgba\(|hsl\(|hsla\()/i.test(e)||r.hasOwnProperty(e)},isRGBColorString:function(e){return t.isString(e)&&/^(#|rgb\(|rgba\()/i.test(e)||r.hasOwnProperty(e)},isHSLColorString:function(e){return t.isString(e)&&/^(hsl\(|hsla\()/i.test(e)},fromCSSColor:function(e){if(e.charAt(0)=="#"){return this.fromRGBHexString(e)}else if(e.substr(0,4).toLowerCase()=="rgba"){return this.fromRGBA(e)}else if(e.substr(0,3).toLowerCase()=="rgb"){return this.fromRGB(e)}else if(e.substr(0,4).toLowerCase()=="hsla"){return this.fromHSLA(e)}else if(e.substr(0,3).toLowerCase()=="hsl"){return this.fromHSL(e)}else if(r.hasOwnProperty(e)){return this.fromRGBHexString(r[e])}},fromRGB:function(e){var t=0,i=0,r=0;if(arguments.length==1){var a=e.substring(4,e.lastIndexOf(")")).split(",");t=l(a[0]);i=l(a[1]);r=l(a[2])}else if(arguments.length==3){t=arguments[0];i=arguments[1];r=arguments[2]}return new c(t,i,r,1)},fromRGBA:function(e){var t=0,r=0,a=0,n=0;if(arguments.length==1){var o=e.substring(5,e.lastIndexOf(")")).split(",");t=l(o[0]);r=l(o[1]);a=l(o[2]);n=parseFloat(o[3])}else if(arguments.length==4){t=i.ceil(arguments[0]);r=i.ceil(arguments[1]);a=i.ceil(arguments[2]);n=parseFloat(arguments[3])}return new c(t,r,a,n)},fromRGBHexString:function(e){var t=0,i=0,r=0,a=1;if(e.length===7){t=e.substr(1,2);i=e.substr(3,2);r=e.substr(5,2)}if(e.length===4){t=e.charAt(1);t+=t;i=e.charAt(2);i+=i;r=e.charAt(3);r+=r}return new c(parseInt(t,16),parseInt(i,16),parseInt(r,16),a)},fromHSL:function(e){if(arguments.length==1){var t=e.substring(4,e.lastIndexOf(")")).split(",");var i=(parseInt(t[0])%360+360)%360/360;var r=s(t[1]);var a=s(t[2]);return new f(i,r,a,1)}else if(arguments.length==3){return new f(arguments[0],arguments[1],arguments[2],1)}},fromHSLA:function(e){if(arguments.length==1){var t=e.substring(5,e.lastIndexOf(")")).split(",");var i=(parseInt(t[0])%360+360)%360/360;var r=s(t[1]);var a=s(t[2]);var n=parseFloat(t[3]);return new f(i,r,a,n)}else if(arguments.length==4){return new f(arguments[0],arguments[1],arguments[2],arguments[3])}},changeOpacity:function(e,t){var i=m.fromCSSColor(e);if(i){i.a=+t;return i.toString("rgba")}},getColorFromEffectManager:function(e,i,r){var a=function(e){var t=e.indexOf("(")+1,i=e.indexOf("%")>-1?e.indexOf("%"):e.indexOf(")");if(t===i){return.2}return e.slice(t,i)/100};var n;if(e){if(t.isFunction(e)){n=e(r)}else if(t.isString(e)){if(e.indexOf("darken")>=0){n=i.darken(r,a(e))}else if(e.indexOf("lighten")>=0){n=i.lighten(r,a(e))}else if(e.indexOf("desaturate")>=0){n=i.desaturate(r,a(e))}else if(e.indexOf("greyscale")>=0){n=i.greyscale(r)}else{n=i.color2rgba(e)}}}return n}};return m});define("sap/viz/framework/common/util/PositionUtil",["sap/viz/framework/common/util/Constants"],function e(t){var i={};var r=function(e){return e.node().nodeName.toLowerCase()==="g"};var a=function(e){return e.node().nodeName.toLowerCase()==="svg"};var n=function(e){return e.node().nodeName.toLowerCase()==="div"};var o=function(e){return r(e)||a(e)};var s=function(e,t){if(e&&t){if(a(e)){e.attr("width",t.width).attr("height",t.height);e.style("position","absolute").style("box-sizing","border-box").style("left",t.x+"px").style("top",t.y+"px")}else{e.attr("transform","translate("+t.x+", "+t.y+")")}}};var l=function(e,t){if(e&&t){e.style("position","absolute").style("box-sizing","border-box").style("overflow","hidden").style("width",t.width+"px").style("height",t.height+"px").style("left",t.x+"px").style("top",t.y+"px")}};i.positionElements=function(e,t){var i;for(i in t){if(t.hasOwnProperty(i)){if(e[i]){var r=e[i];var a=t[i];if(o(a)){s(a,r)}else if(n(t[i])){l(a,r)}}}}};i.isVertical=function(e){return e===t.POSITION.LEFT||e===t.POSITION.RIGHT};i.isHorizontal=function(e){return e===t.POSITION.TOP||e===t.POSITION.BOTTOM};return i});define("sap/viz/framework/common/util/PropertyZoneUtil",["sap/viz/framework/common/util/TypeUtils"],function e(t){var i={calcOffsetFromChart:function(e,i){if(t.isExist(e)){var r=e.getBoundingClientRect();var a=r.left;var n=r.top;var o,s,l,u,c,f;for(o=0;o<i.length;o++){u=i[o].bound;for(s=0;s<u.length;s++){c=u[s];for(l=0;l<c.length;l++){f=c[l];f[0]=Math.round(f[0]-a);f[1]=Math.round(f[1]-n)}}}}},plot:function(e){return{tempPropertyZone:{plot:{value:[],readonly:true,serializable:false,get:function(){var t=[],r,a;if(e._selections&&e._selections.plot&&e._selections.plot.node()){r=e._selections.plot.node().querySelector(".v-plot-bound")}else if(e._selection){r=e._selection.node()}if(r){var n=r.getBoundingClientRect();if(n.width>1.5&&n.height>1.5){var o=[[]];o[0].push([n.left,n.top]);o[0].push([n.right,n.top]);o[0].push([n.right,n.bottom]);o[0].push([n.left,n.bottom]);t.push({name:"plot",bound:o})}a=r.ownerSVGElement}i.calcOffsetFromChart(a,t);return t}}}}},getBounds:function(e,t){var i=[];i.push([e.left,e.top]);i.push([e.right,e.top]);i.push([e.right,e.bottom]);i.push([e.left,e.bottom]);var r=[];r.push([t.left,t.top]);r.push([t.right,t.top]);r.push([t.right,t.bottom]);r.push([t.left,t.bottom]);var a=[[]];a[0].push([i[0][0]>r[0][0]?i[0][0]:r[0][0],i[0][1]>r[0][1]?i[0][1]:r[0][1]]);a[0].push([i[1][0]<r[1][0]?i[1][0]:r[1][0],i[1][1]>r[1][1]?i[1][1]:r[1][1]]);a[0].push([i[2][0]<r[2][0]?i[2][0]:r[2][0],i[2][1]<r[2][1]?i[2][1]:r[2][1]]);a[0].push([i[3][0]>r[3][0]?i[3][0]:r[3][0],i[3][1]<r[3][1]?i[3][1]:r[3][1]]);return a},top:function(e,r,a){var n={};var o=e.select(".v-m-xAxis2").node()?e.select(".v-m-xAxis2").node().parentNode.getBoundingClientRect():null;var s=r.select("rect").node().getBoundingClientRect();if(t.isExist(o)){n.valueAxis=[];n.valueAxis.push({name:"valueAxis",bound:i.getBounds(o,s)});i.calcOffsetFromChart(a,n.valueAxis)}return n},bottom:function(e,r,a,n){var o={};var s=e.select(".v-m-xAxis").node()?e.select(".v-m-xAxis").node().parentNode.getBoundingClientRect():null;var l=e.select(".v-m-xAxis2").node()?e.select(".v-m-xAxis2").node().parentNode.getBoundingClientRect():null;var u=e.select(".v-m-trellis-axis").node()?e.select(".v-m-trellis-axis").node().parentNode.getBoundingClientRect():null;var c=r.select("rect").node().getBoundingClientRect();if(t.isExist(s)){o[n]=[];o[n].push({name:n,bound:i.getBounds(s,c)});i.calcOffsetFromChart(a,o[n])}if(t.isExist(l)){o[n]=[];o[n].push({name:n,bound:i.getBounds(l,c)});i.calcOffsetFromChart(a,o[n])}if(t.isExist(u)){o.trellisColumn=[];o.trellisColumn.push({name:"trellisColumn",bound:i.getBounds(u,c)});i.calcOffsetFromChart(a,o.trellisColumn)}return o},left:function(e,r,a,n){var o={};var s=e.select(".v-m-yAxis").node()?e.select(".v-m-yAxis").node().parentNode.getBoundingClientRect():null;var l=e.select(".v-m-trellis-axis").node()?e.select(".v-m-trellis-axis").node().parentNode.getBoundingClientRect():null;var u=r.select("rect").node().getBoundingClientRect();if(t.isExist(s)){o[n]=[];o[n].push({name:n,bound:i.getBounds(s,u)});i.calcOffsetFromChart(a,o[n])}if(t.isExist(l)){o.trellisRow=[];o.trellisRow.push({name:"trellisRow",bound:i.getBounds(l,u)});i.calcOffsetFromChart(a,o.trellisRow)}return o},right:function(e,r,a){var n={};var o=e.select(".v-m-yAxis2").node()?e.select(".v-m-yAxis2").node().parentNode.getBoundingClientRect():null;var s=r.select("rect").node().getBoundingClientRect();if(t.isExist(o)){n.valueAxis2=[];n.valueAxis2.push({name:"valueAxis2",bound:i.getBounds(o,s)});i.calcOffsetFromChart(a,n.valueAxis2)}return n}};return i});define("sap/viz/framework/extension/DataModelToCSVUtil",["sap/viz/framework/common/util/FunctionUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ContextUtils"],function(e,t,i){var r=function(){var r={toTable:function(i,r,a,n){var o=n||a,s=n?a:undefined,l=this,u;try{var c=l._getParser(i);if(!c){return}u=c.call(l,i,r);if(!u){u=[]}if(s){l._meta=u.meta;u=u.map(function(e){return s(e,l._meta)});u.meta=l._meta}}catch(i){e.error(t.getLogMessage("IDS_ERROR_WRONG_TYPE"));return}if(o){return o(u)}else{return u}},_flat:function(e,t){var r=e,a=r.table(),n=e.type=="sap.viz.api.data.CrosstableDataset"?i.crossTableContext(e,t):i.flatTableContext(e,t,true),o,s,l,u,c;l=a.length;if(!n||l!==n.length){return null}for(o=0;o<l;o++){c={};for(s=0,u=n[o].length;s<u;s++){c[n[o][s]._mea]=n[o][s];delete n[o][s]._mea}a[o].context=function(e){return function(t){if(e&&e[t]){return{ctx:[e[t]]}}return{ctx:[]}}}(c)}a.meta={_dimensionSets:[r.dimensions()],_measureSets:[r.measures()],dimensions:function(e,t){if(arguments.length===2){return this._dimensionSets[0][t]}return this._dimensionSets[0]},measures:function(e,t){if(arguments.length===2){return this._measureSets[0][t]}return this._measureSets[0]}};return a},_cross:function(e,t){var i=this._toFlattenTable(e,t);if(!i){return null}return i},_getParser:function(e){if(e&&e.type){if(e.type==="sap.viz.api.data.FlatTableDataset"){return this._flat}else{return this._cross}}},_parseMeta:function(i){if(!i){return null}else{return{_meta:{measureSets:function(e){var t=[];e.forEach(function(e,i){t[i]=e.map(function(e){return e.measure})});return t}(i.measureSets),dimSets:function(e){var t=[];e.forEach(function(e,i){t[i]=e.map(function(e){return e.dimension})});return t}(i.dimSets)},measures:function(i,r){if(arguments.length===0){var a=[];this._meta.measureSets.forEach(function(e,t){e.forEach(function(e,t){a.push(e)})});return a}else if(arguments.length===1){if(!this._meta.measureSets[i]){e.error(t.getLogMessage("IDS_ERROR_NOT_FIND_MEASURE_GROUP"))}return this._meta.measureSets[i]}else{return this._meta.measureSets[i][r]}},dimensions:function(i,r){if(arguments.length===0){var a=[];this._meta.dimSets.forEach(function(e,t){e.forEach(function(e,t){a.push(e)})});return a}else if(arguments.length===1){if(!this._meta.dimSets[i]){e.error(t.getLogMessage("IDS_ERROR_DIMENSION_NOT_FOUND",i))}return this._meta.dimSets[i]}else{return this._meta.dimSets[i][r]}}}}},_extractDimSets:function(e){var t=[];if(e&&e.data){var i=e.data().analysisAxis;if(i){i.forEach(function(e){var i=[];e.data.forEach(function(e){var t={data:[]};for(var r in e.values){if(e.values.hasOwnProperty(r)){t.data[r]=e.values[r]}}t.dimension=e.name;i.push(t)});t.push(i)})}return t}return t},_extractMeasureSets:function(e,t){var i=[],r,a={};if(t){t.forEach(function(e){if(e.feed=="valueAxis"){e.source.forEach(function(e){a[e.index-1]=true})}})}if(e&&e.data){r=e.data().measureValuesGroup;if(r){r.forEach(function(e,r){var n=[];if(t&&!a[r]){return}e.data.forEach(function(e){var t={};t.data=[];for(var i in e.values){if(e.values.hasOwnProperty(i)){t.data[i]=e.values[i]}}t.measure=e.name;n.push(t)});i.push(n)});return i}}return i},_toFlattenTable:function(e,t){var r=this._extractDimSets(e),a=this._extractMeasureSets(e,t),n=[],o,s,l,u,c,f=this;if(a.length===0){return null}u=e.type=="sap.viz.api.data.CrosstableDataset"?i.crossTableContext(e,t):i.flatTableContext(e,t,true);n=this._toFlatJsonArray(a,r,u);n.meta=this._parseMeta({dimSets:r,measureSets:a});return n},_toFlatJsonArray:function(e,t,i){var r=[],a=this,n,o,s,l,u,c;n=e[0][0].data;for(l=0;l<n.length;l++){for(u=0;u<n[l].length;u++){s={};o={};t.forEach(function(e,t){var i=t===0?u:l;for(c=0;c<e.length;c++){s[e[c].dimension]=e[c].data[i]}});e.forEach(function(e,t){var r;for(c=0;c<e.length;c++){r=e[c];s[r.measure]=r.data[l][u];if(i){o[r.measure]=i[t][c][l][u]}}});if(i){s.context=function(e){return function(t){if(e&&e[t]){return{ctx:[e[t].path]}}return{ctx:[]}}}(o)}r.push(s)}}return r}};return r.toTable.apply(r,arguments)};return r});define("sap/bi/framework/BundleLoader/ServicePlugin",[],function(){"use strict";function e(e){this._kernel=e}e.prototype.load=function(e,t,i,r){var a=this._kernel.getInstance("core.logger");if(a){a("ServicePlugin is loading '"+e+"'")}i(this.getService(e))};e.prototype.getService=function(e){var t;if(e[0]==="*"){t="multiple";e=e.slice(1);return this._kernel.getAllInstances(e)}else{t="single";return this._kernel.getInstance(e)}};e.prototype.getServiceForBundle=function(e,t){return this.getService(t)};e.load=function(e,t,i,r){i({})};return e});define("sap/bi/framework/BundleLoader/ServiceMetadataPlugin",[],function(){"use strict";function e(e){this._kernel=e}e.prototype.load=function(e,t,i,r){var a=this._kernel.getInstance("core.logger");if(a){a("ServiceMetadataPlugin is loading '"+e+"'")}i(this.getServiceMetadata(e))};e.prototype.getServiceMetadata=function(e){if(e[0]==="*"){e=e.slice(1);return this._kernel.getAll(e).map(function(e){return e.exportedMetadata})}else{var t=this._kernel.get(e);return t?t.exportedMetadata:undefined}};e.load=function(e,t,i,r){i({})};return e});define("sap/bi/framework/BundleLoader/ImportPlugin",[],function(){"use strict";function e(e){this._kernel=e}e.prototype.load=function(e,t,i,r){var a=this._kernel.getInstance("core.logger");if(a){a("ImportPlugin is loading '"+e+"'")}var n=this._kernel.getInstance("bundleLoader.getHelpers");var o=e.split(":");o[1]=n.stripLeading(o[1],"/");Q(n.getBundlePromise(o[0])).then(function(e){if(!e){throw new Error("Error importing "+o[1]+" from non-existent bundle "+o[0])}if(!e.exports||!e.exports.some(function(e){return n.startsWith(o[1],e)})){throw new Error("Attempting to import "+o[1]+" which is not exported by "+o[0])}n.getRequireContext(o[0])([o[1]],i,i.error)}).fail(function(e){i.error(e)})};e.load=function(e,t,i,r){i({})};return e});define("sap/bi/framework/BundleLoader/CssPlugin",[],function(){"use strict";function e(e,t){this._resourceLoaderFunction=e;this._log=t}var t=function(){return document.head||document.getElementsByTagName("head")[0]||document.documentElement};var i=function(e){if(/^http[s]?:\/\//.test(e)){return e}else{var t=document.createElement("a");t.href=e;return t.href}};var r=function(e,t,i){var r=t.lastIndexOf("/");var a=t.substring(0,r+1);var n=/url ?\((\"|\')?([a-zA-Z0-9\.\/\-\_]*)(\"|\')?\)/gm;var o=i.replace(n,function(t,i,r,n,o,s){if(r&&r.length>0){e("Converting "+r+" to "+(a+r));return"url("+a+r+")"}});return o};e.prototype.normalize=function(e,t){if(!/\.css$/.test(e)){e=e+".css"}return t(e)};e.prototype.load=function(e,a,n,o){var s=a.toUrl?a.toUrl(e):e;var l;if(this._resourceLoaderFunction){var u=this._resourceLoaderFunction(s);if(u){var c=i(s);u=r(this._log,c,u);u+="\n/*# sourceURL="+c+" */";this._log("CssPlugin.load() returning cached content for url: "+s);l=s;var f=window.URL||window.webkitURL;var m=new Blob([u],{type:"text/css"});s=f.createObjectURL(m)}else{this._log("CssPlugin.load() loading from network for url: "+s)}}var p=document.createElement("link");p.type="text/css";p.rel="stylesheet";p.href=s;if(l){p.setAttribute("bundle_cache_src",l)}p.onload=function(e){n(this.sheet);this.onerror=this.onload=null};p.onerror=function(e){n.error(new Error("Failed to load "+this.href));this.onerror=this.onload=null};t().appendChild(p);if(window.navigator.userAgent.indexOf("PhantomJS")!==-1){var h=p.href;var d=window.setInterval(function(){var e=Array.prototype.slice.call(document.styleSheets);var t=e.filter(function(e){return e.href===h});if(t.length>0){window.clearInterval(d);p.sheet=t[0];if(p.onload){p.onload()}}},10)}};e.prototype.pluginBuilder="cssBuilder";return e});define("sap/bi/framework/BundleLoader/XHRInterceptor",["require"],function(e){"use strict";function t(e,t,i){function r(e){if(/^http[s]?:\/\//.test(e)){return e}else{var t=document.createElement("a");t.href=e;var i=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.host;var r=t.href.slice(i.length);return r}}var a=function(){this.originalXHRConstructor=t;this.originalXHR=new this.originalXHRConstructor;var e=this;this.originalXHR.onreadystatechange=function(){e.onreadystatechangefunction()};return this};a.prototype.isXHRInterceptor=true;a.prototype.getOriginalXmlHttpRequestConstructor=function(){return this.originalXHRConstructor};a.prototype.open=function(e,t,i,a,n){this.url=r(t);return this.originalXHR.open(e,t,i,a,n)};a.prototype.setRequestHeader=function(e,t){this.originalXHR.setRequestHeader(e,t)};a.prototype.send=function(t){var r=this.url&&e(this.url);if(r!==undefined&&r!==null){i("XHRInterceptor.send() returning cached content for url: "+this.url);this.wasIntercepted=true;this.response=r;this.responseText=this.response;this.readyState=4;this.responseXML=null;this.status=200;this.statusText="OK";if(this.onreadystatechange){this.onreadystatechange()}return}try{i("XHRInterceptor.send() using original xhr for url: "+this.url);return this.originalXHR.send(t)}catch(e){this.onreadystatechangefunction();throw e}};if((new t).overrideMimeType){a.prototype.overrideMimeType=function(){return this.originalXHR.overrideMimeType.call(this.originalXHR,arguments)}}a.prototype.getAllResponseHeaders=function(){if(this.wasIntercepted){if(this.url.match(/\.js$/)){return"Content-Type: application/x-javascript"}else{return""}}else{return this.originalXHR.getAllResponseHeaders.call(this.originalXHR,arguments)}};a.prototype.getResponseHeader=function(){return this.originalXHR.getResponseHeader.call(this.originalXHR,arguments)};a.prototype.onreadystatechangefunction=function(){this.readyState=this.originalXHR.readyState;if(this.readyState===4){this.responseText=this.originalXHR.responseText;this.responseXML=this.originalXHR.responseXML;this.status=this.originalXHR.status;this.statusText=this.originalXHR.statusText}else{this.responseText=undefined;this.responseXML=undefined;this.status=undefined;this.statusText=undefined}if(this.onreadystatechange){this.onreadystatechange()}};return a}function i(){var e=new window.XMLHttpRequest;if(e&&e.isXHRInterceptor){window.XMLHttpRequest=e.getOriginalXmlHttpRequestConstructor()}}function r(e,r){i();r("Installing XHRInterceptor...");var a=t(e,window.XMLHttpRequest,r);window.XMLHttpRequest=a}return{installInterceptor:r,uninstallInterceptor:i}});define("sap/bi/framework/BundleLoader/BundleLoader",["require","./ServicePlugin","./ServiceMetadataPlugin","./ImportPlugin","./CssPlugin","./XHRInterceptor"],function(e,t,i,r,a,n){"use strict";var o=function(e){var t=this._kernel.getInstance("core.logger");if(t){t(e)}};var s=function(e,t){var i=this._kernel.getAllInstances("core.listener");if(i){i.forEach(function(i){i(e,t)})}};var l=function(e){return e.replace(/\./g,"/")};var u=function(e){var t=e.lastIndexOf(".");var i=e.substr(t+1,e.length);return i+"-bundle"};var c=function(e,t,i){var r=function(e,i){if(this._registeredUI5ModulePaths[e]){o.apply(this,["Warning: UI5 module '"+e+"' bound to path '"+this._registeredUI5ModulePaths[e]+"' is being replaced by '"+i+"' by bundle '"+t+"'"])}window.$.sap.registerModulePath(e,i)}.bind(this);if(window.$&&window.$.sap&&window.$.sap.registerModulePath){r(t,i);if(e&&e.moduleMapping){var a=Object.keys(e.moduleMapping);a.forEach(function(t){r(t,i+"/"+e.moduleMapping[t])})}}};var f=function(e,t,i){if(!t){t=this._requireConfig}for(var r in t){if(t.hasOwnProperty(r)){if(!e[r]||i===true){e[r]=t[r]}}}return e};var m=function(e,t){return e.indexOf(t)===0};var p=function(e,t){return e.indexOf(t,e.length-t.length)!==-1};var h=function(e,t){if(m(e,t)){e=e.substring(t.length)}return e};var d=function(e,t){if(p(e,t)){e=e.substring(0,e.length-t.length)}return e};var g=function(t){var i=e.toUrl("").split("?")[0];if(t){var r=l(t)+"/foo";i=e.toUrl(r).split("?")[0];i=d(i,".js");i=d(i,r)}return d(i,"/")};var v=function(e,t){t=t||"";var i=e.toUrl(t).split("?")[0];return d(i,"/")};var y=function(e){return this._bundlePaths[v(e)]};var _=function(e){return this._bundles[e]};var A=function(e){return this._bundleRequires[e]};var b=function(e,t,i){var r=g(i);r+=e?"/"+e:"";r+=t?"/"+t:"";return r};var S=function(){this._componentFactories={}};var M=function(e){var t=function(t){var i=t;if(e._config.baseUrl){var r=i.indexOf(e._config.baseUrl);if(r===-1){return undefined}if(r!==0){i=t.substring(r);i=b(i)}}var a="";Object.keys(e._bundlePaths).forEach(function(e){if(i.indexOf(e)===0){if(e.length>a.length){a=e}}});if(a.length>0){var n=e._bundlePaths[a];var o=e._id+"_"+n;var s=window.requirejs.s.contexts[o];if(s){var u=l(n);var c=t.indexOf(u);if(c!==-1){var f="resource:"+t.substring(c+u.length+1);var m=f.indexOf("?");if(m>0){f=f.substring(0,m)}if(s.require.specified(f)){var p=s.nextTick;var h;try{s.nextTick=function(e){e()};s.require([f],function(e){h=e})}finally{s.nextTick=p}if(h){return h}}}}}return undefined};return t};var D=function(e){var n={};var o=new t(e._kernel);define("service",o);n.servicePlugin=o;var s=new i(e._kernel);define("serviceMetadata",s);n.serviceMetadataPlugin=s;var l=new r(e._kernel);define("import",l);n.importPlugin=l;var u;if(e._config.enableXHRInterceptor){u=M(e)}var c=e._kernel.getInstance("core.logger");var f=new a(u,c);define("css",f);n.cssPlugin=f;return n};function E(e,t){var i=t.requireConfig||{};i.context=i.context||(new Date).getTime();this._id=i.context;this._kernel=e;this._config=t;this._requireConfig=i;t.repoPath=t.repoPath||"";t.repoPath=m(t.repoPath,"http")?t.repoPath:b(t.baseUrl,t.repoPath);this._require=require.config(f.apply(this,[{baseUrl:b(t.baseUrl)}]));var r=D(this);this._require([]);window.sap=window.sap||{};window.sap.bi=window.sap.bi||{};window.sap.bi.framework=window.sap.bi.framework||{};window.sap.bi.framework.contexts=window.sap.bi.framework.contexts||{};window.sap.bi.framework.getService=window.sap.bi.framework.getService||function(e,t){return r.servicePlugin.getServiceForBundle(e,t)};window.sap.bi.framework.getServiceMetadata=window.sap.bi.framework.getServiceMetadata||function(e){return r.serviceMetadataPlugin.getServiceMetadata(e)};window.sap.bi.framework.declareBundle=window.sap.bi.framework.declareBundle||function(e){return e};window.sap.bi.framework.capabilities=window.sap.bi.framework.capabilities||{};window.sap.bi.framework.capabilities.bundleLoading=window.sap.bi.framework.capabilities.bundleLoading||{};window.sap.bi.framework.capabilities.bundleLoading.hostBundle=true;this._bundles={};this._componentFactories={};this._bundleRequires={};this._registeredUI5ModulePaths={};this._bundlePaths={};if(this._config.enableXHRInterceptor){var a=M(this);n.installInterceptor(a,this._kernel.getInstance("core.logger"))}}E.prototype._uninstallInterceptor=function(){n.uninstallInterceptor()};E.prototype._loadBundles=function(e,t,i){this._componentFactories={};var r=this._config.baseUrl;var a=function(){var t=[];e.forEach(function(e){t.push(this._createBundleContext(e,r))}.bind(this));return Q.all(t)}.bind(this);var n=function(){var t=[];e.forEach(function(e){t.push(this._loadBundle(e,r))}.bind(this));return Q.all(t)}.bind(this);var o=function(e){S.apply(this);t()};a().then(n.bind(this)).then(this._activateAllProviders.bind(this,r)).then(o.bind(this)).fail(i).done()};E.prototype._createBundleContext=function(e,t){if(this._bundleRequires[e]){o.apply(this,["Shortcut creating context: "+e]);return this._bundleRequires[e]}o.apply(this,["Creating context: "+e]);var i=Q.defer();var r=b(t,l(e),e);this._bundlePaths[r]=e;var a=require.config(f.apply(this,[{baseUrl:r,context:this._id+"_"+e}]));D(this);a([],function(){this._bundleRequires[e]=a;o.apply(this,["Context created: "+e]);i.resolve()}.bind(this),function(t){o.apply(this,["Error creating context: "+e]);i.reject()});return i.promise};E.prototype._resolveBundle=function(e){var t=Q.defer();var i=this._bundleRequires[e];var r=u(e);var a=o.bind(this);i([r],function(e){t.resolve(e)},function(i){a("Failed to load bundle with id: "+e);t.resolve(undefined)});return t.promise};E.prototype._parseBundle=function(e,t){var i=[];var r=b(t,l(e.id),e.id);var a={bundleId:e.id,bundleUrl:r,bundleVersion:e.version};c.apply(this,[e.ui5,e.id,r]);var n=this;(e.components||[]).forEach(function(t){t.framework=a;t.bundleId=e.id;t.dependencies=t.includedDependencies;if(!t.dependencies){t.dependencies=e.dependencies||[];t.dependencies=t.dependencies.concat(i)}i.push(t.provide);t.id=t.id||e.id+"."+t.provide;n._componentFactories[t.provide]=n._componentFactories[t.provide]||[];n._componentFactories[t.provide].push(t)});if(typeof e.onLoaded==="function"){e.onLoaded.apply(this)}};E.prototype._loadBundle=function(e,t){if(this._bundles[e]){o.apply(this,["Shortcut loading: "+e]);return this._bundles[e]}o.apply(this,["Loading: "+e]);s.call(this,"loadBundle",{bundleId:e});var i=this;var r=this._resolveBundle(e);r=r.then(function(r){if(!r){return}var a=i._loadDependentBundles(r,t);if(r.imports){var n={"*":{}};r.imports.forEach(function(e){n["*"][e.localPath]="import!"+e.bundle+":"+(e.remotePath?e.remotePath:"")});require.config({context:i._id+"_"+r.id,map:n})}var o;if(r.hostBundle){i._bundles[e]="ReloadingInHost";var s={};if(e==="sap.viz.geo.all"){s["all-bundle"]="../../../sap/viz/geo/all/all-bundle";s["sap.viz.geo.all"]="../../../sap/viz/geo/all/sap.viz.geo.all";s["resources/libs/jslinq"]="../../../sap/viz/geo/all/resources/libs/jslinq";s["resources/libs/dojo.has"]="../../../sap/viz/geo/all/resources/libs/dojo.has";s["resources/libs/dojo.i18n"]="../../../sap/viz/geo/all/resources/libs/dojo.i18n";s["resources/styles/esri"]="../../../sap/viz/geo/all/resources/styles/esri";s["resources/styles/map"]="../../../sap/viz/geo/all/resources/styles/map"}var l=require.config(f.apply(i,[{context:i._id+"_"+r.hostBundle,paths:s}]));i._bundleRequires[e]=l;o=i._resolveBundle(e);o.then(function(e){i._parseBundle(e,t)});return o.then(function(){return r})}else{a.then(function(e){i._parseBundle(r,t)});return a.then(function(){return r})}});this._bundles[e]=r;return r};E.prototype._loadDependentBundles=function(e,t){var i=[];s.call(this,"loadDependentBundles",{bundleId:e.id,bundle:e});var r=e&&e.loadAfter||[];var a=this;var n;for(var l=0;l<r.length;l++){var u=r[l];o.apply(a,["Loading dep '"+u+"' for '"+e.id+"'"]);if(!this._bundleRequires[u]){var c=this._createBundleContext(u,t);n=c.then(a._loadBundle.bind(this,u))}else{n=a._loadBundle(u)}i.push(n)}if(e.hostBundle){if(!a._bundleRequires[e.hostBundle]){throw"Bundle '"+e.id+"' specified an invalid hostBundle of '"+e.hostBundle+"'"}o.apply(a,["Loading host bundle '"+e.hostBundle+"' for '"+e.id+"'"]);n=a._loadBundle(e.hostBundle);i.push(n)}return Q.all(i)};var T="sap.bi.gdd.governator";E.prototype._activateAllProviders=function(e){var t=this._componentFactories[T]!==undefined?this._activateProvider(T,e):undefined;var i=this;return Q(t).then(function(){var t=[];for(var r in i._componentFactories){if(i._componentFactories.hasOwnProperty(r)&&r!==T){t.push(i._activateProvider(r,e))}}return Q.all(t)})};E.prototype._activateProvider=function(e,t){if(e[0]==="*"){e=e.slice(1)}if(!this._componentFactories[e]){return}if(this._componentFactories[e].activatedProviders){return this._componentFactories[e].activatedProviders}if(this._componentFactories[e].activateInProgress){throw"Infinity and beyond!"}this._componentFactories[e].activateInProgress=true;var i=[];var r=this;var a=this._componentFactories[e];a.forEach(function(a){(a.dependencies||[]).forEach(function(a){if(a!==e){i.push(r._activateProvider(a,t))}})});var n=Q.all(i).then(function(){var e;a.map(function(i){if(e){e=e.then(function(){return r._activateComponent(i,t)})}else{e=r._activateComponent(i,t)}});return e});this._componentFactories[e].activatedProviders=n;this._componentFactories[e].activateInProgress=false;return n};var x="require:";var I=function(e,t){t=t||[];if(typeof e==="string"){if(e.indexOf(x)===0){t.push(e.substring(x.length))}}else if(typeof e==="object"&&e!==null){if(Array.isArray(e)){e.forEach(function(e){I(e,t)})}else{Object.keys(e).forEach(function(i){I(e[i],t)})}}return t};var z=function(e,t){if(typeof e==="string"){if(e.indexOf(x)===0){var i=e.substring(x.length);return t[i]}}else if(typeof e==="object"){if(Array.isArray(e)){return e.map(function(e){return z(e,t)})}else{Object.keys(e).forEach(function(i){e[i]=z(e[i],t)})}}return e};E.prototype._registerComponent=function(e){o.apply(this,["Registering: "+e.provide+" | "+e.id]);this._kernel.register(e);if(e.provide===T){var t=sap.bi.framework.getService(null,T);return t.init()}};E.prototype._activateComponent=function(e,t){var i=sap.bi.framework.getService(null,T);if(i&&!i.isComponentEnabled(e)){return}o.apply(this,["Activating: "+e.provide+" | "+e.id]);if(e.module){e.instance=x+e.module}if(e.instance){var r=I(e.instance);if(r.length>0){var a=Q.defer();var n=function(){a.resolve(Array.prototype.slice.call(arguments))};var s=function(e){a.reject(e)};var l=this._bundleRequires[e.bundleId];l(r,n,s);var u=this;var c=a.promise.then(function(t){var i={};r.forEach(function(e,a){i[r[a]]=t[a]});e.instance=z(e.instance,i);return u._registerComponent(e)});return c}}if(e.factory||e.instance){return this._registerComponent(e)}else{var f=e.id||"unknown";throw new Error("component "+f+" cannot be registered - valid module, factory, or instance not provided")}};E.prototype._getMetadata=function(){return{id:this._id,config:this._config,require:this._require}};E.prototype._getHelpers=function(){return{getBundleUrl:v.bind(this),getBundleId:y.bind(this),getBundlePromise:_.bind(this),getRequireContext:A.bind(this),extendRequireConfig:f.bind(this),startsWith:m,endsWith:p,stripLeading:h,stripTrailing:d}};return{init:function(e,t){var i=new E(e,t);e.register({provide:"bundleLoader.loadBundles",instance:i._loadBundles.bind(i)});e.register({provide:"bundleLoader.getMetadata",instance:i._getMetadata.apply(i)});e.register({provide:"bundleLoader.getHelpers",instance:i._getHelpers.apply(i)});e.register({provide:"bundleLoader.uninstallInterceptor",instance:i._uninstallInterceptor.bind(i)})}}});define("sap/bi/framework/kernel/DIKernel",[],function(){"use strict";function e(){this._componentsByService={};var e=this;this.register({provide:"kernel",instance:e})}e.prototype._getComponentsForService=function(e){var t=this._componentsByService[e];if(t===undefined){t=[];this._componentsByService[e]=t}return t};e.prototype.register=function(e){var t=e.provide;var i={service:t};if(e.factory){i.factory=e.factory}else if(e.instance){i.instance=e.instance}if(!i.factory&&!i.instance){throw new Error("component "+e.id+" cannot be registered - valid instance or factory not provided")}i.dependencies=(e.dependencies||[]).map(function(e){if(e[0]==="*"){return{service:e.slice(1),cardinality:"multiple"}}else{return{service:e,cardinality:"single"}}});i.exportedMetadata={id:e.id,framework:e.framework,customProperties:e.customProperties};this._getComponentsForService(t).push(i)};e.prototype._getDependency=function(e){if(e.cardinality==="single"){return this.getInstance(e.service)}else if(e.cardinality==="multiple"){return this.getAllInstances(e.service)}else{throw new Exception("Unrecognized cardinality: "+e.cardinality)}};e.prototype._getInstance=function(e){var t=e.instance;if(t===undefined){e.constructing=true;var i=e.dependencies.map(this._getDependency.bind(this));t=e.factory.apply(null,i);e.instance=t;delete e.constructing}return t};e.prototype.get=function(e){var t=this._getComponentsForService(e);var i=t.filter(function(e){return!e.constructing});if(i.length===0){return undefined}return i[i.length-1]};e.prototype.getAll=function(e){var t=this._getComponentsForService(e);return t.filter(function(e){return!e.constructing})};e.prototype.getInstance=function(e){var t=this.get(e);return t?this._getInstance(t):t};e.prototype.getAllInstances=function(e){var t=this.getAll(e);return t?t.map(this._getInstance.bind(this)):t};return e});define("export.bi",[],function(){return{}});window.sap=window.sap||{};window.sap.bi=window.sap.bi||{};window.sap.bi.framework=window.sap.bi.framework||{};window.sap.bi.framework.declareBundle=function(e){return e};define("sap.viz.core-bundle",["export.bi"],function(){return sap.bi.framework.declareBundle({id:"sap.viz.core",version:"buildnumreplace",components:[{id:"sap.viz.api",provide:"sap.viz.api",instance:sap.viz.api},{id:"sap.viz.extapi",provide:"sap.viz.extapi",instance:sap.viz.extapi}]})});define("sap.viz.core-bundleloader",["sap/bi/framework/BundleLoader/BundleLoader","sap/bi/framework/kernel/DIKernel","sap/bi/framework/BundleLoader/CssPlugin","sap.viz.core-bundle","require"],function(e,t,i,r){if(sap===undefined||sap.bi===undefined||sap.bi.framework===undefined||sap.bi.framework.getService===undefined){if(!window._cvom_kernel){window._cvom_kernel=new t}e.init(window._cvom_kernel,{})}r.components.forEach(function(e){if(!e.instance){e.instance={}}});(r.components||[]).forEach(window._cvom_kernel.register.bind(window._cvom_kernel));window.sap=window.sap||{};window.sap.viz=window.sap.viz||{};window.sap.viz.extapi=window.sap.viz.extapi||{};window.sap.viz.extapi.core=window.sap.viz.extapi.core||{};window.sap.viz.extapi.core.registerBundle=function(e){(e.components||[]).forEach(function(t){if(!t.framework){t.framework={bundleId:e.id,bundleVersion:e.version}}});(e.components||[]).forEach(window._cvom_kernel.register.bind(window._cvom_kernel));return e};var a=sap.viz.moduleloader?sap.viz.moduleloader.originalDefine||define:define;a("css",new i);return null});(function(){var e=define&&define.__autoLoad;if(e&&e.length){define.__autoLoad=[];require(e)}})();(function(e){e.define=sap.viz.moduleloader.originalDefine;e.require=sap.viz.moduleloader.originalRequire;e.requirejs=sap.viz.moduleloader.originalRequirejs})(this);if(!sap){window.sap={}}if(!sap.viz){sap.viz={}}if(!sap.viz.api){sap.viz.api={}}if(!sap.viz.extapi){sap.viz.extapi={}}Object.defineProperty(sap.viz.api,"VERSION",{value:"7.37.0-SNAPSHOT",writable:false});Object.defineProperty(sap.viz.extapi,"VERSION",{value:"7.37.0-SNAPSHOT",writable:false});
},
	"sap/viz/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.viz","type":"library","embeds":[],"applicationVersion":{"version":"1.120.3"},"title":"Chart controls based on the SAP BI CVOM charting library","description":"Chart controls based on the SAP BI CVOM charting library","ach":"BI-CVM-UI5","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"canvg","packagedWithMySelf":true,"version":"1.2"},{"name":"RaphaelJS","packagedWithMySelf":true,"version":"2.1.0"},{"name":"rgb-color","packagedWithMySelf":true,"version":"2006-02-23"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw","sap_platinum"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.120","libs":{"sap.ui.core":{"minVersion":"1.120.3"},"sap.m":{"minVersion":"1.120.3","lazy":true},"sap.ui.layout":{"minVersion":"1.120.3","lazy":true}}},"library":{"i18n":false,"content":{"controls":["sap.viz.ui5.controls.chartpopover.ChartPopover","sap.viz.ui5.controls.chartpopover.ContentPanel","sap.viz.ui5.controls.chartpopover.HeaderBar","sap.viz.ui5.controls.chartpopover.ShapeMarker","sap.viz.ui5.controls.chartpopover.SubActionItemsPage","sap.viz.ui5.controls.charttooltip.ContentPanel","sap.viz.ui5.controls.charttooltip.TooltipContainer","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.controls.Popover","sap.viz.ui5.controls.VizFrame","sap.viz.ui5.controls.VizRangeSlider","sap.viz.ui5.controls.VizSlider","sap.viz.ui5.controls.VizSliderBasic","sap.viz.ui5.controls.VizTooltip","sap.viz.ui5.core.BaseChart","sap.viz.ui5.VizContainer","sap.viz.ui5.Area","sap.viz.ui5.Area100","sap.viz.ui5.Bar","sap.viz.ui5.Bubble","sap.viz.ui5.Bullet","sap.viz.ui5.Column","sap.viz.ui5.Combination","sap.viz.ui5.Donut","sap.viz.ui5.DualBar","sap.viz.ui5.DualColumn","sap.viz.ui5.DualCombination","sap.viz.ui5.DualLine","sap.viz.ui5.DualStackedColumn","sap.viz.ui5.DualStackedColumn100","sap.viz.ui5.Heatmap","sap.viz.ui5.HorizontalArea","sap.viz.ui5.HorizontalArea100","sap.viz.ui5.Line","sap.viz.ui5.Pie","sap.viz.ui5.Scatter","sap.viz.ui5.StackedColumn","sap.viz.ui5.StackedColumn100","sap.viz.ui5.TimeBubble","sap.viz.ui5.Treemap"],"elements":["sap.viz.ui5.controls.common.feeds.AnalysisObject","sap.viz.ui5.controls.common.feeds.FeedItem","sap.viz.ui5.core.BaseStructuredType","sap.viz.ui5.data.Dataset","sap.viz.ui5.data.CustomDataset","sap.viz.ui5.data.DimensionDefinition","sap.viz.ui5.data.FlattenedDataset","sap.viz.ui5.data.MeasureDefinition","sap.viz.ui5.types.Area","sap.viz.ui5.types.Area_animation","sap.viz.ui5.types.Area_hoverline","sap.viz.ui5.types.Area_marker","sap.viz.ui5.types.Area_tooltip","sap.viz.ui5.types.Axis","sap.viz.ui5.types.Axis_axisTick","sap.viz.ui5.types.Axis_axisline","sap.viz.ui5.types.Axis_gridline","sap.viz.ui5.types.Axis_indicator","sap.viz.ui5.types.Axis_label","sap.viz.ui5.types.Axis_layoutInfo","sap.viz.ui5.types.Axis_scale","sap.viz.ui5.types.Axis_title","sap.viz.ui5.types.Background","sap.viz.ui5.types.Background_border","sap.viz.ui5.types.Background_border_bottom","sap.viz.ui5.types.Background_border_left","sap.viz.ui5.types.Background_border_right","sap.viz.ui5.types.Background_border_top","sap.viz.ui5.types.Bar","sap.viz.ui5.types.Bar_animation","sap.viz.ui5.types.Bar_tooltip","sap.viz.ui5.types.Bubble","sap.viz.ui5.types.Bubble_animation","sap.viz.ui5.types.Bubble_axisTooltip","sap.viz.ui5.types.Bubble_hoverline","sap.viz.ui5.types.Bullet","sap.viz.ui5.types.Bullet_tooltip","sap.viz.ui5.types.Combination","sap.viz.ui5.types.Combination_animation","sap.viz.ui5.types.Combination_bar","sap.viz.ui5.types.Combination_dataShape","sap.viz.ui5.types.Combination_line","sap.viz.ui5.types.Combination_line_marker","sap.viz.ui5.types.Combination_tooltip","sap.viz.ui5.types.Datalabel","sap.viz.ui5.types.Datatransform","sap.viz.ui5.types.Datatransform_autoBinning","sap.viz.ui5.types.Datatransform_dataSampling","sap.viz.ui5.types.Datatransform_dataSampling_grid","sap.viz.ui5.types.Heatmap","sap.viz.ui5.types.Heatmap_animation","sap.viz.ui5.types.Heatmap_border","sap.viz.ui5.types.Heatmap_tooltip","sap.viz.ui5.types.Legend","sap.viz.ui5.types.Legend_layout","sap.viz.ui5.types.Line","sap.viz.ui5.types.Line_animation","sap.viz.ui5.types.Line_hoverline","sap.viz.ui5.types.Line_marker","sap.viz.ui5.types.Line_tooltip","sap.viz.ui5.types.Pie","sap.viz.ui5.types.Pie_animation","sap.viz.ui5.types.Pie_tooltip","sap.viz.ui5.types.RootContainer","sap.viz.ui5.types.RootContainer_layout","sap.viz.ui5.types.Scatter","sap.viz.ui5.types.Scatter_animation","sap.viz.ui5.types.Scatter_axisTooltip","sap.viz.ui5.types.Scatter_hoverline","sap.viz.ui5.types.StackedVerticalBar","sap.viz.ui5.types.StackedVerticalBar_animation","sap.viz.ui5.types.StackedVerticalBar_tooltip","sap.viz.ui5.types.Title","sap.viz.ui5.types.Title_layout","sap.viz.ui5.types.Tooltip","sap.viz.ui5.types.Tooltip_background","sap.viz.ui5.types.Tooltip_bodyDimensionLabel","sap.viz.ui5.types.Tooltip_bodyDimensionValue","sap.viz.ui5.types.Tooltip_bodyMeasureLabel","sap.viz.ui5.types.Tooltip_bodyMeasureValue","sap.viz.ui5.types.Tooltip_closeButton","sap.viz.ui5.types.Tooltip_footerLabel","sap.viz.ui5.types.Tooltip_separationLine","sap.viz.ui5.types.Treemap","sap.viz.ui5.types.Treemap_animation","sap.viz.ui5.types.Treemap_border","sap.viz.ui5.types.Treemap_tooltip","sap.viz.ui5.types.VerticalBar","sap.viz.ui5.types.VerticalBar_animation","sap.viz.ui5.types.VerticalBar_tooltip","sap.viz.ui5.types.XYContainer","sap.viz.ui5.types.controller.Interaction","sap.viz.ui5.types.controller.Interaction_pan","sap.viz.ui5.types.controller.Interaction_selectability","sap.viz.ui5.types.layout.Dock","sap.viz.ui5.types.layout.Stack","sap.viz.ui5.types.legend.Common","sap.viz.ui5.types.legend.Common_title"],"types":["sap.viz.ui5.types.Area_drawingEffect","sap.viz.ui5.types.Area_marker_shape","sap.viz.ui5.types.Area_mode","sap.viz.ui5.types.Area_orientation","sap.viz.ui5.types.Axis_gridline_type","sap.viz.ui5.types.Axis_label_unitFormatType","sap.viz.ui5.types.Axis_position","sap.viz.ui5.types.Axis_type","sap.viz.ui5.types.Background_direction","sap.viz.ui5.types.Background_drawingEffect","sap.viz.ui5.types.Bar_drawingEffect","sap.viz.ui5.types.Bar_orientation","sap.viz.ui5.types.Bubble_drawingEffect","sap.viz.ui5.types.Bullet_drawingEffect","sap.viz.ui5.types.Bullet_orientation","sap.viz.ui5.types.Combination_drawingEffect","sap.viz.ui5.types.Combination_orientation","sap.viz.ui5.types.Datalabel_orientation","sap.viz.ui5.types.Datalabel_outsidePosition","sap.viz.ui5.types.Datalabel_paintingMode","sap.viz.ui5.types.Datalabel_position","sap.viz.ui5.types.Legend_layout_position","sap.viz.ui5.types.Line_drawingEffect","sap.viz.ui5.types.Line_marker_shape","sap.viz.ui5.types.Line_orientation","sap.viz.ui5.types.Pie_drawingEffect","sap.viz.ui5.types.Pie_valign","sap.viz.ui5.types.Scatter_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_drawingEffect","sap.viz.ui5.types.StackedVerticalBar_mode","sap.viz.ui5.types.StackedVerticalBar_orientation","sap.viz.ui5.types.Title_alignment","sap.viz.ui5.types.Tooltip_drawingEffect","sap.viz.ui5.types.VerticalBar_drawingEffect","sap.viz.ui5.types.VerticalBar_orientation","sap.viz.ui5.types.controller.Interaction_pan_orientation","sap.viz.ui5.types.controller.Interaction_selectability_mode","sap.viz.ui5.types.legend.Common_alignment","sap.viz.ui5.types.legend.Common_drawingEffect","sap.viz.ui5.types.legend.Common_position","sap.viz.ui5.types.legend.Common_type"],"interfaces":[]}}}}',
	"sap/viz/resources/chart/templates/standard_fiori/template.js":function(){
(function() {
    var toString = Object.prototype.toString;
    function isArray(it){
        return toString.call(it) === '[object Array]';
    }
    function isObject(it){
        return toString.call(it) === '[object Object]';
    }
    function _merge(a, b){
        for(var key in b){
            if(isArray(b[key])){
                a[key] = b[key].slice();
            }else if(isObject(b[key])){
                a[key] = a[key] || {};
                _merge(a[key], b[key]);
            }else{
                a[key] = b[key];
            }
        }
        return a;
    }
    function merge(){
        var res = {};
        for(var i = 0; i < arguments.length; ++i){
            _merge(res, arguments[i]);
        }
        return res;
    }

    var axisColor = "#333333";
    var axisGridlineColor = "#d8d8d8";
    var plotColorPalette = ["#5cbae6", "#b6d957", "#fac364", "#8cd3ff", "#d998cb", "#fade64", "#93b9c6", "#d9d6c7", "#52bacc", "#dce65c", "#98aafb"];

    var background = {
        background: {
            border: {
                top: {
                    visible: false
                },
                bottom: {
                    visible: false
                },
                left: {
                    visible: false
                },
                right: {
                    visible: false
                }
            },
            drawingEffect: "normal"
        }
    };

    var titleOpts = {
        title: {
            visible : true
        }
    };

    var legend = {
        legend: {
            selectionFeedback: true,
            drawingEffect: "normal",
            title: {
                visible: false
            },
            marker: {
                shape: "square",
                showLine: true,
                size: 14
            }
        }
    };
    var plotArea = {
        plotArea: {
            drawingEffect: "normal",
            dataPointStyleMode: "override",
            colorPalette: plotColorPalette,
            dataPoint: {
                stroke: {
                    visible : true,
                    color : '#ffffff'
                }
            },
            marker: {
                hoverOnlyMode : false
            },
            dataLabel: {
                distance: 0,
                line: {
                    color: "#e5e5e5",
                    visible: false
                },
                style:{
                    colorRange:"outside",
                    color: "#000000"
                }
            },
            gridline: {
                zeroLine: {
                    unhighlightAxis: false,
                    color: "#666666"
                }
            },
            radius: 0.33
        }
    };

    var generalOpts = {
        general : {
            'groupData' : true,
            'layout' : {
                'padding' : 16,
                'isFixedPadding' : true
            }
        },
        categoryAxis : {
            'title' : {
                'style' : {
                    'color' : "#333",
                    'fontSize' : "12px",
                    'fontWeight' : "regular",
                    'letterSpacing' : "0.5"
                }
            }
        },
        categoryAxis2 : {
            'title' : {
                'style' : {
                    'color' : "#333",
                    'fontSize' : "12px",
                    'fontWeight' : "regular",
                    'letterSpacing' : "0.5"
                }
            }
        },
        valueAxis : {
            'title' : {
                'style' : {
                    'color' : "#333",
                    'fontSize' : "12px",
                    'fontWeight' : "regular",
                    'letterSpacing' : "0.5"
                }
            }
        },
        valueAxis2 : {
            'title' : {
                'style' : {
                    'color' : "#333",
                    'fontSize' : "12px",
                    'fontWeight' : "regular",
                    'letterSpacing' : "0.5"
                }
            }
        },
        timeAxis : {
            'title' : {
                'style' : {
                    'color' : "#333",
                    'fontSize' : "12px",
                    'fontWeight' : "regular",
                    'letterSpacing' : "0.5"
                }
            }
        }
    };

    var interaction = {
        interaction : {
            deselected : {
                stroke : {
                    visible : true,
                    color: '#ffffff'
                },
                opacity : 0.6
            },
            hover : {
                stroke : {
                    color : "#666666"
                }
            },
            selected : {
                stroke : {
                    color : "#666666",
                    width : "2px"
                }
            },
            zoom: {
                enablement: 'enabled',
                direction: 'categoryAxis'
            },
            enableKeyboard: true
        }
    };

    var plotAreaDual = {
        plotArea: {
            dataPointStyleMode: "override",
            dataLabel:{
                style:{
                    colorRange:"outside",
                    color: "#000000"
                }
            },
            dataPoint: {
                stroke: {
                    visible : true,
                    color : '#ffffff'
                }
            },
            marker: {
                hoverOnlyMode : false
            },
            drawingEffect: "normal",
            primaryValuesColorPalette: ["#5cbae5", "#27a3dd", "#1b7eac"],
            secondaryValuesColorPalette: ["#b6d957", "#9dc62d", "#759422"],
            gridline: {
                zeroLine: {
                    unhighlightAxis: false,
                    color: "#666666"
                }
            }
        }
    };

    var zAxis = {
        zAxis: {
            title: {
                visible: true
            },
            color: axisColor
        }
    };

    var axis = {
        title: {
            visible: true
        },
        gridline: {
            color: axisGridlineColor
        },
        color: axisColor
    };

    var showAxisLine = {
        axisline: {
            visible: true
        }
    };

    var showInfoAxisLine = {
        axisLine: {
            visible: true
        }
    };

    var hideAxisLine = {
        axisline: {
            visible: false
        }
    };

    var hideInfoAxisLine = {
        axisLine: {
            visible: false
        }
    };

    var hideAxisTicker = {
        axisTick: {
            visible: false
        }
    };

    var gridline = {
        gridline: {
            type: "line",
            color: axisGridlineColor,
            showLastLine: true
        }
    };

    var verticalGridline = {
        gridline: {
            type: "line",
            color: axisGridlineColor,
            showFirstLine: true

        }
    };

    var dual = {
        title: {
            applyAxislineColor: true
        }
    };

    var defaultInfoOpts = merge(titleOpts, generalOpts);

    var base = merge(background, legend, interaction, plotArea);

    var baseDual = merge(background, legend, interaction, plotAreaDual);

    var horizontalEffect = {
        xAxis: merge(axis, hideAxisLine, gridline),
        yAxis: merge(axis),
        xAxis2: merge(axis, hideAxisLine)
    };

    var horizontalCategoryAxisEffect = {
        categoryAxis:{
            layout:{
                maxWidth : 0.5
            }
        }
    };

    var horizontalDualEffect = merge(horizontalEffect, {
        xAxis: dual,
        xAxis2: dual
    });

    var verticalEffect = {
        yAxis: merge(axis, hideAxisLine, verticalGridline),
        xAxis: axis,
        yAxis2: merge(axis, hideAxisLine)
    };

    var verticalDualEffect = merge(verticalEffect, {
        yAxis: dual,
        yAxis2: dual
    });

    //-------------------------------------------------------

    var barEffect = merge(base, horizontalEffect);

    var bar3dEffect = merge(base, zAxis, horizontalEffect);

    var dualbarEffect = merge(baseDual, horizontalDualEffect);

    var verticalbarEffect = merge(base, verticalEffect);

    var vertical3dbarEffect = merge(base, zAxis, verticalEffect);

    var dualverticalbarEffect = merge(baseDual, verticalDualEffect);

    var stackedbarEffect = merge(base, horizontalEffect);

    var dualstackedbarEffect = merge(baseDual, horizontalDualEffect);

    var stackedverticalbarEffect = merge(base, verticalEffect);

    var areaEffect = merge(base, {
        plotArea: {
            area: {
                stroke: {
                    visible: true,
                    color : '#ffffff'
                }
            }
        }
    });

    var dualstackedverticalbarEffect = merge(baseDual, verticalDualEffect);

    var lineEffect = merge(base, verticalEffect);

    var duallineEffect = merge(baseDual, verticalDualEffect);

    var horizontallineEffect = merge(base, horizontalEffect);

    var dualhorizontallineEffect = merge(baseDual, horizontalDualEffect);

    var combinationEffect = merge(base, verticalEffect);

    var dualcombinationEffect = merge(baseDual, verticalDualEffect);

    var horizontalcombinationEffect = merge(base, horizontalEffect);

    var dualhorizontalcombinationEffect = merge(baseDual, horizontalDualEffect);

    var bubbleEffect = merge(base, {
        yAxis: merge(axis, hideAxisLine, gridline),
        xAxis: axis
    });

    var pieEffect = merge(legend, plotArea, interaction, {
        plotArea: {
            dataLabel: {
                type: "percentage"
            },
            alignment:{
                vertical: "center"
            }
        },
        interaction : {
            hover : {
                stroke : {
                    color : "darken(0%)"
                }
            }
        }
    });

    var pieWithDepthEffect = pieEffect;

    var radarEffect = merge(legend, plotArea, {
        background: {
            visible: false
        },
        plotArea: {
            valueAxis: {
                gridline: {
                    color: axisGridlineColor
                }
            },
            dataline: {
                fill: {
                    transparency: 0
                }
            },
            polarAxis: {
                title: {
                    style: {
                        letterSpacing: "0.5"
                    }
                }
            },
            valueAxis: {
                title: {
                    style: {
                        letterSpacing: "0.5"
                    }
                }
            }
        }
    });

    var mekkoEffect = merge(base, {
        yAxis: merge(axis, hideAxisLine, {
            gridline: {
                type: "line"
            }
        }),
        xAxis: merge(axis, showAxisLine),
        xAxis2: merge(axis, showAxisLine)
    });
    var horizontalmekkoEffect = merge(base, {
        xAxis: merge(axis, hideAxisLine, {
            gridline: {
                type: "line"
            }
        }),
        yAxis: merge(axis, showAxisLine),
        yAxis2: merge(axis, showAxisLine)
    });


    var bulletEffect = merge(legend, background, plotArea, interaction, {
        valueAxis:{
            title :{
                visible :true
            }
        },
        categoryAxis :{
            title :{
                visible : true
            }
        },

        plotArea:{
            dataPoint: {
                stroke: {
                    visible: true,
                    color: "#ffffff"
                }
            },

            actualColor: ["#27a3dd","#9dc62d","#f8ac29", "#848f94"],
            additionalColor:[ "#84caec", "#c6e17d", "#fbd491","#bac1c4"],
            forecastColor:[ "#84caec", "#c6e17d", "#fbd491","#bac1c4"],
            gridline :{
                visible: true
            },
            target : {
                valueColor : "#343434",
                shadowColor : "#ffffff"
            }
        }
    });

    var vizTreemapEffect = {
        legend: {
            title: {
                visible: true
            }
        },
        plotArea:{
            dataLabel:{
                style:{
                    colorRange:"outside",
                    color: "#000000"
                }
            }
        }
    };

    var infoTreemapEffect = merge(legend,{
        plotArea:{
            dataLabel:{
                style:{
                    colorRange:"outside",
                    color: "#000000"
                }
            }
        }
    });

    var datapointColorEffect = {
        plotArea : {
            datapoint : {
                color : {
                    positive : "#61a656",
                    negative : "#d32030",
                    total : "#69767c"
                }
            }
        }
    };

    var waterfallLinkLine = {plotArea:{linkline:{size:2}}};

    var waterfallLegend= {
        legend: {
            visible: true,
            title: {
                visible: true
            },
            label: {
                text: {
                    negativeValue: '< 0',
                    positiveValue: '> 0'
                }
            }
        }
    };

    var waterfallEffect =  infoWaterfall( merge(verticalbarEffect, datapointColorEffect));

    var stackedwaterfallEffect = merge(stackedverticalbarEffect, datapointColorEffect);

    var horizontalwaterfallEffect = infoWaterfall( merge(barEffect, datapointColorEffect));;

    var horizontalstackedwaterfallEffect = merge(stackedbarEffect, datapointColorEffect);

    var gapSpacing = {
        plotArea : {
            gap : {
                barSpacing : 0.5,
                groupSpacing : 0.65
            }
        }
    };

    var gapSpacingPeriodicWaterfall = {
        plotArea : {
            gap : {
                innerGroupSpacing : 0,
                barSpacing : 0.5,
                groupSpacing : 1
            }
        }
    };

    sap.viz.extapi.env.Template.register({
        id: "standard_fiori",
        name: "Default Standard Fiori Template",
        version: "5.13.0",
        properties: {
            'viz/bar': barEffect,
            'viz/3d_bar': bar3dEffect,
            'viz/image_bar': barEffect,
            'viz/multi_bar': barEffect,
            'viz/dual_bar': dualbarEffect,
            'viz/multi_dual_bar': dualbarEffect,
            'viz/column': verticalbarEffect,
            'viz/3d_column': vertical3dbarEffect,
            'viz/multi_column': verticalbarEffect,
            'viz/dual_column': dualverticalbarEffect,
            'viz/multi_dual_column': dualverticalbarEffect,
            'viz/stacked_bar': stackedbarEffect,
            'viz/multi_stacked_bar': stackedbarEffect,
            'viz/dual_stacked_bar': dualstackedbarEffect,
            'viz/multi_dual_stacked_bar': dualstackedbarEffect,
            'viz/100_stacked_bar': stackedbarEffect,
            'viz/multi_100_stacked_bar': stackedbarEffect,
            'viz/100_dual_stacked_bar': dualstackedbarEffect,
            'viz/multi_100_dual_stacked_bar': dualstackedbarEffect,
            'viz/stacked_column': stackedverticalbarEffect,
            'viz/multi_stacked_column': stackedverticalbarEffect,
            'viz/dual_stacked_column': dualstackedverticalbarEffect,
            'viz/multi_dual_stacked_column': dualstackedverticalbarEffect,
            'viz/100_stacked_column': stackedverticalbarEffect,
            'viz/multi_100_stacked_column': stackedverticalbarEffect,
            'viz/100_dual_stacked_column': dualstackedverticalbarEffect,
            'viz/multi_100_dual_stacked_column': dualstackedverticalbarEffect,
            'riv/cbar': merge(legend, plotArea, {
                background: {
                    drawingEffect: "normal"
                },
                yAxis: axis
            }),
            'viz/combination': combinationEffect,
            'viz/horizontal_combination': horizontalcombinationEffect,
            'viz/dual_combination':dualcombinationEffect,
            'viz/dual_horizontal_combination': dualhorizontalcombinationEffect,
            'viz/boxplot': merge(base, {
                yAxis: merge(axis, hideAxisLine, verticalGridline),
                xAxis: axis
            }),
            'viz/horizontal_boxplot': merge(base, {
                xAxis: merge(axis, hideAxisLine, gridline),
                yAxis: axis
            }),
            'viz/waterfall': merge(base, {
                yAxis: merge(axis, hideAxisLine, verticalGridline),
                xAxis: {
                    title: {
                        visible: true
                    },
                    color: axisColor
                }
            }),
            'viz/horizontal_waterfall': merge(base, {
                xAxis: merge(axis, hideAxisLine, gridline),
                yAxis: {
                    title: {
                        visible: true
                    },
                    color: axisColor
                }
            }),

            'viz/stacked_waterfall': stackedverticalbarEffect,
            'viz/horizontal_stacked_waterfall': stackedbarEffect,

            'viz/line': lineEffect,
            'viz/multi_line': lineEffect,
            'viz/dual_line': duallineEffect,
            'viz/multi_dual_line': duallineEffect,
            'viz/horizontal_line': horizontallineEffect,
            'viz/multi_horizontal_line': horizontallineEffect,
            'viz/dual_horizontal_line': dualhorizontallineEffect,
            'viz/multi_dual_horizontal_line': dualhorizontallineEffect,

            'viz/area': lineEffect,
            'viz/multi_area': lineEffect,
            'viz/100_area': lineEffect,
            'viz/multi_100_area': lineEffect,
            'viz/horizontal_area': horizontallineEffect,
            'viz/multi_horizontal_area': horizontallineEffect,
            'viz/100_horizontal_area': horizontallineEffect,
            'viz/multi_100_horizontal_area': horizontallineEffect,
            'viz/pie': pieEffect,
            'viz/multi_pie': pieEffect,
            'viz/donut': pieEffect,
            'viz/multi_donut': pieEffect,
            'viz/pie_with_depth': pieWithDepthEffect,
            'viz/donut_with_depth': pieWithDepthEffect,
            'viz/multi_pie_with_depth': pieWithDepthEffect,
            'viz/multi_donut_with_depth': pieWithDepthEffect,
            'viz/bubble': bubbleEffect,
            'viz/multi_bubble': bubbleEffect,
            'viz/scatter': bubbleEffect,
            'viz/multi_scatter': bubbleEffect,
            'viz/scatter_matrix': bubbleEffect,
            'viz/radar': radarEffect,
            'viz/multi_radar': radarEffect,
            'viz/tagcloud': {
                legend: {
                    title: {
                        visible: true
                    }
                }
            },
            'viz/heatmap': {

                legend: {
                    title: {
                        visible: true
                    }
                },
                xAxis: {
                    title: {
                        visible: true
                    },
                    color: axisColor
                },
                yAxis: {
                    title: {
                        visible: true
                    },
                    color: axisColor
                }
            },
            'viz/treemap': vizTreemapEffect,
            'viz/mekko': mekkoEffect,
            'viz/100_mekko': mekkoEffect,
            'viz/horizontal_mekko': horizontalmekkoEffect,
            'viz/100_horizontal_mekko': horizontalmekkoEffect,
            'viz/number': {
                plotArea: {
                    "colorPalette": plotColorPalette,
                    valuePoint: {
                        label: {
                            fontColor: '#000000'
                        }
                    }
                }
            },

            'info/area': info(areaEffect),
            'info/radar': info(radarEffect),
            'info/column': merge(gapSpacing, info(verticalbarEffect)),
            'info/timeseries_column': merge(gapSpacing, infoTime(verticalbarEffect)),
            'info/timeseries_stacked_column': merge(gapSpacing, infoTime(verticalbarEffect)),
            'info/timeseries_100_stacked_column': merge(gapSpacing, infoTime(verticalbarEffect)),
            'info/bar': merge(gapSpacing, horizontalCategoryAxisEffect, info(barEffect)),
            'info/line': info(lineEffect),
            "info/timeseries_line": infoTimeLine(lineEffect),
            "info/timeseries_combination": merge(gapSpacing,infoTime(combinationEffect)),
            "info/timeseries_stacked_combination": merge(gapSpacing,infoTime(combinationEffect)),
            "info/dual_timeseries_combination": merge(gapSpacing,infoDualTime(dualcombinationEffect)),
            'info/pie': info(pieEffect),
            'info/donut': info(pieEffect),
            'info/scatter': infoBubble(bubbleEffect),
            'info/bubble': infoBubble(bubbleEffect),
            'info/timeseries_scatter': infoTimeBubble(bubbleEffect),
            'info/timeseries_bubble': infoTimeBubble(bubbleEffect),
            'info/stacked_column': merge(gapSpacing, info(stackedverticalbarEffect)),
            'info/stacked_bar': merge(gapSpacing, horizontalCategoryAxisEffect, info(stackedbarEffect)),
            'info/mekko': infoMekko(stackedverticalbarEffect),
            'info/100_mekko': infoMekko(stackedverticalbarEffect),
            'info/horizontal_mekko': merge(horizontalCategoryAxisEffect, infoMekko(stackedbarEffect)),
            'info/100_horizontal_mekko': merge(horizontalCategoryAxisEffect, infoMekko(stackedbarEffect)),
            'info/combination': merge(gapSpacing, info(combinationEffect)),
            'info/stacked_combination': merge(gapSpacing, info(combinationEffect)),
            'info/dual_combination': merge(gapSpacing, infoDual(dualcombinationEffect)),
            'info/dual_stacked_combination': merge(gapSpacing, infoDual(dualcombinationEffect)),
            'info/dual_column': merge(gapSpacing, infoDual(dualverticalbarEffect)),
            'info/dual_line': infoDual(duallineEffect),
            'info/dual_bar': merge(gapSpacing, horizontalCategoryAxisEffect, infoDual(dualbarEffect)),
            'info/100_stacked_column': merge(gapSpacing, info(stackedverticalbarEffect)),
            'info/100_stacked_bar': merge(gapSpacing, horizontalCategoryAxisEffect, info(stackedbarEffect)),
            'info/horizontal_line': merge(horizontalCategoryAxisEffect, info(horizontallineEffect)),
            'info/dual_horizontal_line': merge(horizontalCategoryAxisEffect, infoDual(dualhorizontallineEffect)),
            'info/horizontal_combination': merge(gapSpacing, horizontalCategoryAxisEffect, info(horizontalcombinationEffect)),
            'info/horizontal_stacked_combination': merge(gapSpacing, horizontalCategoryAxisEffect, info(horizontalcombinationEffect)),
            'info/dual_horizontal_combination': merge(gapSpacing, horizontalCategoryAxisEffect, infoDual(dualhorizontalcombinationEffect)),
            'info/dual_horizontal_stacked_combination': merge(gapSpacing, horizontalCategoryAxisEffect, infoDual(dualhorizontalcombinationEffect)),
            'info/treemap': merge(info(infoTreemapEffect), {
                interaction: {
                    deselected: {
                        opacity: 0.6
                    },
                    selected: {
                        stroke: {
                            width: 2,
                            color: "#666666"
                        }
                    },
                    hover: {
                        stroke: {
                            width: 2,
                            color: "#666666"
                        }
                    }
                }
            }),
            'info/timeseries_waterfall':merge(gapSpacingPeriodicWaterfall, infoTime(waterfallEffect)),
            'info/waterfall':merge(gapSpacing, info(waterfallEffect)),
            'info/stacked_waterfall' : merge(gapSpacing, info(stackedwaterfallEffect)),
            'info/horizontal_waterfall': merge(horizontalCategoryAxisEffect, gapSpacing, info(horizontalwaterfallEffect)),
            'info/horizontal_stacked_waterfall': merge(horizontalCategoryAxisEffect, gapSpacing, info(horizontalstackedwaterfallEffect)),

            'info/dual_stacked_bar': merge(gapSpacing, horizontalCategoryAxisEffect, infoDual(dualstackedbarEffect)),
            'info/100_dual_stacked_bar': merge(gapSpacing, horizontalCategoryAxisEffect, infoDual(dualstackedbarEffect)),
            'info/dual_stacked_column': merge(gapSpacing, infoDual(dualstackedverticalbarEffect)),
            'info/100_dual_stacked_column': merge(gapSpacing, infoDual(dualstackedverticalbarEffect)),
            'info/time_bubble': infoBubble(bubbleEffect),
            'info/bullet': merge(info(bulletEffect), {
                categoryAxis: {
                    layout:{
                        maxWidth : 0.5
                    }
                },
                valueAxis: {
                    layout: {
                        position: 'bottom'
                    }
                }
            }),
            'info/timeseries_bullet': infoTime(info(bulletEffect)),
            'info/vertical_bullet': info(bulletEffect),
            'info/heatmap': merge(defaultInfoOpts, legend, {
                plotArea: {
                   dataLabel:{
                        style:{
                            colorRange:"outside",
                            color: "#000000"
                        }
                    },
                    dimensionLabel: {
                        style: {
                            color: null
                        }
                    }
                },
                categoryAxis: {
                    title: {
                        visible : true
                    },
                    axisLine: {
                        visible: false
                    }
                },
                categoryAxis2: {
                    title: {
                        visible : true
                    },
                    axisLine: {
                        visible: false
                    },
                    layout:{
                        maxWidth : 0.5
                    }
                },
                interaction: {
                    deselected: {
                        opacity: 0.6
                    },
                    selected: {
                        stroke: {
                            width: 2,
                            color: "#666666"
                        }
                    },
                    hover: {
                        stroke: {
                            width: 2,
                            color: "#666666"
                        }
                    }
                }
            })
        },

        //v-longtick must be set after v-categoryaxisline
        css: ".v-datapoint .v-boxplotmidline{stroke:#333333}\
         .v-longtick{stroke:#b3b3b3;}",

        // css property not apply for info chart flag
        isBuiltIn : true,

        scales : function() {
            var obj = {};
            var singleChartTypes = [
                "info/column",
                "info/bar",
                "info/line",
                "info/pie",
                "info/donut",
                "info/scatter",
                "info/bubble",
                "info/stacked_column",
                "info/stacked_bar",
                "info/combination",
                "info/stacked_combination",
                "info/100_stacked_column",
                "info/100_stacked_bar",
                "info/mekko",
                "info/100_mekko",
                "info/horizontal_mekko",
                "info/100_horizontal_mekko",
                "info/horizontal_line",
                "info/horizontal_combination",
                "info/horizontal_stacked_combination",
                "info/time_bubble",
                "info/radar"
            ];
            singleChartTypes.forEach(function(e) {
                obj[e] = [{
                    "feed": "color",
                    "palette": plotColorPalette
                }];
            });
            var dualChartTypes = [
                "info/dual_combination",
                "info/dual_stacked_combination",
                "info/dual_column",
                "info/dual_line",
                "info/dual_bar",
                "info/dual_horizontal_line",
                "info/dual_horizontal_combination",
                "info/dual_horizontal_stacked_combination",
                "info/dual_stacked_bar",
                "info/100_dual_stacked_bar",
                "info/dual_stacked_column",
                "info/dual_timeseries_combination",
                "info/100_dual_stacked_column"
            ];
            dualChartTypes.forEach(function(e) {
                obj[e] = [{
                    "feed": "color",
                    "palette": [plotAreaDual.plotArea.primaryValuesColorPalette, plotAreaDual.plotArea.secondaryValuesColorPalette]
                }];
            });
            var heatmap = ['info/heatmap', "info/treemap"];
            heatmap.forEach(function(e) {
                obj[e] = [{
                    feed: "color",
                    type: "quantize",
                    nullColor: "#bac1c4",
                    palette: [
                        "#84caec",
                        "#5cbae5",
                        "#27a3dd",
                        "#1b7eac",
                        "#156489"
                    ],
                    numOfSegments: 5
                }];
            });
            return obj;
        }()
    });



    function info(obj) {
        var ret = {};
        for (var i in obj) {
            if (obj.hasOwnProperty(i)) {
                ret[i] = obj[i];
            }
        }

        ret.valueAxis = merge(axis, hideInfoAxisLine, hideAxisTicker, gridline);
        ret.categoryAxis = merge(axis);

        general(ret);
        ret = merge(ret, defaultInfoOpts);
        return ret;
    }

    function infoTime(obj){
        var ret = info(obj);
        ret.timeAxis = ret.categoryAxis;
        delete ret.categoryAxis;
        return ret;
    }

    function infoTimeLine(obj){
        var ret = info(obj);
        ret.timeAxis = ret.categoryAxis;
        delete ret.categoryAxis;

        ret = merge(ret, {
            plotArea : {
                window : {
                    start: 'firstDataPoint'
                }
            }
        });
        return ret;
    }

    function infoDual(obj) {
        var ret = {};
        for (var i in obj) {
            if (obj.hasOwnProperty(i)) {
                ret[i] = obj[i];
            }
        }
        ret.valueAxis = merge(axis, hideInfoAxisLine, gridline, dual);
        delete ret.valueAxis.color;
        ret.categoryAxis = merge(axis);
        ret.valueAxis2 = merge(axis, hideInfoAxisLine, dual);
        delete ret.valueAxis2.color;
        general(ret);
        ret = merge(ret, defaultInfoOpts);
        return ret;
    }

    function infoDualTime(obj) {
        var ret = infoTime(obj);
        ret = merge(ret, background);
        ret = infoDual(ret);
        return ret;
    }

    function infoMekko(obj) {
        return merge(infoDual(obj), {
            valueAxis: {
                title: {
                    applyAxislineColor: false
                }
            },
            valueAxis2: {
                title: {
                    applyAxislineColor: false
                },
                axisLine: {
                    visible: true
                }
            }
        });
    }

    function infoTimeBubble(obj) {
        var ret = infoBubble(obj);
        ret.valueAxis = ret.valueAxis2;
        delete ret.valueAxis2;
        ret.timeAxis = {
                title: {
                    visible: true,
                    style: {
                        color : "#333",
                        fontSize : "12px",
                        fontWeight : "regular",
                        letterSpacing : "0.5"
                    }
                },
                gridline: {
                    color: axisGridlineColor
                },
                color: axisColor
            };

        return ret;
    }

    function infoBubble(obj) {
        var ret = {};
        for (var i in obj) {
            if (obj.hasOwnProperty(i)) {
                ret[i] = obj[i];
            }
        }

        ret.valueAxis = merge(axis, showInfoAxisLine, gridline);
        ret.valueAxis2 = merge(axis, hideInfoAxisLine, hideAxisTicker);
        ret.sizeLegend = merge(obj.sizeLegend || {}, {
            title : {
                visible : true
            }
        });


        general(ret);
        ret = merge(ret, defaultInfoOpts);
        return ret;
    }

    function infoWaterfall(obj) {
        var ret = merge(obj, waterfallLinkLine, waterfallLegend);
        ret = merge(ret, defaultInfoOpts);
        return ret;
    }

    function general(obj) {
        obj.plotArea = obj.plotArea || {};
        obj.plotArea.background = obj.background;
        delete obj.background;

        delete obj.xAxis;
        delete obj.xAxis2;
        delete obj.yAxis;
        delete obj.yAxis2;
    }
})();
},
	"sap/viz/ui5/controls/WorkerCode.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
(function(){"use strict";function a(){function a(a){if(!a||typeof a!=="object"||{}.toString.call(a)!="[object Object]"){return false}var t=Object.getPrototypeOf(a);if(t===null){return true}var e=self.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)}function t(e,r,o){for(var n in o){var i=o[n];var f=e?e[n]:e;if(i!==undefined){if(f===null||!a(i)){r[n]=i}else{var l=r[n];if(!l||!a(l)){l=r[n]={}}t(f,l,i)}}}}function e(a,e,r){e=e||{};for(var o=2;o<arguments.length;o++){var n=arguments[o];t(a,e,n)}return e}self.onmessage=function(a){var t={};var r=a.data.allChartNames;for(var o=0;o<r.length;++o){var n=r[o];if(a.data.applicationSet==="fiori"){t[n]=e(a.data.allPropDefs[n],a.data.defaultFioriProps,a.data.generalProps,a.data.specificProps[n.replace("info/","")]);if(/dual/.test(n)){e[n]=e(a.data.allPropDefs[n],t[n],a.data.dualFioriProps)}}else{t[n]=e(a.data.allPropDefs[n],a.data.generalProps,a.data.specificProps[n.replace("info/","")],a.data.defaultFormatString[n])}t[n]=e(a.data.allPropDefs[n],a.data.cvomTemplate[n],t[n],a.data.allUi5Theme[n],a.data.extraProp)}self.postMessage(t)}}if(typeof sap!=="undefined"&&sap.ui&&sap.ui.define){sap.ui.define([],function(){return a})}else{a()}})();
},
	"sap/viz/ui5/controls/libs/sap-viz-vizframe/sap-viz-vizframe.js":function(){
/* SAP CVOM 4.0  <2012-2014> SAP SE. All rights reserved. Build Version 1.9.1, Build context N/A */
(function(e){sap.viz.moduleloader.originalDefine=e.define;sap.viz.moduleloader.originalRequire=e.require;sap.viz.moduleloader.originalRequirejs=e.requirejs;e.define=sap.viz.moduleloader.define;e.require=sap.viz.moduleloader.require.config({context:"lw-vizframe",exportMap:{"sap/viz/vizframe/frame/VizFrame":"sap.viz.vizframe.VizFrame","sap/viz/vizframe/common/Version":"sap.viz.vizframe.VERSION"}});e.requirejs=require})(this);define("sap/viz/vizframe/common/Version",["exports"],function(){return"1.9.1"});define("sap/viz/vizframe/api/Version",["sap/viz/vizframe/common/Version","require"],function(e){sap.viz.vizframe.VERSION=e;return e});define("sap/viz/vizframe/api/APIUtil",[],function(){var e={};function t(e,t,i){i.split(/\s+/).forEach(function(i){e[i]=function(){return r(this[t][i].apply(this[t],arguments))}})}function i(e,t,i){i.split(/\s+/).forEach(function(i){Object.defineProperty(e,i,{enumerable:true,configurable:true,get:function(){return this[t][i]},set:function(e){return this[t][i]=e}})})}function n(t,i){e[t]=i}function r(t){if(t==null){return t}if(t.__wrapper__){return t.__wrapper__}if(t.__className&&e[t.__className]){return new e[t.__className](t)}return t}return{buildProxyMethods:t,buildProxyProperty:i,wrap:r,setWrapping:n}});define("jquery",[],function(){return jQuery});define("sap/viz/vizframe/common/LanguageLoader",[],function(){sap.viz.extapi.env.Language.register({id:"language",value:{VIZ_FRAME_CONTROL_LOAD_ERROR:"Failed to load the control object {0}.",VIZ_FRAME_INVALID:"Invalid VizFrame instance.",VIZ_FRAME_DESTORYED:"VizFrame instance was destroyed."}})});define("sap/viz/vizframe/common/utils/OOUtil",[],function(){var e={};e.extend=function(e,t){var i=e.prototype;e.superclass=t.prototype;var n=function(){};n.prototype=t.prototype;e.prototype=new n;for(var r in i){if(i.hasOwnProperty(r)){e.prototype[r]=i[r]}}e.prototype.constructor=e;if(t.prototype.constructor==Object.prototype.constructor){t.prototype.constructor=t}return e};return e});define("sap/viz/vizframe/common/utils/utils",[],function(){var e={};var t=Object.prototype.hasOwnProperty;var i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};e.type=function(e){return e==null?String(e):i[Object.prototype.toString.call(e)]||"object"};e.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};e.isFunction=function(t){return e.type(t)==="function"};e.isBoolean=function(t){return e.type(t)==="boolean"};e.isString=function(t){return e.type(t)==="string"};e.isArray=function(t){return e.type(t)==="array"};e.isNumber=function(t){return e.type(t)==="number"};e.isObject=function(t){return e.type(t)==="object"};e.isPlainObject=function(i){if(!i||e.type(i)!=="object"||i.nodeType||i&&typeof i==="object"&&"setInterval"in i){return false}if(i.constructor&&!t.call(i,"constructor")&&!t.call(i.constructor.prototype,"isPrototypeOf")){return false}var n;for(n in i){}return n===undefined||t.call(i,n)},e.isEmptyObject=function(t){for(var i in t){if(t.hasOwnProperty(i)){return false}}return e.isPlainObject(t)},e.isRegExp=function(t){return e.type(t)==="regexp"};e.noop=function(){};e.substitute=function(e,t){if(!e){return""}for(var i=1;i<arguments.length;i++){e=e.replace(new RegExp("\\{"+(i-1)+"\\}","g"),arguments[i])}return e};e.deepEqual=function(t,i){if(typeof t==="object"&&typeof i==="object"&&e.isExist(t)&&e.isExist(i)){var n=null;for(n in t){if(t.hasOwnProperty(n)){if(!i.hasOwnProperty(n)){return false}else if(!e.deepEqual(t[n],i[n])){return false}}}for(n in i){if(i.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){return false}}}return true}else{return t===i}};e.isExist=function(e){if(typeof e==="undefined"||e===null){return false}return true};return e});define("sap/viz/vizframe/common/events/Event",[],function(){var e=function(e,t,i){this.__className="sap.viz.vizframe.common.events.Event";this._type=e;this._target=t;this.data=i};e.prototype.type=function(){return this._type};e.prototype.target=function(){return this._target};return e});define("sap/viz/vizframe/common/events/EventDispatcher",["sap/viz/vizframe/common/utils/utils"],function(e){var t=function(){this.__className="sap.viz.vizframe.common.events.EventDispatcher";this._enableDispatchEvent=true};t.prototype.addEventListener=function(e,t,i,n){if(!n){n=0}var r=this._findEventListener(e,t,i);if(r){return}r={type:e,scope:i,listener:t,priority:n};var s=this.listeners()[e];if(!s){this.listeners()[e]=s=[r]}else{var o=false;for(var a=0;a<s.length;++a){var c=s[a];if(n>c.priority){s.splice(a,0,r);o=true;break}}if(o===false){s.push(r)}}};t.prototype.removeEventListener=function(e,t,i){var n=this._findEventListener(e,t,i);if(n){var r=this.listeners()[e];r.splice(r.indexOf(n),1)}};t.prototype.removeEventListeners=function(e){this.listeners()[e]=[]};t.prototype.removeAllEventListeners=function(){this._listeners={}};t.prototype.hasEventListener=function(e,t,i){var n=this._findEventListener(e,t,i);return n!==null};t.prototype.hasEventListeners=function(e){var t=this.listeners()[e];if(t){return t.length>0}return false};t.prototype._dispatchEvent=function(e){if(this._enableDispatchEvent===undefined){this._enableDispatchEvent=true}if(this._enableDispatchEvent){var t=e.type();var i=this.listeners()[t];if(i){var n=i.slice(0);for(var r=0;r<n.length;++r){var s=n[r];s.listener.call(s.scope,e)}}}};t.prototype.enableDispatchEvent=function(t){if(this._enableDispatchEvent===undefined){this._enableDispatchEvent=true}if(arguments.length>=1){if(e.isBoolean(t)){this._enableDispatchEvent=t}return this}else{return this._enableDispatchEvent}};t.prototype._findEventListener=function(e,t,i){var n=this.listeners()[e];if(!n){return null}for(var r=0;r<n.length;++r){var s=n[r];if(s.listener===t&&s.scope===i){return s}}return null};t.prototype.listeners=function(){if(this._listeners===undefined){this._listeners={}}return this._listeners};return t});define("sap/viz/vizframe/common/UIControl",["jquery","sap/viz/vizframe/common/utils/OOUtil","sap/viz/vizframe/common/events/EventDispatcher"],function(e,t,i){var n=function t(i){t.superclass.constructor.apply(this,arguments);this.__className="sap.viz.vizframe.common.UIControl";this._dom=i;this._dom$=e(i)};t.extend(n,i);n.prototype.dom$=function(){return this._dom$};n.prototype.destroy=function(){this.removeAllEventListeners();if(this._dom$){this._dom$.empty().removeData().off()}this._dom=null;this._dom$=null};return n});define("sap/viz/vizframe/frame/viz/VizUtil",["jquery"],function(e){var t={};var i=["data","bindings","customizations","template","size","sharedRuntimeScales"];t.mergeOptions=function(t,n){for(var r=0;r<i.length;++r){if(n[i[r]]){t[i[r]]=n[i[r]]}}if(n.properties){t.properties=sap.viz.vizservices.__internal__.PropertyService.mergeProperties(t.type,t.properties,n.properties)}if(n.scales){if(n.scalesOption){t.scalesOption=e.extend({},n.scalesOption)}t.scales=sap.viz.vizservices.__internal__.ScaleService.mergeScales(t.type,t.scales,n.scales)}return t};return t});define("sap/viz/vizframe/frame/viz/VizCache",["sap/viz/vizframe/frame/viz/VizUtil"],function(e){var t=function(e){this.__className="sap.viz.vizframe.frame.viz.VizCache";this._options=e};t.generateFromVizInstance=function(e,i){var n=i.scalesOption&&i.scalesOption.level==="user"&&i.scalesOption.replace;var r={data:e.data(),bindings:e.bindings(),scales:e.scales([],{level:"user",isRender:false,replace:n}),properties:e.properties({},{level:"user",isRender:false}),customizations:e.customizations(),template:e.template()};var s=e.size();if(!s.auto){r.size=s}return new t(r)};t.generateFromOptions=function(e){return new t(e)};t.prototype.options=function(e){if(arguments.length){this._options=e}else{return this._options}};t.prototype.update=function(t){e.mergeOptions(this._options,t)};return t});define("sap/viz/vizframe/frame/viz/Viz",["sap/viz/vizframe/common/utils/OOUtil","sap/viz/vizframe/common/UIControl","sap/viz/vizframe/frame/viz/VizCache","sap/viz/vizframe/frame/viz/VizUtil"],function(e,t,i,n){var r=function(e,t,i){r.superclass.constructor.apply(this,arguments);this.__className="sap.viz.vizframe.frame.viz.Viz";this._onCaches=[];this._type=null;this._vizInstance=null;this._vizCache=null;this._beforeRenderCallback=t;this._afterRenderCallback=i};e.extend(r,t);r.prototype._getDataRange=function(e,t){return this._vizInstance&&this._vizInstance._getDataRange(e,t)};r.prototype.update=function(e){this._beforeRenderCallback();try{if(!this._vizInstance){this._createVizInstance(e)}else{if(e.type!==undefined&&e.type!==this._type){this._vizCache=i.generateFromVizInstance(this._vizInstance,e);this._clearVizInstance();this._createVizInstance(e)}else{this._updateVizInstance(e)}}}catch(e){this._afterRenderCallback();throw e}};r.prototype.type=function(){return this._type};r.prototype.save=function(){if(this._vizInstance){return sap.viz.api.core.exportViz(this._vizInstance)}else{return{type:"vizCache",options:this._vizCache.options()}}};r.prototype.load=function(e){this._clearVizInstance();if(e.type==="vizCache"){this._vizCache=i.generateFromOptions(e.options)}else{this._vizCache=null;this._beforeRenderCallback();try{this._vizInstance=sap.viz.api.core.loadViz(e,this._dom);this._initVizInstance();this._type=e.type}finally{this._afterRenderCallback()}}};r.prototype.destroy=function(){this._clearVizInstance();this._vizCache=null;this._onCaches=null};["data","bindings","properties","scales","sharedRuntimeScales","customizations","template"].forEach(function(e){(function(e){r.prototype[e]=function(){var t={};var i;if(arguments.length>=2){t[e]=arguments[0];t[e+"Option"]=arguments[1];if(this._vizInstance){this._beforeRenderCallback();i=this._vizInstance[e](t[e],t[e+"Option"]);this._afterRenderCallback()}else{this._vizCache.update(t);return this._vizCache.options()[e]}}else if(arguments.length===1){t[e]=arguments[0];this.update(t);return this}else{if(this._vizInstance){return this._vizInstance[e]()}else{return this._vizCache.options()[e]}}return i===this._vizInstance?this:i}})(e)});["selection","propertyZone","feedingZone","runtimeScales","size"].forEach(function(e){(function(e){r.prototype[e]=function(){if(this._vizInstance){return this._vizInstance[e].apply(this._vizInstance,arguments)}else{return[]}}})(e)});["states","exportToSVGString"].forEach(function(e){(function(e){r.prototype[e]=function(){var t;if(this._vizInstance){t=this._vizInstance[e].apply(this._vizInstance,arguments)}return t===this._vizInstance?this:t}})(e)});r.prototype.on=function(e,t){if(this._vizInstance){this._vizInstance.on(e,t)}this._onCaches.push({type:e,callback:t})};r.prototype.off=function(e){if(this._vizInstance){this._vizInstance.off(e)}this._onCaches=this._onCaches.filter(function(t){return e!==t.type})};r.prototype.zoom=function(e){if(this._vizInstance){this._vizInstance.states({zoomInOut:e})}};r.prototype._createVizInstance=function(e){try{if(e.type){this._type=e.type}var t=null;if(this._vizCache){t={type:this._type};n.mergeOptions(t,this._vizCache.options());n.mergeOptions(t,e)}else{t=e}t.container=this._dom;this._vizInstance=sap.viz.api.core.createViz(t);this._initVizInstance();this._vizCache=null}catch(n){if(this._vizCache){this._vizCache.options(t)}else{this._vizCache=i.generateFromOptions(e)}this._clearVizInstance();throw n}};r.prototype._updateVizInstance=function(e){try{if(e.type){this._type=e.type}this._vizInstance.update(e)}catch(t){this._vizCache=i.generateFromVizInstance(this._vizInstance,e);this._vizCache.update(e);this._clearVizInstance();throw t}};r.prototype._initVizInstance=function(){this._vizInstance.on("renderComplete",function(){this._afterRenderCallback()}.bind(this));this._onCaches.forEach(function(e){this._vizInstance.on(e.type,e.callback)}.bind(this))};r.prototype._clearVizInstance=function(){if(this._vizInstance){this._vizInstance.destroy()}this._vizInstance=null};return r});define("sap/viz/vizframe/frame/VizFrameEvent",["sap/viz/vizframe/common/utils/OOUtil","sap/viz/vizframe/common/events/Event"],function(e,t){var i=function(e,t,n){i.superclass.constructor.apply(this,arguments);this.__className="sap.viz.vizframe.common.events.VizFrameEvent"};e.extend(i,t);i.BEFORE_RENDER="beforeRender";i.AFTER_RENDER="afterRender";return i});define("sap/viz/vizframe/frame/VizFrameConfig",[],function(){var e={};e.instance=function(){return JSON.parse(JSON.stringify({controls:{morpher:{enabled:true}}}))};return e});define("sap/viz/vizframe/frame/VizFrameProxy",["jquery","sap/viz/vizframe/common/utils/OOUtil","sap/viz/vizframe/common/events/EventDispatcher"],function(e,t,i){var n=function e(t){this._vizframe=t};n.prototype.dataset=function(){try{return this._vizframe.data.apply(this._vizframe,arguments)}catch(e){return null}};n.prototype.vizType=function(){try{return this._vizframe.type.apply(this._vizframe,arguments)}catch(e){return null}};n.prototype.feedingZone=function(){try{return this._vizframe.feedingZone.apply(this._vizframe,arguments)}catch(e){return null}};n.prototype.addEventListener=function(){this._vizframe.addEventListener.apply(this._vizframe,arguments)};n.prototype.removeEventListener=function(){this._vizframe.removeEventListener.apply(this._vizframe,arguments)};return n});define("sap/viz/vizframe/frame/ControlFactory",["require"],function(e){var t=function(){this.__className="sap.viz.vizframe.frame.ControlFactory"};var i={morpher:"sap/viz/vizframe/controls/morpher/Morpher"};t.createControl=function(t,n,r,s){var o=null;try{if(i[t]){var a=e(i[t]);o=new a(n,r,s)}}catch(e){}return o};return t});define("sap/viz/vizframe/frame/VizFrame",["jquery","sap/viz/vizframe/common/LanguageLoader","sap/viz/vizframe/common/utils/OOUtil","sap/viz/vizframe/common/utils/utils","sap/viz/vizframe/common/events/Event","sap/viz/vizframe/common/events/EventDispatcher","sap/viz/vizframe/frame/viz/Viz","sap/viz/vizframe/frame/VizFrameEvent","sap/viz/vizframe/frame/VizFrameConfig","sap/viz/vizframe/frame/VizFrameProxy","sap/viz/vizframe/frame/ControlFactory","exports"],function(e,t,i,n,r,s,o,a,c,p,f){var l=function(t,i){l.superclass.constructor.call(this);this.__className="sap.viz.vizframe.frame.VizFrame";this._dom=t.container,this._dom$=e(this._dom);this._config=e.extend(true,c.instance(),i);this._destroyed=false;this._vizInstanceContainer=document.createElement("div");e(this._vizInstanceContainer).appendTo(this._dom$).css({width:"100%",height:"100%"});this._viz=new o(this._vizInstanceContainer,function(){this._dispatchEvent(new a(a.BEFORE_RENDER,this))}.bind(this),function(){this._dispatchEvent(new a(a.AFTER_RENDER,this))}.bind(this));this._controlsContainer=document.createElement("div");e(this._controlsContainer).appendTo(this._dom$);this._controls={};var n=null;for(n in this._config.controls){if(this._config.controls[n].enabled!==false){try{this._enableControl(n,this._config.controls[n].config)}catch(e){if(i&&i.controls&&i.controls[n]&&i.controls[n].hasOwnProperty("enabled")&&i.controls[n].enabled!==false){throw e}}}}try{this._viz.update(t)}catch(e){if(this._config.throwError===true){throw e}}};i.extend(l,s);["data","bindings","properties","scales","sharedRuntimeScales","runtimeScales","customizations","template","exportToSVGString","states","size","update","selection","propertyZone","feedingZone","on","off"].forEach(function(e){(function(e){l.prototype[e]=function(){this._validateLifecycle();var t=this._viz[e].apply(this._viz,arguments);return t===this._viz?this:t}})(e)});l.prototype._getDataRange=function(e,t){return this._viz._getDataRange(e,t)};l.prototype.getControl=function(e){return this._controls[e]};l.prototype.enableControl=function(e,t){this._validateLifecycle();return this._enableControl.apply(this,arguments)};l.prototype.disableControl=function(e){this._validateLifecycle();return this._disableControl.apply(this,arguments)};l.prototype.destroy=function(){this._validateLifecycle();for(var e in this._controls){this._disableControl(e)}if(this._viz){this._viz.destroy()}this.removeAllEventListeners();if(this._dom$){this._dom$.empty().removeData().off()}this._dom=null;this._dom$=null;this._destroyed=true};l.prototype.type=function(e){this._validateLifecycle();if(arguments.length>0){this.update({type:e});return this}else{return this._viz.type()}};l.prototype.save=function(){this._validateLifecycle();return this._viz.save()};l.prototype.load=function(e){this._validateLifecycle();this._viz.load(e)};l.prototype.zoom=function(e){this._viz.zoom(e)};l.prototype._validateLifecycle=function(e){if(this._destroyed){throw n.substitute(sap.viz.extapi.env.Language.getResourceString("VIZ_FRAME_DESTORYED"))}};l.prototype._enableControl=function(e,t){if(this.getControl(e)){return}var i=this._attachControl(e);var r=f.createControl(e,i,t,new p(this));if(r){if(e==="morpher"){r.bindVizInstanceContainer(this._vizInstanceContainer)}this._controls[e]=r}else{throw n.substitute(sap.viz.extapi.env.Language.getResourceString("VIZ_FRAME_CONTROL_LOAD_ERROR"),e)}};l.prototype._disableControl=function(e){var t=this._controls[e];if(!t){return}if(t.dom$()){t.dom$().detach()}t.destroy();delete this._controls[e]};l.prototype._attachControl=function(t){var i=null;if(t==="morpher"){i=e(document.createElement("div")).appendTo(this._controlsContainer);i.css({position:"absolute",left:"0px",top:"0px"})}return i?i.get(0):null};return l});define("sap/viz/vizframe/api/VizFrame",["sap/viz/vizframe/api/APIUtil","sap/viz/vizframe/frame/VizFrame","require"],function(e,t){var i=sap.viz.vizframe.VizFrame=function(e,i){this.__internal_reference_VizFrame__=new t(e,i);this.__internal_reference_VizFrame__.__wrapper__=this};e.setWrapping("sap.viz.vizframe.VizFrame",i);e.buildProxyMethods(i.prototype,"__internal_reference_VizFrame__",["enableControl","disableControl","destroy","on","off","type","update","data","bindings","properties","scales","customizations","template","selection","propertyZone","feedingZone","size","save","load","exportToSVGString","sharedRuntimeScales","runtimeScales","states","zoom","_getDataRange"].join(" "));return i});(function(){var e=define&&define.__autoLoad;if(e&&e.length){define.__autoLoad=[];require(e)}})();(function(e){e.define=sap.viz.moduleloader.originalDefine;e.require=sap.viz.moduleloader.originalRequire;e.requirejs=sap.viz.moduleloader.originalRequirejs})(this);
},
	"sap/viz/ui5/controls/libs/sap-viz-vizservices/sap-viz-vizservices.js":function(){
/* SAP CVOM 4.0  <2012-2014> SAP SE. All rights reserved. Build Version 1.9.1, Build context N/A */
(function(e){sap.viz.moduleloader.originalDefine=e.define;sap.viz.moduleloader.originalRequire=e.require;sap.viz.moduleloader.originalRequirejs=e.requirejs;e.define=sap.viz.moduleloader.define;e.require=sap.viz.moduleloader.require.config({context:"lw-vizservices",exportMap:{"sap/viz/vizservices/service/bvr/BVRService":"sap.viz.vizservices.BVRService","sap/viz/vizservices/service/feed/FeedService":"sap.viz.vizservices.FeedService","sap/viz/vizservices/service/binding/BindingService":"sap.viz.vizservices.__internal__.BindingService","sap/viz/vizservices/service/property/PropertyService":"sap.viz.vizservices.__internal__.PropertyService","sap/viz/vizservices/service/scale/ScaleService":"sap.viz.vizservices.__internal__.ScaleService","sap/viz/vizservices/common/Version":"sap.viz.vizservices.VERSION"}});e.requirejs=require})(this);define("sap/viz/vizservices/common/feed/FeedConst",[],function(){var e={};e.ID_TRELLIS_ROW="trellisRow";e.ID_TRELLIS_COLUMN="trellisColumn";e.ID_DATAFRAME="dataFrame";e.ID_TIME_AXIS="timeAxis";e.ID_MND="MND";e.TYPE_DIMENSION="Dimension";e.TYPE_MEASURE="Measure";e.TYPE_MND="MND";e.DATA_TYPE_STRING="String";e.DATA_TYPE_NUMBER="Number";e.DATA_TYPE_DATE="Date";return e});define("sap/viz/vizservices/common/utils/OOUtil",[],function(){var e={};e.extend=function(e,i){var r=e.prototype;e.superclass=i.prototype;var t=function(){};t.prototype=i.prototype;e.prototype=new t;for(var a in r){if(r.hasOwnProperty(a)){e.prototype[a]=r[a]}}e.prototype.constructor=e;if(i.prototype.constructor==Object.prototype.constructor){i.prototype.constructor=i}return e};return e});define("sap/viz/vizservices/common/data/DatasetTypeConst",[],function(){var e={};e.FLAT_TABLE="FlatTableDataset";e.CROSS_TABLE="CrossTableDataset";e.RAW="RawDataset";e.ARRAY_FLAT_TABLE="ArrayOfFlatTableDataset";return e});define("sap/viz/vizservices/common/metadata/MetadataBase",["sap/viz/vizservices/common/data/DatasetTypeConst"],function(e){var i=function(i){this._raw=i;this._support={dataset:{}};this._support.dataset[e.CROSS_TABLE]=false;this._support.dataset[e.FLAT_TABLE]=false;this._bindingDefs=null};i.prototype.raw=function(){return this._raw};i.prototype.support=function(){return this._support};i.prototype.removeInvalidProperty=function(e){var i=this.getRawPropertiesDef();var r=this._raw.type;this._removeInvalidProperty(e,i)};i.prototype.dataType=function(){if(!this._raw){return null}if(this._raw.dataType==="sap.viz.api.data.CrosstableDataset"){return e.CROSS_TABLE}else if(this._raw.dataType==="sap.viz.api.data.FlatTableDataset"){return e.FLAT_TABLE}else if(this._raw.dataType==="raw"){return e.RAW}else{return null}};return i});define("sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst",[],function(){var e={};e.TYPE_DIMENSION="Dimension";e.TYPE_MEASURE="Measure";e.MND_MODE_NONE="none";e.MND_MODE_SUPPORT_EXCLUSIVELY="supportExclusively",e.MND_MODE_SUPPORT="support";e.MND_MODE_ONLY="mndOnly";return e});define("sap/viz/vizservices/common/metadata/bindingdef/BindingDef",["sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst"],function(e){var i=function(i){this._id=i.id;this._name=i.name;this._type=i.type;this._min=i.min||0;this._max=i.max||Infinity;this._mndEnumerable=i.mndEnumerable!==undefined?i.mndEnumerable:false;this._mndMode=i.mndMode||e.MND_MODE_NONE;this._bvrPriority=i.bvrPriority!==undefined?i.bvrPriority:Number.POSITIVE_INFINITY;this._bvrMNDPriority=i.bvrMNDPriority!==undefined?i.bvrMNDPriority:Number.POSITIVE_INFINITY};i.prototype.id=function(){return this._id};i.prototype.name=function(){return this._name};i.prototype.type=function(){return this._type};i.prototype.min=function(){return this._min};i.prototype.max=function(){return this._max};i.prototype.mndEnumerable=function(){return this._mndEnumerable};i.prototype.mndMode=function(){return this._mndMode};i.prototype.bvrPriority=function(){return this._bvrPriority};i.prototype.bvrMNDPriority=function(){return this._bvrMNDPriority};i.prototype.equal=function(e){var i=true;i=i&&this._id===e.id();i=i&&this._name===e.name();i=i&&this._type===e.type();i=i&&this._min===e.min();i=i&&this._max===e.max();i=i&&this._mndMode===e.mndMode();i=i&&this._bvrPriority===e.bvrPriority();i=i&&this._bvrMNDPriority===e.bvrMNDPriority();return i};return i});define("sap/viz/vizservices/common/metadata/bindingdef/InfoBindingDefAdaptor",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/bindingdef/BindingDef","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst"],function(e,i,r){var t=["layout","mark","trellis","frame"];var a=["mark","layout","trellis","frame"];return{adapt:function(e,n){var s=e.slice(0).sort(function(e,i){if(e.role==="trellis.rowCategory"&&i.role==="trellis.columnCategory"){return-1}else if(e.role==="trellis.columnCategory"&&i.role==="trellis.rowCategory"){return 1}else{return t.indexOf(e.role.split(".")[0])-t.indexOf(i.role.split(".")[0])}});var o=[];e.forEach(function(e){var t={};t.id=e.id;t.name=e.name;t.type=e.type;t.min=e.min;t.max=e.max;t.mndEnumerable=e.type===r.TYPE_MEASURE&&e.role.split(".")[0]==="layout";if(e.acceptMND){if(e.MNDOnly){t.mndMode=r.MND_MODE_ONLY}else{t.mndMode=r.MND_MODE_SUPPORT}}else{t.mndMode=r.MND_MODE_NONE}t.bvrPriority=s.indexOf(e);t.bvrMNDPriority=a.indexOf(e.role.split(".")[0])*1e3+s.indexOf(e);o.push(new i(t))});return o}}});define("sap/viz/vizservices/common/metadata/InfoMetadata",["sap/viz/vizservices/common/utils/OOUtil","sap/viz/vizservices/common/metadata/MetadataBase","sap/viz/vizservices/common/metadata/bindingdef/InfoBindingDefAdaptor","sap/viz/vizservices/common/data/DatasetTypeConst","require"],function(e,i,r,t){var a=function(e){a.superclass.constructor.apply(this,arguments);this._support.dataset[t.FLAT_TABLE]=true};e.extend(a,i);a.prototype.getBindingDefs=function(){if(!this._bindingDefs){this._bindingDefs=r.adapt(this._raw.bindings,this._raw.type)}return this._bindingDefs};a.prototype.getBindingDefsWithBVRSorting=function(){if(!this._bindingDefsWithBVRSorting){this._bindingDefsWithBVRSorting=this.getBindingDefs().slice(0).sort(function(e,i){return e.bvrPriority()-i.bvrPriority()})}return this._bindingDefsWithBVRSorting};a.prototype.getRawPropertiesDef=function(){return this._raw.properties};a.prototype.getPropertiesDef=function(){if(!this._propertiesDef){this._propertiesDef=a._adaptInfoPropertiesDef(this._raw.properties)}return this._propertiesDef};a._adaptInfoPropertiesDef=function(e){var i={};for(var r in e){if(e.hasOwnProperty(r)){var t=e[r];if(t.hasOwnProperty("children")){i[r]=a._adaptInfoPropertiesDef(t.children)}else{i[r]=null}}}return i};a.prototype.isBuiltIn=function(){return this._raw.isBuiltIn};a.prototype.getName=function(){return this._raw.name||this._raw.type};a.prototype._removeInvalidProperty=function(e,i){if(!i){return}var r;for(r in e){if(!i.hasOwnProperty(r)){delete e[r]}else if(!i[r].supportedValueType){var t=i[r].children;if(t){this._removeInvalidProperty(e[r],t)}}}};a.prototype.dataScale=function(){return this._raw.scales};a.prototype.dataType=function(){var e=a.superclass.dataType.apply(this);if(e){return e}else{return t.FLAT_TABLE}};return a});define("sap/viz/vizservices/common/metadata/bindingdef/VizFeedingDefAdaptor",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/bindingdef/BindingDef","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst"],function(e,i,r){var t={};t.adapt=function(e){var i=[];e.forEach(function(e,t,o){if(e.id==="multiplier"){i=i.concat(s(e))}else if(e.type===r.TYPE_DIMENSION){i.push(n(e))}else if(e.type===r.TYPE_MEASURE){i.push(a(e))}});return i};var a=function(e){return new i({id:e.id,name:e.name,type:r.TYPE_MEASURE,min:e.min,max:e.max,mndEnumerable:true,mndMode:r.MND_MODE_NONE,bvrPriority:e.mgIndex,bvrMNDPriority:undefined})};var n=function(e){var t=e.minStackedDims!==undefined?e.minStackedDims:e.min;var a=e.maxStackedDims!==undefined?e.maxStackedDims:Number.POSITIVE_INFINITY;var n=o(e);return new i({id:e.id,name:e.name,type:r.TYPE_DIMENSION,min:t,max:a,mndMode:n.mode,bvrPriority:e.aaIndex,bvrMNDPriority:n.priority})};var s=function(t){var a=o(t);return[new i({id:e.ID_TRELLIS_ROW,name:t.name,type:r.TYPE_DIMENSION,min:0,max:3,mndMode:a.mode,bvrPriority:Number.POSITIVE_INFINITY,bvrMNDPriority:a.priority}),new i({id:e.ID_TRELLIS_COLUMN,name:t.name,type:r.TYPE_DIMENSION,min:0,max:3,mndMode:a.mode,bvrPriority:Number.POSITIVE_INFINITY,bvrMNDPriority:a.priority})]};var o=function(e){var i,t;if(e.acceptMND!==undefined&&e.acceptMND!==-1&&e.acceptMND!==false){i=e.max===1?r.MND_MODE_SUPPORT_EXCLUSIVELY:r.MND_MODE_SUPPORT;t=e.acceptMND*-1}else{i=r.MND_MODE_NONE;t=undefined}return{mode:i,priority:t}};return t});define("sap/viz/vizservices/common/metadata/VizMetadata",["sap/viz/vizservices/common/utils/OOUtil","sap/viz/vizservices/common/metadata/MetadataBase","sap/viz/vizservices/common/metadata/bindingdef/VizFeedingDefAdaptor","sap/viz/vizservices/common/data/DatasetTypeConst"],function(e,i,r,t){var a=function(){a.superclass.constructor.apply(this,arguments);this._support.dataset[t.CROSS_TABLE]=true};e.extend(a,i);a.prototype.getBindingDefs=function(){if(!this._bindingDefs){this._bindingDefs=r.adapt(this._raw.allFeeds())}return this._bindingDefs};a.prototype.getBindingDefsWithBVRSorting=function(){if(!this._bindingDefsWithBVRSorting){this._bindingDefsWithBVRSorting=this.getBindingDefs().slice(0).sort(function(e,i){return e.bvrPriority()-i.bvrPriority()})}return this._bindingDefsWithBVRSorting};a.prototype.getRawPropertiesDef=function(){return this._raw.allProperties()};a.prototype.getPropertiesDef=function(){if(!this._propertiesDef){this._propertiesDef=a._adaptVizPropertiesDef(this._raw.allProperties())}return this._propertiesDef};a._adaptVizPropertiesDef=function(e){var i={};for(var r in e){if(e.hasOwnProperty(r)){var t=e[r];if(t.hasOwnProperty("name")){i[r]=null}else{i[r]=a._adaptVizPropertiesDef(t)}}}return i};a.prototype.isBuiltIn=function(){return this._raw.isBuiltIn};a.prototype.getCategoryAxis=function(){return this._raw.categoryAxis};a.prototype.getValueAxis=function(){return this._raw.valueAxis};a.prototype.getName=function(){return this._raw.name};a.prototype._removeInvalidProperty=function(e,i){var r;for(r in e){if(!i.hasOwnProperty(r)){delete e[r]}else if(!i[r].supportedValueType){this._removeInvalidProperty(e[r],i[r])}}};a.prototype.dataScale=function(){return this._raw.dataScale};a.prototype.dataType=function(){var e=a.superclass.dataType.apply(this);if(e){return e}else{return t.CROSS_TABLE}};return a});define("sap/viz/vizservices/common/metadata/MetadataFactory",["sap/viz/vizservices/common/metadata/InfoMetadata","sap/viz/vizservices/common/metadata/VizMetadata"],function(e,i){var r={};return{get:function(t){if(r[t]!==undefined){return r[t]}var a,n=null;try{a=sap.viz.api.metadata.Viz.get(t);if(a&&a.type){n=new e(a)}}catch(e){}if(!n){try{a=sap.viz.api.manifest.Viz.get(t);if(a&&a[0]){n=new i(a[0])}}catch(e){}}return r[t]=n}}});define("sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils",["sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/feed/FeedConst"],function(e,i,r){var t={};t.supportMND=function(r){var t=false;var a=e.get(r).getBindingDefs();a.forEach(function(e){t=t||e.mndMode()!==i.MND_MODE_NONE});return t};t.equal=function(i,r){if(i===r){return true}var t=e.get(i),a=e.get(r);if(t&&a){var n=t.getBindingDefs(),s=a.getBindingDefs();if(n.length!==s.length){return false}var o=true;n.forEach(function(e,i,r){o=o&&e.equal(s[i])});return o}else{return false}};t.has=function(e,i){return!!t.get(e,i)};t.get=function(i,r){var t;var a=e.get(i).getBindingDefs();a.forEach(function(e){if(!t&&e.id()===r){t=e}});return t};t.support=function(e,t){if(!t){return false}if(e.type()===i.TYPE_DIMENSION){if(e.id()===r.ID_TIME_AXIS&&t.dataType!==r.DATA_TYPE_DATE){return false}else{if(e.mndMode()===i.MND_MODE_NONE){return t.type===r.TYPE_DIMENSION}else if(e.mndMode()===i.MND_MODE_ONLY){return t.type===r.TYPE_MND}else{return t.type===r.TYPE_DIMENSION||t.type===r.TYPE_MND}}}else if(e.type()===i.TYPE_MEASURE){return t.type===r.TYPE_MEASURE}else{return false}};return t});define("sap/viz/vizservices/common/utils/Utils",[],function(){var e={};var i=0;var r=Object.prototype.hasOwnProperty;e.genUID=function(){if(!i){i=0}return"vcgen_"+i++};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};e.encodingToken="_encoded_";e.applyObjectProperty=function(i,r,t){try{if(e.isFunction(i[r])){i[r](t)}else{i[r]=t}}catch(e){}};e.applyProperties=function(i,r){if(r){var t=r.length;for(var a=0;a<t;a++){var n=r[a];if(n){e.applyObjectProperty(i,n.name,n.value)}}}};e.getObjectProperty=function(i,r){try{if(e.isFunction(i[r])){return i[r]()}else if(i.hasOwnProperty(r)){return i[r]}}catch(e){}};e.type=function(e){return e==null?String(e):t[Object.prototype.toString.call(e)]||"object"};e.isObject=function(e){var i=typeof e;return i==="function"||i==="object"&&!!e};e.isFunction=function(i){return e.type(i)==="function"};e.isBoolean=function(i){return e.type(i)==="boolean"};e.isString=function(i){return e.type(i)==="string"};e.isArray=function(i){return e.type(i)==="array"};e.isNumber=function(i){return e.type(i)==="number"};e.isObject=function(i){return e.type(i)==="object"};e.isPlainObject=function(i){if(!i||e.type(i)!=="object"||i.nodeType||i&&typeof i==="object"&&"setInterval"in i){return false}if(i.constructor&&!r.call(i,"constructor")&&!r.call(i.constructor.prototype,"isPrototypeOf")){return false}var t;for(t in i){}return t===undefined||r.call(i,t)},e.isEmptyObject=function(i){for(var r in i){if(i.hasOwnProperty(r)){return false}}return e.isPlainObject(i)},e.isRegExp=function(i){return e.type(i)==="regexp"};e.sortArrayOn=function(i,r,t){if(e.isArray(i)&&e.isString(r)){i.sort(function(e,i){return t?(e[r]<i[r])-(e[r]>i[r]):(e[r]>i[r])-(e[r]<i[r])})}};e.noop=function(){};e.delay=function(e,i){return setTimeout(function(){return e.apply(null)},i)};e.defer=function(i){return e.delay.call(null,i,1)};e.getEventPosition=function(e){var i=null;var r=null;if(e.originalEvent&&e.originalEvent.targetTouches&&e.originalEvent.targetTouches.length!==0){i=e.originalEvent.targetTouches[0].pageX;r=e.originalEvent.targetTouches[0].pageY}else{i=e.pageX;r=e.pageY}var t={};t.pageX=i;t.pageY=r;return t};function a(i){if(i===null||typeof i!=="object"){return i}if(typeof i==="object"&&i.clone&&e.isFunction(i.clone)){return i.clone()}var r=e.isArray(i)?[]:{};for(var t in i){if(i.hasOwnProperty(t)){r[t]=a(i[t])}}return r}e.clone=a;e.toJSON=function(i,r){if(e.isArray(i)){var t=[];for(var a=0;a<i.length;a++){t.push(r.call(null,i[a]))}return t}else if(i){return r.call(null,i)}else{return null}};e.fromJSON=function(i,r){if(e.isArray(i)){var t=[];for(var a=0;a<i.length;a++){t.push(r.call(null,i[a]))}return t}else if(i){return r.call(null,i)}else{return undefined}};e.updateJSON=function(i,r){var t=e.clone(i);t=t||{};var a=function(i){var a=e.getPropValue(r,i);if(a){e.setPropValue(t,i,a)}};a("plotArea.window.start.categoryAxis");a("plotArea.window.end.categoryAxis");var n=function(i,r){for(var t in r){if(r.hasOwnProperty(t)){var a=r[t];if(a!==undefined){if(typeof a!=="object"||a instanceof Array||a===null){i[t]=a}else{var s=i[t];if(!s){if(a===null){s=a}else{s=i[t]={}}}else if(!e.isObject(s)){s=i[t]={}}n(s,a)}}}}};n(t,r);return t};e.substitute=function(e,i){if(!e){return""}for(var r=1;r<arguments.length;r++){e=e.replace(new RegExp("\\{"+(r-1)+"\\}","g"),arguments[r])}return e};e.invert=function(e){var i={};for(var r in e){var t=e[r];i[t]=r}return i};e.encode=function(i,r){if(i.indexOf(e.encodingToken)>-1){return i}else{var t=i+e.encodingToken+r;return t}};e.decode=function(i){var r=i.split(e.encodingToken);return r};e.deepEqual=function(i,r){if(typeof i==="object"&&typeof r==="object"&&e.isExist(i)&&e.isExist(r)){var t=null;for(t in i){if(i.hasOwnProperty(t)){if(!r.hasOwnProperty(t)){return false}else if(!e.deepEqual(i[t],r[t])){return false}}}for(t in r){if(r.hasOwnProperty(t)){if(!i.hasOwnProperty(t)){return false}}}return true}else{return i===r}};e.hasCommonKeyValue=function(i,r){if(typeof i==="object"&&typeof r==="object"){var t=null;for(t in i){if(i.hasOwnProperty(t)){if(r.hasOwnProperty(t)&&e.deepEqual(i[t],r[t])){return true}}}return false}};e.isExist=function(e){if(typeof e==="undefined"||e===null){return false}return true};var n=e.genGetterSetter=function(e){return function(i){if(arguments.length>0){this[e]=i;return this}else{return this[e]}}};e.genGetterSetters=function(e,i){i.forEach(function(i){e[i.substring(1)]=n(i)})};e.currying=function(e){var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(this,i.concat(Array.prototype.slice.call(arguments)))}};e.getPropValue=function(e,i){if(e==null){return undefined}var r=i.split("."),t=r.pop(),a,n,s=e;for(a=0,n=r.length;a<n;a++){s=s[r[a]];if(s==null){return undefined}}return s[t]};e.setPropValue=function(e,i,r){var t=i.split("."),a=t.pop(),n,s,o,l,u=e;for(o=0,l=t.length;o<l;o++){n=t[o];s=typeof u[n];if(s!=="object"&&s!=="function"){u[n]={}}u=u[n]}u[a]=r;return e};e.deletePropValue=function(e,i){var r=i.split("."),t,a,n=e;for(a=0;a<r.length;a++){t=r[a];if(n.hasOwnProperty(t)){if(a===r.length-1){delete n[t];break}n=n[t]}else{return e}}return e};e.checkArgs=function(i,r){if(!r){return true}else{var t,a;for(var n=0;n<r.length;n++){t=i[n];a=r[n];if(e.checkArg(t,a)===false){return false}}return true}};e.checkArg=function(e,i){if(!i.typeValidator){return true}else{if(e==null){if(i.isOptional){return true}else{return false}}return i.typeValidator(e)}};e.isArrayOf=function(i,r){if(!e.isArray(i)){return false}for(var t=i.length-1;t>=0;t--){if(!r(i[t])){return false}}return true};return e});define("sap/viz/vizservices/common/feed/FeedUtil",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/utils/Utils"],function(e,i,r,t){var a={};a.genFeedItem=function(e,i){return{id:e,values:i}};a.genAnalysisObject=function(e,i,r){return{id:e,type:i,dataType:r}};a.hasMND=function(i){return a.countAnalyses(i,e.TYPE_MND)>0};a.countAnalyses=function(e,i){var r=0;for(var t=0;t<e.length;t++){var a=e[t];var n=a.values;if(i){for(var s=0;s<n.length;s++){var o=n[s];if(o.type===i){r++}}}else{r+=n.length}}return r};a.hasMNDInValues=function(e){return a.indexOfMNDInValues(e)!==-1};a.indexOfMNDInValues=function(i){if(!i||!i.length){return-1}var r=-1;for(var t=0;t<i.length;t++){var a=i[t];if(a.type===e.TYPE_MND){r=t;break}}return r};a.buildEmptyFeeds=function(e){var r=i.get(e);var t=r.getBindingDefs();var n=[];t.forEach(function(e){n.push(a.genFeedItem(e.id(),[]))});return n};a.merge=function(e,i){var r=a._getFeedsValuesMap(i);for(var t=0;t<e.length;t++){var n=e[t];if(r[n.id]){n.values=n.values.concat(r[n.id])}}return e};a._getFeedsValuesMap=function(e){var i={};for(var r=0;r<e.length;r++){var t=e[r];var a=t.id;if(!i[a]){i[a]=t.values}else{i[a]=i[a].concat(t.values)}}return i};a.getFeed=function(e,i){for(var r=0;r<e.length;r++){var t=e[r];if(t.id===i){return t}}return null};a.getFeedValues=function(e,i){var r=a.getFeed(e,i);return r?r.values:null};function n(e,i){if(!e||!i){return false}if(e.length!==i.length){return false}var r=i.every(function(i){return e.indexOf(i)>-1});return r}a.getMNDEnumeration=function(e){var r=i.get(e);var t=r.getBindingDefs();var a=[];t.forEach(function(e){if(e.mndEnumerable()){a.push(e.id())}});return a};a.validateMND=function(e,i){if(!i.hasOwnProperty("measureNames")){return true}return i.hasOwnProperty("measureNames")&&n(i.measureNames,a.getMNDEnumeration(e))};a.validateMndAddMeasureNames=function(e,i){var r=a.validateMND(e,i);if(r&&!i.hasOwnProperty("measureNames")){i.measureNames=a.getMNDEnumeration(e)}return r};a.spliceAnalysisObjects=function(e,i,r,t,n,s){var o=Array.prototype.slice.call(arguments,2);var l=false;e.forEach(function(e){if(e.id===i){var r=e.values||[];r.splice.apply(r,o);l=true}});if(!l&&n){var u=[];u.splice.apply(u,o);e.push(a.genFeedItem(i,u))}return e};a.cloneFeeds=function(e){return JSON.parse(JSON.stringify(e))};a.hasInvalidFeeds=function(e,i){for(var t=0;t<i.length;t++){var a=r.get(e,i[t].id);if(!a){return true}}return false};a.removeInvalid=function(i,t){return t.filter(function(t){var n=r.get(i,t.id);if(!n){return false}else{t.values=t.values.filter(function(t){var s=r.support(n,t);return t.type===e.TYPE_MND?s&&a.validateMND(i,t):s});return true}})};a.isAnalysisDataType=function(i){if(i===e.DATA_TYPE_STRING||i===e.DATA_TYPE_NUMBER||i===e.DATA_TYPE_DATE){return true}else{return false}};a.isAnalysisObject=function(e){return e&&t.checkArg(e.id,{typeValidator:t.isString})&&t.checkArg(e.type,{typeValidator:t.isString})&&t.checkArg(e.dataType,{typeValidator:a.isAnalysisDataType,isOptional:true})};a.isArrayOfAnalysisObject=function(e){return t.isArrayOf(e,a.isAnalysisObject)};a.isFeedItem=function(e){return e&&t.checkArg(e.id,{typeValidator:t.isString})&&t.checkArg(e.values,{typeValidator:a.isArrayOfAnalysisObject})};a.isArrayOfFeedItem=function(e){return t.isArrayOf(e,a.isFeedItem)};return a});define("sap/viz/vizservices/service/bvr/feeders/MNDFeeder",["sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/feed/FeedConst"],function(e,i,r,t){var a={};function n(e,i){var r=e.length-1;for(;r>=0&&e[r].inResult;--r){}e.splice(r+1,0,i)}a.feed=function(a,s,o){var l,u;var c=i.indexOfMNDInValues(o);if(c===-1||i.hasMND(s)){return}var f=o.splice(c,1)[0],v;var d=e.get(a).getBindingDefs();d=d.slice(0).sort(function(e,i){return e.bvrMNDPriority()-i.bvrMNDPriority()});for(l=0;l<d.length;l++){u=d[l];v=i.getFeedValues(s,u.id());if(v&&u.mndMode()!==r.MND_MODE_NONE&&u.min()>v.length){if(u.mndMode()===r.MND_MODE_SUPPORT||u.mndMode()===r.MND_MODE_ONLY){n(v,f);return}}}var _=i.getFeed(s,t.ID_TRELLIS_ROW),p=i.getFeed(s,t.ID_TRELLIS_COLUMN);if(_&&p&&_.values.length===0&&p.values.length===0){n(_.values,f);return}for(l=0;l<d.length;l++){u=d[l];v=i.getFeedValues(s,u.id());if(v&&u.mndMode()!==r.MND_MODE_NONE&&v.length===0){n(v,f);return}}var m=false,E=0;for(l=0;!m&&l<d.length;l++){u=d[l];if(u.type()==="Measure"){E++;v=i.getFeedValues(s,u.id());m=E>1||v&&v.length>1}}if(!m){return}for(l=0;l<d.length;l++){u=d[l];v=i.getFeedValues(s,u.id());if(v&&u.mndMode()===r.MND_MODE_SUPPORT){n(v,f);return}}};return a});define("sap/viz/vizservices/common/viz/ChartConst",[],function(){var e={};e.TYPE_BAR="info/bar";e.TYPE_STACKED_BAR="info/stacked_bar";e.TYPE_100_STACKED_BAR="info/100_stacked_bar";e.TYPE_DUAL_BAR="info/dual_bar";e.TYPE_DUAL_STACKED_BAR="info/dual_stacked_bar";e.TYPE_100_DUAL_STACKED_BAR="info/100_dual_stacked_bar";e.TYPE_TRELLIS_BAR="info/trellis_bar";e.TYPE_TRELLIS_STACKED_BAR="info/trellis_stacked_bar";e.TYPE_TRELLIS_100_STACKED_BAR="info/trellis_100_stacked_bar";e.TYPE_TRELLIS_DUAL_BAR="info/trellis_dual_bar";e.TYPE_TRELLIS_DUAL_STACKED_BAR="info/trellis_dual_stacked_bar";e.TYPE_TRELLIS_100_DUAL_STACKED_BAR="info/trellis_100_dual_stacked_bar";e.TYPE_COLUMN="info/column";e.TYPE_STACKED_COLUMN="info/stacked_column";e.TYPE_100_STACKED_COLUMN="info/100_stacked_column";e.TYPE_DUAL_COLUMN="info/dual_column";e.TYPE_DUAL_STACKED_COLUMN="info/dual_stacked_column";e.TYPE_100_DUAL_STACKED_COLUMN="info/100_dual_stacked_column";e.TYPE_TRELLIS_COLUMN="info/trellis_column";e.TYPE_TRELLIS_STACKED_COLUMN="info/trellis_stacked_column";e.TYPE_TRELLIS_100_STACKED_COLUMN="info/trellis_100_stacked_column";e.TYPE_TRELLIS_DUAL_COLUMN="info/trellis_dual_column";e.TYPE_TRELLIS_DUAL_STACKED_COLUMN="info/trellis_dual_stacked_column";e.TYPE_TRELLIS_100_DUAL_STACKED_COLUMN="info/trellis_100_dual_stacked_column";e.TYPE_TIMESERIES_LINE="info/timeseries_line";e.TYPE_TIMESERIES_SCATTER="info/timeseries_scatter";e.TYPE_TIMESERIES_BUBBLE="info/timeseries_bubble";e.TYPE_TIMESERIES_COMBINATION="info/timeseries_combination";e.TYPE_DUAL_TIMESERIES_COMBINATION="info/dual_timeseries_combination";e.TYPE_LINE="info/line";e.TYPE_HORIZONTAL_LINE="info/horizontal_line";e.TYPE_DUAL_LINE="info/dual_line";e.TYPE_DUAL_HORIZONTAL_LINE="info/dual_horizontal_line";e.TYPE_TRELLIS_LINE="info/trellis_line";e.TYPE_TRELLIS_HORIZONTAL_LINE="info/trellis_horizontal_line";e.TYPE_TRELLIS_DUAL_LINE="info/trellis_dual_line";e.TYPE_TRELLIS_DUAL_HORIZONTAL_LINE="info/trellis_dual_horizontal_line";e.TYPE_AREA="info/area";e.TYPE_HORIZONTAL_AREA="info/horizontal_area";e.TYPE_100_AREA="info/100_area";e.TYPE_100_HORIZONTAL_AREA="info/100_horizontal_area";e.TYPE_TRELLIS_AREA="info/trellis_area";e.TYPE_TRELLIS_HORIZONTAL_AREA="info/trellis_horizontal_area";e.TYPE_TRELLIS_100_AREA="info/trellis_100_area";e.TYPE_TRELLIS_100_HORIZONTAL_AREA="info/trellis_100_horizontal_area";e.TYPE_WATERFALL="info/waterfall";e.TYPE_HORIZONTAL_WATERFALL="info/horizontal_waterfall";e.TYPE_STACKED_WATERFALL="info/stacked_waterfall";e.TYPE_HORIZONTAL_STACKED_WATERFALL="info/horizontal_stacked_waterfall";e.TYPE_COMBINATION="info/combination";e.TYPE_HORIZONTAL_COMBINATION="info/horizontal_combination";e.TYPE_DUAL_COMBINATION="info/dual_combination";e.TYPE_DUAL_HORIZONTAL_COMBINATION="info/dual_horizontal_combination";e.TYPE_STACKED_COMBINATION="info/stacked_combination";e.TYPE_HORIZONTAL_STACKED_COMBINATION="info/horizontal_stacked_combination";e.TYPE_DUAL_STACKED_COMBINATION="info/dual_stacked_combination";e.TYPE_DUAL_HORIZONTAL_STACKED_COMBINATION="info/dual_horizontal_stacked_combination";e.TYPE_MEKKO="info/mekko";e.TYPE_100_MEKKO="info/100_mekko";e.TYPE_HORIZONTAL_MEKKO="info/horizontal_mekko";e.TYPE_100_HORIZONTAL_MEKKO="info/100_horizontal_mekko";e.TYPE_PIE="info/pie";e.TYPE_TRELLIS_PIE="info/trellis_pie";e.TYPE_DONUT="info/donut";e.TYPE_TRELLIS_DONUT="info/trellis_donut";e.TYPE_SCATTER="info/scatter";e.TYPE_TRELLIS_SCATTER="info/trellis_scatter";e.TYPE_BUBBLE="info/bubble";e.TYPE_TRELLIS_BUBBLE="info/trellis_bubble";e.TYPE_HEATMAP="info/heatmap";e.TYPE_TREEMAP="info/treemap";e.TYPE_RADAR="info/radar";e.TYPE_TRELLIS_RADAR="info/trellis_radar";e.TYPE_TAG_CLOUD="info/tagcloud";e.TYPE_NUMBER="info/number";e.TYPE_BULLET="info/bullet";e.TYPE_VERTICALBULLET="info/vertical_bullet";e.DIRECTION_HORIZONTAL="horizontal";e.DIRECTION_VERTICAL="vertical";e.STACKING_FULL="full";e.STACKING_NORMAL="normal";e.FEEDING_PRIMARY_VALUES="primaryValues";e.FEEDING_SECONDARY_VALUES="secondaryValues";e.FEEDING_AXIS_LABELS="axisLabels";e.MEASURE_NAMES_DIMENSION="measureNamesDimension";e.MEASURE_VALUES_GROUP="measureValuesGroup";e.ANALYSIS_AXIS="analysisAxis";e.VALUE_AXIS="valueAxis";e.SECOND_VALUE_AXIS="valueAxis2";e.CATEGORY_AXIS="categoryAxis";e.TIME_AXIS="timeAxis";e.SIZE="size";e.WEIGHT="weight";e.INVALID="Invalid";e.AXIS_XAXIS="xAxis";e.AXIS_XAXIS1="xAxis1";e.AXIS_XAXIS2="xAxis2";e.AXIS_YAXIS="yAxis";e.AXIS_YAXIS1="yAxis1";e.AXIS_YAXIS2="yAxis2";e.COLOR="color";e.DATA_FRAME="dataFrame";e.TEMPLATE_INCOMPLETE="incomplete_ghost";e.TEMPLATE_DEFAULT="default";e.TEMPLATE_EMPTY="empty_ghost";e.PLAY_FIELD="playField";e.SHAPE="shape";e.TITLE="title";e.KEY_COUNT="__keysCount";e.TRELLIS_NONE=0;e.TRELLIS_COLUMN=1;e.TRELLIS_ROW=2;e.TRELLIS_COLUMN_AND_ROW=3;return e});define("sap/viz/vizservices/service/bvr/feeders/TimeFeeder",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/viz/ChartConst"],function(e,i,r,t){function a(e){return[t.TYPE_TIMESERIES_LINE,t.TYPE_TIMESERIES_SCATTER,t.TYPE_TIMESERIES_BUBBLE,t.TYPE_TIMESERIES_COMBINATION,t.TYPE_DUAL_TIMESERIES_COMBINATION].indexOf(e)>=0}var n={};n.feed=function(i,t,n){if(!a(i)){return}var s,o;for(o=0;o<t.length;o++){if(t[o].id===e.ID_TIME_AXIS){s=t[o]}}if(!s){return}var l=r.get(i,s.id);if(s.values.length>=l.max()){return}for(o=0;o<n.length;o++){if(n[o].dataType===e.DATA_TYPE_DATE){s.values=[n[o]];n.splice(o,1);break}}};return n});define("jquery",[],function(){return jQuery});define("sap/viz/vizservices/service/feed/validators/AAValidator",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/viz/ChartConst","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst"],function(e,i,r,t){var a={};a.validate=function(e,r){var a=0;e.forEach(function(e){if(e.type()===t.TYPE_DIMENSION){var n=i.getFeedValues(r,e.id())||[];if(n.length===0&&e.min()>0){if(e.mndMode()===t.MND_MODE_NONE||i.hasMND(r)){a++}}}});return{valid:n(r)+a<=2}};var n=function(i){var r=0;var t=0;for(var a=0;a<i.length;a++){var n=i[a];if(s(n)){if(n.id===e.ID_TRELLIS_ROW||n.id===e.ID_TRELLIS_COLUMN){t=Math.min(1,t+1)}else{r++}}}return t+r};var s=function(e){if(!e||!(e.values&&e.values.length>0)||e.id===r.DATA_FRAME){return 0}var i=e.values;return o(i)};var o=function(r){if(!r||!r.length){return 0}var t=i.hasMNDInValues(r);if(r[0].type===e.TYPE_MND&&r.length===1){return 0}else if(r[0].type===e.TYPE_DIMENSION||r[0].type===e.TYPE_MND){return 1}else{return 0}};return a});define("sap/viz/vizservices/service/feed/validators/DuplicateValidator",["sap/viz/vizservices/common/feed/FeedUtil"],function(e){var i={};i.validate=function(i,t){var a={valid:true,results:{bindings:{}}};var n;i.forEach(function(i){var s=e.getFeedValues(t,i.id())||[];n=r(i,s);if(n){a.valid=false;a.results.bindings[i.id()]=n}});return a};var r=function(e,i){var r={},t;i.forEach(function(e){var i=e.id;if(r[i]){if(!t){t={incorrect:[]}}t.incorrect.push(e)}r[i]=true});return t};return i});define("sap/viz/vizservices/service/feed/validators/TypeValidator",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils"],function(e,i,r){var t={};t.validate=function(e,r){var t={valid:true,results:{bindings:{}}};var n;e.forEach(function(e){var s=i.getFeedValues(r,e.id())||[];n=a(e,s);if(n){t.valid=false;t.results.bindings[e.id()]=n}});return t};var a=function(i,t){var a;t.forEach(function(t){if(!r.support(i,t)||i.id()===e.ID_TIME_AXIS&&t.dataType!==e.DATA_TYPE_DATE){if(!a){a={incorrect:[]}}a.incorrect.push(t)}});return a};return t});define("sap/viz/vizservices/service/feed/validators/MaxValidator",["sap/viz/vizservices/common/feed/FeedUtil"],function(e){var i={};i.validate=function(i,t){var a={valid:true,results:{bindings:{}}};var n;var s=e.countAnalyses(t);i.forEach(function(i){var o=e.getFeedValues(t,i.id())||[];n=r(i,o);if(n){a.valid=false;a.results.bindings[i.id()]=n}s-=o.length});a.valid=a.valid&&s===0;return a};var r=function(i,r){var t=r.length,a;if(e.hasMNDInValues(r)){t=t-1}if(t>i.max()){a={exceed:t-i.max()}}return a};return i});define("sap/viz/vizservices/service/feed/validators/MinValidator",["sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/utils/Utils"],function(e,i,r,t){var a={};a.validate=function(a,s){var o={valid:true,results:{bindings:{}}};var l=e.hasMND(s);var u,c,f=[],v=false;a.forEach(function(t){var a=e.getFeedValues(s,t.id())||[];u=n(t,a);if(t.id()===r.ID_TRELLIS_ROW||t.id()===r.ID_TRELLIS_COLUMN){if(!u){v=true}}if(u){o.valid=false;if(t.type()===r.TYPE_DIMENSION){if(t.mndMode()===i.MND_MODE_SUPPORT||t.mndMode()===i.MND_MODE_ONLY){c=!l}else if(t.mndMode()===i.MND_MODE_SUPPORT_EXCLUSIVELY){c=(a.length>0?false:true)&&!l}else{c=false}u.allowMND=c}o.results.bindings[t.id()]=u}});if(v){if(!o.valid){delete o.results.bindings[r.ID_TRELLIS_ROW];delete o.results.bindings[r.ID_TRELLIS_COLUMN];if(t.isEmptyObject(o.results.bindings)){o.valid=true}}}return o};var n=function(e,i){var t=i.length,a;var n=e.min();if(e.id()===r.ID_TRELLIS_ROW||e.id()===r.ID_TRELLIS_COLUMN){n=1}if(t<n){a={missing:n-t};if(e.id()===r.ID_TRELLIS_ROW){a.associate=r.ID_TRELLIS_COLUMN}else if(e.id()===r.ID_TRELLIS_COLUMN){a.associate=r.ID_TRELLIS_ROW}}return a};return a});define("sap/viz/vizservices/service/feed/validators/MNDValidator",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst"],function(e,i,r){var t={};t.validate=function(t,n,s){var o={valid:true,results:{bindings:{}}};var l=0;n.forEach(function(e){if(e.mndEnumerable()){var r=i.getFeedValues(s,e.id())||[];l+=r.length}});l=l>0?1:0;var u=[],c;var f;n.forEach(function(n){if(n.type()===r.TYPE_DIMENSION){var v=i.getFeedValues(s,n.id())||[];var d=i.indexOfMNDInValues(v);if(d!==-1){if(!l){o.valid=false;o.results.bindings[n.id()]={incorrect:[v[d]]};return}else{l--}}if(n.id()===e.ID_TRELLIS_ROW||n.id()===e.ID_TRELLIS_COLUMN){u=u.concat(v);c=n}else{f=a(n,v,t);if(f){o.valid=false;if(!o.results.bindings[n.id()]){o.results.bindings[n.id()]={incorrect:[f]}}}}}});if(c){f=a(c,u,t);if(f){o.valid=false;if(f){if(!o.results[c.id()]){o.results.bindings[c.id()]={incorrect:[f]}}}}}return o};var a=function(e,t,a){var n;var s=i.indexOfMNDInValues(t);if(s!==-1&&(e.mndMode()===r.MND_MODE_NONE||e.mndMode()===r.MND_MODE_SUPPORT_EXCLUSIVELY&&t.length>1||!i.validateMndAddMeasureNames(a,t[s]))){n=t[s]}return n};return t});define("sap/viz/vizservices/service/feed/validators/MissingMNDValidator",["sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/utils/Utils","sap/viz/vizservices/common/viz/ChartConst"],function(e,i,r,t,a){var n={};n.validate=function(r,t,a){var n={valid:true,results:{bindings:{}}};if(l.indexOf(r)<0){return n}var u=i.hasMND(a);if(!u&&s(t,a)>1){n.valid=false;n.results.missingMND=true;t.forEach(function(r){if(r.type()===e.TYPE_DIMENSION){var t=i.getFeedValues(a,r.id())||[];var s=o(r,t);if(s.allowMND){n.results.bindings[r.id()]=s}}})}return n};var s=function(r,t){var a=0;r.forEach(function(r){var n=i.getFeedValues(t,r.id())||[];if(r.type()===e.TYPE_MEASURE){a+=Math.min(r.max(),n.length)}});return a};var o=function(e,i){var t={};if(e.mndMode()===r.MND_MODE_SUPPORT||e.mndMode()===r.MND_MODE_ONLY){t.allowMND=true}else if(e.mndMode()===r.MND_MODE_SUPPORT_EXCLUSIVELY){t.allowMND=i.length>0?false:true}else{t.allowMND=false}return t};var l=[a.TYPE_BAR,a.TYPE_TRELLIS_BAR,a.TYPE_DUAL_BAR,a.TYPE_TRELLIS_DUAL_BAR,a.TYPE_STACKED_BAR,a.TYPE_100_STACKED_BAR,a.TYPE_TRELLIS_STACKED_BAR,a.TYPE_TRELLIS_100_STACKED_BAR,a.TYPE_DUAL_STACKED_BAR,a.TYPE_100_DUAL_STACKED_BAR,a.TYPE_TRELLIS_DUAL_STACKED_BAR,a.TYPE_TRELLIS_100_DUAL_STACKED_BAR,a.TYPE_COLUMN,a.TYPE_TRELLIS_COLUMN,a.TYPE_DUAL_COLUMN,a.TYPE_TRELLIS_DUAL_COLUMN,a.TYPE_STACKED_COLUMN,a.TYPE_100_STACKED_COLUMN,a.TYPE_TRELLIS_STACKED_COLUMN,a.TYPE_TRELLIS_100_STACKED_COLUMN,a.TYPE_DUAL_STACKED_COLUMN,a.TYPE_100_DUAL_STACKED_COLUMN,a.TYPE_TRELLIS_DUAL_STACKED_COLUMN,a.TYPE_TRELLIS_100_DUAL_STACKED_COLUMN,a.TYPE_LINE,a.TYPE_TRELLIS_LINE,a.TYPE_HORIZONTAL_LINE,a.TYPE_TRELLIS_HORIZONTAL_LINE,a.TYPE_DUAL_LINE,a.TYPE_DUAL_HORIZONTAL_LINE,a.TYPE_TRELLIS_DUAL_LINE,a.TYPE_TRELLIS_DUAL_HORIZONTAL_LINE,a.TYPE_AREA,a.TYPE_HORIZONTAL_AREA,a.TYPE_100_AREA,a.TYPE_100_HORIZONTAL_AREA,a.TYPE_TRELLIS_AREA,a.TYPE_TRELLIS_HORIZONTAL_AREA,a.TYPE_TRELLIS_100_AREA,a.TYPE_TRELLIS_100_HORIZONTAL_AREA,a.TYPE_COMBINATION,a.TYPE_HORIZONTAL_COMBINATION,a.TYPE_DUAL_COMBINATION,a.TYPE_DUAL_HORIZONTAL_COMBINATION,a.TYPE_STACKED_COMBINATION,a.TYPE_HORIZONTAL_STACKED_COMBINATION,a.TYPE_DUAL_STACKED_COMBINATION,a.TYPE_DUAL_HORIZONTAL_STACKED_COMBINATION,a.TYPE_TIMESERIES_LINE,a.TYPE_TIMESERIES_COLUMN,a.TYPE_TIMESERIES_COMBINATION,a.TYPE_DUAL_TIMESERIES_COMBINATION,a.TYPE_STACKED_WATERFALL,a.TYPE_HORIZONTAL_STACKED_WATERFALL,a.TYPE_RADAR,a.TYPE_TRELLIS_RADAR];return n});define("sap/viz/vizservices/service/feed/FeedService",["jquery","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/data/DatasetTypeConst","sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/service/feed/validators/AAValidator","sap/viz/vizservices/service/feed/validators/DuplicateValidator","sap/viz/vizservices/service/feed/validators/TypeValidator","sap/viz/vizservices/service/feed/validators/MaxValidator","sap/viz/vizservices/service/feed/validators/MinValidator","sap/viz/vizservices/service/feed/validators/MNDValidator","sap/viz/vizservices/service/feed/validators/MissingMNDValidator","sap/viz/vizservices/common/utils/Utils","sap/viz/vizservices/common/metadata/VizMetadata","exports"],function(e,i,r,t,a,n,s,o,l,u,c,f,v,d,_,p){var m={};m.validate=function(e,i){var r=[{typeValidator:_.isString},{typeValidator:t.isArrayOfFeedItem}];if(!_.checkArgs(arguments,r)||s.get(e)===null){throw _.substitute(sap.viz.extapi.env.Language.getResourceString("VIZ_SERVICES_INVALID_PARAMETER"))}if(t.hasInvalidFeeds(e,i)){return{valid:false}}var a=s.get(e);var n=a.getBindingDefs();if(a instanceof p){var m=o.validate(n,i);if(!m.valid){return m}}var T={valid:true};T=E(T,l.validate(n,i));T=E(T,u.validate(n,i));T=E(T,f.validate(n,i));T=E(T,c.validate(n,i));T=E(T,v.validate(e,n,i));T=E(T,d.validate(e,n,i));return T};var E=function(i,r){if(!r.valid){i.valid=false;if(!i.results){i.results={}}for(var t=0;t<r.results.bindings.length;t++){var a=r.results.bindings[t];var n=i.results.bindings[t];var s=a.incorrect;var o=n.incorrect;if(s&&o){n.incorrect=o.concat(s);e.unique(n.incorrect);delete a.incorrect}}e.extend(true,i.results,r.results)}return i};m.addable=function(e,n,s,o){if(!o){var l=t.getFeed(n,s);var u,c;if(i.get(e,l.id).type()===r.TYPE_DIMENSION){u=a.TYPE_DIMENSION}else{u=a.TYPE_MEASURE}if(s===a.ID_TIME_AXIS){c=a.DATA_TYPE_DATE}else{c=undefined}var f="__sapVizServicesReserved_"+u+"_"+T++;o=t.genAnalysisObject(f,u,c)}var v=t.spliceAnalysisObjects(t.cloneFeeds(n),s,0,0,o);return m.validateOverflow(e,v)};m.validateOverflow=function(e,i){var r=s.get(e);var t=r.getBindingDefs();var a=true;a=a&&l.validate(t,i).valid;a=a&&u.validate(t,i).valid;if(r.support().dataset[n.CROSS_TABLE]&&!r.support().dataset[n.FLAT_TABLE]){a=a&&o.validate(t,i).valid}a=a&&c.validate(t,i).valid;a=a&&v.validate(e,t,i).valid;return a};m.switchable=function(e,i,r,a){var n=t.spliceAnalysisObjects(t.cloneFeeds(i),r,0,0,a);return m.validateSwitching(e,n)};m.validateSwitching=function(e,i){var r=s.get(e);var t=r.getBindingDefs();var a=true;a=a&&c.validate(t,i).valid;a=a&&v.validate(e,t,i).valid;a=a&&u.validate(t,i).valid;return a};var T=0;return m});define("sap/viz/vizservices/service/bvr/feeders/CommonFeeder",["sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/service/feed/FeedService"],function(e,i,r,t){var a={};a.feed=function(t,a,s,o){o=o||a;var l=s.slice(0),u,c;var f=e.get(t).getBindingDefsWithBVRSorting();var v,d;for(v=0;v<f.length&&s.length>0;v++){d=f[v],u=i.getFeed(o,d.id()),c=true;while(c&&u&&d.min()>u.values.length){c=n(t,a,u,s)}}var _=i.getFeed(o,r.ID_TRELLIS_ROW),p=i.getFeed(o,r.ID_TRELLIS_COLUMN);if(_&&p&&_.values.length===0&&p.values.length===0){n(t,a,_,s)}for(v=0;v<f.length&&s.length>0;v++){d=f[v],u=i.getFeed(o,d.id()),c=true;if(u&&u.values.length===0){n(t,a,u,s)}}for(v=0;v<f.length&&s.length>0;v++){d=f[v],u=i.getFeed(o,d.id()),c=true;while(c&&u&&d.max()>u.values.length){c=n(t,a,u,s)}}};var n=function(e,i,r,a){for(var n=0;n<a.length;n++){var s=a[n];if(t.addable(e,i,r.id,s)){r.values.push(s);a.splice(n,1);return true}}return false};return a});define("sap/viz/vizservices/service/bvr/switch/AliasMapping",["sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/service/feed/FeedService","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst"],function(e,i,r,t,a){var n={};var s={XY:{mapTo:["TimeScatter","Pie","Scatter","Bubble","TreeMap","HeatMap","TagCloud","Numeric","Bullet"],categoryAxis:{"Bullet,HeatMap":"categoryAxis","Bubble,Pie,Scatter,TimeScatter":"color",TreeMap:"title",TagCloud:"text"},color:{Bullet:"color","Bubble,Scatter,TimeScatter":"shape",HeatMap:"categoryAxis2"},valueAxis:{"Bubble,Scatter,TimeScatter":"valueAxis",Pie:"size","TreeMap,TagCloud":"weight",HeatMap:"color",Numeric:"value",Bullet:"actualValues"},dataFrame:{"Bubble,Pie,Scatter,TagCloud":"dataFrame"},trellisRow:{"Bubble,Scatter,Pie":"trellisRow"},trellisColumn:{"Bubble,Scatter,Pie":"trellisColumn"}},Pie:{mapTo:["XYY","Scatter","Bubble","TreeMap","HeatMap","TagCloud","TimeLine","TimeScatter","Numeric","Radar","Bullet","Waterfall","StackedWaterfall","HichertVariance","TimeCombination"],size:{"XYY,Scatter,Bubble,Radar,Waterfall,StackedWaterfall,TimeLine,TimeScatter,HichertVariance,TimeCombination":"valueAxis",Numeric:"value",Bullet:"actualValues","TreeMap,TagCloud":"weight",HeatMap:"color"},color:{"XYY,Bullet,HeatMap,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TreeMap:"title",TagCloud:"text","Scatter,Bubble,TimeLine,TimeScatter,TimeCombination":"color"},dataFrame:{"XYY,Scatter,Bubble,TagCloud,Radar":"dataFrame"},trellisRow:{"XYY,Scatter,Bubble,Radar":"trellisRow"},trellisColumn:{"XYY,Scatter,Bubble,Radar":"trellisColumn"}},XYY:{mapTo:["TreeMap","HeatMap","TagCloud","Numeric","Bullet","Bubble","Scatter","TimeScatter"],categoryAxis:{"Bullet,HeatMap":"categoryAxis",TreeMap:"title",TagCloud:"text","Bubble,Scatter,TimeScatter":"color"},color:{Bullet:"color",HeatMap:"categoryAxis2","Bubble,Scatter,TimeScatter":"shape"},valueAxis:{"TreeMap,TagCloud":"weight",HeatMap:"color",Numeric:"value",Bullet:"actualValues","Bubble,Scatter,TimeScatter":"valueAxis"},valueAxis2:{Bullet:"targetValues","Bubble,Scatter":"valueAxis2"},dataFrame:{TagCloud:"dataFrame","Bubble,Scatter":"dataFrame"}},TimeLine:{mapTo:["TagCloud","TreeMap","HeatMap","Bullet","Radar","Waterfall","StackedWaterfall","Numeric","HichertVariance"],valueAxis:{"Radar,Waterfall,StackedWaterfall":"valueAxis",HeatMap:"color",Bullet:"actualValues","TreeMap,TagCloud":"weight",Numeric:"value"},color:{"HeatMap,Bullet,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TreeMap:"title",TagCloud:"text"},timeAxis:{TimeCombination:"timeAxis"}},TimeCombination:{mapTo:["XY","TagCloud","TreeMap","HeatMap","Bullet","Radar","Waterfall","StackedWaterfall","Numeric","HichertVariance"],color:{"XY,Bullet,HeatMap,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TagCloud:"text",TreeMap:"title"},valueAxis:{"TagCloud,TreeMap":"weight",HeatMap:"color",Bullet:"actualValues",Numeric:"value"},valueAxis2:{"TagCloud,TreeMap":"color"}},TimeScatter:{mapTo:["Scatter","TagCloud","TreeMap","HeatMap","Bullet","Radar","Waterfall","StackedWaterfall","Numeric","HichertVariance"],valueAxis:{"Scatter,Radar,Waterfall,StackedWaterfall":"valueAxis",HeatMap:"color",Bullet:"actualValues","TreeMap,TagCloud":"weight",Numeric:"value"},color:{Scatter:"color","HeatMap,Bullet,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TreeMap:"title",TagCloud:"text"},shape:{Scatter:"shape",HeatMap:"categoryAxis2","Bullet,Radar,StackedWaterfall":"color"},bubbleWidth:{"Scatter,HichertVariance":"valueAxis2","TagCloud,TreeMap":"color",Bullet:"targetValues"}},Bubble:{mapTo:["TreeMap","HeatMap","TagCloud","Numeric","Radar","Bullet","Waterfall","StackedWaterfall","HichertVariance"],valueAxis:{"Radar,Waterfall,StackedWaterfall":"valueAxis",HeatMap:"color",Bullet:"actualValues","TreeMap,TagCloud":"weight",Numeric:"value"},valueAxis2:{Bullet:"targetValues","TreeMap,TagCloud":"color"},shape:{"Bullet,Radar,StackedWaterfall":"color",HeatMap:"categoryAxis2"},color:{"HeatMap,Bullet,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TreeMap:"title",TagCloud:"text"},bubbleWidth:{Bullet:"additionalValues"},dataFrame:{"TagCloud,Radar":"dataFrame"},trellisRow:{Radar:"trellisRow"},trellisColumn:{Radar:"trellisColumn"}},Scatter:{mapTo:["TreeMap","HeatMap","TagCloud","Numeric","Radar","Bullet","Waterfall","StackedWaterfall","HichertVariance"],valueAxis:{"Radar,Waterfall,StackedWaterfall":"valueAxis",HeatMap:"color",Bullet:"actualValues","TreeMap,TagCloud":"weight",Numeric:"value"},valueAxis2:{Bullet:"targetValues","TreeMap,TagCloud":"color"},shape:{"Bullet,Radar,StackedWaterfall":"color",HeatMap:"categoryAxis2"},color:{"Bullet,HeatMap,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TreeMap:"title",TagCloud:"text"},dataFrame:{"Pie,TagCloud,Radar":"dataFrame"},trellisRow:{Radar:"trellisRow"},trellisColumn:{Radar:"trellisColumn"}},TreeMap:{mapTo:["HeatMap","TagCloud","Numeric","Radar","Bullet","Waterfall","StackedWaterfall","HichertVariance"],title:{"Bullet,HeatMap,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis",TagCloud:"text"},color:{"HeatMap,TagCloud":"color",Bullet:"targetValues",HichertVariance:"valueAxis2"},weight:{"Radar,Waterfall,StackedWaterfall,HichertVariance":"valueAxis",Bullet:"actualValues",Numeric:"value",TagCloud:"weight"}},TagCloud:{mapTo:["Numeric","Radar","Bullet","HeatMap","Waterfall","StackedWaterfall","HichertVariance"],text:{"Bullet,Radar,HeatMap,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis"},color:{HeatMap:"color",Bullet:"targetValues",HichertVariance:"valueAxis2"},weight:{"Waterfall,Radar,StackedWaterfall,HichertVariance":"valueAxis",Bullet:"actualValues",Numeric:"value"},dataFrame:{Radar:"dataFrame"}},HeatMap:{mapTo:["Numeric","Radar","Bullet","Waterfall","StackedWaterfall","HichertVariance"],categoryAxis:{"Bullet,Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis"},color:{"Radar,Waterfall,StackedWaterfall,HichertVariance":"valueAxis",Numeric:"value",Bullet:"actualValues"},categoryAxis2:{"Bullet,Radar,StackedWaterfall":"color"}},Bullet:{mapTo:["Numeric","Radar","Waterfall","StackedWaterfall","HichertVariance"],categoryAxis:{"Radar,Waterfall,StackedWaterfall,HichertVariance":"categoryAxis"},color:{"Radar,StackedWaterfall":"color"},actualValues:{"Radar,Waterfall,StackedWaterfall,HichertVariance":"valueAxis",Numeric:"value"},targetValues:{HichertVariance:"valueAxis2"},additionalValues:{HichertVariance:"variance1"},forecastValues:{HichertVariance:"variance2"}},Radar:{mapTo:["Numeric"],valueAxis:{Numeric:"value"}},Waterfall:{mapTo:["Numeric"],valueAxis:{Numeric:"value"}},StackedWaterfall:{mapTo:["Numeric"],valueAxis:{Numeric:"value"}},HichertVariance:{mapTo:["Numeric"],valueAxis:{Numeric:"value"}}};var o=function(e,i){if(!e||!i){return}if(!s.hasOwnProperty(i)){s[i]={mapTo:[e]}}else{var r=s[i].mapTo||[];if(r.indexOf(e)===-1){r.push(e)}s[i].mapTo=r}};var l=function(e){if(arguments.length===1){return e}var i=arguments[1];if(!e.hasOwnProperty(i)){e[i]={}}var r=Array.prototype.slice.call(arguments,0);r.splice(0,2,e[i]);return l.apply(null,r)};var u=function(e,i,r,t){if(!e||!r||e===r){return}var a=l(s,e,i);var n=Object.keys(a).some(function(e){if(a[e]===t){if(e.split(",").indexOf(r)<0){a[e+","+r]=t;delete a[e]}return true}});if(!n){a[r]=t}};var c,f,v,d,_;for(c in s){for(v in s[c]){if(v==="mapTo"){s[c][v].forEach(function(e){o(c,e)});continue}for(f in s[c][v]){d=s[c][v][f];_=f.split(",");_.forEach(function(e){u(e,d,c,v)})}}}n.aliasExisted=function(e,i){if(!e||!i){return false}var r=s[e]?s[e].mapTo||[]:[];return r.indexOf(i)===-1?false:true};var p=function(a,n,o,l,u,c,f,v){var d=Object.keys(s[a]);var _=e.getMNDEnumeration(l);u.forEach(function(e){if(t.get(o,e.id).type()!==f){return}var u=false;if(d.indexOf(e.id)!==-1){var _=e.id;var p=m(s[a][_],n);if(p){u=true;var E=e.values;if(E){var T={id:p,values:[]};c.push(T);E.forEach(function(e){if(e.type===r.TYPE_MND&&e.measureNames){delete e.measureNames}if(i.switchable(l,c,T.id,e)){T.values.push(e)}else{v&&v.push(e)}})}}}if(!u&&v&&e.values){e.values.forEach(function(e){v.push(e)})}});return c};n.map=function(e,i,r,t,n,s){if(!e||!i){return[]}var o=[];o=p(e,i,r,t,n,o,a.TYPE_MEASURE,s);o=p(e,i,r,t,n,o,a.TYPE_DIMENSION,s);return o};var m=function(e,i){for(var r in e){if(r.split(",").indexOf(i)!==-1){return e[r]}}return null};return n});define("sap/viz/vizservices/service/bvr/switch/ChartCategories",[],function(){var e={};var i={XY:["info/bar","info/column","info/stacked_bar","info/stacked_column","info/100_stacked_bar","info/100_stacked_column","info/line","info/horizontal_line","info/combination","info/horizontal_combination","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/trellis_bar","info/trellis_column","info/trellis_stacked_bar","info/trellis_stacked_column","info/trellis_100_stacked_bar","info/trellis_100_stacked_column","info/trellis_line","info/trellis_horizontal_line","info/trellis_combination","info/trellis_horizontal_combination","info/trellis_area","info/trellis_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],XYY:["info/dual_bar","info/dual_column","info/dual_line","info/dual_horizontal_line","info/dual_combination","info/dual_horizontal_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/trellis_dual_bar","info/trellis_dual_column","info/trellis_dual_line","info/trellis_dual_horizontal_line"],Bubble:["info/bubble","info/trellis_bubble"],Pie:["info/pie","info/donut","info/trellis_donut","info/trellis_pie"],Scatter:["info/scatter","info/trellis_scatter"],Bullet:["info/bullet","info/vertical_bullet"],TreeMap:["info/treemap"],HeatMap:["info/heatmap"],TagCloud:["info/tagcloud"],TimeLine:["info/timeseries_line"],TimeScatter:["info/timeseries_scatter","info/timeseries_bubble"],TimeCombination:["info/timeseries_combination","info/dual_timeseries_combination"],Numeric:["info/number"],Radar:["info/radar","info/trellis_radar"],Waterfall:["info/waterfall","info/horizontal_waterfall"],StackedWaterfall:["info/stacked_waterfall","info/horizontal_stacked_waterfall"],HichertVariance:["info/hichert_column","info/hichert_bar"]};e.findCategory=function(e){for(var r in i){if(i.hasOwnProperty(r)){if(i[r].indexOf(e)>=0){return r}}}};return e});define("sap/viz/vizservices/service/bvr/switch/NameMapping",["sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/service/feed/FeedService","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/metadata/MetadataFactory"],function(e,i,r,t,a,n){var s={};var o=function(a,n,s,o,l,u){var c=e.buildEmptyFeeds(n);s.forEach(function(e){if(t.get(a,e.id).type()!==l){return}var s=false;c.forEach(function(t){if(e.id==t.id){s=true;var a=e.values;if(a){var l={id:e.id,values:[]};o.push(l);a.forEach(function(e){if(e.type===r.TYPE_MND&&e.measureNames){delete e.measureNames}if(i.switchable(n,o,l.id,e)){l.values.push(e)}else{u&&u.push(e)}})}}});if(!s&&u&&e.values){e.values.forEach(function(e){u.push(e)})}});return o};s.map=function(e,i,r,t){var n=[];n=o(e,i,r,n,a.TYPE_MEASURE,t);n=o(e,i,r,n,a.TYPE_DIMENSION,t);return n};return s});define("sap/viz/vizservices/common/LanguageLoader",[],function(){sap.viz.extapi.env.Language.register({id:"language",value:{VIZ_SERVICES_INVALID_PARAMETER:"Invalid Parameter."}})});define("sap/viz/vizservices/service/bvr/BVRService",["sap/viz/vizservices/common/feed/FeedUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/service/bvr/feeders/MNDFeeder","sap/viz/vizservices/service/bvr/feeders/TimeFeeder","sap/viz/vizservices/service/bvr/feeders/CommonFeeder","sap/viz/vizservices/service/bvr/switch/AliasMapping","sap/viz/vizservices/service/bvr/switch/ChartCategories","sap/viz/vizservices/service/bvr/switch/NameMapping","sap/viz/vizservices/common/utils/Utils","sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/LanguageLoader","sap/viz/vizservices/service/feed/FeedService","exports"],function(e,i,r,t,a,n,s,o,l,u,c,f,v){var d={};d.switchFeeds=function(i,t,a,n){var f=[{typeValidator:u.isString},{typeValidator:e.isArrayOfFeedItem},{typeValidator:u.isString}];if(!u.checkArgs(arguments,f)||c.get(i)===null||c.get(a)===null){throw u.substitute(sap.viz.extapi.env.Language.getResourceString("VIZ_SERVICES_INVALID_PARAMETER"))}t=e.removeInvalid(i,t);var v=c.get(i).getBindingDefsWithBVRSorting();var d=v.map(function(i){return e.getFeed(t,i.id())}).filter(function(e){return!!e});var E=e.buildEmptyFeeds(a);var g=o.findCategory(i);var A=o.findCategory(a);var h=[];if(g&&A&&s.aliasExisted(g,A)){E=e.merge(E,s.map(g,A,i,a,d,h))}else{E=e.merge(E,l.map(i,a,d,h))}var D=h.slice(0);var S=[];S.push("dataFrame");var M=!n||n.suggestOptionalFeed!==false;var z=m(a,S,M);E=p(a,E,h,z).feedItems;if(i!==a){E=I(a,E,D)}var N=[];d.forEach(function(e){e&&e.values&&e.values.forEach(function(e){if(e.type!==r.TYPE_MND&&D.indexOf(e)!==-1){N.push(e)}})});T(a,E,N);var y={type:a,feedItems:E};if((!n||n.considerMND!==false)&&_(y)){E=p(y.type,y.feedItems,[{id:r.ID_MND,type:r.TYPE_MND,measureNames:e.getMNDEnumeration(y.type)}],z).feedItems}return{type:a,feedItems:E}};d.suggestFeeds=function(i,t,a,n){var s=[{typeValidator:u.isString},{typeValidator:e.isArrayOfFeedItem},{typeValidator:e.isArrayOfAnalysisObject},{typeValidator:u.isObject,isOptional:true}];if(!u.checkArgs(arguments,s)||c.get(i)===null){throw u.substitute(sap.viz.extapi.env.Language.getResourceString("VIZ_SERVICES_INVALID_PARAMETER"))}t=e.removeInvalid(i,t);var o=e.buildEmptyFeeds(i);t=e.merge(o,t);t=e.cloneFeeds(t);var l=[];l.push("dataFrame");var f=!n||n.suggestOptionalFeed!==false;var v=m(i,l,f);var d=a.slice(0);var E=p(i,t,a,v);var g=e.indexOfMNDInValues(d);if(g!==-1){d.splice(g,1)}T(i,t,d);if((!n||n.considerMND!==false)&&_(E)){E=p(E.type,E.feedItems,[{id:r.ID_MND,type:r.TYPE_MND,measureNames:e.getMNDEnumeration(i)}],v)}return E};var _=function(e){var i=v.validate(e.type,e.feedItems);if(!i.valid){var r=0;var t=[];var a=false;var n=i.results.bindings;for(var s in n){if(n[s].missing){if(!n[s].associate||t.indexOf(n[s].associate)<0){t.push(s);r+=n[s].missing}}else if(n[s].allowMND){a=true}}if(a&&r===0||r===1&&n[t[0]].allowMND){return true}}return false};var p=function(e,i,r,t){var a;if(t&&t.length){a=[];i.forEach(function(e){if(t.indexOf(e.id)!==-1){a.push(e)}})}else{a=i}E(e,i,r.slice(0),a);return{type:e,feedItems:i}};var m=function(e,i,t){t=t!==false;var a=c.get(e).getBindingDefs();return a.filter(function(e){var a=i.indexOf(e.id())!==-1;var n=!e.min()&&e.id()!==r.ID_TRELLIS_ROW&&e.id()!==r.ID_TRELLIS_COLUMN;return!a&&(t||!n)}).map(function(e){return e.id()})};var E=function(i,r,s,o){o=o||r;a.feed(i,o,s);var l=e.indexOfMNDInValues(s);if(l===-1){n.feed(i,r,s,o)}else{var u=s;s=s.splice(l);var c=s.splice(1);var f=s;n.feed(i,r,u,o);t.feed(i,o,f);n.feed(i,r,c,o)}};var T=function(e,i,r){var t=[],a={};i.forEach(function(e){a[e.id]=[];e.values.forEach(function(i,n){if(r.indexOf(i)!==-1){t.push(i);a[e.id].push(n)}})});var n=[];r.forEach(function(e){if(t.indexOf(e)!==-1){n.push(e)}});t=n;var s,o,l;for(s=0;s<t.length;s++){o=t[s];l=D(i,o);g(e,i,a,function(e,i){if(i===o){return true}if(i.id==o.id&&i!==o&&t.indexOf(i)>s){A(l,o,e,i);return true}})}for(s=0;s<t.length;s++){o=t[s];l=D(i,o);g(e,i,a,function(i,r){if(r===o){return true}var a=h(e,i,o)&&h(e,l,r);if((i.id===l.id||a)&&t.indexOf(r)>s){A(l,o,i,r);return true}})}};var g=function(i,r,t,a){var n=c.get(i).getBindingDefsWithBVRSorting();for(var s=0;s<n.length;s++){var o=n[s],l=e.getFeed(r,o.id());if(l==null){continue}var u=false;var f=t[l.id]||[];for(var v=0;v<f.length;v++){var d=f[v];var _=l.values[d];var p=a(l,_);if(p){return}}}};var A=function(e,i,r,t){var a=e.values.indexOf(i);var n=r.values.indexOf(t);if(a!=-1&&n!=-1){var s=e.values[a];e.values[a]=r.values[n];r.values[n]=s}};var h=function(e,r,t){if(!i.support(i.get(e,r.id),t)){return false}var a=r.values;for(var n=0;n<a.length;n++){var s=a[n];if(s.id==t.id){return false}}return true};var D=function(e,i){var r;for(r in e){if(e[r].values.indexOf(i)!=-1){return e[r]}}return null};var I=function(t,a,n){var s=false;var o=e.getFeed(a,r.ID_TRELLIS_ROW),l=e.getFeed(a,r.ID_TRELLIS_COLUMN);if(o&&l&&o.values.length===0&&l.values.length===0){s=true}var u=c.get(t).getBindingDefsWithBVRSorting();for(var f=0;f<u.length;f++){var d=u[f],_=e.getFeed(a,d.id());var p=_.values.length<d.min()||s&&_===o&&!_.values.length;for(var m=0;p&&m<u.length;m++){var E=u[m];var T=e.getFeed(a,E.id());if(i.get(t,_.id).type()!=i.get(t,T.id).type()){continue}var g=T.values.length-1;var A=E.min()>1?E.min():1;while(g>=0&&_.id!==r.ID_DATAFRAME&&p&&T.values.length>A){var h=T.values.splice(g,1)[0];if(h.type!==r.TYPE_MND&&v.addable(t,a,_.id,h)){_.values.push(h);n&&n.push(h)}else{T.values.splice(g,0,h)}g--;p=_.values.length<d.min()||s&&_===o&&!_.values.length}}}return a};return d});define("sap/viz/vizservices/api/BVRService",["sap/viz/vizservices/service/bvr/BVRService","require"],function(e){var i=sap.viz.vizservices.BVRService={};i.suggestFeeds=function(i,r,t,a){return e.suggestFeeds(i,r,t,a)};i.switchFeeds=function(i,r,t,a){return e.switchFeeds(i,r,t,a)};return i});define("sap/viz/vizservices/common/Version",[],function(){return"1.9.1"});define("sap/viz/vizservices/api/Version",["sap/viz/vizservices/common/Version","require"],function(e){sap.viz.vizservices.VERSION=e;return e});define("sap/viz/vizservices/common/binding/generators/BindingGeneratorBase",["sap/viz/vizservices/common/metadata/MetadataFactory"],function(e){var i=function(i){this._visualizationType=i.visualizationType;this._bindingDefs=e.get(i.visualizationType).getBindingDefs()};i.prototype.generate=function(e){};return i});define("sap/viz/vizservices/common/binding/generators/FTBindingGenerator",["sap/viz/vizservices/common/utils/OOUtil","sap/viz/vizservices/common/metadata/bindingdef/BindingDefUtils","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/viz/ChartConst","sap/viz/vizservices/common/binding/generators/BindingGeneratorBase"],function(e,i,r,t,a){var n=function(e){n.superclass.constructor.apply(this,arguments)};e.extend(n,a);function s(e,r){return r.reduce(function(r,t){if(t.values.length){var a=i.get(e,t.id);if(a&&a.mndEnumerable()){r.push(t.id)}}return r},[])}n.prototype.generate=function(e){var i=s(this._visualizationType,e);var t=this._visualizationType;var a=[];e.forEach(function(e){var t=e.values||[];var n=[];if(t.length===0){return}for(var s=0;s<t.length;s++){var o=t[s];if(o.type===r.TYPE_MND){n.push({measureNames:i})}else{n.push(o.id)}}a.push({feed:e.id,source:n})});return a};return n});define("sap/viz/vizservices/common/binding/BindingConst",[],function(){var e={};e.ANALYSIS_AXIS="analysisAxis";e.MEASURE_VALUES_GROUP="measureValuesGroup";e.MEASURE_NAMES_DIMENSION="measureNamesDimension";return e});define("sap/viz/vizservices/common/binding/generators/XTBindingGenerator",["sap/viz/vizservices/common/utils/OOUtil","sap/viz/vizservices/common/viz/ChartConst","sap/viz/vizservices/common/feed/FeedConst","sap/viz/vizservices/common/metadata/bindingdef/BindingDefConst","sap/viz/vizservices/common/binding/BindingConst","sap/viz/vizservices/common/binding/generators/BindingGeneratorBase","sap/viz/vizservices/common/utils/Utils"],function(e,i,r,t,a,n,s){var o=function(e){o.superclass.constructor.apply(this,arguments)};e.extend(o,n);o.prototype.generate=function(e){var i=l(e);return u(this._bindingDefs,i)};var l=function(e){var i={};e.forEach(function(e){var t=e.values;if(t.length===0){return}var a=e.id.indexOf("multiplier")!==-1?e.id.split(".")[0]:e.id;i[a]=[];for(var n=0;n<t.length;++n){var s=t[n];var o;if(s.type===r.TYPE_MND){o=":mnd"}else{o=s.id}i[a].push(o)}});return i};var u=function(e,i){var r=[],n=[t.TYPE_MEASURE,t.TYPE_DIMENSION],s=1,o=1;e=e.map(function(e){return{id:e.id(),name:e.name(),type:e.type(),min:e.min(),max:e.max(),mndMode:e.mndMode(),bvrPriority:e.bvrPriority(),bvrMNDPriority:e.bvrMNDPriority()}}).sort(function(e,i){if(e.type!==i.type){return n.indexOf(e.type)-n.indexOf(i.type)}else{return e.bvrPriority-i.bvrPriority}});e.filter(function(e){if(e.type!==t.TYPE_MEASURE){return true}var n=i[e.id];if(!n){return false}r.push({feed:e.id,source:[{type:a.MEASURE_VALUES_GROUP,index:s++}]});return false}).filter(function(e){if(e.type!==t.TYPE_DIMENSION){return true}var n=i[e.id];if(!n){return false}r.push({feed:e.id,source:[{type:a.ANALYSIS_AXIS,index:o++}]});if(n.indexOf(":mnd")>-1){if(n[0]===":mnd"){r[r.length-1].source.unshift({type:a.MEASURE_NAMES_DIMENSION})}else{r[r.length-1].source.push({type:a.MEASURE_NAMES_DIMENSION})}}return false});return r};return o});define("sap/viz/vizservices/common/binding/BindingGeneratorFactory",["sap/viz/vizservices/common/binding/generators/FTBindingGenerator","sap/viz/vizservices/common/binding/generators/XTBindingGenerator"],function(e,i,r){var t={create:function(r,t){var a;var n={visualizationType:r};if("FlatTableDataset"===t){a=new e(n)}else if("CrossTableDataset"===t){a=new i(n)}return a}};return t});define("sap/viz/vizservices/service/binding/BindingService",["sap/viz/vizservices/common/binding/BindingGeneratorFactory","exports"],function(e){var i={};i.generateBindings=function(i,r,t){var a=e.create(i,t);return a.generate(r)};return i});define("sap/viz/vizservices/common/viz/VizUtils",["jquery","sap/viz/vizservices/common/metadata/MetadataFactory","sap/viz/vizservices/common/utils/Utils"],function(e,i,r){var t={};t.getValidProperties=function(e,t){var a=r.clone(e);i.get(t).removeInvalidProperty(a);return a};t.getPropertiesDef=function(e){var r=e&&i.get(e);var t;if(r){t=r.getPropertiesDef()}return t};t.mergeProperties=function(e,i,r){var a=t.getPropertiesDef(e);i=i||{};for(var n=2;n<arguments.length;n++){var s=arguments[n];t._mergePropertiesByDef(a,i,s)}return i};t.mergeScales=function(e,i){e=e||[];var r=[];var t=false;for(var a in i){t=false;for(var n in e){if(e[n].feed===i[a].feed){e[n]=i[a];t=true;break}}if(!t){r.push(i[a])}}if(r.length>0){e=e.concat(r)}return e};t._mergePropertiesByDef=function(i,r,a){for(var n in a){var s=a[n];var o=i?i[n]:i;if(s!==undefined){if(o===null||!e.isPlainObject(s)){r[n]=s}else{var l=r[n];if(!l||!e.isPlainObject(l)){l=r[n]={}}t._mergePropertiesByDef(o,l,s)}}}};return t});define("sap/viz/vizservices/service/property/PropertyService",["sap/viz/vizservices/common/viz/VizUtils","exports"],function(e){var i={};i.removeInvalid=function(i,r){return e.getValidProperties(r,i)};i.mergeProperties=function(i,r,t,a){return e.mergeProperties.apply(null,arguments)};i.getPropertiesDef=e.getPropertiesDef;return i});define("sap/viz/vizservices/service/scale/ScaleService",["sap/viz/vizservices/common/viz/VizUtils","exports"],function(e){var i={};i.mergeScales=function(i,r,t){return e.mergeScales(r,t)};return i});(function(){var e=define&&define.__autoLoad;if(e&&e.length){define.__autoLoad=[];require(e)}})();(function(e){e.define=sap.viz.moduleloader.originalDefine;e.require=sap.viz.moduleloader.originalRequire;e.requirejs=sap.viz.moduleloader.originalRequirejs})(this);
}
});
//# sourceMappingURL=library-preload.js.map
