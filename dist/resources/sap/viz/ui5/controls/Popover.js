/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/layout/Grid","sap/ui/layout/form/SimpleForm","sap/viz/library","./common/BaseControl","./chartpopover/ChartPopover","sap/ui/thirdparty/jquery","./PopoverRenderer"],function(t,o,e,i,r,s,jQuery){"use strict";var n=r.extend("sap.viz.ui5.controls.Popover",{metadata:{library:"sap.viz",properties:{customDataControl:{type:"any",defaultValue:null},actionItems:{type:"object[]",defaultValue:null},formatString:{type:"any",defaultValue:null},showLine:{type:"boolean",defaultValue:true}}}});n.prototype.init=function(){r.prototype.init.apply(this,arguments);this._Popover=undefined;this._uid=undefined};n.prototype.exit=function(){r.prototype.exit.apply(this,arguments);var o=t.getElementById(this._uid);if(o){if(o._vizFrame){o._vizFrame.off("showTooltip");o._vizFrame.off("hideTooltip");var e=o._onConnectPopover()||{};if(e.ref===this){o._onConnectPopover(undefined)}}else{o._onConnectPopover(jQuery.proxy(function(t){if(!o._vizFrame){return}o._vizFrame.off("showTooltip");o._vizFrame.off("hideTooltip")},this))}}if(this._Popover){this._Popover.destroy()}this._Popover=undefined;this._uid=undefined};n.prototype.connect=function(o){this._uid=o;if(!this._Popover){this._createPopover()}var e=t.getElementById(this._uid);var i=e.getUiConfig();if(!i||i.applicationSet!=="fiori"){return}var r=this._Popover;function s(){if(!e._vizFrame){return}e._vizFrame.off("showInstantTooltip");e._vizFrame.off("hideInstantTooltip");e._vizFrame.on("showTooltip",function(t){if(t.data.target){r.setOptions(t.data).openBy(t.data.target)}});e._vizFrame.on("hideTooltip",function(){r.close()});r.setChartType(e._vizFrame.type());r._oPopover.setOffsetX(0);r._oPopover.setOffsetY(0)}s.ref=this;if(e._vizFrame){s()}e._onConnectPopover(s)};n.prototype.close=function(){if(this._Popover){this._Popover.close()}};n.prototype.setFormatString=function(t){this.setProperty("formatString",t);if(this._Popover){this._Popover.setFormatString(t)}else{this._createPopover()}return this};n.prototype.setCustomDataControl=function(t){this.setProperty("customDataControl",t);if(this._Popover){this._Popover.setCustomDataControl(t)}else{this._createPopover()}return this};n.prototype.setActionItems=function(t){this.setProperty("actionItems",t);if(this._Popover){this._Popover.setActionItems(t)}else{this._createPopover()}return this};n.prototype.setShowLine=function(t){this.setProperty("showLine",t);if(this._Popover){this._Popover.setShowLine(t)}else{this._createPopover()}return this};n.prototype._createPopover=function(){this._Popover=new s({actionItems:this.getActionItems(),customDataControl:this.getCustomDataControl(),formatString:this.getFormatString(),showLine:this.getShowLine()})};n.prototype.addStyleClass=function(){this._Popover.addStyleClass.apply(this._Popover,arguments)};n.prototype.removeStyleClass=function(){this._Popover.removeStyleClass.apply(this._Popover,arguments)};return n});
//# sourceMappingURL=Popover.js.map