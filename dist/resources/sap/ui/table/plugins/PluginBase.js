/*
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/TableUtils","sap/ui/core/Element"],function(t,e){"use strict";var i=t.Hook.Keys;var n={};var o=t.createWeakMapFacade();var a=e.extend("sap.ui.table.plugins.PluginBase",{metadata:{abstract:true,library:"sap.ui.table"}});a.getPlugin=function(t,e=a){if(!t){return}if(typeof e==="function"&&e.getMetadata){e=e.getMetadata().getName()}const i=function(t){return t.isA(e)&&t.isA(["sap.m.plugins.PluginBase","sap.ui.table.plugins.PluginBase"])};return t.getDependents().find(i)||t.findElements(false,i)[0]};a.findOn=function(t){return a.getPlugin(t,this)};a.prototype.init=function(){e.prototype.init.apply(this,arguments);o(this).bIsActive=false};a.prototype.exit=function(){e.prototype.exit.apply(this,arguments);this.deactivate()};a.prototype.onActivate=function(t){};a.prototype.onDeactivate=function(t){};a.prototype.isActive=function(){return o(this).bIsActive};a.prototype.isApplicable=function(e){return t.isA(e,"sap.ui.table.Table")};a.prototype.setParent=function(t){this.deactivate();e.prototype.setParent.apply(this,arguments);if(t){if(!this.isApplicable(this.getTable())){throw new Error(this+" is not applicable to "+t)}this.activate()}return this};a.prototype.onTableBindRows=function(){};n[i.Table.BindRows]=function(t){this.onTableBindRows(t)};a.prototype.onTableRowsBound=function(t){};n[i.Table.RowsBound]=function(t){this.onTableRowsBound(t)};a.prototype.onTableUnbindRows=function(){};n[i.Table.UnbindRows]=function(){this.onTableUnbindRows()};a.prototype.getTable=function(){var e=this.getParent();return t.isA(e,"sap.ui.table.Table")?e:null};a.prototype.getTableBinding=function(){var t=this.getTable();var e=t?t.getBinding():null;return e?e:null};a.prototype.setRowCountConstraints=function(t){var e=this.getTable();if(e){e._setRowCountConstraints(t)}};a.prototype.activate=function(){var e=this.getTable();if(!e||this.isActive()){return}t.Hook.install(e,n,this);this.onActivate(e);var i=this.getTableBinding();if(i){this.onTableRowsBound(i)}o(this).bIsActive=true};a.prototype.deactivate=function(){var e=this.getTable();if(!this.isActive()){return}t.Hook.uninstall(e,n,this);this.onDeactivate(e);o(this).bIsActive=false};return a});
//# sourceMappingURL=PluginBase.js.map