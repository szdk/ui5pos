{"version":3,"file":"SortController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","merge","SortController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","sort","setItemType","metadata","events","afterSortModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","detachEvent","_onSort","attachEvent","detachSort","attachSort","getColumn2Json","oColumn","sColumnKey","iIndex","isSortable","getSorted","getSortOrder","columnKey","operation","getColumn2JsonTransient","sText","sTooltip","text","tooltip","undefined","handleIgnore","oJson","sortItems","splice","syncJson2Table","oColumnKey2ColumnMap","getColumnMap","oColumnKey2ColumnMapUnsorted","fireBeforePotentialTableChange","AnalyticalTable","Table","TreeTable","forEach","oMSortItem","setSorted","setSortOrder","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","SortOrder","length","map","oSortOrder","Property","Descending","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlDataInitial","getControlData","oSortItem","oEvent","preventDefault","_updateInternalModel","getColumnKey","getParameter","fireAfterSortModelDataChange","sOperation","bAddNewSort","getInternalModel","setProperty","oControlData","getIndexByKey","updateControlDataBaseFromJson","getPanel","hasSortableColumns","Promise","resolve","require","P13nSortPanel","P13nItem","P13nSortItem","containerQuery","items","path","template","beforeNavigationTo","setModelFunction","updateSortItem","fireAfterPotentialModelChange","json","getControlDataReduce","bind","addSortItem","oSortItemData","getOperation","oControlDataReduce","push","setControlDataReduce2Model","removeSortItem","retrieveAdaptationUI","oPayload","SortPanel","aSortItems","getAdaptationData","oSortPanel","setP13nData","oPanel","attachChange","oEvt","aSorters","getP13nData","oNew","o","name","descending","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","sorted","_sortAdaptationData","aItems","_getP13nBuilder","sortP13nData","visible","position","_getPresenceAttribute","getChangeType","oPersistentDataBase","oPersistentDataCompare","ChangeType","Unchanged","bIsDirty","JSON","stringify","ModelChanged","getChangeData","copy","oJsonBase","exit","getTable"],"sources":["SortController-dbg.js"],"mappings":"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"}