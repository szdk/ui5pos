{"version":3,"file":"GroupController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","P13nConditionPanel","P13nConditionOperation","GroupController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","group","setItemType","metadata","events","afterGroupModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","detachEvent","_onGroup","attachEvent","detachGroup","attachGroup","getColumn2Json","oColumn","sColumnKey","iIndex","AnalyticalTable","getGrouped","columnKey","isGrouped","operation","getSortOrder","GroupAscending","GroupDescending","showIfGrouped","getShowIfGrouped","getAdditionalData2Json","oJson","groupItems","length","getGroupedColumns","forEach","iIndexNew","getCore","byId","iIndexOld","getIndexByKey","getColumnKey","oItem","splice","getColumn2JsonTransient","sText","sTooltip","isGroupable","text","tooltip","undefined","handleIgnore","sort","sortItems","syncJson2Table","oColumnKey2ColumnMap","getColumnMap","getTable","fireBeforePotentialTableChange","TreeTable","bIsSetFromGroupController","setGrouped","setShowIfGrouped","oMGroupItem","Table","getGroupBy","some","setGroupBy","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","GroupBy","map","sGroupBy","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlDataInitial","getControlData","oEvent","_updateInternalModel","getParameter","fireAfterGroupModelDataChange","_setGroup","bGrouped","aGroupedColumns","getInternalModel","setProperty","oControlData","updateControlDataBaseFromJson","getPanel","hasGroupableColumns","Promise","resolve","require","P13nGroupPanel","P13nItem","P13nGroupItem","maxGroups","containerQuery","items","path","template","beforeNavigationTo","setModelFunction","updateGroupItem","fireAfterPotentialModelChange","json","getControlDataReduce","bind","addGroupItem","oGroupItemData","oGroupItem","getOperation","oControlDataReduce","push","setControlDataReduce2Model","removeGroupItem","retrieveAdaptationUI","oPayload","GroupPanel","aGroupItems","getAdaptationData","bIsAnalyticalTable","oGroupPanel","queryLimit","enableShowField","oPanel","setP13nData","attachChange","oEvt","aGroups","getP13nData","oNew","o","name","descending","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","grouped","_sortAdaptationData","aItems","_getP13nBuilder","sortP13nData","visible","position","_getPresenceAttribute","getChangeType","oPersistentDataBase","oPersistentDataCompare","ChangeType","Unchanged","bIsDirty","JSON","stringify","ModelChanged","getChangeData","copy","oJsonBase","isGroupSelected","iIndex_","exit"],"sources":["GroupController-dbg.js"],"mappings":"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"}