/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/comp/library","sap/ui/core/Element","sap/ui/layout/library","sap/ui/layout/form/FormContainer","sap/base/Log","sap/m/Label","sap/m/Button","sap/m/Text"],function(t,e,i,r,o,a,s,n){"use strict";var l;var u=r.extend("sap.ui.comp.smartform.Group",{metadata:{library:"sap.ui.comp",designtime:"sap/ui/comp/designtime/smartform/Group.designtime",properties:{useHorizontalLayout:{type:"boolean",group:"Misc",defaultValue:null,deprecated:true},horizontalLayoutGroupElementMinWidth:{type:"int",group:"Misc",defaultValue:null,deprecated:true},label:{type:"string",group:"Misc",defaultValue:null,deprecated:true}},defaultAggregation:"groupElements",aggregations:{groupElements:{type:"sap.ui.comp.IFormGroupElement",multiple:true,singularName:"groupElement"},layout:{type:"sap.ui.layout.GridData",multiple:false}},_bVisibleElements:false}});u.prototype.init=function(){r.prototype.init.apply(this,arguments);this._oObserver.observe(this,{properties:["useHorizontalLayout","horizontalLayoutGroupElementMinWidth","label"]})};function p(t){var e=this.getGroupElements();for(var i=0;i<e.length;i++){if(e[i].isA("sap.ui.comp.smartform.SemanticGroupElement")){o.error("useHorizontalLayout can't be used for SemanticGroupElement",this)}else if(e[i].getUseHorizontalLayout()!=t){e[i].setUseHorizontalLayout(t)}}this._updateLayoutData()}u.prototype._updateLayoutData=function(){if(this.getUseHorizontalLayout()){var t=this.getParent();while(t&&!t.addGroup&&t.getParent){t=t.getParent()}if(t){var e=t.getLayout();if(!e||!e.getGridDataSpan()){if(!this.getLayoutData()){if(!l&&!this._bResponsiveFlowLayoutDataRequested){l=sap.ui.require("sap/ui/layout/ResponsiveFlowLayoutData");if(!l){sap.ui.require(["sap/ui/layout/ResponsiveFlowLayoutData"],h.bind(this));this._bResponsiveFlowLayoutDataRequested=true}}if(l&&!this._bResponsiveFlowLayoutDataRequested){var i=new l({linebreak:true,linebreakable:true});i._bCreatedByGroup=true;this.setLayoutData(i)}}}else{this._updateLineBreaks()}}}else{var r=this.getLayoutData();if(r&&r._bCreatedByGroup){this.destroyLayoutData()}}};function h(t){l=t;this._bResponsiveFlowLayoutDataRequested=false;if(!this._bIsBeingDestroyed){this._updateLayoutData()}}function m(t){o.error("HorizontalLayoutGroupElementMinWidth is deprecated",this);var e=this.getGroupElements();for(var i=0;i<e.length;i++){e[i].setHorizontalLayoutGroupElementMinWidth(t)}}u.prototype.setEditMode=function(t){this._setEditable(t);return this};u.prototype._updateLineBreaks=function(){if(this.getUseHorizontalLayout&&!this.getUseHorizontalLayout()){return}var t=this.getParent();if(!t){return}while(t&&!t._getGridDataSpanNumbers&&t.getParent){t=t.getParent()}if(t&&!t._getGridDataSpanNumbers){return}var e=t&&t._getGridDataSpanNumbers();if(!e){return}var i=this.getGroupElements();i=i.filter(function(t){return t.isVisible()});var r=0;var o=0;var a=0;var s=0;var n=false;var l=false;var u=false;var p=false;for(var h=0;h<i.length;h++){var m=i[h];r++;o++;a++;s++;if(e.XL*r>12){n=true;r=1}else{n=false}if(e.L*o>12){l=true;o=1}else{l=false}if(e.M*a>12){u=true;a=1}else{u=false}if(e.S*s>12){p=true;s=1}else{p=false}m._setLinebreak(n,l,u,p)}};u.prototype._updateGridDataSpan=function(){if(this.getUseHorizontalLayout&&!this.getUseHorizontalLayout()){return}var t=this.getGroupElements();for(var e=0;e<t.length;e++){t[e]._updateGridDataSpan()}};u.prototype._updateFormContainerVisibility=function(){var t=this.getGroupElements();var e=false;e=t.some(function(t){return t.isVisible()});if(this._bVisibleElements!==e){this._bVisibleElements=e;if(this.isPropertyInitial("visible")){this.fireEvent("_visibleChanged")}}};function y(t){var e=this.getTitle();if(e&&typeof e!=="string"){o.error("Title already set, Label can not be set",this)}else{this.setTitle(t)}}u.prototype.setVisible=function(t){var e=this.getVisible();r.prototype.setVisible.apply(this,arguments);if(t!=e||t!=this._bVisibleElements){this.fireEvent("_visibleChanged")}return this};u.prototype.isVisible=function(){if(this.isPropertyInitial("visible")){return this._bVisibleElements}else{return this.getVisible()}};u.prototype.addGroupElement=function(t){return this.addFormElement(t)};u.prototype.insertGroupElement=function(t,e){return this.insertFormElement(t,e)};u.prototype.getGroupElements=function(){return this.getFormElements()};u.prototype.indexOfGroupElement=function(t){return this.indexOfFormElement(t)};u.prototype.removeGroupElement=function(t){return this.removeFormElement(t)};u.prototype.removeAllGroupElements=function(){return this.removeAllFormElements()};u.prototype.destroyGroupElements=function(){return this.destroyFormElements()};u.prototype.addFormElement=function(t){if(!t){return this}t=this.validateAggregation("groupElements",t,true);f.call(this,t);r.prototype.addFormElement.apply(this,arguments);d.call(this,t);return this};u.prototype.insertFormElement=function(t,e){if(!t){return this}t=this.validateAggregation("groupElements",t,true);f.call(this,t);r.prototype.insertFormElement.apply(this,arguments);d.call(this,t);return this};u.prototype.removeFormElement=function(t){var e=r.prototype.removeFormElement.apply(this,arguments);if(e){e.detachVisibleChanged(this._updateFormContainerVisibility,this);c.call(this,e);this._updateFormContainerVisibility();this._updateLineBreaks()}return e};u.prototype.removeAllFormElements=function(){var t=r.prototype.removeAllFormElements.apply(this,arguments);for(var e=0;e<t.length;e++){var i=t[e];i.detachVisibleChanged(this._updateFormContainerVisibility,this);c.call(this,i)}this._updateFormContainerVisibility();this._updateLineBreaks();return t};u.prototype.destroyFormElements=function(){r.prototype.destroyFormElements.apply(this,arguments);this._updateFormContainerVisibility();this._updateLineBreaks();return this};function f(t){var e,i;if(!t.isA("sap.ui.comp.smartform.SemanticGroupElement")){e=this.getUseHorizontalLayout();i=this.getHorizontalLayoutGroupElementMinWidth();if(i!=t.getHorizontalLayoutGroupElementMinWidth){t.setHorizontalLayoutGroupElementMinWidth(i)}if(e!=t.getUseHorizontalLayout()){t.setUseHorizontalLayout(e)}}t.attachVisibleChanged(this._updateFormContainerVisibility,this);g.call(this,t)}function d(t){this._updateFormContainerVisibility();if(this.getUseHorizontalLayout()&&this.getUseHorizontalLayout()){t._updateGridDataSpan();this._updateLineBreaks()}}u.prototype.setLayout=function(t){t=this.validateAggregation("layout",t,false);return this.setLayoutData(t)};u.prototype.getLayout=function(){return this.getLayoutData()};u.prototype.destroyLayout=function(t){return this.destroyLayoutData()};u.prototype.addCustomData=function(t){if(!t){return this}r.prototype.addCustomData.apply(this,arguments);var e=this.getGroupElements();for(var i=0;i<e.length;i++){v.call(this,e[i],t)}return this};u.prototype.insertCustomData=function(t,e){if(!t){return this}r.prototype.insertCustomData.apply(this,arguments);var i=this.getGroupElements();for(var o=0;o<i.length;o++){v.call(this,i[o],t)}return this};u.prototype.removeCustomData=function(t){var e=r.prototype.removeCustomData.apply(this,arguments);if(e){var i=this.getGroupElements();for(var o=0;o<i.length;o++){c.call(this,i[o],e.getId())}}return e};u.prototype.removeAllCustomData=function(){var t=r.prototype.removeAllCustomData.apply(this,arguments);if(t.length>0){var e=this.getGroupElements();for(var i=0;i<e.length;i++){c.call(this,e[i])}}return t};u.prototype.destroyCustomData=function(){r.prototype.destroyCustomData.apply(this,arguments);var t=this.getGroupElements();for(var e=0;e<t.length;e++){c.call(this,t[e])}return this};function g(t){var e=this.getCustomData();for(var i=0;i<e.length;i++){v.call(this,t,e[i])}}function v(e,i){if(t.smartform.inheritCostomDataToFields(i)){var r=i.clone();r._bFromGroup=true;r._sOriginalId=i.getId();e.addCustomData(r)}}function c(t,e){var i=t.getCustomData();for(var r=0;r<i.length;r++){var o=i[r];if(o._bFromGroup&&(!e||e==o._sOriginalId)){t.removeCustomData(o)}}}u.prototype.clone=function(t,e){var i=this.removeAllGroupElements();var o=r.prototype.clone.apply(this,arguments);for(var a=0;a<i.length;a++){var s=i[a];var n=s.clone(t,e);this.addGroupElement(s);o.addGroupElement(n)}return o};u.prototype._observeChanges=function(t){r.prototype._observeChanges.apply(this,arguments);if(t.name=="label"){y.call(this,t.current)}else if(t.name=="useHorizontalLayout"){p.call(this,t.current)}else if(t.name=="horizontalLayoutGroupElementMinWidth"){m.call(this,t.current)}};return u});
//# sourceMappingURL=Group.js.map