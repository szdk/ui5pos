/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/Core","sap/ui/core/library","sap/ui/comp/smartfield/type/String","sap/ui/comp/odata/type/NumericText","sap/ui/comp/odata/CalendarFormat","sap/ui/model/ValidateException"],function(e,t,a,r,s,i){"use strict";var o=a.extend("sap.ui.comp.odata.type.CalendarDate",{constructor:function(e,i,n){a.call(this,e,i);if(this.oConstraints&&this.oConstraints.isDigitSequence){r.call(this,e,i)}this.sCalendarType=n.calendarType;this.formatter=s.getDateInstance(Object.assign({format:o.CalendarDateFormatter[this.sCalendarType],calendarType:t.CalendarType.Gregorian},e))}});o.prototype.parseValue=function(e){if(e===""){return null}if(this.oConstraints&&this.oConstraints.isDigitSequence){return this.formatter.parse(r.prototype.parseValue.apply(this,arguments))}return this.formatter.parse(a.prototype.parseValue.apply(this,arguments))};o.prototype.formatValue=function(e){var t;if(this.oConstraints&&this.oConstraints.isDigitSequence){var s=Array.from(arguments),i=true;s.push(i);t=r.prototype.formatValue.apply(this,s)}else{t=a.prototype.formatValue.apply(this,arguments)}if(t===null){return null}return this.formatter.format(t)};o.prototype.validateValue=function(e){try{a.prototype.validateValue.apply(this,arguments)}catch(t){if(!this.formatter.validate(e)){throw new i(this.getErrorMessage(this.sCalendarType))}}if(e===null){return}if(!this.formatter.validate(e)){throw new i(this.getErrorMessage(this.sCalendarType))}};o.prototype.destroy=function(){a.prototype.destroy.apply(this,arguments);if(this.formatter){this.formatter.destroy();this.formatter=null}};o.prototype.getErrorMessage=function(t){var a;this.iFullYear=this.iFullYear||(new Date).getFullYear().toString();switch(t){case"IsCalendarYear":a=this.iFullYear;break;case"IsCalendarQuarter":a="1";break;case"IsCalendarYearQuarter":a=this.iFullYear+"1";break;case"IsCalendarWeek":a="01";break;case"IsCalendarYearWeek":a=this.iFullYear+"01";break;case"IsCalendarMonth":a="01";break;case"IsCalendarYearMonth":a=this.iFullYear+"01";break;default:a=this.iFullYear}return e.getLibraryResourceBundle("sap.ui.comp").getText("CALENDAR_VALIDATION_FAILS",[this.formatValue(a,"string")])};o.CalendarDateFormatter={IsCalendarYear:"YYYY",IsCalendarWeek:"WW",IsCalendarMonth:"MM",IsCalendarQuarter:"Q",IsCalendarYearWeek:"YYYYWW",IsCalendarYearMonth:"YYYYMM",IsCalendarYearQuarter:"YYYYQ"};o.prototype.getName=function(){return"sap.ui.comp.odata.type.CalendarDate"};o.prototype.getFormatter=function(){return this.formatter};return o});
//# sourceMappingURL=CalendarDate.js.map