{"version":3,"file":"NavigationPopoverHandler.js","names":["sap","ui","define","jQuery","CompLibrary","ManagedObject","SemanticObjectController","JSONModel","BindingMode","Control","Factory","NavigationPopover","Util","VBox","LinkData","MessageBox","Controller","PersonalizationUtil","NavigationContainer","ContactDetailsController","Log","InvisibleText","CustomData","SapBaseLog","isPlainObject","Component","merge","whitespaceReplacer","NavigationPopoverHandler","extend","metadata","library","properties","semanticObject","type","defaultValue","additionalSemanticObjects","semanticObjectController","fieldName","semanticObjectLabel","mapFieldToSemanticObject","contactAnnotationPath","undefined","enableAvailableActionsPersonalization","beforeNavigationCallback","aggregations","_popover","multiple","visibility","associations","control","events","beforePopoverOpens","parameters","semanticAttributes","semanticAttributesOfSemanticObjects","setSemanticAttributes","setAppStateKey","originalId","open","navigationTargetsObtained","mainNavigation","actions","ownNavigation","popoverForms","show","innerNavigate","text","href","prototype","init","this","_oPopover","_oContactDetailsController","oModel","appStateKey","mainNavigationId","navigationTarget","extraContent","availableActions","setDefaultBindingMode","TwoWay","setSizeLimit","setModel","_oRTANavigationHandling","enabled","initialValue","_oLog","getLevel","Level","INFO","applySettings","mSettings","apply","arguments","_setSemanticAttributes","_calculateSemanticAttributes","openPopover","oDomRef","that","_getPopover","then","oPopover","oLink","getDirectLink","_fireInnerNavigate","getText","getHref","internalHref","data","_destroyPopover","getSemanticObjectValue","oSemanticAttributes","_getSemanticAttributes","getSemanticObject","getNavigationPopoverStableId","oControl","getCore","byId","getControl","error","oAppComponent","_getComponent","getId","sSemanticObjectDefault","getModel","getProperty","aSemanticObjects","concat","getAdditionalSemanticObjects","sortArrayAlphabetical","sSemanticObjects","join","createId","updateBindingContext","oBCOld","getBindingContext","oBCNew","setSemanticObject","sSemanticObject","setProperty","setEnableAvailableActionsPersonalization","bEnableAvailableActionsPersonalization","setFieldName","sFieldName","setControl","setAssociation","_updateSemanticObjectController","setMapFieldToSemanticObject","bMapFieldToSemanticObject","setSemanticObjectController","oSemanticObjectController","exit","destroy","getSemanticObjectController","unregisterControl","_initModel","aAdditionalSemanticObjects","sContactAssociationPath","getContactAnnotationPath","sBindingPath","getPath","warning","oODataModel","oComponent","sId","sMainNavigationId","sSemanticObjectValue","aNavigationTargets","reset","loadLibrary","async","retrieveSemanticObjectMapping","getFieldName","oSemanticObjects","_fireBeforePopoverOpens","oResultFromOpen","_getTextOfDom","retrieveNavigationTargets","aTargets","getBindingPath4ContactAnnotation","sBindingPathOfAnnotation","aForms","getContactDetailsContainers","_fireNavigationTargetsObtained","oResultFromNavigationObtained","aAvailableActions","aConvertToExternalPromises","forEach","oAvailableAction","setText","setInternalHref","push","_convertToExternal","sConvertedHref","setHref","oMainNavigation","getDescription","setDescription","Promise","all","_updateVisibilityOfAvailableActions","convert2Json","_getEnableAvailableActionsPersonalization","TRACE","info","_getLogFormattedText","_initPopover","_createPopover","addDependent","_initNavigationContainer","oNavigationContainer","_createNavigationContainer","resolve","_getNavigationContainer","customData","key","content","title","source","beforeClose","removeAllContent","afterClose","bind","ariaLabelledBy","_oHeaderArea","getItems","getContent","setAggregation","sStableId","oExistingNavigationContainer","getParent","isA","close","isDestroyed","path","templateShareable","template","target","description","visible","component","beforePopoverOpen","setModal","afterPopoverClose","navigate","_onNavigate","sHref","getService","oXApplNavigation","hrefForExternalAsync","shellHash","oLog","oResult","hasListeners","fnExistsSemanticAttributeForAnySemanticObject","aSemanticObjectsWithExistingSemanticAttributes","Object","keys","filter","isEmptyObject","length","fireBeforePopoverOpens","updateSemanticObjectAttributes","sAppStateKey","oNavigationTargets","items","fireNavigationTargetsObtained","oAdditionalContent","Array","isArray","addIntent","intent","getKey","setVisible","oEvent","aParameters","getParameters","sAdditionalSemanticObject","find","includes","oNavigationInfo","getBeforeNavigationCallback","bNavigate","fireInnerNavigate","oParent","getAppComponent","get","getOwnerIdFor","_getBindingContextObject","oBindingContext","getObject","getFormattedText","oContextObject","sCurrentField","oResults","oMappingRules","_getMappingRules","sAttributeName","oAttribute","oTransformationAdditional","transformations","addSemanticObjectAttribute","value","sAttributeNameMapped","reason","oAttributeValue","getMapFieldToSemanticObject","oMap","getFieldSemanticObjectMap","hasOwnProperty","oControllerNew","oControllerOld","_getSemanticObjectControllerOfControl","isControlRegistered","registerControl","aMAvailableActions","aMValidAvailableActions","getStorableAvailableActions","bHasSuperiorAction","some","oMAvailableAction","isSuperiorAction","every","getEnableAvailableActionsPersonalization"],"sources":["NavigationPopoverHandler-dbg.js"],"mappings":"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"}