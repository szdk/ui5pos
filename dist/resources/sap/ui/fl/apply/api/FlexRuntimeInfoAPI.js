/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/includes","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/FlexConfiguration","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Layer","sap/ui/fl/Utils"],function(e,t,r,n,o,l,i,s,a,c){"use strict";var u={isPersonalized(n){function o(e){t.error(e);return Promise.reject(e)}function l(e){return e.getFileType()==="change"}function s(t,n,o){var l=n.map(function(e){return e.id||e.getId()});var i=o.getSelector();var s=r.getControlIdBySelector(i,t);return e(l,s)}function u(t,r){return Array.isArray(t)&&t.length>0?e(t,r.getChangeType()):true}if(!n.selectors||n.selectors.length===0){return o("At least one control ID has to be provided as a parameter")}var p=n.selectors[0].appComponent||c.getAppComponentForControl(n.selectors[0]);if(!p){return o("App Component could not be determined")}var f=i.getChangePersistenceForControl(p);return f.getChangesForComponent({currentLayer:a.USER,includeCtrlVariants:true}).then(function(e){return e.filter(s.bind(this,p,n.selectors)).filter(u.bind(this,n.changeTypes)).some(l)}.bind(this))},waitForChanges(e){var t;var r;if(e.element){t=[{selector:e.element}];r=e.element}else if(e.selectors){t=e.selectors.map(function(e){return{selector:e}});[r]=e.selectors}else if(e.complexSelectors){t=e.complexSelectors;r=e.complexSelectors[0].selector}return s.createForSelector(r).waitForChangesToBeApplied(t)},isFlexSupported(e){return!!c.getAppComponentForControl(e.element)},hasVariantManagement(e){return n.belongsToVariantManagement(e.element)},getFlexReference(e){return o.getFlexReferenceForControl(e.element)},getConfiguredFlexServices(){return l.getFlexibilityServices()}};return u});
//# sourceMappingURL=FlexRuntimeInfoAPI.js.map