{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Element","FlexState","VariantUtils","ControlVariantApplyAPI","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","ChangesWriteAPI","ChangePersistenceFactory","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","length","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oChangePersistence","getChangePersistenceForControl","oVariantModel","getModel","getVariantModelName","USER","aSuccessfulChanges","createChanges","aChanges","aChangesToBeAdded","reduce","pPromise","oPersonalizationChange","then","transient","ignoreVariantManagement","variantReference","sVariantManagementReference","useStaticArea","sCurrentVariantReference","oData","currentVariant","Object","assign","developerMode","layer","create","selector","oCreatedChange","push","changeInstance","catch","oError","message","addChanges","applyChanges","setQueuedForApply","apply","change","oResult","success","deleteChange","initialize","componentId","getId","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","sLocalId","getLocalId","oFlexController","createForControl","isInitialized","control","resetChanges","undefined","changeTypes","restore","removeDirtyChanges","generator","hasDirtyFlexObjects","aDirtyFlexObjects","getDirtyChanges","some","oFlexObject","getLayer","getSupportInformation","indexOf","getChangeType","vSelector","getControlIdBySelector","save","saveSequenceOfDirtyChanges","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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"}