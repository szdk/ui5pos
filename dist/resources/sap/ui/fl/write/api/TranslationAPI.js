/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/write/_internal/flexState/FlexObjectState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/Storage","sap/base/util/isEmptyObject","sap/base/i18n/Localization","sap/ui/fl/Utils"],function(e,r,t,n,a,o){"use strict";var i={};i.hasTranslationRelevantDirtyChanges=function(r){return e.getDirtyFlexObjects(r).some(function(e){return!n(e.getTexts())})};i.getTexts=function(e){if(!e.selector){return Promise.reject("No selector was provided")}if(!e.sourceLanguage){return Promise.reject("No sourceLanguage was provided")}if(!e.targetLanguage){return Promise.reject("No targetLanguage was provided")}if(!e.layer){return Promise.reject("No layer was provided")}var n=o.getAppComponentForControl(e.selector);e.reference=r.getFlexReferenceForControl(n);return Promise.resolve().then(t.translation.getTexts.bind(undefined,e))};i.getSourceLanguages=function(e){if(!e.selector){return Promise.reject("No selector was provided")}if(!e.layer){return Promise.reject("No layer was provided")}var n=o.getAppComponentForControl(e.selector);e.reference=r.getFlexReferenceForControl(n);return t.translation.getSourceLanguages(e).then(function(r){var t=a.getLanguage();if(!r.includes(t)&&i.hasTranslationRelevantDirtyChanges(e)){r.push(t)}return r})};i.uploadTranslationTexts=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.payload){return Promise.reject("No payload was provided")}return Promise.resolve().then(t.translation.postTranslationTexts.bind(undefined,e))};return i});
//# sourceMappingURL=TranslationAPI.js.map