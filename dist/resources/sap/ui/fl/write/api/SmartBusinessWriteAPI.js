/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/appVariant/AppVariantFactory","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/ui/fl/write/_internal/SaveAs","sap/ui/fl/write/api/ChangesWriteAPI","sap/ui/fl/write/api/PersistenceWriteAPI"],function(e,r,t,i,a,p,n){"use strict";function s(e,t){return r.getInstance().then(function(r){if(r.isAtoEnabled()){t.skipIam=true;t.transport="ATO_NOTIFICATION"}return a[e](t)})}function d(r){if(!r.appId){return Promise.reject("App Variant ID must be provided")}r.selector={appId:r.appId};r.id=e.getFlexReferenceForSelector(r.selector);r.isForSmartBusiness=true}var u={create(r){if(!r.layer){return Promise.reject("Layer must be provided")}if(!r.selector||!r.selector.appId){return Promise.reject("selector.appId must be provided")}if(!r.id){return Promise.reject("App variant ID must be provided")}r.reference=e.getFlexReferenceForSelector(r.selector);r.isForSmartBusiness=true;return s("saveAs",r)},update(e){d(e);return s("updateAppVariant",e)},remove(e){d(e);return s("deleteAppVariant",e)},getDesignTimeVariant(e){if(!e.id){return Promise.reject("App Variant ID must be provided")}return t.load(e)},getRunTimeVariant(e){if(!e.appId){return Promise.reject("Reference App ID must be provided")}if(!e.id){return Promise.reject("App Variant ID must be provided")}var r=`/sap/bc/lrep/content/apps/${e.appId}/appVariants/${e.id}/manifest.appdescr_variant`;return i.appVariant.getManifest({appVarUrl:r})},createDescriptorInlineChanges(e){if(!e.appId){return Promise.reject("appId must be provided")}if(!e.changeSpecificData){return Promise.reject("changeSpecificData must be provided")}e.selector={appId:e.appId};return p.create(e)},add(e){if(!e.appId){return Promise.reject("appId must be provided")}if(!e.change){return Promise.reject("Change instance must be provided")}e.selector={appId:e.appId};return n.add(e)}};return u});
//# sourceMappingURL=SmartBusinessWriteAPI.js.map