{"version":3,"file":"PersistenceWriteAPI.js","names":["sap","ui","define","includes","_omit","Log","JsControlTreeModifier","FlexCustomData","DescriptorChangeTypes","ManifestUtils","Settings","Condenser","FlexObjectState","Storage","FeaturesAPI","FlexInfoSession","ChangePersistenceFactory","FlexControllerFactory","Layer","LayerUtils","Utils","PersistenceWriteAPI","isDescriptorChange","oChange","_getMap","getChangeTypes","changeType","getChangeType","hasChanges","mPropertyBag","includeCtrlVariants","invalidateCache","_getUIChanges","then","aChanges","length","hasDirtyChanges","hasDirtyFlexObjects","hasHigherLayerChanges","upToLayer","getCurrentLayer","getFlexObjects","aFlexObjects","filter","oFlexObject","isOverLayer","getLayer","aFilteredFlexObjects","save","saveFlexObjects","getResetAndPublishInfo","oResult","oExistingFlexInfo","get","selector","set","Object","assign","Promise","all","isPublishAvailable","aResetPublishInfo","bHasChanges","bIsPublishAvailable","bIsLayerTransportable","layer","USER","PUBLIC","oFlexInfo","isResetEnabled","isPublishEnabled","allContextsProvided","getFlexInfo","oResponse","undefined","catch","oError","error","message","getResetAndPublishInfoFromSession","oControl","sParameter","getFlexReferenceForControl","JSON","parse","window","sessionStorage","getItem","reset","oAppComponent","getAppComponentForSelector","oFlexController","createForSelector","resetChanges","generator","selectorIds","changeTypes","publish","styleClass","getChangePersistenceForControl","transportAllUIChanges","appVariantDescriptors","add","sFlexReference","getFlexReferenceForSelector","oChangePersistence","getChangePersistenceForComponent","addSingleFlexObject","store","addChange","change","flexObjects","Error","bHasDescriptorChanges","some","map","addChanges","remove","resolve","reject","getId","destroyAppliedCustomData","oElement","bySelector","getSelector","deleteChange","forEach","deleteChanges","getChangesWarning","this","bHasChangesFromOtherSystem","isChangeFromOtherSystem","oSettingsInstance","getInstanceOrUndef","isProductiveSystemWithTransports","bHasNoChanges","oChangesWarning","showWarning","warningType","_condense","changes","Array","isArray","condense","currentLayer"],"sources":["PersistenceWriteAPI-dbg.js"],"mappings":"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"}