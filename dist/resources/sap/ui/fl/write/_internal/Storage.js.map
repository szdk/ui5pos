{"version":3,"file":"Storage.js","names":["sap","ui","define","ObjectPath","States","StorageUtils","StorageFeaturesMerger","VersionInfo","WRITE_CONNECTOR_NAME_SPACE","_getWriteConnectors","getConnectors","findConnectorConfigForLayer","sLayer","aConnectors","aFilteredConnectors","filter","oConnector","layers","indexOf","length","Error","undefined","_sendLoadFeaturesToConnector","aConnectorPromises","map","oConnectorConfig","writeConnectorModule","loadFeatures","url","then","oFeatures","features","catch","logAndResolveDefault","bind","Promise","all","_getConnectorConfigByLayer","reject","this","_validateDraftScenario","mPropertyBag","draft","resolve","require","FeaturesAPI","isVersioningEnabled","layer","bDraftEnabled","findChangeCreateIndex","oCurrentChange","aCondensedChanges","aNewChanges","oInnerChange","getState","LifecycleState","NEW","getFileType","iChangeCreateIndex","findIndex","oNewChange","getId","async","prepareCondensingForConnector","mCondense","allChanges","condensedChanges","addVersionToFlexObjects","namespace","convertToFileContent","iOffset","bAlreadyReordered","forEach","oChange","index","sFileType","condenserState","bDifferentOrder","PERSISTED","DELETED","delete","push","aReorderedChanges","slice","reorder","create","update","iChangeUpdateIndex","content","getContent","aFlexObjects","oVersionInfo","load","sVersion","version","oFlexObject","isA","oSupportInformation","getSupportInformation","sapui5Version","setSupportInformation","support","_executeActionByName","sActionName","get","call","Storage","write","flexObjects","condense","mProperties","Object","assign","oCreatedChanges","change","concat","ctrl_variant","oResult","status","aResponse","values","pop","response","remove","reset","getFlexInfo","getContexts","loadContextDescriptions","isContextSharingEnabled","mergeResults","publish","contextBasedAdaptation","versions","activate","discardDraft","translation","getSourceLanguages","getTexts","postTranslationTexts"],"sources":["Storage-dbg.js"],"mappings":"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"}