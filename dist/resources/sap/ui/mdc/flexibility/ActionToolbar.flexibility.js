/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ItemBaseFlex","./Util"],function(e,t){"use strict";const n=Object.assign({},e);n.findItem=function(e,t,n){return t.find(function(t){return e.getId(t)===n})};n.determineAggregation=function(e,t){return e.getAggregation(t,"actions").then(function(e){return{name:"actions",items:e}})};n._applyMove=function(e,n,i,r){const o=r===t.REVERT?true:false;const a=i.modifier;if(a.getParent(n)){const e=a.getParent(n);if(a.getControlType(e)==="sap.ui.mdc.Chart"){n=e}else if(a.getParent(e)&&a.getControlType(a.getParent(e))==="sap.ui.mdc.Table"){n=a.getParent(e)}}this.beforeApply(e.getChangeType(),n,o);if(this._bSupressFlickering){this._delayInvalidate(n)}const g=o?e.getRevertData():e.getContent();let s;let c;let u;let f;const h=this.determineAggregation(a,n).then(function(e){c=e;return this._getExistingAggregationItem(g,i,n)}.bind(this)).then(function(e){s=e}).then(function(){if(!s){throw new Error("No corresponding item in "+c.name+" found. Change to move item cannot be "+this._getOperationText(o)+"at this moment")}f=a.getId(s);return a.findIndexInParentAggregation(s)}.bind(this)).then(function(e){u=e;return a.removeAggregation(n,c.name,s).then(function(){return a.insertAggregation(n,c.name,s,g.index)})}).then(function(){if(o){e.resetRevertData()}else{e.setRevertData({name:g.name,index:u,item:f})}this.afterApply(e.getChangeType(),n,o)}.bind(this));return h};return{moveAction:n.createMoveChangeHandler()}});
//# sourceMappingURL=ActionToolbar.flexibility.js.map