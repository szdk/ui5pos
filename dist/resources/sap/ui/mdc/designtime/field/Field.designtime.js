/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Utils","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/m/p13n/Engine","sap/ui/core/Core"],function(e,n,t,o){"use strict";const r=o.getLibraryResourceBundle("sap.ui.mdc");return{properties:{value:{ignore:true},additionalValue:{ignore:true}},getStableElements:function(t){if(!t.getFieldInfo()){return[]}const r=t.getFieldInfo();let i=typeof r.getSourceControl()==="string"?o.byId(r.getSourceControl()):r.getSourceControl();if(!i){i=t}const l=e.getAppComponentForControl(i)||e.getAppComponentForControl(t);const s=r._createPanelId(e,n);return[{id:s,appComponent:l}]},actions:{settings:function(o){if(!o.getFieldInfo()){return{}}return{name:r.getText("info.POPOVER_DEFINE_LINKS"),handler:function(r,i){const l=r.getFieldInfo();return l.getContent().then(function(s){l.addDependent(s);return n.waitForChanges({element:s}).then(function(){i.fnAfterClose=function(){s.destroy()};const l=function(){return t.getInstance().getRTASettingsActionHandler(s,i,"LinkItems").then(function(n){n.forEach(function(n){const t=n.selectorElement;delete n.selectorElement;const i=e.getAppComponentForControl(r)||e.getAppComponentForControl(o);n.selectorControl={id:t.getId(),controlType:t===s?"sap.ui.mdc.link.Panel":"sap.ui.mdc.link.PanelItem",appComponent:i}});return n})};const u=s.getItems();if(u.length>0){return n.waitForChanges({selectors:u}).then(function(){return l()})}else{return l()}})})},CAUTION_variantIndependent:true}}},tool:{start:function(e){e.getFieldInfo()?.setEnablePersonalization(false)},stop:function(e){e.getFieldInfo()?.setEnablePersonalization(true)}}}});
//# sourceMappingURL=Field.designtime.js.map