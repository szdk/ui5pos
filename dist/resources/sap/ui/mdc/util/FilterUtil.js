/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/util/IdentifierUtil","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/enums/OperatorName","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/condition/FilterConverter","sap/base/Log","sap/base/util/merge"],function(e,t,n,i,o,r,s){"use strict";const a=function(e){if(e&&e.getTypeMap){return e.getTypeMap()}if(e&&e.getTypeUtil){return e.getTypeUtil()}return e};const u={getPropertyByKey:function(t,n){let i=null;t.some(function(t){if(e.getPropertyPath(t)===n){i=t}return i!=null});if(!i){t.some(function(t){if(e.getPropertyKey(t)===n){i=t}return i!=null})}return i},getConditionsMap:function(e,i){let o,s;const a={};if(!e||!e.isA("sap.ui.mdc.FilterBar")){r.error("instance of sap.ui.mdc.FilterBar expected");return a}const u=e.getInternalConditions();for(const e in u){if(i.indexOf(e)>=0){o=[];if(u[e]){for(let i=0;i<u[e].length;i++){s={};s.operator=u[e][i].operator;if(s.operator===n.EQ&&u[e][i].validated===t.Validated){s.values=[u[e][i].values[0]]}else{s.values=u[e][i].values}o.push(s)}a[e]=o}}}return a},getFilterInfo:function(e,t,n,c){const l={};let f={};if(n&&n.length>0){Object.keys(t).forEach(function(e){const i=n.find(function(t){return t.name===e});const o=i&&i.path?i.path:e;f[o]=t[e]})}else{f=t}c=c?c:[];let p,d,g;const y={};const m={};if(n&&n.length>0){for(d in f){if(c.indexOf(d)<0){const t=u.getPropertyByKey(n,d);if(t){m[d]={type:t.typeConfig.typeInstance,caseSensitive:t.caseSensitive,baseType:t.typeConfig.baseType};y[d]=[];for(p=0;p<f[d].length;p++){g=s({},f[d][p]);y[d].push(i.toType(g,t.typeConfig.typeInstance,a(e)))}}else{r.error("sap.ui.mdc.util.FilterUitl.js :","could not find propertyMetadata of : "+d)}}}if(Object.keys(y).length>0){l.filters=o.createFilters(y,m)}}return l},getRequiredFieldNamesWithoutValues:function(e){const t=[];if(e&&e._getRequiredPropertyNames&&e._getConditionModel){e._getRequiredPropertyNames().forEach(function(n){const i=e._getConditionModel().getConditions(n);if(!i||i.length===0){t.push(n)}})}return t}};return u});
//# sourceMappingURL=FilterUtil.js.map