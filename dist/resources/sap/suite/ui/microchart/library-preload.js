//@ui5-bundle sap/suite/ui/microchart/library-preload.js
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/AreaMicroChart", ["./library","sap/ui/core/Control","sap/m/FlexBox","sap/suite/ui/microchart/MicroChartUtils","sap/base/Log","sap/ui/events/KeyCodes","sap/ui/core/theming/Parameters","sap/m/library","sap/ui/core/ResizeHandler","./AreaMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming","sap/base/i18n/Localization"],function(e,t,i,r,s,a,n,o,h,l,u,d,p){"use strict";var g=o.ValueColor;var f=e.AreaMicroChartViewType;var _=t.extend("sap.suite.ui.microchart.AreaMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{type:"sap.ui.core.CSSSize",group:"Misc"},maxXValue:{type:"float",group:"Misc",defaultValue:null},minXValue:{type:"float",group:"Misc",defaultValue:null},maxYValue:{type:"float",group:"Misc",defaultValue:null},minYValue:{type:"float",group:"Misc",defaultValue:null},view:{type:"sap.suite.ui.microchart.AreaMicroChartViewType",group:"Appearance",defaultValue:"Normal"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},showLabel:{type:"boolean",group:"Misc",defaultValue:true},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}},defaultAggregation:"lines",aggregations:{chart:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem",bindable:"bindable"},maxThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},innerMaxThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},innerMinThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},minThreshold:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem"},target:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartItem",bindable:"bindable"},firstXLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},firstYLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lastXLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lastYLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},maxLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},minLabel:{multiple:false,type:"sap.suite.ui.microchart.AreaMicroChartLabel"},lines:{multiple:true,type:"sap.suite.ui.microchart.AreaMicroChartItem",bindable:"bindable"}}},renderer:l});_.THRESHOLD_LOOK_XS=1.125;_.THRESHOLD_LOOK_S=3.5;_.THRESHOLD_LOOK_M=4.5;_.THRESHOLD_LOOK_L=5.875;_.THRESHOLD_WIDTH_NO_LABEL=6;_.THRESHOLD_WIDE_HEIGHT_NO_LABEL=2.25;_.ITEM_NEUTRAL_COLOR="sapSuiteAMCSemanticColorNeutral";_.ITEM_NEUTRAL_NOTHRESHOLD_CSSCLASS="sapSuiteAMCNeutralNoThreshold";_._CHARTITEM_AGGREGATIONS=["chart","target","minThreshold","maxThreshold","innerMinThreshold","innerMaxThreshold"];_.prototype.init=function(){this._oRb=u.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;u.ready(this._handleCoreInitialized.bind(this))};_.prototype._handleCoreInitialized=function(){d.attachApplied(this._handleThemeApplied.bind(this));p.attachChange(this._handleThemeApplied.bind(this))};_.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate()};_.prototype._getCssValues=function(){this._$CssHelper.className=Array.prototype.slice.call(arguments).join(" ");var e=window.getComputedStyle(this._$CssHelper);if(!e.backgroundColor){e.backgroundColor=e["background-color"]}if(!e.outlineStyle){e.outlineStyle=e["outline-style"]}if(!e.outlineWidth){e.outlineWidth=e["outline-width"]}return e};_.prototype.__fillThresholdArea=function(e,t,i,r){e.beginPath();e.moveTo(t[0].x,t[0].y);for(var s=1,a=t.length;s<a;s++){e.lineTo(t[s].x,t[s].y)}for(var n=i.length-1;n>=0;n--){e.lineTo(i[n].x,i[n].y)}e.closePath();e.fillStyle="white";e.fill();e.fillStyle=r;e.fill();e.lineWidth=1;e.strokeStyle="white";e.stroke();e.strokeStyle=r;e.stroke()};_.prototype._renderDashedLine=function(e,t,i){if(e.setLineDash){e.setLineDash(i);this._renderLine(e,t);e.setLineDash([])}else{e.beginPath();for(var r=0,s=t.length-1;r<s;r++){e._dashedLine(t[r].x,t[r].y,t[r+1].x,t[r+1].y,i)}e.stroke()}};_.prototype._renderLine=function(e,t){e.beginPath();e.moveTo(t[0].x,t[0].y);for(var i=1,r=t.length;i<r;i++){e.lineTo(t[i].x,t[i].y)}e.stroke()};_.prototype._getItemColor=function(e,t){var i;if(t&&this.getTarget()){i="sapSuiteAMCSemanticColor"+this.getTarget().getColor()}else if(!t&&this.getChart()){i="sapSuiteAMCSemanticColor"+this.getChart().getColor()}if(i===_.ITEM_NEUTRAL_COLOR&&!this._isThresholdPresent(e)){return _.ITEM_NEUTRAL_NOTHRESHOLD_CSSCLASS}else{return i}};_.prototype._isThresholdPresent=function(e){var t=[e.minThreshold.length,e.maxThreshold.length,e.innerMinThreshold.length,e.innerMaxThreshold.length];for(var i=0;i<t.length;i++){if(t[i]>1){return true}}return false};_.prototype._renderTarget=function(e,t){if(t.target.length>1){var i=this._getItemColor(t,true);var r=this._getCssValues("sapSuiteAMCTarget",i);e.strokeStyle=r.color;e.lineWidth=parseFloat(r.width);if(r.outlineStyle=="dotted"){this._renderDashedLine(e,t.target,[parseFloat(r.outlineWidth),3])}else{this._renderLine(e,t.target,t)}}else if(t.target.length==1){s.warning("Target is not rendered because only 1 point was given")}};_.prototype._renderThresholdLine=function(e,t){if(t&&t.length){var i=this._getCssValues("sapSuiteAMCThreshold");e.strokeStyle=i.color;e.lineWidth=i.width;this._renderLine(e,t)}};_.prototype._fillMaxThreshold=function(e,t){if(t.maxThreshold.length>1){var i=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColor"+this.getMaxThreshold().getColor());this.__fillThresholdArea(e,t.maxThreshold,[{x:t.maxThreshold[0].x,y:t.minY},{x:t.maxThreshold[t.maxThreshold.length-1].x,y:t.minY}],i.backgroundColor);this._renderThresholdLine(e,t.maxThreshold,t)}else if(t.maxThreshold.length==1){s.warning("Max Threshold is not rendered because only 1 point was given")}};_.prototype._fillMinThreshold=function(e,t){if(t.minThreshold.length>1){var i=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColor"+this.getMinThreshold().getColor());this.__fillThresholdArea(e,t.minThreshold,[{x:t.minThreshold[0].x,y:t.maxY},{x:t.minThreshold[t.minThreshold.length-1].x,y:t.maxY}],i.backgroundColor)}else if(t.minThreshold.length==1){s.warning("Min Threshold is not rendered because only 1 point was given")}};_.prototype._fillThresholdArea=function(e,t){if(t.minThreshold.length>1&&t.maxThreshold.length>1){var i=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColorCritical");this.__fillThresholdArea(e,t.maxThreshold,t.minThreshold,i.backgroundColor)}};_.prototype._fillInnerThresholdArea=function(e,t){if(t.innerMinThreshold.length>1&&t.innerMaxThreshold.length>1){var i=this._getCssValues("sapSuiteAMCThreshold","sapSuiteAMCSemanticColor"+this.getInnerMaxThreshold().getColor());this.__fillThresholdArea(e,t.innerMaxThreshold,t.innerMinThreshold,i.backgroundColor)}else if(t.innerMinThreshold.length||t.innerMaxThreshold.length){s.warning("Inner threshold area is not rendered because inner min and max threshold were not correctly set")}};_.prototype._renderChart=function(e,t){if(t.chart.length>1){var i=this._getItemColor(t);var r=this._getCssValues("sapSuiteAMCChart",i);e.strokeStyle=r.color;e.lineWidth=parseFloat(r.width);this._renderLine(e,t.chart,t)}else if(t.chart.length==1){s.warning("Actual values are not rendered because only 1 point was given")}};_.prototype._renderLines=function(e,t){var i=this.getColorPalette().length,r=0,s=this._getCssValues("sapSuiteAMCLine"),a=t.lines.length;var o=function(e){if(i){if(r===i){r=0}e=this.getColorPalette()[r++].trim()}if(g[e]){s=this._getCssValues("sapSuiteAMCLine","sapSuiteAMCSemanticColor"+e);return s.color}return n.get(e)||e}.bind(this);e.lineWidth=parseFloat(s.width);for(var h=0;h<a;h++){if(t.lines[h].length>1){e.strokeStyle=o(this.getLines()[h].getColor());this._renderLine(e,t.lines[h],t)}}};_.prototype._renderCanvas=function(){var e=this.getDomRef("canvas");if(!this._hasData()||!e){return}this._$CssHelper=this.getDomRef("css-helper");var t=this.$();var i=window.getComputedStyle(e);var r=parseFloat(i.width);e.setAttribute("width",r||360);var s=parseFloat(i.height);e.setAttribute("height",s||242);var a=e.getContext("2d");a.lineJoin="round";a._dashedLine=this._drawDashedLine;var n=this._calculateDimensions(e.width,e.height);if(this._isThresholdPresent(n)){t.find(".sapSuiteAMCCanvasContainer").addClass("sapSuiteAMCWithThreshold")}this._fillMaxThreshold(a,n);this._fillMinThreshold(a,n);this._fillThresholdArea(a,n);this._renderThresholdLine(a,n.minThreshold,n);this._renderThresholdLine(a,n.maxThreshold,n);this._fillInnerThresholdArea(a,n);this._renderThresholdLine(a,n.innerMinThreshold,n);this._renderThresholdLine(a,n.innerMaxThreshold,n);this._renderTarget(a,n);this._renderChart(a,n);this._renderLines(a,n)};_.prototype._drawDashedLine=function(e,t,i,r,s){var a=s.length;this.moveTo(e,t);var n=i-e,o=r-t,h=n?o/n:1e15,l=Math.sqrt(n*n+o*o),u=0,d=true;while(l>=.1){var p=s[u++%a];if(p>l){p=l}var g=Math.sqrt(p*p/(1+h*h));if(n<0){g=-g}e+=g;t+=h*g;this[d?"lineTo":"moveTo"](e,t);l-=p;d=!d}};_.prototype._calculateDimensions=function(e,t){var i,r,a,n;function o(){if(!this._isMinXValue||!this._isMaxXValue||!this._isMinYValue||!this._isMaxYValue){var e=this.getLines();if(this.getMaxThreshold()){e.push(this.getMaxThreshold())}if(this.getMinThreshold()){e.push(this.getMinThreshold())}if(this.getChart()){e.push(this.getChart())}if(this.getTarget()){e.push(this.getTarget())}if(this.getInnerMaxThreshold()){e.push(this.getInnerMaxThreshold())}if(this.getInnerMinThreshold()){e.push(this.getInnerMinThreshold())}for(var t=0,s=e.length;t<s;t++){var o=e[t].getPoints();for(var h=0,l=o.length;h<l;h++){var u=o[h].getXValue();if(u>i||i===undefined){i=u}if(u<a||a===undefined){a=u}var d=o[h].getYValue();if(d>r||r===undefined){r=d}if(d<n||n===undefined){n=d}}}}if(this._isMinXValue){a=this.getMinXValue()}if(this._isMaxXValue){i=this.getMaxXValue()}if(this._isMinYValue){n=this.getMinYValue()}if(this._isMaxYValue){r=this.getMaxYValue()}}o.call(this);var h={minY:0,minX:0,maxY:t,maxX:e,lines:[]};var l;var d=i-a;if(d>0){l=e/d}else if(d==0){l=0;h.maxX/=2}else{s.warning("Min X is greater than max X.")}var p;var g=r-n;if(g>0){p=t/(r-n)}else if(g==0){p=0;h.maxY/=2}else{s.warning("Min Y is greater than max Y.")}function f(e){var t=u.getConfiguration().getRTL();var i=function(e){var i=l*(e-a);if(t){i=h.maxX-i}return i};var r=function(e){return h.maxY-p*(e-n)};var o=[];if(e&&l!==undefined&&p!==undefined){var d=e.getPoints();var g=d.length;var f,_,c,C;if(g==1){c=d[0].getXValue();C=d[0].getYValue();if(c==undefined^C==undefined){var T,M;if(c==undefined){M=_=r(C);f=h.minX;T=h.maxX}else{T=f=i(c);_=h.minY;M=h.maxY}o.push({x:f,y:_},{x:T,y:M})}else{s.warning("Point with coordinates ["+c+" "+C+"] ignored")}}else{for(var A=0;A<g;A++){c=d[A].getXValue();C=d[A].getYValue();if(c!=undefined&&C!=undefined){f=i(c);_=r(C);o.push({x:f,y:_})}else{s.warning("Point with coordinates ["+c+" "+C+"] ignored")}}}}return o}h.maxThreshold=f(this.getMaxThreshold());h.minThreshold=f(this.getMinThreshold());h.chart=f(this.getChart());h.target=f(this.getTarget());h.innerMaxThreshold=f(this.getInnerMaxThreshold());h.innerMinThreshold=f(this.getInnerMinThreshold());var _=this.getLines().length;for(var c=0;c<_;c++){h.lines.push(f(this.getLines()[c]))}return h};_.prototype.setMinXValue=function(e,t){this._isMinXValue=this._isNumber(e);return this.setProperty("minXValue",this._isMinXValue?e:NaN,t)};_.prototype.setMaxXValue=function(e,t){this._isMaxXValue=this._isNumber(e);return this.setProperty("maxXValue",this._isMaxXValue?e:NaN,t)};_.prototype.setMinYValue=function(e,t){this._isMinYValue=this._isNumber(e);return this.setProperty("minYValue",this._isMinYValue?e:NaN,t)};_.prototype.setMaxYValue=function(e,t){this._isMaxYValue=this._isNumber(e);return this.setProperty("maxYValue",this._isMaxYValue?e:NaN,t)};_.prototype._isNumber=function(e){return typeof e==="number"&&!isNaN(e)&&isFinite(e)};_.prototype.onBeforeRendering=function(){if(this._bUseIndex){this._indexChartItems()}if(this._sChartResizeHandlerId){h.deregister(this._sChartResizeHandlerId)}this._unbindMouseEnterLeaveHandler()};_.prototype.onAfterRendering=function(){e._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler()};_.prototype.setSize=function(e){if(this.getSize()!==e){this.setProperty("size",e)}return this};_.prototype._onControlIsVisible=function(){this._onResize();this._sChartResizeHandlerId=h.register(this,this._onResize.bind(this))};_.prototype._indexChartItems=function(){var e,t=_._CHARTITEM_AGGREGATIONS.length;for(var i=0;i<t;i++){e=this.getAggregation(_._CHARTITEM_AGGREGATIONS[i]);if(e){this._indexChartItemPoints(e)}}};_.prototype._indexChartItemPoints=function(e){var t=e.getPoints();for(var i=0;i<t.length;i++){t[i].setProperty("x",i,true)}};_.prototype.enableXIndexing=function(e){this._bUseIndex=e};_.prototype._onResize=function(){var e=this.$(),t=parseInt(e.width()),i=parseInt(e.height()),r=e.find(".sapSuiteAMCPositionCenter"),s=e.find(".sapSuiteAMCPositionTop .sapSuiteAMCPositionLeft, .sapSuiteAMCPositionTop .sapSuiteAMCPositionRight,"+".sapSuiteAMCSideLabels .sapSuiteAMCLbl:first-child");e.removeClass("sapSuiteAMCNoLabels sapSuiteAMCLookM sapSuiteAMCLookS sapSuiteAMCLookXS sapSuiteAMCNoMinMaxLabels sapSuiteAMCNoTopLabels");if(t<=this.convertRemToPixels(_.THRESHOLD_WIDTH_NO_LABEL)){e.addClass("sapSuiteAMCNoLabels")}if(i<this.convertRemToPixels(_.THRESHOLD_WIDE_HEIGHT_NO_LABEL)){e.addClass("sapSuiteAMCLookXS")}else if(i<this.convertRemToPixels(_.THRESHOLD_LOOK_S)&&this.getView()===f.Normal){e.addClass("sapSuiteAMCLookXS")}else if(i<this.convertRemToPixels(_.THRESHOLD_LOOK_M)){e.addClass("sapSuiteAMCLookS")}else if(i<this.convertRemToPixels(_.THRESHOLD_LOOK_L)){e.addClass("sapSuiteAMCLookM")}if(this._isAnyLabelTruncated(s)||this._isAnyLabelVerticallyTruncated(s)){e.addClass("sapSuiteAMCNoMinMaxLabels");if(this._isAnyLabelTruncated(s)){e.removeClass("sapSuiteAMCNoMinMaxLabels");e.addClass("sapSuiteAMCNoTopLabels")}}if(this._isAnyLabelTruncated(r)){e.addClass("sapSuiteAMCNoMinMaxLabels")}this._renderCanvas()};_.prototype._isLabelTruncated=function(e){return e.offsetWidth<e.scrollWidth};_.prototype.ontap=function(e){this.firePress()};_.prototype.onkeydown=function(e){if(e.which==a.SPACE){e.preventDefault()}};_.prototype.onkeyup=function(e){if(e.which==a.ENTER||e.which==a.SPACE){this.firePress();e.preventDefault()}};_.prototype.attachEvent=function(){t.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};_.prototype.detachEvent=function(){t.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};_.prototype._getLocalizedColorMeaning=function(e){return g[e]?this._oRb.getText(("SEMANTIC_COLOR_"+e).toUpperCase()):""};_.prototype._getAltHeaderText=function(e){var t=this._oRb.getText("AREAMICROCHART");if(e){t+=" "+this._oRb.getText("IS_ACTIVE")}if(!this._hasData()){t+="\n"+this._oRb.getText("NO_DATA");return t}var i=this.getFirstXLabel();var r=this.getFirstYLabel();var s=this.getLastXLabel();var a=this.getLastYLabel();var n=this.getMinLabel();var o=this.getMaxLabel();var h=this.getChart();var l=this.getTarget();if(i&&i.getLabel()||r&&r.getLabel()){t+="\n"+this._oRb.getText("AREAMICROCHART_START")+": "+(i?i.getLabel():"")+" "+(r?r.getLabel()+" "+this._getLocalizedColorMeaning(r.getColor()):"")}if(s&&s.getLabel()||a&&a.getLabel()){t+="\n"+this._oRb.getText("AREAMICROCHART_END")+": "+(s?s.getLabel():"")+" "+(a?a.getLabel()+" "+this._getLocalizedColorMeaning(a.getColor()):"")}if(n&&n.getLabel()){t+="\n"+this._oRb.getText("AREAMICROCHART_MINIMAL_VALUE")+": "+n.getLabel()+" "+this._getLocalizedColorMeaning(n.getColor())}if(o&&o.getLabel()){t+="\n"+this._oRb.getText("AREAMICROCHART_MAXIMAL_VALUE")+": "+o.getLabel()+" "+this._getLocalizedColorMeaning(o.getColor())}if(h&&h.getPoints()&&h.getPoints().length>0){t+="\n"+this._oRb.getText("AREAMICROCHART_ACTUAL_VALUES")+":";var u=h.getPoints();for(var d=0;d<u.length;d++){t+=" "+u[d].getY()}}if(l&&l.getPoints()&&l.getPoints().length>0){t+="\n"+this._oRb.getText("AREAMICROCHART_TARGET_VALUES")+":";var p=l.getPoints();for(var g=0;g<p.length;g++){t+=" "+p[g].getY()}}return t};_.prototype._getAltSubText=function(e){var t="";for(var i=0;i<this.getLines().length;i++){var r=this.getLines()[i],s=r.getTooltip_AsString(),a="",n="";if(!s){continue}if(r.getPoints()&&r.getPoints().length>0){n+=(e?"":"\n")+(r.getTitle()?r.getTitle():this._oRb.getText("AREAMICROCHART_LINE",[i+1]))+":";var o=r.getPoints();for(var h=0;h<o.length;h++){a+=" "+o[h].getY()}if(this.getColorPalette().length===0){a+=" "+this._getLocalizedColorMeaning(r.getColor())}}a=s.split("((AltText))").join(a);if(a){t+=n+a;e=false}}return t};_.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_AREAMICROCHART")};_.prototype.clone=function(){var e=t.prototype.clone.apply(this,arguments);e._isMinXValue=this._isMinXValue;e._isMaxXValue=this._isMaxXValue;e._isMinYValue=this._isMinYValue;e._isMaxYValue=this._isMaxYValue;return e};_.prototype.exit=function(){h.deregister(this._sChartResizeHandlerId);d.attachApplied(this._handleThemeApplied.bind(this));p.detachChange(this._handleThemeApplied.bind(this))};_.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};_.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};_.prototype._bindMouseEnterLeaveHandler=function(){if(!this._oMouseEnterLeaveHandler){this._oMouseEnterLeaveHandler={mouseEnterChart:this._addTitleAttribute.bind(this),mouseLeaveChart:this._removeTitleAttribute.bind(this)}}this.$().on("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().on("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart)};_.prototype._unbindMouseEnterLeaveHandler=function(){if(this._oMouseEnterLeaveHandler){this.$().off("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().off("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart)}};_.prototype._hasData=function(){return this.getLines().length>0||!!this.getChart()};_.prototype.firePress=function(){if(this._hasData()){t.prototype.fireEvent.call(this,"press",arguments)}};r.extendMicroChart(_);return _});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/AreaMicroChartItem", ["./library","sap/ui/core/Element"],function(t,e){"use strict";var i=e.extend("sap.suite.ui.microchart.AreaMicroChartItem",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"points",aggregations:{points:{multiple:true,type:"sap.suite.ui.microchart.AreaMicroChartPoint",bindable:"bindable"}}}});i.prototype.init=function(){this.setAggregation("tooltip","((AltText))",true)};return i});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/AreaMicroChartLabel", ["./library","sap/ui/core/Element"],function(e,r){"use strict";var a=r.extend("sap.suite.ui.microchart.AreaMicroChartLabel",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""}}}});return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/AreaMicroChartPoint", ["./library","sap/ui/core/Element"],function(t,e){"use strict";var i=e.extend("sap.suite.ui.microchart.AreaMicroChartPoint",{metadata:{library:"sap.suite.ui.microchart",properties:{x:{type:"float",group:"Misc",defaultValue:null},y:{type:"float",group:"Misc",defaultValue:null}}}});i.prototype.setX=function(t,e){this._isXValue=this._isNumber(t);return this.setProperty("x",this._isXValue?t:NaN,e)};i.prototype.setY=function(t,e){this._isYValue=this._isNumber(t);return this.setProperty("y",this._isYValue?t:NaN,e)};i.prototype.getXValue=function(){return this._isXValue?this.getX():undefined};i.prototype.getYValue=function(){return this._isYValue?this.getY():undefined};i.prototype._isNumber=function(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)};i.prototype.clone=function(t,i,r){var u=e.prototype.clone.apply(this,arguments);u._isXValue=this._isXValue;u._isYValue=this._isYValue;return u};return i});
/*!
* SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
*/
sap.ui.predefine("sap/suite/ui/microchart/AreaMicroChartRenderer", ["./library","sap/suite/ui/microchart/MicroChartRenderUtils"],function(e,t){"use strict";var i=e.AreaMicroChartViewType;var a={apiVersion:2};a.render=function(e,t){if(!t._bThemeApplied){return}if(t._hasData()){var a=t.getView()===i.Wide;var s=t.getShowLabel();var l=s&&(!a&&(t.getFirstYLabel()||t.getLastYLabel())||t.getMaxLabel());var r=s&&(!a&&(t.getFirstXLabel()||t.getLastXLabel())||t.getMinLabel());var o=s&&a&&(t.getFirstYLabel()||t.getFirstXLabel());var n=s&&a&&(t.getLastYLabel()||t.getLastXLabel());e.openStart("div",t);this._writeMainProperties(e,t);if(a){e.class("sapSuiteAMCWideMode")}e.openEnd();e.openStart("div");e.class("sapSuiteAMCVerticalAlignmentContainer");e.openEnd();if(l){e.openStart("div",t.getId()+"-top-labels");e.class("sapSuiteAMCLabels");e.class("sapSuiteAMCPositionTop");e.openEnd();if(!a){this._writeLabel(e,t,t.getFirstYLabel(),"-top-left-lbl","sapSuiteAMCPositionLeft")}this._writeLabel(e,t,t.getMaxLabel(),"-top-center-lbl","sapSuiteAMCPositionCenter");if(!a){this._writeLabel(e,t,t.getLastYLabel(),"-top-right-lbl","sapSuiteAMCPositionRight")}e.close("div")}if(a){e.openStart("div");e.class("sapSuiteAMCHorizontalContainer");e.openEnd()}if(o){e.openStart("div",t.getId()+"-left-labels");e.class("sapSuiteAMCSideLabels");e.class("sapSuiteAMCPositionLeft");e.openEnd();this._writeLabel(e,t,t.getFirstYLabel(),"-top-left-lbl","sapSuiteAMCPositionLeft");this._writeLabel(e,t,t.getFirstXLabel(),"-btm-left-lbl","sapSuiteAMCPositionLeft");e.close("div")}e.openStart("div",t.getId()+"-canvas-cont");e.class("sapSuiteAMCCanvasContainer");e.openEnd();e.openStart("canvas",t.getId()+"-canvas");e.class("sapSuiteAMCCanvas");e.openEnd();e.close("canvas");e.close("div");if(n){e.openStart("div",t.getId()+"-right-labels");e.class("sapSuiteAMCSideLabels");e.class("sapSuiteAMCPositionRight");e.openEnd();this._writeLabel(e,t,t.getLastYLabel(),"-top-right-lbl","sapSuiteAMCPositionRight");this._writeLabel(e,t,t.getLastXLabel(),"-btm-right-lbl","sapSuiteAMCPositionRight");e.close("div")}if(a){e.close("div")}if(r){e.openStart("div",t.getId()+"-bottom-labels");e.class("sapSuiteAMCLabels");e.class("sapSuiteAMCPositionBtm");e.openEnd();if(!a){this._writeLabel(e,t,t.getFirstXLabel(),"-btm-left-lbl","sapSuiteAMCPositionLeft")}this._writeLabel(e,t,t.getMinLabel(),"-btm-center-lbl","sapSuiteAMCPositionCenter");if(!a){this._writeLabel(e,t,t.getLastXLabel(),"-btm-right-lbl","sapSuiteAMCPositionRight")}e.close("div")}e.openStart("div",t.getId()+"-css-helper");e.style("display","none");e.openEnd();e.close("div");e.close("div");e.close("div")}else{this._renderNoData(e,t)}};a._writeMainProperties=function(e,t){var i=t.hasListeners("press");this._renderActiveProperties(e,t);var a=t.getTooltip_AsString(i);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",a)}e.class("sapSuiteAMC");e.class("sapSuiteAMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};a._writeLabel=function(e,t,i,a,s){if(!i){return}var l=i?i.getLabel():"";e.openStart("div",t.getId()+a);e.class("sapSuiteAMCSemanticColor"+i.getColor());e.class("sapSuiteAMCLbl");e.class(s);e.openEnd();e.text(l);e.close("div")};t.extendMicroChartRenderer(a);return a},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/BulletMicroChart", ["./library","sap/m/library","sap/ui/core/Control","sap/m/FlexBox","sap/ui/core/ResizeHandler","sap/ui/events/KeyCodes","sap/suite/ui/microchart/MicroChartUtils","./BulletMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(e,t,a,i,s,r,o,l,u,n){"use strict";var h=t.Size;var p=a.extend("sap.suite.ui.microchart.BulletMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:h.Auto},mode:{type:"sap.suite.ui.microchart.BulletMicroChartModeType",group:"Misc",defaultValue:"Actual"},scale:{type:"string",group:"Misc",defaultValue:""},forecastValue:{type:"float",group:"Misc",defaultValue:null},targetValue:{type:"float",group:"Misc",defaultValue:null},minValue:{type:"float",group:"Misc",defaultValue:null},maxValue:{type:"float",group:"Misc",defaultValue:null},showActualValue:{type:"boolean",group:"Misc",defaultValue:true},showDeltaValue:{type:"boolean",group:"Misc",defaultValue:true},showActualValueInDeltaMode:{type:"boolean",group:"Misc",defaultValue:false},showTargetValue:{type:"boolean",group:"Misc",defaultValue:true},showValueMarker:{type:"boolean",group:"Misc",defaultValue:false},showThresholds:{type:"boolean",group:"Misc",defaultValue:true},actualValueLabel:{type:"string",group:"Misc",defaultValue:""},deltaValueLabel:{type:"string",group:"Misc",defaultValue:""},targetValueLabel:{type:"string",group:"Misc",defaultValue:""},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{type:"sap.ui.core.CSSSize",group:"Misc"},scaleColor:{type:"sap.suite.ui.microchart.CommonBackgroundType",group:"Misc",defaultValue:"MediumLight"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false},smallRangeAllowed:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"actual",aggregations:{actual:{type:"sap.suite.ui.microchart.BulletMicroChartData",multiple:false,bindable:"bindable"},thresholds:{type:"sap.suite.ui.microchart.BulletMicroChartData",multiple:true,singularName:"threshold",bindable:"bindable"}},events:{press:{}}},renderer:l});p.THRESHOLD_SMALL_LABEL=3.5;p.THRESHOLD_BIG_LABEL=4.5;p.THRESHOLD_SMALL_LOOK=3.5;p.THRESHOLD_EXTRASMALL_LOOK=1.3125;p.THRESHOLD_THRESHOLDS=6;p.prototype.init=function(){this._oRb=u.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;u.ready(this._handleCoreInitialized.bind(this))};p.prototype._handleCoreInitialized=function(){n.attachApplied(this._handleThemeApplied.bind(this))};p.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();n.detachApplied(this._handleThemeApplied.bind(this))};p.prototype._calculateChartData=function(){var t=98,a=this.getThresholds(),i=[],s=this.getTargetValue(),r=this.getForecastValue(),o=this.getActual()&&this.getActual().getValue()?this.getActual().getValue():0,l=[],u=0,n=0,h=0,p;if(this.getActual()&&this.getActual()._isValueSet){l.push(o)}if(this._isForecastValueSet){l.push(r)}if(this._isTargetValueSet){l.push(s)}if(this._isMinValueSet){l.push(this.getMinValue())}if(this._isMaxValueSet){l.push(this.getMaxValue())}for(p=0;p<a.length;p++){l.push(a[p].getValue())}if(l.length>0){u=n=l[0];for(p=0;p<l.length;p++){if(l[p]<u){u=l[p]}if(l[p]>n){n=l[p]}}if(this.getSmallRangeAllowed()==false){n=n<0&&n<3*(u-n)?0:n;u=u>0&&u>3*(n-u)?0:u}h=n-u;for(p=0;p<a.length;p++){i[p]={color:a[p].getColor(),valuePct:!a[p]._isValueSet||h===0?0:((a[p].getValue()-u)*t/h).toFixed(2)}}}var c,f;if(this.getMode()===e.BulletMicroChartModeType.Delta){c=!this.getActual()||!this.getActual()._isValueSet||h===0?49:(.05+(o-u)*t/h).toFixed(2);f=!this._isTargetValueSet||h===0?49:((s-u)*t/h).toFixed(2)}else{c=!this.getActual()||!this.getActual()._isValueSet||h===0||u===0&&this.getActual().getValue()===0?0:(.05+(o-u)*t/h).toFixed(2);f=!this._isTargetValueSet||h===0?0:((s-u)*t/h).toFixed(2)}return{actualValuePct:c,targetValuePct:f,forecastValuePct:!this._isForecastValueSet||h===0?0:((r-u)*t/h).toFixed(2),thresholdsPct:i,fScaleWidthPct:t}};p.prototype._calculateDeltaValue=function(){if(!this.getActual()._isValueSet||!this._isTargetValueSet){return 0}else{var e=this.getActual().getValue();var t=this.getTargetValue();return Math.abs(e-t).toFixed(Math.max(this._digitsAfterDecimalPoint(e),this._digitsAfterDecimalPoint(t)))}};p.prototype.setMinValue=function(e){this._isMinValueSet=this._fnIsNumber(e);return this.setProperty("minValue",this._isMinValueSet?e:NaN)};p.prototype.setMaxValue=function(e){this._isMaxValueSet=this._fnIsNumber(e);return this.setProperty("maxValue",this._isMaxValueSet?e:NaN)};p.prototype.setTargetValue=function(e){this._isTargetValueSet=this._fnIsNumber(e);return this.setProperty("targetValue",this._isTargetValueSet?e:NaN)};p.prototype.setForecastValue=function(e){this._isForecastValueSet=this._fnIsNumber(e);return this.setProperty("forecastValue",this._isForecastValueSet?e:NaN)};p.prototype.setSize=function(e){if(this.getSize()!==e){this.setProperty("size",e,false)}return this};p.prototype.ontap=function(e){this.firePress()};p.prototype.onkeydown=function(e){if(e.which===r.SPACE){e.preventDefault()}};p.prototype.onkeyup=function(e){if(e.which===r.ENTER||e.which===r.SPACE){this.firePress();e.preventDefault()}};p.prototype._fnIsNumber=function(e){return typeof e==="number"&&!isNaN(e)&&isFinite(e)};p.prototype.attachEvent=function(e,t,i,s){a.prototype.attachEvent.call(this,e,t,i,s);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};p.prototype.detachEvent=function(e,t,i){a.prototype.detachEvent.call(this,e,t,i);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};p.prototype.onBeforeRendering=function(){if(this._sChartResizeHandlerId){s.deregister(this._sChartResizeHandlerId)}this._unbindMouseEnterLeaveHandler()};p.prototype.onAfterRendering=function(){e._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler()};p.prototype._onControlIsVisible=function(){this._onResize();this._sChartResizeHandlerId=s.register(this,this._onResize.bind(this))};p.prototype._onResize=function(){var e=this.$(),t=Math.round(parseFloat(this.$().css("height"))),a=parseInt(e.css("width"));if(this.getShowValueMarker()){this._adjustValueToMarker()}e.removeClass("sapSuiteBMCSmallFont sapSuiteBMCNoLabels sapSuiteBMCSmallLook sapSuiteBMCExtraSmallLook sapSuiteBMCThresholdHidden");if(t<=this.convertRemToPixels(p.THRESHOLD_EXTRASMALL_LOOK)){e.addClass("sapSuiteBMCExtraSmallLook")}else if(t<=this.convertRemToPixels(p.THRESHOLD_SMALL_LOOK)){e.addClass("sapSuiteBMCSmallLook")}if(t>=this.convertRemToPixels(p.THRESHOLD_SMALL_LABEL)&&t<=this.convertRemToPixels(p.THRESHOLD_BIG_LABEL)){e.addClass("sapSuiteBMCSmallFont")}if(t<this.convertRemToPixels(p.THRESHOLD_SMALL_LABEL)||this._isAnyChartLabelTruncated()){e.addClass("sapSuiteBMCNoLabels")}if(a<this.convertRemToPixels(p.THRESHOLD_THRESHOLDS)){e.addClass("sapSuiteBMCThresholdHidden")}this._adjustLabelsPos()};p.prototype._isAnyChartLabelTruncated=function(){var e=this.$().find(".sapSuiteBMCItemValue, .sapSuiteBMCTargetValue");return this._isAnyLabelTruncated(e)};p.prototype.exit=function(){s.deregister(this._sChartResizeHandlerId)};p.prototype._adjustLabelsPos=function(){var t=u.getConfiguration().getRTL();var a=this.$("bc-target-bar-value");var i=this.$("chart-bar");var s=i.width();if(s){var r=0;if(a&&a.offset()){r=a.offset().left-i.offset().left;if(t){r=s-r}this._adjustLabelPos(this.$("bc-target-value"),s,r,t)}var o=this.$("bc-bar-value");if(o&&o.offset()){var l=o.offset().left+o.width()-i.offset().left;if(t){l=s-(o.offset().left-i.offset().left)}if(this.getMode()===e.BulletMicroChartModeType.Delta){l=o.width();if(!this.getShowActualValueInDeltaMode()){l=l/2}var n=this.getTargetValue()<this.getActual().getValue()?1:-1;l=a.offset().left-i.offset().left+l*n}this._adjustLabelPos(this.$("bc-item-value"),s,l,t)}}};p.prototype._adjustLabelPos=function(e,t,a,i){var s=i?"right":"left";var r=e.width();if(r>t){e.css(s,"0")}else{var o=a-.5*r;if(o<0){o=0}if(o+r>t){o=t-r}e.css(s,o)}};p.prototype._adjustValueToMarker=function(){var e=this.$("bc-bar-value");var t=this.$("bc-bar-value-marker");var a=this.$().find(".sapSuiteBMCVerticalAlignmentContainer");if(e.offset()&&t.offset()){var i=e.width();var s=e.offset().left;var r=t.width();var o=t.offset().left;if(u.getConfiguration().getRTL()){if(o<s){t.css("right","");t.offset({left:s})}if(o+r>s+i){t.css("right","");t.offset({left:s+i-r})}}else{if(o<s){t.offset({left:s})}if(o+r>s+i){e.width((o+r-s)/a.width()*100+"%")}}}};p.prototype._getLocalizedColorMeaning=function(e){return this._oRb.getText(("SEMANTIC_COLOR_"+e).toUpperCase())};p.prototype._getAltHeaderText=function(t){var a=this._oRb.getText("BULLETMICROCHART");if(t){a+=" "+this._oRb.getText("IS_ACTIVE")}if(!this._hasData()){a+="\n"+this._oRb.getText("NO_DATA");return a}var i=this.getActual()&&this.getActual()._isValueSet;var s=this.getScale();var r=this.getTargetValueLabel();var o=!this.getActual()||!this.getActual().getColor()?"":this._getLocalizedColorMeaning(this.getActual().getColor());if(i){var l=this.getActualValueLabel();var u=l?l:""+this.getActual().getValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_ACTUAL_TOOLTIP",[u+s,o])}if(this.getMode()===e.BulletMicroChartModeType.Delta){if(this._isTargetValueSet&&i){var n=this.getDeltaValueLabel();var h=n?n:""+this._calculateDeltaValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_DELTA_TOOLTIP",[h+s,o])}}else if(this._isForecastValueSet){a+=this._isForecastValueSet?"\n"+this._oRb.getText("BULLETMICROCHART_FORECAST_TOOLTIP",[this.getForecastValue()+s,o]):""}if(this._isTargetValueSet){var p=r?r:""+this.getTargetValue();a+="\n"+this._oRb.getText("BULLETMICROCHART_TARGET_TOOLTIP",[p+s])}return a};p.prototype._getAltSubText=function(e){var t="";var a=this.getThresholds().sort(function(e,t){return e.getValue()-t.getValue()});for(var i=0;i<a.length;i++){var s=a[i],r=s.getTooltip_AsString(),o="";if(!r){continue}o+=(e?"":"\n")+this._oRb.getText("BULLETMICROCHART_THRESHOLD_TOOLTIP",[s.getValue()+this.getScale(),this._getLocalizedColorMeaning(s.getColor())]);o=r.split("((AltText))").join(o);if(o){t+=o;e=false}}return t};p.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_BULLETMICROCHART")};p.prototype.clone=function(e,t,i){var s=a.prototype.clone.apply(this,arguments);s._isMinValueSet=this._isMinValueSet;s._isMaxValueSet=this._isMaxValueSet;s._isForecastValueSet=this._isForecastValueSet;s._isTargetValueSet=this._isTargetValueSet;return s};p.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};p.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};p.prototype._bindMouseEnterLeaveHandler=function(){if(!this._oMouseEnterLeaveHandler){this._oMouseEnterLeaveHandler={mouseEnterChart:this._addTitleAttribute.bind(this),mouseLeaveChart:this._removeTitleAttribute.bind(this)}}this.$().on("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().on("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart)};p.prototype._unbindMouseEnterLeaveHandler=function(){if(this._oMouseEnterLeaveHandler){this.$().off("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().off("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart)}};p.prototype._hasData=function(){return this.getActual()};p.prototype.firePress=function(){if(this._hasData()){a.prototype.fireEvent.call(this,"press",arguments)}};o.extendMicroChart(p);return p});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/BulletMicroChartData", ["./library","sap/ui/core/Element"],function(t,e){"use strict";var r=e.extend("sap.suite.ui.microchart.BulletMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Misc",defaultValue:"0"},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});r.prototype.init=function(){this.setAggregation("tooltip","((AltText))",true)};r.prototype.setValue=function(t){this._isValueSet=this._fnIsNumber(t);return this.setProperty("value",this._isValueSet?t:NaN)};r.prototype._fnIsNumber=function(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)};r.prototype.clone=function(t,r,i){var u=e.prototype.clone.apply(this,arguments);u._isValueSet=this._isValueSet;return u};return r});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/BulletMicroChartRenderer", ["./library","sap/m/library","sap/suite/ui/microchart/MicroChartRenderUtils"],function(e,a,t){"use strict";var l={apiVersion:2};l.render=function(t,l){if(!l._bThemeApplied){return}if(l._hasData()&&!isNaN(l.getAggregation("actual").getValue())){var s=l._calculateChartData();var i=+s.forecastValuePct;var r;if(l._isResponsive()){r="sapSuiteBMCResponsive"}else{r="sapSuiteBMCSize"+l.getSize()}var o=l.getScale();var c=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";var u="sapSuiteBMCModeType"+l.getMode();var d=l.getMode()===e.BulletMicroChartModeType.Delta?l._calculateDeltaValue():0;var n=l.getActual()&&l.getActual()._isValueSet;var p=l.getShowActualValue()&&l.getSize()!==a.Size.XS&&l.getMode()===e.BulletMicroChartModeType.Actual;var g=l.getShowActualValueInDeltaMode()&&l.getSize()!==a.Size.XS&&l.getMode()===e.BulletMicroChartModeType.Delta;var S=l.getShowDeltaValue()&&l.getSize()!==a.Size.XS&&l.getMode()===e.BulletMicroChartModeType.Delta;var v=l.getShowTargetValue()&&l.getSize()!==a.Size.XS;var M=l.getShowThresholds();var h=l.getActualValueLabel();var C=l.getDeltaValueLabel();var B=l.getTargetValueLabel();var V=l.getThresholds();var f;if(n){f="sapSuiteBMCSemanticColor"+l.getActual().getColor()}t.openStart("div",l);this._writeMainProperties(t,l);t.openEnd();t.openStart("div");t.class("sapSuiteBMCVerticalAlignmentContainer");t.openEnd();t.openStart("div",l.getId()+"-bc-chart");t.class("sapSuiteBMCChart");t.class(r);t.openEnd();if(n&&(p||g)||n&&l._isTargetValueSet&&S){var T="";t.openStart("div");t.class("sapSuiteBMCTopLabel");t.openEnd();if(n&&(p||g)){var b=h?h:""+l.getActual().getValue();T=b+o;t.openStart("div",l.getId()+"-bc-item-value");t.class("sapSuiteBMCItemValue");t.class(f);t.class(r);t.openEnd();t.text(T);t.close("div")}else if(n&&l._isTargetValueSet&&S){var y=C?C:""+d;T=y+o;t.openStart("div",l.getId()+"-bc-item-value");t.class("sapSuiteBMCItemValue");t.class(f);t.class(r);t.openEnd();t.text("Î”");t.text(T);t.close("div")}t.close("div")}t.openStart("div");t.class("sapSuiteBMCChartCanvas");t.openEnd();if(M){for(var E=0;E<s.thresholdsPct.length;E++){if(V[E]._isValueSet){this.renderThreshold(t,l,s.thresholdsPct[E],r)}}}t.openStart("div",l.getId()+"-chart-bar");t.class("sapSuiteBMCBar");t.class(r);t.class("sapSuiteBMCScaleColor"+l.getScaleColor());t.openEnd();t.close("div");if(n){if(l._isForecastValueSet&&l.getMode()===e.BulletMicroChartModeType.Actual){t.openStart("div",l.getId()+"-forecast-bar-value");t.class("sapSuiteBMCForecastBarValue");t.class(f);t.class(r);t.style("width",i+"%");t.openEnd();t.close("div")}t.openStart("div",l.getId()+"-bc-bar-value-marker");t.class("sapSuiteBMCBarValueMarker");t.class(u);if(!l.getShowValueMarker()){t.class("sapSuiteBMCBarValueMarkerHidden")}t.class(f);t.class(r);t.style(c,parseFloat(s.actualValuePct+parseFloat(1)+"%"));if(l.getMode()===e.BulletMicroChartModeType.Delta&&s.actualValuePct<=s.targetValuePct){t.style("margin","0")}t.openEnd();t.close("div");if(l.getMode()===e.BulletMicroChartModeType.Actual&&s.actualValuePct!==0){t.openStart("div",l.getId()+"-bc-bar-value");t.class("sapSuiteBMCBarValue");t.class(f);t.class(r);if(l._isForecastValueSet){t.class("sapSuiteBMCForecast")}t.style("width",s.actualValuePct+"%");t.openEnd();t.close("div")}else if(l._isTargetValueSet&&l.getMode()===e.BulletMicroChartModeType.Delta){t.openStart("div",l.getId()+"-bc-bar-value");t.class("sapSuiteBMCBarValue");t.class(f);t.class(r);t.style("width",Math.abs(s.actualValuePct-s.targetValuePct)+"%");t.style(c,1+Math.min(s.actualValuePct,s.targetValuePct)+"%");t.openEnd();t.close("div")}}if(l._isTargetValueSet){t.openStart("div",l.getId()+"-bc-target-bar-value");t.class("sapSuiteBMCTargetBarValue");t.class(r);t.style(c,parseFloat(s.targetValuePct).toFixed(2)+"%");t.openEnd();t.close("div");t.close("div");if(v){t.openStart("div");t.class("sapSuiteBMCBottomLabel");t.openEnd();var _=B?B:""+l.getTargetValue();var P=_+o;t.openStart("div",l.getId()+"-bc-target-value");t.class("sapSuiteBMCTargetValue");t.class(r);t.openEnd();t.text(P);t.close("div");t.close("div")}}else{t.close("div")}t.close("div");t.openStart("div",l.getId()+"-info");t.attr("aria-hidden","true");t.style("display","none");t.openEnd();t.close("div");t.close("div");t.close("div")}else{this._renderNoData(t,l)}};l._writeMainProperties=function(e,a){var t=a.hasListeners("press");this._renderActiveProperties(e,a);var l=a.getTooltip_AsString(t);e.attr("role","figure");if(a.getAriaLabelledBy().length){e.accessibilityState(a)}else{e.attr("aria-label",l)}e.class("sapSuiteBMC");e.class("sapSuiteBMCContent");e.class(a._isResponsive()?"sapSuiteBMCResponsive":"sapSuiteBMCSize"+a.getSize());e.style("width",a.getWidth());e.style("height",a.getHeight())};l.renderThreshold=function(e,t,l,s){var i=sap.ui.getCore().getConfiguration().getRTL()?"right":"left",r=.98*l.valuePct+1,o="sapSuiteBMCSemanticColor"+l.color;if(o==="sapSuiteBMCSemanticColor"+a.ValueColor.Error){e.openStart("div");e.class("sapSuiteBMCDiamond");e.class(s);e.class(o);e.style(i,r+"%");e.openEnd();e.close("div")}e.openStart("div");e.class("sapSuiteBMCThreshold");e.class(s);e.class(o);e.style(i,r+"%");e.openEnd();e.close("div")};t.extendMicroChartRenderer(l);return l},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ColumnMicroChart", ["./library","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/base/Log","sap/ui/events/KeyCodes","sap/suite/ui/microchart/MicroChartUtils","sap/m/library","./ColumnMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(t,e,i,a,o,s,r,l,n,u){"use strict";var h=r.Size;var p=r.ValueColor;var f=e.extend("sap.suite.ui.microchart.ColumnMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{group:"Misc",type:"sap.m.Size",defaultValue:h.Auto},width:{group:"Misc",type:"sap.ui.core.CSSSize"},height:{group:"Misc",type:"sap.ui.core.CSSSize"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false},showTopLabels:{type:"boolean",defaultValue:true},showBottomLabels:{type:"boolean",defaultValue:true},allowColumnLabels:{type:"boolean",group:"Appearance",defaultValue:false},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"columns",aggregations:{columns:{multiple:true,type:"sap.suite.ui.microchart.ColumnMicroChartData",defaultValue:null,bindable:"bindable"},leftTopLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},rightTopLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},leftBottomLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null},rightBottomLabel:{multiple:false,type:"sap.suite.ui.microchart.ColumnMicroChartLabel",defaultValue:null}}},renderer:l});f.THRESHOLD_LOOK_XS=1.125;f.THRESHOLD_LOOK_S=3.5;f.THRESHOLD_LOOK_M=4.5;f.THRESHOLD_LOOK_L=5.875;f.THRESHOLD_WIDTH_NO_LABEL=6;f.prototype.init=function(){this._oRb=n.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;n.ready(this._handleCoreInitialized.bind(this))};f.prototype._handleCoreInitialized=function(){u.attachApplied(this._handleThemeApplied.bind(this))};f.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();u.detachApplied(this._handleThemeApplied.bind(this))};f.prototype.onBeforeRendering=function(){this.$().off("mouseenter");this.$().off("mouseleave")};f.prototype.onAfterRendering=function(){if(this._sChartResizeHandlerId){i.deregister(this._sChartResizeHandlerId)}t._checkControlIsVisible(this,this._onControlIsVisible);this.$().on("mouseenter",this._addTitleAttribute.bind(this));this.$().on("mouseleave",this._removeTitleAttribute.bind(this))};f.prototype._onControlIsVisible=function(){this._fChartHeight=undefined;this._aBars=[];var t=this.getColumns().length;for(var e=0;e<t;e++){this._aBars.push({})}this._onResize();this._sChartResizeHandlerId=i.register(this,this._onResize.bind(this))};f.prototype.exit=function(){i.deregister(this._sChartResizeHandlerId)};f.prototype._onResize=function(){this._calcColumns();var t=this.$(),e=parseInt(t.width()),i=parseInt(t.height()),o=t.find(".sapSuiteClMCPositionTop").children(),s=t.find(".sapSuiteClMCLabelColumn.sapSuiteClMCLabelColumnTop,.sapSuiteClMCLabelColumn.sapSuiteClMCLabelColumnBottom"),r=t.find(".sapSuiteClMCBars")[0],l=this.getColumns(),n=l.length;t.removeClass("sapSuiteClMCNoLabels sapSuiteClMCNoColumnLabels sapSuiteClMCNoTopLabels sapSuiteClMCLookM sapSuiteClMCLookS sapSuiteClMCLookXS");if(e<=this.convertRemToPixels(f.THRESHOLD_WIDTH_NO_LABEL)){t.addClass("sapSuiteClMCNoLabels")}if(i<this.convertRemToPixels(f.THRESHOLD_LOOK_S)){t.addClass("sapSuiteClMCLookXS")}else if(i<this.convertRemToPixels(f.THRESHOLD_LOOK_M)){if(this.getAllowColumnLabels()){t.addClass("sapSuiteClMCNoColumnLabels")}t.addClass("sapSuiteClMCLookS")}else if(i<this.convertRemToPixels(f.THRESHOLD_LOOK_L)){t.addClass("sapSuiteClMCLookM")}if(this._isAnyLabelTruncated(o)){t.addClass("sapSuiteClMCNoTopLabels")}if(this.getAllowColumnLabels()&&this._isAnyLabelTruncated(s)){t.addClass("sapSuiteClMCNoColumnLabels")}if(n>0&&r){t.find(".sapSuiteClMCBar").show();while(r.scrollWidth>r.offsetWidth){l[--n].$().hide();a.warning(this.toString()+" Chart overflow","Column "+n+" was not rendered")}}};f.prototype._calcColumns=function(){var t=this.getColumns();if(t&&t.length===this._aBars.length){var e=parseFloat(this.$().css("height"));if(e!==this._fChartHeight){this._fChartHeight=e;this._calcColumnsHeight(e,this._aBars)}for(var i=0;i<t.length;i++){t[i].$().css(this._aBars[i])}}};f.prototype._calcColumnsHeight=function(t,e){var i=this.getColumns().length;if(i!==e.length){return}var a,o,s;a=o=0;for(var r=0;r<i;r++){var l=this.getColumns()[r];if(a<l.getValue()){a=l.getValue()}else if(o>l.getValue()){o=l.getValue()}}if(a===0&&o===0){for(var n=0;n<i;n++){e[n].top="calc(100% - 1px)";e[n].height="1px"}return}var u=a-o;var h=u/t;var p,f;p=f=0;for(var C=0;C<i;C++){s=this.getColumns()[C].getValue();if(Math.abs(s)<h){if(s>=0){if(s===a){f=h-s}}else if(s===o){p=h+s}}}if(f){a+=f;o-=f}if(p){a-=p;o+=p}var c=0-h;for(var g=0;g<i;g++){s=this.getColumns()[g].getValue();var d=s;if(s>=0){d=Math.max(d+f-p,h)}else{d=Math.min(d+f-p,c)}e[g].value=d}function b(t){return(t/u*100).toFixed(2)+"%"}var _=b(a);for(var n=0;n<i;n++){s=e[n].value;e[n].top=s<0?_:b(a-s);e[n].height=b(Math.abs(s))}};f.prototype.attachEvent=function(t,i,a,o){e.prototype.attachEvent.call(this,t,i,a,o);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};f.prototype.detachEvent=function(t,i,a){e.prototype.detachEvent.call(this,t,i,a);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};f.prototype.getLocalizedColorMeaning=function(t){return p[t]?this._oRb.getText(("SEMANTIC_COLOR_"+t).toUpperCase()):""};f.prototype.setSize=function(t){if(this.getSize()!==t){this.setProperty("size",t,false)}return this};f.prototype._getAltHeaderText=function(t){var e=this._oRb.getText("COLUMNMICROCHART");if(t){e+=" "+this._oRb.getText("IS_ACTIVE")}if(!this._hasData()){e+="\n"+this._oRb.getText("NO_DATA");return e}var i=this.getLeftTopLabel();var a=this.getRightTopLabel();var o=this.getLeftBottomLabel();var s=this.getRightBottomLabel();var r;if(i&&i.getLabel()||o&&o.getLabel()){if(i){r=i.getColor()}else if(o){r=o.getColor()}else{r=""}e+="\n"+this._oRb.getText("COLUMNMICROCHART_START")+": "+(o?o.getLabel()+" ":"")+(i?i.getLabel()+" ":"")+this.getLocalizedColorMeaning(r)}if(a&&a.getLabel()||s&&s.getLabel()){if(a){r=a.getColor()}else if(s){r=s.getColor()}else{r=""}e+="\n"+this._oRb.getText("COLUMNMICROCHART_END")+": "+(s?s.getLabel()+" ":"")+(a?a.getLabel()+" ":"")+this.getLocalizedColorMeaning(r)}return e};f.prototype._getAltSubText=function(t){var e="";var i=this.getColumns();for(var a=0;a<i.length;a++){var o=i[a],s=o.getTooltip_AsString(),r="";if(!s){continue}r+=(t?"":"\n")+this._getBarAltText(o);r=s.split("((AltText))").join(r);if(r){e+=r;t=false}}return e};f.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_COLUMNMICROCHART")};f.prototype.onclick=function(t){if(!this.fireBarPress(t)){this.firePress()}};f.prototype.onkeydown=function(t){var e,i;switch(t.keyCode){case o.SPACE:t.preventDefault();break;case o.ARROW_LEFT:case o.ARROW_UP:i=this.$().find(":focusable");e=i.index(t.target);if(i.length>1){if(e===-1){i.eq(i.length-2).get(0).focus()}else{i.eq(e-1>=0?e-1:i.length-1).get(0).focus()}t.preventDefault();t.stopPropagation()}break;case o.ARROW_DOWN:case o.ARROW_RIGHT:i=this.$().find(":focusable");e=i.index(t.target);if(i.length>0){i.eq(e+1<i.length?e+1:0).get(0).focus();t.preventDefault();t.stopPropagation()}break;default:}};f.prototype.onkeyup=function(t){if(t.which===o.ENTER||t.which===o.SPACE){if(!this.fireBarPress(t)){this.firePress();t.preventDefault()}}};f.prototype.fireBarPress=function(t){var e=t.srcControl;if(e&&e.isA("sap.suite.ui.microchart.ColumnMicroChartData")){if(e.hasListeners("press")){e.firePress();t.preventDefault();t.stopPropagation();return true}}return false};f.prototype._getBarAltText=function(t){var e=this.getLocalizedColorMeaning(t.getColor());return t.getLabel()+" "+t.getValue()+" "+e};f.prototype.setBarPressable=function(t,e){var i=t.$();if(e){var a=this._getBarAltText(t);i.addClass("sapSuiteUiMicroChartPointer").attr("tabindex",0).attr("title",a).attr("role","presentation").attr("aria-label",a)}else{i.removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label")}};f.prototype.onsaptabnext=function(t){var e=this.$().find(":focusable").last();if(e){this._bIgnoreFocusEvt=true;e.get(0).focus()}};f.prototype.onsaptabprevious=function(t){if(t.target.id!==t.currentTarget.id){var e=this.$().find(":focusable").first();if(e){e.get(0).focus()}}};f.prototype.onfocusin=function(t){if(this._bIgnoreFocusEvt){this._bIgnoreFocusEvt=false;return}if(this.getId()+"-hidden"===t.target.id){this.$().trigger("focus");t.preventDefault();t.stopPropagation()}};f.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};f.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};f.prototype._hasData=function(){return this.getColumns().length>0};f.prototype.firePress=function(){if(this._hasData()){e.prototype.fireEvent.call(this,"press",arguments)}};s.extendMicroChart(f);return f});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ColumnMicroChartData", ["./library","sap/ui/core/Element"],function(t,e){"use strict";var r=e.extend("sap.suite.ui.microchart.ColumnMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""},displayValue:{type:"string",group:"Appearance"},value:{type:"float",group:"Misc"}},events:{press:{}}}});r.prototype.init=function(){this.setAggregation("tooltip","((AltText))",true)};r.prototype.attachEvent=function(t,r,a,s){e.prototype.attachEvent.call(this,t,r,a,s);if(this.getParent()&&t==="press"){this.getParent().setBarPressable(this,true)}return this};r.prototype.detachEvent=function(t,r,a){e.prototype.detachEvent.call(this,t,r,a);if(this.getParent()&&t==="press"){this.getParent().setBarPressable(this,false)}return this};return r});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ColumnMicroChartLabel", ["./library","sap/ui/core/Element"],function(e,r){"use strict";var a=r.extend("sap.suite.ui.microchart.ColumnMicroChartLabel",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},label:{type:"string",group:"Misc",defaultValue:""}}}});return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ColumnMicroChartRenderer", ["./library","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters","sap/m/library","sap/ui/thirdparty/jquery"],function(e,t,a,l,jQuery){"use strict";var i=l.ValueColor;var s=l.ValueCSSColor;var o="sapUiChartNeutral",r="sapUiChartCategoryAxisLabelFontColor";var n={apiVersion:2};n.render=function(e,t){if(!t._bThemeApplied){return}var a=t.getAllowColumnLabels();var l=t.getColumns().some(function(e){return e.getLabel()});if(t._hasData()){e.openStart("div",t);this._writeMainProperties(e,t);if(a){e.class("sapSuiteClMCColumnLabels")}if(!l){e.class("sapSuiteClMCNoBottomColumnLabels")}e.openEnd();var i=t.getLeftTopLabel()&&t.getLeftTopLabel().getLabel()!==""&&t.getShowTopLabels();var s=t.getRightTopLabel()&&t.getRightTopLabel().getLabel()!==""&&t.getShowTopLabels();var r=t.getLeftBottomLabel()&&t.getLeftBottomLabel().getLabel()!==""&&t.getShowBottomLabels();var n=t.getRightBottomLabel()&&t.getRightBottomLabel().getLabel()!==""&&t.getShowBottomLabels();e.openStart("div");e.class("sapSuiteClMCVerticalAlignmentContainer");e.openEnd();if(i||s){e.openStart("div",t.getId()+"-top-lbls");e.class("sapSuiteClMCLabels");e.class("sapSuiteClMCPositionTop");e.openEnd();var C=i^s;if(i){this._writeEdgeLabel(e,t,t.getLeftTopLabel(),"-left-top-lbl","sapSuiteClMCPositionLeft",C)}if(s){this._writeEdgeLabel(e,t,t.getRightTopLabel(),"-right-top-lbl","sapSuiteClMCPositionRight",C)}e.close("div")}var p=t.getColumns();var u=p.length;var d,b;var g,c,L;if(a){for(L=0;L<u;L++){g=p[L];c=g.getValue();if(c&&c>=0){d=true}else if(c&&c<0){b=true}if(d&&b){break}}}if(a&&d){e.openStart("div");e.class("sapSuiteClMCColumnLabelDivider");e.openEnd();e.close("div")}e.openStart("div",t.getId()+"-bars");e.class("sapSuiteClMCBars");e.openEnd();for(L=0;L<u;L++){g=p[L];c=g.getValue();e.openStart("div",g);e.class("sapSuiteClMCBar");if(g.hasListeners("press")){e.attr("tabindex","0");e.attr("role","presentation");var S=t._getBarAltText(g);e.attr("title",S);e.attr("aria-label",S);e.class("sapSuiteUiMicroChartPointer")}e.openEnd();if(a&&jQuery.isNumeric(c)&&c>=0){this._writeColumnValueLabel(e,g,"sapSuiteClMCLabelColumnTop")}e.openStart("div");e.class("sapSuiteClMCInnerBar");this._setHexColor(e,g.getColor(),o,"background-color");e.openEnd();e.close("div");if(a&&jQuery.isNumeric(c)&&c<0){this._writeColumnValueLabel(e,g,"sapSuiteClMCLabelColumnBottom")}e.close("div")}e.close("div");if(a&&b){e.openStart("div");e.class("sapSuiteClMCColumnLabelDivider");e.openEnd();e.close("div")}if(r||n){e.openStart("div",t.getId()+"-btm-lbls");e.class("sapSuiteClMCLabels");e.class("sapSuiteClMCPositionBtm");e.openEnd();var v=r^n;if(r){this._writeEdgeLabel(e,t,t.getLeftBottomLabel(),"-left-btm-lbl","sapSuiteClMCPositionLeft",v)}if(n){this._writeEdgeLabel(e,t,t.getRightBottomLabel(),"-right-btm-lbl","sapSuiteClMCPositionRight",v)}e.close("div")}if(a&&l){e.openStart("div");e.class("sapSuiteClMCLabels");e.class("sapSuiteClMCBottomColumnLabels");e.openEnd();p.forEach(function(t){this._writeColumnLabel(e,t)},this);e.close("div")}e.openStart("div",t.getId()+"-hidden");e.attr("aria-hidden","true");e.attr("tabindex","-1");e.openEnd();e.close("div");e.close("div");e.close("div")}else{this._renderNoData(e,t)}};n._writeMainProperties=function(e,t){var a=t.hasListeners("press");this._renderActiveProperties(e,t);var l=t.getTooltip_AsString(a);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",l)}e.class("sapSuiteClMC");e.class("sapSuiteClMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};n._getHexColor=function(e,t){e=s.isValid(e)?e:t;return a.get(e)||e};n._setHexColor=function(e,t,a,l){i[t]?e.class("sapSuiteClMCSemanticColor"+t):e.style(l,this._getHexColor(t,a))};n._writeEdgeLabel=function(e,t,a,l,i,s){e.openStart("div",t.getId()+l);e.class("sapSuiteClMCLabel");e.class("sapSuiteClMCEdgeLabel");e.class(i);this._setHexColor(e,a.getColor(),r,"color");if(s){e.class("sapSuiteClMCWideBtmLbl")}e.openEnd();e.text(a.getLabel());e.close("div")};n._writeColumnValueLabel=function(e,t,a){var l=t.getDisplayValue()?t.getDisplayValue():t.getValue();e.openStart("div");e.class("sapSuiteClMCLabel");e.class("sapSuiteClMCLabelColumn");e.class(a);this._setHexColor(e,t.getColor(),o,"background-color");e.openEnd();e.text(l);e.close("div")};n._writeColumnLabel=function(e,t){var a=t.getLabel();e.openStart("div");e.class("sapSuiteClMCLabel");e.class("sapSuiteClMCLabelColumn");e.class("sapSuiteClMCBottomColumnLabel");e.openEnd();e.text(a);e.close("div")};t.extendMicroChartRenderer(n);return n},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ComparisonMicroChart", ["sap/ui/thirdparty/jquery","./library","sap/ui/core/Control","sap/ui/Device","sap/m/FlexBox","sap/suite/ui/microchart/MicroChartUtils","sap/m/library","sap/ui/core/ResizeHandler","./ComparisonMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(jQuery,e,t,i,a,r,s,o,n,p,l){"use strict";var h=s.ValueColor;var u=e.ComparisonMicroChartViewType;var d=s.Size;var c=t.extend("sap.suite.ui.microchart.ComparisonMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},scale:{type:"string",group:"Misc",defaultValue:""},minValue:{type:"float",group:"Appearance",defaultValue:null},maxValue:{type:"float",group:"Appearance",defaultValue:null},view:{type:"sap.suite.ui.microchart.ComparisonMicroChartViewType",group:"Appearance",defaultValue:"Normal"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},shrinkable:{type:"boolean",group:"Misc",defaultValue:false},width:{type:"sap.ui.core.CSSSize",group:"Appearance"},height:{type:"sap.ui.core.CSSSize",group:"Appearance"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"data",aggregations:{data:{type:"sap.suite.ui.microchart.ComparisonMicroChartData",multiple:true,bindable:"bindable"}},events:{press:{}}},renderer:n});c.THRESHOLD_LOOK_XS=6;c.THRESHOLD_LOOK_S=8.25;c.THRESHOLD_LOOK_M=10.5;c.THRESHOLD_LOOK_L=12;c.prototype.attachEvent=function(e,i,a,r){t.prototype.attachEvent.call(this,e,i,a,r);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};c.prototype.detachEvent=function(e,i,a){t.prototype.detachEvent.call(this,e,i,a);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};c.prototype.onclick=function(e){if(!this.fireBarPress(e)){this.firePress()}};c.prototype.fireBarPress=function(e){var t=jQuery(e.target);if(t&&t.attr("data-bar-index")){var i=parseInt(t.attr("data-bar-index"));var a=this.getData()[i];if(a&&a.hasListeners("press")){a.firePress();e.preventDefault();e.stopImmediatePropagation();var r=this.$().find(".sapSuiteCpMCChartBar");var s=r.index(this.$().find(".sapSuiteCpMCChartBar[tabindex='0']"));this._switchTabindex(s,i,r);return true}}return false};c.prototype.onsaptabprevious=function(){this.$().css("outline-color","")};c.prototype.onsaptabnext=function(){var e=this.$().next();if(e.hasClass("sapSuiteCpMC")&&e.attr("tabindex")){e.css("outline-color","")}};c.prototype.onsapenter=function(e){if(!this.fireBarPress(e)){this.firePress();e.preventDefault();e.stopImmediatePropagation()}};c.prototype.onsapspace=c.prototype.onsapenter;c.prototype.onsapup=function(e){var t=this.$().find(".sapSuiteUiMicroChartPointer");if(t.length>0){var i=t.index(e.target);this._switchTabindex(i,i-1,t)}e.preventDefault();e.stopImmediatePropagation()};c.prototype.onsapdown=function(e){var t=this.$().find(".sapSuiteUiMicroChartPointer");if(t.length>0){var i=t.index(e.target);this._switchTabindex(i,i+1,t)}e.preventDefault();e.stopImmediatePropagation()};c.prototype.onsaphome=function(e){var t=this.$().find(".sapSuiteUiMicroChartPointer");var i=t.index(e.target);if(i!==0&&t.length>0){this._switchTabindex(i,0,t)}e.preventDefault();e.stopImmediatePropagation()};c.prototype.onsapend=function(e){var t=this.$().find(".sapSuiteUiMicroChartPointer");var i=t.index(e.target),a=t.length;if(i!==a-1&&a>0){this._switchTabindex(i,a-1,t)}e.preventDefault();e.stopImmediatePropagation()};c.prototype.onsapleft=c.prototype.onsapup;c.prototype.onsapright=c.prototype.onsapdown;c.prototype.setMinValue=function(e){this._isMinValueSet=jQuery.isNumeric(e);return this.setProperty("minValue",this._isMinValueSet?e:NaN)};c.prototype.setMaxValue=function(e){this._isMaxValueSet=jQuery.isNumeric(e);return this.setProperty("maxValue",this._isMaxValueSet?e:NaN)};c.prototype.setSize=function(e){if(this.getSize()!==e){this.setProperty("size",e,false)}return this};c.prototype.init=function(){this._oRb=p.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._isMinValueSet=false;this._isMaxValueSet=false;this._bThemeApplied=false;p.ready(this._handleCoreInitialized.bind(this))};c.prototype._handleCoreInitialized=function(){l.attachApplied(this._handleThemeApplied.bind(this))};c.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();l.detachApplied(this._handleThemeApplied.bind(this))};c.prototype.onBeforeRendering=function(){if(this._sChartResizeHandlerId){o.deregister(this._sChartResizeHandlerId)}this._unbindMouseEnterLeaveHandler()};c.prototype.onAfterRendering=function(){e._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler()};c.prototype._onControlIsVisible=function(){this._onResize();this._sChartResizeHandlerId=o.register(this,this._onResize.bind(this))};c.prototype.setBarPressable=function(e,t){if(t){var i=this._getBarAltText(e);this.$("chart-item-bar-"+e).addClass("sapSuiteUiMicroChartPointer").attr("tabindex",0).attr("title",i).attr("role","presentation").attr("aria-label",i)}else{this.$("chart-item-bar-"+e).removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer").removeAttr("title").removeAttr("role").removeAttr("aria-label")}};c.prototype._getAltHeaderText=function(e){var t=this._oRb.getText("COMPARISONMICROCHART");if(e){t+=" "+this._oRb.getText("IS_ACTIVE")}if(!this._hasData()){t+="\n"+this._oRb.getText("NO_DATA");return t}return t};c.prototype._getAltSubText=function(e){var t="";for(var i=0;i<this.getData().length;i++){var a=this.getData()[i],r=this._getBarAltText(i),s=a.getTooltip_AsString(),o="";if(!s){continue}o=s.split("((AltText))").join(r);if(o){t+=(e?"":"\n")+o;e=false}}return t};c.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_COMPARISONMICROCHART")};c.prototype.exit=function(){o.deregister(this._sChartResizeHandlerId)};c.prototype._calculateChartData=function(){var e=[];var t=this.getData();var i=t.length;var a=0;var r=0;var s;var o;var n;var p;for(p=0;p<i;p++){var l=isNaN(t[p].getValue())?0:t[p].getValue();a=Math.max(a,l);r=Math.min(r,l)}if(this._isMinValueSet){r=Math.min(r,this.getMinValue())}if(this._isMaxValueSet){a=Math.max(a,this.getMaxValue())}s=a-r;o=s==0?0:Math.round(a*100/s);if(o==0&&a!=0){o=1}else if(o==100&&r!=0){o=99}n=100-o;for(p=0;p<i;p++){var h={};var u=isNaN(t[p].getValue())?0:t[p].getValue();h.value=s==0?0:Math.round(u*100/s);if(h.value==0&&u!=0){h.value=u>0?1:-1}else if(h.value==100){h.value=o}else if(h.value==-100){h.value=-n}if(h.value>=0){h.negativeNoValue=n;h.positiveNoValue=o-h.value}else{h.value=-h.value;h.negativeNoValue=n-h.value;h.positiveNoValue=o}e.push(h)}return e};c.prototype._getLocalizedColorMeaning=function(e){return h[e]&&e!="None"?this._oRb.getText(("SEMANTIC_COLOR_"+e).toUpperCase()):""};c.prototype._getBarAltText=function(e){var i=this.getData()[e],a=t.prototype.getTooltip_AsString.apply(i,arguments),r=this.getColorPalette().length?"":this._getLocalizedColorMeaning(i.getColor()),s=i.getTitle()+" "+(i.getDisplayValue()?i.getDisplayValue():i.getValue())+this.getScale()+" "+r;if(!a){return""}return a.split("((AltText))").join(s)};c.prototype._onResize=function(){this.$().find(".sapSuiteCpMCChartItem").show();this._resizeHorizontally();this._resizeVertically()};c.prototype._resizeVertically=function(){var e,t,i,a,r,s,o,n,p,l=this.getData(),h=this.$(),u,d=h.find(".sapSuiteCpMCChartItem"),c=h.find(".sapSuiteCpMCChartBar");d.css("margin-bottom","");d.css("height","");c.css("height","");if(l.length>0&&l[0].getDomRef()){e=l[0].getDomRef().getBoundingClientRect().height;t=parseFloat(l[0].$().css("margin-bottom"));i=c.height();s=h.width();o=this._getCurrentBaseWidth();if(o>0){n=o/e;e=s/n;d.css("height",e);n=o/t;t=s/n;d.css("margin-bottom",t);n=o/i;c.css("height",s/n)}a=h.find(".sapSuiteCpMCVerticalAlignmentContainer")[0].getBoundingClientRect().height;r=0;for(var f=0;f<l.length;f++){r+=e;if(r>a){l[f].$().hide()}r+=t}u=this.$().find(".sapSuiteCpMCVerticalAlignmentContainer .sapSuiteCpMCChartItem:visible:last");if(u.length===1&&!this.getShrinkable()){u.css("margin-bottom","");p=this.getDomRef().getBoundingClientRect().bottom-u[0].getBoundingClientRect().bottom;if(p<t){u.css("margin-bottom",p<0?0:p)}}}};c.prototype._resizeHorizontally=function(){var e=this.$();var t=0;var i=0;var a=this.$().find(".sapSuiteCpMCChartItemTitle");var r=this.$().find(".sapSuiteCpMCChartItemValue");var s;var o;e.removeClass("sapSuiteCpMCLookL sapSuiteCpMCLookM sapSuiteCpMCLookS sapSuiteCpMCLookXS sapSuiteCpMCLookWide");o=this._getCurrentLookClass();e.addClass(o);if(!e.hasClass("sapSuiteCpMCLookXS")){this._hideTruncatedLabels(".sapSuiteCpMCChartItemValue")}a.width("auto");r.width("auto");if(e.hasClass("sapSuiteCpMCLookWide")){a.each(function(){s=this.getBoundingClientRect();if(s.width>t){t=Math.ceil(s.width)}});a.width(t);r.each(function(){s=this.getBoundingClientRect();if(s.width>i){i=Math.ceil(s.width)}});r.width(i)}};c.prototype._getCurrentBaseWidth=function(){var e=this.$();var t=parseInt(e.width());var i;if(this.getView()===u.Wide||t>this.convertRemToPixels(c.THRESHOLD_LOOK_L)||this.getSize()!==d.Responsive){i=0}else if(t>this.convertRemToPixels(c.THRESHOLD_LOOK_M)){i=this.convertRemToPixels(c.THRESHOLD_LOOK_L)}else if(t>this.convertRemToPixels(c.THRESHOLD_LOOK_S)){i=this.convertRemToPixels(c.THRESHOLD_LOOK_M)}else if(t>this.convertRemToPixels(c.THRESHOLD_LOOK_XS)){i=this.convertRemToPixels(c.THRESHOLD_LOOK_S)}else{i=0}return i};c.prototype._getCurrentLookClass=function(){var e=this.$();var t=parseInt(e.width());var i;if(this._shouldUseWideView()){i="sapSuiteCpMCLookWide"}else if(this.getSize()!==d.Responsive){i="sapSuiteCpMCLook"+this._getSize()}else if(t>this.convertRemToPixels(c.THRESHOLD_LOOK_M)){i="sapSuiteCpMCLookL"}else if(t>this.convertRemToPixels(c.THRESHOLD_LOOK_S)){i="sapSuiteCpMCLookM"}else if(t>this.convertRemToPixels(c.THRESHOLD_LOOK_XS)){i="sapSuiteCpMCLookS"}else{i="sapSuiteCpMCLookXS"}return i};c.prototype._getSize=function(){var e=this.getSize();if(e===d.Auto){if(i.system.phone){e=d.S}else{e=d.M}}return e};c.prototype._shouldUseWideView=function(){var e=parseInt(this.$().width());return this.getView()===u.Wide||this.getView()===u.Responsive&&e>this.convertRemToPixels(c.THRESHOLD_LOOK_L)};c.prototype._hideTruncatedLabels=function(e){var t=this.$();var i=t.find(e);for(var a=0;a<i.length;a++){jQuery(i[a]).removeClass("sapSuiteCpMCChartItemHiddenLabel");if(this._isLabelTruncated(i[a])){jQuery(i[a]).addClass("sapSuiteCpMCChartItemHiddenLabel")}}};c.prototype._addTitleAttribute=function(){var t=this.getTooltip_AsString();if(!e._isTooltipSuppressed(t)&&this._hasData()){if(this._isResponsive()){this.$().find(".sapSuiteCpMCVerticalAlignmentContainer").attr("title",t)}else{this.$().attr("title",t)}}};c.prototype._removeTitleAttribute=function(){if(this._isResponsive()){this.$().find(".sapSuiteCpMCVerticalAlignmentContainer").removeAttr("title")}else{this.$().removeAttr("title")}};c.prototype._resolveFocus=function(e){var t=jQuery(e.target);if(t&&t.attr("data-bar-index")){var i=parseInt(t.attr("data-bar-index"));var a=this.getData()[i];if(a&&a.hasListeners("press")){this.$().css("outline-color","transparent")}else{this.$().css("outline-color","")}}else{this.$().css("outline-color","")}};c.prototype._switchTabindex=function(e,t,i){if(e>=0&&e<i.length&&t>=0&&t<i.length){i.eq(e).removeAttr("tabindex");i.eq(t).attr("tabindex","0").trigger("focus")}};c.prototype._bindMouseEnterLeaveHandler=function(){if(!this._oMouseEnterLeaveHandler){this._oMouseEnterLeaveHandler={mouseEnterChart:this._addTitleAttribute.bind(this),mouseLeaveChart:this._removeTitleAttribute.bind(this),mouseDownChart:this._resolveFocus.bind(this)}}this.$().on("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().on("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);this.$().on("mousedown",this._oMouseEnterLeaveHandler.mouseDownChart)};c.prototype._unbindMouseEnterLeaveHandler=function(){if(this._oMouseEnterLeaveHandler){this.$().off("mouseenter",this._oMouseEnterLeaveHandler.mouseEnterChart);this.$().off("mouseleave",this._oMouseEnterLeaveHandler.mouseLeaveChart);this.$().off("mousedown",this._oMouseEnterLeaveHandler.mouseDownChart)}};c.prototype._hasData=function(){return this.getData().length>0};c.prototype.firePress=function(){if(this._hasData()){t.prototype.fireEvent.call(this,"press",arguments)}};r.extendMicroChart(c);return c});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ComparisonMicroChartData", ["./library","sap/ui/core/Element","sap/ui/core/Control"],function(t,e,r){"use strict";var a=e.extend("sap.suite.ui.microchart.ComparisonMicroChartData",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Misc",defaultValue:"0"},color:{type:"sap.m.ValueCSSColor",group:"Misc",defaultValue:"Neutral"},title:{type:"string",group:"Misc",defaultValue:""},displayValue:{type:"string",group:"Misc",defaultValue:""}},events:{press:{}}}});a.prototype.init=function(){this.setAggregation("tooltip","((AltText))",true)};a.prototype.setValue=function(t,e){this._isValueSet=this._fnIsNumber(t);return this.setProperty("value",this._isValueSet?t:NaN,e)};a.prototype._fnIsNumber=function(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)};a.prototype.clone=function(t,e,a){var i=r.prototype.clone.apply(this,arguments);i._isValueSet=this._isValueSet;return i};a.prototype.attachEvent=function(t,e,a,i){r.prototype.attachEvent.call(this,t,e,a,i);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getData().indexOf(this),true)}return this};a.prototype.detachEvent=function(t,e,a){r.prototype.detachEvent.call(this,t,e,a);if(this.getParent()){this.getParent().setBarPressable(this.getParent().getData().indexOf(this),false)}return this};return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/ComparisonMicroChartRenderer", ["./library","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters","sap/m/library"],function(e,t,a,i){"use strict";var r=i.ValueColor;var s={apiVersion:2};s.render=function(e,t){if(!t._bThemeApplied){return}if(t._hasData()){var a=t.getTooltip_AsString(t.hasListeners("press"));e.openStart("div",t);this._writeMainProperties(e,t);if(t.getShrinkable()){e.class("sapSuiteCpMCShrinkable");e.style("height","auto")}e.openEnd();this._renderInnerContent(e,t,a);e.openStart("div",t.getId()+"-info");e.attr("aria-hidden","true");e.style("display","none");e.openEnd();e.text(a);e.close("div");e.openStart("div",t.getId()+"-hidden");e.attr("aria-hidden","true");e.attr("focusable","false");e.openEnd();e.close("div");e.close("div")}else{this._renderNoData(e,t)}};s._writeMainProperties=function(e,t){var a=t.hasListeners("press");this._renderActiveProperties(e,t);var i=t.getTooltip_AsString(a);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",i)}e.class("sapSuiteCpMC");e.class("sapSuiteCpMCChartContent");e.class(t._isResponsive()?"sapSuiteCpMCResponsive":"sapSuiteCpMCSize"+t.getSize());e.class("sapSuiteCpMCViewType"+t.getView());e.style("width",t.getWidth());e.style("height",t.getHeight())};s._renderInnerContent=function(e,t){var i=t.getColorPalette().length,r=0,s=t.getData(),n=t._calculateChartData();var l=function(e){if(i){if(r===i){r=0}e=t.getColorPalette()[r++].trim()}return a.get(e)||e};e.openStart("div");e.class("sapSuiteCpMCVerticalAlignmentContainer");e.openEnd();for(var o=0;o<n.length;o++){this._renderChartItem(e,t,n[o],o,l(s[o].getColor()))}e.close("div")};s._renderChartItem=function(e,t,a,i,r){var s=t.getData();e.openStart("div",s[i]);e.class("sapSuiteCpMCChartItem");e.openEnd();this._renderChartTitle(e,t,i);this._renderChartBar(e,t,a,i,r);this._renderChartValue(e,t,i,r);e.close("div")};s._renderChartBar=function(t,a,i,r,s){var n=a.getData()[r];t.openStart("div",a.getId()+"-chart-item-bar-"+r);t.class("sapSuiteCpMCChartBar");if(a.getData()[r].hasListeners("press")){if(r===0){t.attr("tabindex","0")}t.attr("role","presentation");t.attr("aria-label",a._getBarAltText(r));if(!e._isTooltipSuppressed(a._getBarAltText(r))){t.attr("title",a._getBarAltText(r))}else{t.attr("title","")}t.attr("data-bar-index",r);t.class("sapSuiteUiMicroChartPointer")}t.openEnd();if(i.negativeNoValue>0){t.openStart("div");t.attr("data-bar-index",r);t.class("sapSuiteCpMCChartBarNegNoValue");if(i.value>0||i.positiveNoValue>0){t.class("sapSuiteCpMCNotLastBarPart")}t.style("width",i.negativeNoValue+"%");t.openEnd();t.close("div")}if(i.value>0){t.openStart("div");t.attr("data-bar-index",r);t.class("sapSuiteCpMCChartBarValue");t.class("sapSuiteCpMCSemanticColor"+n.getColor());t.style("background-color",s?s:"");t.style("width",i.value+"%");t.openEnd();t.close("div")}if(i.positiveNoValue>0){t.openStart("div");t.attr("data-bar-index",r);t.class("sapSuiteCpMCChartBarNoValue");if(i.negativeNoValue&&!i.value){t.class("sapSuiteCpMCNegPosNoValue")}else if(i.negativeNoValue||i.value){t.class("sapSuiteCpMCNotFirstBarPart")}t.style("width",i.positiveNoValue+"%");t.openEnd();t.close("div")}t.close("div")};s._renderChartTitle=function(e,t,a){var i=t.getData()[a];e.openStart("div",t.getId()+"-chart-item-"+a+"-title");e.class("sapSuiteCpMCChartItemTitle");e.openEnd();e.text(i.getTitle());e.close("div")};s._renderChartValue=function(e,t,a,i){var s=t.getData()[a];var n=t.getScale();var l=s.getDisplayValue();var o=l?l:""+s.getValue();var p=o+n;e.openStart("div",t.getId()+"-chart-item-"+a+"-value");e.class("sapSuiteCpMCChartItemValue");if(r[i]){e.class("sapSuiteCpMCSemanticColor"+s.getColor())}if(s.getTitle()){e.class("sapSuiteCpMCTitle")}e.openEnd();if(!isNaN(s.getValue())){e.text(p)}e.close("div")};t.extendMicroChartRenderer(s);return s},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/DeltaMicroChart", ["./library","sap/m/library","sap/m/FlexBox","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/events/KeyCodes","sap/suite/ui/microchart/MicroChartUtils","./DeltaMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(t,e,i,a,s,r,o,l,n,p){"use strict";var u=e.ValueColor;var h=t.DeltaMicroChartViewType;var c=a.extend("sap.suite.ui.microchart.DeltaMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{value1:{type:"float",group:"Misc"},value2:{type:"float",group:"Misc"},title1:{type:"string",group:"Misc",defaultValue:null},title2:{type:"string",group:"Misc",defaultValue:null},displayValue1:{type:"string",group:"Misc",defaultValue:null},displayValue2:{type:"string",group:"Misc",defaultValue:null},deltaDisplayValue:{type:"string",group:"Misc",defaultValue:null},color:{type:"sap.m.ValueCSSColor",group:"Misc",defaultValue:"Neutral"},view:{type:"sap.suite.ui.microchart.DeltaMicroChartViewType",group:"Appearance",defaultValue:"Normal"},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{group:"Misc",type:"sap.ui.core.CSSSize"},size:{type:"sap.m.Size",group:"Misc",defaultValue:"Auto"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}},renderer:l});c.THRESHOLD_LOOK_XS=1.125;c.THRESHOLD_LOOK_S=3.5;c.THRESHOLD_LOOK_M=4.5;c.THRESHOLD_LOOK_L=5.875;c.THRESHOLD_WIDTH_NO_LABEL=6;c.THRESHOLD_WIDTH_WIDE_MODE=12;c.prototype.init=function(){this._oRb=n.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;n.ready(this._handleCoreInitialized.bind(this))};c.prototype.setSize=function(t){if(this.getSize()!==t){this.setProperty("size",t,false)}return this};c.prototype._handleCoreInitialized=function(){p.attachApplied(this._handleThemeApplied.bind(this))};c.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();p.detachApplied(this._handleThemeApplied.bind(this))};c.prototype._calcChartData=function(){var t=this.getValue1();var e=this.getValue2();var i=Math.min(t,e,0);var a=Math.max(t,e,0);var s=a-i;function r(t){return(s===0?0:Math.abs(t)/s*100).toFixed(2)}var o={};var l=t-e;o.delta={left:a===0,width:r(l),isFirstStripeUp:t<e,isMax:t<0&&e>=0||t>=0&&e<0,isZero:t===0&&e===0,isEqual:l===0};o.bar1={left:e>=0,width:r(t),isSmaller:Math.abs(t)<Math.abs(e)};o.bar2={left:t>=0,width:r(e),isSmaller:Math.abs(e)<Math.abs(t)};return o};c.prototype._getDeltaValue=function(){var t=this.getValue1(),e=this.getValue2();return Math.abs(t-e).toFixed(Math.max(this._digitsAfterDecimalPoint(t),this._digitsAfterDecimalPoint(e)))};c.prototype._getLocalizedColorMeaning=function(t){return u[t]?this._oRb.getText(("SEMANTIC_COLOR_"+t).toUpperCase()):""};c.prototype._getAltHeaderText=function(t){var e=this._oRb.getText("DELTAMICROCHART");if(t){e+=" "+this._oRb.getText("IS_ACTIVE")}e+="\n";if(!this._hasData()){e+=this._oRb.getText("NO_DATA");return e}var i=this.getDisplayValue1();var a=this.getDisplayValue2();var s=this.getDeltaDisplayValue();var r=this.getValue1();var o=this.getValue2();var l=i?i:""+r;var n=a?a:""+o;var p=s?s:""+Math.abs(r-o).toFixed(Math.max(this._digitsAfterDecimalPoint(r),this._digitsAfterDecimalPoint(o)));var u=this._getLocalizedColorMeaning(this.getColor());e+=this.getTitle1()+" "+l+"\n"+this.getTitle2()+" "+n+"\n"+this._oRb.getText("DELTAMICROCHART_DELTA_TOOLTIP",[p,u]);return e};c.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_DELTAMICROCHART")};c.prototype.onBeforeRendering=function(){this._oChartData=this._calcChartData();if(this._sResizeHandlerId){s.deregister(this._sResizeHandlerId)}this.$().off("mouseenter");this.$().off("mouseleave")};c.prototype.onAfterRendering=function(){t._checkControlIsVisible(this,this._onControlIsVisible);this.$().on("mouseenter",this._addTitleAttribute.bind(this));this.$().on("mouseleave",this._removeTitleAttribute.bind(this))};c.prototype._onControlIsVisible=function(){if(this._hasData()){this._onResize();this._sResizeHandlerId=s.register(this,this._onResize.bind(this))}};c.prototype.exit=function(){s.deregister(this._sResizeHandlerId)};c.prototype._onResize=function(){var t=this.$(),e=parseInt(t.width()),i=parseInt(t.height()),a=t.find(".sapSuiteDMCLbls .sapSuiteDMCLabel"),s=this.getView();t.removeClass("sapSuiteDMCNoLabels sapSuiteDMCNoRightLabels sapSuiteDMCLookM sapSuiteDMCLookS sapSuiteDMCLookXS");if(s===h.Responsive){t.removeClass("sapSuiteDMCWideMode")}if(e<=this.convertRemToPixels(c.THRESHOLD_WIDTH_NO_LABEL)||i<=this.convertRemToPixels(c.THRESHOLD_LOOK_XS)){t.addClass("sapSuiteDMCNoLabels")}if(s===h.Responsive&&e>this.convertRemToPixels(c.THRESHOLD_WIDTH_WIDE_MODE)){t.addClass("sapSuiteDMCWideMode")}if(i<this.convertRemToPixels(c.THRESHOLD_LOOK_S)){t.addClass("sapSuiteDMCLookXS")}else if(i<this.convertRemToPixels(c.THRESHOLD_LOOK_M)){t.addClass("sapSuiteDMCLookS")}else if(i<this.convertRemToPixels(c.THRESHOLD_LOOK_L)){t.addClass("sapSuiteDMCLookM")}if(this._isAnyLabelTruncated(a)){t.addClass("sapSuiteDMCNoRightLabels")}};c.prototype.attachEvent=function(t,e,i,s){a.prototype.attachEvent.call(this,t,e,i,s);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};c.prototype.detachEvent=function(t,e,i){a.prototype.detachEvent.call(this,t,e,i);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};c.prototype.ontap=function(t){this.firePress()};c.prototype.onkeydown=function(t){if(t.which===r.SPACE){t.preventDefault()}};c.prototype.onkeyup=function(t){if(t.which===r.ENTER||t.which===r.SPACE){this.firePress();t.preventDefault()}};c.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};c.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};c.prototype._isActuallyANumber=function(t){return!isNaN(t)&&t!==null&&(t!=="Infinity"&&t!=="-Infinity")};c.prototype._hasData=function(){return this._isActuallyANumber(this.getValue1())||this._isActuallyANumber(this.getValue2())};c.prototype.firePress=function(){if(this._hasData()){a.prototype.fireEvent.call(this,"press",arguments)}};o.extendMicroChart(c);return c});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/DeltaMicroChartRenderer", ["./library","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters","sap/m/library"],function(a,e,t,s){"use strict";var i=s.ValueColor;var r=a.DeltaMicroChartViewType;var l={apiVersion:2};l.render=function(a,e){function s(a){return a?"sapSuiteDMCDirectionLeft":"sapSuiteDMCDirectionRight"}if(e._hasData()){if(!e._bThemeApplied){return}var l=e.getDisplayValue1();var o=e.getDisplayValue2();var p=e.getValue1();var n=e.getValue2();var d=e.getDeltaDisplayValue();var c=l?l:""+p;var D=o?o:""+n;var S=d?d:""+e._getDeltaValue();var u=e.getColor();var C=function(e,s){if(i[e]){a.class("sapSuiteDMCSemanticColor"+e)}else{a.style(s,t.get(e)||e)}};var M=e.getTitle1();var v=e.getTitle2();var h=e.getView();a.openStart("div",e);this._writeMainProperties(a,e);if(!M){a.class("sapSuiteDMCNoTitleTop")}if(!v){a.class("sapSuiteDMCNoTitleBottom")}if(h===r.Wide){a.class("sapSuiteDMCWideMode")}a.openEnd();a.openStart("div");a.class("sapSuiteDMCVerticalAlignmentContainer");a.openEnd();if((M||v)&&(h===r.Wide||h===r.Responsive)){a.openStart("div");a.class("sapSuiteDMCWideTitles");a.class("sapSuiteDMCLabel");a.openEnd();this._renderTitle(a,M,"sapSuiteDMCPositionTop");this._renderTitle(a,v,"sapSuiteDMCPositionBtm");a.close("div");a.openStart("div");a.class("sapSuiteDMCSpacer");a.class("sapSuiteDMCSpacerLeft");a.openEnd();a.close("div")}a.openStart("div");a.class("sapSuiteDMCCnt");a.openEnd();if(M&&(h===r.Normal||h===r.Responsive)){this._renderTitle(a,M,"sapSuiteDMCPositionTop")}a.openStart("div",e.getId()+"-dmc-chart");a.class("sapSuiteDMCChart");a.openEnd();a.openStart("div",e.getId()+"-dmc-bar1");a.class("sapSuiteDMCBar");a.class("sapSuiteDMCBar1");if(e._oChartData.delta.isMax){a.class("sapSuiteDMCBarDeltaMaxDelta")}if(e._oChartData.bar1.isSmaller){a.class("sapSuiteDMCBarSizeSmaller")}if(parseFloat(e._oChartData.bar1.width)===0){a.class("sapSuiteDMCBarZeroWidth")}else if(parseFloat(e._oChartData.bar2.width)===0){a.class("sapSuiteDMCBarUniqueNonzero")}a.class(s(e._oChartData.bar1.left));a.style("width",e._oChartData.bar1.width+"%");a.openEnd();a.openStart("div");a.class("sapSuiteDMCBarInternal");a.class(s(e._oChartData.bar2.left));a.openEnd();a.close("div");a.close("div");a.openStart("div",e.getId()+"-dmc-bar2");a.class("sapSuiteDMCBar");a.class("sapSuiteDMCBar2");if(e._oChartData.delta.isMax){a.class("sapSuiteDMCBarDeltaMaxDelta")}if(e._oChartData.bar2.isSmaller){a.class("sapSuiteDMCBarSizeSmaller")}if(parseFloat(e._oChartData.bar2.width)===0){a.class("sapSuiteDMCBarZeroWidth")}else if(parseFloat(e._oChartData.bar1.width)===0){a.class("sapSuiteDMCBarUniqueNonzero")}a.class(s(e._oChartData.bar2.left));a.style("width",e._oChartData.bar2.width+"%");a.openEnd();a.openStart("div");a.class("sapSuiteDMCBarInternal");a.class(s(e._oChartData.bar1.left));a.openEnd();a.close("div");a.close("div");a.openStart("div",e.getId()+"-dmc-bar-delta");a.class("sapSuiteDMCBar");a.class("sapSuiteDMCBarDelta");if(!e._oChartData.delta.isMax){a.class("sapSuiteDMCBarDeltaNotMax")}if(e._oChartData.delta.isZero){a.class("sapSuiteDMCBarDeltaZero")}if(e._oChartData.delta.isEqual){a.class("sapSuiteDMCBarDeltaEqual")}a.class(s(e._oChartData.delta.left));a.style("width",e._oChartData.delta.width+"%");a.openEnd();a.openStart("div");C(u,"background-color");a.class("sapSuiteDMCBarDeltaInt");a.openEnd();a.close("div");a.openStart("div");a.class("sapSuiteDMCBarDeltaStripe");a.class(s(true));if(e._oChartData.delta.isEqual){a.class("sapSuiteDMCBarDeltaEqual")}a.class("sapSuiteDMCBarDeltaFirstStripe"+(e._oChartData.delta.isFirstStripeUp?"Up":"Down"));a.openEnd();a.close("div");a.openStart("div");a.class("sapSuiteDMCBarDeltaStripe");a.class(s(false));a.class("sapSuiteDMCBarDeltaFirstStripe"+(e._oChartData.delta.isFirstStripeUp?"Down":"Up"));a.openEnd();a.close("div");a.close("div");a.close("div");if(v&&(h===r.Normal||h===r.Responsive)){this._renderTitle(a,v,"sapSuiteDMCPositionBtm")}a.close("div");a.openStart("div");a.class("sapSuiteDMCSpacer");a.class("sapSuiteDMCSpacerRight");a.openEnd();a.close("div");a.openStart("div");a.class("sapSuiteDMCLbls");a.openEnd();a.openStart("div",e.getId()+"-value1");a.class("sapSuiteDMCLabel");a.class("sapSuiteDMCValue1");a.openEnd();a.text(c);a.close("div");a.openStart("div",e.getId()+"-delta");a.class("sapSuiteDMCLabel");a.class("sapSuiteDMCDelta");C(u,"color");a.openEnd();a.text(S);a.close("div");a.openStart("div",e.getId()+"-value2");a.class("sapSuiteDMCLabel");a.class("sapSuiteDMCValue2");a.openEnd();a.text(D);a.close("div");a.close("div");a.close("div");a.close("div")}else{this._renderNoData(a,e)}};l._renderTitle=function(a,e,t){a.openStart("div");a.class("sapSuiteDMCLabel");a.class("sapSuiteDMCTitle");a.class(t);a.openEnd();a.text(e);a.close("div")};l._writeMainProperties=function(a,e){var t=e.hasListeners("press");this._renderActiveProperties(a,e);var s=e.getTooltip_AsString(t);a.attr("role","figure");if(e.getAriaLabelledBy().length){a.accessibilityState(e)}else{a.attr("aria-label",s)}a.class("sapSuiteDMC");a.class("sapSuiteDMCSize"+e.getSize());a.style("width",e.getWidth());a.style("height",e.getHeight())};e.extendMicroChartRenderer(l);return l},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/HarveyBallMicroChart", ["./library","sap/m/library","sap/ui/core/Control","sap/ui/Device","sap/ui/events/KeyCodes","sap/suite/ui/microchart/MicroChartUtils","sap/ui/core/ResizeHandler","./HarveyBallMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(t,e,i,r,a,s,o,n,l,p){"use strict";var h=e.ValueColor;var u=i.extend("sap.suite.ui.microchart.HarveyBallMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{total:{group:"Misc",type:"float",defaultValue:null},totalLabel:{group:"Misc",type:"string"},totalScale:{group:"Misc",type:"string"},formattedLabel:{group:"Misc",type:"boolean",defaultValue:false},showTotal:{group:"Misc",type:"boolean",defaultValue:true},showFractions:{group:"Misc",type:"boolean",defaultValue:true},size:{group:"Misc",type:"sap.m.Size",defaultValue:"Auto"},colorPalette:{type:"string[]",group:"Appearance",defaultValue:[]},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{type:"sap.ui.core.CSSSize",group:"Misc"},alignContent:{group:"Misc",type:"sap.suite.ui.microchart.HorizontalAlignmentType",defaultValue:"Left"},isResponsive:{type:"boolean",group:"Appearance",defaultValue:false},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"items",aggregations:{items:{multiple:true,type:"sap.suite.ui.microchart.HarveyBallMicroChartItem",bindable:"bindable"}},events:{press:{}}},renderer:n});u.VALUE_TRUNCATION_DIGITS=5;u.THRESHOLD_LOOK_XS=1.125;u.THRESHOLD_LOOK_S=3.5;u.THRESHOLD_LOOK_M=4.5;u.THRESHOLD_LOOK_L=5.875;u.prototype._getAltHeaderText=function(t){var e=this._oRb.getText("HARVEYBALLMICROCHART");if(t){e+=" "+this._oRb.getText("IS_ACTIVE")}if(!this._hasData()){e+="\n"+this._oRb.getText("NO_DATA");return e}return e};u.prototype._getAltSubText=function(t){var e="";var i=this.getItems();i.forEach(function(i){var r=i.getColor(),a=i.getTooltip_AsString(),s="";if(!a){return}var o=this.getColorPalette().length===0&&h[r]?this._oRb.getText(("SEMANTIC_COLOR_"+r).toUpperCase()):"";var n=i.getFractionLabel();var l=i.getFractionScale();if(!n&&l){n=i.getFormattedLabel()?i.getFraction():i.getFraction()+i.getFractionScale().substring(0,3)}else if(!i.getFormattedLabel()&&i.getFractionLabel()&&l){n+=i.getFractionScale().substring(0,3)}s+=n+" "+o;s=a.split("((AltText))").join(s);if(s){e+="\n"+s;t=false}}.bind(this));if(this.getTotal()){var r=this.getTotalLabel();if(!r){if(this.getFormattedLabel()&&this.getTotal()){r=this.getTotal()}else if(this.getTotalScale()&&this.getTotal()){r=this.getTotal()+this.getTotalScale().substring(0,3)}}else if(!this.getFormattedLabel()&&this.getTotalScale()){r+=this.getTotalScale().substring(0,3)}e+=(t?"":"\n")+this._oRb.getText("HARVEYBALLMICROCHART_TOTAL_TOOLTIP")+" "+r}return e};u.prototype.getTooltip_AsString=function(t){var e=i.prototype.getTooltip_AsString.apply(this,arguments),r=this._getAltHeaderText(t),a=false;if(e){r=e.split("((AltText))").join(r)}if(!e||!r){r="";a=true}r+=this._getAltSubText(a);return r};u.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_HARVEYBALLMICROCHART")};u.prototype.init=function(){this._oRb=l.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);r.media.attachHandler(this.rerender,this,r.media.RANGESETS.SAP_STANDARD);this._sChartResizeHandlerId=null;this._bThemeApplied=false;l.ready(this._handleCoreInitialized.bind(this))};u.prototype.setSize=function(t){if(this.getSize()!==t){this.setProperty("size",t,false)}return this};u.prototype._handleCoreInitialized=function(){p.attachApplied(this._handleThemeApplied.bind(this))};u.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();p.detachApplied(this._handleThemeApplied.bind(this))};u.prototype.onBeforeRendering=function(){if(this._sChartResizeHandlerId){o.deregister(this._sChartResizeHandlerId)}this._unbindMouseEnterLeaveHandler()};u.prototype.onAfterRendering=function(){t._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler()};u.prototype._onControlIsVisible=function(){this._onResize();this._sChartResizeHandlerId=o.register(this,this._onResize.bind(this))};u.prototype._onResize=function(){var t=this.$(),e=t.height(),i=t.find(".sapSuiteHBMCChart").first(),r=t.find(".sapSuiteHBMCTextContainer").first(),a,s;t.removeClass("sapSuiteHBMCLookL sapSuiteHBMCLookM sapSuiteHBMCLookS sapSuiteHBMCLookXS");r.removeClass("sapSuiteHBMCTextContainerHide");i.css("width",i.css("height"));var o=t.find(".sapSuiteHBMCChartSvg")[0];if(o){o.setAttribute("viewBox","0 0 72 72")}if(e<this.convertRemToPixels(u.THRESHOLD_LOOK_S)){t.addClass("sapSuiteHBMCLookXS");if(o){o.setAttribute("viewBox","5 5 62 62")}}else if(e<this.convertRemToPixels(u.THRESHOLD_LOOK_M)){t.addClass("sapSuiteHBMCLookS")}else if(e<this.convertRemToPixels(u.THRESHOLD_LOOK_L)){t.addClass("sapSuiteHBMCLookM")}else{t.addClass("sapSuiteHBMCLookL")}a=t.width();s=i.width()+r.outerWidth();if(a<s){r.addClass("sapSuiteHBMCTextContainerHide")}};u.prototype._parseFormattedValue=function(t){return{scale:t.replace(/.*?([^+-.,\d]*)$/g,"$1").trim(),value:t.replace(/(.*?)[^+-.,\d]*$/g,"$1").trim()}};u.prototype.ontap=function(t){if(this.hasListeners("press")===true){t.setMarked();t.stopPropagation()}this.firePress()};u.prototype.onkeydown=function(t){if(t.which==a.SPACE){t.preventDefault()}};u.prototype.onkeyup=function(t){if(t.which===a.ENTER||t.which===a.SPACE){this.firePress();t.preventDefault()}};u.prototype.attachEvent=function(t,e,r,a){i.prototype.attachEvent.call(this,t,e,r,a);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};u.prototype.detachEvent=function(t,e,r){i.prototype.detachEvent.call(this,t,e,r);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};u.prototype.exit=function(t){r.media.detachHandler(this.rerender,this,r.media.RANGESETS.SAP_STANDARD);o.deregister(this._sChartResizeHandlerId)};u.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};u.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};u.prototype._bindMouseEnterLeaveHandler=function(){this.$().on("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().on("mouseleave.tooltip",this._removeTitleAttribute.bind(this))};u.prototype._unbindMouseEnterLeaveHandler=function(){this.$().off("mouseenter.tooltip");this.$().off("mouseleave.tooltip")};u._truncateValue=function(t,e){var i=t.replace(String.fromCharCode(8206),"").replace(String.fromCharCode(8207),"");var r=i.replace(/[+-., \d]*(.*)$/g,"$1").trim().replace(/\.$/,"");t=i.replace(/([+-., \d]*).*$/g,"$1").trim();var a=t[e-1]==="."||t[e-1]===",";if(t.length>=e&&a){return t.substring(0,e-1)+r}else{return t.substring(0,e)+r}};u.prototype._hasData=function(){return this.getItems().length>0};u.prototype.firePress=function(){if(this._hasData()){i.prototype.fireEvent.call(this,"press",arguments)}};s.extendMicroChart(u);return u});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/HarveyBallMicroChartItem", ["./library","sap/ui/core/Element"],function(t,e){"use strict";var a=e.extend("sap.suite.ui.microchart.HarveyBallMicroChartItem",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{group:"Misc",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},fraction:{group:"Misc",type:"float",defaultValue:0},fractionLabel:{group:"Misc",type:"string"},fractionScale:{group:"Misc",type:"string"},formattedLabel:{group:"Misc",type:"boolean",defaultValue:false}}}});a.prototype.init=function(){this.setAggregation("tooltip","((AltText))",true)};return a});
/*!
* SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
*/
sap.ui.predefine("sap/suite/ui/microchart/HarveyBallMicroChartRenderer", ["sap/m/library","./library","sap/base/security/encodeXML","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters"],function(e,t,a,r,i){"use strict";var s=e.ValueColor;var l=e.ValueCSSColor;var n;var o={apiVersion:2};o._iReferenceControlSize=72;o._iReferenceControlCenter=o._iReferenceControlSize/2;o.render=function(e,t){n=n||sap.ui.require("sap/suite/ui/microchart/HarveyBallMicroChart");if(!t._hasData()){this._renderNoData(e,t);return}if(!t._bThemeApplied){return}this._calculatePath(t);var r=t.getColorPalette();var o="";var c="";var h="";var u=false;var g=0;var p="";var d=function(e){if(s[e]){p="sapSuiteHBMCSemanticColor"+a(e)}else if(l.isValid(e)){return i.get(e)||e}return null};var v=r.length>0?d(r[0]):null;var S=this._oPath.center;if(t._isThemeHighContrast()){S-=1}if(t.getItems().length){var C=t.getItems()[0];g=C.getFraction();c=C.getFractionLabel()?C.getFractionLabel():c+C.getFraction();h=C.getFractionScale()?C.getFractionScale().substring(0,3):h;u=C.getFormattedLabel();if(!v&&!p){v=d(C.getColor())}}if(u){var f=t._parseFormattedValue(c);h=f.scale.substring(0,3);c=f.value}var _=t.getTotal();var M=t.getTotalLabel()?t.getTotalLabel():""+t.getTotal();if(t.getTotalScale()){o=t.getTotalScale().substring(0,3)}if(t.getFormattedLabel()){var b=t._parseFormattedValue(M);o=b.scale.substring(0,3);M=b.value}if(c){c=n._truncateValue(c,n.VALUE_TRUNCATION_DIGITS)}if(M){M=n._truncateValue(M,n.VALUE_TRUNCATION_DIGITS)}e.openStart("div",t);this._writeMainProperties(e,t);e.openEnd();e.openStart("div");e.class("sapSuiteHBMCAlign"+t.getAlignContent());e.class("sapSuiteHBMCVerticalAlignmentContainer");e.openEnd();e.openStart("div");e.class("sapSuiteHBMCChart");e.openEnd();e.openStart("svg",t.getId()+"-harvey-ball");e.class("sapSuiteHBMCChartSvg");e.attr("viewBox","0 0 72 72");e.attr("focusable",false);e.openEnd();e.openStart("g").openEnd();e.openStart("circle");e.attr("cx",this._oPath.center);e.attr("cy",this._oPath.center);e.attr("r",S);e.class("sapSuiteHBMCBackgroundCircle");e.openEnd();e.close("circle");if(g&&g>=_){e.openStart("circle");e.attr("cx",this._oPath.center);e.attr("cy",this._oPath.center);e.attr("r",S-this._oPath.border);e.class("sapSuiteHBMCSegment");if(v){e.style("fill",v)}else{e.class(p)}e.openEnd();e.close("circle")}else if(g>0){e.openStart("path",t.getId()+"-segment");e.class("sapSuiteHBMCSegment");if(v){e.style("fill",v)}else{e.class(p)}e.attr("d",this._serializePieChart());e.openEnd();e.close("path")}e.close("g");e.close("svg");e.close("div");e.openStart("div");e.class("sapSuiteHBMCTextContainer");e.openEnd();if(t.getShowFractions()){e.openStart("div");e.class("sapSuiteHBMCValueContainer");e.openEnd();this.renderLabel(e,t,[p,"sapSuiteHBMCValue"],c,v,"-fraction");this.renderLabel(e,t,[p,"sapSuiteHBMCValueScale"],h,v,"-fraction-scale");e.close("div")}if(t.getShowTotal()){e.openStart("div");e.class("sapSuiteHBMCTotalContainer");e.openEnd();this.renderLabel(e,t,[p,"sapSuiteHBMCTotal"],M,v,"-total");this.renderLabel(e,t,[p,"sapSuiteHBMCTotalScale"],o,v,"-total-scale");e.close("div")}e.close("div");e.close("div");e.close("div")};o._writeMainProperties=function(e,t){var a=t.hasListeners("press");this._renderActiveProperties(e,t);var r=t.getTooltip_AsString(a);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",r)}e.class("sapSuiteHBMC");e.class("sapSuiteHBMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};o.renderLabel=function(e,t,a,r,i,s){var l=!(a.indexOf("sapSuiteHBMCTotal")>-1||a.indexOf("sapSuiteHBMCTotalScale")>-1);e.openStart("span",t.getId()+s);for(var n=0;n<a.length;n++){if(!(n===0&&i&&l)){e.class(a[n])}}e.openEnd();if(r){e.text(r)}e.close("span")};o._calculatePath=function(e){var t=e.getTotal();var a=0;if(e.getItems().length){a=e.getItems()[0].getFraction()}var r=o._iReferenceControlCenter;var i=5;this._oPath={initial:{x:r,y:r},lineTo:{x:r,y:i},arc:{x1:r-i,y1:r-i,largeArc:0,x2:"",y2:""},size:o._iReferenceControlSize,border:i,center:r};var s=a/t*360;var l=Math.PI/180;var n=this._oPath.center-this._oPath.border;var c=n*Math.cos((s-90)*l)+this._oPath.center;var h=this._oPath.size-(n*Math.sin((s+90)*l)+this._oPath.center);this._oPath.arc.x2=c.toFixed(2);this._oPath.arc.y2=h.toFixed(2);var u=t/a<2?1:0;this._oPath.arc.largeArc=u};o._serializePieChart=function(){var e=this._oPath;return["M",e.initial.x,",",e.initial.y," L",e.initial.x,",",e.lineTo.y," A",e.arc.x1,",",e.arc.y1," 0 ",e.arc.largeArc,",1 ",e.arc.x2,",",e.arc.y2," L",e.initial.x,",",e.initial.y," z"].join("")};r.extendMicroChartRenderer(o);return o},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveBarChart", ["sap/ui/thirdparty/jquery","./library","sap/m/library","sap/ui/core/Control","sap/m/FlexBox","sap/ui/core/ResizeHandler","sap/base/Log","sap/m/IllustratedMessage","./InteractiveBarChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(jQuery,t,e,i,a,s,r,n,l,o,h){"use strict";var p=i.extend("sap.suite.ui.microchart.InteractiveBarChart",{metadata:{library:"sap.suite.ui.microchart",properties:{displayedBars:{type:"int",group:"Appearance",defaultValue:3},labelWidth:{type:"sap.ui.core.Percentage",group:"Appearance",defaultValue:"40%"},selectionEnabled:{type:"boolean",group:"Behavior",defaultValue:true},min:{type:"float",group:"Appearance"},max:{type:"float",group:"Appearance"},showError:{type:"boolean",group:"Appearance",defaultValue:false},errorMessageTitle:{type:"string",group:"Appearance"},errorMessage:{type:"string",group:"Appearance"}},defaultAggregation:"bars",aggregations:{bars:{type:"sap.suite.ui.microchart.InteractiveBarChartBar",multiple:true,bindable:"bindable"}},events:{selectionChanged:{parameters:{selectedBars:{type:"sap.suite.ui.microchart.InteractiveBarChartBar[]"},bar:{type:"sap.suite.ui.microchart.InteractiveBarChartBar"},selected:{type:"boolean"}}},press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:l});p.MIN_BAR_WIDTH_IN_PX=1;p.BAR_VALUE_PADDING_LEFT_IN_PX=4;p.BAR_VALUE_PADDING_RIGHT_IN_PX=4;p.SELECTION_AREA_BORDER_IN_PX=1;p.DIVIDER_WIDTH_IN_PX=1;p.AREA_HEIGHT_MINVALUE=18;p.BAR_HEIGHT_FONT_SMALLER=22;p.BAR_HEIGHT_MINVALUE=6;p.BAR_HEIGHT_LABEL_HIDE=16;p.CHART_WIDTH_FONT_SMALLER=288;p.LABEL_WIDTH_MINVALUE=80;p.CHART_WIDTH_MINVALUE=130;p.AREA_HEIGHT_INTERACTIVE_MINVALUE=48;p.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT=32;p.AREA_HEIGHT_PADDING_STAGE1=34;p.AREA_HEIGHT_PADDING_STAGE1_COMPACT=32;p.AREA_HEIGHT_PADDING_STAGE2=28;p.AREA_HEIGHT_PADDING_STAGE2_COMPACT=31;p.prototype.init=function(){this._iVisibleBars=0;this._bInteractiveMode=true;this._bMinMaxValid=null;this._fDividerPositionRight=0;this._oRb=o.getLibraryResourceBundle("sap.suite.ui.microchart");this._fMin=null;this._fMax=null;this._bThemeApplied=false;this._oIllustratedMessageControl=new n({illustrationSize:e.IllustratedMessageSize.Base,illustrationType:e.IllustratedMessageType.NoData});o.ready(this._handleCoreInitialized.bind(this))};p.prototype._handleCoreInitialized=function(){h.attachApplied(this._handleThemeApplied.bind(this))};p.prototype.onBeforeRendering=function(){this._bCompact=this._isCompact();this._bInteractiveMode=true;this._setResponsivenessData();this._setInternalMinMax();this._errorMessage=this.getErrorMessage();this._errorMessageTitle=this.getErrorMessageTitle();this._oIllustratedMessageControl.setTitle(this._errorMessageTitle);this._oIllustratedMessageControl.setDescription(this._errorMessage);this._bMinMaxValid=this._checkIfMinMaxValid();if(this.getAggregation("bars")&&this.getDisplayedBars()){this._iVisibleBars=Math.min(this.getAggregation("bars").length,this.getDisplayedBars())}if(!this.data("_parentRenderingContext")&&typeof this.getParent==="function"){this.data("_parentRenderingContext",this.getParent())}this._deregisterResizeHandler();this._updateUseSemanticTooltip()};p.prototype.onAfterRendering=function(){this._adjustToParent();t._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler()};p.prototype._updateUseSemanticTooltip=function(){var t=this.getBars();this._bUseSemanticTooltip=false;for(var i=0;i<this._iVisibleBars;i++){if(t[i].getColor()!==e.ValueColor.Neutral){this._bUseSemanticTooltip=true;return}}};p.prototype._onControlIsVisible=function(){this._sResizeHandlerId=s.register(this,this._onResize.bind(this));this._calcBarsWidth();this._onResize();if(this.$().length>0){var t=this._isCompact();if(t!==this._bCompact){this._bCompact=t;this.invalidate()}}};p.prototype.exit=function(){this._deregisterResizeHandler();this._oIllustratedMessageControl.destroy()};p.prototype.onclick=function(t){if(!this.getSelectionEnabled()){return}if(this._bInteractiveMode){var e=jQuery(t.target).attr("id")||jQuery(t.target).parents(".sapSuiteIBCBarInteractionArea").attr("id"),i=this.$().find(".sapSuiteIBCBarInteractionArea"),a,s;if(e){a=e.substring(e.lastIndexOf("-")+1);if(isNaN(a)){return}else{a=parseInt(a)}this._toggleSelected(a);s=i.index(this.$().find(".sapSuiteIBCBarInteractionArea[tabindex='0']"));this._switchTabindex(s,a,i)}}else{this.firePress()}};p.prototype.onsapenter=function(t){if(this._bInteractiveMode){var e=this.$().find(".sapSuiteIBCBarInteractionArea").index(t.target);if(e!==-1){this._toggleSelected(e)}t.preventDefault();t.stopImmediatePropagation()}else{this.firePress()}};p.prototype.onsapspace=p.prototype.onsapenter;p.prototype.onsapup=function(t){var e=this.$().find(".sapSuiteIBCBarInteractionArea");var i=e.index(t.target);if(e.length>0){this._switchTabindex(i,i-1,e)}t.preventDefault();t.stopImmediatePropagation()};p.prototype.onsapdown=function(t){var e=this.$().find(".sapSuiteIBCBarInteractionArea");var i=e.index(t.target);if(e.length>0){this._switchTabindex(i,i+1,e)}t.preventDefault();t.stopImmediatePropagation()};p.prototype.onsaphome=function(t){var e=this.$().find(".sapSuiteIBCBarInteractionArea");var i=e.index(t.target);if(i!==0&&e.length>0){this._switchTabindex(i,0,e)}t.preventDefault();t.stopImmediatePropagation()};p.prototype.onsapend=function(t){var e=this.$().find(".sapSuiteIBCBarInteractionArea"),i=e.index(t.target),a=e.length;if(i!==a-1&&a>0){this._switchTabindex(i,a-1,e)}t.preventDefault();t.stopImmediatePropagation()};p.prototype.onsapleft=p.prototype.onsapup;p.prototype.onsapright=p.prototype.onsapdown;p.prototype.getSelectedBars=function(){var t=this.getAggregation("bars"),e=[],i;for(i=0;i<t.length;i++){if(t[i].getSelected()){e.push(t[i])}}return e};p.prototype.setSelectedBars=function(e){var i=this.getAggregation("bars"),a,s;this._deselectAllSelectedBars();if(!e){return this}if(e instanceof t.InteractiveBarChartBar){e=[e]}if(Array.isArray(e)){for(a=0;a<e.length;a++){s=this.indexOfAggregation("bars",e[a]);if(s>=0){i[s].setProperty("selected",true,true)}else{r.warning("setSelectedBars method called with invalid InteractiveBarChartBar element")}}}this.invalidate();return this};p.prototype.getTooltip_AsString=function(e){if(this._isChartEnabled()){i=this._createTooltipText(e,true);if(!i&&t._isTooltipSuppressed(i)){i=null}}else{var i=this.getTooltip_Text();if(!i){i=this._createTooltipText()}else if(t._isTooltipSuppressed(i)){i=null}}return i};p.prototype._isCompact=function(){return jQuery("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0};p.prototype._setResponsivenessData=function(){if(this._bCompact){this._iAreaHeightInteractiveMinValue=p.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT;this._iAreaHeightPaddingStage1=p.AREA_HEIGHT_PADDING_STAGE1_COMPACT;this._iAreaHeightPaddingStage2=p.AREA_HEIGHT_PADDING_STAGE2_COMPACT}else{this._iAreaHeightInteractiveMinValue=p.AREA_HEIGHT_INTERACTIVE_MINVALUE;this._iAreaHeightPaddingStage1=p.AREA_HEIGHT_PADDING_STAGE1;this._iAreaHeightPaddingStage2=p.AREA_HEIGHT_PADDING_STAGE2}};p.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this._bCompact=this._isCompact()};p.prototype._adjustToParent=function(){var t=this.$();if(this.data("_parentRenderingContext")&&this.data("_parentRenderingContext")instanceof a){var e=this.data("_parentRenderingContext").$();var i=e.width()-2;var s=e.height()-2;t.outerWidth(i);t.outerHeight(s)}};p.prototype._calcBarsWidth=function(){var t=this.$(),e=t.find(".sapSuiteIBCBarLabel"),i=p.DIVIDER_WIDTH_IN_PX,a=parseFloat(this.getLabelWidth()),s,r,n,l,h,d,_,u,c,f,g=o.getConfiguration().getRTL();if(!this._bMinMaxValid){return this}if(this._bFullWidth){a=100;s=100}else{s=100-a}r=Math.abs(this._fMax-this._fMin);if(this._fMin>=0&&this._fMax>=0){n=0;l=1}else if(this._fMin<0&&this._fMax<0){n=1;l=0}else{n=Math.abs(this._fMin/r);l=Math.abs(this._fMax/r)}if(this._bFullWidth){if(l>=n){h=l*100;d=n*100}else{h=n*100;d=0}e.css("width",h+"%");e.css(g?"right":"left",d+"%")}else{e.css("width",a+"%");e.css(g?"right":"left","")}t.find(".sapSuiteIBCBarWrapper").css("width",s+"%");if(n>0){t.find(".sapSuiteIBCBarWrapperNegative").width("calc("+n*100+"% - "+i+"px)")}else{t.find(".sapSuiteIBCBarWrapperNegative").width("0%")}if(l>0){t.find(".sapSuiteIBCBarWrapperPositive").width("calc("+l*100+"% - "+i+"px)")}else{t.find(".sapSuiteIBCBarWrapperPositive").width("0%")}for(var I=0;I<this._iVisibleBars;I++){_=this.getBars()[I].getValue();c=this.$("bar-negative-"+I);f=this.$("bar-positive-"+I);if(this.getBars()[I]._bNullValue||_===0){f.add(c).css("min-width",0)}else if(!this.getBars()[I]._bNullValue){if(_>0){u=Math.min(Math.max(_,this._fMin),this._fMax);f.css({width:this._calcPercent(u,r,Math.max(0,this._fMin),l),"min-width":1});c.css("min-width",0)}else{u=Math.max(Math.min(_,this._fMax),this._fMin);c.css({width:this._calcPercent(u,r,Math.min(0,this._fMax),n),"min-width":1});f.css("min-width",0)}}}};p.prototype._calcPercent=function(t,e,i,a){return Math.abs((t-i)/(e*a)*100).toFixed(5)+"%"};p.prototype._deselectAllSelectedBars=function(){var t=this.getAggregation("bars"),e=t.length,i;for(i=0;i<e;i++){t[i].setProperty("selected",false,true)}};p.prototype._toggleSelected=function(t){var e=this.getAggregation("bars"),i=e[t];if(t<0||t>=e.length){return}var a=this.$("interactionArea-"+t);if(i.getSelected()){a.removeClass("sapSuiteIBCBarSelected");i.setProperty("selected",false,true)}else{a.addClass("sapSuiteIBCBarSelected");i.setProperty("selected",true,true)}a.attr("aria-selected",i.getSelected());this.fireSelectionChanged({selectedBars:this.getSelectedBars(),bar:i,selected:i.getSelected()})};p.prototype._showValueOutsideBar=function(){var t=this.$(),e,i,a,s,r,n,l,h,d=this.$("bar-positive-0").parent().width(),_=this.$("bar-negative-0").parent().width(),u=o.getConfiguration().getRTL();e=t.find(".sapSuiteIBCBarValue");if(e.length===0){return}for(var c=0;c<this._iVisibleBars;c++){s=this.getBars()[c].getValue();a=e.eq(c).width()+p.BAR_VALUE_PADDING_LEFT_IN_PX+p.BAR_VALUE_PADDING_RIGHT_IN_PX;r=this.$("bar-positive-"+c).width();n=this.$("bar-negative-"+c).width();l=d-r;h=_-n;if(s>0||(this.getBars()[c]._bNullValue||s===0)&&this._fMin+this._fMax>=0){if(a>r&&a>l){e.eq(c).css("visibility","hidden")}else{e.eq(c).css("visibility","inherit")}if(a>r){i=this.$("bar-positive-"+c).width()+p.BAR_VALUE_PADDING_LEFT_IN_PX+"px";e.eq(c).addClass("sapSuiteIBCBarValueOutside")}else{i="";e.eq(c).removeClass("sapSuiteIBCBarValueOutside")}if(u){e.eq(c).css({right:i})}else{e.eq(c).css({left:i})}}else{if(a>n&&a>h){e.eq(c).css("visibility","hidden")}else{e.eq(c).css("visibility","inherit")}if(a>n){i=this.$("bar-negative-"+c).width()+p.BAR_VALUE_PADDING_RIGHT_IN_PX+"px";e.eq(c).addClass("sapSuiteIBCBarValueOutside")}else{i="";e.eq(c).removeClass("sapSuiteIBCBarValueOutside")}if(u){e.eq(c).css({left:i})}else{e.eq(c).css({right:i})}}}};p.prototype._checkIfMinMaxValid=function(){if(this._fMin>this._fMax){r.warning("Min value for InteractiveBarChart is larger than Max value.");return false}return true};p.prototype._setInternalMinMax=function(){var t=null,e=null,i,a=this.getBars(),s=Math.min(this.getDisplayedBars(),a.length);for(var r=0;r<s;r++){if(!a[r]._bNullValue){i=a[r].getValue();t=Math.min(t,i);e=Math.max(e,i)}}this._fMin=this.getMin();this._fMax=this.getMax();if(!jQuery.isNumeric(this._fMin)||!jQuery.isNumeric(this._fMax)){if(t>=0&&e>=0){if(!jQuery.isNumeric(this._fMin)){this._fMin=0}if(!jQuery.isNumeric(this._fMax)){this._fMax=e}}else if(t<0&&e<0){if(!jQuery.isNumeric(this._fMin)){this._fMin=t}if(!jQuery.isNumeric(this._fMax)){this._fMax=0}}else{if(!jQuery.isNumeric(this._fMin)){this._fMin=t}if(!jQuery.isNumeric(this._fMax)){this._fMax=e}}}};p.prototype.validateProperty=function(t,e){if(t==="labelWidth"&&(e!==null||e!==undefined)){var a=parseFloat(e);if(a<0||a>100){r.warning("LabelWidth for InteractiveBarChart is not between 0 and 100.");e=null}}return i.prototype.validateProperty.apply(this,[t,e])};p.prototype._switchTabindex=function(t,e,i){if(t>=0&&t<i.length&&e>=0&&e<i.length){i.eq(t).removeAttr("tabindex");i.eq(e).attr("tabindex","0");i.eq(e).trigger("focus")}};p.prototype._isChartEnabled=function(){return this.getSelectionEnabled()&&this._bInteractiveMode};p.prototype._resizeVertically=function(t){var e,i,a,s=this.$(),r=false,n=s.find(".sapSuiteIBCBarInteractionArea"),l=s.height(),o=0,h=this._iVisibleBars;if(this._bInteractiveMode){o=1}i=parseInt(n.css("margin-bottom"))+parseInt(n.css("margin-top"));const d=Number.parseFloat(n.css("border-bottom-width"));e=(l-(i+2*d)*h)/h;if(e+o<this._iAreaHeightInteractiveMinValue){if(this._bInteractiveMode){this._bInteractiveMode=false;r=true;s.addClass("sapSuiteIBCNonInteractive");if(this.getSelectionEnabled()){var _=this.$().find(".sapSuiteIBCBarInteractionArea[tabindex='0']");this._iActiveElement=n.index(_);_.removeAttr("tabindex");this.$().attr("tabindex","0")}this.$().attr({role:"button","aria-multiselectable":"false","aria-disabled":!this._isChartEnabled()})}}else if(!this._bInteractiveMode){this._bInteractiveMode=true;r=true;s.removeClass("sapSuiteIBCNonInteractive");if(this.getSelectionEnabled()){this.$().removeAttr("tabindex");if(!this._iActiveElement||this._iActiveElement<0){this._iActiveElement=0}n.eq(this._iActiveElement).attr("tabindex","0")}this.$().attr({role:"listbox","aria-multiselectable":"true","aria-disabled":!this._isChartEnabled()})}if(r){if(this._isChartEnabled()){s.removeAttr("title");this._addInteractionAreaTooltip(n)}else{n.removeAttr("title");s.attr("title",this.getTooltip_AsString())}}n.height(e);if(e<=this._iAreaHeightPaddingStage2){s.addClass("sapSuiteIBCStage2")}else{s.removeClass("sapSuiteIBCStage2");if(e<=this._iAreaHeightPaddingStage1){s.addClass("sapSuiteIBCStage1")}else{s.removeClass("sapSuiteIBCStage1")}}var u=this.$().find(".sapSuiteIBCBar");if(u.length>0&&u[0].getBoundingClientRect()){a=u[0].getBoundingClientRect().height}if(a<=p.BAR_HEIGHT_FONT_SMALLER){s.addClass("sapSuiteIBCSmallFont")}if(a<=p.BAR_HEIGHT_LABEL_HIDE){s.find(".sapSuiteIBCBarValue").css("visibility","hidden");t.labelsVisible=false}else{s.find(".sapSuiteIBCBarValue").css("visibility","inherit")}if(e<p.AREA_HEIGHT_MINVALUE){s.css("visibility","hidden");t.labelsVisible=false;t.chartVisible=false}};p.prototype._resizeHorizontally=function(t){if(!t.chartVisible){return}var e=this.$(),i=e.find(".sapSuiteIBCBarInteractionArea"),a=e.find(".sapSuiteIBCBarLabel"),s=parseFloat(this.getLabelWidth())/100*i.eq(0).width(),r=0,n=e.width(),l,o=false;if(n<p.CHART_WIDTH_FONT_SMALLER){e.addClass("sapSuiteIBCSmallFont");s=parseFloat(this.getLabelWidth())/100*i.eq(0).width()}if(this._bFullWidth){r=6}for(var h=0;h<a.length;h++){a.eq(h).css("width",s+"px");if(a.eq(h).children(".sapSuiteIBCBarLabelText").prop("clientWidth")<a.eq(h).children(".sapSuiteIBCBarLabelText").prop("scrollWidth")-r){o=true}a.eq(h).css("width","100%")}if(s<p.LABEL_WIDTH_MINVALUE&&o){e.addClass("sapSuiteIBCFullWidth");this._bFullWidth=true;this._calcBarsWidth()}else{e.removeClass("sapSuiteIBCFullWidth");this._bFullWidth=false;this._calcBarsWidth()}var d=this.$().find(".sapSuiteIBCBar");if(d.length>0&&d[0].getBoundingClientRect()){l=d[0].getBoundingClientRect().height}if(n<p.CHART_WIDTH_MINVALUE||l<p.BAR_HEIGHT_MINVALUE){e.css("visibility","hidden");t.labelsVisible=false;t.chartVisible=false}else if(l<=p.BAR_HEIGHT_LABEL_HIDE){e.find(".sapSuiteIBCBarValue").css("visibility","hidden");t.labelsVisible=false}};p.prototype._onResize=function(){var t=this.$(),e={chartVisible:true,labelsVisible:true};t.css("visibility","visible");t.removeClass("sapSuiteIBCSmallFont");this._resizeVertically(e);this._resizeHorizontally(e);if(e.labelsVisible){this._showValueOutsideBar()}};p.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){s.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};p.prototype._addInteractionAreaTooltip=function(t){var e=this.getBars(),i,a;t.each(function(t,s){i=jQuery(s);a=parseInt(i.attr("data-sap-ui-ibc-selection-index"));i.attr("title",e[a].getTooltip_AsString())})};p.prototype._createTooltipText=function(t,e){var i=true,a=this.getBars(),s,r="";for(var n=0;n<this._iVisibleBars;n++){if(e){if(t&&t-1===n){s=a[n].getTooltip_AsString();if(s){r+=(i?"":"\n")+s;i=false;break}}}else{s=a[n]._getBarTooltip(this._bUseSemanticTooltip);if(s){r+=(i?"":"\n")+s;i=false}}}return r};p.prototype._bindMouseEnterLeaveHandler=function(){this.$().find(".sapSuiteIBCBarInteractionArea").on("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().find(".sapSuiteIBCBarInteractionArea").on("mouseleave.tooltip",this._removeTitleAttribute.bind(this))};p.prototype._addTitleAttribute=function(t){if(this._isChartEnabled()&&this._hasData()){var e=this.getDomRef().querySelectorAll(".sapSuiteIBCBarInteractionArea");var i=t.target.getAttribute("aria-posinset");if(i&&e[parseInt(i)-1]&&!e[parseInt(i)-1].getAttribute("title")){e[parseInt(i)-1].setAttribute("title",this.getTooltip_AsString(parseInt(i)))}else{var a=t.target;var s=a.closest(".sapSuiteIBCBarInteractionArea");if(s&&!s.getAttribute("title")){s.setAttribute("title",this.getTooltip_AsString(parseInt(s.getAttribute("aria-posinset"))))}}}};p.prototype._removeTitleAttribute=function(t){var e=t.target.getAttribute("aria-posinset");var i=this.getDomRef().querySelectorAll(".sapSuiteIBCBarInteractionArea");if(e&&i[parseInt(e)-1]&&i[parseInt(e)-1].getAttribute("title")){i[parseInt(e)-1].removeAttribute("title")}else{var a=t.target;var s=a.closest(".sapSuiteIBCBarInteractionArea");if(s&&s.getAttribute("title")){s.removeAttribute("title")}}};p.prototype._hasData=function(){return this.getBars().length>0};return p});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveBarChartBar", ["./library","sap/ui/core/Element","sap/ui/core/Lib"],function(t,e,i){"use strict";var l=e.extend("sap.suite.ui.microchart.InteractiveBarChartBar",{metadata:{library:"sap.suite.ui.microchart",properties:{label:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},displayedValue:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"},value:{type:"float",group:"Data"}}}});l.prototype.init=function(){this._bNullValue=true;this._oRb=i.getResourceBundleFor("sap.suite.ui.microchart")};l.prototype.validateProperty=function(t,i){if(t==="value"&&(i===null||i===undefined||isNaN(i))){this._bNullValue=true}else if(t==="value"){this._bNullValue=false}return e.prototype.validateProperty.apply(this,arguments)};l.prototype.getTooltip_AsString=function(){var e=this.getTooltip_Text();this._bCustomTooltip=true;if(!e){e=this._createTooltipText();this._bCustomTooltip=false}else if(t._isTooltipSuppressed(e)){e=null}return e};l.prototype._createTooltipText=function(){var t="",e=this.getLabel(),i=this.getParent()&&this.getParent()._bUseSemanticTooltip,l,o;if(e&&e.length>0){t=e+":\n"}if(this._bNullValue){t+=this._oRb.getText("INTERACTIVECHART_NA")}else{t+=this.getValue()}if(i){l=this.getColor();o=this._oRb.getText(("SEMANTIC_COLOR_"+l).toUpperCase());t+=" "+o}return t};l.prototype._getBarTooltip=function(){var t=this.getTooltip_AsString();if(t&&!this._bCustomTooltip){t=t.replace("\n"," ")}return t};return l});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveBarChartRenderer", ["sap/m/library"],function(e){"use strict";var a={apiVersion:2};a.BAR_DIRECTION_POSITIVE={NAME:"positive",WRAPPER_CSSCLASS:"sapSuiteIBCBarWrapperPositive",CSSCLASS:"sapSuiteIBCBarPositive"};a.BAR_DIRECTION_NEGATIVE={NAME:"negative",WRAPPER_CSSCLASS:"sapSuiteIBCBarWrapperNegative",CSSCLASS:"sapSuiteIBCBarNegative"};a.render=function(e,a){if(!a._bThemeApplied){return}if(a.getShowError()){e.openStart("div",a);e.class("sapSuiteUiMicroChartNoData");e.openEnd();e.renderControl(a._oIllustratedMessageControl);e.close("div");return}var t=a.getBars(),i=Math.min(a.getDisplayedBars(),t.length);e.openStart("div",a);e.class("sapSuiteIBC");if(!a._isChartEnabled()){var s=a.getTooltip_AsString();if(typeof s==="string"||s instanceof String){e.attr("title",s)}}var r={};r.role="listbox";r.roledescription=a._oRb.getText("INTERACTIVEBARCHART");r.multiselectable=true;r.disabled=!a._isChartEnabled();r.labelledby=a.getAriaLabelledBy();e.accessibilityState(a,r);e.openEnd();if(!a.getSelectionEnabled()){this.renderDisabledOverlay(e,a)}for(var l=0;l<i;l++){this._renderBar(e,a,t[l],l,i)}e.close("div")};a._renderBar=function(t,i,s,r,l){var n,o,d,p,S,u;t.openStart("div",i.getId()+"-interactionArea-"+r);t.attr("data-sap-ui-ibc-selection-index",r);t.class("sapSuiteIBCBarInteractionArea");if(s.getSelected()){t.class("sapSuiteIBCBarSelected")}if(r===0&&i._isChartEnabled()){t.attr("tabindex","0")}o=s.getLabel();p=o;if(i._bMinMaxValid){n=this._getDisplayValue(s,i);d=s.getTooltip_Text();if(d&&d.trim()){p=d}else{if(p){p=p+" "+n}else{p=n}if(i._bUseSemanticTooltip){S=s.getColor();u=i._oRb.getText("SEMANTIC_COLOR_"+S.toUpperCase());p+=" "+u}}}var c={};c.role="option";c.label=p;c.selected=s.getSelected();c.posinset=r+1;c.setsize=l;t.accessibilityState(s,c);t.openEnd();o=s.getLabel();if(s.getColor()!==e.ValueColor.Neutral){t.openStart("div");t.class("sapSuiteIBCSemanticMarker");t.class("sapSuiteIBCSemantic"+s.getColor());t.openEnd();t.close("div")}t.openStart("div",i.getId()+"-label-"+r);t.class("sapSuiteIBCBarLabel");t.openEnd();t.openStart("div");t.class("sapSuiteIBCBarLabelText");t.openEnd();t.text(o);t.close("div");t.close("div");if(i._bMinMaxValid){t.openStart("div");t.class("sapSuiteIBCBarWrapper");t.openEnd();this._renderBarDirection(t,i,s,r,n,a.BAR_DIRECTION_NEGATIVE);t.openStart("div");t.class("sapSuiteIBCDivider");t.openEnd();t.close("div");this._renderBarDirection(t,i,s,r,n,a.BAR_DIRECTION_POSITIVE);t.close("div")}t.close("div")};a._renderBarDirection=function(e,a,t,i,s,r){var l=t.getValue();e.openStart("div");e.class(r.WRAPPER_CSSCLASS);e.openEnd();e.openStart("div",a.getId()+"-bar-"+r.NAME+"-"+i);e.class("sapSuiteIBCBar");e.class(r.CSSCLASS);if(l>0){e.class("sapSuiteIBCValuePositive")}else if(l===0||t._bNullValue){e.class("sapSuiteIBCBarValueNull")}else{e.class("sapSuiteIBCValueNegative")}e.openEnd();this._renderDisplayedValue(e,a,t,a.getId(),i,s,r);e.close("div");e.close("div")};a._renderDisplayedValue=function(e,t,i,s,r,l,n){var o=i.getValue()===0,d;if(i._bNullValue||o){if(t._fMin<0&&t._fMax>0){d=Math.abs(t._fMax)>=Math.abs(t._fMin)}else{d=t._fMin>=0}}else{d=i.getValue()>=0}if(n===a.BAR_DIRECTION_POSITIVE&&d||n===a.BAR_DIRECTION_NEGATIVE&&!d){e.openStart("span",s+"-displayedValue-"+r);e.class("sapSuiteIBCBarValue");if(i._bNullValue||o){e.class("sapSuiteIBCBarValueAutoAlignment");e.class("sapSuiteIBCBarValueOutside")}e.openEnd();e.text(l);e.close("span")}};a.renderDisabledOverlay=function(e,a){e.openStart("div");e.class("sapSuiteIBCDisabledOverlay");e.openEnd();e.close("div")};a._getDisplayValue=function(e,a){var t,i;t=e.getDisplayedValue();i=e.getValue();if(e._bNullValue){t=a._oRb.getText("INTERACTIVECHART_NA")}else if(!t){t=i.toString()}return t};a._getAriaDescribedBy=function(e,a){var t=[];for(var i=0;i<a;i++){t.push(e.getId()+"-interactionArea-"+i)}return t.join(",")};return a},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveDonutChart", ["sap/ui/thirdparty/jquery","./library","sap/m/library","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/Device","sap/m/FlexBox","sap/base/Log","./InteractiveDonutChartSegment","sap/m/IllustratedMessage","./InteractiveDonutChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(jQuery,e,t,i,s,a,n,r,o,l,d,S,h){"use strict";var p=i.extend("sap.suite.ui.microchart.InteractiveDonutChart",{metadata:{library:"sap.suite.ui.microchart",properties:{displayedSegments:{type:"int",group:"Appearance",defaultValue:3},selectionEnabled:{type:"boolean",group:"Behavior",defaultValue:true},showError:{type:"boolean",group:"Appearance",defaultValue:false},errorMessageTitle:{type:"string",group:"Appearance"},errorMessage:{type:"string",group:"Appearance"}},defaultAggregation:"segments",aggregations:{segments:{type:"sap.suite.ui.microchart.InteractiveDonutChartSegment",multiple:true,bindable:"bindable"}},events:{selectionChanged:{parameters:{selectedSegments:{type:"sap.suite.ui.microchart.InteractiveDonutChartSegment[]"},segment:{type:"sap.suite.ui.microchart.InteractiveDonutChartSegment"},selected:{type:"boolean"}}},press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:d});p.SEGMENT_CSSCLASS_SELECTED="sapSuiteIDCLegendSegmentSelected";p.SEGMENT_CSSCLASS_HIGHLIGHT="sapSuiteIDCLegendSegmentHover";p.CHART_SEGMENT_LABEL_MAXLENGTH=7;p.CHART_SEGMENT={CSSCLASS:"sapSuiteIDCChartSegment",CSSCLASS_HIGHLIGHT:"sapSuiteIDCChartSegmentHighlight",CSSCLASS_SELECTED:"sapSuiteIDCChartSegmentSelected"};p.CHART_SEGMENT_GHOST={CSSCLASS:"sapSuiteIDCChartSegmentGhost",CSSCLASS_HIGHLIGHT:"sapSuiteIDCChartSegmentGhostHighlight",CSSCLASS_SELECTED:"sapSuiteIDCChartSegmentGhostSelected"};p.AREA_HEIGHT_INTERACTIVE_MINVALUE=48;p.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT=32;p.AREA_HEIGHT_SMALLFONT=36;p.AREA_HEIGHT_SMALLFONT_COMPACT=32;p.AREA_HEIGHT_MINVALUE=18;p.LEGEND_HEIGHT_PADDING=6;p.CHART_HEIGHT_MINVALUE=110;p.CHART_WIDTH_MINVALUE=130;p.CHART_WIDTH_HIDEDONUT_MINVALUE=220;p.CHART_WIDTH_LEGENDPADDING_MINVALUE=300;p.CHART_WIDTH_FULLWIDTH_SMALLFONT_MINVALUE=180;p.prototype.onclick=function(e){if(!this.getSelectionEnabled()){return}if(this._bInteractiveMode){var t=jQuery(e.target),i=t.data("sap-ui-idc-selection-index"),s=this.getAggregation("segments"),a=this.$().find(".sapSuiteIDCLegendSegment"),n;if(!(i>=0)){i=t.closest(".sapSuiteIDCLegendSegment").data("sap-ui-idc-selection-index")}if(isNaN(i)||i<0||i>=s.length){return}this._toggleSelected(i);n=a.index(this.$().find(".sapSuiteIDCLegendSegment[tabindex='0']"));this._switchTabindex(n,i,a)}else{this.firePress()}};p.prototype.onsapup=function(e){var t=this.$().find(".sapSuiteIDCLegendSegment");var i=t.index(e.target);if(t.length>0){this._switchTabindex(i,i-1,t)}e.preventDefault();e.stopImmediatePropagation()};p.prototype.onsapdown=function(e){var t=this.$().find(".sapSuiteIDCLegendSegment");var i=t.index(e.target);if(t.length>0){this._switchTabindex(i,i+1,t)}e.preventDefault();e.stopImmediatePropagation()};p.prototype.onsaphome=function(e){var t=this.$().find(".sapSuiteIDCLegendSegment");var i=t.index(e.target);if(i!==0&&t.length>0){this._switchTabindex(i,0,t)}e.preventDefault();e.stopImmediatePropagation()};p.prototype.onsapend=function(e){var t=this.$().find(".sapSuiteIDCLegendSegment");var i=t.index(e.target);var s=t.length;if(i!==s-1&&s>0){this._switchTabindex(i,s-1,t)}e.preventDefault();e.stopImmediatePropagation()};p.prototype.onsapenter=function(e){if(this._bInteractiveMode){var t=this.$().find(".sapSuiteIDCLegendSegment").index(e.target);if(t!==-1){this._toggleSelected(t)}e.preventDefault();e.stopImmediatePropagation()}else{this.firePress()}};p.prototype.onsapleft=p.prototype.onsapup;p.prototype.onsapright=p.prototype.onsapdown;p.prototype.onsapspace=p.prototype.onsapenter;p.prototype.getTooltip_AsString=function(){var t=this.getTooltip_Text();if(!t){t=this._createTooltipText()}else if(e._isTooltipSuppressed(t)){t=null}return t};p.prototype.getSelectedSegments=function(){var e,t;e=this.getAggregation("segments");t=[];for(var i=0;i<e.length;i++){if(e[i].getSelected()){t.push(e[i])}}return t};p.prototype.setSelectedSegments=function(e){var t,i,s;t=this.getAggregation("segments");this._deselectAllSelectedSegments();if(!e){return this}if(e instanceof o){e=[e]}if(Array.isArray(e)){s=e.length;for(var a=0;a<s;a++){i=this.indexOfAggregation("segments",e[a]);if(i>=0&&t[i]){t[i].setProperty("selected",true,true)}else{r.warning("Method setSelectedSegments called with invalid InteractiveDonutChartSegment element")}}}this.invalidate();return this};p.prototype.init=function(){this._oRb=S.getLibraryResourceBundle("sap.suite.ui.microchart");this._bThemeApplied=false;this._oIllustratedMessageControl=new l({illustrationSize:t.IllustratedMessageSize.Base,illustrationType:t.IllustratedMessageType.NoData});S.ready(this._handleCoreInitialized.bind(this))};p.prototype.onBeforeRendering=function(){this._bCompact=this._isCompact();this._bInteractiveMode=true;this._errorMessage=this.getErrorMessage();this._errorMessageTitle=this.getErrorMessageTitle();this._oIllustratedMessageControl.setTitle(this._errorMessageTitle);this._oIllustratedMessageControl.setDescription(this._errorMessage);var e=this.getSegments();this._iVisibleSegments=Math.min(this.getDisplayedSegments(),e.length);this._setResponsivenessData();var i=this.$().find(".sapSuiteIDCChartSegment, .sapSuiteIDCLegendSegment, .sapSuiteIDCChartSegmentGhost");i.off();if(!this.data("_parentRenderingContext")&&typeof this.getParent==="function"){this.data("_parentRenderingContext",this.getParent())}this._deregisterResizeHandler();this._bSemanticTooltip=false;for(var s=0;s<this._iVisibleSegments;s++){if(e[s].getColor()!==t.ValueColor.Neutral){this._bSemanticTooltip=true;break}}};p.prototype.onAfterRendering=function(){this._adjustToParent(this.$());e._checkControlIsVisible(this,this._onControlIsVisible)};p.prototype._onControlIsVisible=function(){if(this._bInteractiveMode){this._sResizeHandlerId=s.register(this,this._onResize.bind(this));this._onResize();if(this.$().length>0){var e=this._isCompact();if(e!==this._bCompact){this._bCompact=e;this.invalidate()}}if(a.system.desktop){this._attachHoverHandlers()}}};p.prototype.exit=function(){this._deregisterResizeHandler();this._oIllustratedMessageControl.destroy()};p.prototype._handleCoreInitialized=function(){h.attachApplied(this._handleThemeApplied.bind(this))};p.prototype._deselectAllSelectedSegments=function(){var e=this.getAggregation("segments");for(var t=0;t<e.length;t++){if(e[t].getSelected()){e[t].setProperty("selected",false,true)}}};p.prototype._attachHoverHandlers=function(){var e=this,t=this.$().find(".sapSuiteIDCChartSegment, .sapSuiteIDCLegendSegment, .sapSuiteIDCChartSegmentGhost");t.on({mousemove:function(){e._handleHoverSync(jQuery(this).data("sap-ui-idc-selection-index"))},mouseleave:function(){e._handleHoverSync(jQuery(this).data("sap-ui-idc-selection-index"),true)}})};p.prototype._handleHoverSync=function(e,t){if(this._bInteractiveMode){var i=this.getAggregation("segments"),s=i[e].getSelected();this._setSegmentInteractionState(p.CHART_SEGMENT,e,s,t);this._setSegmentInteractionState(p.CHART_SEGMENT_GHOST,e,s,t);this._setLegendEntryInteractionState(e,s,t,i[e])}};p.prototype._setSegmentInteractionState=function(e,t,i,s){var a=this.$().find("."+e.CSSCLASS+"[data-sap-ui-idc-selection-index='"+t+"']");a.removeClass(e.CSSCLASS_SELECTED);a.removeClass(e.CSSCLASS_HIGHLIGHT);if(a.length>0&&a[0].children.length>0){a[0].children[0].style.visibility="hidden"}if(!s){a.addClass(e.CSSCLASS_HIGHLIGHT);if(a.length>0&&a[0].children.length>0){a[0].children[0].style.visibility="visible"}}if(i){a.addClass(e.CSSCLASS_SELECTED)}};p.prototype._setLegendEntryInteractionState=function(e,t,i,s){var a=this.$().find(".sapSuiteIDCLegendSegment[data-sap-ui-idc-selection-index='"+e+"']");a.removeClass(p.SEGMENT_CSSCLASS_SELECTED);a.removeClass(p.SEGMENT_CSSCLASS_HIGHLIGHT);a.removeAttr("title");if(!i){a.addClass(p.SEGMENT_CSSCLASS_HIGHLIGHT);a.attr("title",s.getTooltip_AsString())}if(t){a.addClass(p.SEGMENT_CSSCLASS_SELECTED)}};p.prototype._switchModeInteractive=function(e){var t=this.$(),i=false;if(e<this._iAreaHeightInteractiveMinValue){i=true;if(this._bInteractiveMode){this._bInteractiveMode=false;t.addClass("sapSuiteIDCNonInteractive");if(this.getSelectionEnabled()){var s=t.find(".sapSuiteIDCLegendSegment[tabindex='0']");this._iActiveElement=t.find(".sapSuiteIDCLegendSegment").index(s);s.removeAttr("tabindex");t.attr("tabindex","0")}t.attr({role:"button","aria-multiselectable":"false","aria-disabled":!this._isChartEnabled()})}}else if(!this._bInteractiveMode){i=true;this._bInteractiveMode=true;t.removeClass("sapSuiteIDCNonInteractive");if(this.getSelectionEnabled()){t.removeAttr("tabindex");if(!this._iActiveElement||this._iActiveElement<0){this._iActiveElement=0}t.find(".sapSuiteIDCLegendSegment").eq(this._iActiveElement).attr("tabindex","0")}t.attr({role:"listbox","aria-multiselectable":"true","aria-disabled":!this._isChartEnabled()})}if(i){if(this._isChartEnabled()){t.removeAttr("title");this._addInteractionAreaTooltip()}else{t.find(".sapSuiteIDCChartSegment title, .sapSuiteIDCChartSegmentGhost title").remove();t.find(".sapSuiteIDCLegendSegment").removeAttr("title");t.attr("title",this.getTooltip_AsString())}}};p.prototype._addInteractionAreaTooltip=function(){var e,t,i,s=this.$(),a=this.getSegments();s.find(".sapSuiteIDCChartSegment, .sapSuiteIDCChartSegmentGhost").each(function(s,n){t=jQuery(n);i=parseInt(t.attr("data-sap-ui-idc-selection-index"));e=jQuery("<div></div>").text(a[i].getTooltip_AsString());t.html("<title>"+e.getEncodedText()+"</title>")});s.find(".sapSuiteIDCLegendSegment").each(function(e,s){t=jQuery(s);i=parseInt(t.attr("data-sap-ui-idc-selection-index"));t.attr("title",a[i].getTooltip_AsString())})};p.prototype._onResize=function(){var e,t,i=this.$(),s=i.find(".sapSuiteIDCLegendSegment"),a=i.find(".sapSuiteIDCChart"),n=parseInt(a.css("padding-right"))+parseInt(a.css("padding-left")),r=i.height(),o=i.width();if(this._bInteractiveMode){t=2}else{t=1}e=(r-p.LEGEND_HEIGHT_PADDING-s.length*t)/s.length;s.height(e+"px");if(o<p.CHART_WIDTH_MINVALUE||r<p.CHART_HEIGHT_MINVALUE||e<p.AREA_HEIGHT_MINVALUE){i.css("visibility","hidden");return}i.css("visibility","");if(o<p.CHART_WIDTH_HIDEDONUT_MINVALUE){i.addClass("sapSuiteIDCFullWidth");if(o<p.CHART_WIDTH_FULLWIDTH_SMALLFONT_MINVALUE){i.addClass("sapSuiteIDCFullWidthSmallFont")}else{i.removeClass("sapSuiteIDCFullWidthSmallFont")}}else{i.removeClass("sapSuiteIDCFullWidth");if(a.innerWidth()<a.innerHeight()){i.find(".sapSuiteIDCChartSVG").css("width","100%").css("height",a.innerWidth()+"px")}else{i.find(".sapSuiteIDCChartSVG").css("height","100%").css("width",a.innerHeight()-n+"px")}if(o<p.CHART_WIDTH_LEGENDPADDING_MINVALUE){i.addClass("sapSuiteIDCSmallLegendPadding")}else{i.removeClass("sapSuiteIDCSmallLegendPadding")}}if(e<this._iAreaHeightSmallFontMinValue){i.addClass("sapSuiteIDCSmallFont")}else{i.removeClass("sapSuiteIDCSmallFont")}this._handleLegendEntrySizing();this._switchModeInteractive(e)};p.prototype._handleLegendEntrySizing=function(){var e=this.$().find(".sapSuiteIDCLegend"),t=e.find(".sapSuiteIDCLegendLabel"),i=e.find(".sapSuiteIDCLegendValue"),s=0;i.each(function(){var e=jQuery(this).outerWidth(true);s=Math.max(s,e)});t.css("width","calc(100% - "+s+"px)");i.css("width",s+"px")};p.prototype._isChartEnabled=function(){return this.getSelectionEnabled()&&this._bInteractiveMode};p.prototype._isCompact=function(){return jQuery("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0};p.prototype._toggleSelected=function(e){var t=this.getSegments()[e],i=!t.getSelected(),s=this.$("interactionArea-"+e),a=this.$().find("."+p.CHART_SEGMENT.CSSCLASS+"[data-sap-ui-idc-selection-index='"+e+"']"),n=this.$().find("."+p.CHART_SEGMENT_GHOST.CSSCLASS+"[data-sap-ui-idc-selection-index='"+e+"']");t.setProperty("selected",i,true);s.attr("aria-selected",t.getSelected());if(i){s.addClass(p.SEGMENT_CSSCLASS_SELECTED);a.addClass(p.CHART_SEGMENT.CSSCLASS_SELECTED);n.addClass(p.CHART_SEGMENT_GHOST.CSSCLASS_SELECTED)}else{s.removeClass(p.SEGMENT_CSSCLASS_SELECTED);a.removeClass(p.CHART_SEGMENT.CSSCLASS_SELECTED);n.removeClass(p.CHART_SEGMENT_GHOST.CSSCLASS_SELECTED)}this.fireSelectionChanged({selectedSegments:this.getSelectedSegments(),segment:t,selected:i})};p.prototype._switchTabindex=function(e,t,i){if(e!==t&&e>=0&&e<i.length&&t>=0&&t<i.length){i.eq(e).removeAttr("tabindex");i.eq(t).attr("tabindex","0");i.eq(t).trigger("focus")}};p.prototype._adjustToParent=function(e){var t=this.data("_parentRenderingContext");if(t&&t instanceof n){var i=t.$();var s=parseFloat(i.innerWidth());var a=parseFloat(i.innerHeight());e.outerWidth(s);e.outerHeight(a)}};p.prototype._setResponsivenessData=function(){if(this._bCompact){this._iAreaHeightInteractiveMinValue=p.AREA_HEIGHT_INTERACTIVE_MINVALUE_COMPACT;this._iAreaHeightSmallFontMinValue=p.AREA_HEIGHT_SMALLFONT_COMPACT}else{this._iAreaHeightInteractiveMinValue=p.AREA_HEIGHT_INTERACTIVE_MINVALUE;this._iAreaHeightSmallFontMinValue=p.AREA_HEIGHT_SMALLFONT}};p.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this._bCompact=this._isCompact()};p.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){s.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};p.prototype._createTooltipText=function(){var e=true,t,i="",s=this.getSegments();for(var a=0;a<this._iVisibleSegments;a++){if(!s[a]){break}t=s[a]._getSegmentTooltip();if(t){i+=(e?"":"\n")+t;e=false}}return i};return p});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveDonutChartRenderer", ["sap/ui/core/theming/Parameters","sap/m/library","sap/base/Log"],function(t,e,a){"use strict";var i;var r={apiVersion:2};r.TOTAL_RADIUS_ABSOLUTE=3.625;r.OUTER_RADIUS_ABSOLUTE=3.25;r.SELECTION_THICKNESS_ABSOLUTE=.375;r.HOLE_SIZE_RATIO_COMPACT=.48;r.HOLE_SIZE_RATIO_COZY=.48;r.SEGMENT_HALF_GAP_SIZE=0;r.SEGMENT_HALF_GAP_SIZE_HCB=.5;r.GHOST_BORDER_HALF_THICKNESS_HCB=.5;r.render=function(t,e){if(!e._bThemeApplied){return}i=i||sap.ui.require("sap/suite/ui/microchart/InteractiveDonutChart");this._aSegments=e.getSegments();var a=e._iVisibleSegments;this._fSegmentHalfGapSize=this.SEGMENT_HALF_GAP_SIZE;this._fGhostHalfGapSize=0;if(this._isThemeHighContrast()){this._fSegmentHalfGapSize=this.SEGMENT_HALF_GAP_SIZE_HCB;this._fGhostHalfGapSize=this.GHOST_BORDER_HALF_THICKNESS_HCB}if(e.getShowError()){t.openStart("div",e);t.class("sapSuiteUiMicroChartNoData");t.openEnd();t.renderControl(e._oIllustratedMessageControl);t.close("div");return}t.openStart("div",e);t.class("sapSuiteIDC");if(!e._isChartEnabled()){var r=e.getTooltip_AsString();if(typeof r==="string"||r instanceof String){t.attr("title",r)}}var s={};s.role="listbox";s.roledescription=e._oRb.getText("INTERACTIVEDONUTCHART");s.multiselectable=true;s.disabled=!e._isChartEnabled();s.labelledby=e.getAriaLabelledBy();t.accessibilityState(e,s);t.openEnd();if(!e.getSelectionEnabled()){this._renderDisabledOverlay(t,e)}this._renderDonut(t,e,a);this._renderLegend(t,e,a);t.close("div")};r._renderDonut=function(t,e,a){var r,s,n,o,l,S,_,c,h=e._bCompact;t.openStart("div");t.class("sapSuiteIDCChart");t.openEnd();t.openStart("svg");t.class("sapSuiteIDCChartSVG");t.attr("viewBox","-2 -2 104 104");t.attr("focusable","false");t.openEnd();t.openStart("g");t.attr("transform","translate(50.5 50.5)");t.openEnd();l=50;_=this.OUTER_RADIUS_ABSOLUTE/this.TOTAL_RADIUS_ABSOLUTE*l;if(h){S=this.HOLE_SIZE_RATIO_COMPACT*_}else{S=this.HOLE_SIZE_RATIO_COZY*_}c=l*(this.SELECTION_THICKNESS_ABSOLUTE/this.TOTAL_RADIUS_ABSOLUTE);s=this._calculateSum(e);n=0;var d;for(d=0;d<a;d++){r=this._aSegments[d];if(r.getValue()>0){o=this._calculateSegmentPath(s,r.getValue(),n,_+c,S-c,this._fGhostHalfGapSize);t.openStart("path");t.attr("d",o);t.attr("data-sap-ui-idc-selection-index",d);t.class(i.CHART_SEGMENT_GHOST.CSSCLASS);if(r.getSelected()){t.class(i.CHART_SEGMENT_GHOST.CSSCLASS_SELECTED)}t.openEnd();if(e._isChartEnabled()){this._renderTitle(r.getTooltip_AsString(),t)}t.close("path");n+=this._aSegments[d].getValue()}}n=0;for(d=0;d<a;d++){r=this._aSegments[d];if(r.getValue()>0){o=this._calculateSegmentPath(s,r.getValue(),n,_,S,0);t.openStart("path");t.attr("d",o);t.attr("fill",this._getSegmentColor(d,a));t.attr("cursor","pointer");t.attr("data-sap-ui-idc-selection-index",d);t.class(i.CHART_SEGMENT.CSSCLASS);if(r.getSelected()){t.class(i.CHART_SEGMENT.CSSCLASS_SELECTED)}t.openEnd();if(e._isChartEnabled()){this._renderTitle(r.getTooltip_AsString(),t)}t.close("path");n+=this._aSegments[d].getValue()}}t.close("g");t.close("svg");t.close("div")};r._renderLegend=function(t,e,a){t.openStart("div");t.class("sapSuiteIDCLegend");t.openEnd();for(var i=0;i<a;i++){this._renderLegendSegment(t,e,i,a)}t.close("div")};r._renderLegendSegment=function(t,a,r,s){var n=this._aSegments[r],o=n.getLabel(),l=n.getDisplayedValue()||String(n.getValue()),S,_=n._getSemanticColor();if(n._bNullValue){l=a._oRb.getText("INTERACTIVECHART_NA")}l=l.substring(0,i.CHART_SEGMENT_LABEL_MAXLENGTH);var S=n.getTooltip_Text();var c;if(S&&S.trim()){c=S}else{c=o;if(c){c=c+" "+l}else{c=l}if(_){c+=" "+_}}var h={};h.role="option";h.label=c.trim();h.selected=n.getSelected();h.posinset=r+1;h.setsize=s;t.openStart("div",a.getId()+"-interactionArea-"+r);t.accessibilityState(n,h);t.attr("data-sap-ui-idc-selection-index",r);t.class("sapSuiteIDCLegendSegment");if(n.getSelected()){t.class(i.SEGMENT_CSSCLASS_SELECTED)}if(r===0&&a.getSelectionEnabled()){t.attr("tabindex","0")}t.openEnd();_=n.getColor();if(_!==e.ValueColor.Neutral){t.openStart("div");t.class("sapSuiteIDCSemanticMarker");t.class("sapSuiteICSemanticColor"+_);t.openEnd();t.close("div")}t.openStart("div");t.class("sapSuiteIDCLegendMarker");t.style("background-color",this._getSegmentColor(r,s));t.openEnd();t.close("div");t.openStart("div");t.class("sapSuiteIDCLegendLabelValue");t.openEnd();t.openStart("div");t.class("sapSuiteIDCLegendLabel");t.openEnd();t.text(o);t.close("div");t.openStart("div");t.class("sapSuiteIDCLegendValue");t.openEnd();t.text(l);t.close("div");t.close("div");t.close("div")};r._getSegmentColor=function(e,a){var i=1-(a-e)/a,r=t.get("_sap_suite_ui_microchart_InteractiveDonutChart_SegmentFillColor")||"white";if(this._isThemeHighContrast()){return r}return this._mixColors(r,"#ffffff",i)};r._calculateSegmentPath=function(t,e,a,i,r,s){var n=.01,o,l,S,_,c,h,d,g,u,f=this._fSegmentHalfGapSize+s,p=Math.pow(2*f,2),E,C,T,m;i=this._formatFloat(i);r=this._formatFloat(r);h=this._calculateCircleFraction(t,a);d=this._calculateCircleFraction(t,a+e);g=this._calculateCircleFraction(t,e);if(g<=Math.PI){u=0}else{u=1}if(t===e){E=r;C=i;T=0;m=0}else{E=Math.sqrt(Math.pow(r,2)+p);C=Math.sqrt(Math.pow(i,2)+p);T=Math.atan(f/r);m=Math.atan(f/i)}l={x:this._formatFloat(E*Math.sin(h+T)),y:this._formatFloat(-E*Math.cos(h+T))};S={x:this._formatFloat(C*Math.sin(h+m)),y:this._formatFloat(-C*Math.cos(h+m))};_={x:this._formatFloat(i*Math.sin(d-m)-n),y:this._formatFloat(-i*Math.cos(d-m))};c={x:this._formatFloat(r*Math.sin(d-T)-n),y:this._formatFloat(-r*Math.cos(d-T))};o="";o+="M"+l.x+" "+l.y+" ";o+="L"+S.x+" "+S.y+" ";o+="A"+i+","+i+" 0 "+u+",1"+" "+_.x+","+_.y+" ";o+="L"+c.x+" "+c.y+" ";o+="A"+r+","+r+" 0 "+u+",0"+" "+l.x+","+l.y;return o};r._formatFloat=function(t){return parseFloat(t.toFixed(2))};r._calculateSum=function(t){var e=0;var a=t.getDisplayedSegments();for(var i=0;i<this._aSegments.length&&i<a;i++){var r=this._aSegments[i].getValue();if(r>0){e+=r}}return e};r._calculateCircleFraction=function(t,e){return 2*Math.PI*e/t};r._renderDisabledOverlay=function(t){t.openStart("div");t.class("sapSuiteIDCDisabledOverlay");t.openEnd();t.close("div")};r._getAriaDescribedBy=function(t,e){var a=[];for(var i=0;i<e;i++){a.push(t.getId()+"-interactionArea-"+i)}return a.join(",")};r._mixColors=function(t,e,a){if(a===1||t.toLowerCase()===e.toLowerCase()){return t}var i=this._hexToRgb(t);var r=this._hexToRgb(e);var s=Math.round((i[0]+Math.abs(i[0]-r[0])*a)%255);var n=Math.round((i[1]+Math.abs(i[1]-r[1])*a)%255);var o=Math.round((i[2]+Math.abs(i[2]-r[2])*a)%255);return"#"+this._intToHex(s)+this._intToHex(n)+this._intToHex(o)};r._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(sap.ui.getCore().getConfiguration().getTheme())};r._hexToRgb=function(t){var e=[];t=t.replace(/[^0-9a-f]+/gi,"");if(t.length===3){e=t.split("")}else if(t.length===6){e=t.match(/(\w{2})/g)}else{a.warning("Invalid color input: hex string must be in the format #FFFFFF or #FFF")}return e.map(function(t){return parseInt(t,16)})};r._intToHex=function(t){var e=t.toString(16);if(e.length===1){e="0"+e}return e};r._renderTitle=function(t,e){if(typeof t==="string"||t instanceof String){e.openStart("title");e.style("visibility","hidden");e.openEnd();e.text(t);e.close("title")}};return r},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveDonutChartSegment", ["./library","sap/ui/core/Element","sap/ui/core/Lib"],function(t,e,i){"use strict";var o=e.extend("sap.suite.ui.microchart.InteractiveDonutChartSegment",{metadata:{library:"sap.suite.ui.microchart",properties:{label:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},value:{type:"float",group:"Data",defaultValue:null},displayedValue:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});o.prototype.init=function(){this._bNullValue=true;this._oRb=i.getResourceBundleFor("sap.suite.ui.microchart")};o.prototype.validateProperty=function(t,i){if(t==="value"){this._bNullValue=i===null||isNaN(i)||typeof i==="undefined"||i<0}return e.prototype.validateProperty.apply(this,arguments)};o.prototype.getTooltip_AsString=function(){var e=this.getTooltip_Text();this._bCustomTooltip=true;if(!e){e=this._createTooltipText();this._bCustomTooltip=false}else if(t._isTooltipSuppressed(e)){e=null}return e};o.prototype._createTooltipText=function(){var t="";var e=this.getLabel();if(e&&e.length>0){t=e+":\n"}if(this._bNullValue){t+=this._oRb.getText("INTERACTIVECHART_NA")}else{t+=this.getDisplayedValue()?this.getDisplayedValue():this.getValue()}var i=this._getSemanticColor();if(i){t+=" "+i}return t};o.prototype._getSemanticColor=function(){var t=this.getColor();var e=this.getParent();if(e&&e._bSemanticTooltip){return this._oRb.getText("SEMANTIC_COLOR_"+t.toUpperCase())}return""};o.prototype._getSegmentTooltip=function(){var t=this.getTooltip_AsString();if(t&&!this._bCustomTooltip){t=t.replace("\n"," ")}return t};return o});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveLineChart", ["sap/ui/thirdparty/jquery","./library","sap/m/library","sap/ui/core/Control","sap/suite/ui/microchart/InteractiveLineChartPoint","sap/ui/core/ResizeHandler","sap/m/FlexBox","sap/base/Log","sap/m/IllustratedMessage","./InteractiveLineChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(jQuery,t,e,i,s,a,n,r,o,l,p,d){"use strict";var h=i.extend("sap.suite.ui.microchart.InteractiveLineChart",{metadata:{library:"sap.suite.ui.microchart",properties:{displayedPoints:{type:"int",group:"Appearance",defaultValue:6},precedingPoint:{type:"float",group:"Data",defaultValue:0},succeedingPoint:{type:"float",group:"Data",defaultValue:0},selectionEnabled:{type:"boolean",group:"Behavior",defaultValue:true},showError:{type:"boolean",group:"Appearance",defaultValue:false},errorMessageTitle:{type:"string",group:"Appearance"},errorMessage:{type:"string",group:"Appearance"}},defaultAggregation:"points",aggregations:{points:{type:"sap.suite.ui.microchart.InteractiveLineChartPoint",multiple:true,bindable:"bindable"}},events:{selectionChanged:{parameters:{selectedPoints:{type:"sap.suite.ui.microchart.InteractiveLineChartPoint[]"},point:{type:"sap.suite.ui.microchart.InteractiveLineChartPoint"},selected:{type:"boolean"}}},press:{}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:l});h.MAX_SCALED_CANVAS_VALUE=99;h.MIN_SCALED_CANVAS_VALUE=1;h.AREA_WIDTH_INTERACTIVE_MINVALUE=48;h.AREA_WIDTH_INTERACTIVE_MINVALUE_COMPACT=32;h.CHART_HEIGHT_MINVALUE=106;h.AREA_WIDTH_MINVALUE=24;h.LABEL_WIDTH_MINVALUE=32;h.AREA_WIDTH_SMALLFONT=36;h.prototype.init=function(){this._oRb=p.getLibraryResourceBundle("sap.suite.ui.microchart");this._aNormalizedValues=[];this._iAreaWidthInteractiveMinValue=h.AREA_WIDTH_INTERACTIVE_MINVALUE;this._bInteractiveMode=true;this._fNormalizedZero=0;this._bThemeApplied=false;this._oIllustratedMessageControl=new o({illustrationSize:e.IllustratedMessageSize.Base,illustrationType:e.IllustratedMessageType.NoData});p.ready(this._handleCoreInitialized.bind(this))};h.prototype._handleCoreInitialized=function(){d.attachApplied(this._handleThemeApplied.bind(this))};h.prototype.onBeforeRendering=function(){this._bCompact=this._isCompact();this._bInteractiveMode=true;var t=this.getPoints();this._errorMessage=this.getErrorMessage();this._errorMessageTitle=this.getErrorMessageTitle();this._oIllustratedMessageControl.setTitle(this._errorMessageTitle);this._oIllustratedMessageControl.setDescription(this._errorMessage);this._iVisiblePointsCount=Math.min(this.getDisplayedPoints(),t.length);this._setResponsivenessData();if(!this.data("_parentRenderingContext")&&typeof this.getParent==="function"){this.data("_parentRenderingContext",this.getParent())}this._updateNormalizedValues();this._deregisterResizeHandler();this._bSemanticTooltip=false;for(var i=0;i<this._iVisiblePointsCount;i++){if(t[i].getColor()!==e.ValueColor.Neutral){this._bSemanticTooltip=true;break}}};h.prototype.onAfterRendering=function(){this._adjustToParent();t._checkControlIsVisible(this,this._onControlIsVisible);this._bindMouseEnterLeaveHandler()};h.prototype._onControlIsVisible=function(){this._sResizeHandlerId=a.register(this,this._onResize.bind(this));this._onResize()};h.prototype.exit=function(){this._deregisterResizeHandler();this._oIllustratedMessageControl.destroy()};h.prototype.onclick=function(t){if(!this.getSelectionEnabled()){return}if(this._bInteractiveMode){var e=jQuery(t.target).parent();var i,s=this.$().find(".sapSuiteILCInteractionArea");var a=this.$().find(".sapSuiteILCSection").index(e);if(a>=0){this._toggleSelected(a);i=s.index(this.$().find(".sapSuiteILCInteractionArea[tabindex='0']"));this._switchTabindex(i,a,s)}}else{this.firePress()}};h.prototype.onsapleft=function(t){var e=this.$().find(".sapSuiteILCInteractionArea");var i=e.index(t.target);if(e.length>0){this._switchTabindex(i,i-1,e)}t.preventDefault();t.stopImmediatePropagation()};h.prototype.onsapright=function(t){var e=this.$().find(".sapSuiteILCInteractionArea");var i=e.index(t.target);if(e.length>0){this._switchTabindex(i,i+1,e)}t.preventDefault();t.stopImmediatePropagation()};h.prototype.onsapup=h.prototype.onsapleft;h.prototype.onsapdown=h.prototype.onsapright;h.prototype.onsapenter=function(t){if(this._bInteractiveMode){var e=this.$().find(".sapSuiteILCInteractionArea").index(t.target);if(e!==-1){this._toggleSelected(e)}t.preventDefault();t.stopImmediatePropagation()}else{this.firePress()}};h.prototype.onsapspace=h.prototype.onsapenter;h.prototype.onsaphome=function(t){var e=this.$().find(".sapSuiteILCInteractionArea");var i=e.index(t.target);if(i!==0&&e.length>0){this._switchTabindex(i,0,e)}t.preventDefault();t.stopImmediatePropagation()};h.prototype.onsapend=function(t){var e=this.$().find(".sapSuiteILCInteractionArea");var i=e.index(t.target),s=e.length;if(i!==s-1&&s>0){this._switchTabindex(i,s-1,e)}t.preventDefault();t.stopImmediatePropagation()};h.prototype.getTooltip_AsString=function(e){if(this._isChartEnabled()){i=this._createTooltipText(e,true);if(!i&&t._isTooltipSuppressed(i)){i=null}}else{var i=this.getTooltip_Text();if(!i){i=this._createTooltipText()}else if(t._isTooltipSuppressed(i)){i=null}}return i};h.prototype.getSelectedPoints=function(){var t=[],e=this.getAggregation("points");for(var i=0;i<e.length;i++){if(e[i].getSelected()){t.push(e[i])}}return t};h.prototype.setSelectedPoints=function(t){var e=this.getAggregation("points"),i;this._deselectAllSelectedPoints();if(!t){return this}if(t instanceof s){t=[t]}if(Array.isArray(t)){for(var a=0;a<t.length;a++){i=this.indexOfAggregation("points",t[a]);if(i>=0){e[i].setProperty("selected",true,true)}else{r.warning("setSelectedPoints method called with invalid InteractiveLineChartPoint element")}}}this.invalidate();return this};h.prototype._fnIsNumber=function(t){return typeof t==="number"&&!isNaN(t)&&isFinite(t)};h.prototype._isCompact=function(){return jQuery("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0};h.prototype._setResponsivenessData=function(){if(this._bCompact){this._iAreaWidthInteractiveMinValue=h.AREA_WIDTH_INTERACTIVE_MINVALUE_COMPACT}else{this._iAreaWidthInteractiveMinValue=h.AREA_WIDTH_INTERACTIVE_MINVALUE}};h.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this._bCompact=this._isCompact()};h.prototype._deselectAllSelectedPoints=function(){var t=this.getPoints();for(var e=0;e<t.length;e++){if(t[e].getSelected()){t[e].setProperty("selected",false,true)}}};h.prototype._switchTabindex=function(t,e,i){if(t>=0&&t<i.length&&e>=0&&e<i.length){i.eq(t).removeAttr("tabindex");i.eq(e).attr("tabindex","0");i.eq(e).trigger("focus")}};h.prototype._toggleSelected=function(t){var e=this.getPoints()[t],i=this.$("point-area-"+t),s=this.$("point-"+t);if(e.getSelected()){i.add(s).removeClass("sapSuiteILCSelected");e.setProperty("selected",false,true)}else{i.add(s).addClass("sapSuiteILCSelected");e.setProperty("selected",true,true)}i.find(".sapSuiteILCInteractionArea").attr("aria-selected",e.getSelected());this.fireSelectionChanged({selectedPoints:this.getSelectedPoints(),point:e,selected:e.getSelected()})};h.prototype._updateNormalizedValues=function(){var t=this.getPoints(),e=t.length,i=0;this.nMax=-Number.MAX_VALUE;this.nMin=Number.MAX_VALUE;this._aNormalizedValues=[];for(i=0;i<e;i++){if(!t[i]._bNullValue){var s=t[i].getValue();this.nMax=Math.max(this.nMax,s);this.nMin=Math.min(this.nMin,s)}}var a=this.nMax!=-Number.MAX_VALUE&&this.nMin!==Number.MAX_VALUE?this.nMax-this.nMin:0;var n=function(t){if(typeof t!=="undefined"){var e=(t-this.nMin)/a;return h.MIN_SCALED_CANVAS_VALUE+e*(h.MAX_SCALED_CANVAS_VALUE-h.MIN_SCALED_CANVAS_VALUE)}return null}.bind(this);for(i=0;i<e;i++){if(t[i]._bNullValue){this._aNormalizedValues.push(0)}else{this._aNormalizedValues.push(a?n(t[i].getValue()):50)}}if(t.length>0){this._fNormalizedPrecedingPoint=this._bIsPrecedingPointSet&&!t[0]._bNullValue?n(this.getPrecedingPoint()):null;this._fNormalizedSucceedingPoint=this._bIsSucceedingPointSet&&!t[t.length-1]._bNullValue?n(this.getSucceedingPoint()):null}if(this.nMin<0&&this.nMax>0){this._fNormalizedZero=Math.max(0-this.nMin,0)/a*100}else{this._fNormalizedZero=null}};h.prototype._adjustToParent=function(){if(this.data("_parentRenderingContext")&&this.data("_parentRenderingContext")instanceof n){var t=this.data("_parentRenderingContext").$();var e=parseFloat(t.width())-2;var i=parseFloat(t.height())-2;this.$().outerWidth(e);this.$().outerHeight(i)}};h.prototype._isChartEnabled=function(){return this.getSelectionEnabled()&&this._bInteractiveMode};h.prototype._switchModeInteractive=function(t){var e=this.$(),i=false;if(t<this._iAreaWidthInteractiveMinValue){if(this._bInteractiveMode){this._bInteractiveMode=false;i=true;e.addClass("sapSuiteILCNonInteractive");if(this.getSelectionEnabled()){var s=e.find(".sapSuiteILCInteractionArea[tabindex='0']");this._iActiveElement=e.find(".sapSuiteILCInteractionArea").index(s);s.removeAttr("tabindex");e.attr("tabindex","0")}e.attr({role:"button","aria-multiselectable":"false","aria-disabled":!this._isChartEnabled()})}}else if(!this._bInteractiveMode){this._bInteractiveMode=true;i=true;e.removeClass("sapSuiteILCNonInteractive");if(this.getSelectionEnabled()){e.removeAttr("tabindex");if(!this._iActiveElement||this._iActiveElement<0){this._iActiveElement=0}e.find(".sapSuiteILCInteractionArea").eq(this._iActiveElement).attr("tabindex","0")}e.attr({role:"listbox","aria-multiselectable":"true","aria-disabled":!this._isChartEnabled()})}if(i){if(this._isChartEnabled()){e.removeAttr("title");this._addInteractionAreaTooltip()}else{e.find(".sapSuiteILCInteractionArea").removeAttr("title");e.attr("title",this.getTooltip_AsString())}}};h.prototype._addInteractionAreaTooltip=function(){var t=this.$().find(".sapSuiteILCInteractionArea"),e=this.getPoints();t.each(function(t,i){jQuery(i).attr("title",e[t].getTooltip_AsString())})};h.prototype._onResize=function(){var t,e=false,i=this.$(),s=i.find(".sapSuiteILCToplabel"),a=i.find(".sapSuiteILCBottomText"),n=i.find(".sapSuiteILCInteractionArea"),r=i.height(),o=i.width(),l=this.getPoints().length,p=i.find(".sapSuiteILCSection:first-child .sapSuiteILCBottomText"),d=i.find(".sapSuiteILCSection:last-child .sapSuiteILCBottomText");if(n.length>0){t=n[0].getBoundingClientRect().width}if(t<h.AREA_WIDTH_MINVALUE||r<h.CHART_HEIGHT_MINVALUE){i.css("visibility","hidden");return}else{i.css("visibility","")}this._switchModeInteractive(t);if(t<=h.AREA_WIDTH_SMALLFONT){i.addClass("sapSuiteILCSmallFont")}else{i.removeClass("sapSuiteILCSmallFont")}i.removeClass("sapSuiteILCExpandedLabels");p.add(d).css("width","");for(var u=0;u<l;u++){if(s.eq(u).prop("offsetWidth")<s.eq(u).prop("scrollWidth")){s.eq(u).css("visibility","hidden")}else{s.eq(u).css("visibility","")}if(a.eq(u).prop("offsetWidth")<a.eq(u).prop("scrollWidth")){e=true}}if(t<h.LABEL_WIDTH_MINVALUE&&e){i.addClass("sapSuiteILCExpandedLabels");p.add(d).css("width",o/2-4+"px")}else{i.removeClass("sapSuiteILCExpandedLabels");p.add(d).css("width","")}};h.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){a.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};h.prototype._createTooltipText=function(t,e){var i=true,s,a="",n=this.getPoints();for(var r=0;r<this._iVisiblePointsCount;r++){if(e){if(t&&t-1===r){s=n[r].getTooltip_AsString();if(s){a+=(i?"":"\n")+s;i=false;break}}}else{s=n[r]._getAreaTooltip();if(s){a+=(i?"":"\n")+s;i=false}}}return a};h.prototype.setPrecedingPoint=function(t){this._bIsPrecedingPointSet=this._fnIsNumber(t);return this.setProperty("precedingPoint",this._bIsPrecedingPointSet?t:NaN)};h.prototype.setSucceedingPoint=function(t){this._bIsSucceedingPointSet=this._fnIsNumber(t);return this.setProperty("succeedingPoint",this._bIsSucceedingPointSet?t:NaN)};h.prototype._bindMouseEnterLeaveHandler=function(){this.$().find(".sapSuiteILCInteractionArea").on("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().find(".sapSuiteILCInteractionArea").on("mouseleave.tooltip",this._removeTitleAttribute.bind(this))};h.prototype._addTitleAttribute=function(t){var e=t.target.getAttribute("aria-posinset");var i=this.getDomRef().querySelectorAll(".sapSuiteILCInteractionArea");if(this._isChartEnabled()&&this._hasData()&&i[parseInt(e)-1]&&!i[parseInt(e)-1].getAttribute("title")){i[parseInt(e)-1].setAttribute("title",this.getTooltip_AsString(parseInt(e)))}};h.prototype._removeTitleAttribute=function(t){var e=t.target.getAttribute("aria-posinset");var i=this.getDomRef().querySelectorAll(".sapSuiteILCInteractionArea");if(i[parseInt(e)-1]&&i[parseInt(e)-1].getAttribute("title")){i[parseInt(e)-1].removeAttribute("title")}};h.prototype._hasData=function(){return this.getPoints().length>0};return h});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveLineChartPoint", ["./library","sap/ui/core/Element","sap/ui/core/Lib"],function(t,e,i){"use strict";var l=e.extend("sap.suite.ui.microchart.InteractiveLineChartPoint",{metadata:{library:"sap.suite.ui.microchart",properties:{label:{type:"string",group:"Misc",defaultValue:null},secondaryLabel:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},value:{type:"float",group:"Data",defaultValue:null},displayedValue:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.m.ValueColor",group:"Misc",defaultValue:"Neutral"}}}});l.prototype.init=function(){this._bNullValue=true;this._oRb=i.getResourceBundleFor("sap.suite.ui.microchart")};l.prototype.validateProperty=function(t,i){if(t==="value"&&(i===null||i===undefined)){this._bNullValue=true}else if(t==="value"){this._bNullValue=false}return e.prototype.validateProperty.apply(this,arguments)};l.prototype.getTooltip_AsString=function(){var e=this.getTooltip_Text();this._bCustomTooltip=true;if(!e){e=this._createTooltipText();this._bCustomTooltip=false}else if(t._isTooltipSuppressed(e)){e=null}return e};l.prototype._createTooltipText=function(){var t="";var e=this.getLabel();if(e&&e.length>0){t=e+":\n"}if(this._bNullValue){t+=this._oRb.getText("INTERACTIVECHART_NA")}else{t+=this.getValue()}var i=this._getSemanticColor();if(i){t+=" "+i}return t};l.prototype._getSemanticColor=function(){var t=this.getColor();var e=this.getParent();if(e&&e._bSemanticTooltip){return this._oRb.getText("SEMANTIC_COLOR_"+t.toUpperCase())}return""};l.prototype._getAreaTooltip=function(){var t=this.getTooltip_AsString();if(t&&!this._bCustomTooltip){t=t.replace("\n"," ")}return t};return l});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/InteractiveLineChartRenderer", ["sap/m/library"],function(e){"use strict";var t={apiVersion:2};t.render=function(e,t){if(!t._bThemeApplied){return}if(t.getShowError()){e.openStart("div",t);e.class("sapSuiteUiMicroChartNoData");e.openEnd();e.renderControl(t._oIllustratedMessageControl);e.close("div");return}var a=t._iVisiblePointsCount,i=100/a;e.openStart("div",t);e.class("sapSuiteILC");var s={};s.role="listbox";s.roledescription=t._oRb.getText("INTERACTIVELINECHART");s.multiselectable=true;s.disabled=!t._isChartEnabled();s.labelledby=t.getAriaLabelledBy();s.owns=this._getAriaOwns(t,a);e.accessibilityState(t,s);if(!t._isChartEnabled()){var l=t.getTooltip_AsString();if(typeof l==="string"||l instanceof String){e.attr("title",l)}}e.openEnd();e.openStart("div");e.class("sapSuiteILCWrapperChild");e.attr("aria-hidden","true");e.openEnd();e.openStart("div");e.class("sapSuiteILCInner");e.openEnd();if(!t.getSelectionEnabled()){this._renderDisabledOverlay(e,t)}this._renderChartCanvas(e,t,a,i);e.openStart("div");e.class("sapSuiteILCBottomLabelArea");if(t._fNormalizedZero){e.class("sapSuiteILCBottomLabelAreaNoDivider")}e.openEnd();e.close("div");e.openStart("div");e.class("sapSuiteILCInteraction");e.openEnd();for(var n=0;n<a;n++){this._renderPoint(e,t,n,a,i)}e.close("div");e.close("div");var r="",o=false,d=t.getPoints();for(var c=0;c<a;c++){var u=d[c],p=u.getSecondaryLabel();if(p&&r!==p){r=p;if(!o){o=true;e.openStart("div");e.class("sapSuiteILCInnerBottom");e.openEnd()}this._renderSecondaryLabel(e,u,c,i,r)}}if(o){e.close("div")}e.close("div");e.close("div")};t._renderSecondaryLabel=function(e,t,a,i,s){e.openStart("div");e.class("sapSuiteILCSecondaryLabel");e.style("width",i+"%");e.style("left",a*i+"%");e.openEnd();e.text(s);e.close("div")};t._renderPoint=function(t,a,i,s,l){var n=a.getPoints()[i];t.openStart("div",a.getId()+"-point-area-"+i);t.class("sapSuiteILCSection");t.class("sapSuiteILCCanvasLayout");if(n.getSelected()){t.class("sapSuiteILCSelected")}t.style("width",l+"%");t.style("left",i*l+"%");t.openEnd();var r=n.getColor();if(n._bNullValue){t.openStart("div")}else{t.openStart("div",a.getId()+"-point-"+i);if(n.getSelected()){t.class("sapSuiteILCSelected")}if(r!==e.ValueColor.Neutral){t.class("sapSuiteICSemanticColor"+r)}t.class("sapSuiteILCPoint");t.style("bottom",a._aNormalizedValues[i]+"%")}t.openEnd();t.close("div");t.openStart("div");t.class("sapSuiteILCBackgroundArea");t.openEnd();t.close("div");var o=this._renderPointLabel(t,a,i,s);var d=n._getSemanticColor();if(d){o+=" "+d}var c=n.getTooltip_Text();if(c&&c.trim()){o=c}t.openStart("div",a.getId()+"-interaction-area-"+i);t.class("sapSuiteILCInteractionArea");t.class("sapMPointer");if(i===0&&a._isChartEnabled()){t.attr("tabindex","0")}var u={};u.role="option";u.label=o;u.selected=n.getSelected();u.posinset=i+1;u.setsize=s;t.accessibilityState(n,u);t.openEnd();t.close("div");t.close("div")};t._renderChartCanvas=function(e,t,a,i){var s,l=t.getPoints();if(l.length!=0){e.openStart("div");e.class("sapSuiteILCChartCanvas");e.class("sapSuiteILCCanvasLayout");e.openEnd();e.openStart("svg");e.class("sapSuiteILCSvgElement");e.attr("focusable","false");e.openEnd();if(t._fNormalizedZero){e.openStart("line");e.attr("x1","1%");e.attr("y1",100-t._fNormalizedZero+"%");e.attr("x2","99%");e.attr("y2",100-t._fNormalizedZero+"%");e.attr("stroke-width","1");e.class("sapSuiteILCDivider");e.openEnd();e.close("line")}var n=function(t,a,s){e.openStart("line");e.attr("x1",i/2+(t-1)*i+"%");e.attr("y1",100-a+"%");e.attr("x2",i/2+t*i+"%");e.attr("y2",100-s+"%");e.attr("stroke-width","2");e.openEnd();e.close("line")};for(s=1;s<a;s++){if(!l[s-1]._bNullValue&&!l[s]._bNullValue){n(s,t._aNormalizedValues[s-1],t._aNormalizedValues[s])}}if(t._fNormalizedPrecedingPoint!==null){n(0,t._fNormalizedPrecedingPoint,t._aNormalizedValues[0])}if(t._fNormalizedSucceedingPoint!==null){n(s,t._aNormalizedValues[s-1],t._fNormalizedSucceedingPoint)}e.close("svg");e.close("div")}};t._renderPointLabel=function(e,t,a,i){var s=t.getPoints()[a];var l=s.getLabel()||"",n=s.getDisplayedValue(),r=s.getSecondaryLabel()||"";var o;e.openStart("div");e.class("sapSuiteILCTextElement");e.class("sapSuiteILCBottomText");e.class("sapMPointer");e.openEnd();e.text(l);e.close("div");e.openStart("div");e.class("sapSuiteILCTextElement");e.class("sapSuiteILCToplabel");e.class("sapMPointer");if(!s._bNullValue){if(!n){n=s.getValue().toString()}o=[t._aNormalizedValues[a]];if(a>0&&!t.getPoints()[a-1]._bNullValue){o.push((t._aNormalizedValues[a]+t._aNormalizedValues[a-1])/2)}if(a<i-1&&!t.getPoints()[a+1]._bNullValue){o.push((t._aNormalizedValues[a]+t._aNormalizedValues[a+1])/2)}o.sort(function(e,t){return e-t});if(s.getValue()===t.nMax&&t.nMax!==t.nMin){e.style("bottom",o[o.length-1]+"%");e.class("sapSuiteILCShiftAbove")}else if(s.getValue()===t.nMin&&t.nMax!==t.nMin){e.style("bottom",o[0]+"%");e.class("sapSuiteILCShiftBelow")}else if(Math.abs(t._aNormalizedValues[a]-o[0])<Math.abs(t._aNormalizedValues[a]-o[o.length-1])){e.style("bottom",o[0]+"%");e.class("sapSuiteILCShiftBelow")}else{e.style("bottom",o[o.length-1]+"%");e.class("sapSuiteILCShiftAbove")}}else{n=t._oRb.getText("INTERACTIVECHART_NA");e.class("sapSuiteILCShiftBelow");e.class("sapSuiteILCNaLabel")}e.openEnd();e.text(n);e.close("div");return l+" "+(r===""?"":r+" ")+n};t._renderDisabledOverlay=function(e,t){e.openStart("div");e.class("sapSuiteILCDisabledOverlay");e.openEnd();e.close("div")};t._getIdReferenceList=function(e,t,a){var i=[];for(var s=0;s<t;s++){i.push(e.getId()+a+s)}return i.join(" ")};t._getAriaDescribedBy=function(e,t){return this._getIdReferenceList(e,t,"-point-area-")};t._getAriaOwns=function(e,t){return this._getIdReferenceList(e,t,"-interaction-area-")};return t},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/LineMicroChart", ["sap/ui/thirdparty/jquery","./library","sap/m/library","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/events/KeyCodes","sap/base/Log","sap/suite/ui/microchart/MicroChartUtils","sap/suite/ui/microchart/LineMicroChartLine","./LineMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(jQuery,e,t,i,a,o,s,r,l,n,h,p){"use strict";var u=i.extend("sap.suite.ui.microchart.LineMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Appearance",defaultValue:"Auto"},threshold:{type:"float",group:"Appearance",defaultValue:0},showThresholdLine:{type:"boolean",group:"Appearance",defaultValue:true},showThresholdValue:{type:"boolean",group:"Appearance",defaultValue:false},thresholdDisplayValue:{type:"string",group:"Appearance"},minXValue:{type:"float",group:"Appearance"},maxXValue:{type:"float",group:"Appearance"},minYValue:{type:"float",group:"Appearance"},maxYValue:{type:"float",group:"Appearance"},leftTopLabel:{type:"string",group:"Data",defaultValue:null},rightTopLabel:{type:"string",group:"Data",defaultValue:null},leftBottomLabel:{type:"string",group:"Data",defaultValue:null},rightBottomLabel:{type:"string",group:"Data",defaultValue:null},showTopLabels:{type:"boolean",defaultValue:true},showBottomLabels:{type:"boolean",defaultValue:true},color:{type:"any",group:"Appearance",defaultValue:"Neutral"},showPoints:{type:"boolean",group:"Appearance",defaultValue:false},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{type:"sap.ui.core.CSSSize",group:"Misc"},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"points",aggregations:{points:{type:"sap.suite.ui.microchart.LineMicroChartPoint",multiple:true,bindable:"bindable",forwarding:{getter:"_getInternalLine",aggregation:"points"}},lines:{type:"sap.suite.ui.microchart.LineMicroChartLine",multiple:true,bindable:"bindable"},_line:{type:"sap.suite.ui.microchart.LineMicroChartLine",multiple:false,visibility:"hidden"}},events:{press:{}}},renderer:n});u.THRESHOLD_LOOK_XS=1.125;u.THRESHOLD_LOOK_S=3.5;u.THRESHOLD_LOOK_M=4.5;u.THRESHOLD_LOOK_L=5.875;u.THRESHOLD_WIDTH_NO_LABEL=6;u.prototype.ontap=function(e){this.firePress()};u.prototype.onkeydown=function(e){if(e.which===o.SPACE){e.preventDefault()}};u.prototype.onkeyup=function(e){if(e.which===o.ENTER||e.which===o.SPACE){this.firePress();e.preventDefault()}};u.prototype.attachEvent=function(e,t,a,o){i.prototype.attachEvent.call(this,e,t,a,o);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};u.prototype.detachEvent=function(e,t,a){i.prototype.detachEvent.call(this,e,t,a);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};u.prototype.onclick=function(){this.firePress()};u.prototype.onsapspace=u.prototype.onclick;u.prototype.onsapenter=u.prototype.onclick;u.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_LINEMICROCHART")};u.prototype.getThreshold=function(){if(this._bThresholdNull){return null}else{return this.getProperty("threshold")}};u.prototype.init=function(){this._minXScale=null;this._maxXScale=null;this._minYScale=null;this._maxYScale=null;this._fNormalizedThreshold=0;this._bScalingValid=false;this._bThresholdNull=false;this._bNoTopLabels=false;this._bNoBottomLabels=false;this._oRb=h.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;h.ready(this._handleCoreInitialized.bind(this))};u.prototype._handleCoreInitialized=function(){p.attachApplied(this._handleThemeApplied.bind(this))};u.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();p.detachApplied(this._handleThemeApplied.bind(this))};u.prototype.onBeforeRendering=function(){if(this._hasData()){this._setModeFlags();this._normalizePoints()}this._unbindMouseEnterLeaveHandler()};u.prototype.onAfterRendering=function(){this._sResizeHandlerId=a.register(this,this._onResize.bind(this));this._onResize();this._bindMouseEnterLeaveHandler()};u.prototype.exit=function(){this._deregisterResizeHandler()};u.prototype.validateProperty=function(e,t){if(e==="threshold"){this._bThresholdNull=t===null}if(t===null||t===undefined){return i.prototype.validateProperty.apply(this,[e,null])}if(e==="color"&&!this.isColorCorrect(t)){s.warning("Color property of LineMicroChart must be of type sap.m.ValueCSSColor either as single value or as composite value (above: value, below: value)");t=null}else if(["minXValue","maxXValue","minYValue","maxYValue"].indexOf(e)>=0){if(!jQuery.isNumeric(t)){s.warning("Property "+e+" of LineMicroChart is not numeric and it will be reset to default");t=null}}return i.prototype.validateProperty.apply(this,[e,t])};u.prototype._getInternalLine=function(){var e=this.getAggregation("_line");if(!e){e=new l;this.setAggregation("_line",e)}return e};u.prototype._getLines=function(){var e=this.getAggregation("_line");return e&&e._getPoints().length>0?[e]:this.getLines()};u.prototype._setModeFlags=function(){var e;this._minXScale=Infinity;this._maxXScale=-Infinity;if(this._bThresholdNull){this._minYScale=Infinity;this._maxYScale=-Infinity}else{this._minYScale=this._maxYScale=this.getThreshold()}this._getLines().forEach(function(i){e=i._getPoints();i._bFocusMode=false;i._bSemanticMode=false;for(var a=0;a<e.length;a++){this._minXScale=Math.min(e[a].getX(),this._minXScale);this._maxXScale=Math.max(e[a].getX(),this._maxXScale);this._minYScale=Math.min(e[a].getY(),this._minYScale);this._maxYScale=Math.max(e[a].getY(),this._maxYScale);if(e[a].getMetadata().getName()==="sap.suite.ui.microchart.LineMicroChartEmphasizedPoint"){i._bFocusMode=true;if(e[a].getColor()!==t.ValueColor.Neutral&&e[a].getShow()){i._bSemanticMode=true}}}if(!i._bFocusMode){i._bSemanticMode=i.getColor()&&i.getColor().above&&i.getColor().below&&!this._bThresholdNull}if(i._bFocusMode&&i._bSemanticMode&&i.getColor()!==t.ValueColor.Neutral){s.info("Property Color of LineMicroChart has no effect if EmphasizedPoints with colors different from Neutral are used.")}if(i._bFocusMode&&i.getShowPoints()){s.info("Property ShowPoints of LineMicroChart has no effect if EmphasizedPoints are used.")}if(i.getColor()&&i.getColor().above&&i.getColor().below&&this._bThresholdNull){s.info("Property Color of LineMicroChart has no effect if it is composed of colors for above and below when property Threshold is null")}},this);var i=this.getLeftTopLabel(),a=this.getRightTopLabel(),o=this.getLeftBottomLabel(),r=this.getRightBottomLabel();this._bNoBottomLabels=r.length===0&&o.length===0;this._bNoTopLabels=i.length===0&&a.length===0};u.prototype._normalizePoints=function(){var e=this._minXScale,t=this._maxXScale,i=this._minYScale,a=this._maxYScale;if(jQuery.isNumeric(this.getMinXValue())){this._minXScale=this.getMinXValue();if(!jQuery.isNumeric(this.getMaxXValue())&&this._minXScale>t){s.error("Property minXValue of LineMicroChart must be smaller to at least one X value of the points aggregation if property maxXValue is not set")}}if(jQuery.isNumeric(this.getMaxXValue())){this._maxXScale=this.getMaxXValue();if(!jQuery.isNumeric(this.getMinXValue())&&this._maxXScale<e){s.error("Property maxXValue of LineMicroChart must be greater to at least one X value of the points aggregation if property minXValue is not set")}}if(jQuery.isNumeric(this.getMinYValue())){this._minYScale=this.getMinYValue();if(!jQuery.isNumeric(this.getMaxYValue())&&this._minYScale>a){s.error("Property minYValue of LineMicroChart must be greater to threshold or at least one Y value of the points aggregation if property maxYValue is not set")}}if(jQuery.isNumeric(this.getMaxYValue())){this._maxYScale=this.getMaxYValue();if(!jQuery.isNumeric(this.getMinYValue())&&this._maxYScale<i){s.error("Property maxYValue of LineMicroChart must be smaller to threshold or at least one Y value of the points aggregation if property minYValue is not set")}}if(this.getMaxYValue()<this.getMinYValue()){s.error("Property maxYValue of LineMicroChart must not be smaller to minYValue")}if(this.getMaxXValue()<this.getMinXValue()){s.error("Property maxXValue of LineMicroChart must not be smaller to minXValue")}var o,r=this._maxXScale-this._minXScale,l=this._maxYScale-this._minYScale,n,h;this._bScalingValid=r>=0&&l>=0;if(this._bScalingValid){this._getLines().forEach(function(e){o=e._getPoints();e._aNormalizedPoints=[];for(var t=0;t<o.length;t++){if(this._minXScale===this._maxXScale&&o[t].getX()===this._maxXScale){n=50}else{n=(o[t].getX()-this._minXScale)/r*100}if(this._minYScale===this._maxYScale&&o[t].getY()===this._maxYScale){h=50}else{h=(o[t].getY()-this._minYScale)/l*100}e._aNormalizedPoints.push({x:n,y:h})}},this);this._fNormalizedThreshold=(this.getThreshold()-this._minYScale)/l*100}};u.prototype._onResize=function(){var e=this.$(),t=parseInt(e.width()),i=parseInt(e.height()),a=e.find(".sapSuiteLMCLeftTopLabel, .sapSuiteLMCRightTopLabel"),o=e.find(".sapSuiteLMCThresholdLabel");e.removeClass("sapSuiteLMCNoLabels sapSuiteLMCLookM sapSuiteLMCLookS sapSuiteLMCLookXS");if(t<=this.convertRemToPixels(u.THRESHOLD_WIDTH_NO_LABEL)){e.addClass("sapSuiteLMCNoLabels")}if(this.getShowTopLabels()){e.removeClass("sapSuiteLMCNoTopLabels")}if(this.getShowBottomLabels()){e.removeClass("sapSuiteLMCNoBottomLabels")}if(i<this.convertRemToPixels(u.THRESHOLD_LOOK_S)){e.addClass("sapSuiteLMCLookXS")}else if(i<this.convertRemToPixels(u.THRESHOLD_LOOK_M)){e.addClass("sapSuiteLMCLookS")}else if(i<this.convertRemToPixels(u.THRESHOLD_LOOK_L)){e.addClass("sapSuiteLMCLookM")}if(this.getShowThresholdValue()){e.removeClass("sapSuiteLMCNoThresholdLabel")}if(this._isAnyLabelTruncated(a)){e.addClass("sapSuiteLMCNoTopLabels")}if(this._isAnyLabelTruncated(o)){e.addClass("sapSuiteLMCNoThresholdLabel")}this._adjustThresholdLabelPos()};u.prototype._adjustThresholdLabelPos=function(){var e=this.$();var t=e.find(".sapSuiteLMCThresholdLabelWrapper").height();var i=e.find(".sapSuiteLMCThresholdLabel");var a=i.outerHeight();var o=t*(100-this._fNormalizedThreshold)*.01;var s=o-a/2;if(s<0){s=0}else if(s+a>t){s=t-a}i.css("top",s*100/t+"%")};u.prototype._getAltHeaderText=function(e){var t=this._oRb.getText("LINEMICROCHART");if(e){t+=" "+this._oRb.getText("IS_ACTIVE")}t+="\n";if(!this._hasData()){t+=this._oRb.getText("NO_DATA");return t}var i=this.getLeftTopLabel();var a=this.getLeftBottomLabel();var o=this.getRightTopLabel();var s=this.getRightBottomLabel();var r=true;if(i||a){t+=this._oRb.getText("LINEMICROCHART_START")+": "+a+" "+i;r=false}if(o||s){t+=(r?"":"\n")+this._oRb.getText("LINEMICROCHART_END")+": "+s+" "+o}return t};u.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};u.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};u.prototype._bindMouseEnterLeaveHandler=function(){this.$().on("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().on("mouseleave.tooltip",this._removeTitleAttribute.bind(this))};u.prototype._unbindMouseEnterLeaveHandler=function(){this.$().off("mouseenter.tooltip");this.$().off("mouseleave.tooltip")};u.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){a.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};u.prototype._hasData=function(){return this._getLines().length>0};u.prototype.firePress=function(){if(this._hasData()){i.prototype.fireEvent.call(this,"press",arguments)}};r.extendMicroChart(u);return u});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/LineMicroChartEmphasizedPoint", ["sap/m/library","sap/suite/ui/microchart/LineMicroChartPoint"],function(e,r){"use strict";var t=e.ValueCSSColor;var a=r.extend("sap.suite.ui.microchart.LineMicroChartEmphasizedPoint",{metadata:{properties:{color:{type:"sap.m.ValueCSSColor",group:"Misc",defaultValue:"Neutral"},show:{type:"boolean",group:"Appearance",defaultValue:false}}}});a.prototype.setColor=function(e){this.setProperty("color",t.isValid(e)?e:null);return this};return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/LineMicroChartLine", ["./library","sap/ui/core/Element","sap/suite/ui/microchart/LineMicroChartEmphasizedPoint","sap/base/Log","sap/suite/ui/microchart/MicroChartUtils"],function(t,e,r,o,i){"use strict";var n=t.LineType;var a=e.extend("sap.suite.ui.microchart.LineMicroChartLine",{metadata:{library:"sap.suite.ui.microchart",properties:{color:{type:"any",group:"Appearance"},showPoints:{type:"boolean",group:"Appearance"},type:{type:"sap.suite.ui.microchart.LineType",group:"Appearance",defaultValue:n.Solid}},defaultAggregation:"points",aggregations:{points:{type:"sap.suite.ui.microchart.LineMicroChartPoint",multiple:true,bindable:"bindable"}}}});a.getMetadata().getAllAggregations()["points"]._doesNotRequireFactory=true;a.prototype.bindAggregation=function(t,r){if(t==="points"){if(!r.factory&&!r.template){this._bNoFactory=true}}e.prototype.bindAggregation.apply(this,arguments)};a.prototype.updatePoints=function(t){if(!this._bNoFactory){return this.updateAggregation("points")}else{this.rerender()}};a.prototype.clone=function(){var t=e.prototype.clone.apply(this,arguments);t._bNoFactory=this._bNoFactory;return t};a.prototype._getPoints=function(){var t=this;if(!this._bNoFactory){var e=this.getAggregation("points");return e===null?[]:e}return this.getBinding("points").getContexts().map(function(e){return{getX:function(){return e.getProperty("x")},getY:function(){return e.getProperty("y")},getShow:function(){return e.getProperty("show")?e.getProperty("show"):t._getEmphPointPropDefaultValue("show")},getColor:function(){return e.getProperty("color")?e.getProperty("color"):t._getEmphPointPropDefaultValue("color")},getMetadata:function(){return{getName:function(){return e.getProperty("emphasized")?"sap.suite.ui.microchart.LineMicroChartEmphasizedPoint":"sap.suite.ui.microchart.LineMicroChartPoint"}}}}})};a.prototype._getEmphPointPropDefaultValue=function(t){return r.getMetadata().getProperty(t).getDefaultValue()};a.prototype.getColor=function(){var t=this.getProperty("color"),e=this.getParent();if(t===undefined||t===null){if(e&&e.isA("sap.suite.ui.microchart.LineMicroChart")){t=e.getColor()}}return t};a.prototype.validateProperty=function(t,r){if(r===null||r===undefined){return e.prototype.validateProperty.apply(this,[t,null])}if(t==="color"&&!this.isColorCorrect(r)){o.warning("Color property of LineMicroChartLine must be of type sap.m.ValueCSSColor either as single value or as composite value (above: value, below: value)");r=null}return e.prototype.validateProperty.apply(this,[t,r])};a.prototype.getShowPoints=function(){var t=this.getParent(),e=this.getProperty("showPoints");if(e===undefined||e===null){if(t&&t.isA("sap.suite.ui.microchart.LineMicroChart")){e=t.getShowPoints()}}return e};i.extendMicroChart(a);return a});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/LineMicroChartPoint", ["sap/ui/core/Element"],function(t){"use strict";var e=t.extend("sap.suite.ui.microchart.LineMicroChartPoint",{metadata:{properties:{x:{type:"float",group:"Data",defaultValue:0},y:{type:"float",group:"Data",defaultValue:0}}}});return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/LineMicroChartRenderer", ["./library","sap/ui/core/theming/Parameters","sap/suite/ui/microchart/MicroChartRenderUtils","sap/m/library"],function(e,t,i,s){"use strict";var o={apiVersion:2};var a=e.LineType;var l=s.ValueColor;o.QUALITATIVE_CLASS="sapUiChartPaletteQualitativeHue";o.QUALITATIVE_MAX=22;o.render=function(e,t){if(t._hasData()){e.openStart("div",t);this._writeMainProperties(e,t);if(t._bSemanticMode){e.class("sapSuiteLMCSemanticMode")}if(t._bFocusMode){e.class("sapSuiteLMCFocusMode")}if(t._bNoBottomLabels||!t.getShowBottomLabels()){e.class("sapSuiteLMCNoBottomLabels")}if(t._bNoTopLabels||!t.getShowTopLabels()){e.class("sapSuiteLMCNoTopLabels")}e.openEnd();e.openStart("div");e.class("sapSuiteLMCVerticalAlignmentContainer");e.openEnd();this._renderLabelsTop(e,t);e.openStart("div");e.class("sapSuiteLMCContentWrapper");e.openEnd();this._renderCanvas(e,t);this._renderThresholdLabel(e,t);e.close("div");this._renderLabelsBottom(e,t);e.close("div");e.close("div")}else{this._renderNoData(e,t)}};o._writeMainProperties=function(e,t){var i=t.hasListeners("press");this._renderActiveProperties(e,t);var s=t.getTooltip_AsString(i);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",s)}e.class("sapSuiteLMC");e.class("sapSuiteLMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};o._renderCanvas=function(e,t){var i;var s;e.openStart("div");e.class("sapSuiteLMCSvgCanvas");e.openEnd();if(t._bScalingValid){e.openStart("svg",t.getId()+"-sapSuiteLMCSvgElement");e.attr("focusable","false");e.class("sapSuiteLMCSvgElement");e.openEnd();this._renderThresholdLine(e,t);t._getLines().forEach(function(i,o){e.openStart("g",i);e.openEnd();s=i._getPoints().length;for(var a=1;a<s;a++){this._renderLine(e,t,o,i._aNormalizedPoints[a-1].x,i._aNormalizedPoints[a-1].y,i._aNormalizedPoints[a].x,i._aNormalizedPoints[a].y)}e.close("g")},this);e.close("svg");e.openStart("div",t.getId()+"-sapSuiteLMCPointsContainer");e.class("sapSuiteLMCPointsContainer");e.openEnd();t._getLines().forEach(function(o,a){i=o._getPoints();s=i.length;var l=o.getShowPoints(),r,n;if(o._bFocusMode||l){for(var d=0;d<s;d++){r=i[d];n=this._isPointEmphasized(r);if(!o._bFocusMode&&l||o._bFocusMode&&n&&r.getShow()){this._renderPoint(e,t,a,r,d,n)}}}},this);e.close("div")}e.close("div")};o._renderThresholdLabel=function(e,t){var i=t.getThresholdDisplayValue();if(this._isThresholdValue(t)&&t.getShowThresholdLine()&&t.getShowThresholdValue()){e.openStart("div");e.class("sapSuiteLMCThresholdLabelWrapper");e.openEnd();e.openStart("div");e.class("sapSuiteLMCThresholdLabel");e.openEnd();i=i?i:t.getThreshold();e.text(i);e.close("div");e.close("div")}};o._renderPoint=function(e,t,i,s,o,r){var n=t._getLines()[i],d=n.getType(),h=n._aNormalizedPoints[o],L=n.getColor(),c,p;if(h.x<0||h.x>100||h.y<0||h.y>100){return}e.openStart("div");e.style("left",h.x+"%");e.style("top",100-h.y+"%");p=d===a.Dotted?"border-color":"background-color";e.class("sapSuiteLMCPoint"+d);if(n._bFocusMode&&n._bSemanticMode){c=s.getColor();if(l[c]){e.class("sapSuiteLMCPoint"+c)}else{e.style(p,this._getHexColor(c))}}else if(!n._bFocusMode&&n._bSemanticMode){if(s.getY()>=t.getThreshold()){if(l[L.above]){e.class("sapSuiteLMCPoint"+L.above)}else{e.style(p,this._getHexColor(L.above))}}else if(l[L.below]){e.class("sapSuiteLMCPoint"+L.below)}else{e.style(p,this._getHexColor(L.below))}}else if(!n._bSemanticMode&&typeof L==="string"){if(n.getColor()===l.Neutral){e.style(p,this._getQualitativeColor(i+1))}else if(l[L]){e.class("sapSuiteLMCPoint"+L)}else{e.style(p,this._getHexColor(L))}}else{e.style(p,this._getQualitativeColor(i+1))}e.class("sapSuiteLMCPoint");if(r&&s.getShow()){e.class("sapSuiteLMCPointEmphasized")}e.openEnd();e.close("div")};o._renderThresholdLine=function(e,t){if(this._isThresholdValue(t)&&t.getShowThresholdLine()){e.openStart("line");e.attr("x1","0%");e.attr("y1",100-t._fNormalizedThreshold+"%");e.attr("x2","100%");e.attr("y2",100-t._fNormalizedThreshold+"%");e.class("sapSuiteLMCLineThreshold");e.openEnd();e.close("line")}};o._isThresholdValue=function(e){return e._fNormalizedThreshold>=0&&e._fNormalizedThreshold<=100&&!e._bThresholdNull};o._renderLine=function(e,t,i,s,o,a,l){if(this._isDimensionLineOutsideCanvas(t,s,a,"X")||this._isDimensionLineOutsideCanvas(t,o,l,"Y")){return}var r,n,d=a-s,h=l-o;if((o-t._fNormalizedThreshold)*(l-t._fNormalizedThreshold)<0){r=s+(t._fNormalizedThreshold-o)*d/h;this._renderLine(e,t,i,s,o,r,t._fNormalizedThreshold);this._renderLine(e,t,i,r,t._fNormalizedThreshold,a,l)}else if(o*l<0){r=s-o*d/h;this._renderLine(e,t,i,s,o,r,0);this._renderLine(e,t,i,r,0,a,l)}else if((o-100)*(l-100)<0){r=s+(100-o)*d/h;this._renderLine(e,t,i,s,o,r,100);this._renderLine(e,t,i,r,100,a,l)}else if(s*a<0){n=o-s*h/d;this._renderLine(e,t,i,s,o,0,n);this._renderLine(e,t,i,0,n,a,l)}else if((s-100)*(a-100)<0){n=o+(100-s)*h/d;this._renderLine(e,t,i,s,o,100,n);this._renderLine(e,t,i,100,n,a,l)}else{this._displayLine(e,t,i,s,o,a,l)}};o._displayLine=function(e,t,i,s,o,a,r){var n=t._getLines()[i],d=n.getColor();e.openStart("line");e.attr("x1",s+"%");e.attr("y1",100-o+"%");e.attr("x2",a+"%");e.attr("y2",100-r+"%");e.class("sapSuiteLMCLine");e.class("sapSuiteLMCLine"+n.getType());if(n._bSemanticMode&&n._bFocusMode){e.class("sapSuiteLMCLineNeutral")}else if(n._bSemanticMode&&!n._bFocusMode){if(o>=t._fNormalizedThreshold&&r>=t._fNormalizedThreshold){if(l[d.above]){e.class("sapSuiteLMCLine"+d.above)}else{e.style("stroke",this._getHexColor(d.above))}}else if(l[d.below]){e.class("sapSuiteLMCLine"+d.below)}else{e.style("stroke",this._getHexColor(d.below))}}else if(!n._bSemanticMode&&typeof d==="string"){if(d===l.Neutral){e.style("stroke",this._getQualitativeColor(i+1))}else if(l[d]){e.class("sapSuiteLMCLine"+d)}else{e.style("stroke",this._getHexColor(d))}}else{e.style("stroke",this._getQualitativeColor(i+1))}e.openEnd();e.close("line")};o._getQualitativeColor=function(e){return this._getHexColor(this.QUALITATIVE_CLASS+e%this.QUALITATIVE_MAX)};o._renderLabelsBottom=function(e,t){var i=t.getLeftBottomLabel(),s=t.getRightBottomLabel();if(!t.getShowBottomLabels()||!i&&!s){return}e.openStart("div");e.class("sapSuiteLMCLabels");e.class("sapSuiteLMCLabelsBottom");e.openEnd();if(i&&i.length>0||s&&s.length>0){e.openStart("div");e.class("sapSuiteLMCLeftBottomLabel");e.class("sapSuiteLMCLabel");e.openEnd();e.text(i);e.close("div");e.openStart("div");e.class("sapSuiteLMCRightBottomLabel");e.class("sapSuiteLMCLabel");e.openEnd();e.text(s);e.close("div")}e.close("div")};o._renderLabelsTop=function(e,t){var i=t.getLeftTopLabel(),s=t.getRightTopLabel(),o=t._getLines()[0];if(!t.getShowTopLabels()||!i&&!s){return}var a="",r="",n="",d="",h,L,c,p,u;var _=function(t){e.style("color",t)};var S=function(e,t){var i="",s="";if(this._isPointEmphasized(e)&&e.getShow()){u=e.getColor();if(l[u]){i="sapSuiteLMCLabel"+u}else{s=this._getHexColor(u)}}else{i="sapSuiteLMCLabelNeutral"}if(t){d=s;r=i}else{n=s;a=i}}.bind(this);if(o&&o._getPoints().length>1){h=o._getPoints();L=h.length;c=h[0];p=h[L-1];var g=o.getColor();if(o._bFocusMode&&o._bSemanticMode&&t._bScalingValid){S(c,false);S(p,true)}else if(!o._bFocusMode&&o._bSemanticMode&&t._bScalingValid&&o.getShowPoints()&&l[g.above]&&l[g.below]){if(c.getY()>=t.getThreshold()){a="sapSuiteLMCLabel"+g.above}else{a="sapSuiteLMCLabel"+g.below}if(p.getY()>=t.getThreshold()){r="sapSuiteLMCLabel"+g.above}else{r="sapSuiteLMCLabel"+g.below}}else{a="sapSuiteLMCLabelNeutral";r="sapSuiteLMCLabelNeutral"}}e.openStart("div");e.class("sapSuiteLMCLabels");e.class("sapSuiteLMCLabelsTop");e.openEnd();if(i&&i.length>0||s&&s.length>0){e.openStart("div");e.class("sapSuiteLMCLeftTopLabel");e.class("sapSuiteLMCLabel");e.class(a);if(n){_(n)}e.openEnd();e.text(i);e.close("div");e.openStart("div");e.class("sapSuiteLMCRightTopLabel");e.class("sapSuiteLMCLabel");e.class(r);if(d){_(d)}e.openEnd();e.text(t.getRightTopLabel());e.close("div")}e.close("div")};o._isPointEmphasized=function(e){return e&&e.getMetadata().getName()==="sap.suite.ui.microchart.LineMicroChartEmphasizedPoint"};o._getHexColor=function(e){return t.get(e)||e};o._isDimensionLineOutsideCanvas=function(e,t,i,s){var o=100,a=0;if(s==="X"&&e._minXScale===e._maxXScale){o=50;a=50}else if(s==="Y"&&e._minYScale===e._maxYScale){o=50;a=50}return t>=o&&i>=o&&!(t===o&&i===o)||t<=a&&i<=a&&!(t===a&&i===a)};i.extendMicroChartRenderer(o);return o},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/MicroChartRenderUtils", ["sap/ui/core/Lib"],function(e){"use strict";var t={apiVersion:2,extendMicroChartRenderer:function(t){t._renderNoData=function(t,i){if(!i.getHideOnNoData()){t.openStart("div",i);this._writeMainProperties(t,i);t.openEnd();t.openStart("div");t.class("sapSuiteUiMicroChartNoData");t.openEnd();t.openStart("div");t.class("sapSuiteUiMicroChartNoDataTextWrapper");t.openEnd();var r=e.getResourceBundleFor("sap.suite.ui.microchart");var a=r.getText("NO_DATA");t.openStart("span").openEnd();t.text(a);t.close("span");t.close("div");t.close("div");t.close("div")}};t._renderActiveProperties=function(e,t){var i=t.hasListeners("press");if(i){if(t._hasData()){e.class("sapSuiteUiMicroChartPointer")}e.attr("tabindex","0")}}}};return t},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/MicroChartUtils", ["sap/ui/core/Control","sap/m/library","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var i=e.Size;var r={extendMicroChart:function(r){r.prototype._isResponsive=function(){return this.getSize()===i.Responsive};r.prototype._digitsAfterDecimalPoint=function(t){var e=(""+t).match(/[.,](\d+)/g);return e?(""+e).length-1:0};r.prototype.getAccessibilityInfo=function(){return{type:this._getAccessibilityControlType(),description:this.getTooltip_AsString()}};r.prototype._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(sap.ui.getCore().getConfiguration().getTheme())};r.prototype.convertRemToPixels=function(t){return t*parseFloat(window.getComputedStyle(document.documentElement).fontSize)};r.prototype._isAnyLabelTruncated=function(t){return t.toArray().some(this._isLabelTruncated)};r.prototype._isAnyLabelVerticallyTruncated=function(t){return t.toArray().some(this._isLabelVerticallyTruncated)};r.prototype._isLabelTruncated=function(t){return t.scrollWidth>t.offsetWidth};r.prototype._isLabelVerticallyTruncated=function(t){return Math.abs(t.scrollHeight-t.offsetHeight)>1};r.prototype._isAnyLabelNumericAndTruncated=function(t){return t.toArray().some(this._isLabelNumericAndTruncated.bind(this))};r.prototype._isLabelNumericAndTruncated=function(t){return!jQuery.isNumeric(t.textContent)?false:this._isLabelTruncated(t)};r.prototype.isColorCorrect=function(t){return e.ValueCSSColor.isValid(t)&&t!==""||e.ValueCSSColor.isValid(t.below)&&t.below!==""&&e.ValueCSSColor.isValid(t.above)&&t.above!==""};r.prototype.getTooltip_AsString=function(e){var i=t.prototype.getTooltip_AsString.apply(this,arguments),r=this._getAltHeaderText(e),o=false;if(i){i=i.split("((AltText))").join(r)}if(!i){i="";o=true}if(this._getAltSubText){i+=this._getAltSubText(o)}return i}}};return r},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/RadialMicroChart", ["./library","sap/m/library","sap/ui/core/Control","sap/suite/ui/microchart/RadialMicroChartRenderer","sap/ui/core/ResizeHandler","sap/base/Log","sap/ui/events/KeyCodes","sap/suite/ui/microchart/MicroChartUtils","./RadialMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming"],function(e,t,i,s,r,a,o,n,l,p,u){"use strict";var h=t.ValueColor;var d=i.extend("sap.suite.ui.microchart.RadialMicroChart",{constructor:function(e,t){var s;if(t&&typeof t.percentage==="number"){s=true}else if(e&&typeof e.percentage==="number"){s=true}else{s=false}try{i.apply(this,arguments);this._bPercentageMode=s}catch(e){this.destroy();throw e}},metadata:{library:"sap.suite.ui.microchart",properties:{total:{group:"Data",type:"float"},fraction:{group:"Data",type:"float",defaultValue:null},percentage:{group:"Data",type:"float",defaultValue:null},valueColor:{group:"Appearance",type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},size:{group:"Misc",type:"sap.m.Size",defaultValue:"Auto"},width:{group:"Misc",type:"sap.ui.core.CSSSize"},height:{group:"Misc",type:"sap.ui.core.CSSSize"},alignContent:{group:"Misc",type:"sap.suite.ui.microchart.HorizontalAlignmentType",defaultValue:"Left"},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}},renderer:l});d.THRESHOLD_LOOK_XS=1.125;d.THRESHOLD_LOOK_S=3.5;d.THRESHOLD_LOOK_M=4.5;d.THRESHOLD_LOOK_L=5.875;d.THRESHOLD_WIDTH_NO_LABEL=6;d.prototype.init=function(){this._oRb=p.getLibraryResourceBundle("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;p.ready(this._handleCoreInitialized.bind(this))};d.prototype._handleCoreInitialized=function(){u.attachApplied(this._handleThemeApplied.bind(this))};d.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate();u.detachApplied(this._handleThemeApplied.bind(this))};d.prototype.onBeforeRendering=function(){if(!this._getPercentageMode()){if(this.getTotal()===0){a.info("Total cannot be 0. Please add a valid total value.")}else{this.setProperty("percentage",Math.round(this.getFraction()*100/this.getTotal()*10)/10,true)}}this._unbindMouseEnterLeaveHandler()};d.prototype.onAfterRendering=function(){this._bindMouseEnterLeaveHandler();this._sResizeHandlerId=r.register(this,this._onResize.bind(this));this._onResize()};d.prototype.ontouchstart=function(e){if(this.hasListeners("press")===true){e.setMarked()}};d.prototype.ontap=function(e){if(this.hasListeners("press")===true){e.setMarked()}this.firePress()};d.prototype.onkeydown=function(e){if(e.which===o.SPACE){if(this.hasListeners("press")===true){e.setMarked()}e.preventDefault()}};d.prototype.onkeyup=function(e){if(e.which===o.ENTER||e.which===o.SPACE){if(this.hasListeners("press")===true){e.setMarked()}this.firePress();e.preventDefault()}};d.prototype.attachEvent=function(e,t,s,r){i.prototype.attachEvent.call(this,e,t,s,r);if(e==="press"){this.invalidate()}return this};d.prototype.detachEvent=function(e,t,s){i.prototype.detachEvent.call(this,e,t,s);if(e==="press"){this.invalidate()}return this};d.prototype.exit=function(){this._deregisterResizeHandler()};d.prototype._getPercentageMode=function(){return this._bPercentageMode};d.prototype.setPercentage=function(e){if(typeof e==="number"){var t=Math.floor(e*10)/10;this._bPercentageMode=true;if(t!==this.getPercentage()){this.setProperty("percentage",t)}}else{this._bPercentageMode=false;this.setProperty("percentage",null)}return this};d.prototype._onResize=function(){var e=this.$(),t=e.height(),i=e.width(),s=e.find(".sapSuiteRMCOutsideLabel"),r=e.find(".sapSuiteRMCInsideLabel"),a=e.find(".sapSuiteRMCInnerContainer");e.removeClass("sapSuiteRMCLookL sapSuiteRMCLookM sapSuiteRMCLookS sapSuiteRMCLookXS");s.removeClass("sapSuiteRMCLabelHide");r.removeClass("sapSuiteRMCLabelHide");a.css("width",a.height());if(t<this.convertRemToPixels(d.THRESHOLD_LOOK_S)){e.addClass("sapSuiteRMCLookXS");r.addClass("sapSuiteRMCLabelHide")}else if(t<this.convertRemToPixels(d.THRESHOLD_LOOK_M)||i<this.convertRemToPixels(d.THRESHOLD_LOOK_M)){e.addClass("sapSuiteRMCLookS");s.addClass("sapSuiteRMCLabelHide")}else if(t<this.convertRemToPixels(d.THRESHOLD_LOOK_L)||i<this.convertRemToPixels(d.THRESHOLD_LOOK_L)){e.addClass("sapSuiteRMCLookM");s.addClass("sapSuiteRMCLabelHide")}else{e.addClass("sapSuiteRMCLookL");s.addClass("sapSuiteRMCLabelHide")}if(this._isAnyLabelTruncated(s)){s.addClass("sapSuiteRMCLabelHide")}if(this._isAnyLabelTruncated(r)){r.addClass("sapSuiteRMCLabelHide")}};d.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_RADIALMICROCHART")};d.prototype._isValueColorValid=function(){return h.hasOwnProperty(this.getValueColor())};d.prototype._isTooltipSuppressed=function(){var e=this.getTooltip_Text();if(e&&e.trim().length===0){return true}else{return false}};d.prototype._getAltHeaderText=function(e){var t=this._oRb.getText("RADIALMICROCHART");if(e){t+=" "+this._oRb.getText("IS_ACTIVE")}t+="\n";if(!this._hasData()){t+=this._oRb.getText("NO_DATA");return t}var i=this.getPercentage();if(i>100){i=100}else if(i<0){i=0}if(this._isValueColorValid()){t+=this._oRb.getText("RADIALMICROCHART_ARIA_LABEL",[this.getPercentage(),this._getStatusText()])}else{t+=this._oRb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",i)}return t};d.prototype._getStatusText=function(){var e=this.getValueColor();switch(e){case h.Error:return this._oRb.getText("SEMANTIC_COLOR_ERROR");case h.Critical:return this._oRb.getText("SEMANTIC_COLOR_CRITICAL");case h.Good:return this._oRb.getText("SEMANTIC_COLOR_GOOD");case h.Neutral:return this._oRb.getText("SEMANTIC_COLOR_NEUTRAL");default:return""}};d.prototype._addTitleAttribute=function(){if(!this.$().attr("title")&&this._hasData()){this.$().attr("title",this.getTooltip_AsString())}};d.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this.$().removeAttr("title")}};d.prototype._bindMouseEnterLeaveHandler=function(){this.$().on("mouseenter.tooltip",this._addTitleAttribute.bind(this));this.$().on("mouseleave.tooltip",this._removeTitleAttribute.bind(this))};d.prototype._unbindMouseEnterLeaveHandler=function(){this.$().off("mouseenter.tooltip");this.$().off("mouseleave.tooltip")};d.prototype._isActuallyANumber=function(e){return!isNaN(e)&&e!==null&&(e!=="Infinity"&&e!=="-Infinity")};d.prototype._hasData=function(){return this._getPercentageMode()||this._isActuallyANumber(this.getTotal())};d.prototype.firePress=function(){if(this._hasData()){i.prototype.fireEvent.call(this,"press",arguments)}};d.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){r.deregister(this._sResizeHandlerId);this._sResizeHandlerId=null}};n.extendMicroChart(d);return d});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/RadialMicroChartRenderer", ["sap/ui/Device","sap/m/library","./library","sap/base/Log","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters"],function(e,t,r,i,a,n){"use strict";var s=t.ValueColor;var _={apiVersion:2};_.FORM_RATIO=100;_.BACKGROUND_CIRCLE_BORDER_WIDTH=1;_.BACKGROUND_CIRCLE_RADIUS=_.FORM_RATIO/2-_.BACKGROUND_CIRCLE_BORDER_WIDTH/2;_.RING_WIDTH=8.75;_.RING_CORE_RADIUS=_.BACKGROUND_CIRCLE_RADIUS-_.RING_WIDTH/2-_.BACKGROUND_CIRCLE_BORDER_WIDTH;_.SVG_VIEWBOX_CENTER_FACTOR="50%";_.X_ROTATION=0;_.SWEEP_FLAG=1;_.PADDING_WIDTH=.22;_.NUMBER_FONT_SIZE=23.5;_.EDGE_CASE_SIZE_USE_SMALL_FONT=54;_.EDGE_CASE_SIZE_SHOW_TEXT=46;_.EDGE_CASE_SIZE_MICRO_CHART=24;_.render=function(e,t){if(!t._bThemeApplied){return}if(t._hasData()){this._writeDivStartElement(t,e);this._writeOuterContainerElement(t,e);e.close("div")}else{this._renderNoData(e,t)}};_._writeOuterContainerElement=function(e,t){this._writeDivVerticalContainerElement(e,t);this._writeDivInnerContainerElement(e,t);if(this._renderingOfInnerContentIsRequired(e)){this._writeLabelInside(e,t)}this._writeSVGStartElement(e,t);this._writeBackground(t);if(this._renderingOfInnerContentIsRequired(e)){this._writeBorders(t);if(this._innerCircleRequired(e)){this._writeCircle(e,t)}else{this._writeCircleWithPathElements(e,t)}}t.close("svg");t.close("div");if(this._renderingOfInnerContentIsRequired(e)){this._writeLabelOutside(e,t)}t.close("div")};_._writeMainProperties=function(e,t){var r=t.hasListeners("press");this._renderActiveProperties(e,t);var i=t.getTooltip_AsString(r);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",i)}e.class("sapSuiteRMC");e.class("sapSuiteRMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};_._writeDivStartElement=function(e,t){t.openStart("div",e);this._writeMainProperties(t,e);t.openEnd()};_._writeDivVerticalContainerElement=function(e,t){t.openStart("div");t.class("sapSuiteRMCVerticalAlignmentContainer");t.class("sapSuiteRMCAlign"+e.getAlignContent());t.openEnd()};_._writeDivInnerContainerElement=function(e,t){t.openStart("div");t.class("sapSuiteRMCInnerContainer");t.openEnd()};_._writeSVGStartElement=function(e,t){t.openStart("svg");t.class("sapSuiteRMCSvg");t.attr("focusable",false);t.attr("viewBox","0 0 "+_.FORM_RATIO+" "+_.FORM_RATIO);t.attr("version","1.1");t.attr("xmlns","http://www.w3.org/2000/svg");t.openEnd()};_._writeBackground=function(e){e.openStart("circle");e.class("sapSuiteRMCCircleBackground");e.attr("cx",_.SVG_VIEWBOX_CENTER_FACTOR);e.attr("cy",_.SVG_VIEWBOX_CENTER_FACTOR);e.attr("r",_.BACKGROUND_CIRCLE_RADIUS);e.attr("stroke-width",this.BACKGROUND_CIRCLE_BORDER_WIDTH);e.openEnd().close("circle")};_._writeBorders=function(e){var t=_.RING_CORE_RADIUS+_.RING_WIDTH/2-_.BACKGROUND_CIRCLE_BORDER_WIDTH/2,r=_.RING_CORE_RADIUS-_.RING_WIDTH/2+_.BACKGROUND_CIRCLE_BORDER_WIDTH/2;e.openStart("circle");e.class("sapSuiteRMCRing");e.attr("cx",_.SVG_VIEWBOX_CENTER_FACTOR);e.attr("cy",_.SVG_VIEWBOX_CENTER_FACTOR);e.attr("r",t);e.attr("stroke-width",_.BACKGROUND_CIRCLE_BORDER_WIDTH);e.openEnd().close("circle");e.openStart("circle");e.class("sapSuiteRMCRing");e.attr("cx",_.SVG_VIEWBOX_CENTER_FACTOR);e.attr("cy",_.SVG_VIEWBOX_CENTER_FACTOR);e.attr("r",r);e.attr("stroke-width",_.BACKGROUND_CIRCLE_BORDER_WIDTH);e.openEnd().close("circle")};_._writeCircle=function(e,t){var r=this._getFullCircleColor(e);t.openStart("circle");if(e._isValueColorValid()||r==="sapSuiteRMCRemainingCircle"){t.class(r)}else{t.attr("stroke",n.get(r)||r)}t.attr("cx",_.SVG_VIEWBOX_CENTER_FACTOR);t.attr("cy",_.SVG_VIEWBOX_CENTER_FACTOR);t.attr("r",_.RING_CORE_RADIUS);t.attr("fill","transparent");t.attr("stroke-width",_.RING_WIDTH+"px");t.openEnd().close("circle")};_._writeCircleWithPathElements=function(e,t){var r=e.getPercentage()>50?1:0;var i=this._getPercentageForCircleRendering(e)-_.PADDING_WIDTH;var a=this._calculatePathCoordinates(e,i,false);this._writePath1(r,a,e,t);i=this._getPercentageForCircleRendering(e)+_.PADDING_WIDTH;a=this._calculatePathCoordinates(e,i,true);this._writePath2(r,a,e,t)};_._writePath1=function(e,t,r,i){var a="M"+t[0]+" "+t[1]+" A "+_.RING_CORE_RADIUS+" "+_.RING_CORE_RADIUS+", "+_.X_ROTATION+", "+e+", "+_.SWEEP_FLAG+", "+t[2]+" "+t[3];var s=this._getPathColor(r);i.openStart("path");i.class("sapSuiteRMCPath");if(r._isValueColorValid()||s==="sapSuiteRMCRemainingCircle"){i.class(s)}else{i.attr("stroke",n.get(s)||s)}i.attr("d",a);i.attr("fill","transparent");i.attr("stroke-width",_.RING_WIDTH+"px");i.openEnd().close("path")};_._writePath2=function(e,t,r,i){var a="M"+t[2]+" "+t[3]+" A "+_.RING_CORE_RADIUS+" "+_.RING_CORE_RADIUS+", "+_.X_ROTATION+", "+(1-e)+", "+_.SWEEP_FLAG+", "+t[0]+" "+t[1];i.openStart("path");i.class("sapSuiteRMCPath");i.class("sapSuiteRMCRemainingCircle");i.attr("d",a);i.attr("fill","transparent");i.attr("stroke-width",_.RING_WIDTH+"px");i.openEnd().close("path")};_._writeLabelInside=function(e,t){t.openStart("div");t.class("sapSuiteRMCInsideLabel");t.class("sapSuiteRMCFont");t.class(this._getTextColorClass(e));t.openEnd();t.unsafeHtml(this._generateTextContent(e));t.close("div")};_._writeLabelOutside=function(e,t){t.openStart("div");t.class("sapSuiteRMCOutsideLabel");t.class("sapSuiteRMCFont");t.class("sapSuiteRMCLabelHide");t.class(this._getTextColorClass(e));t.openEnd();t.unsafeHtml(this._generateTextContent(e));t.close("div")};_._renderingOfInnerContentIsRequired=function(e){return e._hasData()};_._getVerticalViewboxCenterFactorForText=function(){if(e.browser.mozilla){return"57%"}else{return"51%"}};_._innerCircleRequired=function(e){return e.getPercentage()>=100||e.getPercentage()<=0};_._calculatePathCoordinates=function(e,t,r){var i=[];var a=0;var n=_.FORM_RATIO/2;if(r){a=2*_.PADDING_WIDTH/100*2*Math.PI}i.push(n+_.RING_CORE_RADIUS*Math.cos(-Math.PI/2-a));i.push(n+_.RING_CORE_RADIUS*Math.sin(-Math.PI/2-a));i.push(n+_.RING_CORE_RADIUS*Math.cos(-Math.PI/2+t/100*2*Math.PI));i.push(n+_.RING_CORE_RADIUS*Math.sin(-Math.PI/2+t/100*2*Math.PI));return i};_._getPercentageForCircleRendering=function(e){var t=e.getPercentage();var r=t;if(t>99-_.PADDING_WIDTH){r=99-_.PADDING_WIDTH}if(t<1+_.PADDING_WIDTH){r=1+_.PADDING_WIDTH}return r};_._getTextColorClass=function(e){switch(e.getValueColor()){case s.Good:return"sapSuiteRMCGoodTextColor";case s.Error:return"sapSuiteRMCErrorTextColor";case s.Critical:return"sapSuiteRMCCriticalTextColor";default:return"sapSuiteRMCNeutralTextColor"}};_._getFullCircleColor=function(e){if(e.getPercentage()>=100){return this._getPathColor(e)}if(e.getPercentage()<=0){return"sapSuiteRMCRemainingCircle"}};_._getPathColor=function(e){var t=e.getValueColor();if(e._isValueColorValid()){switch(t){case s.Good:return"sapSuiteRMCPathGood";case s.Error:return"sapSuiteRMCPathError";case s.Critical:return"sapSuiteRMCPathCritical";default:return"sapSuiteRMCPathNeutral"}}else{return t}};_._generateTextContent=function(e){if(e.getPercentage()===100){return e._oRb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100])}if(e.getPercentage()===0){return e._oRb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0])}if(e.getPercentage()>=100){i.error("Values over 100%("+e.getPercentage()+"%) are not supported");return e._oRb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[100])}if(e.getPercentage()<=0){i.error("Values below 0%("+e.getPercentage()+"%) are not supported");return e._oRb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[0])}return e._oRb.getText("RADIALMICROCHART_PERCENTAGE_TEXT",[e.getPercentage()])};a.extendMicroChartRenderer(_);return _},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/StackedBarMicroChart", ["sap/ui/thirdparty/jquery","./library","sap/ui/core/Control","sap/m/library","sap/m/FlexBox","sap/suite/ui/microchart/MicroChartUtils","sap/ui/core/ResizeHandler","./StackedBarMicroChartRenderer","sap/ui/core/Core","sap/ui/core/Theming","sap/ui/core/Lib"],function(jQuery,t,e,i,r,a,o,s,n,l,p){"use strict";var u=i.Size;var h=i.ValueColor;var d=e.extend("sap.suite.ui.microchart.StackedBarMicroChart",{metadata:{library:"sap.suite.ui.microchart",properties:{size:{type:"sap.m.Size",group:"Appearance",defaultValue:u.Auto},maxValue:{type:"float",group:"Appearance",defaultValue:null},precision:{type:"int",group:"Appearance",defaultValue:1},displayZeroValue:{type:"boolean",group:"Appearance",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Misc"},height:{type:"sap.ui.core.CSSSize",group:"Misc"},showLabels:{type:"boolean",group:"Misc",defaultValue:true},hideOnNoData:{type:"boolean",group:"Appearance",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"bars",aggregations:{bars:{type:"sap.suite.ui.microchart.StackedBarMicroChartBar",multiple:true,bindable:"bindable"}},events:{press:{}}},renderer:s});d.THRESHOLD_SMALL_LOOK=1.125;d.BAR_COLOR_PARAM_DEFAULT="sapUiChartPaletteQualitativeHue";d.BAR_LABEL_CSSCLASS=".sapSuiteStackedMCBarLabel";d.BAR_CSSCLASS=".sapSuiteStackedMCBar";d.prototype.attachEvent=function(){e.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapSuiteUiMicroChartPointer")}return this};d.prototype.detachEvent=function(){e.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapSuiteUiMicroChartPointer")}return this};d.prototype.onclick=function(t){if(this.hasListeners("press")){t.stopPropagation();this.firePress()}};d.prototype.onsapspace=d.prototype.onclick;d.prototype.onsapenter=d.prototype.onclick;d.prototype.setMaxValue=function(t){var e=jQuery.isNumeric(t);this.setProperty("maxValue",e?t:null);return this};d.prototype.setTooltip=function(t){this._title=null;this.setAggregation("tooltip",t,true);return this};d.prototype._getAccessibilityControlType=function(){return this._oRb.getText("ACC_CTR_TYPE_STACKEDBARMICROCHART")};d.prototype.init=function(){this._oRb=p.getResourceBundleFor("sap.suite.ui.microchart");this.setAggregation("tooltip","((AltText))",true);this._bThemeApplied=false;n.ready(this._handleCoreInitialized.bind(this))};d.prototype._handleCoreInitialized=function(){l.attachApplied(this._handleThemeApplied.bind(this))};d.prototype._handleThemeApplied=function(){this._bThemeApplied=true;this.invalidate()};d.prototype.onBeforeRendering=function(){if(this._sChartResizeHandlerId){o.deregister(this._sChartResizeHandlerId)}this.$().off("mouseenter");this.$().off("mouseleave")};d.prototype.onAfterRendering=function(){t._checkControlIsVisible(this,this._onControlIsVisible)};d.prototype._onControlIsVisible=function(){this._sChartResizeHandlerId=o.register(this,this._onResize.bind(this));this._onResize();this.$().on("mouseenter",this._addTitleAttribute.bind(this));this.$().on("mouseleave",this._removeTitleAttribute.bind(this))};d.prototype.exit=function(){o.deregister(this._sChartResizeHandlerId);l.detachApplied(this._handleThemeApplied.bind(this))};d.prototype._getLocalizedColorMeaning=function(t){return this._oRb.getText(("SEMANTIC_COLOR_"+t).toUpperCase())};d.prototype._calculateChartData=function(){var t=[];var e=this.getBars();var i=e.length;var r=12;var a=1;var o=this.getPrecision();var s=function(){if(r){if(a===r){a=1}return d.BAR_COLOR_PARAM_DEFAULT+a++}};var n=0;var l=this.getMaxValue();var p=0;for(p;p<i;p++){if(!isNaN(e[p].getValue())){n=n+e[p].getValue()}}var u=Math.max(l,n);var h=l>=n;var c=0;var _=0;var f;for(p=0;p<i;p++){f={oBarData:e[p]};f.color=e[p].getValueColor();if(!f.color){f.color=s()}var g=isNaN(e[p].getValue())?0:e[p].getValue();var y=u===0?0:g*100/u;f.value=this._roundFloat(y,o);f.width=this._roundFloat(y,2);c=c+f.value;_=_+f.width;if(h){f.displayValue=e[p].getDisplayValue()||String(g)}else{f.displayValue=e[p].getDisplayValue()||String(f.value+"%")}t.push(f)}c=this._roundFloat(c,o);_=this._roundFloat(_,2);var C;if(_>100&&t.length>0){C=t.slice(0).sort(function(t,e){return e.width-t.width})[0];C.width=this._roundFloat(C.width-_+100,2)}var A=function(t){return t.some(function(t){return t.width>0})};if(l>n){f={value:this._roundFloat(100-c,o),width:this._roundFloat(100-_,2)};t.push(f)}else if(t.length>0&&_<100&&(!this.getDisplayZeroValue()||A(t))){C=t.slice(0).sort(function(t,e){return e.width-t.width})[0];C.width=this._roundFloat(C.width-_+100,2)}return t};d.prototype._roundFloat=function(t,e){return parseFloat(t.toFixed(e))};d.prototype._onResize=function(){this._resizeVertically();this._resizeHorizontally()};d.prototype._resizeVertically=function(){var t=this.$();var e=parseFloat(t.height());if(e<=this.convertRemToPixels(d.THRESHOLD_SMALL_LOOK)){t.addClass("sapSuiteStackedMCSmallLook")}else{t.removeClass("sapSuiteStackedMCSmallLook")}};d.prototype._resizeHorizontally=function(){this._hideTruncatedLabels(d.BAR_LABEL_CSSCLASS)};d.prototype._hideTruncatedLabels=function(t){var e=this.$();var i=e.find(t);i.removeClass("sapSuiteStackedMCBarLabelHidden");for(var r=0;r<i.length;r++){if(this._isLabelTruncated(i[r])){e.find(i[r]).addClass("sapSuiteStackedMCBarLabelHidden")}}};d.prototype._getAltHeaderText=function(e){var i=this._calculateChartData(),r=this._oRb.getText("STACKEDBARMICROCHART");if(e){r+=" "+this._oRb.getText("IS_ACTIVE")}r+="\n";if(!this._hasData()){r+=this._oRb.getText("NO_DATA");return r}var a,o,s,n=false;for(var l=0;l<i.length;l++){a=i[l];o=a.oBarData;s=o&&o.getTooltip_AsString();if(t._isTooltipSuppressed(s)){continue}if(n){r+="\n"}n=true;if(s){r+=s}else if(a.displayValue){r+=a.displayValue;if(h[a.color]){r+=" "+this._getLocalizedColorMeaning(a.color)}}}return r};d.prototype._isTooltipSuppressed=function(){var t=this.getTooltip_AsString();return t&&t.trim().length===0};d.prototype._addTitleAttribute=function(){if(this.$().attr("title")){return}if(!this._title&&this._hasData()){this._title=this.getTooltip_AsString()}if(this._title){this.$().attr("title",this._title)}};d.prototype._removeTitleAttribute=function(){if(this.$().attr("title")){this._title=this.$().attr("title");this.$().removeAttr("title")}};d.prototype._hasData=function(){return this.getBars().length>0};d.prototype.firePress=function(){if(this._hasData()){e.prototype.fireEvent.call(this,"press",arguments)}};a.extendMicroChart(d);return d});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/StackedBarMicroChartBar", ["sap/ui/thirdparty/jquery","./library","sap/ui/core/Element","sap/m/library"],function(jQuery,a,r,e){"use strict";var t=e.ValueCSSColor;var u=r.extend("sap.suite.ui.microchart.StackedBarMicroChartBar",{metadata:{library:"sap.suite.ui.microchart",properties:{value:{type:"float",group:"Data",defaultValue:"0"},valueColor:{type:"sap.m.ValueCSSColor",group:"Appearance",defaultValue:null},displayValue:{type:"string",group:"Data",defaultValue:null}}}});u.prototype.setValue=function(a,r){var e=jQuery.isNumeric(a);return this.setProperty("value",e?a:NaN,r)};u.prototype.setValueColor=function(a,r){var e=t.isValid(a);return this.setProperty("valueColor",e?a:null,r)};return u});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/StackedBarMicroChartRenderer", ["sap/m/library","sap/ui/core/theming/Parameters","./library","sap/suite/ui/microchart/MicroChartRenderUtils"],function(e,a,r,f){"use strict";var t=e.ValueColor;var i={apiVersion:2};i.LABEL_COLOR_LIGHT="#ffffff";i.LABEL_COLOR_DARK="#000000";i.COLORNAME_TO_HEX_MAP={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};i.SEMANTIC_COLORS={Good:"Positive",Error:"Negative"};i.render=function(e,a){if(a._hasData()){var r=a._calculateChartData();if(!a._bThemeApplied){return}this._aBars=a.getAggregation("bars");e.openStart("div",a);this._writeMainProperties(e,a);var f=a.getTooltip_AsString();if(f&&typeof f==="string"){e.attr("title",f)}e.openEnd();this._renderInnerContent(e,a,r);e.close("div")}else{this._renderNoData(e,a)}};i._writeMainProperties=function(e,a){var r=a.hasListeners("press");this._renderActiveProperties(e,a);e.attr("role","figure");if(a.getAriaLabelledBy().length){e.accessibilityState(a)}else{e.attr("aria-label",a.getTooltip_AsString(r))}e.class("sapSuiteStackedMC");e.class("sapSuiteStackedMCSize"+a.getSize());e.style("width",a.getWidth());e.style("height",a.getHeight())};i._renderInnerContent=function(e,a,r){e.openStart("div");e.class("sapSuiteStackedMCContainer");e.openEnd();for(var f=0;f<r.length;f++){this._renderChartBar(e,a,r[f],f)}e.close("div")};i._renderChartBar=function(e,r,f){if(!r.getDisplayZeroValue()&&f.width===0){return}var i,l=r.getShowLabels();if(f.oBarData){e.openStart("div",f.oBarData)}else{e.openStart("div")}e.class("sapSuiteStackedMCBar");if(!f.color){e.style("background-color","transparent")}else if(t[f.color]){e.class("sapSuiteStackedMCBarSemanticColor"+f.color);i=a.get(this._getValueCssParameter(f.color))}else{i=a.get(f.color);if(!i){i=f.color}e.style("background-color",i)}e.style("width",f.width+"%");e.openEnd();if(i&&l){this._renderChartBarLabel(e,r,f.displayValue,i)}e.close("div")};i._renderChartBarLabel=function(e,a,r,f){if(!r){return}e.openStart("div");e.class("sapSuiteStackedMCBarLabel");e.style("color",this._getLabelColor(f));e.openEnd();e.text(r);e.close("div")};i._getLabelColor=function(e){var a=this._colorNameToHex(e);if(!a&&e.length===4){a="#"+new Array(3).join(e.substring(1,2))+new Array(3).join(e.substring(2,3))+new Array(3).join(e.substring(3,4))}else if(!a){a=e}var r=parseInt(a.substring(1,3),16),f=parseInt(a.substring(3,5),16),t=parseInt(a.substring(5,7),16);var l=(r*299+f*587+t*114)/1e3;if(l>127.5){return i.LABEL_COLOR_DARK}else{return i.LABEL_COLOR_LIGHT}};i._getValueCssParameter=function(e){var a=this.SEMANTIC_COLORS[e]||e;return"sapUi"+a+"Element"};i._colorNameToHex=function(e){return i.COLORNAME_TO_HEX_MAP[e]};f.extendMicroChartRenderer(i);return i},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/suite/ui/microchart/library", ["sap/ui/thirdparty/jquery","sap/ui/core/IntervalTrigger","sap/ui/core/Lib","sap/ui/core/Core","sap/ui/core/library","sap/m/library"],function(jQuery,i,a){"use strict";var r=a.init({name:"sap.suite.ui.microchart",version:"1.120.3",dependencies:["sap.ui.core","sap.m"],types:["sap.suite.ui.microchart.AreaMicroChartViewType","sap.suite.ui.microchart.BulletMicroChartModeType","sap.suite.ui.microchart.CommonBackgroundType","sap.suite.ui.microchart.ComparisonMicroChartViewType","sap.suite.ui.microchart.DeltaMicroChartViewType","sap.suite.ui.microchart.HorizontalAlignmentType","sap.suite.ui.microchart.LoadStateType","sap.suite.ui.microchart.LineType"],interfaces:[],controls:["sap.suite.ui.microchart.AreaMicroChart","sap.suite.ui.microchart.BulletMicroChart","sap.suite.ui.microchart.ColumnMicroChart","sap.suite.ui.microchart.ComparisonMicroChart","sap.suite.ui.microchart.DeltaMicroChart","sap.suite.ui.microchart.HarveyBallMicroChart","sap.suite.ui.microchart.LineMicroChart","sap.suite.ui.microchart.InteractiveBarChart","sap.suite.ui.microchart.InteractiveDonutChart","sap.suite.ui.microchart.InteractiveLineChart","sap.suite.ui.microchart.RadialMicroChart","sap.suite.ui.microchart.StackedBarMicroChart"],elements:["sap.suite.ui.microchart.AreaMicroChartPoint","sap.suite.ui.microchart.AreaMicroChartItem","sap.suite.ui.microchart.AreaMicroChartLabel","sap.suite.ui.microchart.BulletMicroChartData","sap.suite.ui.microchart.ColumnMicroChartData","sap.suite.ui.microchart.ColumnMicroChartLabel","sap.suite.ui.microchart.ComparisonMicroChartData","sap.suite.ui.microchart.HarveyBallMicroChartItem","sap.suite.ui.microchart.LineMicroChartPoint","sap.suite.ui.microchart.LineMicroChartEmphasizedPoint","sap.suite.ui.microchart.LineMicroChartLine","sap.suite.ui.microchart.InteractiveBarChartBar","sap.suite.ui.microchart.InteractiveDonutChartSegment","sap.suite.ui.microchart.InteractiveLineChartPoint","sap.suite.ui.microchart.StackedBarMicroChartBar"]});r.AreaMicroChartViewType={Normal:"Normal",Wide:"Wide"};r.BulletMicroChartModeType={Actual:"Actual",Delta:"Delta"};r.CommonBackgroundType={Lightest:"Lightest",ExtraLight:"ExtraLight",Light:"Light",MediumLight:"MediumLight",Medium:"Medium",Dark:"Dark",ExtraDark:"ExtraDark",Darkest:"Darkest",Transparent:"Transparent"};r.LineType={Solid:"Solid",Dashed:"Dashed",Dotted:"Dotted"};r.HorizontalAlignmentType={Left:"Left",Center:"Center",Right:"Right"};r.ComparisonMicroChartViewType={Normal:"Normal",Wide:"Wide",Responsive:"Responsive"};r.DeltaMicroChartViewType={Normal:"Normal",Wide:"Wide",Responsive:"Responsive"};r.LoadStateType={Loading:"Loading",Loaded:"Loaded",Failed:"Failed",Disabled:"Disabled"};r._aStandardMarginClassNames=["sapUiTinyMargin","sapUiSmallMargin","sapUiMediumMargin","sapUiLargeMargin","sapUiTinyMarginBeginEnd","sapUiTinyMarginTopBottom","sapUiSmallMarginBeginEnd","sapUiSmallMarginTopBottom","sapUiMediumMarginBeginEnd","sapUiMediumMarginTopBottom","sapUiLargeMarginBeginEnd","sapUiLargeMarginTopBottom","sapUiTinyMarginTop","sapUiTinyMarginBottom","sapUiTinyMarginBegin","sapUiTinyMarginEnd","sapUiSmallMarginTop","sapUiSmallMarginBottom","sapUiSmallMarginBegin","sapUiSmallMarginEnd","sapUiMediumMarginTop","sapUiMediumMarginBottom","sapUiMediumMarginBegin","sapUiMediumMarginEnd","sapUiLargeMarginTop","sapUiLargeMarginBottom","sapUiLargeMarginBegin","sapUiLargeMarginEnd","sapUiResponsiveMargin","sapUiNoMargin","sapUiNoMarginTop","sapUiNoMarginBottom","sapUiNoMarginBegin","sapUiNoMarginEnd"];r._removeStandardMargins=function(i){for(var a=0;a<r._aStandardMarginClassNames.length;a++){if(i.hasStyleClass(r._aStandardMarginClassNames[a])){i.removeStyleClass(r._aStandardMarginClassNames[a])}}};r._passParentContextToChild=function(i,a){if(i.data("_parentRenderingContext")){a.data("_parentRenderingContext",i.data("_parentRenderingContext"))}else if(typeof i.getParent==="function"){a.data("_parentRenderingContext",i.getParent())}};r._isTooltipSuppressed=function(i){return i!==null&&i!==undefined&&!i.trim()};r._checkControlIsVisible=function(a,r){function e(){return a.getVisible()&&a.getDomRef()&&a.$().is(":visible")&&a.getDomRef().getBoundingClientRect().width!==0}function t(){if(e()){i.removeListener(t);r.call(a)}}var o=a.exit;a.exit=function(){i.removeListener(t);if(o){o.call(a)}};if(e()){r.call(a)}else{i.addListener(t)}};return r});
sap.ui.require.preload({
	"sap/suite/ui/microchart/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.suite.ui.microchart","type":"library","embeds":[],"applicationVersion":{"version":"1.120.3"},"title":"UI5 library: sap.suite.ui.microchart","description":"UI5 library: sap.suite.ui.microchart","ach":"CA-UI5-SC","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.120","libs":{"sap.ui.core":{"minVersion":"1.120.3"},"sap.m":{"minVersion":"1.120.3"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.suite.ui.microchart.AreaMicroChart","sap.suite.ui.microchart.BulletMicroChart","sap.suite.ui.microchart.ColumnMicroChart","sap.suite.ui.microchart.ComparisonMicroChart","sap.suite.ui.microchart.DeltaMicroChart","sap.suite.ui.microchart.HarveyBallMicroChart","sap.suite.ui.microchart.LineMicroChart","sap.suite.ui.microchart.InteractiveBarChart","sap.suite.ui.microchart.InteractiveDonutChart","sap.suite.ui.microchart.InteractiveLineChart","sap.suite.ui.microchart.RadialMicroChart","sap.suite.ui.microchart.StackedBarMicroChart"],"elements":["sap.suite.ui.microchart.AreaMicroChartPoint","sap.suite.ui.microchart.AreaMicroChartItem","sap.suite.ui.microchart.AreaMicroChartLabel","sap.suite.ui.microchart.BulletMicroChartData","sap.suite.ui.microchart.ColumnMicroChartData","sap.suite.ui.microchart.ColumnMicroChartLabel","sap.suite.ui.microchart.ComparisonMicroChartData","sap.suite.ui.microchart.HarveyBallMicroChartItem","sap.suite.ui.microchart.LineMicroChartPoint","sap.suite.ui.microchart.LineMicroChartEmphasizedPoint","sap.suite.ui.microchart.LineMicroChartLine","sap.suite.ui.microchart.InteractiveBarChartBar","sap.suite.ui.microchart.InteractiveDonutChartSegment","sap.suite.ui.microchart.InteractiveLineChartPoint","sap.suite.ui.microchart.StackedBarMicroChartBar"],"types":["sap.suite.ui.microchart.AreaMicroChartViewType","sap.suite.ui.microchart.BulletMicroChartModeType","sap.suite.ui.microchart.CommonBackgroundType","sap.suite.ui.microchart.ComparisonMicroChartViewType","sap.suite.ui.microchart.DeltaMicroChartViewType","sap.suite.ui.microchart.HorizontalAlignmentType","sap.suite.ui.microchart.LoadStateType","sap.suite.ui.microchart.LineType"],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
