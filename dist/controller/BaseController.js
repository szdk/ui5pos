sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/m/Dialog","sap/m/Button","sap/m/Text","ui5pos/szdk/controller/util/InputCheck","sap/ui/model/SimpleType"],function(t,e,o,i,n,s,a){"use strict";return t.extend("ui5pos.szdk.controller.BaseController",{inputCheck:s,onInit:function(){this.comp=this.getOwnerComponent();this.i18n=this.comp.getModel("lang").getResourceBundle();this.inputCheck.setResourceBundel(this.i18n)},goBack:function(t="home",o={}){let i=e.getInstance().getPreviousHash();if(i!==undefined)window.history.go(-1);else this.comp.getRouter().navTo(t,o,true)},showErrorDialog:function(t){this.showDialog(t,sap.ui.core.ValueState.Error)},showInfoDialog:function(t){this.showDialog(t,sap.ui.core.ValueState.Information)},showSuccessDialog:function(t){this.showDialog(t,sap.ui.core.ValueState.Success)},showWarningDialog:function(t){this.showDialog(t,sap.ui.core.ValueState.Warning)},showDialog:function(t,e=sap.ui.core.ValueState.Error){t=t||{};t.title=t.title||this.i18n.getText({[sap.ui.core.ValueState.Error]:"error",[sap.ui.core.ValueState.Information]:"information",[sap.ui.core.ValueState.Warning]:"warning",[sap.ui.core.ValueState.Success]:"success"}[e]);t.buttonClose=t.buttonClose||t.onConfirm?this.i18n.getText("cancel"):this.i18n.getText("close");t.buttonConfirm=t.buttonConfirm||this.i18n.getText("confirm");t.message=t.message||[this.i18n.getText("an_error_occurred")];t.onClose=t.onClose;t.onConfirm=t.onConfirm;if(typeof t.message=="string")t.message=[t.message];let s=[];for(let e of t.message){if(typeof e=="string")s.push(new n({text:e}))}let a=new i({type:t.onConfirm?sap.m.ButtonType.Transparent:sap.m.ButtonType.Emphasized,text:t.buttonClose,press:()=>{this._Dialog.close();this._Dialog.destroyBeginButton().destroyEndButton().destroyContent();if(t.onClose)t.onClose()}});let r=!t.onConfirm?undefined:new i({type:sap.m.ButtonType.Emphasized,text:t.buttonConfirm,press:()=>{this._Dialog.close();this._Dialog.destroyBeginButton().destroyEndButton().destroyContent();if(t.onConfirm)t.onConfirm()}});if(!this._Dialog){this._Dialog=new o({type:sap.m.DialogType.Message,state:e,title:t.title,content:s,beginButton:r,endButton:a})}else{this._Dialog.setTitle(t.title);if(r)this._Dialog.setBeginButton(r);this._Dialog.setEndButton(a);this._Dialog.setState(e);for(let t of s)this._Dialog.addContent(t)}this._Dialog.open()}})});
//# sourceMappingURL=BaseController.js.map