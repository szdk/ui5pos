sap.ui.define(["ui5pos/szdk/controller/BaseController","ui5pos/szdk/controller/util/Settings","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";return e.extend("ui5pos.szdk.controller.App",{onInit:function(){e.prototype.onInit.apply(this,arguments);document.body.classList.remove("szdk-loading");let t=this.comp.getModel("settings");let r=new o({serviceCreated:false,serviceIsMock:true,generateID:t.getProperty("/odata/generateID"),updateQuantity:t.getProperty("/odata/updateQuantity"),theme:t.getProperty("/theme"),lang:t.getProperty("/lang"),density:t.getProperty("/density")});this.getView().setModel(r,"tmp_settings");this.comp.szdk_serviceCreated.then(()=>{r.setProperty("/serviceCreated",true);r.setProperty("/serviceIsMock",t.getProperty("/odata/useMock"));r.setProperty("/generateID",t.getProperty("/odata/generateID"));r.setProperty("/updateQuantity",t.getProperty("/odata/updateQuantity"))});this.bindSideNavTarget()},onPressAvatar:function(e){this.byId("avatar-popover").openBy(e.getSource())},onPressAbout:function(){this.byId("about-dialog").open()},onPressCloseAbout:function(){this.byId("about-dialog").close()},onPressSettings:function(){let e=this.getView().getModel("tmp_settings");let t=this.comp.getModel("settings");e.setProperty("/theme",t.getProperty("/theme"));e.setProperty("/lang",t.getProperty("/lang"));e.setProperty("/density",t.getProperty("/density"));e.setProperty("/generateID",t.getProperty("/odata/generateID"));e.setProperty("/updateQuantity",t.getProperty("/odata/updateQuantity"));this.byId("settings-dialog").open()},onPressSaveSettings:function(){let e=this.getView().getModel("tmp_settings");let o={odata:{generateID:e.getProperty("/generateID"),updateQuantity:e.getProperty("/updateQuantity")},theme:e.getProperty("/theme"),lang:e.getProperty("/lang"),density:e.getProperty("/density")};t.updateSettings(o,this.comp.getModel("settings"));this.byId("settings-dialog").close()},onCloseSettings:function(){this.byId("settings-dialog").close()},bindSideNavTarget:function(){let e=this.comp.getRouter();if(this.comp.getModel("device").getProperty("/system/desktop")){let t=this.byId("app_side_nav_list");if(t)t.attachItemSelect(t=>{let o=t.getParameters().item;if(!o)return;let r=o.getKey();if(!r||!r.startsWith("nav_item_route_"))return;e.navTo(r.substring(15))})}else{for(let t of["create_order","orders","products","create_product"]){let o=this.byId(`app_nav_route_${t}`);if(o)o.attachSelect(()=>{this.comp.getModel("nav").setProperty("/sideNav/expanded",false);e.navTo(t)})}}},onSideNavButtonPress:function(){let e=this.comp.getModel("nav");e.setProperty("/sideNav/expanded",!e.getProperty("/sideNav/expanded"))}})});
//# sourceMappingURL=App.controller.js.map